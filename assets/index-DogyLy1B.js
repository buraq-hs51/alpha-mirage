function e(e,t){for(var n=0;n<t.length;n++){const r=t[n];if("string"!=typeof r&&!Array.isArray(r))for(const t in r)if("default"!==t&&!(t in e)){const n=Object.getOwnPropertyDescriptor(r,t);n&&Object.defineProperty(e,t,n.get?n:{enumerable:!0,get:()=>r[t]})}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const n of e)if("childList"===n.type)for(const e of n.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function n(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function r(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if("function"==typeof t){var n=function e(){var n=!1;try{n=this instanceof e}catch{}return n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(t){var r=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(n,t,r.get?r:{enumerable:!0,get:function(){return e[t]}})}),n}var a,i,s={exports:{}},o={};var l,c,u=(i||(i=1,s.exports=function(){if(a)return o;a=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(t,n,r){var a=null;if(void 0!==r&&(a=""+r),void 0!==n.key&&(a=""+n.key),"key"in n)for(var i in r={},n)"key"!==i&&(r[i]=n[i]);else r=n;return n=r.ref,{$$typeof:e,type:t,key:a,ref:void 0!==n?n:null,props:r}}return o.Fragment=t,o.jsx=n,o.jsxs=n,o}()),s.exports),h={exports:{}},d={},p={exports:{}},f={};function m(){return c||(c=1,p.exports=(l||(l=1,function(e){function t(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function n(e){return 0===e.length?null:e[0]}function r(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,s=i>>>1;r<s;){var o=2*(r+1)-1,l=e[o],c=o+1,u=e[c];if(0>a(l,n))c<i&&0>a(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[o]=n,r=o);else{if(!(c<i&&0>a(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(e.unstable_now=void 0,"object"==typeof performance&&"function"==typeof performance.now){var i=performance;e.unstable_now=function(){return i.now()}}else{var s=Date,o=s.now();e.unstable_now=function(){return s.now()-o}}var l=[],c=[],u=1,h=null,d=3,p=!1,f=!1,m=!1,g=!1,y="function"==typeof setTimeout?setTimeout:null,x="function"==typeof clearTimeout?clearTimeout:null,b="undefined"!=typeof setImmediate?setImmediate:null;function v(e){for(var a=n(c);null!==a;){if(null===a.callback)r(c);else{if(!(a.startTime<=e))break;r(c),a.sortIndex=a.expirationTime,t(l,a)}a=n(c)}}function w(e){if(m=!1,v(e),!f)if(null!==n(l))f=!0,S||(S=!0,k());else{var t=n(c);null!==t&&I(w,t.startTime-e)}}var k,S=!1,N=-1,E=5,A=-1;function C(){return!(!g&&e.unstable_now()-A<E)}function j(){if(g=!1,S){var t=e.unstable_now();A=t;var a=!0;try{e:{f=!1,m&&(m=!1,x(N),N=-1),p=!0;var i=d;try{t:{for(v(t),h=n(l);null!==h&&!(h.expirationTime>t&&C());){var s=h.callback;if("function"==typeof s){h.callback=null,d=h.priorityLevel;var o=s(h.expirationTime<=t);if(t=e.unstable_now(),"function"==typeof o){h.callback=o,v(t),a=!0;break t}h===n(l)&&r(l),v(t)}else r(l);h=n(l)}if(null!==h)a=!0;else{var u=n(c);null!==u&&I(w,u.startTime-t),a=!1}}break e}finally{h=null,d=i,p=!1}a=void 0}}finally{a?k():S=!1}}}if("function"==typeof b)k=function(){b(j)};else if("undefined"!=typeof MessageChannel){var M=new MessageChannel,T=M.port2;M.port1.onmessage=j,k=function(){T.postMessage(null)}}else k=function(){y(j,0)};function I(t,n){N=y(function(){t(e.unstable_now())},n)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(e){e.callback=null},e.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<e?Math.floor(1e3/e):5},e.unstable_getCurrentPriorityLevel=function(){return d},e.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},e.unstable_requestPaint=function(){g=!0},e.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},e.unstable_scheduleCallback=function(r,a,i){var s=e.unstable_now();switch(i="object"==typeof i&&null!==i&&"number"==typeof(i=i.delay)&&0<i?s+i:s,r){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return r={id:u++,callback:a,priorityLevel:r,startTime:i,expirationTime:o=i+o,sortIndex:-1},i>s?(r.sortIndex=i,t(c,r),null===n(l)&&r===n(c)&&(m?(x(N),N=-1):m=!0,I(w,i-s))):(r.sortIndex=o,t(l,r),f||p||(f=!0,S||(S=!0,k()))),r},e.unstable_shouldYield=C,e.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}}(f)),f)),p.exports}var g,y,x={exports:{}},b={};function v(){if(g)return b;g=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),i=Symbol.for("react.consumer"),s=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),c=Symbol.for("react.memo"),u=Symbol.for("react.lazy"),h=Symbol.for("react.activity"),d=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},f=Object.assign,m={};function y(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function x(){}function v(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},x.prototype=y.prototype;var w=v.prototype=new x;w.constructor=v,f(w,y.prototype),w.isPureReactComponent=!0;var k=Array.isArray;function S(){}var N={H:null,A:null,T:null,S:null},E=Object.prototype.hasOwnProperty;function A(t,n,r){var a=r.ref;return{$$typeof:e,type:t,key:n,ref:void 0!==a?a:null,props:r}}function C(t){return"object"==typeof t&&null!==t&&t.$$typeof===e}var j=/\/+/g;function M(e,t){return"object"==typeof e&&null!==e&&null!=e.key?(n=""+e.key,r={"=":"=0",":":"=2"},"$"+n.replace(/[=:]/g,function(e){return r[e]})):t.toString(36);var n,r}function T(n,r,a,i,s){var o=typeof n;"undefined"!==o&&"boolean"!==o||(n=null);var l,c,h=!1;if(null===n)h=!0;else switch(o){case"bigint":case"string":case"number":h=!0;break;case"object":switch(n.$$typeof){case e:case t:h=!0;break;case u:return T((h=n._init)(n._payload),r,a,i,s)}}if(h)return s=s(n),h=""===i?"."+M(n,0):i,k(s)?(a="",null!=h&&(a=h.replace(j,"$&/")+"/"),T(s,r,a,"",function(e){return e})):null!=s&&(C(s)&&(l=s,c=a+(null==s.key||n&&n.key===s.key?"":(""+s.key).replace(j,"$&/")+"/")+h,s=A(l.type,c,l.props)),r.push(s)),1;h=0;var p,f=""===i?".":i+":";if(k(n))for(var m=0;m<n.length;m++)h+=T(i=n[m],r,a,o=f+M(i,m),s);else if("function"==typeof(m=null===(p=n)||"object"!=typeof p?null:"function"==typeof(p=d&&p[d]||p["@@iterator"])?p:null))for(n=m.call(n),m=0;!(i=n.next()).done;)h+=T(i=i.value,r,a,o=f+M(i,m++),s);else if("object"===o){if("function"==typeof n.then)return T(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"==typeof e.status?e.then(S,S):(e.status="pending",e.then(function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)},function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(n),r,a,i,s);throw r=String(n),Error("Objects are not valid as a React child (found: "+("[object Object]"===r?"object with keys {"+Object.keys(n).join(", ")+"}":r)+"). If you meant to render a collection of children, use an array instead.")}return h}function I(e,t,n){if(null==e)return e;var r=[],a=0;return T(e,r,"","",function(e){return t.call(n,e,a++)}),r}function O(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var P="function"==typeof reportError?reportError:function(e){if("object"==typeof window&&"function"==typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"==typeof e&&null!==e&&"string"==typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"==typeof process&&"function"==typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)},R={map:I,forEach:function(e,t,n){I(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return I(e,function(){t++}),t},toArray:function(e){return I(e,function(e){return e})||[]},only:function(e){if(!C(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};return b.Activity=h,b.Children=R,b.Component=y,b.Fragment=n,b.Profiler=a,b.PureComponent=v,b.StrictMode=r,b.Suspense=l,b.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,b.__COMPILER_RUNTIME={__proto__:null,c:function(e){return N.H.useMemoCache(e)}},b.cache=function(e){return function(){return e.apply(null,arguments)}},b.cacheSignal=function(){return null},b.cloneElement=function(e,t,n){if(null==e)throw Error("The argument must be a React element, but you passed "+e+".");var r=f({},e.props),a=e.key;if(null!=t)for(i in void 0!==t.key&&(a=""+t.key),t)!E.call(t,i)||"key"===i||"__self"===i||"__source"===i||"ref"===i&&void 0===t.ref||(r[i]=t[i]);var i=arguments.length-2;if(1===i)r.children=n;else if(1<i){for(var s=Array(i),o=0;o<i;o++)s[o]=arguments[o+2];r.children=s}return A(e.type,a,r)},b.createContext=function(e){return(e={$$typeof:s,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:i,_context:e},e},b.createElement=function(e,t,n){var r,a={},i=null;if(null!=t)for(r in void 0!==t.key&&(i=""+t.key),t)E.call(t,r)&&"key"!==r&&"__self"!==r&&"__source"!==r&&(a[r]=t[r]);var s=arguments.length-2;if(1===s)a.children=n;else if(1<s){for(var o=Array(s),l=0;l<s;l++)o[l]=arguments[l+2];a.children=o}if(e&&e.defaultProps)for(r in s=e.defaultProps)void 0===a[r]&&(a[r]=s[r]);return A(e,i,a)},b.createRef=function(){return{current:null}},b.forwardRef=function(e){return{$$typeof:o,render:e}},b.isValidElement=C,b.lazy=function(e){return{$$typeof:u,_payload:{_status:-1,_result:e},_init:O}},b.memo=function(e,t){return{$$typeof:c,type:e,compare:void 0===t?null:t}},b.startTransition=function(e){var t=N.T,n={};N.T=n;try{var r=e(),a=N.S;null!==a&&a(n,r),"object"==typeof r&&null!==r&&"function"==typeof r.then&&r.then(S,P)}catch(i){P(i)}finally{null!==t&&null!==n.types&&(t.types=n.types),N.T=t}},b.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},b.use=function(e){return N.H.use(e)},b.useActionState=function(e,t,n){return N.H.useActionState(e,t,n)},b.useCallback=function(e,t){return N.H.useCallback(e,t)},b.useContext=function(e){return N.H.useContext(e)},b.useDebugValue=function(){},b.useDeferredValue=function(e,t){return N.H.useDeferredValue(e,t)},b.useEffect=function(e,t){return N.H.useEffect(e,t)},b.useEffectEvent=function(e){return N.H.useEffectEvent(e)},b.useId=function(){return N.H.useId()},b.useImperativeHandle=function(e,t,n){return N.H.useImperativeHandle(e,t,n)},b.useInsertionEffect=function(e,t){return N.H.useInsertionEffect(e,t)},b.useLayoutEffect=function(e,t){return N.H.useLayoutEffect(e,t)},b.useMemo=function(e,t){return N.H.useMemo(e,t)},b.useOptimistic=function(e,t){return N.H.useOptimistic(e,t)},b.useReducer=function(e,t,n){return N.H.useReducer(e,t,n)},b.useRef=function(e){return N.H.useRef(e)},b.useState=function(e){return N.H.useState(e)},b.useSyncExternalStore=function(e,t,n){return N.H.useSyncExternalStore(e,t,n)},b.useTransition=function(){return N.H.useTransition()},b.version="19.2.3",b}function w(){return y||(y=1,x.exports=v()),x.exports}var k,S,N,E,A={exports:{}},C={};function j(){if(k)return C;k=1;var e=w();function t(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");var i=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function s(e,t){return"font"===e?"":"string"==typeof t?"use-credentials"===t?t:"":void 0}return C.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,C.createPortal=function(e,n){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!n||1!==n.nodeType&&9!==n.nodeType&&11!==n.nodeType)throw Error(t(299));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:a,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,n,null,r)},C.flushSync=function(e){var t=i.T,n=r.p;try{if(i.T=null,r.p=2,e)return e()}finally{i.T=t,r.p=n,r.d.f()}},C.preconnect=function(e,t){"string"==typeof e&&(t?t="string"==typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:t=null,r.d.C(e,t))},C.prefetchDNS=function(e){"string"==typeof e&&r.d.D(e)},C.preinit=function(e,t){if("string"==typeof e&&t&&"string"==typeof t.as){var n=t.as,a=s(n,t.crossOrigin),i="string"==typeof t.integrity?t.integrity:void 0,o="string"==typeof t.fetchPriority?t.fetchPriority:void 0;"style"===n?r.d.S(e,"string"==typeof t.precedence?t.precedence:void 0,{crossOrigin:a,integrity:i,fetchPriority:o}):"script"===n&&r.d.X(e,{crossOrigin:a,integrity:i,fetchPriority:o,nonce:"string"==typeof t.nonce?t.nonce:void 0})}},C.preinitModule=function(e,t){if("string"==typeof e)if("object"==typeof t&&null!==t){if(null==t.as||"script"===t.as){var n=s(t.as,t.crossOrigin);r.d.M(e,{crossOrigin:n,integrity:"string"==typeof t.integrity?t.integrity:void 0,nonce:"string"==typeof t.nonce?t.nonce:void 0})}}else null==t&&r.d.M(e)},C.preload=function(e,t){if("string"==typeof e&&"object"==typeof t&&null!==t&&"string"==typeof t.as){var n=t.as,a=s(n,t.crossOrigin);r.d.L(e,n,{crossOrigin:a,integrity:"string"==typeof t.integrity?t.integrity:void 0,nonce:"string"==typeof t.nonce?t.nonce:void 0,type:"string"==typeof t.type?t.type:void 0,fetchPriority:"string"==typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"==typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"==typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"==typeof t.imageSizes?t.imageSizes:void 0,media:"string"==typeof t.media?t.media:void 0})}},C.preloadModule=function(e,t){if("string"==typeof e)if(t){var n=s(t.as,t.crossOrigin);r.d.m(e,{as:"string"==typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:n,integrity:"string"==typeof t.integrity?t.integrity:void 0})}else r.d.m(e)},C.requestFormReset=function(e){r.d.r(e)},C.unstable_batchedUpdates=function(e,t){return e(t)},C.useFormState=function(e,t,n){return i.H.useFormState(e,t,n)},C.useFormStatus=function(){return i.H.useHostTransitionStatus()},C.version="19.2.3",C}function M(){if(S)return A.exports;return S=1,function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),A.exports=j(),A.exports}function T(){if(N)return d;N=1;var e=m(),t=w(),n=M();function r(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function i(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{!!(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function s(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function o(e){if(31===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function l(e){if(i(e)!==e)throw Error(r(188))}function c(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=c(e)))return t;e=e.sibling}return null}var u=Object.assign,h=Symbol.for("react.element"),p=Symbol.for("react.transitional.element"),f=Symbol.for("react.portal"),g=Symbol.for("react.fragment"),y=Symbol.for("react.strict_mode"),x=Symbol.for("react.profiler"),b=Symbol.for("react.consumer"),v=Symbol.for("react.context"),k=Symbol.for("react.forward_ref"),S=Symbol.for("react.suspense"),E=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),j=Symbol.for("react.activity"),T=Symbol.for("react.memo_cache_sentinel"),I=Symbol.iterator;function O(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=I&&e[I]||e["@@iterator"])?e:null}var P=Symbol.for("react.client.reference");function R(e){if(null==e)return null;if("function"==typeof e)return e.$$typeof===P?null:e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case g:return"Fragment";case x:return"Profiler";case y:return"StrictMode";case S:return"Suspense";case E:return"SuspenseList";case j:return"Activity"}if("object"==typeof e)switch(e.$$typeof){case f:return"Portal";case v:return e.displayName||"Context";case b:return(e._context.displayName||"Context")+".Consumer";case k:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case A:return null!==(t=e.displayName||null)?t:R(e.type)||"Memo";case C:t=e._payload,e=e._init;try{return R(e(t))}catch(n){}}return null}var _=Array.isArray,L=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,F={pending:!1,data:null,method:null,action:null},D=[],z=-1;function V(e){return{current:e}}function B(e){0>z||(e.current=D[z],D[z]=null,z--)}function H(e,t){z++,D[z]=e.current,e.current=t}var U,W,Z=V(null),G=V(null),K=V(null),q=V(null);function X(e,t){switch(H(K,t),H(G,e),H(Z,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?bh(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)e=vh(t=bh(t),e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}B(Z),H(Z,e)}function Y(){B(Z),B(G),B(K)}function Q(e){null!==e.memoizedState&&H(q,e);var t=Z.current,n=vh(t,e.type);t!==n&&(H(G,e),H(Z,n))}function J(e){G.current===e&&(B(Z),B(G)),q.current===e&&(B(q),dd._currentValue=F)}function ee(e){if(void 0===U)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);U=t&&t[1]||"",W=-1<n.stack.indexOf("\n    at")?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+U+e+W}var te=!1;function ne(e,t){if(!e||te)return"";te=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(a){var r=a}Reflect.construct(e,[],n)}else{try{n.call()}catch(i){r=i}e.call(n.prototype)}}else{try{throw Error()}catch(s){r=s}(n=e())&&"function"==typeof n.catch&&n.catch(function(){})}}catch(o){if(o&&r&&"string"==typeof o.stack)return[o.stack,r.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var a=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");a&&a.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var i=r.DetermineComponentFrameRoot(),s=i[0],o=i[1];if(s&&o){var l=s.split("\n"),c=o.split("\n");for(a=r=0;r<l.length&&!l[r].includes("DetermineComponentFrameRoot");)r++;for(;a<c.length&&!c[a].includes("DetermineComponentFrameRoot");)a++;if(r===l.length||a===c.length)for(r=l.length-1,a=c.length-1;1<=r&&0<=a&&l[r]!==c[a];)a--;for(;1<=r&&0<=a;r--,a--)if(l[r]!==c[a]){if(1!==r||1!==a)do{if(r--,0>--a||l[r]!==c[a]){var u="\n"+l[r].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=r&&0<=a);break}}}finally{te=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?ee(n):""}function re(e,t){switch(e.tag){case 26:case 27:case 5:return ee(e.type);case 16:return ee("Lazy");case 13:return e.child!==t&&null!==t?ee("Suspense Fallback"):ee("Suspense");case 19:return ee("SuspenseList");case 0:case 15:return ne(e.type,!1);case 11:return ne(e.type.render,!1);case 1:return ne(e.type,!0);case 31:return ee("Activity");default:return""}}function ae(e){try{var t="",n=null;do{t+=re(e,n),n=e,e=e.return}while(e);return t}catch(r){return"\nError generating stack: "+r.message+"\n"+r.stack}}var ie=Object.prototype.hasOwnProperty,se=e.unstable_scheduleCallback,oe=e.unstable_cancelCallback,le=e.unstable_shouldYield,ce=e.unstable_requestPaint,ue=e.unstable_now,he=e.unstable_getCurrentPriorityLevel,de=e.unstable_ImmediatePriority,pe=e.unstable_UserBlockingPriority,fe=e.unstable_NormalPriority,me=e.unstable_LowPriority,ge=e.unstable_IdlePriority,ye=e.log,xe=e.unstable_setDisableYieldValue,be=null,ve=null;function we(e){if("function"==typeof ye&&xe(e),ve&&"function"==typeof ve.setStrictMode)try{ve.setStrictMode(be,e)}catch(t){}}var ke=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(Se(e)/Ne|0)|0},Se=Math.log,Ne=Math.LN2;var Ee=256,Ae=262144,Ce=4194304;function je(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return 261888&e;case 262144:case 524288:case 1048576:case 2097152:return 3932160&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Me(e,t,n){var r=e.pendingLanes;if(0===r)return 0;var a=0,i=e.suspendedLanes,s=e.pingedLanes;e=e.warmLanes;var o=134217727&r;return 0!==o?0!==(r=o&~i)?a=je(r):0!==(s&=o)?a=je(s):n||0!==(n=o&~e)&&(a=je(n)):0!==(o=r&~i)?a=je(o):0!==s?a=je(s):n||0!==(n=r&~e)&&(a=je(n)),0===a?0:0!==t&&t!==a&&0===(t&i)&&((i=a&-a)>=(n=t&-t)||32===i&&4194048&n)?t:a}function Te(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function Ie(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function Oe(){var e=Ce;return!(62914560&(Ce<<=1))&&(Ce=4194304),e}function Pe(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Re(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function _e(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-ke(t);e.entangledLanes|=t,e.entanglements[r]=1073741824|e.entanglements[r]|261930&n}function Le(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ke(n),a=1<<r;a&t|e[r]&t&&(e[r]|=t),n&=~a}}function $e(e,t){var n=t&-t;return 0!==((n=42&n?1:Fe(n))&(e.suspendedLanes|t))?0:n}function Fe(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function De(e){return 2<(e&=-e)?8<e?134217727&e?32:268435456:8:2}function ze(){var e=$.p;return 0!==e?e:void 0===(e=window.event)?32:jd(e.type)}function Ve(e,t){var n=$.p;try{return $.p=e,t()}finally{$.p=n}}var Be=Math.random().toString(36).slice(2),He="__reactFiber$"+Be,Ue="__reactProps$"+Be,We="__reactContainer$"+Be,Ze="__reactEvents$"+Be,Ge="__reactListeners$"+Be,Ke="__reactHandles$"+Be,qe="__reactResources$"+Be,Xe="__reactMarker$"+Be;function Ye(e){delete e[He],delete e[Ue],delete e[Ze],delete e[Ge],delete e[Ke]}function Qe(e){var t=e[He];if(t)return t;for(var n=e.parentNode;n;){if(t=n[We]||n[He]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Fh(e);null!==e;){if(n=e[He])return n;e=Fh(e)}return t}n=(e=n).parentNode}return null}function Je(e){if(e=e[He]||e[We]){var t=e.tag;if(5===t||6===t||13===t||31===t||26===t||27===t||3===t)return e}return null}function et(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(r(33))}function tt(e){var t=e[qe];return t||(t=e[qe]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function nt(e){e[Xe]=!0}var rt=new Set,at={};function it(e,t){st(e,t),st(e+"Capture",t)}function st(e,t){for(at[e]=t,e=0;e<t.length;e++)rt.add(t[e])}var ot=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),lt={},ct={};function ut(e,t,n){if(a=t,ie.call(ct,a)||!ie.call(lt,a)&&(ot.test(a)?ct[a]=!0:(lt[a]=!0,0)))if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var r=t.toLowerCase().slice(0,5);if("data-"!==r&&"aria-"!==r)return void e.removeAttribute(t)}e.setAttribute(t,""+n)}var a}function ht(e,t,n){if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+n)}}function dt(e,t,n,r){if(null===r)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(n)}e.setAttributeNS(t,n,""+r)}}function pt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function ft(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function mt(e){if(!e._valueTracker){var t=ft(e)?"checked":"value";e._valueTracker=function(e,t,n){var r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&void 0!==r&&"function"==typeof r.get&&"function"==typeof r.set){var a=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(e){n=""+e,i.call(this,e)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(e){n=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e,t,""+e[t])}}function gt(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=ft(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function yt(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var xt=/[\n"\\]/g;function bt(e){return e.replace(xt,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function vt(e,t,n,r,a,i,s,o){e.name="",null!=s&&"function"!=typeof s&&"symbol"!=typeof s&&"boolean"!=typeof s?e.type=s:e.removeAttribute("type"),null!=t?"number"===s?(0===t&&""===e.value||e.value!=t)&&(e.value=""+pt(t)):e.value!==""+pt(t)&&(e.value=""+pt(t)):"submit"!==s&&"reset"!==s||e.removeAttribute("value"),null!=t?kt(e,s,pt(t)):null!=n?kt(e,s,pt(n)):null!=r&&e.removeAttribute("value"),null==a&&null!=i&&(e.defaultChecked=!!i),null!=a&&(e.checked=a&&"function"!=typeof a&&"symbol"!=typeof a),null!=o&&"function"!=typeof o&&"symbol"!=typeof o&&"boolean"!=typeof o?e.name=""+pt(o):e.removeAttribute("name")}function wt(e,t,n,r,a,i,s,o){if(null!=i&&"function"!=typeof i&&"symbol"!=typeof i&&"boolean"!=typeof i&&(e.type=i),null!=t||null!=n){if(("submit"===i||"reset"===i)&&null==t)return void mt(e);n=null!=n?""+pt(n):"",t=null!=t?""+pt(t):n,o||t===e.value||(e.value=t),e.defaultValue=t}r="function"!=typeof(r=null!=r?r:a)&&"symbol"!=typeof r&&!!r,e.checked=o?e.checked:!!r,e.defaultChecked=!!r,null!=s&&"function"!=typeof s&&"symbol"!=typeof s&&"boolean"!=typeof s&&(e.name=s),mt(e)}function kt(e,t,n){"number"===t&&yt(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function St(e,t,n,r){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&r&&(e[n].defaultSelected=!0)}else{for(n=""+pt(n),t=null,a=0;a<e.length;a++){if(e[a].value===n)return e[a].selected=!0,void(r&&(e[a].defaultSelected=!0));null!==t||e[a].disabled||(t=e[a])}null!==t&&(t.selected=!0)}}function Nt(e,t,n){null==t||((t=""+pt(t))!==e.value&&(e.value=t),null!=n)?e.defaultValue=null!=n?""+pt(n):"":e.defaultValue!==t&&(e.defaultValue=t)}function Et(e,t,n,a){if(null==t){if(null!=a){if(null!=n)throw Error(r(92));if(_(a)){if(1<a.length)throw Error(r(93));a=a[0]}n=a}null==n&&(n=""),t=n}n=pt(t),e.defaultValue=n,(a=e.textContent)===n&&""!==a&&null!==a&&(e.value=a),mt(e)}function At(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var Ct=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function jt(e,t,n){var r=0===t.indexOf("--");null==n||"boolean"==typeof n||""===n?r?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":r?e.setProperty(t,n):"number"!=typeof n||0===n||Ct.has(t)?"float"===t?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Mt(e,t,n){if(null!=t&&"object"!=typeof t)throw Error(r(62));if(e=e.style,null!=n){for(var a in n)!n.hasOwnProperty(a)||null!=t&&t.hasOwnProperty(a)||(0===a.indexOf("--")?e.setProperty(a,""):"float"===a?e.cssFloat="":e[a]="");for(var i in t)a=t[i],t.hasOwnProperty(i)&&n[i]!==a&&jt(e,i,a)}else for(var s in t)t.hasOwnProperty(s)&&jt(e,s,t[s])}function Tt(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var It=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ot=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Pt(e){return Ot.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Rt(){}var _t=null;function Lt(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var $t=null,Ft=null;function Dt(e){var t=Je(e);if(t&&(e=t.stateNode)){var n=e[Ue]||null;e:switch(e=t.stateNode,t.type){case"input":if(vt(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+bt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var a=n[t];if(a!==e&&a.form===e.form){var i=a[Ue]||null;if(!i)throw Error(r(90));vt(a,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(t=0;t<n.length;t++)(a=n[t]).form===e.form&&gt(a)}break e;case"textarea":Nt(e,n.value,n.defaultValue);break e;case"select":null!=(t=n.value)&&St(e,!!n.multiple,t,!1)}}}var zt=!1;function Vt(e,t,n){if(zt)return e(t,n);zt=!0;try{return e(t)}finally{if(zt=!1,(null!==$t||null!==Ft)&&(tu(),$t&&(t=$t,e=Ft,Ft=$t=null,Dt(t),e)))for(t=0;t<e.length;t++)Dt(e[t])}}function Bt(e,t){var n=e.stateNode;if(null===n)return null;var a=n[Ue]||null;if(null===a)return null;n=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(a=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!a;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(r(231,t,typeof n));return n}var Ht=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),Ut=!1;if(Ht)try{var Wt={};Object.defineProperty(Wt,"passive",{get:function(){Ut=!0}}),window.addEventListener("test",Wt,Wt),window.removeEventListener("test",Wt,Wt)}catch(Jd){Ut=!1}var Zt=null,Gt=null,Kt=null;function qt(){if(Kt)return Kt;var e,t,n=Gt,r=n.length,a="value"in Zt?Zt.value:Zt.textContent,i=a.length;for(e=0;e<r&&n[e]===a[e];e++);var s=r-e;for(t=1;t<=s&&n[r-t]===a[i-t];t++);return Kt=a.slice(e,1<t?1-t:void 0)}function Xt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Yt(){return!0}function Qt(){return!1}function Jt(e){function t(t,n,r,a,i){for(var s in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=a,this.target=i,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(a):a[s]);return this.isDefaultPrevented=(null!=a.defaultPrevented?a.defaultPrevented:!1===a.returnValue)?Yt:Qt,this.isPropagationStopped=Qt,this}return u(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Yt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Yt)},persist:function(){},isPersistent:Yt}),t}var en,tn,nn,rn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},an=Jt(rn),sn=u({},rn,{view:0,detail:0}),on=Jt(sn),ln=u({},sn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:bn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==nn&&(nn&&"mousemove"===e.type?(en=e.screenX-nn.screenX,tn=e.screenY-nn.screenY):tn=en=0,nn=e),en)},movementY:function(e){return"movementY"in e?e.movementY:tn}}),cn=Jt(ln),un=Jt(u({},ln,{dataTransfer:0})),hn=Jt(u({},sn,{relatedTarget:0})),dn=Jt(u({},rn,{animationName:0,elapsedTime:0,pseudoElement:0})),pn=Jt(u({},rn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),fn=Jt(u({},rn,{data:0})),mn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},gn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=yn[e])&&!!t[e]}function bn(){return xn}var vn=Jt(u({},sn,{key:function(e){if(e.key){var t=mn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Xt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?gn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:bn,charCode:function(e){return"keypress"===e.type?Xt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Xt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),wn=Jt(u({},ln,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),kn=Jt(u({},sn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:bn})),Sn=Jt(u({},rn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Nn=Jt(u({},ln,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),En=Jt(u({},rn,{newState:0,oldState:0})),An=[9,13,27,32],Cn=Ht&&"CompositionEvent"in window,jn=null;Ht&&"documentMode"in document&&(jn=document.documentMode);var Mn=Ht&&"TextEvent"in window&&!jn,Tn=Ht&&(!Cn||jn&&8<jn&&11>=jn),In=String.fromCharCode(32),On=!1;function Pn(e,t){switch(e){case"keyup":return-1!==An.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Rn(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var _n=!1;var Ln={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $n(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Ln[e.type]:"textarea"===t}function Fn(e,t,n,r){$t?Ft?Ft.push(r):Ft=[r]:$t=r,0<(t=ih(t,"onChange")).length&&(n=new an("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Dn=null,zn=null;function Vn(e){Yu(e,0)}function Bn(e){if(gt(et(e)))return e}function Hn(e,t){if("change"===e)return t}var Un=!1;if(Ht){var Wn;if(Ht){var Zn="oninput"in document;if(!Zn){var Gn=document.createElement("div");Gn.setAttribute("oninput","return;"),Zn="function"==typeof Gn.oninput}Wn=Zn}else Wn=!1;Un=Wn&&(!document.documentMode||9<document.documentMode)}function Kn(){Dn&&(Dn.detachEvent("onpropertychange",qn),zn=Dn=null)}function qn(e){if("value"===e.propertyName&&Bn(zn)){var t=[];Fn(t,zn,e,Lt(e)),Vt(Vn,t)}}function Xn(e,t,n){"focusin"===e?(Kn(),zn=n,(Dn=t).attachEvent("onpropertychange",qn)):"focusout"===e&&Kn()}function Yn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Bn(zn)}function Qn(e,t){if("click"===e)return Bn(t)}function Jn(e,t){if("input"===e||"change"===e)return Bn(t)}var er="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t};function tr(e,t){if(er(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var a=n[r];if(!ie.call(t,a)||!er(e[a],t[a]))return!1}return!0}function nr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function rr(e,t){var n,r=nr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=nr(r)}}function ar(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?ar(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function ir(e){for(var t=yt((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=yt((e=t.contentWindow).document)}return t}function sr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var or=Ht&&"documentMode"in document&&11>=document.documentMode,lr=null,cr=null,ur=null,hr=!1;function dr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;hr||null==lr||lr!==yt(r)||("selectionStart"in(r=lr)&&sr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},ur&&tr(ur,r)||(ur=r,0<(r=ih(cr,"onSelect")).length&&(t=new an("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=lr)))}function pr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var fr={animationend:pr("Animation","AnimationEnd"),animationiteration:pr("Animation","AnimationIteration"),animationstart:pr("Animation","AnimationStart"),transitionrun:pr("Transition","TransitionRun"),transitionstart:pr("Transition","TransitionStart"),transitioncancel:pr("Transition","TransitionCancel"),transitionend:pr("Transition","TransitionEnd")},mr={},gr={};function yr(e){if(mr[e])return mr[e];if(!fr[e])return e;var t,n=fr[e];for(t in n)if(n.hasOwnProperty(t)&&t in gr)return mr[e]=n[t];return e}Ht&&(gr=document.createElement("div").style,"AnimationEvent"in window||(delete fr.animationend.animation,delete fr.animationiteration.animation,delete fr.animationstart.animation),"TransitionEvent"in window||delete fr.transitionend.transition);var xr=yr("animationend"),br=yr("animationiteration"),vr=yr("animationstart"),wr=yr("transitionrun"),kr=yr("transitionstart"),Sr=yr("transitioncancel"),Nr=yr("transitionend"),Er=new Map,Ar="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Cr(e,t){Er.set(e,t),it(t,[e])}Ar.push("scrollEnd");var jr="function"==typeof reportError?reportError:function(e){if("object"==typeof window&&"function"==typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"==typeof e&&null!==e&&"string"==typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"==typeof process&&"function"==typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)},Mr=[],Tr=0,Ir=0;function Or(){for(var e=Tr,t=Ir=Tr=0;t<e;){var n=Mr[t];Mr[t++]=null;var r=Mr[t];Mr[t++]=null;var a=Mr[t];Mr[t++]=null;var i=Mr[t];if(Mr[t++]=null,null!==r&&null!==a){var s=r.pending;null===s?a.next=a:(a.next=s.next,s.next=a),r.pending=a}0!==i&&Lr(n,a,i)}}function Pr(e,t,n,r){Mr[Tr++]=e,Mr[Tr++]=t,Mr[Tr++]=n,Mr[Tr++]=r,Ir|=r,e.lanes|=r,null!==(e=e.alternate)&&(e.lanes|=r)}function Rr(e,t,n,r){return Pr(e,t,n,r),$r(e)}function _r(e,t){return Pr(e,null,null,t),$r(e)}function Lr(e,t,n){e.lanes|=n;var r=e.alternate;null!==r&&(r.lanes|=n);for(var a=!1,i=e.return;null!==i;)i.childLanes|=n,null!==(r=i.alternate)&&(r.childLanes|=n),22===i.tag&&(null===(e=i.stateNode)||1&e._visibility||(a=!0)),e=i,i=i.return;return 3===e.tag?(i=e.stateNode,a&&null!==t&&(a=31-ke(n),null===(r=(e=i.hiddenUpdates)[a])?e[a]=[t]:r.push(t),t.lane=536870912|n),i):null}function $r(e){if(50<Zc)throw Zc=0,Gc=null,Error(r(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var Fr={};function Dr(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zr(e,t,n,r){return new Dr(e,t,n,r)}function Vr(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Br(e,t){var n=e.alternate;return null===n?((n=zr(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=65011712&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Hr(e,t){e.flags&=65011714;var n=e.alternate;return null===n?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Ur(e,t,n,a,i,s){var o=0;if(a=e,"function"==typeof e)Vr(e)&&(o=1);else if("string"==typeof e)o=function(e,t,n){if(1===n||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!=typeof t.precedence||"string"!=typeof t.href||""===t.href)break;return!0;case"link":if("string"!=typeof t.rel||"string"!=typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"==typeof t.precedence&&null==e);case"script":if(t.async&&"function"!=typeof t.async&&"symbol"!=typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"==typeof t.src)return!0}return!1}(e,n,Z.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case j:return(e=zr(31,n,t,i)).elementType=j,e.lanes=s,e;case g:return Wr(n.children,i,s,t);case y:o=8,i|=24;break;case x:return(e=zr(12,n,t,2|i)).elementType=x,e.lanes=s,e;case S:return(e=zr(13,n,t,i)).elementType=S,e.lanes=s,e;case E:return(e=zr(19,n,t,i)).elementType=E,e.lanes=s,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case v:o=10;break e;case b:o=9;break e;case k:o=11;break e;case A:o=14;break e;case C:o=16,a=null;break e}o=29,n=Error(r(130,null===e?"null":typeof e,"")),a=null}return(t=zr(o,n,t,i)).elementType=e,t.type=a,t.lanes=s,t}function Wr(e,t,n,r){return(e=zr(7,e,r,t)).lanes=n,e}function Zr(e,t,n){return(e=zr(6,e,null,t)).lanes=n,e}function Gr(e){var t=zr(18,null,null,0);return t.stateNode=e,t}function Kr(e,t,n){return(t=zr(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var qr=new WeakMap;function Xr(e,t){if("object"==typeof e&&null!==e){var n=qr.get(e);return void 0!==n?n:(t={value:e,source:t,stack:ae(t)},qr.set(e,t),t)}return{value:e,source:t,stack:ae(t)}}var Yr=[],Qr=0,Jr=null,ea=0,ta=[],na=0,ra=null,aa=1,ia="";function sa(e,t){Yr[Qr++]=ea,Yr[Qr++]=Jr,Jr=e,ea=t}function oa(e,t,n){ta[na++]=aa,ta[na++]=ia,ta[na++]=ra,ra=e;var r=aa;e=ia;var a=32-ke(r)-1;r&=~(1<<a),n+=1;var i=32-ke(t)+a;if(30<i){var s=a-a%5;i=(r&(1<<s)-1).toString(32),r>>=s,a-=s,aa=1<<32-ke(t)+a|n<<a|r,ia=i+e}else aa=1<<i|n<<a|r,ia=e}function la(e){null!==e.return&&(sa(e,1),oa(e,1,0))}function ca(e){for(;e===Jr;)Jr=Yr[--Qr],Yr[Qr]=null,ea=Yr[--Qr],Yr[Qr]=null;for(;e===ra;)ra=ta[--na],ta[na]=null,ia=ta[--na],ta[na]=null,aa=ta[--na],ta[na]=null}function ua(e,t){ta[na++]=aa,ta[na++]=ia,ta[na++]=ra,aa=t.id,ia=t.overflow,ra=e}var ha=null,da=null,pa=!1,fa=null,ma=!1,ga=Error(r(519));function ya(e){throw Sa(Xr(Error(r(418,1<arguments.length&&void 0!==arguments[1]&&arguments[1]?"text":"HTML","")),e)),ga}function xa(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[He]=e,t[Ue]=r,n){case"dialog":Qu("cancel",t),Qu("close",t);break;case"iframe":case"object":case"embed":Qu("load",t);break;case"video":case"audio":for(n=0;n<qu.length;n++)Qu(qu[n],t);break;case"source":Qu("error",t);break;case"img":case"image":case"link":Qu("error",t),Qu("load",t);break;case"details":Qu("toggle",t);break;case"input":Qu("invalid",t),wt(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0);break;case"select":Qu("invalid",t);break;case"textarea":Qu("invalid",t),Et(t,r.value,r.defaultValue,r.children)}"string"!=typeof(n=r.children)&&"number"!=typeof n&&"bigint"!=typeof n||t.textContent===""+n||!0===r.suppressHydrationWarning||hh(t.textContent,n)?(null!=r.popover&&(Qu("beforetoggle",t),Qu("toggle",t)),null!=r.onScroll&&Qu("scroll",t),null!=r.onScrollEnd&&Qu("scrollend",t),null!=r.onClick&&(t.onclick=Rt),t=!0):t=!1,t||ya(e,!0)}function ba(e){for(ha=e.return;ha;)switch(ha.tag){case 5:case 31:case 13:return void(ma=!1);case 27:case 3:return void(ma=!0);default:ha=ha.return}}function va(e){if(e!==ha)return!1;if(!pa)return ba(e),pa=!0,!1;var t,n=e.tag;if((t=3!==n&&27!==n)&&((t=5===n)&&(t=!("form"!==(t=e.type)&&"button"!==t)||wh(e.type,e.memoizedProps)),t=!t),t&&da&&ya(e),ba(e),13===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(r(317));da=$h(e)}else if(31===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(r(317));da=$h(e)}else 27===n?(n=da,jh(e.type)?(e=Lh,Lh=null,da=e):da=n):da=ha?_h(e.stateNode.nextSibling):null;return!0}function wa(){da=ha=null,pa=!1}function ka(){var e=fa;return null!==e&&(null===Oc?Oc=e:Oc.push.apply(Oc,e),fa=null),e}function Sa(e){null===fa?fa=[e]:fa.push(e)}var Na=V(null),Ea=null,Aa=null;function Ca(e,t,n){H(Na,t._currentValue),t._currentValue=n}function ja(e){e._currentValue=Na.current,B(Na)}function Ma(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ta(e,t,n,a){var i=e.child;for(null!==i&&(i.return=e);null!==i;){var s=i.dependencies;if(null!==s){var o=i.child;s=s.firstContext;e:for(;null!==s;){var l=s;s=i;for(var c=0;c<t.length;c++)if(l.context===t[c]){s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),Ma(s.return,n,e),a||(o=null);break e}s=l.next}}else if(18===i.tag){if(null===(o=i.return))throw Error(r(341));o.lanes|=n,null!==(s=o.alternate)&&(s.lanes|=n),Ma(o,n,e),o=null}else o=i.child;if(null!==o)o.return=i;else for(o=i;null!==o;){if(o===e){o=null;break}if(null!==(i=o.sibling)){i.return=o.return,o=i;break}o=o.return}i=o}}function Ia(e,t,n,a){e=null;for(var i=t,s=!1;null!==i;){if(!s)if(524288&i.flags)s=!0;else if(262144&i.flags)break;if(10===i.tag){var o=i.alternate;if(null===o)throw Error(r(387));if(null!==(o=o.memoizedProps)){var l=i.type;er(i.pendingProps.value,o.value)||(null!==e?e.push(l):e=[l])}}else if(i===q.current){if(null===(o=i.alternate))throw Error(r(387));o.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(null!==e?e.push(dd):e=[dd])}i=i.return}null!==e&&Ta(t,e,n,a),t.flags|=262144}function Oa(e){for(e=e.firstContext;null!==e;){if(!er(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Pa(e){Ea=e,Aa=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function Ra(e){return La(Ea,e)}function _a(e,t){return null===Ea&&Pa(e),La(e,t)}function La(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},null===Aa){if(null===e)throw Error(r(308));Aa=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Aa=Aa.next=t;return n}var $a="undefined"!=typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(e){return e()})}},Fa=e.unstable_scheduleCallback,Da=e.unstable_NormalPriority,za={$$typeof:v,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Va(){return{controller:new $a,data:new Map,refCount:0}}function Ba(e){e.refCount--,0===e.refCount&&Fa(Da,function(){e.controller.abort()})}var Ha=null,Ua=0,Wa=0,Za=null;function Ga(){if(0===--Ua&&null!==Ha){null!==Za&&(Za.status="fulfilled");var e=Ha;Ha=null,Wa=0,Za=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var Ka=L.S;L.S=function(e,t){_c=ue(),"object"==typeof t&&null!==t&&"function"==typeof t.then&&function(e,t){if(null===Ha){var n=Ha=[];Ua=0,Wa=Uu(),Za={status:"pending",value:void 0,then:function(e){n.push(e)}}}Ua++,t.then(Ga,Ga)}(0,t),null!==Ka&&Ka(e,t)};var qa=V(null);function Xa(){var e=qa.current;return null!==e?e:gc.pooledCache}function Ya(e,t){H(qa,null===t?qa.current:t.pool)}function Qa(){var e=Xa();return null===e?null:{parent:za._currentValue,pool:e}}var Ja=Error(r(460)),ei=Error(r(474)),ti=Error(r(542)),ni={then:function(){}};function ri(e){return"fulfilled"===(e=e.status)||"rejected"===e}function ai(e,t,n){switch(void 0===(n=e[n])?e.push(t):n!==t&&(t.then(Rt,Rt),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw li(e=t.reason),e;default:if("string"==typeof t.status)t.then(Rt,Rt);else{if(null!==(e=gc)&&100<e.shellSuspendCounter)throw Error(r(482));(e=t).status="pending",e.then(function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}},function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw li(e=t.reason),e}throw si=t,Ja}}function ii(e){try{return(0,e._init)(e._payload)}catch(t){if(null!==t&&"object"==typeof t&&"function"==typeof t.then)throw si=t,Ja;throw t}}var si=null;function oi(){if(null===si)throw Error(r(459));var e=si;return si=null,e}function li(e){if(e===Ja||e===ti)throw Error(r(483))}var ci=null,ui=0;function hi(e){var t=ui;return ui+=1,null===ci&&(ci=[]),ai(ci,e,t)}function di(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function pi(e,t){if(t.$$typeof===h)throw Error(r(525));throw e=Object.prototype.toString.call(t),Error(r(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function fi(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function a(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function i(e,t){return(e=Br(e,t)).index=0,e.sibling=null,e}function s(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=67108866,n):r:(t.flags|=67108866,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=67108866),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Zr(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var a=n.type;return a===g?h(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"==typeof a&&null!==a&&a.$$typeof===C&&ii(a)===t.type)?(di(t=i(t,n.props),n),t.return=e,t):(di(t=Ur(n.type,n.key,n.props,null,e.mode,r),n),t.return=e,t)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Kr(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function h(e,t,n,r,a){return null===t||7!==t.tag?((t=Wr(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n){if("string"==typeof t&&""!==t||"number"==typeof t||"bigint"==typeof t)return(t=Zr(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case p:return di(n=Ur(t.type,t.key,t.props,null,e.mode,n),t),n.return=e,n;case f:return(t=Kr(t,e.mode,n)).return=e,t;case C:return d(e,t=ii(t),n)}if(_(t)||O(t))return(t=Wr(t,e.mode,n,null)).return=e,t;if("function"==typeof t.then)return d(e,hi(t),n);if(t.$$typeof===v)return d(e,_a(e,t),n);pi(e,t)}return null}function m(e,t,n,r){var a=null!==t?t.key:null;if("string"==typeof n&&""!==n||"number"==typeof n||"bigint"==typeof n)return null!==a?null:l(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case p:return n.key===a?c(e,t,n,r):null;case f:return n.key===a?u(e,t,n,r):null;case C:return m(e,t,n=ii(n),r)}if(_(n)||O(n))return null!==a?null:h(e,t,n,r,null);if("function"==typeof n.then)return m(e,t,hi(n),r);if(n.$$typeof===v)return m(e,t,_a(e,n),r);pi(e,n)}return null}function y(e,t,n,r,a){if("string"==typeof r&&""!==r||"number"==typeof r||"bigint"==typeof r)return l(t,e=e.get(n)||null,""+r,a);if("object"==typeof r&&null!==r){switch(r.$$typeof){case p:return c(t,e=e.get(null===r.key?n:r.key)||null,r,a);case f:return u(t,e=e.get(null===r.key?n:r.key)||null,r,a);case C:return y(e,t,n,r=ii(r),a)}if(_(r)||O(r))return h(t,e=e.get(n)||null,r,a,null);if("function"==typeof r.then)return y(e,t,n,hi(r),a);if(r.$$typeof===v)return y(e,t,n,_a(t,r),a);pi(t,r)}return null}function x(l,c,u,h){if("object"==typeof u&&null!==u&&u.type===g&&null===u.key&&(u=u.props.children),"object"==typeof u&&null!==u){switch(u.$$typeof){case p:e:{for(var b=u.key;null!==c;){if(c.key===b){if((b=u.type)===g){if(7===c.tag){n(l,c.sibling),(h=i(c,u.props.children)).return=l,l=h;break e}}else if(c.elementType===b||"object"==typeof b&&null!==b&&b.$$typeof===C&&ii(b)===c.type){n(l,c.sibling),di(h=i(c,u.props),u),h.return=l,l=h;break e}n(l,c);break}t(l,c),c=c.sibling}u.type===g?((h=Wr(u.props.children,l.mode,h,u.key)).return=l,l=h):(di(h=Ur(u.type,u.key,u.props,null,l.mode,h),u),h.return=l,l=h)}return o(l);case f:e:{for(b=u.key;null!==c;){if(c.key===b){if(4===c.tag&&c.stateNode.containerInfo===u.containerInfo&&c.stateNode.implementation===u.implementation){n(l,c.sibling),(h=i(c,u.children||[])).return=l,l=h;break e}n(l,c);break}t(l,c),c=c.sibling}(h=Kr(u,l.mode,h)).return=l,l=h}return o(l);case C:return x(l,c,u=ii(u),h)}if(_(u))return function(r,i,o,l){for(var c=null,u=null,h=i,p=i=0,f=null;null!==h&&p<o.length;p++){h.index>p?(f=h,h=null):f=h.sibling;var g=m(r,h,o[p],l);if(null===g){null===h&&(h=f);break}e&&h&&null===g.alternate&&t(r,h),i=s(g,i,p),null===u?c=g:u.sibling=g,u=g,h=f}if(p===o.length)return n(r,h),pa&&sa(r,p),c;if(null===h){for(;p<o.length;p++)null!==(h=d(r,o[p],l))&&(i=s(h,i,p),null===u?c=h:u.sibling=h,u=h);return pa&&sa(r,p),c}for(h=a(h);p<o.length;p++)null!==(f=y(h,r,p,o[p],l))&&(e&&null!==f.alternate&&h.delete(null===f.key?p:f.key),i=s(f,i,p),null===u?c=f:u.sibling=f,u=f);return e&&h.forEach(function(e){return t(r,e)}),pa&&sa(r,p),c}(l,c,u,h);if(O(u)){if("function"!=typeof(b=O(u)))throw Error(r(150));return function(i,o,l,c){if(null==l)throw Error(r(151));for(var u=null,h=null,p=o,f=o=0,g=null,x=l.next();null!==p&&!x.done;f++,x=l.next()){p.index>f?(g=p,p=null):g=p.sibling;var b=m(i,p,x.value,c);if(null===b){null===p&&(p=g);break}e&&p&&null===b.alternate&&t(i,p),o=s(b,o,f),null===h?u=b:h.sibling=b,h=b,p=g}if(x.done)return n(i,p),pa&&sa(i,f),u;if(null===p){for(;!x.done;f++,x=l.next())null!==(x=d(i,x.value,c))&&(o=s(x,o,f),null===h?u=x:h.sibling=x,h=x);return pa&&sa(i,f),u}for(p=a(p);!x.done;f++,x=l.next())null!==(x=y(p,i,f,x.value,c))&&(e&&null!==x.alternate&&p.delete(null===x.key?f:x.key),o=s(x,o,f),null===h?u=x:h.sibling=x,h=x);return e&&p.forEach(function(e){return t(i,e)}),pa&&sa(i,f),u}(l,c,u=b.call(u),h)}if("function"==typeof u.then)return x(l,c,hi(u),h);if(u.$$typeof===v)return x(l,c,_a(l,u),h);pi(l,u)}return"string"==typeof u&&""!==u||"number"==typeof u||"bigint"==typeof u?(u=""+u,null!==c&&6===c.tag?(n(l,c.sibling),(h=i(c,u)).return=l,l=h):(n(l,c),(h=Zr(u,l.mode,h)).return=l,l=h),o(l)):n(l,c)}return function(e,t,n,r){try{ui=0;var a=x(e,t,n,r);return ci=null,a}catch(s){if(s===Ja||s===ti)throw s;var i=zr(29,s,null,e.mode);return i.lanes=r,i.return=e,i}}}var mi=fi(!0),gi=fi(!1),yi=!1;function xi(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function bi(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function vi(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function wi(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,2&mc){var a=r.pending;return null===a?t.next=t:(t.next=a.next,a.next=t),r.pending=t,t=$r(e),Lr(e,null,n),t}return Pr(e,r,t,n),$r(e)}function ki(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,4194048&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Le(e,n)}}function Si(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var a=null,i=null;if(null!==(n=n.firstBaseUpdate)){do{var s={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===i?a=i=s:i=i.next=s,n=n.next}while(null!==n);null===i?a=i=t:i=i.next=t}else a=i=t;return n={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:r.shared,callbacks:r.callbacks},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var Ni=!1;function Ei(){if(Ni){if(null!==Za)throw Za}}function Ai(e,t,n,r){Ni=!1;var a=e.updateQueue;yi=!1;var i=a.firstBaseUpdate,s=a.lastBaseUpdate,o=a.shared.pending;if(null!==o){a.shared.pending=null;var l=o,c=l.next;l.next=null,null===s?i=c:s.next=c,s=l;var h=e.alternate;null!==h&&((o=(h=h.updateQueue).lastBaseUpdate)!==s&&(null===o?h.firstBaseUpdate=c:o.next=c,h.lastBaseUpdate=l))}if(null!==i){var d=a.baseState;for(s=0,h=c=l=null,o=i;;){var p=-536870913&o.lane,f=p!==o.lane;if(f?(xc&p)===p:(r&p)===p){0!==p&&p===Wa&&(Ni=!0),null!==h&&(h=h.next={lane:0,tag:o.tag,payload:o.payload,callback:null,next:null});e:{var m=e,g=o;p=t;var y=n;switch(g.tag){case 1:if("function"==typeof(m=g.payload)){d=m.call(y,d,p);break e}d=m;break e;case 3:m.flags=-65537&m.flags|128;case 0:if(null==(p="function"==typeof(m=g.payload)?m.call(y,d,p):m))break e;d=u({},d,p);break e;case 2:yi=!0}}null!==(p=o.callback)&&(e.flags|=64,f&&(e.flags|=8192),null===(f=a.callbacks)?a.callbacks=[p]:f.push(p))}else f={lane:p,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===h?(c=h=f,l=d):h=h.next=f,s|=p;if(null===(o=o.next)){if(null===(o=a.shared.pending))break;o=(f=o).next,f.next=null,a.lastBaseUpdate=f,a.shared.pending=null}}null===h&&(l=d),a.baseState=l,a.firstBaseUpdate=c,a.lastBaseUpdate=h,null===i&&(a.shared.lanes=0),Ac|=s,e.lanes=s,e.memoizedState=d}}function Ci(e,t){if("function"!=typeof e)throw Error(r(191,e));e.call(t)}function ji(e,t){var n=e.callbacks;if(null!==n)for(e.callbacks=null,e=0;e<n.length;e++)Ci(n[e],t)}var Mi=V(null),Ti=V(0);function Ii(e,t){H(Ti,e=Nc),H(Mi,t),Nc=e|t.baseLanes}function Oi(){H(Ti,Nc),H(Mi,Mi.current)}function Pi(){Nc=Ti.current,B(Mi),B(Ti)}var Ri=V(null),_i=null;function Li(e){var t=e.alternate;H(Vi,1&Vi.current),H(Ri,e),null===_i&&(null===t||null!==Mi.current||null!==t.memoizedState)&&(_i=e)}function $i(e){H(Vi,Vi.current),H(Ri,e),null===_i&&(_i=e)}function Fi(e){22===e.tag?(H(Vi,Vi.current),H(Ri,e),null===_i&&(_i=e)):Di()}function Di(){H(Vi,Vi.current),H(Ri,Ri.current)}function zi(e){B(Ri),_i===e&&(_i=null),B(Vi)}var Vi=V(0);function Bi(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||Ph(n)||Rh(n)))return t}else if(19!==t.tag||"forwards"!==t.memoizedProps.revealOrder&&"backwards"!==t.memoizedProps.revealOrder&&"unstable_legacy-backwards"!==t.memoizedProps.revealOrder&&"together"!==t.memoizedProps.revealOrder){if(null!==t.child){t.child.return=t,t=t.child;continue}}else if(128&t.flags)return t;if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Hi=0,Ui=null,Wi=null,Zi=null,Gi=!1,Ki=!1,qi=!1,Xi=0,Yi=0,Qi=null,Ji=0;function es(){throw Error(r(321))}function ts(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!er(e[n],t[n]))return!1;return!0}function ns(e,t,n,r,a,i){return Hi=i,Ui=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,L.H=null===e||null===e.memoizedState?xo:bo,qi=!1,i=n(r,a),qi=!1,Ki&&(i=as(t,n,r,a)),rs(e),i}function rs(e){L.H=yo;var t=null!==Wi&&null!==Wi.next;if(Hi=0,Zi=Wi=Ui=null,Gi=!1,Yi=0,Qi=null,t)throw Error(r(300));null===e||_o||null!==(e=e.dependencies)&&Oa(e)&&(_o=!0)}function as(e,t,n,a){Ui=e;var i=0;do{if(Ki&&(Qi=null),Yi=0,Ki=!1,25<=i)throw Error(r(301));if(i+=1,Zi=Wi=null,null!=e.updateQueue){var s=e.updateQueue;s.lastEffect=null,s.events=null,s.stores=null,null!=s.memoCache&&(s.memoCache.index=0)}L.H=vo,s=t(n,a)}while(Ki);return s}function is(){var e=L.H,t=e.useState()[0];return t="function"==typeof t.then?hs(t):t,e=e.useState()[0],(null!==Wi?Wi.memoizedState:null)!==e&&(Ui.flags|=1024),t}function ss(){var e=0!==Xi;return Xi=0,e}function os(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function ls(e){if(Gi){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}Gi=!1}Hi=0,Zi=Wi=Ui=null,Ki=!1,Yi=Xi=0,Qi=null}function cs(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Zi?Ui.memoizedState=Zi=e:Zi=Zi.next=e,Zi}function us(){if(null===Wi){var e=Ui.alternate;e=null!==e?e.memoizedState:null}else e=Wi.next;var t=null===Zi?Ui.memoizedState:Zi.next;if(null!==t)Zi=t,Wi=e;else{if(null===e){if(null===Ui.alternate)throw Error(r(467));throw Error(r(310))}e={memoizedState:(Wi=e).memoizedState,baseState:Wi.baseState,baseQueue:Wi.baseQueue,queue:Wi.queue,next:null},null===Zi?Ui.memoizedState=Zi=e:Zi=Zi.next=e}return Zi}function hs(e){var t=Yi;return Yi+=1,null===Qi&&(Qi=[]),e=ai(Qi,e,t),t=Ui,null===(null===Zi?t.memoizedState:Zi.next)&&(t=t.alternate,L.H=null===t||null===t.memoizedState?xo:bo),e}function ds(e){if(null!==e&&"object"==typeof e){if("function"==typeof e.then)return hs(e);if(e.$$typeof===v)return Ra(e)}throw Error(r(438,String(e)))}function ps(e){var t=null,n=Ui.updateQueue;if(null!==n&&(t=n.memoCache),null==t){var r=Ui.alternate;null!==r&&(null!==(r=r.updateQueue)&&(null!=(r=r.memoCache)&&(t={data:r.data.map(function(e){return e.slice()}),index:0})))}if(null==t&&(t={data:[],index:0}),null===n&&(n={lastEffect:null,events:null,stores:null,memoCache:null},Ui.updateQueue=n),n.memoCache=t,void 0===(n=t.data[t.index]))for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=T;return t.index++,n}function fs(e,t){return"function"==typeof t?t(e):t}function ms(e){return gs(us(),Wi,e)}function gs(e,t,n){var a=e.queue;if(null===a)throw Error(r(311));a.lastRenderedReducer=n;var i=e.baseQueue,s=a.pending;if(null!==s){if(null!==i){var o=i.next;i.next=s.next,s.next=o}t.baseQueue=i=s,a.pending=null}if(s=e.baseState,null===i)e.memoizedState=s;else{var l=o=null,c=null,u=t=i.next,h=!1;do{var d=-536870913&u.lane;if(d!==u.lane?(xc&d)===d:(Hi&d)===d){var p=u.revertLane;if(0===p)null!==c&&(c=c.next={lane:0,revertLane:0,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),d===Wa&&(h=!0);else{if((Hi&p)===p){u=u.next,p===Wa&&(h=!0);continue}d={lane:0,revertLane:u.revertLane,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=d,o=s):c=c.next=d,Ui.lanes|=p,Ac|=p}d=u.action,qi&&n(s,d),s=u.hasEagerState?u.eagerState:n(s,d)}else p={lane:d,revertLane:u.revertLane,gesture:u.gesture,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=p,o=s):c=c.next=p,Ui.lanes|=d,Ac|=d;u=u.next}while(null!==u&&u!==t);if(null===c?o=s:c.next=l,!er(s,e.memoizedState)&&(_o=!0,h&&null!==(n=Za)))throw n;e.memoizedState=s,e.baseState=o,e.baseQueue=c,a.lastRenderedState=s}return null===i&&(a.lanes=0),[e.memoizedState,a.dispatch]}function ys(e){var t=us(),n=t.queue;if(null===n)throw Error(r(311));n.lastRenderedReducer=e;var a=n.dispatch,i=n.pending,s=t.memoizedState;if(null!==i){n.pending=null;var o=i=i.next;do{s=e(s,o.action),o=o.next}while(o!==i);er(s,t.memoizedState)||(_o=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),n.lastRenderedState=s}return[s,a]}function xs(e,t,n){var a=Ui,i=us(),s=pa;if(s){if(void 0===n)throw Error(r(407));n=n()}else n=t();var o=!er((Wi||i).memoizedState,n);if(o&&(i.memoizedState=n,_o=!0),i=i.queue,Hs(ws.bind(null,a,i,e),[e]),i.getSnapshot!==t||o||null!==Zi&&1&Zi.memoizedState.tag){if(a.flags|=2048,Fs(9,{destroy:void 0},vs.bind(null,a,i,n,t),null),null===gc)throw Error(r(349));s||127&Hi||bs(a,t,n)}return n}function bs(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=Ui.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},Ui.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function vs(e,t,n,r){t.value=n,t.getSnapshot=r,ks(t)&&Ss(e)}function ws(e,t,n){return n(function(){ks(t)&&Ss(e)})}function ks(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!er(e,n)}catch(r){return!0}}function Ss(e){var t=_r(e,2);null!==t&&Xc(t,e,2)}function Ns(e){var t=cs();if("function"==typeof e){var n=e;if(e=n(),qi){we(!0);try{n()}finally{we(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fs,lastRenderedState:e},t}function Es(e,t,n,r){return e.baseState=n,gs(e,Wi,"function"==typeof r?r:fs)}function As(e,t,n,a,i){if(fo(e))throw Error(r(485));if(null!==(e=t.action)){var s={payload:i,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){s.listeners.push(e)}};null!==L.T?n(!0):s.isTransition=!1,a(s),null===(n=t.pending)?(s.next=t.pending=s,Cs(t,s)):(s.next=n.next,t.pending=n.next=s)}}function Cs(e,t){var n=t.action,r=t.payload,a=e.state;if(t.isTransition){var i=L.T,s={};L.T=s;try{var o=n(a,r),l=L.S;null!==l&&l(s,o),js(e,t,o)}catch(c){Ts(e,t,c)}finally{null!==i&&null!==s.types&&(i.types=s.types),L.T=i}}else try{js(e,t,i=n(a,r))}catch(u){Ts(e,t,u)}}function js(e,t,n){null!==n&&"object"==typeof n&&"function"==typeof n.then?n.then(function(n){Ms(e,t,n)},function(n){return Ts(e,t,n)}):Ms(e,t,n)}function Ms(e,t,n){t.status="fulfilled",t.value=n,Is(t),e.state=n,null!==(t=e.pending)&&((n=t.next)===t?e.pending=null:(n=n.next,t.next=n,Cs(e,n)))}function Ts(e,t,n){var r=e.pending;if(e.pending=null,null!==r){r=r.next;do{t.status="rejected",t.reason=n,Is(t),t=t.next}while(t!==r)}e.action=null}function Is(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Os(e,t){return t}function Ps(e,t){if(pa){var n=gc.formState;if(null!==n){e:{var r=Ui;if(pa){if(da){t:{for(var a=da,i=ma;8!==a.nodeType;){if(!i){a=null;break t}if(null===(a=_h(a.nextSibling))){a=null;break t}}a="F!"===(i=a.data)||"F"===i?a:null}if(a){da=_h(a.nextSibling),r="F!"===a.data;break e}}ya(r)}r=!1}r&&(t=n[0])}}return(n=cs()).memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Os,lastRenderedState:t},n.queue=r,n=uo.bind(null,Ui,r),r.dispatch=n,r=Ns(!1),i=po.bind(null,Ui,!1,r.queue),a={state:t,dispatch:null,action:e,pending:null},(r=cs()).queue=a,n=As.bind(null,Ui,a,i,n),a.dispatch=n,r.memoizedState=e,[t,n,!1]}function Rs(e){return _s(us(),Wi,e)}function _s(e,t,n){if(t=gs(e,t,Os)[0],e=ms(fs)[0],"object"==typeof t&&null!==t&&"function"==typeof t.then)try{var r=hs(t)}catch(s){if(s===Ja)throw ti;throw s}else r=t;var a=(t=us()).queue,i=a.dispatch;return n!==t.memoizedState&&(Ui.flags|=2048,Fs(9,{destroy:void 0},Ls.bind(null,a,n),null)),[r,i,e]}function Ls(e,t){e.action=t}function $s(e){var t=us(),n=Wi;if(null!==n)return _s(t,n,e);us(),t=t.memoizedState;var r=(n=us()).queue.dispatch;return n.memoizedState=e,[t,r,!1]}function Fs(e,t,n,r){return e={tag:e,create:n,deps:r,inst:t,next:null},null===(t=Ui.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},Ui.updateQueue=t),null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Ds(){return us().memoizedState}function zs(e,t,n,r){var a=cs();Ui.flags|=e,a.memoizedState=Fs(1|t,{destroy:void 0},n,void 0===r?null:r)}function Vs(e,t,n,r){var a=us();r=void 0===r?null:r;var i=a.memoizedState.inst;null!==Wi&&null!==r&&ts(r,Wi.memoizedState.deps)?a.memoizedState=Fs(t,i,n,r):(Ui.flags|=e,a.memoizedState=Fs(1|t,i,n,r))}function Bs(e,t){zs(8390656,8,e,t)}function Hs(e,t){Vs(2048,8,e,t)}function Us(e){var t=us().memoizedState;return function(e){Ui.flags|=4;var t=Ui.updateQueue;if(null===t)t={lastEffect:null,events:null,stores:null,memoCache:null},Ui.updateQueue=t,t.events=[e];else{var n=t.events;null===n?t.events=[e]:n.push(e)}}({ref:t,nextImpl:e}),function(){if(2&mc)throw Error(r(440));return t.impl.apply(void 0,arguments)}}function Ws(e,t){return Vs(4,2,e,t)}function Zs(e,t){return Vs(4,4,e,t)}function Gs(e,t){if("function"==typeof t){e=e();var n=t(e);return function(){"function"==typeof n?n():t(null)}}if(null!=t)return e=e(),t.current=e,function(){t.current=null}}function Ks(e,t,n){n=null!=n?n.concat([e]):null,Vs(4,4,Gs.bind(null,t,e),n)}function qs(){}function Xs(e,t){var n=us();t=void 0===t?null:t;var r=n.memoizedState;return null!==t&&ts(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ys(e,t){var n=us();t=void 0===t?null:t;var r=n.memoizedState;if(null!==t&&ts(t,r[1]))return r[0];if(r=e(),qi){we(!0);try{e()}finally{we(!1)}}return n.memoizedState=[r,t],r}function Qs(e,t,n){return void 0===n||1073741824&Hi&&!(261930&xc)?e.memoizedState=t:(e.memoizedState=n,e=qc(),Ui.lanes|=e,Ac|=e,n)}function Js(e,t,n,r){return er(n,t)?n:null!==Mi.current?(e=Qs(e,n,r),er(e,t)||(_o=!0),e):42&Hi&&(!(1073741824&Hi)||261930&xc)?(e=qc(),Ui.lanes|=e,Ac|=e,t):(_o=!0,e.memoizedState=n)}function eo(e,t,n,r,a){var i=$.p;$.p=0!==i&&8>i?i:8;var s,o,l,c=L.T,u={};L.T=u,po(e,!1,t,n);try{var h=a(),d=L.S;if(null!==d&&d(u,h),null!==h&&"object"==typeof h&&"function"==typeof h.then)ho(e,t,(s=r,o=[],l={status:"pending",value:null,reason:null,then:function(e){o.push(e)}},h.then(function(){l.status="fulfilled",l.value=s;for(var e=0;e<o.length;e++)(0,o[e])(s)},function(e){for(l.status="rejected",l.reason=e,e=0;e<o.length;e++)(0,o[e])(void 0)}),l),Kc());else ho(e,t,r,Kc())}catch(p){ho(e,t,{then:function(){},status:"rejected",reason:p},Kc())}finally{$.p=i,null!==c&&null!==u.types&&(c.types=u.types),L.T=c}}function to(){}function no(e,t,n,a){if(5!==e.tag)throw Error(r(476));var i=ro(e).queue;eo(e,i,t,F,null===n?to:function(){return ao(e),n(a)})}function ro(e){var t=e.memoizedState;if(null!==t)return t;var n={};return(t={memoizedState:F,baseState:F,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fs,lastRenderedState:F},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fs,lastRenderedState:n},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function ao(e){var t=ro(e);null===t.next&&(t=e.alternate.memoizedState),ho(e,t.next.queue,{},Kc())}function io(){return Ra(dd)}function so(){return us().memoizedState}function oo(){return us().memoizedState}function lo(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var n=Kc(),r=wi(t,e=vi(n),n);return null!==r&&(Xc(r,t,n),ki(r,t,n)),t={cache:Va()},void(e.payload=t)}t=t.return}}function co(e,t,n){var r=Kc();n={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},fo(e)?mo(t,n):null!==(n=Rr(e,t,n,r))&&(Xc(n,e,r),go(n,t,r))}function uo(e,t,n){ho(e,t,n,Kc())}function ho(e,t,n,r){var a={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(fo(e))mo(t,a);else{var i=e.alternate;if(0===e.lanes&&(null===i||0===i.lanes)&&null!==(i=t.lastRenderedReducer))try{var s=t.lastRenderedState,o=i(s,n);if(a.hasEagerState=!0,a.eagerState=o,er(o,s))return Pr(e,t,a,0),null===gc&&Or(),!1}catch(l){}if(null!==(n=Rr(e,t,a,r)))return Xc(n,e,r),go(n,t,r),!0}return!1}function po(e,t,n,a){if(a={lane:2,revertLane:Uu(),gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},fo(e)){if(t)throw Error(r(479))}else null!==(t=Rr(e,n,a,2))&&Xc(t,e,2)}function fo(e){var t=e.alternate;return e===Ui||null!==t&&t===Ui}function mo(e,t){Ki=Gi=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function go(e,t,n){if(4194048&n){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Le(e,n)}}var yo={readContext:Ra,use:ds,useCallback:es,useContext:es,useEffect:es,useImperativeHandle:es,useLayoutEffect:es,useInsertionEffect:es,useMemo:es,useReducer:es,useRef:es,useState:es,useDebugValue:es,useDeferredValue:es,useTransition:es,useSyncExternalStore:es,useId:es,useHostTransitionStatus:es,useFormState:es,useActionState:es,useOptimistic:es,useMemoCache:es,useCacheRefresh:es};yo.useEffectEvent=es;var xo={readContext:Ra,use:ds,useCallback:function(e,t){return cs().memoizedState=[e,void 0===t?null:t],e},useContext:Ra,useEffect:Bs,useImperativeHandle:function(e,t,n){n=null!=n?n.concat([e]):null,zs(4194308,4,Gs.bind(null,t,e),n)},useLayoutEffect:function(e,t){return zs(4194308,4,e,t)},useInsertionEffect:function(e,t){zs(4,2,e,t)},useMemo:function(e,t){var n=cs();t=void 0===t?null:t;var r=e();if(qi){we(!0);try{e()}finally{we(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=cs();if(void 0!==n){var a=n(t);if(qi){we(!0);try{n(t)}finally{we(!1)}}}else a=t;return r.memoizedState=r.baseState=a,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:a},r.queue=e,e=e.dispatch=co.bind(null,Ui,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},cs().memoizedState=e},useState:function(e){var t=(e=Ns(e)).queue,n=uo.bind(null,Ui,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:qs,useDeferredValue:function(e,t){return Qs(cs(),e,t)},useTransition:function(){var e=Ns(!1);return e=eo.bind(null,Ui,e.queue,!0,!1),cs().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var a=Ui,i=cs();if(pa){if(void 0===n)throw Error(r(407));n=n()}else{if(n=t(),null===gc)throw Error(r(349));127&xc||bs(a,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,Bs(ws.bind(null,a,s,e),[e]),a.flags|=2048,Fs(9,{destroy:void 0},vs.bind(null,a,s,n,t),null),n},useId:function(){var e=cs(),t=gc.identifierPrefix;if(pa){var n=ia;t="_"+t+"R_"+(n=(aa&~(1<<32-ke(aa)-1)).toString(32)+n),0<(n=Xi++)&&(t+="H"+n.toString(32)),t+="_"}else t="_"+t+"r_"+(n=Ji++).toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:io,useFormState:Ps,useActionState:Ps,useOptimistic:function(e){var t=cs();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=po.bind(null,Ui,!0,n),n.dispatch=t,[e,t]},useMemoCache:ps,useCacheRefresh:function(){return cs().memoizedState=lo.bind(null,Ui)},useEffectEvent:function(e){var t=cs(),n={impl:e};return t.memoizedState=n,function(){if(2&mc)throw Error(r(440));return n.impl.apply(void 0,arguments)}}},bo={readContext:Ra,use:ds,useCallback:Xs,useContext:Ra,useEffect:Hs,useImperativeHandle:Ks,useInsertionEffect:Ws,useLayoutEffect:Zs,useMemo:Ys,useReducer:ms,useRef:Ds,useState:function(){return ms(fs)},useDebugValue:qs,useDeferredValue:function(e,t){return Js(us(),Wi.memoizedState,e,t)},useTransition:function(){var e=ms(fs)[0],t=us().memoizedState;return["boolean"==typeof e?e:hs(e),t]},useSyncExternalStore:xs,useId:so,useHostTransitionStatus:io,useFormState:Rs,useActionState:Rs,useOptimistic:function(e,t){return Es(us(),0,e,t)},useMemoCache:ps,useCacheRefresh:oo};bo.useEffectEvent=Us;var vo={readContext:Ra,use:ds,useCallback:Xs,useContext:Ra,useEffect:Hs,useImperativeHandle:Ks,useInsertionEffect:Ws,useLayoutEffect:Zs,useMemo:Ys,useReducer:ys,useRef:Ds,useState:function(){return ys(fs)},useDebugValue:qs,useDeferredValue:function(e,t){var n=us();return null===Wi?Qs(n,e,t):Js(n,Wi.memoizedState,e,t)},useTransition:function(){var e=ys(fs)[0],t=us().memoizedState;return["boolean"==typeof e?e:hs(e),t]},useSyncExternalStore:xs,useId:so,useHostTransitionStatus:io,useFormState:$s,useActionState:$s,useOptimistic:function(e,t){var n=us();return null!==Wi?Es(n,0,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:ps,useCacheRefresh:oo};function wo(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:u({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}vo.useEffectEvent=Us;var ko={enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Kc(),a=vi(r);a.payload=t,null!=n&&(a.callback=n),null!==(t=wi(e,a,r))&&(Xc(t,e,r),ki(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Kc(),a=vi(r);a.tag=1,a.payload=t,null!=n&&(a.callback=n),null!==(t=wi(e,a,r))&&(Xc(t,e,r),ki(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Kc(),r=vi(n);r.tag=2,null!=t&&(r.callback=t),null!==(t=wi(e,r,n))&&(Xc(t,e,n),ki(t,e,n))}};function So(e,t,n,r,a,i,s){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,i,s):!t.prototype||!t.prototype.isPureReactComponent||(!tr(n,r)||!tr(a,i))}function No(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ko.enqueueReplaceState(t,t.state,null)}function Eo(e,t){var n=t;if("ref"in t)for(var r in n={},t)"ref"!==r&&(n[r]=t[r]);if(e=e.defaultProps)for(var a in n===t&&(n=u({},n)),e)void 0===n[a]&&(n[a]=e[a]);return n}function Ao(e){jr(e)}function Co(e){console.error(e)}function jo(e){jr(e)}function Mo(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(n){setTimeout(function(){throw n})}}function To(e,t,n){try{(0,e.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function Io(e,t,n){return(n=vi(n)).tag=3,n.payload={element:null},n.callback=function(){Mo(e,t)},n}function Oo(e){return(e=vi(e)).tag=3,e}function Po(e,t,n,r){var a=n.type.getDerivedStateFromError;if("function"==typeof a){var i=r.value;e.payload=function(){return a(i)},e.callback=function(){To(t,n,r)}}var s=n.stateNode;null!==s&&"function"==typeof s.componentDidCatch&&(e.callback=function(){To(t,n,r),"function"!=typeof a&&(null===Fc?Fc=new Set([this]):Fc.add(this));var e=r.stack;this.componentDidCatch(r.value,{componentStack:null!==e?e:""})})}var Ro=Error(r(461)),_o=!1;function Lo(e,t,n,r){t.child=null===e?gi(t,null,n,r):mi(t,e.child,n,r)}function $o(e,t,n,r,a){n=n.render;var i=t.ref;if("ref"in r){var s={};for(var o in r)"ref"!==o&&(s[o]=r[o])}else s=r;return Pa(t),r=ns(e,t,n,s,i,a),o=ss(),null===e||_o?(pa&&o&&la(t),t.flags|=1,Lo(e,t,r,a),t.child):(os(e,t,a),sl(e,t,a))}function Fo(e,t,n,r,a){if(null===e){var i=n.type;return"function"!=typeof i||Vr(i)||void 0!==i.defaultProps||null!==n.compare?((e=Ur(n.type,null,r,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=i,Do(e,t,i,r,a))}if(i=e.child,!ol(e,a)){var s=i.memoizedProps;if((n=null!==(n=n.compare)?n:tr)(s,r)&&e.ref===t.ref)return sl(e,t,a)}return t.flags|=1,(e=Br(i,r)).ref=t.ref,e.return=t,t.child=e}function Do(e,t,n,r,a){if(null!==e){var i=e.memoizedProps;if(tr(i,r)&&e.ref===t.ref){if(_o=!1,t.pendingProps=r=i,!ol(e,a))return t.lanes=e.lanes,sl(e,t,a);131072&e.flags&&(_o=!0)}}return Zo(e,t,n,r,a)}function zo(e,t,n,r){var a=r.children,i=null!==e?e.memoizedState:null;if(null===e&&null===t.stateNode&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),"hidden"===r.mode){if(128&t.flags){if(i=null!==i?i.baseLanes|n:n,null!==e){for(r=t.child=e.child,a=0;null!==r;)a=a|r.lanes|r.childLanes,r=r.sibling;r=a&~i}else r=0,t.child=null;return Bo(e,t,i,n,r)}if(!(536870912&n))return r=t.lanes=536870912,Bo(e,t,null!==i?i.baseLanes|n:n,n,r);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&Ya(0,null!==i?i.cachePool:null),null!==i?Ii(t,i):Oi(),Fi(t)}else null!==i?(Ya(0,i.cachePool),Ii(t,i),Di(),t.memoizedState=null):(null!==e&&Ya(0,null),Oi(),Di());return Lo(e,t,a,n),t.child}function Vo(e,t){return null!==e&&22===e.tag||null!==t.stateNode||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Bo(e,t,n,r,a){var i=Xa();return i=null===i?null:{parent:za._currentValue,pool:i},t.memoizedState={baseLanes:n,cachePool:i},null!==e&&Ya(0,null),Oi(),Fi(t),null!==e&&Ia(e,t,r,!0),t.childLanes=a,null}function Ho(e,t){return(t=tl({mode:t.mode,children:t.children},e.mode)).ref=e.ref,e.child=t,t.return=e,t}function Uo(e,t,n){return mi(t,e.child,null,n),(e=Ho(t,t.pendingProps)).flags|=2,zi(t),t.memoizedState=null,e}function Wo(e,t){var n=t.ref;if(null===n)null!==e&&null!==e.ref&&(t.flags|=4194816);else{if("function"!=typeof n&&"object"!=typeof n)throw Error(r(284));null!==e&&e.ref===n||(t.flags|=4194816)}}function Zo(e,t,n,r,a){return Pa(t),n=ns(e,t,n,r,void 0,a),r=ss(),null===e||_o?(pa&&r&&la(t),t.flags|=1,Lo(e,t,n,a),t.child):(os(e,t,a),sl(e,t,a))}function Go(e,t,n,r,a,i){return Pa(t),t.updateQueue=null,n=as(t,r,n,a),rs(e),r=ss(),null===e||_o?(pa&&r&&la(t),t.flags|=1,Lo(e,t,n,i),t.child):(os(e,t,i),sl(e,t,i))}function Ko(e,t,n,r,a){if(Pa(t),null===t.stateNode){var i=Fr,s=n.contextType;"object"==typeof s&&null!==s&&(i=Ra(s)),i=new n(r,i),t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,i.updater=ko,t.stateNode=i,i._reactInternals=t,(i=t.stateNode).props=r,i.state=t.memoizedState,i.refs={},xi(t),s=n.contextType,i.context="object"==typeof s&&null!==s?Ra(s):Fr,i.state=t.memoizedState,"function"==typeof(s=n.getDerivedStateFromProps)&&(wo(t,n,s,r),i.state=t.memoizedState),"function"==typeof n.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(s=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),s!==i.state&&ko.enqueueReplaceState(i,i.state,null),Ai(t,r,i,a),Ei(),i.state=t.memoizedState),"function"==typeof i.componentDidMount&&(t.flags|=4194308),r=!0}else if(null===e){i=t.stateNode;var o=t.memoizedProps,l=Eo(n,o);i.props=l;var c=i.context,u=n.contextType;s=Fr,"object"==typeof u&&null!==u&&(s=Ra(u));var h=n.getDerivedStateFromProps;u="function"==typeof h||"function"==typeof i.getSnapshotBeforeUpdate,o=t.pendingProps!==o,u||"function"!=typeof i.UNSAFE_componentWillReceiveProps&&"function"!=typeof i.componentWillReceiveProps||(o||c!==s)&&No(t,i,r,s),yi=!1;var d=t.memoizedState;i.state=d,Ai(t,r,i,a),Ei(),c=t.memoizedState,o||d!==c||yi?("function"==typeof h&&(wo(t,n,h,r),c=t.memoizedState),(l=yi||So(t,n,l,r,d,c,s))?(u||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||("function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount()),"function"==typeof i.componentDidMount&&(t.flags|=4194308)):("function"==typeof i.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),i.props=r,i.state=c,i.context=s,r=l):("function"==typeof i.componentDidMount&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,bi(e,t),u=Eo(n,s=t.memoizedProps),i.props=u,h=t.pendingProps,d=i.context,c=n.contextType,l=Fr,"object"==typeof c&&null!==c&&(l=Ra(c)),(c="function"==typeof(o=n.getDerivedStateFromProps)||"function"==typeof i.getSnapshotBeforeUpdate)||"function"!=typeof i.UNSAFE_componentWillReceiveProps&&"function"!=typeof i.componentWillReceiveProps||(s!==h||d!==l)&&No(t,i,r,l),yi=!1,d=t.memoizedState,i.state=d,Ai(t,r,i,a),Ei();var p=t.memoizedState;s!==h||d!==p||yi||null!==e&&null!==e.dependencies&&Oa(e.dependencies)?("function"==typeof o&&(wo(t,n,o,r),p=t.memoizedState),(u=yi||So(t,n,u,r,d,p,l)||null!==e&&null!==e.dependencies&&Oa(e.dependencies))?(c||"function"!=typeof i.UNSAFE_componentWillUpdate&&"function"!=typeof i.componentWillUpdate||("function"==typeof i.componentWillUpdate&&i.componentWillUpdate(r,p,l),"function"==typeof i.UNSAFE_componentWillUpdate&&i.UNSAFE_componentWillUpdate(r,p,l)),"function"==typeof i.componentDidUpdate&&(t.flags|=4),"function"==typeof i.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!=typeof i.componentDidUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!=typeof i.getSnapshotBeforeUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),i.props=r,i.state=p,i.context=l,r=u):("function"!=typeof i.componentDidUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!=typeof i.getSnapshotBeforeUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return i=r,Wo(e,t),r=!!(128&t.flags),i||r?(i=t.stateNode,n=r&&"function"!=typeof n.getDerivedStateFromError?null:i.render(),t.flags|=1,null!==e&&r?(t.child=mi(t,e.child,null,a),t.child=mi(t,null,n,a)):Lo(e,t,n,a),t.memoizedState=i.state,e=t.child):e=sl(e,t,a),e}function qo(e,t,n,r){return wa(),t.flags|=256,Lo(e,t,n,r),t.child}var Xo={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Yo(e){return{baseLanes:e,cachePool:Qa()}}function Qo(e,t,n){return e=null!==e?e.childLanes&~n:0,t&&(e|=Mc),e}function Jo(e,t,n){var a,i=t.pendingProps,s=!1,o=!!(128&t.flags);if((a=o)||(a=(null===e||null!==e.memoizedState)&&!!(2&Vi.current)),a&&(s=!0,t.flags&=-129),a=!!(32&t.flags),t.flags&=-33,null===e){if(pa){if(s?Li(t):Di(),(e=da)?null!==(e=null!==(e=Oh(e,ma))&&"&"!==e.data?e:null)&&(t.memoizedState={dehydrated:e,treeContext:null!==ra?{id:aa,overflow:ia}:null,retryLane:536870912,hydrationErrors:null},(n=Gr(e)).return=t,t.child=n,ha=t,da=null):e=null,null===e)throw ya(t);return Rh(e)?t.lanes=32:t.lanes=536870912,null}var l=i.children;return i=i.fallback,s?(Di(),l=tl({mode:"hidden",children:l},s=t.mode),i=Wr(i,s,n,null),l.return=t,i.return=t,l.sibling=i,t.child=l,(i=t.child).memoizedState=Yo(n),i.childLanes=Qo(e,a,n),t.memoizedState=Xo,Vo(null,i)):(Li(t),el(t,l))}var c=e.memoizedState;if(null!==c&&null!==(l=c.dehydrated)){if(o)256&t.flags?(Li(t),t.flags&=-257,t=nl(e,t,n)):null!==t.memoizedState?(Di(),t.child=e.child,t.flags|=128,t=null):(Di(),l=i.fallback,s=t.mode,i=tl({mode:"visible",children:i.children},s),(l=Wr(l,s,n,null)).flags|=2,i.return=t,l.return=t,i.sibling=l,t.child=i,mi(t,e.child,null,n),(i=t.child).memoizedState=Yo(n),i.childLanes=Qo(e,a,n),t.memoizedState=Xo,t=Vo(null,i));else if(Li(t),Rh(l)){if(a=l.nextSibling&&l.nextSibling.dataset)var u=a.dgst;a=u,(i=Error(r(419))).stack="",i.digest=a,Sa({value:i,source:null,stack:null}),t=nl(e,t,n)}else if(_o||Ia(e,t,n,!1),a=0!==(n&e.childLanes),_o||a){if(null!==(a=gc)&&(0!==(i=$e(a,n))&&i!==c.retryLane))throw c.retryLane=i,_r(e,i),Xc(a,e,i),Ro;Ph(l)||lu(),t=nl(e,t,n)}else Ph(l)?(t.flags|=192,t.child=e.child,t=null):(e=c.treeContext,da=_h(l.nextSibling),ha=t,pa=!0,fa=null,ma=!1,null!==e&&ua(t,e),(t=el(t,i.children)).flags|=4096);return t}return s?(Di(),l=i.fallback,s=t.mode,u=(c=e.child).sibling,(i=Br(c,{mode:"hidden",children:i.children})).subtreeFlags=65011712&c.subtreeFlags,null!==u?l=Br(u,l):(l=Wr(l,s,n,null)).flags|=2,l.return=t,i.return=t,i.sibling=l,t.child=i,Vo(null,i),i=t.child,null===(l=e.child.memoizedState)?l=Yo(n):(null!==(s=l.cachePool)?(c=za._currentValue,s=s.parent!==c?{parent:c,pool:c}:s):s=Qa(),l={baseLanes:l.baseLanes|n,cachePool:s}),i.memoizedState=l,i.childLanes=Qo(e,a,n),t.memoizedState=Xo,Vo(e.child,i)):(Li(t),e=(n=e.child).sibling,(n=Br(n,{mode:"visible",children:i.children})).return=t,n.sibling=null,null!==e&&(null===(a=t.deletions)?(t.deletions=[e],t.flags|=16):a.push(e)),t.child=n,t.memoizedState=null,n)}function el(e,t){return(t=tl({mode:"visible",children:t},e.mode)).return=e,e.child=t}function tl(e,t){return(e=zr(22,e,null,t)).lanes=0,e}function nl(e,t,n){return mi(t,e.child,null,n),(e=el(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function rl(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ma(e.return,t,n)}function al(e,t,n,r,a,i){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:a,treeForkCount:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=a,s.treeForkCount=i)}function il(e,t,n){var r=t.pendingProps,a=r.revealOrder,i=r.tail;r=r.children;var s=Vi.current,o=!!(2&s);if(o?(s=1&s|2,t.flags|=128):s&=1,H(Vi,s),Lo(e,t,r,n),r=pa?ea:0,!o&&null!==e&&128&e.flags)e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&rl(e,n,t);else if(19===e.tag)rl(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(a){case"forwards":for(n=t.child,a=null;null!==n;)null!==(e=n.alternate)&&null===Bi(e)&&(a=n),n=n.sibling;null===(n=a)?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),al(t,!1,a,n,i,r);break;case"backwards":case"unstable_legacy-backwards":for(n=null,a=t.child,t.child=null;null!==a;){if(null!==(e=a.alternate)&&null===Bi(e)){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}al(t,!0,n,null,i,r);break;case"together":al(t,!1,null,null,void 0,r);break;default:t.memoizedState=null}return t.child}function sl(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ac|=t.lanes,0===(n&t.childLanes)){if(null===e)return null;if(Ia(e,t,n,!1),0===(n&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(r(153));if(null!==t.child){for(n=Br(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Br(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function ol(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!Oa(e))}function ll(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps)_o=!0;else{if(!(ol(e,n)||128&t.flags))return _o=!1,function(e,t,n){switch(t.tag){case 3:X(t,t.stateNode.containerInfo),Ca(0,za,e.memoizedState.cache),wa();break;case 27:case 5:Q(t);break;case 4:X(t,t.stateNode.containerInfo);break;case 10:Ca(0,t.type,t.memoizedProps.value);break;case 31:if(null!==t.memoizedState)return t.flags|=128,$i(t),null;break;case 13:var r=t.memoizedState;if(null!==r)return null!==r.dehydrated?(Li(t),t.flags|=128,null):0!==(n&t.child.childLanes)?Jo(e,t,n):(Li(t),null!==(e=sl(e,t,n))?e.sibling:null);Li(t);break;case 19:var a=!!(128&e.flags);if((r=0!==(n&t.childLanes))||(Ia(e,t,n,!1),r=0!==(n&t.childLanes)),a){if(r)return il(e,t,n);t.flags|=128}if(null!==(a=t.memoizedState)&&(a.rendering=null,a.tail=null,a.lastEffect=null),H(Vi,Vi.current),r)break;return null;case 22:return t.lanes=0,zo(e,t,n,t.pendingProps);case 24:Ca(0,za,e.memoizedState.cache)}return sl(e,t,n)}(e,t,n);_o=!!(131072&e.flags)}else _o=!1,pa&&1048576&t.flags&&oa(t,ea,t.index);switch(t.lanes=0,t.tag){case 16:e:{var a=t.pendingProps;if(e=ii(t.elementType),t.type=e,"function"!=typeof e){if(null!=e){var i=e.$$typeof;if(i===k){t.tag=11,t=$o(null,t,e,a,n);break e}if(i===A){t.tag=14,t=Fo(null,t,e,a,n);break e}}throw t=R(e)||e,Error(r(306,t,""))}Vr(e)?(a=Eo(e,a),t.tag=1,t=Ko(null,t,e,a,n)):(t.tag=0,t=Zo(null,t,e,a,n))}return t;case 0:return Zo(e,t,t.type,t.pendingProps,n);case 1:return Ko(e,t,a=t.type,i=Eo(a,t.pendingProps),n);case 3:e:{if(X(t,t.stateNode.containerInfo),null===e)throw Error(r(387));a=t.pendingProps;var s=t.memoizedState;i=s.element,bi(e,t),Ai(t,a,null,n);var o=t.memoizedState;if(a=o.cache,Ca(0,za,a),a!==s.cache&&Ta(t,[za],n,!0),Ei(),a=o.element,s.isDehydrated){if(s={element:a,isDehydrated:!1,cache:o.cache},t.updateQueue.baseState=s,t.memoizedState=s,256&t.flags){t=qo(e,t,a,n);break e}if(a!==i){Sa(i=Xr(Error(r(424)),t)),t=qo(e,t,a,n);break e}if(9===(e=t.stateNode.containerInfo).nodeType)e=e.body;else e="HTML"===e.nodeName?e.ownerDocument.body:e;for(da=_h(e.firstChild),ha=t,pa=!0,fa=null,ma=!0,n=gi(t,null,a,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(wa(),a===i){t=sl(e,t,n);break e}Lo(e,t,a,n)}t=t.child}return t;case 26:return Wo(e,t),null===e?(n=Gh(t.type,null,t.pendingProps,null))?t.memoizedState=n:pa||(n=t.type,e=t.pendingProps,(a=xh(K.current).createElement(n))[He]=t,a[Ue]=e,fh(a,n,e),nt(a),t.stateNode=a):t.memoizedState=Gh(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Q(t),null===e&&pa&&(a=t.stateNode=Dh(t.type,t.pendingProps,K.current),ha=t,ma=!0,i=da,jh(t.type)?(Lh=i,da=_h(a.firstChild)):da=i),Lo(e,t,t.pendingProps.children,n),Wo(e,t),null===e&&(t.flags|=4194304),t.child;case 5:return null===e&&pa&&((i=a=da)&&(null!==(a=function(e,t,n,r){for(;1===e.nodeType;){var a=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(r){if(!e[Xe])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(i=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(i!==a.rel||e.getAttribute("href")!==(null==a.href||""===a.href?null:a.href)||e.getAttribute("crossorigin")!==(null==a.crossOrigin?null:a.crossOrigin)||e.getAttribute("title")!==(null==a.title?null:a.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((i=e.getAttribute("src"))!==(null==a.src?null:a.src)||e.getAttribute("type")!==(null==a.type?null:a.type)||e.getAttribute("crossorigin")!==(null==a.crossOrigin?null:a.crossOrigin))&&i&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var i=null==a.name?null:""+a.name;if("hidden"===a.type&&e.getAttribute("name")===i)return e}if(null===(e=_h(e.nextSibling)))break}return null}(a,t.type,t.pendingProps,ma))?(t.stateNode=a,ha=t,da=_h(a.firstChild),ma=!1,i=!0):i=!1),i||ya(t)),Q(t),i=t.type,s=t.pendingProps,o=null!==e?e.memoizedProps:null,a=s.children,wh(i,s)?a=null:null!==o&&wh(i,o)&&(t.flags|=32),null!==t.memoizedState&&(i=ns(e,t,is,null,null,n),dd._currentValue=i),Wo(e,t),Lo(e,t,a,n),t.child;case 6:return null===e&&pa&&((e=n=da)&&(null!==(n=function(e,t,n){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!n)return null;if(null===(e=_h(e.nextSibling)))return null}return e}(n,t.pendingProps,ma))?(t.stateNode=n,ha=t,da=null,e=!0):e=!1),e||ya(t)),null;case 13:return Jo(e,t,n);case 4:return X(t,t.stateNode.containerInfo),a=t.pendingProps,null===e?t.child=mi(t,null,a,n):Lo(e,t,a,n),t.child;case 11:return $o(e,t,t.type,t.pendingProps,n);case 7:return Lo(e,t,t.pendingProps,n),t.child;case 8:case 12:return Lo(e,t,t.pendingProps.children,n),t.child;case 10:return a=t.pendingProps,Ca(0,t.type,a.value),Lo(e,t,a.children,n),t.child;case 9:return i=t.type._context,a=t.pendingProps.children,Pa(t),a=a(i=Ra(i)),t.flags|=1,Lo(e,t,a,n),t.child;case 14:return Fo(e,t,t.type,t.pendingProps,n);case 15:return Do(e,t,t.type,t.pendingProps,n);case 19:return il(e,t,n);case 31:return function(e,t,n){var a=t.pendingProps,i=!!(128&t.flags);if(t.flags&=-129,null===e){if(pa){if("hidden"===a.mode)return e=Ho(t,a),t.lanes=536870912,Vo(null,e);if($i(t),(e=da)?null!==(e=null!==(e=Oh(e,ma))&&"&"===e.data?e:null)&&(t.memoizedState={dehydrated:e,treeContext:null!==ra?{id:aa,overflow:ia}:null,retryLane:536870912,hydrationErrors:null},(n=Gr(e)).return=t,t.child=n,ha=t,da=null):e=null,null===e)throw ya(t);return t.lanes=536870912,null}return Ho(t,a)}var s=e.memoizedState;if(null!==s){var o=s.dehydrated;if($i(t),i)if(256&t.flags)t.flags&=-257,t=Uo(e,t,n);else{if(null===t.memoizedState)throw Error(r(558));t.child=e.child,t.flags|=128,t=null}else if(_o||Ia(e,t,n,!1),i=0!==(n&e.childLanes),_o||i){if(null!==(a=gc)&&0!==(o=$e(a,n))&&o!==s.retryLane)throw s.retryLane=o,_r(e,o),Xc(a,e,o),Ro;lu(),t=Uo(e,t,n)}else e=s.treeContext,da=_h(o.nextSibling),ha=t,pa=!0,fa=null,ma=!1,null!==e&&ua(t,e),(t=Ho(t,a)).flags|=4096;return t}return(e=Br(e.child,{mode:a.mode,children:a.children})).ref=t.ref,t.child=e,e.return=t,e}(e,t,n);case 22:return zo(e,t,n,t.pendingProps);case 24:return Pa(t),a=Ra(za),null===e?(null===(i=Xa())&&(i=gc,s=Va(),i.pooledCache=s,s.refCount++,null!==s&&(i.pooledCacheLanes|=n),i=s),t.memoizedState={parent:a,cache:i},xi(t),Ca(0,za,i)):(0!==(e.lanes&n)&&(bi(e,t),Ai(t,null,null,n),Ei()),i=e.memoizedState,s=t.memoizedState,i.parent!==a?(i={parent:a,cache:a},t.memoizedState=i,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=i),Ca(0,za,a)):(a=s.cache,Ca(0,za,a),a!==i.cache&&Ta(t,[za],n,!0))),Lo(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(r(156,t.tag))}function cl(e){e.flags|=4}function ul(e,t,n,r,a){if((t=!!(32&e.mode))&&(t=!1),t){if(e.flags|=16777216,(335544128&a)===a)if(e.stateNode.complete)e.flags|=8192;else{if(!iu())throw si=ni,ei;e.flags|=8192}}else e.flags&=-16777217}function hl(e,t){if("stylesheet"!==t.type||4&t.state.loading)e.flags&=-16777217;else if(e.flags|=16777216,!sd(t)){if(!iu())throw si=ni,ei;e.flags|=8192}}function dl(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?Oe():536870912,e.lanes|=t,Tc|=t)}function pl(e,t){if(!pa)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function fl(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=65011712&a.subtreeFlags,r|=65011712&a.flags,a.return=e,a=a.sibling;else for(a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags,r|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function ml(e,t,n){var a=t.pendingProps;switch(ca(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return fl(t),null;case 3:return n=t.stateNode,a=null,null!==e&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),ja(za),Y(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(va(t)?cl(t):null===e||e.memoizedState.isDehydrated&&!(256&t.flags)||(t.flags|=1024,ka())),fl(t),null;case 26:var i=t.type,s=t.memoizedState;return null===e?(cl(t),null!==s?(fl(t),hl(t,s)):(fl(t),ul(t,i,0,0,n))):s?s!==e.memoizedState?(cl(t),fl(t),hl(t,s)):(fl(t),t.flags&=-16777217):((e=e.memoizedProps)!==a&&cl(t),fl(t),ul(t,i,0,0,n)),null;case 27:if(J(t),n=K.current,i=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==a&&cl(t);else{if(!a){if(null===t.stateNode)throw Error(r(166));return fl(t),null}e=Z.current,va(t)?xa(t):(e=Dh(i,a,n),t.stateNode=e,cl(t))}return fl(t),null;case 5:if(J(t),i=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==a&&cl(t);else{if(!a){if(null===t.stateNode)throw Error(r(166));return fl(t),null}if(s=Z.current,va(t))xa(t);else{var o=xh(K.current);switch(s){case 1:s=o.createElementNS("http://www.w3.org/2000/svg",i);break;case 2:s=o.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;default:switch(i){case"svg":s=o.createElementNS("http://www.w3.org/2000/svg",i);break;case"math":s=o.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;case"script":(s=o.createElement("div")).innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s="string"==typeof a.is?o.createElement("select",{is:a.is}):o.createElement("select"),a.multiple?s.multiple=!0:a.size&&(s.size=a.size);break;default:s="string"==typeof a.is?o.createElement(i,{is:a.is}):o.createElement(i)}}s[He]=t,s[Ue]=a;e:for(o=t.child;null!==o;){if(5===o.tag||6===o.tag)s.appendChild(o.stateNode);else if(4!==o.tag&&27!==o.tag&&null!==o.child){o.child.return=o,o=o.child;continue}if(o===t)break e;for(;null===o.sibling;){if(null===o.return||o.return===t)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}t.stateNode=s;e:switch(fh(s,i,a),i){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}a&&cl(t)}}return fl(t),ul(t,t.type,null===e||e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==a&&cl(t);else{if("string"!=typeof a&&null===t.stateNode)throw Error(r(166));if(e=K.current,va(t)){if(e=t.stateNode,n=t.memoizedProps,a=null,null!==(i=ha))switch(i.tag){case 27:case 5:a=i.memoizedProps}e[He]=t,(e=!!(e.nodeValue===n||null!==a&&!0===a.suppressHydrationWarning||hh(e.nodeValue,n)))||ya(t,!0)}else(e=xh(e).createTextNode(a))[He]=t,t.stateNode=e}return fl(t),null;case 31:if(n=t.memoizedState,null===e||null!==e.memoizedState){if(a=va(t),null!==n){if(null===e){if(!a)throw Error(r(318));if(!(e=null!==(e=t.memoizedState)?e.dehydrated:null))throw Error(r(557));e[He]=t}else wa(),!(128&t.flags)&&(t.memoizedState=null),t.flags|=4;fl(t),e=!1}else n=ka(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return 256&t.flags?(zi(t),t):(zi(t),null);if(128&t.flags)throw Error(r(558))}return fl(t),null;case 13:if(a=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(i=va(t),null!==a&&null!==a.dehydrated){if(null===e){if(!i)throw Error(r(318));if(!(i=null!==(i=t.memoizedState)?i.dehydrated:null))throw Error(r(317));i[He]=t}else wa(),!(128&t.flags)&&(t.memoizedState=null),t.flags|=4;fl(t),i=!1}else i=ka(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=i),i=!0;if(!i)return 256&t.flags?(zi(t),t):(zi(t),null)}return zi(t),128&t.flags?(t.lanes=n,t):(n=null!==a,e=null!==e&&null!==e.memoizedState,n&&(i=null,null!==(a=t.child).alternate&&null!==a.alternate.memoizedState&&null!==a.alternate.memoizedState.cachePool&&(i=a.alternate.memoizedState.cachePool.pool),s=null,null!==a.memoizedState&&null!==a.memoizedState.cachePool&&(s=a.memoizedState.cachePool.pool),s!==i&&(a.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),dl(t,t.updateQueue),fl(t),null);case 4:return Y(),null===e&&th(t.stateNode.containerInfo),fl(t),null;case 10:return ja(t.type),fl(t),null;case 19:if(B(Vi),null===(a=t.memoizedState))return fl(t),null;if(i=!!(128&t.flags),null===(s=a.rendering))if(i)pl(a,!1);else{if(0!==Ec||null!==e&&128&e.flags)for(e=t.child;null!==e;){if(null!==(s=Bi(e))){for(t.flags|=128,pl(a,!1),e=s.updateQueue,t.updateQueue=e,dl(t,e),t.subtreeFlags=0,e=n,n=t.child;null!==n;)Hr(n,e),n=n.sibling;return H(Vi,1&Vi.current|2),pa&&sa(t,a.treeForkCount),t.child}e=e.sibling}null!==a.tail&&ue()>Lc&&(t.flags|=128,i=!0,pl(a,!1),t.lanes=4194304)}else{if(!i)if(null!==(e=Bi(s))){if(t.flags|=128,i=!0,e=e.updateQueue,t.updateQueue=e,dl(t,e),pl(a,!0),null===a.tail&&"hidden"===a.tailMode&&!s.alternate&&!pa)return fl(t),null}else 2*ue()-a.renderingStartTime>Lc&&536870912!==n&&(t.flags|=128,i=!0,pl(a,!1),t.lanes=4194304);a.isBackwards?(s.sibling=t.child,t.child=s):(null!==(e=a.last)?e.sibling=s:t.child=s,a.last=s)}return null!==a.tail?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=ue(),e.sibling=null,n=Vi.current,H(Vi,i?1&n|2:1&n),pa&&sa(t,a.treeForkCount),e):(fl(t),null);case 22:case 23:return zi(t),Pi(),a=null!==t.memoizedState,null!==e?null!==e.memoizedState!==a&&(t.flags|=8192):a&&(t.flags|=8192),a?!!(536870912&n)&&!(128&t.flags)&&(fl(t),6&t.subtreeFlags&&(t.flags|=8192)):fl(t),null!==(n=t.updateQueue)&&dl(t,n.retryQueue),n=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),a=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(a=t.memoizedState.cachePool.pool),a!==n&&(t.flags|=2048),null!==e&&B(qa),null;case 24:return n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),ja(za),fl(t),null;case 25:case 30:return null}throw Error(r(156,t.tag))}function gl(e,t){switch(ca(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return ja(za),Y(),65536&(e=t.flags)&&!(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return J(t),null;case 31:if(null!==t.memoizedState){if(zi(t),null===t.alternate)throw Error(r(340));wa()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 13:if(zi(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(r(340));wa()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return B(Vi),null;case 4:return Y(),null;case 10:return ja(t.type),null;case 22:case 23:return zi(t),Pi(),null!==e&&B(qa),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return ja(za),null;default:return null}}function yl(e,t){switch(ca(t),t.tag){case 3:ja(za),Y();break;case 26:case 27:case 5:J(t);break;case 4:Y();break;case 31:null!==t.memoizedState&&zi(t);break;case 13:zi(t);break;case 19:B(Vi);break;case 10:ja(t.type);break;case 22:case 23:zi(t),Pi(),null!==e&&B(qa);break;case 24:ja(za)}}function xl(e,t){try{var n=t.updateQueue,r=null!==n?n.lastEffect:null;if(null!==r){var a=r.next;n=a;do{if((n.tag&e)===e){r=void 0;var i=n.create,s=n.inst;r=i(),s.destroy=r}n=n.next}while(n!==a)}}catch(o){Eu(t,t.return,o)}}function bl(e,t,n){try{var r=t.updateQueue,a=null!==r?r.lastEffect:null;if(null!==a){var i=a.next;r=i;do{if((r.tag&e)===e){var s=r.inst,o=s.destroy;if(void 0!==o){s.destroy=void 0,a=t;var l=n,c=o;try{c()}catch(u){Eu(a,l,u)}}}r=r.next}while(r!==i)}}catch(u){Eu(t,t.return,u)}}function vl(e){var t=e.updateQueue;if(null!==t){var n=e.stateNode;try{ji(t,n)}catch(r){Eu(e,e.return,r)}}}function wl(e,t,n){n.props=Eo(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(r){Eu(e,t,r)}}function kl(e,t){try{var n=e.ref;if(null!==n){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;default:r=e.stateNode}"function"==typeof n?e.refCleanup=n(r):n.current=r}}catch(a){Eu(e,t,a)}}function Sl(e,t){var n=e.ref,r=e.refCleanup;if(null!==n)if("function"==typeof r)try{r()}catch(a){Eu(e,t,a)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"==typeof n)try{n(null)}catch(i){Eu(e,t,i)}else n.current=null}function Nl(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(a){Eu(e,e.return,a)}}function El(e,t,n){try{var a=e.stateNode;!function(e,t,n,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,s=null,o=null,l=null,c=null,u=null,h=null;for(f in n){var d=n[f];if(n.hasOwnProperty(f)&&null!=d)switch(f){case"checked":case"value":break;case"defaultValue":c=d;default:a.hasOwnProperty(f)||dh(e,t,f,null,a,d)}}for(var p in a){var f=a[p];if(d=n[p],a.hasOwnProperty(p)&&(null!=f||null!=d))switch(p){case"type":s=f;break;case"name":i=f;break;case"checked":u=f;break;case"defaultChecked":h=f;break;case"value":o=f;break;case"defaultValue":l=f;break;case"children":case"dangerouslySetInnerHTML":if(null!=f)throw Error(r(137,t));break;default:f!==d&&dh(e,t,p,f,a,d)}}return void vt(e,o,l,c,u,h,s,i);case"select":for(s in f=o=l=p=null,n)if(c=n[s],n.hasOwnProperty(s)&&null!=c)switch(s){case"value":break;case"multiple":f=c;default:a.hasOwnProperty(s)||dh(e,t,s,null,a,c)}for(i in a)if(s=a[i],c=n[i],a.hasOwnProperty(i)&&(null!=s||null!=c))switch(i){case"value":p=s;break;case"defaultValue":l=s;break;case"multiple":o=s;default:s!==c&&dh(e,t,i,s,a,c)}return t=l,n=o,a=f,void(null!=p?St(e,!!n,p,!1):!!a!=!!n&&(null!=t?St(e,!!n,t,!0):St(e,!!n,n?[]:"",!1)));case"textarea":for(l in f=p=null,n)if(i=n[l],n.hasOwnProperty(l)&&null!=i&&!a.hasOwnProperty(l))switch(l){case"value":case"children":break;default:dh(e,t,l,null,a,i)}for(o in a)if(i=a[o],s=n[o],a.hasOwnProperty(o)&&(null!=i||null!=s))switch(o){case"value":p=i;break;case"defaultValue":f=i;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=i)throw Error(r(91));break;default:i!==s&&dh(e,t,o,i,a,s)}return void Nt(e,p,f);case"option":for(var m in n)if(p=n[m],n.hasOwnProperty(m)&&null!=p&&!a.hasOwnProperty(m))if("selected"===m)e.selected=!1;else dh(e,t,m,null,a,p);for(c in a)if(p=a[c],f=n[c],a.hasOwnProperty(c)&&p!==f&&(null!=p||null!=f))if("selected"===c)e.selected=p&&"function"!=typeof p&&"symbol"!=typeof p;else dh(e,t,c,p,a,f);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var g in n)p=n[g],n.hasOwnProperty(g)&&null!=p&&!a.hasOwnProperty(g)&&dh(e,t,g,null,a,p);for(u in a)if(p=a[u],f=n[u],a.hasOwnProperty(u)&&p!==f&&(null!=p||null!=f))switch(u){case"children":case"dangerouslySetInnerHTML":if(null!=p)throw Error(r(137,t));break;default:dh(e,t,u,p,a,f)}return;default:if(Tt(t)){for(var y in n)p=n[y],n.hasOwnProperty(y)&&void 0!==p&&!a.hasOwnProperty(y)&&ph(e,t,y,void 0,a,p);for(h in a)p=a[h],f=n[h],!a.hasOwnProperty(h)||p===f||void 0===p&&void 0===f||ph(e,t,h,p,a,f);return}}for(var x in n)p=n[x],n.hasOwnProperty(x)&&null!=p&&!a.hasOwnProperty(x)&&dh(e,t,x,null,a,p);for(d in a)p=a[d],f=n[d],!a.hasOwnProperty(d)||p===f||null==p&&null==f||dh(e,t,d,p,a,f)}(a,e.type,n,t),a[Ue]=t}catch(i){Eu(e,e.return,i)}}function Al(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag&&jh(e.type)||4===e.tag}function Cl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||Al(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(27===e.tag&&jh(e.type))continue e;if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function jl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?(9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).insertBefore(e,t):((t=9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).appendChild(e),null!=(n=n._reactRootContainer)||null!==t.onclick||(t.onclick=Rt));else if(4!==r&&(27===r&&jh(e.type)&&(n=e.stateNode,t=null),null!==(e=e.child)))for(jl(e,t,n),e=e.sibling;null!==e;)jl(e,t,n),e=e.sibling}function Ml(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&(27===r&&jh(e.type)&&(n=e.stateNode),null!==(e=e.child)))for(Ml(e,t,n),e=e.sibling;null!==e;)Ml(e,t,n),e=e.sibling}function Tl(e){var t=e.stateNode,n=e.memoizedProps;try{for(var r=e.type,a=t.attributes;a.length;)t.removeAttributeNode(a[0]);fh(t,r,n),t[He]=e,t[Ue]=n}catch(i){Eu(e,e.return,i)}}var Il=!1,Ol=!1,Pl=!1,Rl="function"==typeof WeakSet?WeakSet:Set,_l=null;function Ll(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:Xl(e,n),4&r&&xl(5,n);break;case 1:if(Xl(e,n),4&r)if(e=n.stateNode,null===t)try{e.componentDidMount()}catch(s){Eu(n,n.return,s)}else{var a=Eo(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(a,t,e.__reactInternalSnapshotBeforeUpdate)}catch(o){Eu(n,n.return,o)}}64&r&&vl(n),512&r&&kl(n,n.return);break;case 3:if(Xl(e,n),64&r&&null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 27:case 5:case 1:t=n.child.stateNode}try{ji(e,t)}catch(s){Eu(n,n.return,s)}}break;case 27:null===t&&4&r&&Tl(n);case 26:case 5:Xl(e,n),null===t&&4&r&&Nl(n),512&r&&kl(n,n.return);break;case 12:Xl(e,n);break;case 31:Xl(e,n),4&r&&Bl(e,n);break;case 13:Xl(e,n),4&r&&Hl(e,n),64&r&&(null!==(e=n.memoizedState)&&(null!==(e=e.dehydrated)&&function(e,t){var n=e.ownerDocument;if("$~"===e.data)e._reactRetry=t;else if("$?"!==e.data||"loading"!==n.readyState)t();else{var r=function(){t(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}(e,n=Mu.bind(null,n))));break;case 22:if(!(r=null!==n.memoizedState||Il)){t=null!==t&&null!==t.memoizedState||Ol,a=Il;var i=Ol;Il=r,(Ol=t)&&!i?Ql(e,n,!!(8772&n.subtreeFlags)):Xl(e,n),Il=a,Ol=i}break;case 30:break;default:Xl(e,n)}}function $l(e){var t=e.alternate;null!==t&&(e.alternate=null,$l(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&Ye(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Fl=null,Dl=!1;function zl(e,t,n){for(n=n.child;null!==n;)Vl(e,t,n),n=n.sibling}function Vl(e,t,n){if(ve&&"function"==typeof ve.onCommitFiberUnmount)try{ve.onCommitFiberUnmount(be,n)}catch(i){}switch(n.tag){case 26:Ol||Sl(n,t),zl(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode).parentNode.removeChild(n);break;case 27:Ol||Sl(n,t);var r=Fl,a=Dl;jh(n.type)&&(Fl=n.stateNode,Dl=!1),zl(e,t,n),zh(n.stateNode),Fl=r,Dl=a;break;case 5:Ol||Sl(n,t);case 6:if(r=Fl,a=Dl,Fl=null,zl(e,t,n),Dl=a,null!==(Fl=r))if(Dl)try{(9===Fl.nodeType?Fl.body:"HTML"===Fl.nodeName?Fl.ownerDocument.body:Fl).removeChild(n.stateNode)}catch(s){Eu(n,t,s)}else try{Fl.removeChild(n.stateNode)}catch(s){Eu(n,t,s)}break;case 18:null!==Fl&&(Dl?(Mh(9===(e=Fl).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,n.stateNode),Zd(e)):Mh(Fl,n.stateNode));break;case 4:r=Fl,a=Dl,Fl=n.stateNode.containerInfo,Dl=!0,zl(e,t,n),Fl=r,Dl=a;break;case 0:case 11:case 14:case 15:bl(2,n,t),Ol||bl(4,n,t),zl(e,t,n);break;case 1:Ol||(Sl(n,t),"function"==typeof(r=n.stateNode).componentWillUnmount&&wl(n,t,r)),zl(e,t,n);break;case 21:zl(e,t,n);break;case 22:Ol=(r=Ol)||null!==n.memoizedState,zl(e,t,n),Ol=r;break;default:zl(e,t,n)}}function Bl(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&null!==(e=e.memoizedState))){e=e.dehydrated;try{Zd(e)}catch(n){Eu(t,t.return,n)}}}function Hl(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{Zd(e)}catch(n){Eu(t,t.return,n)}}function Ul(e,t){var n=function(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new Rl),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new Rl),t;default:throw Error(r(435,e.tag))}}(e);t.forEach(function(t){if(!n.has(t)){n.add(t);var r=Tu.bind(null,e,t);t.then(r,r)}})}function Wl(e,t){var n=t.deletions;if(null!==n)for(var a=0;a<n.length;a++){var i=n[a],s=e,o=t,l=o;e:for(;null!==l;){switch(l.tag){case 27:if(jh(l.type)){Fl=l.stateNode,Dl=!1;break e}break;case 5:Fl=l.stateNode,Dl=!1;break e;case 3:case 4:Fl=l.stateNode.containerInfo,Dl=!0;break e}l=l.return}if(null===Fl)throw Error(r(160));Vl(s,o,i),Fl=null,Dl=!1,null!==(s=i.alternate)&&(s.return=null),i.return=null}if(13886&t.subtreeFlags)for(t=t.child;null!==t;)Gl(t,e),t=t.sibling}var Zl=null;function Gl(e,t){var n=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Wl(t,e),Kl(e),4&a&&(bl(3,e,e.return),xl(3,e),bl(5,e,e.return));break;case 1:Wl(t,e),Kl(e),512&a&&(Ol||null===n||Sl(n,n.return)),64&a&&Il&&(null!==(e=e.updateQueue)&&(null!==(a=e.callbacks)&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===n?a:n.concat(a))));break;case 26:var i=Zl;if(Wl(t,e),Kl(e),512&a&&(Ol||null===n||Sl(n,n.return)),4&a){var s=null!==n?n.memoizedState:null;if(a=e.memoizedState,null===n)if(null===a)if(null===e.stateNode){e:{a=e.type,n=e.memoizedProps,i=i.ownerDocument||i;t:switch(a){case"title":(!(s=i.getElementsByTagName("title")[0])||s[Xe]||s[He]||"http://www.w3.org/2000/svg"===s.namespaceURI||s.hasAttribute("itemprop"))&&(s=i.createElement(a),i.head.insertBefore(s,i.querySelector("head > title"))),fh(s,a,n),s[He]=e,nt(s),a=s;break e;case"link":var o=ad("link","href",i).get(a+(n.href||""));if(o)for(var l=0;l<o.length;l++)if((s=o[l]).getAttribute("href")===(null==n.href||""===n.href?null:n.href)&&s.getAttribute("rel")===(null==n.rel?null:n.rel)&&s.getAttribute("title")===(null==n.title?null:n.title)&&s.getAttribute("crossorigin")===(null==n.crossOrigin?null:n.crossOrigin)){o.splice(l,1);break t}fh(s=i.createElement(a),a,n),i.head.appendChild(s);break;case"meta":if(o=ad("meta","content",i).get(a+(n.content||"")))for(l=0;l<o.length;l++)if((s=o[l]).getAttribute("content")===(null==n.content?null:""+n.content)&&s.getAttribute("name")===(null==n.name?null:n.name)&&s.getAttribute("property")===(null==n.property?null:n.property)&&s.getAttribute("http-equiv")===(null==n.httpEquiv?null:n.httpEquiv)&&s.getAttribute("charset")===(null==n.charSet?null:n.charSet)){o.splice(l,1);break t}fh(s=i.createElement(a),a,n),i.head.appendChild(s);break;default:throw Error(r(468,a))}s[He]=e,nt(s),a=s}e.stateNode=a}else id(i,e.type,e.stateNode);else e.stateNode=Jh(i,a,e.memoizedProps);else s!==a?(null===s?null!==n.stateNode&&(n=n.stateNode).parentNode.removeChild(n):s.count--,null===a?id(i,e.type,e.stateNode):Jh(i,a,e.memoizedProps)):null===a&&null!==e.stateNode&&El(e,e.memoizedProps,n.memoizedProps)}break;case 27:Wl(t,e),Kl(e),512&a&&(Ol||null===n||Sl(n,n.return)),null!==n&&4&a&&El(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Wl(t,e),Kl(e),512&a&&(Ol||null===n||Sl(n,n.return)),32&e.flags){i=e.stateNode;try{At(i,"")}catch(m){Eu(e,e.return,m)}}4&a&&null!=e.stateNode&&El(e,i=e.memoizedProps,null!==n?n.memoizedProps:i),1024&a&&(Pl=!0);break;case 6:if(Wl(t,e),Kl(e),4&a){if(null===e.stateNode)throw Error(r(162));a=e.memoizedProps,n=e.stateNode;try{n.nodeValue=a}catch(m){Eu(e,e.return,m)}}break;case 3:if(rd=null,i=Zl,Zl=Hh(t.containerInfo),Wl(t,e),Zl=i,Kl(e),4&a&&null!==n&&n.memoizedState.isDehydrated)try{Zd(t.containerInfo)}catch(m){Eu(e,e.return,m)}Pl&&(Pl=!1,ql(e));break;case 4:a=Zl,Zl=Hh(e.stateNode.containerInfo),Wl(t,e),Kl(e),Zl=a;break;case 12:default:Wl(t,e),Kl(e);break;case 31:case 19:Wl(t,e),Kl(e),4&a&&(null!==(a=e.updateQueue)&&(e.updateQueue=null,Ul(e,a)));break;case 13:Wl(t,e),Kl(e),8192&e.child.flags&&null!==e.memoizedState!=(null!==n&&null!==n.memoizedState)&&(Rc=ue()),4&a&&(null!==(a=e.updateQueue)&&(e.updateQueue=null,Ul(e,a)));break;case 22:i=null!==e.memoizedState;var c=null!==n&&null!==n.memoizedState,u=Il,h=Ol;if(Il=u||i,Ol=h||c,Wl(t,e),Ol=h,Il=u,Kl(e),8192&a)e:for(t=e.stateNode,t._visibility=i?-2&t._visibility:1|t._visibility,i&&(null===n||c||Il||Ol||Yl(e)),n=null,t=e;;){if(5===t.tag||26===t.tag){if(null===n){c=n=t;try{if(s=c.stateNode,i)"function"==typeof(o=s.style).setProperty?o.setProperty("display","none","important"):o.display="none";else{l=c.stateNode;var d=c.memoizedProps.style,p=null!=d&&d.hasOwnProperty("display")?d.display:null;l.style.display=null==p||"boolean"==typeof p?"":(""+p).trim()}}catch(m){Eu(c,c.return,m)}}}else if(6===t.tag){if(null===n){c=t;try{c.stateNode.nodeValue=i?"":c.memoizedProps}catch(m){Eu(c,c.return,m)}}}else if(18===t.tag){if(null===n){c=t;try{var f=c.stateNode;i?Th(f,!0):Th(c.stateNode,!1)}catch(m){Eu(c,c.return,m)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}4&a&&(null!==(a=e.updateQueue)&&(null!==(n=a.retryQueue)&&(a.retryQueue=null,Ul(e,n))));case 30:case 21:}}function Kl(e){var t=e.flags;if(2&t){try{for(var n,a=e.return;null!==a;){if(Al(a)){n=a;break}a=a.return}if(null==n)throw Error(r(160));switch(n.tag){case 27:var i=n.stateNode;Ml(e,Cl(e),i);break;case 5:var s=n.stateNode;32&n.flags&&(At(s,""),n.flags&=-33),Ml(e,Cl(e),s);break;case 3:case 4:var o=n.stateNode.containerInfo;jl(e,Cl(e),o);break;default:throw Error(r(161))}}catch(l){Eu(e,e.return,l)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function ql(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;ql(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function Xl(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)Ll(e,t.alternate,t),t=t.sibling}function Yl(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:bl(4,t,t.return),Yl(t);break;case 1:Sl(t,t.return);var n=t.stateNode;"function"==typeof n.componentWillUnmount&&wl(t,t.return,n),Yl(t);break;case 27:zh(t.stateNode);case 26:case 5:Sl(t,t.return),Yl(t);break;case 22:null===t.memoizedState&&Yl(t);break;default:Yl(t)}e=e.sibling}}function Ql(e,t,n){for(n=n&&!!(8772&t.subtreeFlags),t=t.child;null!==t;){var r=t.alternate,a=e,i=t,s=i.flags;switch(i.tag){case 0:case 11:case 15:Ql(a,i,n),xl(4,i);break;case 1:if(Ql(a,i,n),"function"==typeof(a=(r=i).stateNode).componentDidMount)try{a.componentDidMount()}catch(c){Eu(r,r.return,c)}if(null!==(a=(r=i).updateQueue)){var o=r.stateNode;try{var l=a.shared.hiddenCallbacks;if(null!==l)for(a.shared.hiddenCallbacks=null,a=0;a<l.length;a++)Ci(l[a],o)}catch(c){Eu(r,r.return,c)}}n&&64&s&&vl(i),kl(i,i.return);break;case 27:Tl(i);case 26:case 5:Ql(a,i,n),n&&null===r&&4&s&&Nl(i),kl(i,i.return);break;case 12:Ql(a,i,n);break;case 31:Ql(a,i,n),n&&4&s&&Bl(a,i);break;case 13:Ql(a,i,n),n&&4&s&&Hl(a,i);break;case 22:null===i.memoizedState&&Ql(a,i,n),kl(i,i.return);break;case 30:break;default:Ql(a,i,n)}t=t.sibling}}function Jl(e,t){var n=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==n&&(null!=e&&e.refCount++,null!=n&&Ba(n))}function ec(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Ba(e))}function tc(e,t,n,r){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)nc(e,t,n,r),t=t.sibling}function nc(e,t,n,r){var a=t.flags;switch(t.tag){case 0:case 11:case 15:tc(e,t,n,r),2048&a&&xl(9,t);break;case 1:case 31:case 13:default:tc(e,t,n,r);break;case 3:tc(e,t,n,r),2048&a&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Ba(e)));break;case 12:if(2048&a){tc(e,t,n,r),e=t.stateNode;try{var i=t.memoizedProps,s=i.id,o=i.onPostCommit;"function"==typeof o&&o(s,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(l){Eu(t,t.return,l)}}else tc(e,t,n,r);break;case 23:break;case 22:i=t.stateNode,s=t.alternate,null!==t.memoizedState?2&i._visibility?tc(e,t,n,r):ac(e,t):2&i._visibility?tc(e,t,n,r):(i._visibility|=2,rc(e,t,n,r,!!(10256&t.subtreeFlags)||!1)),2048&a&&Jl(s,t);break;case 24:tc(e,t,n,r),2048&a&&ec(t.alternate,t)}}function rc(e,t,n,r,a){for(a=a&&(!!(10256&t.subtreeFlags)||!1),t=t.child;null!==t;){var i=e,s=t,o=n,l=r,c=s.flags;switch(s.tag){case 0:case 11:case 15:rc(i,s,o,l,a),xl(8,s);break;case 23:break;case 22:var u=s.stateNode;null!==s.memoizedState?2&u._visibility?rc(i,s,o,l,a):ac(i,s):(u._visibility|=2,rc(i,s,o,l,a)),a&&2048&c&&Jl(s.alternate,s);break;case 24:rc(i,s,o,l,a),a&&2048&c&&ec(s.alternate,s);break;default:rc(i,s,o,l,a)}t=t.sibling}}function ac(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var n=e,r=t,a=r.flags;switch(r.tag){case 22:ac(n,r),2048&a&&Jl(r.alternate,r);break;case 24:ac(n,r),2048&a&&ec(r.alternate,r);break;default:ac(n,r)}t=t.sibling}}var ic=8192;function sc(e,t,n){if(e.subtreeFlags&ic)for(e=e.child;null!==e;)oc(e,t,n),e=e.sibling}function oc(e,t,n){switch(e.tag){case 26:sc(e,t,n),e.flags&ic&&null!==e.memoizedState&&function(e,t,n,r){if(!("stylesheet"!==n.type||"string"==typeof r.media&&!1===matchMedia(r.media).matches||4&n.state.loading)){if(null===n.instance){var a=Kh(r.href),i=t.querySelector(qh(a));if(i)return null!==(t=i._p)&&"object"==typeof t&&"function"==typeof t.then&&(e.count++,e=ld.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=i,void nt(i);i=t.ownerDocument||t,r=Xh(r),(a=Vh.get(a))&&td(r,a),nt(i=i.createElement("link"));var s=i;s._p=new Promise(function(e,t){s.onload=e,s.onerror=t}),fh(i,"link",r),n.instance=i}null===e.stylesheets&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&!(3&n.state.loading)&&(e.count++,n=ld.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}(n,Zl,e.memoizedState,e.memoizedProps);break;case 5:default:sc(e,t,n);break;case 3:case 4:var r=Zl;Zl=Hh(e.stateNode.containerInfo),sc(e,t,n),Zl=r;break;case 22:null===e.memoizedState&&(null!==(r=e.alternate)&&null!==r.memoizedState?(r=ic,ic=16777216,sc(e,t,n),ic=r):sc(e,t,n))}}function lc(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function cc(e){var t=e.deletions;if(16&e.flags){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];_l=r,dc(r,e)}lc(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)uc(e),e=e.sibling}function uc(e){switch(e.tag){case 0:case 11:case 15:cc(e),2048&e.flags&&bl(9,e,e.return);break;case 3:case 12:default:cc(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&2&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-3,hc(e)):cc(e)}}function hc(e){var t=e.deletions;if(16&e.flags){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];_l=r,dc(r,e)}lc(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:bl(8,t,t.return),hc(t);break;case 22:2&(n=t.stateNode)._visibility&&(n._visibility&=-3,hc(t));break;default:hc(t)}e=e.sibling}}function dc(e,t){for(;null!==_l;){var n=_l;switch(n.tag){case 0:case 11:case 15:bl(8,n,t);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var r=n.memoizedState.cachePool.pool;null!=r&&r.refCount++}break;case 24:Ba(n.memoizedState.cache)}if(null!==(r=n.child))r.return=n,_l=r;else e:for(n=e;null!==_l;){var a=(r=_l).sibling,i=r.return;if($l(r),r===n){_l=null;break e}if(null!==a){a.return=i,_l=a;break e}_l=i}}}var pc={getCacheForType:function(e){var t=Ra(za),n=t.data.get(e);return void 0===n&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return Ra(za).controller.signal}},fc="function"==typeof WeakMap?WeakMap:Map,mc=0,gc=null,yc=null,xc=0,bc=0,vc=null,wc=!1,kc=!1,Sc=!1,Nc=0,Ec=0,Ac=0,Cc=0,jc=0,Mc=0,Tc=0,Ic=null,Oc=null,Pc=!1,Rc=0,_c=0,Lc=1/0,$c=null,Fc=null,Dc=0,zc=null,Vc=null,Bc=0,Hc=0,Uc=null,Wc=null,Zc=0,Gc=null;function Kc(){return 2&mc&&0!==xc?xc&-xc:null!==L.T?Uu():ze()}function qc(){if(0===Mc)if(536870912&xc&&!pa)Mc=536870912;else{var e=Ae;!(3932160&(Ae<<=1))&&(Ae=262144),Mc=e}return null!==(e=Ri.current)&&(e.flags|=32),Mc}function Xc(e,t,n){(e!==gc||2!==bc&&9!==bc)&&null===e.cancelPendingCommit||(ru(e,0),eu(e,xc,Mc,!1)),Re(e,n),2&mc&&e===gc||(e===gc&&(!(2&mc)&&(Cc|=n),4===Ec&&eu(e,xc,Mc,!1)),$u(e))}function Yc(e,t,n){if(6&mc)throw Error(r(327));for(var a=!n&&!(127&t)&&0===(t&e.expiredLanes)||Te(e,t),i=a?function(e,t){var n=mc;mc|=2;var a=su(),i=ou();gc!==e||xc!==t?($c=null,Lc=ue()+500,ru(e,t)):kc=Te(e,t);e:for(;;)try{if(0!==bc&&null!==yc){t=yc;var s=vc;t:switch(bc){case 1:bc=0,vc=null,fu(e,t,s,1);break;case 2:case 9:if(ri(s)){bc=0,vc=null,pu(t);break}t=function(){2!==bc&&9!==bc||gc!==e||(bc=7),$u(e)},s.then(t,t);break e;case 3:bc=7;break e;case 4:bc=5;break e;case 7:ri(s)?(bc=0,vc=null,pu(t)):(bc=0,vc=null,fu(e,t,s,7));break;case 5:var o=null;switch(yc.tag){case 26:o=yc.memoizedState;case 5:case 27:var l=yc;if(o?sd(o):l.stateNode.complete){bc=0,vc=null;var c=l.sibling;if(null!==c)yc=c;else{var u=l.return;null!==u?(yc=u,mu(u)):yc=null}break t}}bc=0,vc=null,fu(e,t,s,5);break;case 6:bc=0,vc=null,fu(e,t,s,6);break;case 8:nu(),Ec=6;break e;default:throw Error(r(462))}}hu();break}catch(h){au(e,h)}return Aa=Ea=null,L.H=a,L.A=i,mc=n,null!==yc?0:(gc=null,xc=0,Or(),Ec)}(e,t):cu(e,t,!0),s=a;;){if(0===i){kc&&!a&&eu(e,t,0,!1);break}if(n=e.current.alternate,!s||Jc(n)){if(2===i){if(s=t,e.errorRecoveryDisabledLanes&s)var o=0;else o=0!==(o=-536870913&e.pendingLanes)?o:536870912&o?536870912:0;if(0!==o){t=o;e:{var l=e;i=Ic;var c=l.current.memoizedState.isDehydrated;if(c&&(ru(l,o).flags|=256),2!==(o=cu(l,o,!1))){if(Sc&&!c){l.errorRecoveryDisabledLanes|=s,Cc|=s,i=4;break e}s=Oc,Oc=i,null!==s&&(null===Oc?Oc=s:Oc.push.apply(Oc,s))}i=o}if(s=!1,2!==i)continue}}if(1===i){ru(e,0),eu(e,t,0,!0);break}e:{switch(a=e,s=i){case 0:case 1:throw Error(r(345));case 4:if((4194048&t)!==t)break;case 6:eu(a,t,Mc,!wc);break e;case 2:Oc=null;break;case 3:case 5:break;default:throw Error(r(329))}if((62914560&t)===t&&10<(i=Rc+300-ue())){if(eu(a,t,Mc,!wc),0!==Me(a,0,!0))break e;Bc=t,a.timeoutHandle=Sh(Qc.bind(null,a,n,Oc,$c,Pc,t,Mc,Cc,Tc,wc,s,"Throttled",-0,0),i)}else Qc(a,n,Oc,$c,Pc,t,Mc,Cc,Tc,wc,s,null,-0,0)}break}i=cu(e,t,!1),s=!1}$u(e)}function Qc(e,t,n,r,a,i,s,o,l,c,u,h,d,p){if(e.timeoutHandle=-1,8192&(h=t.subtreeFlags)||!(16785408&~h)){oc(t,i,h={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Rt});var f=(62914560&i)===i?Rc-ue():(4194048&i)===i?_c-ue():0;if(null!==(f=function(e,t){return e.stylesheets&&0===e.count&&ud(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var r=setTimeout(function(){if(e.stylesheets&&ud(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}},6e4+t);0<e.imgBytes&&0===od&&(od=62500*function(){if("function"==typeof performance.getEntriesByType){for(var e=0,t=0,n=performance.getEntriesByType("resource"),r=0;r<n.length;r++){var a=n[r],i=a.transferSize,s=a.initiatorType,o=a.duration;if(i&&o&&mh(s)){for(s=0,o=a.responseEnd,r+=1;r<n.length;r++){var l=n[r],c=l.startTime;if(c>o)break;var u=l.transferSize,h=l.initiatorType;u&&mh(h)&&(s+=u*((l=l.responseEnd)<o?1:(o-c)/(l-c)))}if(--r,t+=8*(i+s)/(a.duration/1e3),10<++e)break}}if(0<e)return t/e/1e6}return navigator.connection&&"number"==typeof(e=navigator.connection.downlink)?e:5}());var a=setTimeout(function(){if(e.waitingForImages=!1,0===e.count&&(e.stylesheets&&ud(e,e.stylesheets),e.unsuspend)){var t=e.unsuspend;e.unsuspend=null,t()}},(e.imgBytes>od?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(r),clearTimeout(a)}}:null}(h,f)))return Bc=i,e.cancelPendingCommit=f(yu.bind(null,e,t,i,n,r,a,s,o,l,u,h,null,d,p)),void eu(e,i,s,!c)}yu(e,t,i,n,r,a,s,o,l)}function Jc(e){for(var t=e;;){var n=t.tag;if((0===n||11===n||15===n)&&16384&t.flags&&(null!==(n=t.updateQueue)&&null!==(n=n.stores)))for(var r=0;r<n.length;r++){var a=n[r],i=a.getSnapshot;a=a.value;try{if(!er(i(),a))return!1}catch(s){return!1}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function eu(e,t,n,r){t&=~jc,t&=~Cc,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var a=t;0<a;){var i=31-ke(a),s=1<<i;r[i]=-1,a&=~s}0!==n&&_e(e,n,t)}function tu(){return!!(6&mc)||(Fu(0),!1)}function nu(){if(null!==yc){if(0===bc)var e=yc.return;else Aa=Ea=null,ls(e=yc),ci=null,ui=0,e=yc;for(;null!==e;)yl(e.alternate,e),e=e.return;yc=null}}function ru(e,t){var n=e.timeoutHandle;-1!==n&&(e.timeoutHandle=-1,Nh(n)),null!==(n=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,n()),Bc=0,nu(),gc=e,yc=n=Br(e.current,null),xc=t,bc=0,vc=null,wc=!1,kc=Te(e,t),Sc=!1,Tc=Mc=jc=Cc=Ac=Ec=0,Oc=Ic=null,Pc=!1,8&t&&(t|=32&t);var r=e.entangledLanes;if(0!==r)for(e=e.entanglements,r&=t;0<r;){var a=31-ke(r),i=1<<a;t|=e[a],r&=~i}return Nc=t,Or(),n}function au(e,t){Ui=null,L.H=yo,t===Ja||t===ti?(t=oi(),bc=3):t===ei?(t=oi(),bc=4):bc=t===Ro?8:null!==t&&"object"==typeof t&&"function"==typeof t.then?6:1,vc=t,null===yc&&(Ec=1,Mo(e,Xr(t,e.current)))}function iu(){var e=Ri.current;return null===e||((4194048&xc)===xc?null===_i:!!((62914560&xc)===xc||536870912&xc)&&e===_i)}function su(){var e=L.H;return L.H=yo,null===e?yo:e}function ou(){var e=L.A;return L.A=pc,e}function lu(){Ec=4,wc||(4194048&xc)!==xc&&null!==Ri.current||(kc=!0),!(134217727&Ac)&&!(134217727&Cc)||null===gc||eu(gc,xc,Mc,!1)}function cu(e,t,n){var r=mc;mc|=2;var a=su(),i=ou();gc===e&&xc===t||($c=null,ru(e,t)),t=!1;var s=Ec;e:for(;;)try{if(0!==bc&&null!==yc){var o=yc,l=vc;switch(bc){case 8:nu(),s=6;break e;case 3:case 2:case 9:case 6:null===Ri.current&&(t=!0);var c=bc;if(bc=0,vc=null,fu(e,o,l,c),n&&kc){s=0;break e}break;default:c=bc,bc=0,vc=null,fu(e,o,l,c)}}uu(),s=Ec;break}catch(u){au(e,u)}return t&&e.shellSuspendCounter++,Aa=Ea=null,mc=r,L.H=a,L.A=i,null===yc&&(gc=null,xc=0,Or()),s}function uu(){for(;null!==yc;)du(yc)}function hu(){for(;null!==yc&&!le();)du(yc)}function du(e){var t=ll(e.alternate,e,Nc);e.memoizedProps=e.pendingProps,null===t?mu(e):yc=t}function pu(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Go(n,t,t.pendingProps,t.type,void 0,xc);break;case 11:t=Go(n,t,t.pendingProps,t.type.render,t.ref,xc);break;case 5:ls(t);default:yl(n,t),t=ll(n,t=yc=Hr(t,Nc),Nc)}e.memoizedProps=e.pendingProps,null===t?mu(e):yc=t}function fu(e,t,n,a){Aa=Ea=null,ls(t),ci=null,ui=0;var i=t.return;try{if(function(e,t,n,a,i){if(n.flags|=32768,null!==a&&"object"==typeof a&&"function"==typeof a.then){if(null!==(t=n.alternate)&&Ia(t,n,i,!0),null!==(n=Ri.current)){switch(n.tag){case 31:case 13:return null===_i?lu():null===n.alternate&&0===Ec&&(Ec=3),n.flags&=-257,n.flags|=65536,n.lanes=i,a===ni?n.flags|=16384:(null===(t=n.updateQueue)?n.updateQueue=new Set([a]):t.add(a),Au(e,a,i)),!1;case 22:return n.flags|=65536,a===ni?n.flags|=16384:(null===(t=n.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([a])},n.updateQueue=t):null===(n=t.retryQueue)?t.retryQueue=new Set([a]):n.add(a),Au(e,a,i)),!1}throw Error(r(435,n.tag))}return Au(e,a,i),lu(),!1}if(pa)return null!==(t=Ri.current)?(!(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=i,a!==ga&&Sa(Xr(e=Error(r(422),{cause:a}),n))):(a!==ga&&Sa(Xr(t=Error(r(423),{cause:a}),n)),(e=e.current.alternate).flags|=65536,i&=-i,e.lanes|=i,a=Xr(a,n),Si(e,i=Io(e.stateNode,a,i)),4!==Ec&&(Ec=2)),!1;var s=Error(r(520),{cause:a});if(s=Xr(s,n),null===Ic?Ic=[s]:Ic.push(s),4!==Ec&&(Ec=2),null===t)return!0;a=Xr(a,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=i&-i,n.lanes|=e,Si(n,e=Io(n.stateNode,a,e)),!1;case 1:if(t=n.type,s=n.stateNode,!(128&n.flags||"function"!=typeof t.getDerivedStateFromError&&(null===s||"function"!=typeof s.componentDidCatch||null!==Fc&&Fc.has(s))))return n.flags|=65536,i&=-i,n.lanes|=i,Po(i=Oo(i),e,n,a),Si(n,i),!1}n=n.return}while(null!==n);return!1}(e,i,t,n,xc))return Ec=1,Mo(e,Xr(n,e.current)),void(yc=null)}catch(s){if(null!==i)throw yc=i,s;return Ec=1,Mo(e,Xr(n,e.current)),void(yc=null)}32768&t.flags?(pa||1===a?e=!0:kc||536870912&xc?e=!1:(wc=e=!0,(2===a||9===a||3===a||6===a)&&(null!==(a=Ri.current)&&13===a.tag&&(a.flags|=16384))),gu(t,e)):mu(t)}function mu(e){var t=e;do{if(32768&t.flags)return void gu(t,wc);e=t.return;var n=ml(t.alternate,t,Nc);if(null!==n)return void(yc=n);if(null!==(t=t.sibling))return void(yc=t);yc=t=e}while(null!==t);0===Ec&&(Ec=5)}function gu(e,t){do{var n=gl(e.alternate,e);if(null!==n)return n.flags&=32767,void(yc=n);if(null!==(n=e.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&null!==(e=e.sibling))return void(yc=e);yc=e=n}while(null!==e);Ec=6,yc=null}function yu(e,t,n,a,i,s,o,l,c){e.cancelPendingCommit=null;do{ku()}while(0!==Dc);if(6&mc)throw Error(r(327));if(null!==t){if(t===e.current)throw Error(r(177));if(s=t.lanes|t.childLanes,function(e,t,n,r,a,i){var s=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var o=e.entanglements,l=e.expirationTimes,c=e.hiddenUpdates;for(n=s&~n;0<n;){var u=31-ke(n),h=1<<u;o[u]=0,l[u]=-1;var d=c[u];if(null!==d)for(c[u]=null,u=0;u<d.length;u++){var p=d[u];null!==p&&(p.lane&=-536870913)}n&=~h}0!==r&&_e(e,r,0),0!==i&&0===a&&0!==e.tag&&(e.suspendedLanes|=i&~(s&~t))}(e,n,s|=Ir,o,l,c),e===gc&&(yc=gc=null,xc=0),Vc=t,zc=e,Bc=n,Hc=s,Uc=i,Wc=a,10256&t.subtreeFlags||10256&t.flags?(e.callbackNode=null,e.callbackPriority=0,se(fe,function(){return Su(),null})):(e.callbackNode=null,e.callbackPriority=0),a=!!(13878&t.flags),13878&t.subtreeFlags||a){a=L.T,L.T=null,i=$.p,$.p=2,o=mc,mc|=4;try{!function(e,t){if(e=e.containerInfo,gh=wd,sr(e=ir(e))){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var a=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(a&&0!==a.rangeCount){n=a.anchorNode;var i=a.anchorOffset,s=a.focusNode;a=a.focusOffset;try{n.nodeType,s.nodeType}catch(g){n=null;break e}var o=0,l=-1,c=-1,u=0,h=0,d=e,p=null;t:for(;;){for(var f;d!==n||0!==i&&3!==d.nodeType||(l=o+i),d!==s||0!==a&&3!==d.nodeType||(c=o+a),3===d.nodeType&&(o+=d.nodeValue.length),null!==(f=d.firstChild);)p=d,d=f;for(;;){if(d===e)break t;if(p===n&&++u===i&&(l=o),p===s&&++h===a&&(c=o),null!==(f=d.nextSibling))break;p=(d=p).parentNode}d=f}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(yh={focusedElem:e,selectionRange:n},wd=!1,_l=t;null!==_l;)if(e=(t=_l).child,1028&t.subtreeFlags&&null!==e)e.return=t,_l=e;else for(;null!==_l;){switch(s=(t=_l).alternate,e=t.flags,t.tag){case 0:if(4&e&&null!==(e=null!==(e=t.updateQueue)?e.events:null))for(n=0;n<e.length;n++)(i=e[n]).ref.impl=i.nextImpl;break;case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(1024&e&&null!==s){e=void 0,n=t,i=s.memoizedProps,s=s.memoizedState,a=n.stateNode;try{var m=Eo(n.type,i);e=a.getSnapshotBeforeUpdate(m,s),a.__reactInternalSnapshotBeforeUpdate=e}catch(y){Eu(n,n.return,y)}}break;case 3:if(1024&e)if(9===(n=(e=t.stateNode.containerInfo).nodeType))Ih(e);else if(1===n)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Ih(e);break;default:e.textContent=""}break;default:if(1024&e)throw Error(r(163))}if(null!==(e=t.sibling)){e.return=t.return,_l=e;break}_l=t.return}}(e,t)}finally{mc=o,$.p=i,L.T=a}}Dc=1,xu(),bu(),vu()}}function xu(){if(1===Dc){Dc=0;var e=zc,t=Vc,n=!!(13878&t.flags);if(13878&t.subtreeFlags||n){n=L.T,L.T=null;var r=$.p;$.p=2;var a=mc;mc|=4;try{Gl(t,e);var i=yh,s=ir(e.containerInfo),o=i.focusedElem,l=i.selectionRange;if(s!==o&&o&&o.ownerDocument&&ar(o.ownerDocument.documentElement,o)){if(null!==l&&sr(o)){var c=l.start,u=l.end;if(void 0===u&&(u=c),"selectionStart"in o)o.selectionStart=c,o.selectionEnd=Math.min(u,o.value.length);else{var h=o.ownerDocument||document,d=h&&h.defaultView||window;if(d.getSelection){var p=d.getSelection(),f=o.textContent.length,m=Math.min(l.start,f),g=void 0===l.end?m:Math.min(l.end,f);!p.extend&&m>g&&(s=g,g=m,m=s);var y=rr(o,m),x=rr(o,g);if(y&&x&&(1!==p.rangeCount||p.anchorNode!==y.node||p.anchorOffset!==y.offset||p.focusNode!==x.node||p.focusOffset!==x.offset)){var b=h.createRange();b.setStart(y.node,y.offset),p.removeAllRanges(),m>g?(p.addRange(b),p.extend(x.node,x.offset)):(b.setEnd(x.node,x.offset),p.addRange(b))}}}}for(h=[],p=o;p=p.parentNode;)1===p.nodeType&&h.push({element:p,left:p.scrollLeft,top:p.scrollTop});for("function"==typeof o.focus&&o.focus(),o=0;o<h.length;o++){var v=h[o];v.element.scrollLeft=v.left,v.element.scrollTop=v.top}}wd=!!gh,yh=gh=null}finally{mc=a,$.p=r,L.T=n}}e.current=t,Dc=2}}function bu(){if(2===Dc){Dc=0;var e=zc,t=Vc,n=!!(8772&t.flags);if(8772&t.subtreeFlags||n){n=L.T,L.T=null;var r=$.p;$.p=2;var a=mc;mc|=4;try{Ll(e,t.alternate,t)}finally{mc=a,$.p=r,L.T=n}}Dc=3}}function vu(){if(4===Dc||3===Dc){Dc=0,ce();var e=zc,t=Vc,n=Bc,r=Wc;10256&t.subtreeFlags||10256&t.flags?Dc=5:(Dc=0,Vc=zc=null,wu(e,e.pendingLanes));var a=e.pendingLanes;if(0===a&&(Fc=null),De(n),t=t.stateNode,ve&&"function"==typeof ve.onCommitFiberRoot)try{ve.onCommitFiberRoot(be,t,void 0,!(128&~t.current.flags))}catch(l){}if(null!==r){t=L.T,a=$.p,$.p=2,L.T=null;try{for(var i=e.onRecoverableError,s=0;s<r.length;s++){var o=r[s];i(o.value,{componentStack:o.stack})}}finally{L.T=t,$.p=a}}3&Bc&&ku(),$u(e),a=e.pendingLanes,261930&n&&42&a?e===Gc?Zc++:(Zc=0,Gc=e):Zc=0,Fu(0)}}function wu(e,t){0===(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,Ba(t)))}function ku(){return xu(),bu(),vu(),Su()}function Su(){if(5!==Dc)return!1;var e=zc,t=Hc;Hc=0;var n=De(Bc),a=L.T,i=$.p;try{$.p=32>n?32:n,L.T=null,n=Uc,Uc=null;var s=zc,o=Bc;if(Dc=0,Vc=zc=null,Bc=0,6&mc)throw Error(r(331));var l=mc;if(mc|=4,uc(s.current),nc(s,s.current,o,n),mc=l,Fu(0,!1),ve&&"function"==typeof ve.onPostCommitFiberRoot)try{ve.onPostCommitFiberRoot(be,s)}catch(c){}return!0}finally{$.p=i,L.T=a,wu(e,t)}}function Nu(e,t,n){t=Xr(n,t),null!==(e=wi(e,t=Io(e.stateNode,t,2),2))&&(Re(e,2),$u(e))}function Eu(e,t,n){if(3===e.tag)Nu(e,e,n);else for(;null!==t;){if(3===t.tag){Nu(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"==typeof t.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===Fc||!Fc.has(r))){e=Xr(n,e),null!==(r=wi(t,n=Oo(2),2))&&(Po(n,r,t,e),Re(r,2),$u(r));break}}t=t.return}}function Au(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new fc;var a=new Set;r.set(t,a)}else void 0===(a=r.get(t))&&(a=new Set,r.set(t,a));a.has(n)||(Sc=!0,a.add(n),e=Cu.bind(null,e,t,n),t.then(e,e))}function Cu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,gc===e&&(xc&n)===n&&(4===Ec||3===Ec&&(62914560&xc)===xc&&300>ue()-Rc?!(2&mc)&&ru(e,0):jc|=n,Tc===xc&&(Tc=0)),$u(e)}function ju(e,t){0===t&&(t=Oe()),null!==(e=_r(e,t))&&(Re(e,t),$u(e))}function Mu(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),ju(e,n)}function Tu(e,t){var n=0;switch(e.tag){case 31:case 13:var a=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:a=e.stateNode;break;case 22:a=e.stateNode._retryCache;break;default:throw Error(r(314))}null!==a&&a.delete(t),ju(e,n)}var Iu=null,Ou=null,Pu=!1,Ru=!1,_u=!1,Lu=0;function $u(e){e!==Ou&&null===e.next&&(null===Ou?Iu=Ou=e:Ou=Ou.next=e),Ru=!0,Pu||(Pu=!0,Ah(function(){6&mc?se(de,Du):zu()}))}function Fu(e,t){if(!_u&&Ru){_u=!0;do{for(var n=!1,r=Iu;null!==r;){if(0!==e){var a=r.pendingLanes;if(0===a)var i=0;else{var s=r.suspendedLanes,o=r.pingedLanes;i=(1<<31-ke(42|e)+1)-1,i=201326741&(i&=a&~(s&~o))?201326741&i|1:i?2|i:0}0!==i&&(n=!0,Hu(r,i))}else i=xc,!(3&(i=Me(r,r===gc?i:0,null!==r.cancelPendingCommit||-1!==r.timeoutHandle)))||Te(r,i)||(n=!0,Hu(r,i));r=r.next}}while(n);_u=!1}}function Du(){zu()}function zu(){Ru=Pu=!1;var e=0;0!==Lu&&function(){var e=window.event;if(e&&"popstate"===e.type)return e!==kh&&(kh=e,!0);return kh=null,!1}()&&(e=Lu);for(var t=ue(),n=null,r=Iu;null!==r;){var a=r.next,i=Vu(r,t);0===i?(r.next=null,null===n?Iu=a:n.next=a,null===a&&(Ou=n)):(n=r,(0!==e||3&i)&&(Ru=!0)),r=a}0!==Dc&&5!==Dc||Fu(e),0!==Lu&&(Lu=0)}function Vu(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,a=e.expirationTimes,i=-62914561&e.pendingLanes;0<i;){var s=31-ke(i),o=1<<s,l=a[s];-1===l?0!==(o&n)&&0===(o&r)||(a[s]=Ie(o,t)):l<=t&&(e.expiredLanes|=o),i&=~o}if(n=xc,n=Me(e,e===(t=gc)?n:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle),r=e.callbackNode,0===n||e===t&&(2===bc||9===bc)||null!==e.cancelPendingCommit)return null!==r&&null!==r&&oe(r),e.callbackNode=null,e.callbackPriority=0;if(!(3&n)||Te(e,n)){if((t=n&-n)===e.callbackPriority)return t;switch(null!==r&&oe(r),De(n)){case 2:case 8:n=pe;break;case 32:default:n=fe;break;case 268435456:n=ge}return r=Bu.bind(null,e),n=se(n,r),e.callbackPriority=t,e.callbackNode=n,t}return null!==r&&null!==r&&oe(r),e.callbackPriority=2,e.callbackNode=null,2}function Bu(e,t){if(0!==Dc&&5!==Dc)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(ku()&&e.callbackNode!==n)return null;var r=xc;return 0===(r=Me(e,e===gc?r:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle))?null:(Yc(e,r,t),Vu(e,ue()),null!=e.callbackNode&&e.callbackNode===n?Bu.bind(null,e):null)}function Hu(e,t){if(ku())return null;Yc(e,t,!0)}function Uu(){if(0===Lu){var e=Wa;0===e&&(e=Ee,!(261888&(Ee<<=1))&&(Ee=256)),Lu=e}return Lu}function Wu(e){return null==e||"symbol"==typeof e||"boolean"==typeof e?null:"function"==typeof e?e:Pt(""+e)}function Zu(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}for(var Gu=0;Gu<Ar.length;Gu++){var Ku=Ar[Gu];Cr(Ku.toLowerCase(),"on"+(Ku[0].toUpperCase()+Ku.slice(1)))}Cr(xr,"onAnimationEnd"),Cr(br,"onAnimationIteration"),Cr(vr,"onAnimationStart"),Cr("dblclick","onDoubleClick"),Cr("focusin","onFocus"),Cr("focusout","onBlur"),Cr(wr,"onTransitionRun"),Cr(kr,"onTransitionStart"),Cr(Sr,"onTransitionCancel"),Cr(Nr,"onTransitionEnd"),st("onMouseEnter",["mouseout","mouseover"]),st("onMouseLeave",["mouseout","mouseover"]),st("onPointerEnter",["pointerout","pointerover"]),st("onPointerLeave",["pointerout","pointerover"]),it("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),it("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),it("onBeforeInput",["compositionend","keypress","textInput","paste"]),it("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),it("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),it("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var qu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Xu=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(qu));function Yu(e,t){t=!!(4&t);for(var n=0;n<e.length;n++){var r=e[n],a=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var s=r.length-1;0<=s;s--){var o=r[s],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==i&&a.isPropagationStopped())break e;i=o,a.currentTarget=c;try{i(a)}catch(u){jr(u)}a.currentTarget=null,i=l}else for(s=0;s<r.length;s++){if(l=(o=r[s]).instance,c=o.currentTarget,o=o.listener,l!==i&&a.isPropagationStopped())break e;i=o,a.currentTarget=c;try{i(a)}catch(u){jr(u)}a.currentTarget=null,i=l}}}}function Qu(e,t){var n=t[Ze];void 0===n&&(n=t[Ze]=new Set);var r=e+"__bubble";n.has(r)||(nh(t,e,2,!1),n.add(r))}function Ju(e,t,n){var r=0;t&&(r|=4),nh(n,e,r,t)}var eh="_reactListening"+Math.random().toString(36).slice(2);function th(e){if(!e[eh]){e[eh]=!0,rt.forEach(function(t){"selectionchange"!==t&&(Xu.has(t)||Ju(t,!1,e),Ju(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[eh]||(t[eh]=!0,Ju("selectionchange",!1,t))}}function nh(e,t,n,r){switch(jd(t)){case 2:var a=kd;break;case 8:a=Sd;break;default:a=Nd}n=a.bind(null,t,n,e),a=void 0,!Ut||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(a=!0),r?void 0!==a?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):void 0!==a?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function rh(e,t,n,r,a){var s=r;if(!(1&t||2&t||null===r))e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var l=r.stateNode.containerInfo;if(l===a)break;if(4===o)for(o=r.return;null!==o;){var c=o.tag;if((3===c||4===c)&&o.stateNode.containerInfo===a)return;o=o.return}for(;null!==l;){if(null===(o=Qe(l)))return;if(5===(c=o.tag)||6===c||26===c||27===c){r=s=o;continue e}l=l.parentNode}}r=r.return}Vt(function(){var r=s,a=Lt(n),o=[];e:{var l=Er.get(e);if(void 0!==l){var c=an,u=e;switch(e){case"keypress":if(0===Xt(n))break e;case"keydown":case"keyup":c=vn;break;case"focusin":u="focus",c=hn;break;case"focusout":u="blur",c=hn;break;case"beforeblur":case"afterblur":c=hn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=cn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=un;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=kn;break;case xr:case br:case vr:c=dn;break;case Nr:c=Sn;break;case"scroll":case"scrollend":c=on;break;case"wheel":c=Nn;break;case"copy":case"cut":case"paste":c=pn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=wn;break;case"toggle":case"beforetoggle":c=En}var h=!!(4&t),d=!h&&("scroll"===e||"scrollend"===e),p=h?null!==l?l+"Capture":null:l;h=[];for(var f,m=r;null!==m;){var g=m;if(f=g.stateNode,5!==(g=g.tag)&&26!==g&&27!==g||null===f||null===p||null!=(g=Bt(m,p))&&h.push(ah(m,g,f)),d)break;m=m.return}0<h.length&&(l=new c(l,u,null,n,a),o.push({event:l,listeners:h}))}}if(!(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(l="mouseover"===e||"pointerover"===e)||n===_t||!(u=n.relatedTarget||n.fromElement)||!Qe(u)&&!u[We])&&(c||l)&&(l=a.window===a?a:(l=a.ownerDocument)?l.defaultView||l.parentWindow:window,c?(c=r,null!==(u=(u=n.relatedTarget||n.toElement)?Qe(u):null)&&(d=i(u),h=u.tag,u!==d||5!==h&&27!==h&&6!==h)&&(u=null)):(c=null,u=r),c!==u)){if(h=cn,g="onMouseLeave",p="onMouseEnter",m="mouse","pointerout"!==e&&"pointerover"!==e||(h=wn,g="onPointerLeave",p="onPointerEnter",m="pointer"),d=null==c?l:et(c),f=null==u?l:et(u),(l=new h(g,m+"leave",c,n,a)).target=d,l.relatedTarget=f,g=null,Qe(a)===r&&((h=new h(p,m+"enter",u,n,a)).target=f,h.relatedTarget=d,g=h),d=g,c&&u)e:{for(h=sh,m=u,f=0,g=p=c;g;g=h(g))f++;g=0;for(var y=m;y;y=h(y))g++;for(;0<f-g;)p=h(p),f--;for(;0<g-f;)m=h(m),g--;for(;f--;){if(p===m||null!==m&&p===m.alternate){h=p;break e}p=h(p),m=h(m)}h=null}else h=null;null!==c&&oh(o,l,c,h,!1),null!==u&&null!==d&&oh(o,d,u,h,!0)}if("select"===(c=(l=r?et(r):window).nodeName&&l.nodeName.toLowerCase())||"input"===c&&"file"===l.type)var x=Hn;else if($n(l))if(Un)x=Jn;else{x=Yn;var b=Xn}else!(c=l.nodeName)||"input"!==c.toLowerCase()||"checkbox"!==l.type&&"radio"!==l.type?r&&Tt(r.elementType)&&(x=Hn):x=Qn;switch(x&&(x=x(e,r))?Fn(o,x,n,a):(b&&b(e,l,r),"focusout"===e&&r&&"number"===l.type&&null!=r.memoizedProps.value&&kt(l,"number",l.value)),b=r?et(r):window,e){case"focusin":($n(b)||"true"===b.contentEditable)&&(lr=b,cr=r,ur=null);break;case"focusout":ur=cr=lr=null;break;case"mousedown":hr=!0;break;case"contextmenu":case"mouseup":case"dragend":hr=!1,dr(o,n,a);break;case"selectionchange":if(or)break;case"keydown":case"keyup":dr(o,n,a)}var v;if(Cn)e:{switch(e){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else _n?Pn(e,n)&&(w="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(w="onCompositionStart");w&&(Tn&&"ko"!==n.locale&&(_n||"onCompositionStart"!==w?"onCompositionEnd"===w&&_n&&(v=qt()):(Gt="value"in(Zt=a)?Zt.value:Zt.textContent,_n=!0)),0<(b=ih(r,w)).length&&(w=new fn(w,e,null,n,a),o.push({event:w,listeners:b}),v?w.data=v:null!==(v=Rn(n))&&(w.data=v))),(v=Mn?function(e,t){switch(e){case"compositionend":return Rn(t);case"keypress":return 32!==t.which?null:(On=!0,In);case"textInput":return(e=t.data)===In&&On?null:e;default:return null}}(e,n):function(e,t){if(_n)return"compositionend"===e||!Cn&&Pn(e,t)?(e=qt(),Kt=Gt=Zt=null,_n=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Tn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(w=ih(r,"onBeforeInput")).length&&(b=new fn("onBeforeInput","beforeinput",null,n,a),o.push({event:b,listeners:w}),b.data=v)),function(e,t,n,r,a){if("submit"===t&&n&&n.stateNode===a){var i=Wu((a[Ue]||null).action),s=r.submitter;s&&null!==(t=(t=s[Ue]||null)?Wu(t.formAction):s.getAttribute("formAction"))&&(i=t,s=null);var o=new an("action","action",null,r,a);e.push({event:o,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(0!==Lu){var e=s?Zu(a,s):new FormData(a);no(n,{pending:!0,data:e,method:a.method,action:i},null,e)}}else"function"==typeof i&&(o.preventDefault(),e=s?Zu(a,s):new FormData(a),no(n,{pending:!0,data:e,method:a.method,action:i},i,e))},currentTarget:a}]})}}(o,e,r,n,a)}Yu(o,t)})}function ah(e,t,n){return{instance:e,listener:t,currentTarget:n}}function ih(e,t){for(var n=t+"Capture",r=[];null!==e;){var a=e,i=a.stateNode;if(5!==(a=a.tag)&&26!==a&&27!==a||null===i||(null!=(a=Bt(e,n))&&r.unshift(ah(e,a,i)),null!=(a=Bt(e,t))&&r.push(ah(e,a,i))),3===e.tag)return r;e=e.return}return[]}function sh(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function oh(e,t,n,r,a){for(var i=t._reactName,s=[];null!==n&&n!==r;){var o=n,l=o.alternate,c=o.stateNode;if(o=o.tag,null!==l&&l===r)break;5!==o&&26!==o&&27!==o||null===c||(l=c,a?null!=(c=Bt(n,i))&&s.unshift(ah(n,c,l)):a||null!=(c=Bt(n,i))&&s.push(ah(n,c,l))),n=n.return}0!==s.length&&e.push({event:t,listeners:s})}var lh=/\r\n?/g,ch=/\u0000|\uFFFD/g;function uh(e){return("string"==typeof e?e:""+e).replace(lh,"\n").replace(ch,"")}function hh(e,t){return t=uh(t),uh(e)===t}function dh(e,t,n,a,i,s){switch(n){case"children":"string"==typeof a?"body"===t||"textarea"===t&&""===a||At(e,a):("number"==typeof a||"bigint"==typeof a)&&"body"!==t&&At(e,""+a);break;case"className":ht(e,"class",a);break;case"tabIndex":ht(e,"tabindex",a);break;case"dir":case"role":case"viewBox":case"width":case"height":ht(e,n,a);break;case"style":Mt(e,a,s);break;case"data":if("object"!==t){ht(e,"data",a);break}case"src":case"href":if(""===a&&("a"!==t||"href"!==n)){e.removeAttribute(n);break}if(null==a||"function"==typeof a||"symbol"==typeof a||"boolean"==typeof a){e.removeAttribute(n);break}a=Pt(""+a),e.setAttribute(n,a);break;case"action":case"formAction":if("function"==typeof a){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"==typeof s&&("formAction"===n?("input"!==t&&dh(e,t,"name",i.name,i,null),dh(e,t,"formEncType",i.formEncType,i,null),dh(e,t,"formMethod",i.formMethod,i,null),dh(e,t,"formTarget",i.formTarget,i,null)):(dh(e,t,"encType",i.encType,i,null),dh(e,t,"method",i.method,i,null),dh(e,t,"target",i.target,i,null))),null==a||"symbol"==typeof a||"boolean"==typeof a){e.removeAttribute(n);break}a=Pt(""+a),e.setAttribute(n,a);break;case"onClick":null!=a&&(e.onclick=Rt);break;case"onScroll":null!=a&&Qu("scroll",e);break;case"onScrollEnd":null!=a&&Qu("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=a){if("object"!=typeof a||!("__html"in a))throw Error(r(61));if(null!=(n=a.__html)){if(null!=i.children)throw Error(r(60));e.innerHTML=n}}break;case"multiple":e.multiple=a&&"function"!=typeof a&&"symbol"!=typeof a;break;case"muted":e.muted=a&&"function"!=typeof a&&"symbol"!=typeof a;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==a||"function"==typeof a||"boolean"==typeof a||"symbol"==typeof a){e.removeAttribute("xlink:href");break}n=Pt(""+a),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=a&&"function"!=typeof a&&"symbol"!=typeof a?e.setAttribute(n,""+a):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":a&&"function"!=typeof a&&"symbol"!=typeof a?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":!0===a?e.setAttribute(n,""):!1!==a&&null!=a&&"function"!=typeof a&&"symbol"!=typeof a?e.setAttribute(n,a):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":null!=a&&"function"!=typeof a&&"symbol"!=typeof a&&!isNaN(a)&&1<=a?e.setAttribute(n,a):e.removeAttribute(n);break;case"rowSpan":case"start":null==a||"function"==typeof a||"symbol"==typeof a||isNaN(a)?e.removeAttribute(n):e.setAttribute(n,a);break;case"popover":Qu("beforetoggle",e),Qu("toggle",e),ut(e,"popover",a);break;case"xlinkActuate":dt(e,"http://www.w3.org/1999/xlink","xlink:actuate",a);break;case"xlinkArcrole":dt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",a);break;case"xlinkRole":dt(e,"http://www.w3.org/1999/xlink","xlink:role",a);break;case"xlinkShow":dt(e,"http://www.w3.org/1999/xlink","xlink:show",a);break;case"xlinkTitle":dt(e,"http://www.w3.org/1999/xlink","xlink:title",a);break;case"xlinkType":dt(e,"http://www.w3.org/1999/xlink","xlink:type",a);break;case"xmlBase":dt(e,"http://www.w3.org/XML/1998/namespace","xml:base",a);break;case"xmlLang":dt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",a);break;case"xmlSpace":dt(e,"http://www.w3.org/XML/1998/namespace","xml:space",a);break;case"is":ut(e,"is",a);break;case"innerText":case"textContent":break;default:(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&ut(e,n=It.get(n)||n,a)}}function ph(e,t,n,a,i,s){switch(n){case"style":Mt(e,a,s);break;case"dangerouslySetInnerHTML":if(null!=a){if("object"!=typeof a||!("__html"in a))throw Error(r(61));if(null!=(n=a.__html)){if(null!=i.children)throw Error(r(60));e.innerHTML=n}}break;case"children":"string"==typeof a?At(e,a):("number"==typeof a||"bigint"==typeof a)&&At(e,""+a);break;case"onScroll":null!=a&&Qu("scroll",e);break;case"onScrollEnd":null!=a&&Qu("scrollend",e);break;case"onClick":null!=a&&(e.onclick=Rt);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:at.hasOwnProperty(n)||("o"!==n[0]||"n"!==n[1]||(i=n.endsWith("Capture"),t=n.slice(2,i?n.length-7:void 0),"function"==typeof(s=null!=(s=e[Ue]||null)?s[n]:null)&&e.removeEventListener(t,s,i),"function"!=typeof a)?n in e?e[n]=a:!0===a?e.setAttribute(n,""):ut(e,n,a):("function"!=typeof s&&null!==s&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,a,i)))}}function fh(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Qu("error",e),Qu("load",e);var a,i=!1,s=!1;for(a in n)if(n.hasOwnProperty(a)){var o=n[a];if(null!=o)switch(a){case"src":i=!0;break;case"srcSet":s=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:dh(e,t,a,o,n,null)}}return s&&dh(e,t,"srcSet",n.srcSet,n,null),void(i&&dh(e,t,"src",n.src,n,null));case"input":Qu("invalid",e);var l=a=o=s=null,c=null,u=null;for(i in n)if(n.hasOwnProperty(i)){var h=n[i];if(null!=h)switch(i){case"name":s=h;break;case"type":o=h;break;case"checked":c=h;break;case"defaultChecked":u=h;break;case"value":a=h;break;case"defaultValue":l=h;break;case"children":case"dangerouslySetInnerHTML":if(null!=h)throw Error(r(137,t));break;default:dh(e,t,i,h,n,null)}}return void wt(e,a,l,c,u,o,s,!1);case"select":for(s in Qu("invalid",e),i=o=a=null,n)if(n.hasOwnProperty(s)&&null!=(l=n[s]))switch(s){case"value":a=l;break;case"defaultValue":o=l;break;case"multiple":i=l;default:dh(e,t,s,l,n,null)}return t=a,n=o,e.multiple=!!i,void(null!=t?St(e,!!i,t,!1):null!=n&&St(e,!!i,n,!0));case"textarea":for(o in Qu("invalid",e),a=s=i=null,n)if(n.hasOwnProperty(o)&&null!=(l=n[o]))switch(o){case"value":i=l;break;case"defaultValue":s=l;break;case"children":a=l;break;case"dangerouslySetInnerHTML":if(null!=l)throw Error(r(91));break;default:dh(e,t,o,l,n,null)}return void Et(e,i,s,a);case"option":for(c in n)if(n.hasOwnProperty(c)&&null!=(i=n[c]))if("selected"===c)e.selected=i&&"function"!=typeof i&&"symbol"!=typeof i;else dh(e,t,c,i,n,null);return;case"dialog":Qu("beforetoggle",e),Qu("toggle",e),Qu("cancel",e),Qu("close",e);break;case"iframe":case"object":Qu("load",e);break;case"video":case"audio":for(i=0;i<qu.length;i++)Qu(qu[i],e);break;case"image":Qu("error",e),Qu("load",e);break;case"details":Qu("toggle",e);break;case"embed":case"source":case"link":Qu("error",e),Qu("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&null!=(i=n[u]))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:dh(e,t,u,i,n,null)}return;default:if(Tt(t)){for(h in n)n.hasOwnProperty(h)&&(void 0!==(i=n[h])&&ph(e,t,h,i,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(null!=(i=n[l])&&dh(e,t,l,i,n,null))}function mh(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}var gh=null,yh=null;function xh(e){return 9===e.nodeType?e:e.ownerDocument}function bh(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function vh(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function wh(e,t){return"textarea"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"bigint"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var kh=null;var Sh="function"==typeof setTimeout?setTimeout:void 0,Nh="function"==typeof clearTimeout?clearTimeout:void 0,Eh="function"==typeof Promise?Promise:void 0,Ah="function"==typeof queueMicrotask?queueMicrotask:void 0!==Eh?function(e){return Eh.resolve(null).then(e).catch(Ch)}:Sh;function Ch(e){setTimeout(function(){throw e})}function jh(e){return"head"===e}function Mh(e,t){var n=t,r=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&8===a.nodeType)if("/$"===(n=a.data)||"/&"===n){if(0===r)return e.removeChild(a),void Zd(t);r--}else if("$"===n||"$?"===n||"$~"===n||"$!"===n||"&"===n)r++;else if("html"===n)zh(e.ownerDocument.documentElement);else if("head"===n){zh(n=e.ownerDocument.head);for(var i=n.firstChild;i;){var s=i.nextSibling,o=i.nodeName;i[Xe]||"SCRIPT"===o||"STYLE"===o||"LINK"===o&&"stylesheet"===i.rel.toLowerCase()||n.removeChild(i),i=s}}else"body"===n&&zh(e.ownerDocument.body);n=a}while(n);Zd(t)}function Th(e,t){var n=e;e=0;do{var r=n.nextSibling;if(1===n.nodeType?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",""===n.getAttribute("style")&&n.removeAttribute("style")):3===n.nodeType&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),r&&8===r.nodeType)if("/$"===(n=r.data)){if(0===e)break;e--}else"$"!==n&&"$?"!==n&&"$~"!==n&&"$!"!==n||e++;n=r}while(n)}function Ih(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Ih(n),Ye(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===n.rel.toLowerCase())continue}e.removeChild(n)}}function Oh(e,t){for(;8!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!t)return null;if(null===(e=_h(e.nextSibling)))return null}return e}function Ph(e){return"$?"===e.data||"$~"===e.data}function Rh(e){return"$!"===e.data||"$?"===e.data&&"loading"!==e.ownerDocument.readyState}function _h(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"$~"===t||"&"===t||"F!"===t||"F"===t)break;if("/$"===t||"/&"===t)return null}}return e}var Lh=null;function $h(e){e=e.nextSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n||"/&"===n){if(0===t)return _h(e.nextSibling);t--}else"$"!==n&&"$!"!==n&&"$?"!==n&&"$~"!==n&&"&"!==n||t++}e=e.nextSibling}return null}function Fh(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n||"$~"===n||"&"===n){if(0===t)return e;t--}else"/$"!==n&&"/&"!==n||t++}e=e.previousSibling}return null}function Dh(e,t,n){switch(t=xh(n),e){case"html":if(!(e=t.documentElement))throw Error(r(452));return e;case"head":if(!(e=t.head))throw Error(r(453));return e;case"body":if(!(e=t.body))throw Error(r(454));return e;default:throw Error(r(451))}}function zh(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Ye(e)}var Vh=new Map,Bh=new Set;function Hh(e){return"function"==typeof e.getRootNode?e.getRootNode():9===e.nodeType?e:e.ownerDocument}var Uh=$.d;$.d={f:function(){var e=Uh.f(),t=tu();return e||t},r:function(e){var t=Je(e);null!==t&&5===t.tag&&"form"===t.type?ao(t):Uh.r(e)},D:function(e){Uh.D(e),Zh("dns-prefetch",e,null)},C:function(e,t){Uh.C(e,t),Zh("preconnect",e,t)},L:function(e,t,n){Uh.L(e,t,n);var r=Wh;if(r&&e&&t){var a='link[rel="preload"][as="'+bt(t)+'"]';"image"===t&&n&&n.imageSrcSet?(a+='[imagesrcset="'+bt(n.imageSrcSet)+'"]',"string"==typeof n.imageSizes&&(a+='[imagesizes="'+bt(n.imageSizes)+'"]')):a+='[href="'+bt(e)+'"]';var i=a;switch(t){case"style":i=Kh(e);break;case"script":i=Yh(e)}Vh.has(i)||(e=u({rel:"preload",href:"image"===t&&n&&n.imageSrcSet?void 0:e,as:t},n),Vh.set(i,e),null!==r.querySelector(a)||"style"===t&&r.querySelector(qh(i))||"script"===t&&r.querySelector(Qh(i))||(fh(t=r.createElement("link"),"link",e),nt(t),r.head.appendChild(t)))}},m:function(e,t){Uh.m(e,t);var n=Wh;if(n&&e){var r=t&&"string"==typeof t.as?t.as:"script",a='link[rel="modulepreload"][as="'+bt(r)+'"][href="'+bt(e)+'"]',i=a;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":i=Yh(e)}if(!Vh.has(i)&&(e=u({rel:"modulepreload",href:e},t),Vh.set(i,e),null===n.querySelector(a))){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Qh(i)))return}fh(r=n.createElement("link"),"link",e),nt(r),n.head.appendChild(r)}}},X:function(e,t){Uh.X(e,t);var n=Wh;if(n&&e){var r=tt(n).hoistableScripts,a=Yh(e),i=r.get(a);i||((i=n.querySelector(Qh(a)))||(e=u({src:e,async:!0},t),(t=Vh.get(a))&&nd(e,t),nt(i=n.createElement("script")),fh(i,"link",e),n.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},r.set(a,i))}},S:function(e,t,n){Uh.S(e,t,n);var r=Wh;if(r&&e){var a=tt(r).hoistableStyles,i=Kh(e);t=t||"default";var s=a.get(i);if(!s){var o={loading:0,preload:null};if(s=r.querySelector(qh(i)))o.loading=5;else{e=u({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Vh.get(i))&&td(e,n);var l=s=r.createElement("link");nt(l),fh(l,"link",e),l._p=new Promise(function(e,t){l.onload=e,l.onerror=t}),l.addEventListener("load",function(){o.loading|=1}),l.addEventListener("error",function(){o.loading|=2}),o.loading|=4,ed(s,t,r)}s={type:"stylesheet",instance:s,count:1,state:o},a.set(i,s)}}},M:function(e,t){Uh.M(e,t);var n=Wh;if(n&&e){var r=tt(n).hoistableScripts,a=Yh(e),i=r.get(a);i||((i=n.querySelector(Qh(a)))||(e=u({src:e,async:!0,type:"module"},t),(t=Vh.get(a))&&nd(e,t),nt(i=n.createElement("script")),fh(i,"link",e),n.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},r.set(a,i))}}};var Wh="undefined"==typeof document?null:document;function Zh(e,t,n){var r=Wh;if(r&&"string"==typeof t&&t){var a=bt(t);a='link[rel="'+e+'"][href="'+a+'"]',"string"==typeof n&&(a+='[crossorigin="'+n+'"]'),Bh.has(a)||(Bh.add(a),e={rel:e,crossOrigin:n,href:t},null===r.querySelector(a)&&(fh(t=r.createElement("link"),"link",e),nt(t),r.head.appendChild(t)))}}function Gh(e,t,n,a){var i,s,o,l,c=(c=K.current)?Hh(c):null;if(!c)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return"string"==typeof n.precedence&&"string"==typeof n.href?(t=Kh(n.href),(a=(n=tt(c).hoistableStyles).get(t))||(a={type:"style",instance:null,count:0,state:null},n.set(t,a)),a):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===n.rel&&"string"==typeof n.href&&"string"==typeof n.precedence){e=Kh(n.href);var u=tt(c).hoistableStyles,h=u.get(e);if(h||(c=c.ownerDocument||c,h={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,h),(u=c.querySelector(qh(e)))&&!u._p&&(h.instance=u,h.state.loading=5),Vh.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Vh.set(e,n),u||(i=c,s=e,o=n,l=h.state,i.querySelector('link[rel="preload"][as="style"]['+s+"]")?l.loading=1:(s=i.createElement("link"),l.preload=s,s.addEventListener("load",function(){return l.loading|=1}),s.addEventListener("error",function(){return l.loading|=2}),fh(s,"link",o),nt(s),i.head.appendChild(s))))),t&&null===a)throw Error(r(528,""));return h}if(t&&null!==a)throw Error(r(529,""));return null;case"script":return t=n.async,"string"==typeof(n=n.src)&&t&&"function"!=typeof t&&"symbol"!=typeof t?(t=Yh(n),(a=(n=tt(c).hoistableScripts).get(t))||(a={type:"script",instance:null,count:0,state:null},n.set(t,a)),a):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function Kh(e){return'href="'+bt(e)+'"'}function qh(e){return'link[rel="stylesheet"]['+e+"]"}function Xh(e){return u({},e,{"data-precedence":e.precedence,precedence:null})}function Yh(e){return'[src="'+bt(e)+'"]'}function Qh(e){return"script[async]"+e}function Jh(e,t,n){if(t.count++,null===t.instance)switch(t.type){case"style":var a=e.querySelector('style[data-href~="'+bt(n.href)+'"]');if(a)return t.instance=a,nt(a),a;var i=u({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return nt(a=(e.ownerDocument||e).createElement("style")),fh(a,"style",i),ed(a,n.precedence,e),t.instance=a;case"stylesheet":i=Kh(n.href);var s=e.querySelector(qh(i));if(s)return t.state.loading|=4,t.instance=s,nt(s),s;a=Xh(n),(i=Vh.get(i))&&td(a,i),nt(s=(e.ownerDocument||e).createElement("link"));var o=s;return o._p=new Promise(function(e,t){o.onload=e,o.onerror=t}),fh(s,"link",a),t.state.loading|=4,ed(s,n.precedence,e),t.instance=s;case"script":return s=Yh(n.src),(i=e.querySelector(Qh(s)))?(t.instance=i,nt(i),i):(a=n,(i=Vh.get(s))&&nd(a=u({},n),i),nt(i=(e=e.ownerDocument||e).createElement("script")),fh(i,"link",a),e.head.appendChild(i),t.instance=i);case"void":return null;default:throw Error(r(443,t.type))}else"stylesheet"===t.type&&!(4&t.state.loading)&&(a=t.instance,t.state.loading|=4,ed(a,n.precedence,e));return t.instance}function ed(e,t,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),a=r.length?r[r.length-1]:null,i=a,s=0;s<r.length;s++){var o=r[s];if(o.dataset.precedence===t)i=o;else if(i!==a)break}i?i.parentNode.insertBefore(e,i.nextSibling):(t=9===n.nodeType?n.head:n).insertBefore(e,t.firstChild)}function td(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function nd(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var rd=null;function ad(e,t,n){if(null===rd){var r=new Map,a=rd=new Map;a.set(n,r)}else(r=(a=rd).get(n))||(r=new Map,a.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),a=0;a<n.length;a++){var i=n[a];if(!(i[Xe]||i[He]||"link"===e&&"stylesheet"===i.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==i.namespaceURI){var s=i.getAttribute(t)||"";s=e+s;var o=r.get(s);o?o.push(i):r.set(s,[i])}}return r}function id(e,t,n){(e=e.ownerDocument||e).head.insertBefore(n,"title"===t?e.querySelector("head > title"):null)}function sd(e){return!!("stylesheet"!==e.type||3&e.state.loading)}var od=0;function ld(){if(this.count--,0===this.count&&(0===this.imgCount||!this.waitingForImages))if(this.stylesheets)ud(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var cd=null;function ud(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,cd=new Map,t.forEach(hd,e),cd=null,ld.call(e))}function hd(e,t){if(!(4&t.state.loading)){var n=cd.get(e);if(n)var r=n.get(null);else{n=new Map,cd.set(e,n);for(var a=e.querySelectorAll("link[data-precedence],style[data-precedence]"),i=0;i<a.length;i++){var s=a[i];"LINK"!==s.nodeName&&"not all"===s.getAttribute("media")||(n.set(s.dataset.precedence,s),r=s)}r&&n.set(null,r)}s=(a=t.instance).getAttribute("data-precedence"),(i=n.get(s)||r)===r&&n.set(null,a),n.set(s,a),this.count++,r=ld.bind(this),a.addEventListener("load",r),a.addEventListener("error",r),i?i.parentNode.insertBefore(a,i.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(a,e.firstChild),t.state.loading|=4}}var dd={$$typeof:v,Provider:null,Consumer:null,_currentValue:F,_currentValue2:F,_threadCount:0};function pd(e,t,n,r,a,i,s,o,l){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Pe(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Pe(0),this.hiddenUpdates=Pe(null),this.identifierPrefix=r,this.onUncaughtError=a,this.onCaughtError=i,this.onRecoverableError=s,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=l,this.incompleteTransitions=new Map}function fd(e,t,n,r,a,i,s,o,l,c,u,h){return e=new pd(e,t,n,s,l,c,u,h,o),t=1,!0===i&&(t|=24),i=zr(3,null,null,t),e.current=i,i.stateNode=e,(t=Va()).refCount++,e.pooledCache=t,t.refCount++,i.memoizedState={element:r,isDehydrated:n,cache:t},xi(i),e}function md(e){return e?e=Fr:Fr}function gd(e,t,n,r,a,i){a=md(a),null===r.context?r.context=a:r.pendingContext=a,(r=vi(t)).payload={element:n},null!==(i=void 0===i?null:i)&&(r.callback=i),null!==(n=wi(e,r,t))&&(Xc(n,0,t),ki(n,e,t))}function yd(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function xd(e,t){yd(e,t),(e=e.alternate)&&yd(e,t)}function bd(e){if(13===e.tag||31===e.tag){var t=_r(e,67108864);null!==t&&Xc(t,0,67108864),xd(e,67108864)}}function vd(e){if(13===e.tag||31===e.tag){var t=Kc(),n=_r(e,t=Fe(t));null!==n&&Xc(n,0,t),xd(e,t)}}var wd=!0;function kd(e,t,n,r){var a=L.T;L.T=null;var i=$.p;try{$.p=2,Nd(e,t,n,r)}finally{$.p=i,L.T=a}}function Sd(e,t,n,r){var a=L.T;L.T=null;var i=$.p;try{$.p=8,Nd(e,t,n,r)}finally{$.p=i,L.T=a}}function Nd(e,t,n,r){if(wd){var a=Ed(r);if(null===a)rh(e,t,r,Ad,n),$d(e,r);else if(function(e,t,n,r,a){switch(t){case"focusin":return Td=Fd(Td,e,t,n,r,a),!0;case"dragenter":return Id=Fd(Id,e,t,n,r,a),!0;case"mouseover":return Od=Fd(Od,e,t,n,r,a),!0;case"pointerover":var i=a.pointerId;return Pd.set(i,Fd(Pd.get(i)||null,e,t,n,r,a)),!0;case"gotpointercapture":return i=a.pointerId,Rd.set(i,Fd(Rd.get(i)||null,e,t,n,r,a)),!0}return!1}(a,e,t,n,r))r.stopPropagation();else if($d(e,r),4&t&&-1<Ld.indexOf(e)){for(;null!==a;){var i=Je(a);if(null!==i)switch(i.tag){case 3:if((i=i.stateNode).current.memoizedState.isDehydrated){var s=je(i.pendingLanes);if(0!==s){var o=i;for(o.pendingLanes|=2,o.entangledLanes|=2;s;){var l=1<<31-ke(s);o.entanglements[1]|=l,s&=~l}$u(i),!(6&mc)&&(Lc=ue()+500,Fu(0))}}break;case 31:case 13:null!==(o=_r(i,2))&&Xc(o,0,2),tu(),xd(i,2)}if(null===(i=Ed(r))&&rh(e,t,r,Ad,n),i===a)break;a=i}null!==a&&r.stopPropagation()}else rh(e,t,r,null,n)}}function Ed(e){return Cd(e=Lt(e))}var Ad=null;function Cd(e){if(Ad=null,null!==(e=Qe(e))){var t=i(e);if(null===t)e=null;else{var n=t.tag;if(13===n){if(null!==(e=s(t)))return e;e=null}else if(31===n){if(null!==(e=o(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Ad=e,null}function jd(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(he()){case de:return 2;case pe:return 8;case fe:case me:return 32;case ge:return 268435456;default:return 32}default:return 32}}var Md=!1,Td=null,Id=null,Od=null,Pd=new Map,Rd=new Map,_d=[],Ld="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function $d(e,t){switch(e){case"focusin":case"focusout":Td=null;break;case"dragenter":case"dragleave":Id=null;break;case"mouseover":case"mouseout":Od=null;break;case"pointerover":case"pointerout":Pd.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rd.delete(t.pointerId)}}function Fd(e,t,n,r,a,i){return null===e||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[a]},null!==t&&(null!==(t=Je(t))&&bd(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==a&&-1===t.indexOf(a)&&t.push(a),e)}function Dd(e){var t=Qe(e.target);if(null!==t){var n=i(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=s(n)))return e.blockedOn=t,void Ve(e.priority,function(){vd(n)})}else if(31===t){if(null!==(t=o(n)))return e.blockedOn=t,void Ve(e.priority,function(){vd(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function zd(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Ed(e.nativeEvent);if(null!==n)return null!==(t=Je(n))&&bd(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);_t=r,n.target.dispatchEvent(r),_t=null,t.shift()}return!0}function Vd(e,t,n){zd(e)&&n.delete(t)}function Bd(){Md=!1,null!==Td&&zd(Td)&&(Td=null),null!==Id&&zd(Id)&&(Id=null),null!==Od&&zd(Od)&&(Od=null),Pd.forEach(Vd),Rd.forEach(Vd)}function Hd(t,n){t.blockedOn===n&&(t.blockedOn=null,Md||(Md=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Bd)))}var Ud=null;function Wd(t){Ud!==t&&(Ud=t,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Ud===t&&(Ud=null);for(var e=0;e<t.length;e+=3){var n=t[e],r=t[e+1],a=t[e+2];if("function"!=typeof r){if(null===Cd(r||n))continue;break}var i=Je(n);null!==i&&(t.splice(e,3),e-=3,no(i,{pending:!0,data:a,method:n.method,action:r},r,a))}}))}function Zd(e){function t(t){return Hd(t,e)}null!==Td&&Hd(Td,e),null!==Id&&Hd(Id,e),null!==Od&&Hd(Od,e),Pd.forEach(t),Rd.forEach(t);for(var n=0;n<_d.length;n++){var r=_d[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<_d.length&&null===(n=_d[0]).blockedOn;)Dd(n),null===n.blockedOn&&_d.shift();if(null!=(n=(e.ownerDocument||e).$$reactFormReplay))for(r=0;r<n.length;r+=3){var a=n[r],i=n[r+1],s=a[Ue]||null;if("function"==typeof i)s||Wd(n);else if(s){var o=null;if(i&&i.hasAttribute("formAction")){if(a=i,s=i[Ue]||null)o=s.formAction;else if(null!==Cd(a))continue}else o=s.action;"function"==typeof o?n[r+1]=o:(n.splice(r,3),r-=3),Wd(n)}}}function Gd(){function e(e){e.canIntercept&&"react-transition"===e.info&&e.intercept({handler:function(){return new Promise(function(e){return a=e})},focusReset:"manual",scroll:"manual"})}function t(){null!==a&&(a(),a=null),r||setTimeout(n,20)}function n(){if(!r&&!navigation.transition){var e=navigation.currentEntry;e&&null!=e.url&&navigation.navigate(e.url,{state:e.getState(),info:"react-transition",history:"replace"})}}if("object"==typeof navigation){var r=!1,a=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){r=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),null!==a&&(a(),a=null)}}}function Kd(e){this._internalRoot=e}function qd(e){this._internalRoot=e}qd.prototype.render=Kd.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(r(409));gd(t.current,Kc(),e,t,null,null)},qd.prototype.unmount=Kd.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;gd(e.current,2,null,e,null,null),tu(),t[We]=null}},qd.prototype.unstable_scheduleHydration=function(e){if(e){var t=ze();e={blockedOn:null,target:e,priority:t};for(var n=0;n<_d.length&&0!==t&&t<_d[n].priority;n++);_d.splice(n,0,e),0===n&&Dd(e)}};var Xd=t.version;if("19.2.3"!==Xd)throw Error(r(527,Xd,"19.2.3"));$.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(r(188));throw e=Object.keys(e).join(","),Error(r(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=i(e)))throw Error(r(188));return t!==e?null:e}for(var n=e,a=t;;){var s=n.return;if(null===s)break;var o=s.alternate;if(null===o){if(null!==(a=s.return)){n=a;continue}break}if(s.child===o.child){for(o=s.child;o;){if(o===n)return l(s),e;if(o===a)return l(s),t;o=o.sibling}throw Error(r(188))}if(n.return!==a.return)n=s,a=o;else{for(var c=!1,u=s.child;u;){if(u===n){c=!0,n=s,a=o;break}if(u===a){c=!0,a=s,n=o;break}u=u.sibling}if(!c){for(u=o.child;u;){if(u===n){c=!0,n=o,a=s;break}if(u===a){c=!0,a=o,n=s;break}u=u.sibling}if(!c)throw Error(r(189))}}if(n.alternate!==a)throw Error(r(190))}if(3!==n.tag)throw Error(r(188));return n.stateNode.current===n?e:t}(t),e=null===(e=null!==e?c(e):null)?null:e.stateNode};var Yd={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:L,reconcilerVersion:"19.2.3"};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Qd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qd.isDisabled&&Qd.supportsFiber)try{be=Qd.inject(Yd),ve=Qd}catch(ep){}}return d.createRoot=function(e,t){if(!a(e))throw Error(r(299));var n=!1,i="",s=Ao,o=Co,l=jo;return null!=t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(i=t.identifierPrefix),void 0!==t.onUncaughtError&&(s=t.onUncaughtError),void 0!==t.onCaughtError&&(o=t.onCaughtError),void 0!==t.onRecoverableError&&(l=t.onRecoverableError)),t=fd(e,1,!1,null,0,n,i,null,s,o,l,Gd),e[We]=t.current,th(e),new Kd(t)},d.hydrateRoot=function(e,t,n){if(!a(e))throw Error(r(299));var i=!1,s="",o=Ao,l=Co,c=jo,u=null;return null!=n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(s=n.identifierPrefix),void 0!==n.onUncaughtError&&(o=n.onUncaughtError),void 0!==n.onCaughtError&&(l=n.onCaughtError),void 0!==n.onRecoverableError&&(c=n.onRecoverableError),void 0!==n.formState&&(u=n.formState)),(t=fd(e,1,!0,t,0,i,s,u,o,l,c,Gd)).context=md(null),n=t.current,(s=vi(i=Fe(i=Kc()))).callback=null,wi(n,s,i),n=i,t.current.lanes=n,Re(t,n),$u(t),e[We]=t.current,th(e),new qd(t)},d.version="19.2.3",d}var I=(E||(E=1,function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),h.exports=T()),h.exports),O=w();const P=n(O),R=e({__proto__:null,default:P},[O]),_=O.createContext(null),L={didCatch:!1,error:null};class $ extends O.Component{constructor(e){super(e),this.resetErrorBoundary=this.resetErrorBoundary.bind(this),this.state=L}static getDerivedStateFromError(e){return{didCatch:!0,error:e}}resetErrorBoundary(){const{error:e}=this.state;if(null!==e){for(var t,n,r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];null===(t=(n=this.props).onReset)||void 0===t||t.call(n,{args:a,reason:"imperative-api"}),this.setState(L)}}componentDidCatch(e,t){var n,r;null===(n=(r=this.props).onError)||void 0===n||n.call(r,e,t)}componentDidUpdate(e,t){const{didCatch:n}=this.state,{resetKeys:r}=this.props;var a,i;n&&null!==t.error&&function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return e.length!==t.length||e.some((e,n)=>!Object.is(e,t[n]))}(e.resetKeys,r)&&(null===(a=(i=this.props).onReset)||void 0===a||a.call(i,{next:r,prev:e.resetKeys,reason:"keys"}),this.setState(L))}render(){const{children:e,fallbackRender:t,FallbackComponent:n,fallback:r}=this.props,{didCatch:a,error:i}=this.state;let s=e;if(a){const e={error:i,resetErrorBoundary:this.resetErrorBoundary};if("function"==typeof t)s=t(e);else if(n)s=O.createElement(n,e);else{if(void 0===r)throw i;s=r}}return O.createElement(_.Provider,{value:{didCatch:a,error:i,resetErrorBoundary:this.resetErrorBoundary}},s)}}var F="popstate";function D(e={}){return function(e,t,n,r={}){let{window:a=document.defaultView,v5Compat:i=!1}=r,s=a.history,o="POP",l=null,c=u();null==c&&(c=0,s.replaceState({...s.state,idx:c},""));function u(){return(s.state||{idx:null}).idx}function h(){o="POP";let e=u(),t=null==e?null:e-c;c=e,l&&l({action:o,location:m.location,delta:t})}function d(e,t){o="PUSH";let r=H(m.location,e,t);n&&n(r,e),c=u()+1;let h=B(r,c),d=m.createHref(r);try{s.pushState(h,"",d)}catch(p){if(p instanceof DOMException&&"DataCloneError"===p.name)throw p;a.location.assign(d)}i&&l&&l({action:o,location:m.location,delta:1})}function p(e,t){o="REPLACE";let r=H(m.location,e,t);n&&n(r,e),c=u();let a=B(r,c),h=m.createHref(r);s.replaceState(a,"",h),i&&l&&l({action:o,location:m.location,delta:0})}function f(e){return function(e,t=!1){let n="http://localhost";"undefined"!=typeof window&&(n="null"!==window.location.origin?window.location.origin:window.location.href);z(n,"No window.location.(origin|href) available to create URL");let r="string"==typeof e?e:U(e);r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r);return new URL(r,n)}(e)}let m={get action(){return o},get location(){return e(a,s)},listen(e){if(l)throw new Error("A history only accepts one active listener");return a.addEventListener(F,h),l=e,()=>{a.removeEventListener(F,h),l=null}},createHref:e=>t(a,e),createURL:f,encodeLocation(e){let t=f(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:d,replace:p,go:e=>s.go(e)};return m}(function(e,t){let{pathname:n="/",search:r="",hash:a=""}=W(e.location.hash.substring(1));return n.startsWith("/")||n.startsWith(".")||(n="/"+n),H("",{pathname:n,search:r,hash:a},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){let n=e.document.querySelector("base"),r="";if(n&&n.getAttribute("href")){let t=e.location.href,n=t.indexOf("#");r=-1===n?t:t.slice(0,n)}return r+"#"+("string"==typeof t?t:U(t))},function(e,t){V("/"===e.pathname.charAt(0),`relative pathnames are not supported in hash history.push(${JSON.stringify(t)})`)},e)}function z(e,t){if(!1===e||null==e)throw new Error(t)}function V(e,t){if(!e){"undefined"!=typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function B(e,t){return{usr:e.state,key:e.key,idx:t}}function H(e,t,n=null,r){return{pathname:"string"==typeof e?e:e.pathname,search:"",hash:"",..."string"==typeof t?W(t):t,state:n,key:t&&t.key||r||Math.random().toString(36).substring(2,10)}}function U({pathname:e="/",search:t="",hash:n=""}){return t&&"?"!==t&&(e+="?"===t.charAt(0)?t:"?"+t),n&&"#"!==n&&(e+="#"===n.charAt(0)?n:"#"+n),e}function W(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function Z(e,t,n="/"){return function(e,t,n,r){let a="string"==typeof t?W(t):t,i=se(a.pathname||"/",n);if(null==i)return null;let s=G(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every((e,n)=>e===t[n]);return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(s);let o=null;for(let l=0;null==o&&l<s.length;++l){let e=ie(i);o=re(s[l],e,r)}return o}(e,t,n,!1)}function G(e,t=[],n=[],r="",a=!1){let i=(e,i,s=a,o)=>{let l={relativePath:void 0===o?e.path||"":o,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};if(l.relativePath.startsWith("/")){if(!l.relativePath.startsWith(r)&&s)return;z(l.relativePath.startsWith(r),`Absolute route path "${l.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),l.relativePath=l.relativePath.slice(r.length)}let c=pe([r,l.relativePath]),u=n.concat(l);e.children&&e.children.length>0&&(z(!0!==e.index,`Index routes must not have child routes. Please remove all child routes from route path "${c}".`),G(e.children,t,u,c,s)),(null!=e.path||e.index)&&t.push({path:c,score:ne(c,e.index),routesMeta:u})};return e.forEach((e,t)=>{if(""!==e.path&&e.path?.includes("?"))for(let n of K(e.path))i(e,t,!0,n);else i(e,t)}),t}function K(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,a=n.endsWith("?"),i=n.replace(/\?$/,"");if(0===r.length)return a?[i,""]:[i];let s=K(r.join("/")),o=[];return o.push(...s.map(e=>""===e?i:[i,e].join("/"))),a&&o.push(...s),o.map(t=>e.startsWith("/")&&""===t?"/":t)}var q=/^:[\w-]+$/,X=3,Y=2,Q=1,J=10,ee=-2,te=e=>"*"===e;function ne(e,t){let n=e.split("/"),r=n.length;return n.some(te)&&(r+=ee),t&&(r+=Y),n.filter(e=>!te(e)).reduce((e,t)=>e+(q.test(t)?X:""===t?Q:J),r)}function re(e,t,n=!1){let{routesMeta:r}=e,a={},i="/",s=[];for(let o=0;o<r.length;++o){let e=r[o],l=o===r.length-1,c="/"===i?t:t.slice(i.length)||"/",u=ae({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),h=e.route;if(!u&&l&&n&&!r[r.length-1].route.index&&(u=ae({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!u)return null;Object.assign(a,u.params),s.push({params:a,pathname:pe([i,u.pathname]),pathnameBase:fe(pe([i,u.pathnameBase])),route:h}),"/"!==u.pathnameBase&&(i=pe([i,u.pathnameBase]))}return s}function ae(e,t){"string"==typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t=!1,n=!0){V("*"===e||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");e.endsWith("*")?(r.push({paramName:"*"}),a+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":""!==e&&"/"!==e&&(a+="(?:(?=\\/|$))");let i=new RegExp(a,t?void 0:"i");return[i,r]}(e.path,e.caseSensitive,e.end),a=t.match(n);if(!a)return null;let i=a[0],s=i.replace(/(.)\/+$/,"$1"),o=a.slice(1);return{params:r.reduce((e,{paramName:t,isOptional:n},r)=>{if("*"===t){let e=o[r]||"";s=i.slice(0,i.length-e.length).replace(/(.)\/+$/,"$1")}const a=o[r];return e[t]=n&&!a?void 0:(a||"").replace(/%2F/g,"/"),e},{}),pathname:i,pathnameBase:s,pattern:e}}function ie(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return V(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function se(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}var oe=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function le(e,t="/"){let n,{pathname:r,search:a="",hash:i=""}="string"==typeof e?W(e):e;if(r)if(s=r,oe.test(s))n=r;else{if(r.includes("//")){let e=r;r=r.replace(/\/\/+/g,"/"),V(!1,`Pathnames cannot have embedded double slashes - normalizing ${e} -> ${r}`)}n=r.startsWith("/")?ce(r.substring(1),"/"):ce(r,t)}else n=t;var s;return{pathname:n,search:me(a),hash:ge(i)}}function ce(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)}),n.length>1?n.join("/"):"/"}function ue(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function he(e){let t=function(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}(e);return t.map((e,n)=>n===t.length-1?e.pathname:e.pathnameBase)}function de(e,t,n,r=!1){let a;"string"==typeof e?a=W(e):(a={...e},z(!a.pathname||!a.pathname.includes("?"),ue("?","pathname","search",a)),z(!a.pathname||!a.pathname.includes("#"),ue("#","pathname","hash",a)),z(!a.search||!a.search.includes("#"),ue("#","search","hash",a)));let i,s=""===e||""===a.pathname,o=s?"/":a.pathname;if(null==o)i=n;else{let e=t.length-1;if(!r&&o.startsWith("..")){let t=o.split("/");for(;".."===t[0];)t.shift(),e-=1;a.pathname=t.join("/")}i=e>=0?t[e]:"/"}let l=le(a,i),c=o&&"/"!==o&&o.endsWith("/"),u=(s||"."===o)&&n.endsWith("/");return l.pathname.endsWith("/")||!c&&!u||(l.pathname+="/"),l}var pe=e=>e.join("/").replace(/\/\/+/g,"/"),fe=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),me=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",ge=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"",ye=class{constructor(e,t,n,r=!1){this.status=e,this.statusText=t||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function xe(e){return e.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var be="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement;function ve(e,t){let n=e;if("string"!=typeof n||!oe.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let r=n,a=!1;if(be)try{let e=new URL(window.location.href),r=n.startsWith("//")?new URL(e.protocol+n):new URL(n),i=se(r.pathname,t);r.origin===e.origin&&null!=i?n=i+r.search+r.hash:a=!0}catch(i){V(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:r,isExternal:a,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var we=["POST","PUT","PATCH","DELETE"];new Set(we);var ke=["GET",...we];new Set(ke);var Se=O.createContext(null);Se.displayName="DataRouter";var Ne=O.createContext(null);Ne.displayName="DataRouterState";var Ee=O.createContext(!1),Ae=O.createContext({isTransitioning:!1});Ae.displayName="ViewTransition",O.createContext(new Map).displayName="Fetchers",O.createContext(null).displayName="Await";var Ce=O.createContext(null);Ce.displayName="Navigation";var je=O.createContext(null);je.displayName="Location";var Me=O.createContext({outlet:null,matches:[],isDataRoute:!1});Me.displayName="Route";var Te=O.createContext(null);Te.displayName="RouteError";var Ie="REACT_ROUTER_ERROR";function Oe(){return null!=O.useContext(je)}function Pe(){return z(Oe(),"useLocation() may be used only in the context of a <Router> component."),O.useContext(je).location}var Re="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function _e(e){O.useContext(Ce).static||O.useLayoutEffect(e)}function Le(){let{isDataRoute:e}=O.useContext(Me);return e?function(){let{router:e}=function(e){let t=O.useContext(Se);return z(t,We(e)),t}("useNavigate"),t=Ze("useNavigate"),n=O.useRef(!1);return _e(()=>{n.current=!0}),O.useCallback(async(r,a={})=>{V(n.current,Re),n.current&&("number"==typeof r?await e.navigate(r):await e.navigate(r,{fromRouteId:t,...a}))},[e,t])}():function(){z(Oe(),"useNavigate() may be used only in the context of a <Router> component.");let e=O.useContext(Se),{basename:t,navigator:n}=O.useContext(Ce),{matches:r}=O.useContext(Me),{pathname:a}=Pe(),i=JSON.stringify(he(r)),s=O.useRef(!1);return _e(()=>{s.current=!0}),O.useCallback((r,o={})=>{if(V(s.current,Re),!s.current)return;if("number"==typeof r)return void n.go(r);let l=de(r,JSON.parse(i),a,"path"===o.relative);null==e&&"/"!==t&&(l.pathname="/"===l.pathname?t:pe([t,l.pathname])),(o.replace?n.replace:n.push)(l,o.state,o)},[t,n,i,a,e])}()}function $e(e,{relative:t}={}){let{matches:n}=O.useContext(Me),{pathname:r}=Pe(),a=JSON.stringify(he(n));return O.useMemo(()=>de(e,JSON.parse(a),r,"path"===t),[e,a,r,t])}function Fe(e,t,n,r,a){z(Oe(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=O.useContext(Ce),{matches:s}=O.useContext(Me),o=s[s.length-1],l=o?o.params:{},c=o?o.pathname:"/",u=o?o.pathnameBase:"/",h=o&&o.route;{let e=h&&h.path||"";Ke(c,!h||e.endsWith("*")||e.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${e}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.\n\nPlease change the parent <Route path="${e}"> to <Route path="${"/"===e?"*":`${e}/*`}">.`)}let d,p=Pe();if(t){let e="string"==typeof t?W(t):t;z("/"===u||e.pathname?.startsWith(u),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${u}" but pathname "${e.pathname}" was given in the \`location\` prop.`),d=e}else d=p;let f=d.pathname||"/",m=f;if("/"!==u){let e=u.replace(/^\//,"").split("/");m="/"+f.replace(/^\//,"").split("/").slice(e.length).join("/")}let g=Z(e,{pathname:m});V(h||null!=g,`No routes matched location "${d.pathname}${d.search}${d.hash}" `),V(null==g||void 0!==g[g.length-1].route.element||void 0!==g[g.length-1].route.Component||void 0!==g[g.length-1].route.lazy,`Matched leaf route at location "${d.pathname}${d.search}${d.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let y=function(e,t=[],n=null,r=null){if(null==e){if(!n)return null;if(n.errors)e=n.matches;else{if(0!==t.length||n.initialized||!(n.matches.length>0))return null;e=n.matches}}let a=e,i=n?.errors;if(null!=i){let e=a.findIndex(e=>e.route.id&&void 0!==i?.[e.route.id]);z(e>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(i).join(",")}`),a=a.slice(0,Math.min(a.length,e+1))}let s=!1,o=-1;if(n)for(let c=0;c<a.length;c++){let e=a[c];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(o=c),e.route.id){let{loaderData:t,errors:r}=n,i=e.route.loader&&!t.hasOwnProperty(e.route.id)&&(!r||void 0===r[e.route.id]);if(e.route.lazy||i){s=!0,a=o>=0?a.slice(0,o+1):[a[0]];break}}}let l=n&&r?(e,t)=>{r(e,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:xe(n.matches),errorInfo:t})}:void 0;return a.reduceRight((e,r,c)=>{let u,h=!1,d=null,p=null;n&&(u=i&&r.route.id?i[r.route.id]:void 0,d=r.route.errorElement||ze,s&&(o<0&&0===c?(Ke("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),h=!0,p=null):o===c&&(h=!0,p=r.route.hydrateFallbackElement||null)));let f=t.concat(a.slice(0,c+1)),m=()=>{let t;return t=u?d:h?p:r.route.Component?O.createElement(r.route.Component,null):r.route.element?r.route.element:e,O.createElement(Ue,{match:r,routeContext:{outlet:e,matches:f,isDataRoute:null!=n},children:t})};return n&&(r.route.ErrorBoundary||r.route.errorElement||0===c)?O.createElement(Ve,{location:n.location,revalidation:n.revalidation,component:d,error:u,children:m(),routeContext:{outlet:null,matches:f,isDataRoute:!0},onError:l}):m()},null)}(g&&g.map(e=>Object.assign({},e,{params:Object.assign({},l,e.params),pathname:pe([u,i.encodeLocation?i.encodeLocation(e.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?u:pe([u,i.encodeLocation?i.encodeLocation(e.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:e.pathnameBase])})),s,n,r,a);return t&&y?O.createElement(je.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...d},navigationType:"POP"}},y):y}function De(){let e=function(){let e=O.useContext(Te),t=function(e){let t=O.useContext(Ne);return z(t,We(e)),t}("useRouteError"),n=Ze("useRouteError");if(void 0!==e)return e;return t.errors?.[n]}(),t=function(e){return null!=e&&"number"==typeof e.status&&"string"==typeof e.statusText&&"boolean"==typeof e.internal&&"data"in e}(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r},i={padding:"2px 4px",backgroundColor:r},s=null;return console.error("Error handled by React Router default ErrorBoundary:",e),s=O.createElement(O.Fragment,null,O.createElement("p",null," Hey developer "),O.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",O.createElement("code",{style:i},"ErrorBoundary")," or"," ",O.createElement("code",{style:i},"errorElement")," prop on your route.")),O.createElement(O.Fragment,null,O.createElement("h2",null,"Unexpected Application Error!"),O.createElement("h3",{style:{fontStyle:"italic"}},t),n?O.createElement("pre",{style:a},n):null,s)}O.createContext(null);var ze=O.createElement(De,null),Ve=class extends O.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){let e=this.state.error;if(this.context&&"object"==typeof e&&e&&"digest"in e&&"string"==typeof e.digest){const t=function(e){if(e.startsWith(`${Ie}:ROUTE_ERROR_RESPONSE:{`))try{let t=JSON.parse(e.slice(40));if("object"==typeof t&&t&&"number"==typeof t.status&&"string"==typeof t.statusText)return new ye(t.status,t.statusText,t.data)}catch{}}(e.digest);t&&(e=t)}let t=void 0!==e?O.createElement(Me.Provider,{value:this.props.routeContext},O.createElement(Te.Provider,{value:e,children:this.props.component})):this.props.children;return this.context?O.createElement(He,{error:e},t):t}};Ve.contextType=Ee;var Be=new WeakMap;function He({children:e,error:t}){let{basename:n}=O.useContext(Ce);if("object"==typeof t&&t&&"digest"in t&&"string"==typeof t.digest){let e=function(e){if(e.startsWith(`${Ie}:REDIRECT:{`))try{let t=JSON.parse(e.slice(28));if("object"==typeof t&&t&&"number"==typeof t.status&&"string"==typeof t.statusText&&"string"==typeof t.location&&"boolean"==typeof t.reloadDocument&&"boolean"==typeof t.replace)return t}catch{}}(t.digest);if(e){let r=Be.get(t);if(r)throw r;let a=ve(e.location,n);if(be&&!Be.get(t)){if(!a.isExternal&&!e.reloadDocument){const n=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(a.to,{replace:e.replace}));throw Be.set(t,n),n}window.location.href=a.absoluteURL||a.to}return O.createElement("meta",{httpEquiv:"refresh",content:`0;url=${a.absoluteURL||a.to}`})}}return e}function Ue({routeContext:e,match:t,children:n}){let r=O.useContext(Se);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),O.createElement(Me.Provider,{value:e},n)}function We(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Ze(e){let t=function(e){let t=O.useContext(Me);return z(t,We(e)),t}(e),n=t.matches[t.matches.length-1];return z(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}var Ge={};function Ke(e,t,n){t||Ge[e]||(Ge[e]=!0,V(!1,n))}function qe(e){z(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Xe({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:a,static:i=!1,unstable_useTransitions:s}){z(!Oe(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=e.replace(/^\/*/,"/"),l=O.useMemo(()=>({basename:o,navigator:a,static:i,unstable_useTransitions:s,future:{}}),[o,a,i,s]);"string"==typeof n&&(n=W(n));let{pathname:c="/",search:u="",hash:h="",state:d=null,key:p="default"}=n,f=O.useMemo(()=>{let e=se(c,o);return null==e?null:{location:{pathname:e,search:u,hash:h,state:d,key:p},navigationType:r}},[o,c,u,h,d,p,r]);return V(null!=f,`<Router basename="${o}"> is not able to match the URL "${c}${u}${h}" because it does not start with the basename, so the <Router> won't render anything.`),null==f?null:O.createElement(Ce.Provider,{value:l},O.createElement(je.Provider,{children:t,value:f}))}function Ye({children:e,location:t}){return Fe(Qe(e),t)}function Qe(e,t=[]){let n=[];return O.Children.forEach(e,(e,r)=>{if(!O.isValidElement(e))return;let a=[...t,r];if(e.type===O.Fragment)return void n.push.apply(n,Qe(e.props.children,a));z(e.type===qe,`[${"string"==typeof e.type?e.type:e.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),z(!e.props.index||!e.props.children,"An index route cannot have child routes.");let i={id:e.props.id||a.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,middleware:e.props.middleware,loader:e.props.loader,action:e.props.action,hydrateFallbackElement:e.props.hydrateFallbackElement,HydrateFallback:e.props.HydrateFallback,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:!0===e.props.hasErrorBoundary||null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(i.children=Qe(e.props.children,a)),n.push(i)}),n}O.memo(function({routes:e,future:t,state:n,onError:r}){return Fe(e,void 0,n,r,t)});var Je="get",et="application/x-www-form-urlencoded";function tt(e){return"undefined"!=typeof HTMLElement&&e instanceof HTMLElement}var nt=null;var rt=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function at(e){return null==e||rt.has(e)?e:(V(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${et}"`),null)}function it(e,t){let n,r,a,i,s;if(tt(o=e)&&"form"===o.tagName.toLowerCase()){let s=e.getAttribute("action");r=s?se(s,t):null,n=e.getAttribute("method")||Je,a=at(e.getAttribute("enctype"))||et,i=new FormData(e)}else if(function(e){return tt(e)&&"button"===e.tagName.toLowerCase()}(e)||function(e){return tt(e)&&"input"===e.tagName.toLowerCase()}(e)&&("submit"===e.type||"image"===e.type)){let s=e.form;if(null==s)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let o=e.getAttribute("formaction")||s.getAttribute("action");if(r=o?se(o,t):null,n=e.getAttribute("formmethod")||s.getAttribute("method")||Je,a=at(e.getAttribute("formenctype"))||at(s.getAttribute("enctype"))||et,i=new FormData(s,e),!function(){if(null===nt)try{new FormData(document.createElement("form"),0),nt=!1}catch(e){nt=!0}return nt}()){let{name:t,type:n,value:r}=e;if("image"===n){let e=t?`${t}.`:"";i.append(`${e}x`,"0"),i.append(`${e}y`,"0")}else t&&i.append(t,r)}}else{if(tt(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Je,r=null,a=et,s=e}var o;return i&&"text/plain"===a&&(s=i,i=void 0),{action:r,method:n.toLowerCase(),encType:a,formData:i,body:s}}function st(e,t){if(!1===e||null==e)throw new Error(t)}function ot(e){return null!=e&&(null==e.href?"preload"===e.rel&&"string"==typeof e.imageSrcSet&&"string"==typeof e.imageSizes:"string"==typeof e.rel&&"string"==typeof e.href)}async function lt(e,t,n){return function(e,t){let n=new Set;return new Set(t),e.reduce((e,t)=>{let r=JSON.stringify(function(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}(t));return n.has(r)||(n.add(r),e.push({key:r,link:t})),e},[])}((await Promise.all(e.map(async e=>{let r=t.routes[e.route.id];if(r){let e=await async function(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}(r,n);return e.links?e.links():[]}return[]}))).flat(1).filter(ot).filter(e=>"stylesheet"===e.rel||"preload"===e.rel).map(e=>"stylesheet"===e.rel?{...e,rel:"prefetch",as:"style"}:{...e,rel:"prefetch"}))}function ct(e,t,n,r,a,i){let s=(e,t)=>!n[t]||e.route.id!==n[t].route.id,o=(e,t)=>n[t].pathname!==e.pathname||n[t].route.path?.endsWith("*")&&n[t].params["*"]!==e.params["*"];return"assets"===i?t.filter((e,t)=>s(e,t)||o(e,t)):"data"===i?t.filter((t,i)=>{let l=r.routes[t.route.id];if(!l||!l.hasLoader)return!1;if(s(t,i)||o(t,i))return!0;if(t.route.shouldRevalidate){let r=t.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:t.params,defaultShouldRevalidate:!0});if("boolean"==typeof r)return r}return!0}):[]}function ut(e,t,{includeHydrateFallback:n}={}){return r=e.map(e=>{let r=t.routes[e.route.id];if(!r)return[];let a=[r.module];return r.clientActionModule&&(a=a.concat(r.clientActionModule)),r.clientLoaderModule&&(a=a.concat(r.clientLoaderModule)),n&&r.hydrateFallbackModule&&(a=a.concat(r.hydrateFallbackModule)),r.imports&&(a=a.concat(r.imports)),a}).flat(1),[...new Set(r)];var r}function ht(){let e=O.useContext(Se);return st(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var dt=O.createContext(void 0);function pt(){let e=O.useContext(dt);return st(e,"You must render this element inside a <HydratedRouter> element"),e}function ft(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function mt({page:e,...t}){let{router:n}=ht(),r=O.useMemo(()=>Z(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?O.createElement(gt,{page:e,matches:r,...t}):null}function gt({page:e,matches:t,...n}){let r=Pe(),{manifest:a,routeModules:i}=pt(),{basename:s}=ht(),{loaderData:o,matches:l}=function(){let e=O.useContext(Ne);return st(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}(),c=O.useMemo(()=>ct(e,t,l,a,r,"data"),[e,t,l,a,r]),u=O.useMemo(()=>ct(e,t,l,a,r,"assets"),[e,t,l,a,r]),h=O.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let n=new Set,l=!1;if(t.forEach(e=>{let t=a.routes[e.route.id];t&&t.hasLoader&&(!c.some(t=>t.route.id===e.route.id)&&e.route.id in o&&i[e.route.id]?.shouldRevalidate||t.hasClientLoader?l=!0:n.add(e.route.id))}),0===n.size)return[];let u=function(e,t,n){let r="string"==typeof e?new URL(e,"undefined"==typeof window?"server://singlefetch/":window.location.origin):e;return"/"===r.pathname?r.pathname=`_root.${n}`:t&&"/"===se(r.pathname,t)?r.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}(e,s,"data");return l&&n.size>0&&u.searchParams.set("_routes",t.filter(e=>n.has(e.route.id)).map(e=>e.route.id).join(",")),[u.pathname+u.search]},[s,o,r,a,c,t,e,i]),d=O.useMemo(()=>ut(u,a),[u,a]),p=function(e){let{manifest:t,routeModules:n}=pt(),[r,a]=O.useState([]);return O.useEffect(()=>{let r=!1;return lt(e,t,n).then(e=>{r||a(e)}),()=>{r=!0}},[e,t,n]),r}(u);return O.createElement(O.Fragment,null,h.map(e=>O.createElement("link",{key:e,rel:"prefetch",as:"fetch",href:e,...n})),d.map(e=>O.createElement("link",{key:e,rel:"modulepreload",href:e,...n})),p.map(({key:e,link:t})=>O.createElement("link",{key:e,nonce:n.nonce,...t})))}function yt(...e){return t=>{e.forEach(e=>{"function"==typeof e?e(t):null!=e&&(e.current=t)})}}dt.displayName="FrameworkContext";var xt="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement;try{xt&&(window.__reactRouterVersion="7.11.0")}catch(ATe){}function bt({basename:e,children:t,unstable_useTransitions:n,window:r}){let a=O.useRef();null==a.current&&(a.current=D({window:r,v5Compat:!0}));let i=a.current,[s,o]=O.useState({action:i.action,location:i.location}),l=O.useCallback(e=>{!1===n?o(e):O.startTransition(()=>o(e))},[n]);return O.useLayoutEffect(()=>i.listen(l),[i,l]),O.createElement(Xe,{basename:e,children:t,location:s.location,navigationType:s.action,navigator:i,unstable_useTransitions:n})}var vt=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,wt=O.forwardRef(function({onClick:e,discover:t="render",prefetch:n="none",relative:r,reloadDocument:a,replace:i,state:s,target:o,to:l,preventScrollReset:c,viewTransition:u,unstable_defaultShouldRevalidate:h,...d},p){let{basename:f,unstable_useTransitions:m}=O.useContext(Ce),g="string"==typeof l&&vt.test(l),y=ve(l,f),x=function(e,{relative:t}={}){z(Oe(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=O.useContext(Ce),{hash:a,pathname:i,search:s}=$e(e,{relative:t}),o=i;return"/"!==n&&(o="/"===i?n:pe([n,i])),r.createHref({pathname:o,search:s,hash:a})}(l=y.to,{relative:r}),[b,v,w]=function(e,t){let n=O.useContext(dt),[r,a]=O.useState(!1),[i,s]=O.useState(!1),{onFocus:o,onBlur:l,onMouseEnter:c,onMouseLeave:u,onTouchStart:h}=t,d=O.useRef(null);O.useEffect(()=>{if("render"===e&&s(!0),"viewport"===e){let e=new IntersectionObserver(e=>{e.forEach(e=>{s(e.isIntersecting)})},{threshold:.5});return d.current&&e.observe(d.current),()=>{e.disconnect()}}},[e]),O.useEffect(()=>{if(r){let e=setTimeout(()=>{s(!0)},100);return()=>{clearTimeout(e)}}},[r]);let p=()=>{a(!0)},f=()=>{a(!1),s(!1)};return n?"intent"!==e?[i,d,{}]:[i,d,{onFocus:ft(o,p),onBlur:ft(l,f),onMouseEnter:ft(c,p),onMouseLeave:ft(u,f),onTouchStart:ft(h,p)}]:[!1,d,{}]}(n,d),k=function(e,{target:t,replace:n,state:r,preventScrollReset:a,relative:i,viewTransition:s,unstable_defaultShouldRevalidate:o,unstable_useTransitions:l}={}){let c=Le(),u=Pe(),h=$e(e,{relative:i});return O.useCallback(d=>{if(function(e,t){return!(0!==e.button||t&&"_self"!==t||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e))}(d,t)){d.preventDefault();let t=void 0!==n?n:U(u)===U(h),p=()=>c(e,{replace:t,state:r,preventScrollReset:a,relative:i,viewTransition:s,unstable_defaultShouldRevalidate:o});l?O.startTransition(()=>p()):p()}},[u,c,h,n,r,t,e,a,i,s,o,l])}(l,{replace:i,state:s,target:o,preventScrollReset:c,relative:r,viewTransition:u,unstable_defaultShouldRevalidate:h,unstable_useTransitions:m});let S=O.createElement("a",{...d,...w,href:y.absoluteURL||x,onClick:y.isExternal||a?e:function(t){e&&e(t),t.defaultPrevented||k(t)},ref:yt(p,v),target:o,"data-discover":g||"render"!==t?void 0:"true"});return b&&!g?O.createElement(O.Fragment,null,S,O.createElement(mt,{page:x})):S});function kt(e){let t=O.useContext(Se);return z(t,function(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}(e)),t}wt.displayName="Link",O.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:n="",end:r=!1,style:a,to:i,viewTransition:s,children:o,...l},c){let u=$e(i,{relative:l.relative}),h=Pe(),d=O.useContext(Ne),{navigator:p,basename:f}=O.useContext(Ce),m=null!=d&&function(e,{relative:t}={}){let n=O.useContext(Ae);z(null!=n,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=kt("useViewTransitionState"),a=$e(e,{relative:t});if(!n.isTransitioning)return!1;let i=se(n.currentLocation.pathname,r)||n.currentLocation.pathname,s=se(n.nextLocation.pathname,r)||n.nextLocation.pathname;return null!=ae(a.pathname,s)||null!=ae(a.pathname,i)}(u)&&!0===s,g=p.encodeLocation?p.encodeLocation(u).pathname:u.pathname,y=h.pathname,x=d&&d.navigation&&d.navigation.location?d.navigation.location.pathname:null;t||(y=y.toLowerCase(),x=x?x.toLowerCase():null,g=g.toLowerCase()),x&&f&&(x=se(x,f)||x);const b="/"!==g&&g.endsWith("/")?g.length-1:g.length;let v,w=y===g||!r&&y.startsWith(g)&&"/"===y.charAt(b),k=null!=x&&(x===g||!r&&x.startsWith(g)&&"/"===x.charAt(g.length)),S={isActive:w,isPending:k,isTransitioning:m},N=w?e:void 0;v="function"==typeof n?n(S):[n,w?"active":null,k?"pending":null,m?"transitioning":null].filter(Boolean).join(" ");let E="function"==typeof a?a(S):a;return O.createElement(wt,{...l,"aria-current":N,className:v,ref:c,style:E,to:i,viewTransition:s},"function"==typeof o?o(S):o)}).displayName="NavLink",O.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:a,state:i,method:s=Je,action:o,onSubmit:l,relative:c,preventScrollReset:u,viewTransition:h,unstable_defaultShouldRevalidate:d,...p},f)=>{let{unstable_useTransitions:m}=O.useContext(Ce),g=function(){let{router:e}=kt("useSubmit"),{basename:t}=O.useContext(Ce),n=Ze("useRouteId"),r=e.fetch,a=e.navigate;return O.useCallback(async(e,i={})=>{let{action:s,method:o,encType:l,formData:c,body:u}=it(e,t);if(!1===i.navigate){let e=i.fetcherKey||Nt();await r(e,n,i.action||s,{unstable_defaultShouldRevalidate:i.unstable_defaultShouldRevalidate,preventScrollReset:i.preventScrollReset,formData:c,body:u,formMethod:i.method||o,formEncType:i.encType||l,flushSync:i.flushSync})}else await a(i.action||s,{unstable_defaultShouldRevalidate:i.unstable_defaultShouldRevalidate,preventScrollReset:i.preventScrollReset,formData:c,body:u,formMethod:i.method||o,formEncType:i.encType||l,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[r,a,t,n])}(),y=function(e,{relative:t}={}){let{basename:n}=O.useContext(Ce),r=O.useContext(Me);z(r,"useFormAction must be used inside a RouteContext");let[a]=r.matches.slice(-1),i={...$e(e||".",{relative:t})},s=Pe();if(null==e){i.search=s.search;let e=new URLSearchParams(i.search),t=e.getAll("index");if(t.some(e=>""===e)){e.delete("index"),t.filter(e=>e).forEach(t=>e.append("index",t));let n=e.toString();i.search=n?`?${n}`:""}}e&&"."!==e||!a.route.index||(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index");"/"!==n&&(i.pathname="/"===i.pathname?n:pe([n,i.pathname]));return U(i)}(o,{relative:c}),x="get"===s.toLowerCase()?"get":"post",b="string"==typeof o&&vt.test(o);return O.createElement("form",{ref:f,method:x,action:y,onSubmit:r?l:e=>{if(l&&l(e),e.defaultPrevented)return;e.preventDefault();let r=e.nativeEvent.submitter,o=r?.getAttribute("formmethod")||s,p=()=>g(r||e.currentTarget,{fetcherKey:t,method:o,navigate:n,replace:a,state:i,relative:c,preventScrollReset:u,viewTransition:h,unstable_defaultShouldRevalidate:d});m&&!1!==n?O.startTransition(()=>p()):p()},...p,"data-discover":b||"render"!==e?void 0:"true"})}).displayName="Form";var St=0,Nt=()=>`__${String(++St)}__`;const Et=n(M());function At(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}var Ct=Symbol.for("react.lazy"),jt=R[" use ".trim().toString()];function Mt(e){return null!=e&&"object"==typeof e&&"$$typeof"in e&&e.$$typeof===Ct&&"_payload"in e&&("object"==typeof(t=e._payload)&&null!==t&&"then"in t);var t}function Tt(e){const t=Ot(e),n=O.forwardRef((e,n)=>{let{children:r,...a}=e;Mt(r)&&"function"==typeof jt&&(r=jt(r._payload));const i=O.Children.toArray(r),s=i.find(Rt);if(s){const e=s.props.children,r=i.map(t=>t===s?O.Children.count(e)>1?O.Children.only(null):O.isValidElement(e)?e.props.children:null:t);return u.jsx(t,{...a,ref:n,children:O.isValidElement(e)?O.cloneElement(e,void 0,r):null})}return u.jsx(t,{...a,ref:n,children:r})});return n.displayName=`${e}.Slot`,n}var It=Tt("Slot");function Ot(e){const t=O.forwardRef((e,t)=>{let{children:n,...r}=e;if(Mt(n)&&"function"==typeof jt&&(n=jt(n._payload)),O.isValidElement(n)){const e=function(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;if(n)return e.ref;if(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n)return e.props.ref;return e.props.ref||e.ref}(n),a=function(e,t){const n={...t};for(const r in t){const a=e[r],i=t[r];/^on[A-Z]/.test(r)?a&&i?n[r]=(...e)=>{const t=i(...e);return a(...e),t}:a&&(n[r]=a):"style"===r?n[r]={...a,...i}:"className"===r&&(n[r]=[a,i].filter(Boolean).join(" "))}return{...e,...n}}(r,n.props);return n.type!==O.Fragment&&(a.ref=t?function(...e){return t=>{let n=!1;const r=e.map(e=>{const r=At(e,t);return n||"function"!=typeof r||(n=!0),r});if(n)return()=>{for(let t=0;t<r.length;t++){const n=r[t];"function"==typeof n?n():At(e[t],null)}}}}(t,e):e),O.cloneElement(n,a)}return O.Children.count(n)>1?O.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Pt=Symbol("radix.slottable");function Rt(e){return O.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===Pt}function _t(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(n=_t(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Lt(){for(var e,t,n=0,r="",a=arguments.length;n<a;n++)(e=arguments[n])&&(t=_t(e))&&(r&&(r+=" "),r+=t);return r}const $t=e=>"boolean"==typeof e?`${e}`:0===e?"0":e,Ft=Lt,Dt=(e,t)=>n=>{var r;if(null==(null==t?void 0:t.variants))return Ft(e,null==n?void 0:n.class,null==n?void 0:n.className);const{variants:a,defaultVariants:i}=t,s=Object.keys(a).map(e=>{const t=null==n?void 0:n[e],r=null==i?void 0:i[e];if(null===t)return null;const s=$t(t)||$t(r);return a[e][s]}),o=n&&Object.entries(n).reduce((e,t)=>{let[n,r]=t;return void 0===r||(e[n]=r),e},{}),l=null==t||null===(r=t.compoundVariants)||void 0===r?void 0:r.reduce((e,t)=>{let{class:n,className:r,...a}=t;return Object.entries(a).every(e=>{let[t,n]=e;return Array.isArray(n)?n.includes({...i,...o}[t]):{...i,...o}[t]===n})?[...e,n,r]:e},[]);return Ft(e,s,l,null==n?void 0:n.class,null==n?void 0:n.className)},zt=(e=new Map,t=null,n)=>({nextPart:e,validators:t,classGroupId:n}),Vt="-",Bt=[],Ht=e=>{const t=Zt(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:e=>{if(e.startsWith("[")&&e.endsWith("]"))return Wt(e);const n=e.split(Vt),r=""===n[0]&&n.length>1?1:0;return Ut(n,r,t)},getConflictingClassGroupIds:(e,t)=>{if(t){const t=r[e],a=n[e];return t?a?((e,t)=>{const n=new Array(e.length+t.length);for(let r=0;r<e.length;r++)n[r]=e[r];for(let r=0;r<t.length;r++)n[e.length+r]=t[r];return n})(a,t):t:a||Bt}return n[e]||Bt}}},Ut=(e,t,n)=>{if(0===e.length-t)return n.classGroupId;const r=e[t],a=n.nextPart.get(r);if(a){const n=Ut(e,t+1,a);if(n)return n}const i=n.validators;if(null===i)return;const s=0===t?e.join(Vt):e.slice(t).join(Vt),o=i.length;for(let l=0;l<o;l++){const e=i[l];if(e.validator(s))return e.classGroupId}},Wt=e=>-1===e.slice(1,-1).indexOf(":")?void 0:(()=>{const t=e.slice(1,-1),n=t.indexOf(":"),r=t.slice(0,n);return r?"arbitrary.."+r:void 0})(),Zt=e=>{const{theme:t,classGroups:n}=e;return Gt(n,t)},Gt=(e,t)=>{const n=zt();for(const r in e){const a=e[r];Kt(a,n,r,t)}return n},Kt=(e,t,n,r)=>{const a=e.length;for(let i=0;i<a;i++){const a=e[i];qt(a,t,n,r)}},qt=(e,t,n,r)=>{"string"!=typeof e?"function"!=typeof e?Qt(e,t,n,r):Yt(e,t,n,r):Xt(e,t,n)},Xt=(e,t,n)=>{(""===e?t:Jt(t,e)).classGroupId=n},Yt=(e,t,n,r)=>{en(e)?Kt(e(r),t,n,r):(null===t.validators&&(t.validators=[]),t.validators.push(((e,t)=>({classGroupId:e,validator:t}))(n,e)))},Qt=(e,t,n,r)=>{const a=Object.entries(e),i=a.length;for(let s=0;s<i;s++){const[e,i]=a[s];Kt(i,Jt(t,e),n,r)}},Jt=(e,t)=>{let n=e;const r=t.split(Vt),a=r.length;for(let i=0;i<a;i++){const e=r[i];let t=n.nextPart.get(e);t||(t=zt(),n.nextPart.set(e,t)),n=t}return n},en=e=>"isThemeGetter"in e&&!0===e.isThemeGetter,tn=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=Object.create(null),r=Object.create(null);const a=(a,i)=>{n[a]=i,t++,t>e&&(t=0,r=n,n=Object.create(null))};return{get(e){let t=n[e];return void 0!==t?t:void 0!==(t=r[e])?(a(e,t),t):void 0},set(e,t){e in n?n[e]=t:a(e,t)}}},nn=[],rn=(e,t,n,r,a)=>({modifiers:e,hasImportantModifier:t,baseClassName:n,maybePostfixModifierPosition:r,isExternal:a}),an=e=>{const{prefix:t,experimentalParseClassName:n}=e;let r=e=>{const t=[];let n,r=0,a=0,i=0;const s=e.length;for(let u=0;u<s;u++){const s=e[u];if(0===r&&0===a){if(":"===s){t.push(e.slice(i,u)),i=u+1;continue}if("/"===s){n=u;continue}}"["===s?r++:"]"===s?r--:"("===s?a++:")"===s&&a--}const o=0===t.length?e:e.slice(i);let l=o,c=!1;o.endsWith("!")?(l=o.slice(0,-1),c=!0):o.startsWith("!")&&(l=o.slice(1),c=!0);return rn(t,c,l,n&&n>i?n-i:void 0)};if(t){const e=t+":",n=r;r=t=>t.startsWith(e)?n(t.slice(e.length)):rn(nn,!1,t,void 0,!0)}if(n){const e=r;r=t=>n({className:t,parseClassName:e})}return r},sn=e=>{const t=new Map;return e.orderSensitiveModifiers.forEach((e,n)=>{t.set(e,1e6+n)}),e=>{const n=[];let r=[];for(let a=0;a<e.length;a++){const i=e[a],s="["===i[0],o=t.has(i);s||o?(r.length>0&&(r.sort(),n.push(...r),r=[]),n.push(i)):r.push(i)}return r.length>0&&(r.sort(),n.push(...r)),n}},on=/\s+/,ln=e=>{if("string"==typeof e)return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=ln(e[r]))&&(n&&(n+=" "),n+=t);return n},cn=[],un=e=>{const t=t=>t[e]||cn;return t.isThemeGetter=!0,t},hn=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,dn=/^\((?:(\w[\w-]*):)?(.+)\)$/i,pn=/^\d+\/\d+$/,fn=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,mn=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,gn=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,yn=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,xn=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,bn=e=>pn.test(e),vn=e=>!!e&&!Number.isNaN(Number(e)),wn=e=>!!e&&Number.isInteger(Number(e)),kn=e=>e.endsWith("%")&&vn(e.slice(0,-1)),Sn=e=>fn.test(e),Nn=()=>!0,En=e=>mn.test(e)&&!gn.test(e),An=()=>!1,Cn=e=>yn.test(e),jn=e=>xn.test(e),Mn=e=>!In(e)&&!$n(e),Tn=e=>Un(e,Kn,An),In=e=>hn.test(e),On=e=>Un(e,qn,En),Pn=e=>Un(e,Xn,vn),Rn=e=>Un(e,Zn,An),_n=e=>Un(e,Gn,jn),Ln=e=>Un(e,Qn,Cn),$n=e=>dn.test(e),Fn=e=>Wn(e,qn),Dn=e=>Wn(e,Yn),zn=e=>Wn(e,Zn),Vn=e=>Wn(e,Kn),Bn=e=>Wn(e,Gn),Hn=e=>Wn(e,Qn,!0),Un=(e,t,n)=>{const r=hn.exec(e);return!!r&&(r[1]?t(r[1]):n(r[2]))},Wn=(e,t,n=!1)=>{const r=dn.exec(e);return!!r&&(r[1]?t(r[1]):n)},Zn=e=>"position"===e||"percentage"===e,Gn=e=>"image"===e||"url"===e,Kn=e=>"length"===e||"size"===e||"bg-size"===e,qn=e=>"length"===e,Xn=e=>"number"===e,Yn=e=>"family-name"===e,Qn=e=>"shadow"===e,Jn=((e,...t)=>{let n,r,a,i;const s=e=>{const t=r(e);if(t)return t;const i=((e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:a,sortModifiers:i}=t,s=[],o=e.trim().split(on);let l="";for(let c=o.length-1;c>=0;c-=1){const e=o[c],{isExternal:t,modifiers:u,hasImportantModifier:h,baseClassName:d,maybePostfixModifierPosition:p}=n(e);if(t){l=e+(l.length>0?" "+l:l);continue}let f=!!p,m=r(f?d.substring(0,p):d);if(!m){if(!f){l=e+(l.length>0?" "+l:l);continue}if(m=r(d),!m){l=e+(l.length>0?" "+l:l);continue}f=!1}const g=0===u.length?"":1===u.length?u[0]:i(u).join(":"),y=h?g+"!":g,x=y+m;if(s.indexOf(x)>-1)continue;s.push(x);const b=a(m,f);for(let n=0;n<b.length;++n){const e=b[n];s.push(y+e)}l=e+(l.length>0?" "+l:l)}return l})(e,n);return a(e,i),i};return i=o=>{const l=t.reduce((e,t)=>t(e),e());return n=(e=>({cache:tn(e.cacheSize),parseClassName:an(e),sortModifiers:sn(e),...Ht(e)}))(l),r=n.cache.get,a=n.cache.set,i=s,s(o)},(...e)=>i(((...e)=>{let t,n,r=0,a="";for(;r<e.length;)(t=e[r++])&&(n=ln(t))&&(a&&(a+=" "),a+=n);return a})(...e))})(()=>{const e=un("color"),t=un("font"),n=un("text"),r=un("font-weight"),a=un("tracking"),i=un("leading"),s=un("breakpoint"),o=un("container"),l=un("spacing"),c=un("radius"),u=un("shadow"),h=un("inset-shadow"),d=un("text-shadow"),p=un("drop-shadow"),f=un("blur"),m=un("perspective"),g=un("aspect"),y=un("ease"),x=un("animate"),b=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom",$n,In],v=()=>[$n,In,l],w=()=>[bn,"full","auto",...v()],k=()=>[wn,"none","subgrid",$n,In],S=()=>["auto",{span:["full",wn,$n,In]},wn,$n,In],N=()=>[wn,"auto",$n,In],E=()=>["auto","min","max","fr",$n,In],A=()=>["auto",...v()],C=()=>[bn,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...v()],j=()=>[e,$n,In],M=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom",zn,Rn,{position:[$n,In]}],T=()=>["auto","cover","contain",Vn,Tn,{size:[$n,In]}],I=()=>[kn,Fn,On],O=()=>["","none","full",c,$n,In],P=()=>["",vn,Fn,On],R=()=>[vn,kn,zn,Rn],_=()=>["","none",f,$n,In],L=()=>["none",vn,$n,In],$=()=>["none",vn,$n,In],F=()=>[vn,$n,In],D=()=>[bn,"full",...v()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Sn],breakpoint:[Sn],color:[Nn],container:[Sn],"drop-shadow":[Sn],ease:["in","out","in-out"],font:[Mn],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Sn],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Sn],shadow:[Sn],spacing:["px",vn],text:[Sn],"text-shadow":[Sn],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",bn,In,$n,g]}],container:["container"],columns:[{columns:[vn,In,$n,o]}],"break-after":[{"break-after":["auto","avoid","all","avoid-page","page","left","right","column"]}],"break-before":[{"break-before":["auto","avoid","all","avoid-page","page","left","right","column"]}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:b()}],overflow:[{overflow:["auto","hidden","clip","visible","scroll"]}],"overflow-x":[{"overflow-x":["auto","hidden","clip","visible","scroll"]}],"overflow-y":[{"overflow-y":["auto","hidden","clip","visible","scroll"]}],overscroll:[{overscroll:["auto","contain","none"]}],"overscroll-x":[{"overscroll-x":["auto","contain","none"]}],"overscroll-y":[{"overscroll-y":["auto","contain","none"]}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:w()}],"inset-x":[{"inset-x":w()}],"inset-y":[{"inset-y":w()}],start:[{start:w()}],end:[{end:w()}],top:[{top:w()}],right:[{right:w()}],bottom:[{bottom:w()}],left:[{left:w()}],visibility:["visible","invisible","collapse"],z:[{z:[wn,"auto",$n,In]}],basis:[{basis:[bn,"full","auto",o,...v()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[vn,bn,"auto","initial","none",In]}],grow:[{grow:["",vn,$n,In]}],shrink:[{shrink:["",vn,$n,In]}],order:[{order:[wn,"first","last","none",$n,In]}],"grid-cols":[{"grid-cols":k()}],"col-start-end":[{col:S()}],"col-start":[{"col-start":N()}],"col-end":[{"col-end":N()}],"grid-rows":[{"grid-rows":k()}],"row-start-end":[{row:S()}],"row-start":[{"row-start":N()}],"row-end":[{"row-end":N()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":E()}],"auto-rows":[{"auto-rows":E()}],gap:[{gap:v()}],"gap-x":[{"gap-x":v()}],"gap-y":[{"gap-y":v()}],"justify-content":[{justify:["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe","normal"]}],"justify-items":[{"justify-items":["start","end","center","stretch","center-safe","end-safe","normal"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch","center-safe","end-safe"]}],"align-content":[{content:["normal","start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"]}],"align-items":[{items:["start","end","center","stretch","center-safe","end-safe",{baseline:["","last"]}]}],"align-self":[{self:["auto","start","end","center","stretch","center-safe","end-safe",{baseline:["","last"]}]}],"place-content":[{"place-content":["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"]}],"place-items":[{"place-items":["start","end","center","stretch","center-safe","end-safe","baseline"]}],"place-self":[{"place-self":["auto","start","end","center","stretch","center-safe","end-safe"]}],p:[{p:v()}],px:[{px:v()}],py:[{py:v()}],ps:[{ps:v()}],pe:[{pe:v()}],pt:[{pt:v()}],pr:[{pr:v()}],pb:[{pb:v()}],pl:[{pl:v()}],m:[{m:A()}],mx:[{mx:A()}],my:[{my:A()}],ms:[{ms:A()}],me:[{me:A()}],mt:[{mt:A()}],mr:[{mr:A()}],mb:[{mb:A()}],ml:[{ml:A()}],"space-x":[{"space-x":v()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":v()}],"space-y-reverse":["space-y-reverse"],size:[{size:C()}],w:[{w:[o,"screen",...C()]}],"min-w":[{"min-w":[o,"screen","none",...C()]}],"max-w":[{"max-w":[o,"screen","none","prose",{screen:[s]},...C()]}],h:[{h:["screen","lh",...C()]}],"min-h":[{"min-h":["screen","lh","none",...C()]}],"max-h":[{"max-h":["screen","lh",...C()]}],"font-size":[{text:["base",n,Fn,On]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,$n,Pn]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",kn,In]}],"font-family":[{font:[Dn,In,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[a,$n,In]}],"line-clamp":[{"line-clamp":[vn,"none",$n,Pn]}],leading:[{leading:[i,...v()]}],"list-image":[{"list-image":["none",$n,In]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",$n,In]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:j()}],"text-color":[{text:j()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:["solid","dashed","dotted","double","wavy"]}],"text-decoration-thickness":[{decoration:[vn,"from-font","auto",$n,On]}],"text-decoration-color":[{decoration:j()}],"underline-offset":[{"underline-offset":[vn,"auto",$n,In]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:v()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",$n,In]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",$n,In]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:M()}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","space","round"]}]}],"bg-size":[{bg:T()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},wn,$n,In],radial:["",$n,In],conic:[wn,$n,In]},Bn,_n]}],"bg-color":[{bg:j()}],"gradient-from-pos":[{from:I()}],"gradient-via-pos":[{via:I()}],"gradient-to-pos":[{to:I()}],"gradient-from":[{from:j()}],"gradient-via":[{via:j()}],"gradient-to":[{to:j()}],rounded:[{rounded:O()}],"rounded-s":[{"rounded-s":O()}],"rounded-e":[{"rounded-e":O()}],"rounded-t":[{"rounded-t":O()}],"rounded-r":[{"rounded-r":O()}],"rounded-b":[{"rounded-b":O()}],"rounded-l":[{"rounded-l":O()}],"rounded-ss":[{"rounded-ss":O()}],"rounded-se":[{"rounded-se":O()}],"rounded-ee":[{"rounded-ee":O()}],"rounded-es":[{"rounded-es":O()}],"rounded-tl":[{"rounded-tl":O()}],"rounded-tr":[{"rounded-tr":O()}],"rounded-br":[{"rounded-br":O()}],"rounded-bl":[{"rounded-bl":O()}],"border-w":[{border:P()}],"border-w-x":[{"border-x":P()}],"border-w-y":[{"border-y":P()}],"border-w-s":[{"border-s":P()}],"border-w-e":[{"border-e":P()}],"border-w-t":[{"border-t":P()}],"border-w-r":[{"border-r":P()}],"border-w-b":[{"border-b":P()}],"border-w-l":[{"border-l":P()}],"divide-x":[{"divide-x":P()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":P()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:["solid","dashed","dotted","double","hidden","none"]}],"divide-style":[{divide:["solid","dashed","dotted","double","hidden","none"]}],"border-color":[{border:j()}],"border-color-x":[{"border-x":j()}],"border-color-y":[{"border-y":j()}],"border-color-s":[{"border-s":j()}],"border-color-e":[{"border-e":j()}],"border-color-t":[{"border-t":j()}],"border-color-r":[{"border-r":j()}],"border-color-b":[{"border-b":j()}],"border-color-l":[{"border-l":j()}],"divide-color":[{divide:j()}],"outline-style":[{outline:["solid","dashed","dotted","double","none","hidden"]}],"outline-offset":[{"outline-offset":[vn,$n,In]}],"outline-w":[{outline:["",vn,Fn,On]}],"outline-color":[{outline:j()}],shadow:[{shadow:["","none",u,Hn,Ln]}],"shadow-color":[{shadow:j()}],"inset-shadow":[{"inset-shadow":["none",h,Hn,Ln]}],"inset-shadow-color":[{"inset-shadow":j()}],"ring-w":[{ring:P()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:j()}],"ring-offset-w":[{"ring-offset":[vn,On]}],"ring-offset-color":[{"ring-offset":j()}],"inset-ring-w":[{"inset-ring":P()}],"inset-ring-color":[{"inset-ring":j()}],"text-shadow":[{"text-shadow":["none",d,Hn,Ln]}],"text-shadow-color":[{"text-shadow":j()}],opacity:[{opacity:[vn,$n,In]}],"mix-blend":[{"mix-blend":["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"]}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[vn]}],"mask-image-linear-from-pos":[{"mask-linear-from":R()}],"mask-image-linear-to-pos":[{"mask-linear-to":R()}],"mask-image-linear-from-color":[{"mask-linear-from":j()}],"mask-image-linear-to-color":[{"mask-linear-to":j()}],"mask-image-t-from-pos":[{"mask-t-from":R()}],"mask-image-t-to-pos":[{"mask-t-to":R()}],"mask-image-t-from-color":[{"mask-t-from":j()}],"mask-image-t-to-color":[{"mask-t-to":j()}],"mask-image-r-from-pos":[{"mask-r-from":R()}],"mask-image-r-to-pos":[{"mask-r-to":R()}],"mask-image-r-from-color":[{"mask-r-from":j()}],"mask-image-r-to-color":[{"mask-r-to":j()}],"mask-image-b-from-pos":[{"mask-b-from":R()}],"mask-image-b-to-pos":[{"mask-b-to":R()}],"mask-image-b-from-color":[{"mask-b-from":j()}],"mask-image-b-to-color":[{"mask-b-to":j()}],"mask-image-l-from-pos":[{"mask-l-from":R()}],"mask-image-l-to-pos":[{"mask-l-to":R()}],"mask-image-l-from-color":[{"mask-l-from":j()}],"mask-image-l-to-color":[{"mask-l-to":j()}],"mask-image-x-from-pos":[{"mask-x-from":R()}],"mask-image-x-to-pos":[{"mask-x-to":R()}],"mask-image-x-from-color":[{"mask-x-from":j()}],"mask-image-x-to-color":[{"mask-x-to":j()}],"mask-image-y-from-pos":[{"mask-y-from":R()}],"mask-image-y-to-pos":[{"mask-y-to":R()}],"mask-image-y-from-color":[{"mask-y-from":j()}],"mask-image-y-to-color":[{"mask-y-to":j()}],"mask-image-radial":[{"mask-radial":[$n,In]}],"mask-image-radial-from-pos":[{"mask-radial-from":R()}],"mask-image-radial-to-pos":[{"mask-radial-to":R()}],"mask-image-radial-from-color":[{"mask-radial-from":j()}],"mask-image-radial-to-color":[{"mask-radial-to":j()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"]}],"mask-image-conic-pos":[{"mask-conic":[vn]}],"mask-image-conic-from-pos":[{"mask-conic-from":R()}],"mask-image-conic-to-pos":[{"mask-conic-to":R()}],"mask-image-conic-from-color":[{"mask-conic-from":j()}],"mask-image-conic-to-color":[{"mask-conic-to":j()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:M()}],"mask-repeat":[{mask:["no-repeat",{repeat:["","x","y","space","round"]}]}],"mask-size":[{mask:T()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",$n,In]}],filter:[{filter:["","none",$n,In]}],blur:[{blur:_()}],brightness:[{brightness:[vn,$n,In]}],contrast:[{contrast:[vn,$n,In]}],"drop-shadow":[{"drop-shadow":["","none",p,Hn,Ln]}],"drop-shadow-color":[{"drop-shadow":j()}],grayscale:[{grayscale:["",vn,$n,In]}],"hue-rotate":[{"hue-rotate":[vn,$n,In]}],invert:[{invert:["",vn,$n,In]}],saturate:[{saturate:[vn,$n,In]}],sepia:[{sepia:["",vn,$n,In]}],"backdrop-filter":[{"backdrop-filter":["","none",$n,In]}],"backdrop-blur":[{"backdrop-blur":_()}],"backdrop-brightness":[{"backdrop-brightness":[vn,$n,In]}],"backdrop-contrast":[{"backdrop-contrast":[vn,$n,In]}],"backdrop-grayscale":[{"backdrop-grayscale":["",vn,$n,In]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[vn,$n,In]}],"backdrop-invert":[{"backdrop-invert":["",vn,$n,In]}],"backdrop-opacity":[{"backdrop-opacity":[vn,$n,In]}],"backdrop-saturate":[{"backdrop-saturate":[vn,$n,In]}],"backdrop-sepia":[{"backdrop-sepia":["",vn,$n,In]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":v()}],"border-spacing-x":[{"border-spacing-x":v()}],"border-spacing-y":[{"border-spacing-y":v()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",$n,In]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[vn,"initial",$n,In]}],ease:[{ease:["linear","initial",y,$n,In]}],delay:[{delay:[vn,$n,In]}],animate:[{animate:["none",x,$n,In]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[m,$n,In]}],"perspective-origin":[{"perspective-origin":b()}],rotate:[{rotate:L()}],"rotate-x":[{"rotate-x":L()}],"rotate-y":[{"rotate-y":L()}],"rotate-z":[{"rotate-z":L()}],scale:[{scale:$()}],"scale-x":[{"scale-x":$()}],"scale-y":[{"scale-y":$()}],"scale-z":[{"scale-z":$()}],"scale-3d":["scale-3d"],skew:[{skew:F()}],"skew-x":[{"skew-x":F()}],"skew-y":[{"skew-y":F()}],transform:[{transform:[$n,In,"","none","gpu","cpu"]}],"transform-origin":[{origin:b()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:D()}],"translate-x":[{"translate-x":D()}],"translate-y":[{"translate-y":D()}],"translate-z":[{"translate-z":D()}],"translate-none":["translate-none"],accent:[{accent:j()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:j()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",$n,In]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":v()}],"scroll-mx":[{"scroll-mx":v()}],"scroll-my":[{"scroll-my":v()}],"scroll-ms":[{"scroll-ms":v()}],"scroll-me":[{"scroll-me":v()}],"scroll-mt":[{"scroll-mt":v()}],"scroll-mr":[{"scroll-mr":v()}],"scroll-mb":[{"scroll-mb":v()}],"scroll-ml":[{"scroll-ml":v()}],"scroll-p":[{"scroll-p":v()}],"scroll-px":[{"scroll-px":v()}],"scroll-py":[{"scroll-py":v()}],"scroll-ps":[{"scroll-ps":v()}],"scroll-pe":[{"scroll-pe":v()}],"scroll-pt":[{"scroll-pt":v()}],"scroll-pr":[{"scroll-pr":v()}],"scroll-pb":[{"scroll-pb":v()}],"scroll-pl":[{"scroll-pl":v()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",$n,In]}],fill:[{fill:["none",...j()]}],"stroke-w":[{stroke:[vn,Fn,On,Pn]}],stroke:[{stroke:["none",...j()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}});function er(...e){return Jn(Lt(e))}const tr=Dt("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function nr({className:e,variant:t,size:n,asChild:r=!1,...a}){const i=r?It:"button";return u.jsx(i,{"data-slot":"button",className:er(tr({variant:t,size:n,className:e})),...a})}const rr=new Map([["bold",O.createElement(O.Fragment,null,O.createElement("path",{d:"M237.37,125.27,164,88.58V48a36,36,0,0,0-72,0V88.58L18.63,125.27A12,12,0,0,0,12,136v32a12,12,0,0,0,14.35,11.77L92,166.64V179L79.51,191.51A12,12,0,0,0,76,200v32a12,12,0,0,0,16.46,11.14L128,228.92l35.54,14.22A11.91,11.91,0,0,0,168,244a12,12,0,0,0,12-12V200a12,12,0,0,0-3.51-8.49L164,179V166.64l65.65,13.13A12,12,0,0,0,244,168V136A12,12,0,0,0,237.37,125.27ZM220,153.36l-65.65-13.13A12,12,0,0,0,140,152v32a12,12,0,0,0,3.51,8.49L156,205v9.31l-23.54-9.42a12,12,0,0,0-8.92,0L100,214.28V205l12.49-12.48A12,12,0,0,0,116,184V152a12,12,0,0,0-14.35-11.77L36,153.36v-9.94l73.37-36.69A12,12,0,0,0,116,96V48a12,12,0,0,1,24,0V96a12,12,0,0,0,6.63,10.73L220,143.42Z"}))],["duotone",O.createElement(O.Fragment,null,O.createElement("path",{d:"M152,152v32l16,16v32l-40-16L88,232V200l16-16V152L24,168V136l80-40V48a24,24,0,0,1,48,0V96l80,40v32Z",opacity:"0.2"}),O.createElement("path",{d:"M235.58,128.84,160,91.06V48a32,32,0,0,0-64,0V91.06L20.42,128.84A8,8,0,0,0,16,136v32a8,8,0,0,0,9.57,7.84L96,161.76v18.93L82.34,194.34A8,8,0,0,0,80,200v32a8,8,0,0,0,11,7.43l37-14.81,37,14.81A8,8,0,0,0,176,232V200a8,8,0,0,0-2.34-5.66L160,180.69V161.76l70.43,14.08A8,8,0,0,0,240,168V136A8,8,0,0,0,235.58,128.84ZM224,158.24l-70.43-14.08A8,8,0,0,0,144,152v32a8,8,0,0,0,2.34,5.66L160,203.31v16.87l-29-11.61a8,8,0,0,0-5.94,0L96,220.18V203.31l13.66-13.65A8,8,0,0,0,112,184V152a8,8,0,0,0-9.57-7.84L32,158.24v-17.3l75.58-37.78A8,8,0,0,0,112,96V48a16,16,0,0,1,32,0V96a8,8,0,0,0,4.42,7.16L224,140.94Z"}))],["fill",O.createElement(O.Fragment,null,O.createElement("path",{d:"M240,136v32a8,8,0,0,1-8,8,7.61,7.61,0,0,1-1.57-.16L156,161v23.73l17.66,17.65A8,8,0,0,1,176,208v24a8,8,0,0,1-11,7.43l-37-14.81L91,239.43A8,8,0,0,1,80,232V208a8,8,0,0,1,2.34-5.66L100,184.69V161L25.57,175.84A7.61,7.61,0,0,1,24,176a8,8,0,0,1-8-8V136a8,8,0,0,1,4.42-7.16L100,89.06V44a28,28,0,0,1,56,0V89.06l79.58,39.78A8,8,0,0,1,240,136Z"}))],["light",O.createElement(O.Fragment,null,O.createElement("path",{d:"M234.68,130.63,158,92.29V48a30,30,0,0,0-60,0V92.29L21.32,130.63A6,6,0,0,0,18,136v32a6,6,0,0,0,7.18,5.88L98,159.32v22.19L83.76,195.76A6,6,0,0,0,82,200v32a6,6,0,0,0,8.23,5.57L128,222.46l37.77,15.11A6,6,0,0,0,174,232V200a6,6,0,0,0-1.76-4.24L158,181.51V159.32l72.82,14.56A6,6,0,0,0,238,168V136A6,6,0,0,0,234.68,130.63ZM226,160.68l-72.82-14.56A6,6,0,0,0,146,152v32a6,6,0,0,0,1.76,4.24L162,202.49v20.65l-31.77-12.71a6,6,0,0,0-4.46,0L94,223.14V202.49l14.24-14.25A6,6,0,0,0,110,184V152a6,6,0,0,0-7.18-5.88L30,160.68v-21l76.68-38.34A6,6,0,0,0,110,96V48a18,18,0,0,1,36,0V96a6,6,0,0,0,3.32,5.37L226,139.71Z"}))],["regular",O.createElement(O.Fragment,null,O.createElement("path",{d:"M235.58,128.84,160,91.06V48a32,32,0,0,0-64,0V91.06L20.42,128.84A8,8,0,0,0,16,136v32a8,8,0,0,0,9.57,7.84L96,161.76v18.93L82.34,194.34A8,8,0,0,0,80,200v32a8,8,0,0,0,11,7.43l37-14.81,37,14.81A8,8,0,0,0,176,232V200a8,8,0,0,0-2.34-5.66L160,180.69V161.76l70.43,14.08A8,8,0,0,0,240,168V136A8,8,0,0,0,235.58,128.84ZM224,158.24l-70.43-14.08A8,8,0,0,0,144,152v32a8,8,0,0,0,2.34,5.66L160,203.31v16.87l-29-11.61a8,8,0,0,0-5.94,0L96,220.18V203.31l13.66-13.65A8,8,0,0,0,112,184V152a8,8,0,0,0-9.57-7.84L32,158.24v-17.3l75.58-37.78A8,8,0,0,0,112,96V48a16,16,0,0,1,32,0V96a8,8,0,0,0,4.42,7.16L224,140.94Z"}))],["thin",O.createElement(O.Fragment,null,O.createElement("path",{d:"M233.79,132.42,156,93.53V48a28,28,0,0,0-56,0V93.53L22.21,132.42A4,4,0,0,0,20,136v32a4,4,0,0,0,4.78,3.92l75.22-15v25.46L85.17,197.17A4,4,0,0,0,84,200v32a4,4,0,0,0,5.49,3.71L128,220.31l38.51,15.4A3.87,3.87,0,0,0,168,236a3.94,3.94,0,0,0,2.24-.69A4,4,0,0,0,172,232V200a4,4,0,0,0-1.17-2.83L156,182.34V156.88l75.22,15A4,4,0,0,0,236,168V136A4,4,0,0,0,233.79,132.42ZM228,163.12l-75.22-15A4,4,0,0,0,148,152v32a4,4,0,0,0,1.17,2.83L164,201.66v24.43l-34.51-13.8a4,4,0,0,0-3,0L92,226.09V201.66l14.83-14.83A4,4,0,0,0,108,184V152a4,4,0,0,0-4.78-3.92L28,163.12V138.47l77.79-38.89A4,4,0,0,0,108,96V48a20,20,0,0,1,40,0V96a4,4,0,0,0,2.21,3.58L228,138.47Z"}))]]),ar=new Map([["bold",O.createElement(O.Fragment,null,O.createElement("path",{d:"M244,56v48a12,12,0,0,1-12,12H184a12,12,0,1,1,0-24H201.1l-19-17.38c-.13-.12-.26-.24-.38-.37A76,76,0,1,0,127,204h1a75.53,75.53,0,0,0,52.15-20.72,12,12,0,0,1,16.49,17.45A99.45,99.45,0,0,1,128,228h-1.37A100,100,0,1,1,198.51,57.06L220,76.72V56a12,12,0,0,1,24,0Z"}))],["duotone",O.createElement(O.Fragment,null,O.createElement("path",{d:"M216,128a88,88,0,1,1-88-88A88,88,0,0,1,216,128Z",opacity:"0.2"}),O.createElement("path",{d:"M240,56v48a8,8,0,0,1-8,8H184a8,8,0,0,1,0-16H211.4L184.81,71.64l-.25-.24a80,80,0,1,0-1.67,114.78,8,8,0,0,1,11,11.63A95.44,95.44,0,0,1,128,224h-1.32A96,96,0,1,1,195.75,60L224,85.8V56a8,8,0,1,1,16,0Z"}))],["fill",O.createElement(O.Fragment,null,O.createElement("path",{d:"M240,56v48a8,8,0,0,1-8,8H184a8,8,0,0,1-5.66-13.66l17-17-10.55-9.65-.25-.24a80,80,0,1,0-1.67,114.78,8,8,0,1,1,11,11.63A95.44,95.44,0,0,1,128,224h-1.32A96,96,0,1,1,195.75,60l10.93,10L226.34,50.3A8,8,0,0,1,240,56Z"}))],["light",O.createElement(O.Fragment,null,O.createElement("path",{d:"M238,56v48a6,6,0,0,1-6,6H184a6,6,0,0,1,0-12h32.55l-30.38-27.8c-.06-.06-.12-.13-.19-.19a82,82,0,1,0-1.7,117.65,6,6,0,0,1,8.24,8.73A93.46,93.46,0,0,1,128,222h-1.28A94,94,0,1,1,194.37,61.4L226,90.35V56a6,6,0,1,1,12,0Z"}))],["regular",O.createElement(O.Fragment,null,O.createElement("path",{d:"M240,56v48a8,8,0,0,1-8,8H184a8,8,0,0,1,0-16H211.4L184.81,71.64l-.25-.24a80,80,0,1,0-1.67,114.78,8,8,0,0,1,11,11.63A95.44,95.44,0,0,1,128,224h-1.32A96,96,0,1,1,195.75,60L224,85.8V56a8,8,0,1,1,16,0Z"}))],["thin",O.createElement(O.Fragment,null,O.createElement("path",{d:"M236,56v48a4,4,0,0,1-4,4H184a4,4,0,0,1,0-8h37.7L187.53,68.69l-.13-.12a84,84,0,1,0-1.75,120.51,4,4,0,0,1,5.5,5.82A91.43,91.43,0,0,1,128,220h-1.26A92,92,0,1,1,193,62.84l35,32.05V56a4,4,0,1,1,8,0Z"}))]]),ir=new Map([["bold",O.createElement(O.Fragment,null,O.createElement("path",{d:"M224.49,136.49l-72,72a12,12,0,0,1-17-17L187,140H40a12,12,0,0,1,0-24H187L135.51,64.48a12,12,0,0,1,17-17l72,72A12,12,0,0,1,224.49,136.49Z"}))],["duotone",O.createElement(O.Fragment,null,O.createElement("path",{d:"M216,128l-72,72V56Z",opacity:"0.2"}),O.createElement("path",{d:"M221.66,122.34l-72-72A8,8,0,0,0,136,56v64H40a8,8,0,0,0,0,16h96v64a8,8,0,0,0,13.66,5.66l72-72A8,8,0,0,0,221.66,122.34ZM152,180.69V75.31L204.69,128Z"}))],["fill",O.createElement(O.Fragment,null,O.createElement("path",{d:"M221.66,133.66l-72,72A8,8,0,0,1,136,200V136H40a8,8,0,0,1,0-16h96V56a8,8,0,0,1,13.66-5.66l72,72A8,8,0,0,1,221.66,133.66Z"}))],["light",O.createElement(O.Fragment,null,O.createElement("path",{d:"M220.24,132.24l-72,72a6,6,0,0,1-8.48-8.48L201.51,134H40a6,6,0,0,1,0-12H201.51L139.76,60.24a6,6,0,0,1,8.48-8.48l72,72A6,6,0,0,1,220.24,132.24Z"}))],["regular",O.createElement(O.Fragment,null,O.createElement("path",{d:"M221.66,133.66l-72,72a8,8,0,0,1-11.32-11.32L196.69,136H40a8,8,0,0,1,0-16H196.69L138.34,61.66a8,8,0,0,1,11.32-11.32l72,72A8,8,0,0,1,221.66,133.66Z"}))],["thin",O.createElement(O.Fragment,null,O.createElement("path",{d:"M218.83,130.83l-72,72a4,4,0,0,1-5.66-5.66L206.34,132H40a4,4,0,0,1,0-8H206.34L141.17,58.83a4,4,0,0,1,5.66-5.66l72,72A4,4,0,0,1,218.83,130.83Z"}))]]),sr=new Map([["bold",O.createElement(O.Fragment,null,O.createElement("path",{d:"M208.49,120.49a12,12,0,0,1-17,0L140,69V216a12,12,0,0,1-24,0V69L64.49,120.49a12,12,0,0,1-17-17l72-72a12,12,0,0,1,17,0l72,72A12,12,0,0,1,208.49,120.49Z"}))],["duotone",O.createElement(O.Fragment,null,O.createElement("path",{d:"M200,112H56l72-72Z",opacity:"0.2"}),O.createElement("path",{d:"M205.66,106.34l-72-72a8,8,0,0,0-11.32,0l-72,72A8,8,0,0,0,56,120h64v96a8,8,0,0,0,16,0V120h64a8,8,0,0,0,5.66-13.66ZM75.31,104,128,51.31,180.69,104Z"}))],["fill",O.createElement(O.Fragment,null,O.createElement("path",{d:"M207.39,115.06A8,8,0,0,1,200,120H136v96a8,8,0,0,1-16,0V120H56a8,8,0,0,1-5.66-13.66l72-72a8,8,0,0,1,11.32,0l72,72A8,8,0,0,1,207.39,115.06Z"}))],["light",O.createElement(O.Fragment,null,O.createElement("path",{d:"M204.24,116.24a6,6,0,0,1-8.48,0L134,54.49V216a6,6,0,0,1-12,0V54.49L60.24,116.24a6,6,0,0,1-8.48-8.48l72-72a6,6,0,0,1,8.48,0l72,72A6,6,0,0,1,204.24,116.24Z"}))],["regular",O.createElement(O.Fragment,null,O.createElement("path",{d:"M205.66,117.66a8,8,0,0,1-11.32,0L136,59.31V216a8,8,0,0,1-16,0V59.31L61.66,117.66a8,8,0,0,1-11.32-11.32l72-72a8,8,0,0,1,11.32,0l72,72A8,8,0,0,1,205.66,117.66Z"}))],["thin",O.createElement(O.Fragment,null,O.createElement("path",{d:"M202.83,114.83a4,4,0,0,1-5.66,0L132,49.66V216a4,4,0,0,1-8,0V49.66L58.83,114.83a4,4,0,0,1-5.66-5.66l72-72a4,4,0,0,1,5.66,0l72,72A4,4,0,0,1,202.83,114.83Z"}))]]),or=new Map([["bold",O.createElement(O.Fragment,null,O.createElement("path",{d:"M252,124a60.14,60.14,0,0,0-32-53.08,52,52,0,0,0-92-32.11A52,52,0,0,0,36,70.92a60,60,0,0,0,0,106.14,52,52,0,0,0,92,32.13,52,52,0,0,0,92-32.13A60.05,60.05,0,0,0,252,124ZM88,204a28,28,0,0,1-26.85-20.07c1,0,1.89.07,2.85.07h8a12,12,0,0,0,0-24H64A36,36,0,0,1,52,90.05a12,12,0,0,0,8-11.32V72a28,28,0,0,1,56,0v60.18a51.61,51.61,0,0,0-7.2-3.85,12,12,0,1,0-9.6,22A28,28,0,0,1,88,204Zm104-44h-8a12,12,0,0,0,0,24h8c1,0,1.9,0,2.85-.07a28,28,0,1,1-38-33.61,12,12,0,1,0-9.6-22,51.61,51.61,0,0,0-7.2,3.85V72a28,28,0,0,1,56,0v6.73a12,12,0,0,0,8,11.32,36,36,0,0,1-12,70Zm16-44a12,12,0,0,1-12,12,40,40,0,0,1-40-40V84a12,12,0,0,1,24,0v4a16,16,0,0,0,16,16A12,12,0,0,1,208,116ZM100,88a40,40,0,0,1-40,40,12,12,0,0,1,0-24A16,16,0,0,0,76,88V84a12,12,0,0,1,24,0Z"}))],["duotone",O.createElement(O.Fragment,null,O.createElement("path",{d:"M240,124a48,48,0,0,1-32,45.27h0V176a40,40,0,0,1-80,0,40,40,0,0,1-80,0v-6.73h0a48,48,0,0,1,0-90.54V72a40,40,0,0,1,80,0,40,40,0,0,1,80,0v6.73A48,48,0,0,1,240,124Z",opacity:"0.2"}),O.createElement("path",{d:"M248,124a56.11,56.11,0,0,0-32-50.61V72a48,48,0,0,0-88-26.49A48,48,0,0,0,40,72v1.39a56,56,0,0,0,0,101.2V176a48,48,0,0,0,88,26.49A48,48,0,0,0,216,176v-1.41A56.09,56.09,0,0,0,248,124ZM88,208a32,32,0,0,1-31.81-28.56A55.87,55.87,0,0,0,64,180h8a8,8,0,0,0,0-16H64A40,40,0,0,1,50.67,86.27,8,8,0,0,0,56,78.73V72a32,32,0,0,1,64,0v68.26A47.8,47.8,0,0,0,88,128a8,8,0,0,0,0,16,32,32,0,0,1,0,64Zm104-44h-8a8,8,0,0,0,0,16h8a55.87,55.87,0,0,0,7.81-.56A32,32,0,1,1,168,144a8,8,0,0,0,0-16,47.8,47.8,0,0,0-32,12.26V72a32,32,0,0,1,64,0v6.73a8,8,0,0,0,5.33,7.54A40,40,0,0,1,192,164Zm16-52a8,8,0,0,1-8,8h-4a36,36,0,0,1-36-36V80a8,8,0,0,1,16,0v4a20,20,0,0,0,20,20h4A8,8,0,0,1,208,112ZM60,120H56a8,8,0,0,1,0-16h4A20,20,0,0,0,80,84V80a8,8,0,0,1,16,0v4A36,36,0,0,1,60,120Z"}))],["fill",O.createElement(O.Fragment,null,O.createElement("path",{d:"M212,76V72a44,44,0,0,0-74.86-31.31,3.93,3.93,0,0,0-1.14,2.8v88.72a4,4,0,0,0,6.2,3.33A47.67,47.67,0,0,1,167.68,128a8.18,8.18,0,0,1,8.31,7.58,8,8,0,0,1-8,8.42,32,32,0,0,0-32,32v33.88a4,4,0,0,0,1.49,3.12,47.92,47.92,0,0,0,74.21-17.16,4,4,0,0,0-4.49-5.56A68.06,68.06,0,0,1,192,192h-7.73a8.18,8.18,0,0,1-8.25-7.47,8,8,0,0,1,8-8.53h8a51.6,51.6,0,0,0,24-5.88v0A52,52,0,0,0,212,76Zm-12,36h-4a36,36,0,0,1-36-36V72a8,8,0,0,1,16,0v4a20,20,0,0,0,20,20h4a8,8,0,0,1,0,16ZM88,28A44.05,44.05,0,0,0,44,72v4a52,52,0,0,0-4,94.12h0A51.6,51.6,0,0,0,64,176h7.73A8.18,8.18,0,0,1,80,183.47,8,8,0,0,1,72,192H64a67.48,67.48,0,0,1-15.21-1.73,4,4,0,0,0-4.5,5.55A47.93,47.93,0,0,0,118.51,213a4,4,0,0,0,1.49-3.12V176a32,32,0,0,0-32-32,8,8,0,0,1-8-8.42A8.18,8.18,0,0,1,88.32,128a47.67,47.67,0,0,1,25.48,7.54,4,4,0,0,0,6.2-3.33V43.49a4,4,0,0,0-1.14-2.81A43.85,43.85,0,0,0,88,28Zm8,48a36,36,0,0,1-36,36H56a8,8,0,0,1,0-16h4A20,20,0,0,0,80,76V72a8,8,0,0,1,16,0Z"}))],["light",O.createElement(O.Fragment,null,O.createElement("path",{d:"M246,124a54.13,54.13,0,0,0-32-49.33V72a46,46,0,0,0-86-22.67A46,46,0,0,0,42,72v2.67a54,54,0,0,0,0,98.63V176a46,46,0,0,0,86,22.67A46,46,0,0,0,214,176v-2.7A54.07,54.07,0,0,0,246,124ZM88,210a34,34,0,0,1-34-32.94A53.67,53.67,0,0,0,64,178h8a6,6,0,0,0,0-12H64A42,42,0,0,1,50,84.39a6,6,0,0,0,4-5.66V72a34,34,0,0,1,68,0v73.05A45.89,45.89,0,0,0,88,130a6,6,0,0,0,0,12,34,34,0,0,1,0,68Zm104-44h-8a6,6,0,0,0,0,12h8a53.67,53.67,0,0,0,10-.94A34,34,0,1,1,168,142a6,6,0,0,0,0-12,45.89,45.89,0,0,0-34,15.05V72a34,34,0,0,1,68,0v6.73a6,6,0,0,0,4,5.66A42,42,0,0,1,192,166Zm14-54a6,6,0,0,1-6,6h-4a34,34,0,0,1-34-34V80a6,6,0,0,1,12,0v4a22,22,0,0,0,22,22h4A6,6,0,0,1,206,112ZM60,118H56a6,6,0,0,1,0-12h4A22,22,0,0,0,82,84V80a6,6,0,0,1,12,0v4A34,34,0,0,1,60,118Z"}))],["regular",O.createElement(O.Fragment,null,O.createElement("path",{d:"M248,124a56.11,56.11,0,0,0-32-50.61V72a48,48,0,0,0-88-26.49A48,48,0,0,0,40,72v1.39a56,56,0,0,0,0,101.2V176a48,48,0,0,0,88,26.49A48,48,0,0,0,216,176v-1.41A56.09,56.09,0,0,0,248,124ZM88,208a32,32,0,0,1-31.81-28.56A55.87,55.87,0,0,0,64,180h8a8,8,0,0,0,0-16H64A40,40,0,0,1,50.67,86.27,8,8,0,0,0,56,78.73V72a32,32,0,0,1,64,0v68.26A47.8,47.8,0,0,0,88,128a8,8,0,0,0,0,16,32,32,0,0,1,0,64Zm104-44h-8a8,8,0,0,0,0,16h8a55.87,55.87,0,0,0,7.81-.56A32,32,0,1,1,168,144a8,8,0,0,0,0-16,47.8,47.8,0,0,0-32,12.26V72a32,32,0,0,1,64,0v6.73a8,8,0,0,0,5.33,7.54A40,40,0,0,1,192,164Zm16-52a8,8,0,0,1-8,8h-4a36,36,0,0,1-36-36V80a8,8,0,0,1,16,0v4a20,20,0,0,0,20,20h4A8,8,0,0,1,208,112ZM60,120H56a8,8,0,0,1,0-16h4A20,20,0,0,0,80,84V80a8,8,0,0,1,16,0v4A36,36,0,0,1,60,120Z"}))],["thin",O.createElement(O.Fragment,null,O.createElement("path",{d:"M244,124a52.1,52.1,0,0,0-32-48V72a44,44,0,0,0-84-18.3A44,44,0,0,0,44,72v4a52,52,0,0,0,0,96v4a44,44,0,0,0,84,18.3A44,44,0,0,0,212,176v-4A52.07,52.07,0,0,0,244,124ZM88,212a36,36,0,0,1-36-36v-1.41A52.13,52.13,0,0,0,64,176h8a4,4,0,0,0,0-8H64A44,44,0,0,1,49.33,82.5,4,4,0,0,0,52,78.73V72a36,36,0,0,1,72,0v78.75A44,44,0,0,0,88,132a4,4,0,0,0,0,8,36,36,0,0,1,0,72Zm104-44h-8a4,4,0,0,0,0,8h8a52.13,52.13,0,0,0,12-1.41V176a36,36,0,1,1-36-36,4,4,0,0,0,0-8,44,44,0,0,0-36,18.75V72a36,36,0,0,1,72,0v6.73a4,4,0,0,0,2.67,3.77A44,44,0,0,1,192,168Zm12-56a4,4,0,0,1-4,4h-4a32,32,0,0,1-32-32V80a4,4,0,0,1,8,0v4a24,24,0,0,0,24,24h4A4,4,0,0,1,204,112ZM92,84a32,32,0,0,1-32,32H56a4,4,0,0,1,0-8h4A24,24,0,0,0,84,84V80a4,4,0,0,1,8,0Z"}))]]),lr=new Map([["bold",O.createElement(O.Fragment,null,O.createElement("path",{d:"M100,100a12,12,0,0,1,12-12h32a12,12,0,0,1,0,24H112A12,12,0,0,1,100,100ZM236,68V196a20,20,0,0,1-20,20H40a20,20,0,0,1-20-20V68A20,20,0,0,1,40,48H76V40a28,28,0,0,1,28-28h48a28,28,0,0,1,28,28v8h36A20,20,0,0,1,236,68ZM100,48h56V40a4,4,0,0,0-4-4H104a4,4,0,0,0-4,4ZM44,72v35.23A180.06,180.06,0,0,0,128,128a180,180,0,0,0,84-20.78V72ZM212,192V133.94A204.27,204.27,0,0,1,128,152a204.21,204.21,0,0,1-84-18.06V192Z"}))],["duotone",O.createElement(O.Fragment,null,O.createElement("path",{d:"M224,118.31V200a8,8,0,0,1-8,8H40a8,8,0,0,1-8-8V118.31h0A191.14,191.14,0,0,0,128,144,191.08,191.08,0,0,0,224,118.31Z",opacity:"0.2"}),O.createElement("path",{d:"M104,112a8,8,0,0,1,8-8h32a8,8,0,0,1,0,16H112A8,8,0,0,1,104,112ZM232,72V200a16,16,0,0,1-16,16H40a16,16,0,0,1-16-16V72A16,16,0,0,1,40,56H80V48a24,24,0,0,1,24-24h48a24,24,0,0,1,24,24v8h40A16,16,0,0,1,232,72ZM96,56h64V48a8,8,0,0,0-8-8H104a8,8,0,0,0-8,8ZM40,72v41.62A184.07,184.07,0,0,0,128,136a184,184,0,0,0,88-22.39V72ZM216,200V131.63A200.25,200.25,0,0,1,128,152a200.19,200.19,0,0,1-88-20.36V200H216Z"}))],["fill",O.createElement(O.Fragment,null,O.createElement("path",{d:"M152,112a8,8,0,0,1-8,8H112a8,8,0,0,1,0-16h32A8,8,0,0,1,152,112Zm80-40V200a16,16,0,0,1-16,16H40a16,16,0,0,1-16-16V72A16,16,0,0,1,40,56H80V48a24,24,0,0,1,24-24h48a24,24,0,0,1,24,24v8h40A16,16,0,0,1,232,72ZM96,56h64V48a8,8,0,0,0-8-8H104a8,8,0,0,0-8,8Zm120,57.61V72H40v41.61A184,184,0,0,0,128,136,184,184,0,0,0,216,113.61Z"}))],["light",O.createElement(O.Fragment,null,O.createElement("path",{d:"M106,112a6,6,0,0,1,6-6h32a6,6,0,0,1,0,12H112A6,6,0,0,1,106,112ZM230,72V200a14,14,0,0,1-14,14H40a14,14,0,0,1-14-14V72A14,14,0,0,1,40,58H82V48a22,22,0,0,1,22-22h48a22,22,0,0,1,22,22V58h42A14,14,0,0,1,230,72ZM94,58h68V48a10,10,0,0,0-10-10H104A10,10,0,0,0,94,48ZM38,72v42.79A186,186,0,0,0,128,138a185.91,185.91,0,0,0,90-23.22V72a2,2,0,0,0-2-2H40A2,2,0,0,0,38,72ZM218,200V128.37A198.12,198.12,0,0,1,128,150a198.05,198.05,0,0,1-90-21.62V200a2,2,0,0,0,2,2H216A2,2,0,0,0,218,200Z"}))],["regular",O.createElement(O.Fragment,null,O.createElement("path",{d:"M216,56H176V48a24,24,0,0,0-24-24H104A24,24,0,0,0,80,48v8H40A16,16,0,0,0,24,72V200a16,16,0,0,0,16,16H216a16,16,0,0,0,16-16V72A16,16,0,0,0,216,56ZM96,48a8,8,0,0,1,8-8h48a8,8,0,0,1,8,8v8H96ZM216,72v41.61A184,184,0,0,1,128,136a184.07,184.07,0,0,1-88-22.38V72Zm0,128H40V131.64A200.19,200.19,0,0,0,128,152a200.25,200.25,0,0,0,88-20.37V200ZM104,112a8,8,0,0,1,8-8h32a8,8,0,0,1,0,16H112A8,8,0,0,1,104,112Z"}))],["thin",O.createElement(O.Fragment,null,O.createElement("path",{d:"M108,112a4,4,0,0,1,4-4h32a4,4,0,0,1,0,8H112A4,4,0,0,1,108,112ZM228,72V200a12,12,0,0,1-12,12H40a12,12,0,0,1-12-12V72A12,12,0,0,1,40,60H84V48a20,20,0,0,1,20-20h48a20,20,0,0,1,20,20V60h44A12,12,0,0,1,228,72ZM92,60h72V48a12,12,0,0,0-12-12H104A12,12,0,0,0,92,48ZM36,72v44a188,188,0,0,0,92,24,188,188,0,0,0,92-24V72a4,4,0,0,0-4-4H40A4,4,0,0,0,36,72ZM220,200V125.1A196.06,196.06,0,0,1,128,148a196,196,0,0,1-92-22.9V200a4,4,0,0,0,4,4H216A4,4,0,0,0,220,200Z"}))]]),cr=new Map([["bold",O.createElement(O.Fragment,null,O.createElement("path",{d:"M240,204H228V96a20,20,0,0,0-20-20H172V32a20,20,0,0,0-28.45-18.12l-104,48.54A20.06,20.06,0,0,0,28,80.55V204H16a12,12,0,0,0,0,24H240a12,12,0,0,0,0-24ZM204,100V204H172V100ZM52,83.09,148,38.3V204H52ZM132,112v12a12,12,0,0,1-24,0V112a12,12,0,0,1,24,0Zm-40,0v12a12,12,0,0,1-24,0V112a12,12,0,0,1,24,0Zm0,52v12a12,12,0,0,1-24,0V164a12,12,0,0,1,24,0Zm40,0v12a12,12,0,0,1-24,0V164a12,12,0,0,1,24,0Z"}))],["duotone",O.createElement(O.Fragment,null,O.createElement("path",{d:"M136,32V216H40V85.35a8,8,0,0,1,3.56-6.66l80-53.33A8,8,0,0,1,136,32Z",opacity:"0.2"}),O.createElement("path",{d:"M240,208H224V96a16,16,0,0,0-16-16H144V32a16,16,0,0,0-24.88-13.32L39.12,72A16,16,0,0,0,32,85.34V208H16a8,8,0,0,0,0,16H240a8,8,0,0,0,0-16ZM208,96V208H144V96ZM48,85.34,128,32V208H48ZM112,112v16a8,8,0,0,1-16,0V112a8,8,0,1,1,16,0Zm-32,0v16a8,8,0,0,1-16,0V112a8,8,0,1,1,16,0Zm0,56v16a8,8,0,0,1-16,0V168a8,8,0,0,1,16,0Zm32,0v16a8,8,0,0,1-16,0V168a8,8,0,0,1,16,0Z"}))],["fill",O.createElement(O.Fragment,null,O.createElement("path",{d:"M239.73,208H224V96a16,16,0,0,0-16-16H164a4,4,0,0,0-4,4V208H144V32.41a16.43,16.43,0,0,0-6.16-13,16,16,0,0,0-18.72-.69L39.12,72A16,16,0,0,0,32,85.34V208H16.27A8.18,8.18,0,0,0,8,215.47,8,8,0,0,0,16,224H240a8,8,0,0,0,8-8.53A8.18,8.18,0,0,0,239.73,208ZM76,184a8,8,0,0,1-8.53,8A8.18,8.18,0,0,1,60,183.72V168.27A8.19,8.19,0,0,1,67.47,160,8,8,0,0,1,76,168Zm0-56a8,8,0,0,1-8.53,8A8.19,8.19,0,0,1,60,127.72V112.27A8.19,8.19,0,0,1,67.47,104,8,8,0,0,1,76,112Zm40,56a8,8,0,0,1-8.53,8,8.18,8.18,0,0,1-7.47-8.26V168.27a8.19,8.19,0,0,1,7.47-8.26,8,8,0,0,1,8.53,8Zm0-56a8,8,0,0,1-8.53,8,8.19,8.19,0,0,1-7.47-8.26V112.27a8.19,8.19,0,0,1,7.47-8.26,8,8,0,0,1,8.53,8Z"}))],["light",O.createElement(O.Fragment,null,O.createElement("path",{d:"M240,210H222V96a14,14,0,0,0-14-14H142V32a14,14,0,0,0-21.77-11.64l-80,53.33A14,14,0,0,0,34,85.34V210H16a6,6,0,0,0,0,12H240a6,6,0,0,0,0-12ZM208,94a2,2,0,0,1,2,2V210H142V94ZM46,85.34a2,2,0,0,1,.89-1.66l80-53.34A2,2,0,0,1,130,32V210H46ZM110,112v16a6,6,0,0,1-12,0V112a6,6,0,0,1,12,0Zm-32,0v16a6,6,0,0,1-12,0V112a6,6,0,0,1,12,0Zm0,56v16a6,6,0,0,1-12,0V168a6,6,0,0,1,12,0Zm32,0v16a6,6,0,0,1-12,0V168a6,6,0,0,1,12,0Z"}))],["regular",O.createElement(O.Fragment,null,O.createElement("path",{d:"M240,208H224V96a16,16,0,0,0-16-16H144V32a16,16,0,0,0-24.88-13.32L39.12,72A16,16,0,0,0,32,85.34V208H16a8,8,0,0,0,0,16H240a8,8,0,0,0,0-16ZM208,96V208H144V96ZM48,85.34,128,32V208H48ZM112,112v16a8,8,0,0,1-16,0V112a8,8,0,1,1,16,0Zm-32,0v16a8,8,0,0,1-16,0V112a8,8,0,1,1,16,0Zm0,56v16a8,8,0,0,1-16,0V168a8,8,0,0,1,16,0Zm32,0v16a8,8,0,0,1-16,0V168a8,8,0,0,1,16,0Z"}))],["thin",O.createElement(O.Fragment,null,O.createElement("path",{d:"M240,212H220V96a12,12,0,0,0-12-12H140V32a12,12,0,0,0-18.66-10l-80,53.33a12,12,0,0,0-5.34,10V212H16a4,4,0,0,0,0,8H240a4,4,0,0,0,0-8ZM208,92a4,4,0,0,1,4,4V212H140V92ZM44,85.34A4,4,0,0,1,45.78,82l80-53.33A4,4,0,0,1,132,32V212H44ZM108,112v16a4,4,0,0,1-8,0V112a4,4,0,0,1,8,0Zm-32,0v16a4,4,0,0,1-8,0V112a4,4,0,0,1,8,0Zm0,56v16a4,4,0,0,1-8,0V168a4,4,0,0,1,8,0Zm32,0v16a4,4,0,0,1-8,0V168a4,4,0,0,1,8,0Z"}))]]),ur=new Map([["bold",O.createElement(O.Fragment,null,O.createElement("path",{d:"M216.49,104.49l-80,80a12,12,0,0,1-17,0l-80-80a12,12,0,0,1,17-17L128,159l71.51-71.52a12,12,0,0,1,17,17Z"}))],["duotone",O.createElement(O.Fragment,null,O.createElement("path",{d:"M208,96l-80,80L48,96Z",opacity:"0.2"}),O.createElement("path",{d:"M215.39,92.94A8,8,0,0,0,208,88H48a8,8,0,0,0-5.66,13.66l80,80a8,8,0,0,0,11.32,0l80-80A8,8,0,0,0,215.39,92.94ZM128,164.69,67.31,104H188.69Z"}))],["fill",O.createElement(O.Fragment,null,O.createElement("path",{d:"M213.66,101.66l-80,80a8,8,0,0,1-11.32,0l-80-80A8,8,0,0,1,48,88H208a8,8,0,0,1,5.66,13.66Z"}))],["light",O.createElement(O.Fragment,null,O.createElement("path",{d:"M212.24,100.24l-80,80a6,6,0,0,1-8.48,0l-80-80a6,6,0,0,1,8.48-8.48L128,167.51l75.76-75.75a6,6,0,0,1,8.48,8.48Z"}))],["regular",O.createElement(O.Fragment,null,O.createElement("path",{d:"M213.66,101.66l-80,80a8,8,0,0,1-11.32,0l-80-80A8,8,0,0,1,53.66,90.34L128,164.69l74.34-74.35a8,8,0,0,1,11.32,11.32Z"}))],["thin",O.createElement(O.Fragment,null,O.createElement("path",{d:"M210.83,98.83l-80,80a4,4,0,0,1-5.66,0l-80-80a4,4,0,0,1,5.66-5.66L128,170.34l77.17-77.17a4,4,0,1,1,5.66,5.66Z"}))]]),hr=new Map([["bold",O.createElement(O.Fragment,null,O.createElement("path",{d:"M216.49,168.49a12,12,0,0,1-17,0L128,97,56.49,168.49a12,12,0,0,1-17-17l80-80a12,12,0,0,1,17,0l80,80A12,12,0,0,1,216.49,168.49Z"}))],["duotone",O.createElement(O.Fragment,null,O.createElement("path",{d:"M208,160H48l80-80Z",opacity:"0.2"}),O.createElement("path",{d:"M213.66,154.34l-80-80a8,8,0,0,0-11.32,0l-80,80A8,8,0,0,0,48,168H208a8,8,0,0,0,5.66-13.66ZM67.31,152,128,91.31,188.69,152Z"}))],["fill",O.createElement(O.Fragment,null,O.createElement("path",{d:"M215.39,163.06A8,8,0,0,1,208,168H48a8,8,0,0,1-5.66-13.66l80-80a8,8,0,0,1,11.32,0l80,80A8,8,0,0,1,215.39,163.06Z"}))],["light",O.createElement(O.Fragment,null,O.createElement("path",{d:"M212.24,164.24a6,6,0,0,1-8.48,0L128,88.49,52.24,164.24a6,6,0,0,1-8.48-8.48l80-80a6,6,0,0,1,8.48,0l80,80A6,6,0,0,1,212.24,164.24Z"}))],["regular",O.createElement(O.Fragment,null,O.createElement("path",{d:"M213.66,165.66a8,8,0,0,1-11.32,0L128,91.31,53.66,165.66a8,8,0,0,1-11.32-11.32l80-80a8,8,0,0,1,11.32,0l80,80A8,8,0,0,1,213.66,165.66Z"}))],["thin",O.createElement(O.Fragment,null,O.createElement("path",{d:"M210.83,162.83a4,4,0,0,1-5.66,0L128,85.66,50.83,162.83a4,4,0,0,1-5.66-5.66l80-80a4,4,0,0,1,5.66,0l80,80A4,4,0,0,1,210.83,162.83Z"}))]]),dr=new Map([["bold",O.createElement(O.Fragment,null,O.createElement("path",{d:"M224,196h-4V40a12,12,0,0,0-12-12H152a12,12,0,0,0-12,12V76H96A12,12,0,0,0,84,88v36H48a12,12,0,0,0-12,12v60H32a12,12,0,0,0,0,24H224a12,12,0,0,0,0-24ZM164,52h32V196H164Zm-56,48h32v96H108ZM60,148H84v48H60Z"}))],["duotone",O.createElement(O.Fragment,null,O.createElement("path",{d:"M208,40V208H152V40Z",opacity:"0.2"}),O.createElement("path",{d:"M224,200h-8V40a8,8,0,0,0-8-8H152a8,8,0,0,0-8,8V80H96a8,8,0,0,0-8,8v40H48a8,8,0,0,0-8,8v64H32a8,8,0,0,0,0,16H224a8,8,0,0,0,0-16ZM160,48h40V200H160ZM104,96h40V200H104ZM56,144H88v56H56Z"}))],["fill",O.createElement(O.Fragment,null,O.createElement("path",{d:"M232,208a8,8,0,0,1-8,8H32a8,8,0,0,1,0-16h8V136a8,8,0,0,1,8-8H72a8,8,0,0,1,8,8v64H96V88a8,8,0,0,1,8-8h32a8,8,0,0,1,8,8V200h16V40a8,8,0,0,1,8-8h40a8,8,0,0,1,8,8V200h8A8,8,0,0,1,232,208Z"}))],["light",O.createElement(O.Fragment,null,O.createElement("path",{d:"M224,202H214V40a6,6,0,0,0-6-6H152a6,6,0,0,0-6,6V82H96a6,6,0,0,0-6,6v42H48a6,6,0,0,0-6,6v66H32a6,6,0,0,0,0,12H224a6,6,0,0,0,0-12ZM158,46h44V202H158ZM102,94h44V202H102ZM54,142H90v60H54Z"}))],["regular",O.createElement(O.Fragment,null,O.createElement("path",{d:"M224,200h-8V40a8,8,0,0,0-8-8H152a8,8,0,0,0-8,8V80H96a8,8,0,0,0-8,8v40H48a8,8,0,0,0-8,8v64H32a8,8,0,0,0,0,16H224a8,8,0,0,0,0-16ZM160,48h40V200H160ZM104,96h40V200H104ZM56,144H88v56H56Z"}))],["thin",O.createElement(O.Fragment,null,O.createElement("path",{d:"M224,204H212V40a4,4,0,0,0-4-4H152a4,4,0,0,0-4,4V84H96a4,4,0,0,0-4,4v44H48a4,4,0,0,0-4,4v68H32a4,4,0,0,0,0,8H224a4,4,0,0,0,0-8ZM156,44h48V204H156ZM100,92h48V204H100ZM52,140H92v64H52Z"}))]]),pr=new Map([["bold",O.createElement(O.Fragment,null,O.createElement("path",{d:"M236,208a12,12,0,0,1-12,12H32a12,12,0,0,1-12-12V48a12,12,0,0,1,24,0v85.55L88.1,95a12,12,0,0,1,15.1-.57l56.22,42.16L216.1,87A12,12,0,1,1,231.9,105l-64,56a12,12,0,0,1-15.1.57L96.58,119.44,44,165.45V196H224A12,12,0,0,1,236,208Z"}))],["duotone",O.createElement(O.Fragment,null,O.createElement("path",{d:"M224,64V208H32V48H208A16,16,0,0,1,224,64Z",opacity:"0.2"}),O.createElement("path",{d:"M232,208a8,8,0,0,1-8,8H32a8,8,0,0,1-8-8V48a8,8,0,0,1,16,0v94.37L90.73,98a8,8,0,0,1,10.07-.38l58.81,44.11L218.73,90a8,8,0,1,1,10.54,12l-64,56a8,8,0,0,1-10.07.38L96.39,114.29,40,163.63V200H224A8,8,0,0,1,232,208Z"}))],["fill",O.createElement(O.Fragment,null,O.createElement("path",{d:"M216,40H40A16,16,0,0,0,24,56V200a16,16,0,0,0,16,16H216a16,16,0,0,0,16-16V56A16,16,0,0,0,216,40ZM200,176a8,8,0,0,1,0,16H56a8,8,0,0,1-8-8V72a8,8,0,0,1,16,0v62.92l34.88-29.07a8,8,0,0,1,9.56-.51l43,28.69,43.41-36.18a8,8,0,0,1,10.24,12.3l-48,40a8,8,0,0,1-9.56.51l-43-28.69L64,155.75V176Z"}))],["light",O.createElement(O.Fragment,null,O.createElement("path",{d:"M230,208a6,6,0,0,1-6,6H32a6,6,0,0,1-6-6V48a6,6,0,0,1,12,0v98.78l54.05-47.3a6,6,0,0,1,7.55-.28l60.11,45.08,60.34-52.8a6,6,0,0,1,7.9,9l-64,56a6,6,0,0,1-7.55.28L96.29,111.72,38,162.72V202H224A6,6,0,0,1,230,208Z"}))],["regular",O.createElement(O.Fragment,null,O.createElement("path",{d:"M232,208a8,8,0,0,1-8,8H32a8,8,0,0,1-8-8V48a8,8,0,0,1,16,0v94.37L90.73,98a8,8,0,0,1,10.07-.38l58.81,44.11L218.73,90a8,8,0,1,1,10.54,12l-64,56a8,8,0,0,1-10.07.38L96.39,114.29,40,163.63V200H224A8,8,0,0,1,232,208Z"}))],["thin",O.createElement(O.Fragment,null,O.createElement("path",{d:"M228,208a4,4,0,0,1-4,4H32a4,4,0,0,1-4-4V48a4,4,0,0,1,8,0V151.19L93.37,101a4,4,0,0,1,5-.19l61.41,46.05L221.37,93a4,4,0,0,1,5.26,6l-64,56a4,4,0,0,1-5,.19l-61.41-46L36,161.81V204H224A4,4,0,0,1,228,208Z"}))]]),fr=new Map([["bold",O.createElement(O.Fragment,null,O.createElement("path",{d:"M236,208a12,12,0,0,1-12,12H32a12,12,0,0,1-12-12V48a12,12,0,0,1,24,0v99l43.51-43.52a12,12,0,0,1,17,0L128,127l43-43H160a12,12,0,0,1,0-24h40a12,12,0,0,1,12,12v40a12,12,0,0,1-24,0V101l-51.51,51.52a12,12,0,0,1-17,0L96,129,44,181v15H224A12,12,0,0,1,236,208Z"}))],["duotone",O.createElement(O.Fragment,null,O.createElement("path",{d:"M224,64V208H32V48H208A16,16,0,0,1,224,64Z",opacity:"0.2"}),O.createElement("path",{d:"M232,208a8,8,0,0,1-8,8H32a8,8,0,0,1-8-8V48a8,8,0,0,1,16,0V156.69l50.34-50.35a8,8,0,0,1,11.32,0L128,132.69,180.69,80H160a8,8,0,0,1,0-16h40a8,8,0,0,1,8,8v40a8,8,0,0,1-16,0V91.31l-58.34,58.35a8,8,0,0,1-11.32,0L96,123.31l-56,56V200H224A8,8,0,0,1,232,208Z"}))],["fill",O.createElement(O.Fragment,null,O.createElement("path",{d:"M216,40H40A16,16,0,0,0,24,56V200a16,16,0,0,0,16,16H216a16,16,0,0,0,16-16V56A16,16,0,0,0,216,40ZM200,192H56a8,8,0,0,1-8-8V72a8,8,0,0,1,16,0v76.69l34.34-34.35a8,8,0,0,1,11.32,0L128,132.69,172.69,88H144a8,8,0,0,1,0-16h48a8,8,0,0,1,8,8v48a8,8,0,0,1-16,0V99.31l-50.34,50.35a8,8,0,0,1-11.32,0L104,131.31l-40,40V176H200a8,8,0,0,1,0,16Z"}))],["light",O.createElement(O.Fragment,null,O.createElement("path",{d:"M230,208a6,6,0,0,1-6,6H32a6,6,0,0,1-6-6V48a6,6,0,0,1,12,0V161.52l53.76-53.76a6,6,0,0,1,8.48,0L128,135.51,185.52,78H160a6,6,0,0,1,0-12h40a6,6,0,0,1,6,6v40a6,6,0,0,1-12,0V86.48l-61.76,61.76a6,6,0,0,1-8.48,0L96,120.49l-58,58V202H224A6,6,0,0,1,230,208Z"}))],["regular",O.createElement(O.Fragment,null,O.createElement("path",{d:"M232,208a8,8,0,0,1-8,8H32a8,8,0,0,1-8-8V48a8,8,0,0,1,16,0V156.69l50.34-50.35a8,8,0,0,1,11.32,0L128,132.69,180.69,80H160a8,8,0,0,1,0-16h40a8,8,0,0,1,8,8v40a8,8,0,0,1-16,0V91.31l-58.34,58.35a8,8,0,0,1-11.32,0L96,123.31l-56,56V200H224A8,8,0,0,1,232,208Z"}))],["thin",O.createElement(O.Fragment,null,O.createElement("path",{d:"M228,208a4,4,0,0,1-4,4H32a4,4,0,0,1-4-4V48a4,4,0,0,1,8,0V166.34l57.17-57.17a4,4,0,0,1,5.66,0L128,138.34,190.34,76H160a4,4,0,0,1,0-8h40a4,4,0,0,1,4,4v40a4,4,0,0,1-8,0V81.66l-65.17,65.17a4,4,0,0,1-5.66,0L96,117.66l-60,60V204H224A4,4,0,0,1,228,208Z"}))]]),mr=new Map([["bold",O.createElement(O.Fragment,null,O.createElement("path",{d:"M232.49,80.49l-128,128a12,12,0,0,1-17,0l-56-56a12,12,0,1,1,17-17L96,183,215.51,63.51a12,12,0,0,1,17,17Z"}))],["duotone",O.createElement(O.Fragment,null,O.createElement("path",{d:"M232,56V200a16,16,0,0,1-16,16H40a16,16,0,0,1-16-16V56A16,16,0,0,1,40,40H216A16,16,0,0,1,232,56Z",opacity:"0.2"}),O.createElement("path",{d:"M205.66,85.66l-96,96a8,8,0,0,1-11.32,0l-40-40a8,8,0,0,1,11.32-11.32L104,164.69l90.34-90.35a8,8,0,0,1,11.32,11.32Z"}))],["fill",O.createElement(O.Fragment,null,O.createElement("path",{d:"M216,40H40A16,16,0,0,0,24,56V200a16,16,0,0,0,16,16H216a16,16,0,0,0,16-16V56A16,16,0,0,0,216,40ZM205.66,85.66l-96,96a8,8,0,0,1-11.32,0l-40-40a8,8,0,0,1,11.32-11.32L104,164.69l90.34-90.35a8,8,0,0,1,11.32,11.32Z"}))],["light",O.createElement(O.Fragment,null,O.createElement("path",{d:"M228.24,76.24l-128,128a6,6,0,0,1-8.48,0l-56-56a6,6,0,0,1,8.48-8.48L96,191.51,219.76,67.76a6,6,0,0,1,8.48,8.48Z"}))],["regular",O.createElement(O.Fragment,null,O.createElement("path",{d:"M229.66,77.66l-128,128a8,8,0,0,1-11.32,0l-56-56a8,8,0,0,1,11.32-11.32L96,188.69,218.34,66.34a8,8,0,0,1,11.32,11.32Z"}))],["thin",O.createElement(O.Fragment,null,O.createElement("path",{d:"M226.83,74.83l-128,128a4,4,0,0,1-5.66,0l-56-56a4,4,0,0,1,5.66-5.66L96,194.34,221.17,69.17a4,4,0,1,1,5.66,5.66Z"}))]]),gr=new Map([["bold",O.createElement(O.Fragment,null,O.createElement("path",{d:"M71.68,97.22,34.74,128l36.94,30.78a12,12,0,1,1-15.36,18.44l-48-40a12,12,0,0,1,0-18.44l48-40A12,12,0,0,1,71.68,97.22Zm176,21.56-48-40a12,12,0,1,0-15.36,18.44L221.26,128l-36.94,30.78a12,12,0,1,0,15.36,18.44l48-40a12,12,0,0,0,0-18.44ZM164.1,28.72a12,12,0,0,0-15.38,7.18l-64,176a12,12,0,0,0,7.18,15.37A11.79,11.79,0,0,0,96,228a12,12,0,0,0,11.28-7.9l64-176A12,12,0,0,0,164.1,28.72Z"}))],["duotone",O.createElement(O.Fragment,null,O.createElement("path",{d:"M240,128l-48,40H64L16,128,64,88H192Z",opacity:"0.2"}),O.createElement("path",{d:"M69.12,94.15,28.5,128l40.62,33.85a8,8,0,1,1-10.24,12.29l-48-40a8,8,0,0,1,0-12.29l48-40a8,8,0,0,1,10.24,12.3Zm176,27.7-48-40a8,8,0,1,0-10.24,12.3L227.5,128l-40.62,33.85a8,8,0,1,0,10.24,12.29l48-40a8,8,0,0,0,0-12.29ZM162.73,32.48a8,8,0,0,0-10.25,4.79l-64,176a8,8,0,0,0,4.79,10.26A8.14,8.14,0,0,0,96,224a8,8,0,0,0,7.52-5.27l64-176A8,8,0,0,0,162.73,32.48Z"}))],["fill",O.createElement(O.Fragment,null,O.createElement("path",{d:"M216,40H40A16,16,0,0,0,24,56V200a16,16,0,0,0,16,16H216a16,16,0,0,0,16-16V56A16,16,0,0,0,216,40ZM92.8,145.6a8,8,0,1,1-9.6,12.8l-32-24a8,8,0,0,1,0-12.8l32-24a8,8,0,0,1,9.6,12.8L69.33,128Zm58.89-71.4-32,112a8,8,0,1,1-15.38-4.4l32-112a8,8,0,0,1,15.38,4.4Zm53.11,60.2-32,24a8,8,0,0,1-9.6-12.8L186.67,128,163.2,110.4a8,8,0,1,1,9.6-12.8l32,24a8,8,0,0,1,0,12.8Z"}))],["light",O.createElement(O.Fragment,null,O.createElement("path",{d:"M67.84,92.61,25.37,128l42.47,35.39a6,6,0,1,1-7.68,9.22l-48-40a6,6,0,0,1,0-9.22l48-40a6,6,0,0,1,7.68,9.22Zm176,30.78-48-40a6,6,0,1,0-7.68,9.22L230.63,128l-42.47,35.39a6,6,0,1,0,7.68,9.22l48-40a6,6,0,0,0,0-9.22Zm-81.79-89A6,6,0,0,0,154.36,38l-64,176A6,6,0,0,0,94,221.64a6.15,6.15,0,0,0,2,.36,6,6,0,0,0,5.64-3.95l64-176A6,6,0,0,0,162.05,34.36Z"}))],["regular",O.createElement(O.Fragment,null,O.createElement("path",{d:"M69.12,94.15,28.5,128l40.62,33.85a8,8,0,1,1-10.24,12.29l-48-40a8,8,0,0,1,0-12.29l48-40a8,8,0,0,1,10.24,12.3Zm176,27.7-48-40a8,8,0,1,0-10.24,12.3L227.5,128l-40.62,33.85a8,8,0,1,0,10.24,12.29l48-40a8,8,0,0,0,0-12.29ZM162.73,32.48a8,8,0,0,0-10.25,4.79l-64,176a8,8,0,0,0,4.79,10.26A8.14,8.14,0,0,0,96,224a8,8,0,0,0,7.52-5.27l64-176A8,8,0,0,0,162.73,32.48Z"}))],["thin",O.createElement(O.Fragment,null,O.createElement("path",{d:"M66.56,91.07,22.25,128l44.31,36.93A4,4,0,0,1,64,172a3.94,3.94,0,0,1-2.56-.93l-48-40a4,4,0,0,1,0-6.14l48-40a4,4,0,0,1,5.12,6.14Zm176,33.86-48-40a4,4,0,1,0-5.12,6.14L233.75,128l-44.31,36.93a4,4,0,1,0,5.12,6.14l48-40a4,4,0,0,0,0-6.14ZM161.37,36.24a4,4,0,0,0-5.13,2.39l-64,176a4,4,0,0,0,2.39,5.13A4.12,4.12,0,0,0,96,220a4,4,0,0,0,3.76-2.63l64-176A4,4,0,0,0,161.37,36.24Z"}))]]),yr=new Map([["bold",O.createElement(O.Fragment,null,O.createElement("path",{d:"M180,140H164V116h16a40,40,0,1,0-40-40V92H116V76a40,40,0,1,0-40,40H92v24H76a40,40,0,1,0,40,40V164h24v16a40,40,0,1,0,40-40ZM164,76a16,16,0,1,1,16,16H164ZM60,76a16,16,0,0,1,32,0V92H76A16,16,0,0,1,60,76ZM92,180a16,16,0,1,1-16-16H92Zm24-64h24v24H116Zm64,80a16,16,0,0,1-16-16V164h16a16,16,0,0,1,0,32Z"}))],["duotone",O.createElement(O.Fragment,null,O.createElement("path",{d:"M208,76h0a28,28,0,0,1-28,28H152V76a28,28,0,0,1,28-28h0A28,28,0,0,1,208,76ZM76,48h0A28,28,0,0,0,48,76h0a28,28,0,0,0,28,28h28V76A28,28,0,0,0,76,48ZM180,152H152v28a28,28,0,0,0,28,28h0a28,28,0,0,0,28-28h0A28,28,0,0,0,180,152ZM48,180h0a28,28,0,0,0,28,28h0a28,28,0,0,0,28-28V152H76A28,28,0,0,0,48,180Z",opacity:"0.2"}),O.createElement("path",{d:"M180,144H160V112h20a36,36,0,1,0-36-36V96H112V76a36,36,0,1,0-36,36H96v32H76a36,36,0,1,0,36,36V160h32v20a36,36,0,1,0,36-36ZM160,76a20,20,0,1,1,20,20H160ZM56,76a20,20,0,0,1,40,0V96H76A20,20,0,0,1,56,76ZM96,180a20,20,0,1,1-20-20H96Zm16-68h32v32H112Zm68,88a20,20,0,0,1-20-20V160h20a20,20,0,0,1,0,40Z"}))],["fill",O.createElement(O.Fragment,null,O.createElement("path",{d:"M116,116h24v24H116ZM86,72a14,14,0,0,0,0,28h14V86A14,14,0,0,0,86,72Zm98,14a14,14,0,0,0-28,0v14h14A14,14,0,0,0,184,86ZM72,170a14,14,0,0,0,28,0V156H86A14,14,0,0,0,72,170ZM224,48V208a16,16,0,0,1-16,16H48a16,16,0,0,1-16-16V48A16,16,0,0,1,48,32H208A16,16,0,0,1,224,48Zm-68,92V116h14a30,30,0,1,0-30-30v14H116V86a30,30,0,1,0-30,30h14v24H86a30,30,0,1,0,30,30V156h24v14a30,30,0,1,0,30-30Zm0,30a14,14,0,1,0,14-14H156Z"}))],["light",O.createElement(O.Fragment,null,O.createElement("path",{d:"M180,146H158V110h22a34,34,0,1,0-34-34V98H110V76a34,34,0,1,0-34,34H98v36H76a34,34,0,1,0,34,34V158h36v22a34,34,0,1,0,34-34ZM158,76a22,22,0,1,1,22,22H158ZM54,76a22,22,0,0,1,44,0V98H76A22,22,0,0,1,54,76ZM98,180a22,22,0,1,1-22-22H98Zm12-70h36v36H110Zm70,92a22,22,0,0,1-22-22V158h22a22,22,0,0,1,0,44Z"}))],["regular",O.createElement(O.Fragment,null,O.createElement("path",{d:"M180,144H160V112h20a36,36,0,1,0-36-36V96H112V76a36,36,0,1,0-36,36H96v32H76a36,36,0,1,0,36,36V160h32v20a36,36,0,1,0,36-36ZM160,76a20,20,0,1,1,20,20H160ZM56,76a20,20,0,0,1,40,0V96H76A20,20,0,0,1,56,76ZM96,180a20,20,0,1,1-20-20H96Zm16-68h32v32H112Zm68,88a20,20,0,0,1-20-20V160h20a20,20,0,0,1,0,40Z"}))],["thin",O.createElement(O.Fragment,null,O.createElement("path",{d:"M180,148H156V108h24a32,32,0,1,0-32-32v24H108V76a32,32,0,1,0-32,32h24v40H76a32,32,0,1,0,32,32V156h40v24a32,32,0,1,0,32-32ZM156,76a24,24,0,1,1,24,24H156ZM52,76a24,24,0,0,1,48,0v24H76A24,24,0,0,1,52,76Zm48,104a24,24,0,1,1-24-24h24Zm8-72h40v40H108Zm72,96a24,24,0,0,1-24-24V156h24a24,24,0,0,1,0,48Z"}))]]),xr=new Map([["bold",O.createElement(O.Fragment,null,O.createElement("path",{d:"M128,20A108,108,0,1,0,236,128,108.12,108.12,0,0,0,128,20Zm0,192a84,84,0,1,1,84-84A84.09,84.09,0,0,1,128,212ZM163.27,77l-56,24a12,12,0,0,0-6.3,6.3l-24,56A12,12,0,0,0,92.73,179l56-24a12,12,0,0,0,6.3-6.3l24-56A12,12,0,0,0,163.27,77Zm-28.41,57.89-24,10.29,10.29-24,24-10.29Z"}))],["duotone",O.createElement(O.Fragment,null,O.createElement("path",{d:"M128,32a96,96,0,1,0,96,96A96,96,0,0,0,128,32Zm16,112L80,176l32-64,64-32Z",opacity:"0.2"}),O.createElement("path",{d:"M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm0,192a88,88,0,1,1,88-88A88.1,88.1,0,0,1,128,216ZM172.42,72.84l-64,32a8.05,8.05,0,0,0-3.58,3.58l-32,64A8,8,0,0,0,80,184a8.1,8.1,0,0,0,3.58-.84l64-32a8.05,8.05,0,0,0,3.58-3.58l32-64a8,8,0,0,0-10.74-10.74ZM138,138,97.89,158.11,118,118l40.15-20.07Z"}))],["fill",O.createElement(O.Fragment,null,O.createElement("path",{d:"M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm51.58,57.79-32,64a4.08,4.08,0,0,1-1.79,1.79l-64,32a4,4,0,0,1-5.37-5.37l32-64a4.08,4.08,0,0,1,1.79-1.79l64-32A4,4,0,0,1,179.58,81.79Z"}))],["light",O.createElement(O.Fragment,null,O.createElement("path",{d:"M128,26A102,102,0,1,0,230,128,102.12,102.12,0,0,0,128,26Zm0,192a90,90,0,1,1,90-90A90.1,90.1,0,0,1,128,218ZM173.32,74.63l-64,32a6,6,0,0,0-2.69,2.69l-32,64A6,6,0,0,0,80,182a6.06,6.06,0,0,0,2.68-.63l64-32a6,6,0,0,0,2.69-2.69l32-64a6,6,0,0,0-8.05-8.05Zm-33.79,64.9L93.42,162.58l23-46.11,46.11-23Z"}))],["regular",O.createElement(O.Fragment,null,O.createElement("path",{d:"M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm0,192a88,88,0,1,1,88-88A88.1,88.1,0,0,1,128,216ZM172.42,72.84l-64,32a8.05,8.05,0,0,0-3.58,3.58l-32,64A8,8,0,0,0,80,184a8.1,8.1,0,0,0,3.58-.84l64-32a8.05,8.05,0,0,0,3.58-3.58l32-64a8,8,0,0,0-10.74-10.74ZM138,138,97.89,158.11,118,118l40.15-20.07Z"}))],["thin",O.createElement(O.Fragment,null,O.createElement("path",{d:"M128,28A100,100,0,1,0,228,128,100.11,100.11,0,0,0,128,28Zm0,192a92,92,0,1,1,92-92A92.1,92.1,0,0,1,128,220ZM174.21,76.42l-64,32a4.08,4.08,0,0,0-1.79,1.79l-32,64A4,4,0,0,0,80,180a4.05,4.05,0,0,0,1.79-.42l64-32a4.08,4.08,0,0,0,1.79-1.79l32-64a4,4,0,0,0-5.37-5.37ZM141,141l-52.08,26L115,115l52.08-26Z"}))]]),br=new Map([["bold",O.createElement(O.Fragment,null,O.createElement("path",{d:"M156,88H100a12,12,0,0,0-12,12v56a12,12,0,0,0,12,12h56a12,12,0,0,0,12-12V100A12,12,0,0,0,156,88Zm-12,56H112V112h32Zm88-4H220V116h12a12,12,0,0,0,0-24H220V56a20,20,0,0,0-20-20H164V24a12,12,0,0,0-24,0V36H116V24a12,12,0,0,0-24,0V36H56A20,20,0,0,0,36,56V92H24a12,12,0,0,0,0,24H36v24H24a12,12,0,0,0,0,24H36v36a20,20,0,0,0,20,20H92v12a12,12,0,0,0,24,0V220h24v12a12,12,0,0,0,24,0V220h36a20,20,0,0,0,20-20V164h12a12,12,0,0,0,0-24Zm-36,56H60V60H196Z"}))],["duotone",O.createElement(O.Fragment,null,O.createElement("path",{d:"M200,48H56a8,8,0,0,0-8,8V200a8,8,0,0,0,8,8H200a8,8,0,0,0,8-8V56A8,8,0,0,0,200,48ZM152,152H104V104h48Z",opacity:"0.2"}),O.createElement("path",{d:"M152,96H104a8,8,0,0,0-8,8v48a8,8,0,0,0,8,8h48a8,8,0,0,0,8-8V104A8,8,0,0,0,152,96Zm-8,48H112V112h32Zm88,0H216V112h16a8,8,0,0,0,0-16H216V56a16,16,0,0,0-16-16H160V24a8,8,0,0,0-16,0V40H112V24a8,8,0,0,0-16,0V40H56A16,16,0,0,0,40,56V96H24a8,8,0,0,0,0,16H40v32H24a8,8,0,0,0,0,16H40v40a16,16,0,0,0,16,16H96v16a8,8,0,0,0,16,0V216h32v16a8,8,0,0,0,16,0V216h40a16,16,0,0,0,16-16V160h16a8,8,0,0,0,0-16Zm-32,56H56V56H200v95.87s0,.09,0,.13,0,.09,0,.13V200Z"}))],["fill",O.createElement(O.Fragment,null,O.createElement("path",{d:"M104,104h48v48H104Zm136,48a8,8,0,0,1-8,8H216v40a16,16,0,0,1-16,16H160v16a8,8,0,0,1-16,0V216H112v16a8,8,0,0,1-16,0V216H56a16,16,0,0,1-16-16V160H24a8,8,0,0,1,0-16H40V112H24a8,8,0,0,1,0-16H40V56A16,16,0,0,1,56,40H96V24a8,8,0,0,1,16,0V40h32V24a8,8,0,0,1,16,0V40h40a16,16,0,0,1,16,16V96h16a8,8,0,0,1,0,16H216v32h16A8,8,0,0,1,240,152ZM168,96a8,8,0,0,0-8-8H96a8,8,0,0,0-8,8v64a8,8,0,0,0,8,8h64a8,8,0,0,0,8-8Z"}))],["light",O.createElement(O.Fragment,null,O.createElement("path",{d:"M152,98H104a6,6,0,0,0-6,6v48a6,6,0,0,0,6,6h48a6,6,0,0,0,6-6V104A6,6,0,0,0,152,98Zm-6,48H110V110h36Zm86,0H214V110h18a6,6,0,0,0,0-12H214V56a14,14,0,0,0-14-14H158V24a6,6,0,0,0-12,0V42H110V24a6,6,0,0,0-12,0V42H56A14,14,0,0,0,42,56V98H24a6,6,0,0,0,0,12H42v36H24a6,6,0,0,0,0,12H42v42a14,14,0,0,0,14,14H98v18a6,6,0,0,0,12,0V214h36v18a6,6,0,0,0,12,0V214h42a14,14,0,0,0,14-14V158h18a6,6,0,0,0,0-12Zm-30,54a2,2,0,0,1-2,2H56a2,2,0,0,1-2-2V56a2,2,0,0,1,2-2H200a2,2,0,0,1,2,2Z"}))],["regular",O.createElement(O.Fragment,null,O.createElement("path",{d:"M152,96H104a8,8,0,0,0-8,8v48a8,8,0,0,0,8,8h48a8,8,0,0,0,8-8V104A8,8,0,0,0,152,96Zm-8,48H112V112h32Zm88,0H216V112h16a8,8,0,0,0,0-16H216V56a16,16,0,0,0-16-16H160V24a8,8,0,0,0-16,0V40H112V24a8,8,0,0,0-16,0V40H56A16,16,0,0,0,40,56V96H24a8,8,0,0,0,0,16H40v32H24a8,8,0,0,0,0,16H40v40a16,16,0,0,0,16,16H96v16a8,8,0,0,0,16,0V216h32v16a8,8,0,0,0,16,0V216h40a16,16,0,0,0,16-16V160h16a8,8,0,0,0,0-16Zm-32,56H56V56H200v95.87s0,.09,0,.13,0,.09,0,.13V200Z"}))],["thin",O.createElement(O.Fragment,null,O.createElement("path",{d:"M152,100H104a4,4,0,0,0-4,4v48a4,4,0,0,0,4,4h48a4,4,0,0,0,4-4V104A4,4,0,0,0,152,100Zm-4,48H108V108h40Zm84,0H212V108h20a4,4,0,0,0,0-8H212V56a12,12,0,0,0-12-12H156V24a4,4,0,0,0-8,0V44H108V24a4,4,0,0,0-8,0V44H56A12,12,0,0,0,44,56v44H24a4,4,0,0,0,0,8H44v40H24a4,4,0,0,0,0,8H44v44a12,12,0,0,0,12,12h44v20a4,4,0,0,0,8,0V212h40v20a4,4,0,0,0,8,0V212h44a12,12,0,0,0,12-12V156h20a4,4,0,0,0,0-8Zm-28,52a4,4,0,0,1-4,4H56a4,4,0,0,1-4-4V56a4,4,0,0,1,4-4H200a4,4,0,0,1,4,4Z"}))]]),vr=new Map([["bold",O.createElement(O.Fragment,null,O.createElement("path",{d:"M196,35.52C177.62,25.51,153.48,20,128,20S78.38,25.51,60,35.52C39.37,46.79,28,62.58,28,80v96c0,17.42,11.37,33.21,32,44.48,18.35,10,42.49,15.52,68,15.52s49.62-5.51,68-15.52c20.66-11.27,32-27.06,32-44.48V80C228,62.58,216.63,46.79,196,35.52ZM204,128c0,17-31.21,36-76,36s-76-19-76-36v-8.46a88.9,88.9,0,0,0,8,4.94c18.35,10,42.49,15.52,68,15.52s49.62-5.51,68-15.52a88.9,88.9,0,0,0,8-4.94ZM128,44c44.79,0,76,19,76,36s-31.21,36-76,36S52,97,52,80,83.21,44,128,44Zm0,168c-44.79,0-76-19-76-36v-8.46a88.9,88.9,0,0,0,8,4.94c18.35,10,42.49,15.52,68,15.52s49.62-5.51,68-15.52a88.9,88.9,0,0,0,8-4.94V176C204,193,172.79,212,128,212Z"}))],["duotone",O.createElement(O.Fragment,null,O.createElement("path",{d:"M216,80c0,26.51-39.4,48-88,48S40,106.51,40,80s39.4-48,88-48S216,53.49,216,80Z",opacity:"0.2"}),O.createElement("path",{d:"M128,24C74.17,24,32,48.6,32,80v96c0,31.4,42.17,56,96,56s96-24.6,96-56V80C224,48.6,181.83,24,128,24Zm80,104c0,9.62-7.88,19.43-21.61,26.92C170.93,163.35,150.19,168,128,168s-42.93-4.65-58.39-13.08C55.88,147.43,48,137.62,48,128V111.36c17.06,15,46.23,24.64,80,24.64s62.94-9.68,80-24.64ZM69.61,53.08C85.07,44.65,105.81,40,128,40s42.93,4.65,58.39,13.08C200.12,60.57,208,70.38,208,80s-7.88,19.43-21.61,26.92C170.93,115.35,150.19,120,128,120s-42.93-4.65-58.39-13.08C55.88,99.43,48,89.62,48,80S55.88,60.57,69.61,53.08ZM186.39,202.92C170.93,211.35,150.19,216,128,216s-42.93-4.65-58.39-13.08C55.88,195.43,48,185.62,48,176V159.36c17.06,15,46.23,24.64,80,24.64s62.94-9.68,80-24.64V176C208,185.62,200.12,195.43,186.39,202.92Z"}))],["fill",O.createElement(O.Fragment,null,O.createElement("path",{d:"M128,24C74.17,24,32,48.6,32,80v96c0,31.4,42.17,56,96,56s96-24.6,96-56V80C224,48.6,181.83,24,128,24Zm80,104c0,9.62-7.88,19.43-21.61,26.92C170.93,163.35,150.19,168,128,168s-42.93-4.65-58.39-13.08C55.88,147.43,48,137.62,48,128V111.36c17.06,15,46.23,24.64,80,24.64s62.94-9.68,80-24.64Zm-21.61,74.92C170.93,211.35,150.19,216,128,216s-42.93-4.65-58.39-13.08C55.88,195.43,48,185.62,48,176V159.36c17.06,15,46.23,24.64,80,24.64s62.94-9.68,80-24.64V176C208,185.62,200.12,195.43,186.39,202.92Z"}))],["light",O.createElement(O.Fragment,null,O.createElement("path",{d:"M128,26C75.29,26,34,49.72,34,80v96c0,30.28,41.29,54,94,54s94-23.72,94-54V80C222,49.72,180.71,26,128,26Zm0,12c44.45,0,82,19.23,82,42s-37.55,42-82,42S46,102.77,46,80,83.55,38,128,38Zm82,138c0,22.77-37.55,42-82,42s-82-19.23-82-42V154.79C62,171.16,92.37,182,128,182s66-10.84,82-27.21Zm0-48c0,22.77-37.55,42-82,42s-82-19.23-82-42V106.79C62,123.16,92.37,134,128,134s66-10.84,82-27.21Z"}))],["regular",O.createElement(O.Fragment,null,O.createElement("path",{d:"M128,24C74.17,24,32,48.6,32,80v96c0,31.4,42.17,56,96,56s96-24.6,96-56V80C224,48.6,181.83,24,128,24Zm80,104c0,9.62-7.88,19.43-21.61,26.92C170.93,163.35,150.19,168,128,168s-42.93-4.65-58.39-13.08C55.88,147.43,48,137.62,48,128V111.36c17.06,15,46.23,24.64,80,24.64s62.94-9.68,80-24.64ZM69.61,53.08C85.07,44.65,105.81,40,128,40s42.93,4.65,58.39,13.08C200.12,60.57,208,70.38,208,80s-7.88,19.43-21.61,26.92C170.93,115.35,150.19,120,128,120s-42.93-4.65-58.39-13.08C55.88,99.43,48,89.62,48,80S55.88,60.57,69.61,53.08ZM186.39,202.92C170.93,211.35,150.19,216,128,216s-42.93-4.65-58.39-13.08C55.88,195.43,48,185.62,48,176V159.36c17.06,15,46.23,24.64,80,24.64s62.94-9.68,80-24.64V176C208,185.62,200.12,195.43,186.39,202.92Z"}))],["thin",O.createElement(O.Fragment,null,O.createElement("path",{d:"M192.14,42.55C174.94,33.17,152.16,28,128,28S81.06,33.17,63.86,42.55C45.89,52.35,36,65.65,36,80v96c0,14.35,9.89,27.65,27.86,37.45,17.2,9.38,40,14.55,64.14,14.55s46.94-5.17,64.14-14.55c18-9.8,27.86-23.1,27.86-37.45V80C220,65.65,210.11,52.35,192.14,42.55ZM212,176c0,11.29-8.41,22.1-23.69,30.43C172.27,215.18,150.85,220,128,220s-44.27-4.82-60.31-13.57C52.41,198.1,44,187.29,44,176V149.48c4.69,5.93,11.37,11.34,19.86,16,17.2,9.38,40,14.55,64.14,14.55s46.94-5.17,64.14-14.55c8.49-4.63,15.17-10,19.86-16Zm0-48c0,11.29-8.41,22.1-23.69,30.43C172.27,167.18,150.85,172,128,172s-44.27-4.82-60.31-13.57C52.41,150.1,44,139.29,44,128V101.48c4.69,5.93,11.37,11.34,19.86,16,17.2,9.38,40,14.55,64.14,14.55s46.94-5.17,64.14-14.55c8.49-4.63,15.17-10,19.86-16Zm-23.69-17.57C172.27,119.18,150.85,124,128,124s-44.27-4.82-60.31-13.57C52.41,102.1,44,91.29,44,80s8.41-22.1,23.69-30.43C83.73,40.82,105.15,36,128,36s44.27,4.82,60.31,13.57C203.59,57.9,212,68.71,212,80S203.59,102.1,188.31,110.43Z"}))]]),wr=new Map([["bold",O.createElement(O.Fragment,null,O.createElement("path",{d:"M224,44H32A12,12,0,0,0,20,56V192a20,20,0,0,0,20,20H216a20,20,0,0,0,20-20V56A12,12,0,0,0,224,44Zm-96,83.72L62.85,68h130.3ZM92.79,128,44,172.72V83.28Zm17.76,16.28,9.34,8.57a12,12,0,0,0,16.22,0l9.34-8.57L193.15,188H62.85ZM163.21,128,212,83.28v89.44Z"}))],["duotone",O.createElement(O.Fragment,null,O.createElement("path",{d:"M224,56l-96,88L32,56Z",opacity:"0.2"}),O.createElement("path",{d:"M224,48H32a8,8,0,0,0-8,8V192a16,16,0,0,0,16,16H216a16,16,0,0,0,16-16V56A8,8,0,0,0,224,48Zm-96,85.15L52.57,64H203.43ZM98.71,128,40,181.81V74.19Zm11.84,10.85,12,11.05a8,8,0,0,0,10.82,0l12-11.05,58,53.15H52.57ZM157.29,128,216,74.18V181.82Z"}))],["fill",O.createElement(O.Fragment,null,O.createElement("path",{d:"M224,48H32a8,8,0,0,0-8,8V192a16,16,0,0,0,16,16H216a16,16,0,0,0,16-16V56A8,8,0,0,0,224,48ZM98.71,128,40,181.81V74.19Zm11.84,10.85,12,11.05a8,8,0,0,0,10.82,0l12-11.05,58,53.15H52.57ZM157.29,128,216,74.18V181.82Z"}))],["light",O.createElement(O.Fragment,null,O.createElement("path",{d:"M224,50H32a6,6,0,0,0-6,6V192a14,14,0,0,0,14,14H216a14,14,0,0,0,14-14V56A6,6,0,0,0,224,50Zm-96,85.86L47.42,62H208.58ZM101.67,128,38,186.36V69.64Zm8.88,8.14L124,148.42a6,6,0,0,0,8.1,0l13.4-12.28L208.58,194H47.43ZM154.33,128,218,69.64V186.36Z"}))],["regular",O.createElement(O.Fragment,null,O.createElement("path",{d:"M224,48H32a8,8,0,0,0-8,8V192a16,16,0,0,0,16,16H216a16,16,0,0,0,16-16V56A8,8,0,0,0,224,48Zm-96,85.15L52.57,64H203.43ZM98.71,128,40,181.81V74.19Zm11.84,10.85,12,11.05a8,8,0,0,0,10.82,0l12-11.05,58,53.15H52.57ZM157.29,128,216,74.18V181.82Z"}))],["thin",O.createElement(O.Fragment,null,O.createElement("path",{d:"M224,52H32a4,4,0,0,0-4,4V192a12,12,0,0,0,12,12H216a12,12,0,0,0,12-12V56A4,4,0,0,0,224,52Zm-96,86.57L42.28,60H213.72ZM104.63,128,36,190.91V65.09Zm5.92,5.43L125.3,147a4,4,0,0,0,5.4,0l14.75-13.52L213.72,196H42.28ZM151.37,128,220,65.09V190.91Z"}))]]),kr=new Map([["bold",O.createElement(O.Fragment,null,O.createElement("path",{d:"M224,44H32A12,12,0,0,0,20,56V192a20,20,0,0,0,20,20H216a20,20,0,0,0,20-20V56A12,12,0,0,0,224,44ZM193.15,68,128,127.72,62.85,68ZM44,188V83.28l75.89,69.57a12,12,0,0,0,16.22,0L212,83.28V188Z"}))],["duotone",O.createElement(O.Fragment,null,O.createElement("path",{d:"M224,56l-96,88L32,56Z",opacity:"0.2"}),O.createElement("path",{d:"M224,48H32a8,8,0,0,0-8,8V192a16,16,0,0,0,16,16H216a16,16,0,0,0,16-16V56A8,8,0,0,0,224,48ZM203.43,64,128,133.15,52.57,64ZM216,192H40V74.19l82.59,75.71a8,8,0,0,0,10.82,0L216,74.19V192Z"}))],["fill",O.createElement(O.Fragment,null,O.createElement("path",{d:"M224,48H32a8,8,0,0,0-8,8V192a16,16,0,0,0,16,16H216a16,16,0,0,0,16-16V56A8,8,0,0,0,224,48Zm-8,144H40V74.19l82.59,75.71a8,8,0,0,0,10.82,0L216,74.19V192Z"}))],["light",O.createElement(O.Fragment,null,O.createElement("path",{d:"M224,50H32a6,6,0,0,0-6,6V192a14,14,0,0,0,14,14H216a14,14,0,0,0,14-14V56A6,6,0,0,0,224,50ZM208.58,62,128,135.86,47.42,62ZM216,194H40a2,2,0,0,1-2-2V69.64l86,78.78a6,6,0,0,0,8.1,0L218,69.64V192A2,2,0,0,1,216,194Z"}))],["regular",O.createElement(O.Fragment,null,O.createElement("path",{d:"M224,48H32a8,8,0,0,0-8,8V192a16,16,0,0,0,16,16H216a16,16,0,0,0,16-16V56A8,8,0,0,0,224,48ZM203.43,64,128,133.15,52.57,64ZM216,192H40V74.19l82.59,75.71a8,8,0,0,0,10.82,0L216,74.19V192Z"}))],["thin",O.createElement(O.Fragment,null,O.createElement("path",{d:"M224,52H32a4,4,0,0,0-4,4V192a12,12,0,0,0,12,12H216a12,12,0,0,0,12-12V56A4,4,0,0,0,224,52Zm-10.28,8L128,138.57,42.28,60ZM216,196H40a4,4,0,0,1-4-4V65.09L125.3,147a4,4,0,0,0,5.4,0L220,65.09V192A4,4,0,0,1,216,196Z"}))]]),Sr=new Map([["bold",O.createElement(O.Fragment,null,O.createElement("path",{d:"M216.49,79.52l-56-56A12,12,0,0,0,152,20H56A20,20,0,0,0,36,40V216a20,20,0,0,0,20,20H200a20,20,0,0,0,20-20V88A12,12,0,0,0,216.49,79.52ZM160,57l23,23H160ZM60,212V44h76V92a12,12,0,0,0,12,12h48V212Zm112-80a12,12,0,0,1-12,12H96a12,12,0,0,1,0-24h64A12,12,0,0,1,172,132Zm0,40a12,12,0,0,1-12,12H96a12,12,0,0,1,0-24h64A12,12,0,0,1,172,172Z"}))],["duotone",O.createElement(O.Fragment,null,O.createElement("path",{d:"M208,88H152V32Z",opacity:"0.2"}),O.createElement("path",{d:"M213.66,82.34l-56-56A8,8,0,0,0,152,24H56A16,16,0,0,0,40,40V216a16,16,0,0,0,16,16H200a16,16,0,0,0,16-16V88A8,8,0,0,0,213.66,82.34ZM160,51.31,188.69,80H160ZM200,216H56V40h88V88a8,8,0,0,0,8,8h48V216Zm-32-80a8,8,0,0,1-8,8H96a8,8,0,0,1,0-16h64A8,8,0,0,1,168,136Zm0,32a8,8,0,0,1-8,8H96a8,8,0,0,1,0-16h64A8,8,0,0,1,168,168Z"}))],["fill",O.createElement(O.Fragment,null,O.createElement("path",{d:"M213.66,82.34l-56-56A8,8,0,0,0,152,24H56A16,16,0,0,0,40,40V216a16,16,0,0,0,16,16H200a16,16,0,0,0,16-16V88A8,8,0,0,0,213.66,82.34ZM160,176H96a8,8,0,0,1,0-16h64a8,8,0,0,1,0,16Zm0-32H96a8,8,0,0,1,0-16h64a8,8,0,0,1,0,16Zm-8-56V44l44,44Z"}))],["light",O.createElement(O.Fragment,null,O.createElement("path",{d:"M212.24,83.76l-56-56A6,6,0,0,0,152,26H56A14,14,0,0,0,42,40V216a14,14,0,0,0,14,14H200a14,14,0,0,0,14-14V88A6,6,0,0,0,212.24,83.76ZM158,46.48,193.52,82H158ZM200,218H56a2,2,0,0,1-2-2V40a2,2,0,0,1,2-2h90V88a6,6,0,0,0,6,6h50V216A2,2,0,0,1,200,218Zm-34-82a6,6,0,0,1-6,6H96a6,6,0,0,1,0-12h64A6,6,0,0,1,166,136Zm0,32a6,6,0,0,1-6,6H96a6,6,0,0,1,0-12h64A6,6,0,0,1,166,168Z"}))],["regular",O.createElement(O.Fragment,null,O.createElement("path",{d:"M213.66,82.34l-56-56A8,8,0,0,0,152,24H56A16,16,0,0,0,40,40V216a16,16,0,0,0,16,16H200a16,16,0,0,0,16-16V88A8,8,0,0,0,213.66,82.34ZM160,51.31,188.69,80H160ZM200,216H56V40h88V88a8,8,0,0,0,8,8h48V216Zm-32-80a8,8,0,0,1-8,8H96a8,8,0,0,1,0-16h64A8,8,0,0,1,168,136Zm0,32a8,8,0,0,1-8,8H96a8,8,0,0,1,0-16h64A8,8,0,0,1,168,168Z"}))],["thin",O.createElement(O.Fragment,null,O.createElement("path",{d:"M210.83,85.17l-56-56A4,4,0,0,0,152,28H56A12,12,0,0,0,44,40V216a12,12,0,0,0,12,12H200a12,12,0,0,0,12-12V88A4,4,0,0,0,210.83,85.17ZM156,41.65,198.34,84H156ZM200,220H56a4,4,0,0,1-4-4V40a4,4,0,0,1,4-4h92V88a4,4,0,0,0,4,4h52V216A4,4,0,0,1,200,220Zm-36-84a4,4,0,0,1-4,4H96a4,4,0,0,1,0-8h64A4,4,0,0,1,164,136Zm0,32a4,4,0,0,1-4,4H96a4,4,0,0,1,0-8h64A4,4,0,0,1,164,168Z"}))]]),Nr=new Map([["bold",O.createElement(O.Fragment,null,O.createElement("path",{d:"M160,128a224.48,224.48,0,0,1-26.37,105.54,12,12,0,1,1-21.16-11.32A200.33,200.33,0,0,0,136,128a8,8,0,0,0-16,0,12,12,0,0,1-24,0,32,32,0,0,1,64,0ZM128,56a12,12,0,1,0,0,24,48.05,48.05,0,0,1,48,48c0,7.62-.36,15.32-1.07,22.87A12,12,0,0,0,185.74,164c.38,0,.76,0,1.14,0a12,12,0,0,0,11.93-10.87c.79-8.3,1.18-16.76,1.18-25.13A72.08,72.08,0,0,0,128,56ZM96,92.23A12,12,0,0,0,80,74.35,72.1,72.1,0,0,0,56,128a120.11,120.11,0,0,1-15.12,58.37,12,12,0,0,0,21,11.69A144.14,144.14,0,0,0,80,128,48.08,48.08,0,0,1,96,92.23Zm10.1,64.1a12,12,0,0,0-14.46,8.9,158.61,158.61,0,0,1-18.88,45.86,12,12,0,0,0,20.5,12.48A182.86,182.86,0,0,0,115,170.79,12,12,0,0,0,106.1,156.33Zm76.73,24.07A12,12,0,0,0,168.19,189a241.5,241.5,0,0,1-8,24.87,12,12,0,0,0,6.91,15.49,11.76,11.76,0,0,0,4.29.8,12,12,0,0,0,11.21-7.71,260.2,260.2,0,0,0,8.79-27.37A12,12,0,0,0,182.83,180.4ZM128,16A112.12,112.12,0,0,0,16,127.44c0,.19,0,.38,0,.57a79.81,79.81,0,0,1-5,27.82,12,12,0,1,0,22.5,8.35A103.59,103.59,0,0,0,40,128.58c0-.19,0-.38,0-.57a88,88,0,0,1,176-.5c0,.16,0,.33,0,.5a282.12,282.12,0,0,1-6.74,61.38,12,12,0,0,0,9.09,14.33A11.84,11.84,0,0,0,221,204a12,12,0,0,0,11.7-9.38A305.87,305.87,0,0,0,240,128.55c0-.18,0-.36,0-.54A112.13,112.13,0,0,0,128,16Z"}))],["duotone",O.createElement(O.Fragment,null,O.createElement("path",{d:"M224,128a96,96,0,1,1-96-96A96,96,0,0,1,224,128Z",opacity:"0.2"}),O.createElement("path",{d:"M72,128a134.63,134.63,0,0,1-14.16,60.47,8,8,0,1,1-14.32-7.12A118.8,118.8,0,0,0,56,128,71.73,71.73,0,0,1,83,71.8,8,8,0,1,1,93,84.29,55.76,55.76,0,0,0,72,128Zm56-8a8,8,0,0,0-8,8,184.12,184.12,0,0,1-23,89.1,8,8,0,0,0,14,7.76A200.19,200.19,0,0,0,136,128,8,8,0,0,0,128,120Zm0-32a40,40,0,0,0-40,40,8,8,0,0,0,16,0,24,24,0,0,1,48,0,214.09,214.09,0,0,1-20.51,92A8,8,0,1,0,146,226.83,230,230,0,0,0,168,128,40,40,0,0,0,128,88Zm0-64A104.11,104.11,0,0,0,24,128a87.76,87.76,0,0,1-5,29.33,8,8,0,0,0,15.09,5.33A103.9,103.9,0,0,0,40,128a88,88,0,0,1,176,0,282.24,282.24,0,0,1-5.29,54.45,8,8,0,0,0,6.3,9.4,8.22,8.22,0,0,0,1.55.15,8,8,0,0,0,7.84-6.45A298.37,298.37,0,0,0,232,128,104.12,104.12,0,0,0,128,24ZM94.4,152.17A8,8,0,0,0,85,158.42a151,151,0,0,1-17.21,45.44,8,8,0,0,0,13.86,8,166.67,166.67,0,0,0,19-50.25A8,8,0,0,0,94.4,152.17ZM128,56a72.85,72.85,0,0,0-9,.56,8,8,0,0,0,2,15.87A56.08,56.08,0,0,1,184,128a252.12,252.12,0,0,1-1.92,31A8,8,0,0,0,189,168a8.39,8.39,0,0,0,1,.06,8,8,0,0,0,7.92-7,266.48,266.48,0,0,0,2-33A72.08,72.08,0,0,0,128,56Zm57.93,128.25a8,8,0,0,0-9.75,5.75c-1.46,5.69-3.15,11.4-5,17a8,8,0,0,0,5,10.13,7.88,7.88,0,0,0,2.55.42,8,8,0,0,0,7.58-5.46c2-5.92,3.79-12,5.35-18.05A8,8,0,0,0,185.94,184.26Z"}))],["fill",O.createElement(O.Fragment,null,O.createElement("path",{d:"M126.42,24C70.73,24.85,25.21,70.09,24,125.81a103.53,103.53,0,0,0,13.52,53.54,4,4,0,0,0,7.1-.3,119.35,119.35,0,0,0,11.37-51A71.77,71.77,0,0,1,83,71.83a8,8,0,1,1,9.86,12.61A55.82,55.82,0,0,0,72,128.07a135.28,135.28,0,0,1-18.45,68.35,4,4,0,0,0,.61,4.85c2,2,4.09,4,6.25,5.82a4,4,0,0,0,6-1A151.18,151.18,0,0,0,85,158.49a8,8,0,1,1,15.68,3.19,167.33,167.33,0,0,1-21.07,53.64,4,4,0,0,0,1.6,5.63c2.47,1.25,5,2.41,7.57,3.47a4,4,0,0,0,5-1.61A183,183,0,0,0,120,128.28a8.16,8.16,0,0,1,7.44-8.21,8,8,0,0,1,8.56,8,198.94,198.94,0,0,1-25.21,97.16,4,4,0,0,0,2.95,5.92q4.55.63,9.21.86a4,4,0,0,0,3.67-2.1A214.88,214.88,0,0,0,152,128.8c.05-13.25-10.3-24.49-23.54-24.74A24,24,0,0,0,104,128a8.1,8.1,0,0,1-7.29,8,8,8,0,0,1-8.71-8,40,40,0,0,1,40.42-40c22,.23,39.68,19.17,39.57,41.16a231.37,231.37,0,0,1-20.52,94.57,4,4,0,0,0,4.62,5.51,103.49,103.49,0,0,0,10.26-3,4,4,0,0,0,2.35-2.22,243.76,243.76,0,0,0,11.48-34,8,8,0,1,1,15.5,4q-1.12,4.37-2.4,8.7a4,4,0,0,0,6.46,4.17A104,104,0,0,0,126.42,24ZM198,161.08a8,8,0,0,1-7.92,7,8.39,8.39,0,0,1-1-.06,8,8,0,0,1-6.95-8.93,252.57,252.57,0,0,0,1.92-31,56.08,56.08,0,0,0-56-56,56.78,56.78,0,0,0-7,.43,8,8,0,0,1-2-15.89,72.1,72.1,0,0,1,81,71.49A266.93,266.93,0,0,1,198,161.08Z"}))],["light",O.createElement(O.Fragment,null,O.createElement("path",{d:"M70,128a132.68,132.68,0,0,1-14,59.58,6,6,0,0,1-5.38,3.33,6,6,0,0,1-5.36-8.67A120.74,120.74,0,0,0,58,128,69.72,69.72,0,0,1,84.25,73.36a6,6,0,0,1,7.51,9.37A57.73,57.73,0,0,0,70,128Zm58-6a6,6,0,0,0-6,6,186.07,186.07,0,0,1-23.23,90.07,6,6,0,0,0,10.5,5.82A198.14,198.14,0,0,0,134,128,6,6,0,0,0,128,122Zm0-32a38,38,0,0,0-38,38,6,6,0,0,0,12,0,26,26,0,0,1,52,0,216.06,216.06,0,0,1-20.71,92.85A6,6,0,1,0,144.16,226,227.94,227.94,0,0,0,166,128,38,38,0,0,0,128,90Zm0-64A102.11,102.11,0,0,0,26,128a90,90,0,0,1-5.12,30,6,6,0,1,0,11.31,4A101.83,101.83,0,0,0,38,128a90,90,0,0,1,180,0,284.7,284.7,0,0,1-5.33,54.84,6,6,0,0,0,4.72,7.05,6.8,6.8,0,0,0,1.17.11,6,6,0,0,0,5.88-4.84A295.92,295.92,0,0,0,230,128,102.12,102.12,0,0,0,128,26ZM94,154.13a6,6,0,0,0-7.07,4.69,152.82,152.82,0,0,1-17.44,46,6,6,0,0,0,10.4,6,164.77,164.77,0,0,0,18.8-49.65A6,6,0,0,0,94,154.13ZM128,58a70.76,70.76,0,0,0-8.75.54,6,6,0,1,0,1.49,11.91A58,58,0,0,1,186,128a252.27,252.27,0,0,1-1.94,31.26,6,6,0,0,0,5.21,6.69,6.59,6.59,0,0,0,.75,0,6,6,0,0,0,5.95-5.26A266.46,266.46,0,0,0,198,128,70.08,70.08,0,0,0,128,58ZM185.44,186.2a6,6,0,0,0-7.31,4.31c-1.47,5.74-3.18,11.49-5.06,17.09a6,6,0,0,0,11.38,3.82c2-5.88,3.75-11.9,5.3-17.92A6,6,0,0,0,185.44,186.2Z"}))],["regular",O.createElement(O.Fragment,null,O.createElement("path",{d:"M72,128a134.63,134.63,0,0,1-14.16,60.47,8,8,0,1,1-14.32-7.12A118.8,118.8,0,0,0,56,128,71.73,71.73,0,0,1,83,71.8,8,8,0,1,1,93,84.29,55.76,55.76,0,0,0,72,128Zm56-8a8,8,0,0,0-8,8,184.12,184.12,0,0,1-23,89.1,8,8,0,0,0,14,7.76A200.19,200.19,0,0,0,136,128,8,8,0,0,0,128,120Zm0-32a40,40,0,0,0-40,40,8,8,0,0,0,16,0,24,24,0,0,1,48,0,214.09,214.09,0,0,1-20.51,92A8,8,0,1,0,146,226.83,230,230,0,0,0,168,128,40,40,0,0,0,128,88Zm0-64A104.11,104.11,0,0,0,24,128a87.76,87.76,0,0,1-5,29.33,8,8,0,0,0,15.09,5.33A103.9,103.9,0,0,0,40,128a88,88,0,0,1,176,0,282.24,282.24,0,0,1-5.29,54.45,8,8,0,0,0,6.3,9.4,8.22,8.22,0,0,0,1.55.15,8,8,0,0,0,7.84-6.45A298.37,298.37,0,0,0,232,128,104.12,104.12,0,0,0,128,24ZM94.4,152.17A8,8,0,0,0,85,158.42a151,151,0,0,1-17.21,45.44,8,8,0,0,0,13.86,8,166.67,166.67,0,0,0,19-50.25A8,8,0,0,0,94.4,152.17ZM128,56a72.85,72.85,0,0,0-9,.56,8,8,0,0,0,2,15.87A56.08,56.08,0,0,1,184,128a252.12,252.12,0,0,1-1.92,31A8,8,0,0,0,189,168a8.39,8.39,0,0,0,1,.06,8,8,0,0,0,7.92-7,266.48,266.48,0,0,0,2-33A72.08,72.08,0,0,0,128,56Zm57.93,128.25a8,8,0,0,0-9.75,5.75c-1.46,5.69-3.15,11.4-5,17a8,8,0,0,0,5,10.13,7.88,7.88,0,0,0,2.55.42,8,8,0,0,0,7.58-5.46c2-5.92,3.79-12,5.35-18.05A8,8,0,0,0,185.94,184.26Z"}))],["thin",O.createElement(O.Fragment,null,O.createElement("path",{d:"M68,128A130.71,130.71,0,0,1,54.27,186.7a4,4,0,0,1-3.58,2.22,3.91,3.91,0,0,1-1.78-.42,4,4,0,0,1-1.8-5.36A122.71,122.71,0,0,0,60,128,67.74,67.74,0,0,1,85.5,74.92a4,4,0,0,1,5,6.25A59.74,59.74,0,0,0,68,128Zm60-4a4,4,0,0,0-4,4,188.1,188.1,0,0,1-23.48,91,4,4,0,0,0,7,3.88A196.22,196.22,0,0,0,132,128,4,4,0,0,0,128,124Zm0-32a36,36,0,0,0-36,36,4,4,0,0,0,8,0,28,28,0,0,1,56,0,218,218,0,0,1-20.9,93.7,4,4,0,1,0,7.24,3.41A226,226,0,0,0,164,128,36,36,0,0,0,128,92Zm0-64A100.11,100.11,0,0,0,28,128a91.66,91.66,0,0,1-5.24,30.67,4,4,0,1,0,7.54,2.66A99.66,99.66,0,0,0,36,128a92,92,0,0,1,184,0,286.37,286.37,0,0,1-5.37,55.23,4,4,0,0,0,3.15,4.69,4.13,4.13,0,0,0,.78.08,4,4,0,0,0,3.92-3.23A294.25,294.25,0,0,0,228,128,100.11,100.11,0,0,0,128,28ZM93.6,156.09a4,4,0,0,0-4.71,3.12,155,155,0,0,1-17.66,46.64,4,4,0,0,0,6.93,4,163.13,163.13,0,0,0,18.57-49A4,4,0,0,0,93.6,156.09ZM128,60a68.79,68.79,0,0,0-8.5.53,4,4,0,0,0,1,7.93A62.57,62.57,0,0,1,128,68a60.07,60.07,0,0,1,60,60,256.15,256.15,0,0,1-1.95,31.5,4,4,0,0,0,3.47,4.47l.5,0a4,4,0,0,0,4-3.51A264.37,264.37,0,0,0,196,128,68.08,68.08,0,0,0,128,60Zm56.93,128.12a4,4,0,0,0-4.87,2.88c-1.49,5.78-3.21,11.58-5.1,17.23a4,4,0,1,0,7.58,2.54c2-5.83,3.73-11.81,5.27-17.77A4,4,0,0,0,184.94,188.13Z"}))]]),Er=new Map([["bold",O.createElement(O.Fragment,null,O.createElement("path",{d:"M225.15,197.71,164,95.81V44h4a12,12,0,0,0,0-24H88a12,12,0,0,0,0,24h4V95.81L30.85,197.71A20,20,0,0,0,48,228H208a20,20,0,0,0,17.15-30.29ZM140,44V99.14a12,12,0,0,0,1.71,6.17l35.13,58.54c-10.79.86-25.15-1.31-43.42-10.56-14-7.08-27.46-11.33-40.27-12.76l21.14-35.22A12,12,0,0,0,116,99.14V44ZM55.06,204,79,164.19c13-1.11,27.62,2.42,43.62,10.52,19.61,9.92,36.25,13.31,49.85,13.31A75.44,75.44,0,0,0,190.11,186l10.83,18Z"}))],["duotone",O.createElement(O.Fragment,null,O.createElement("path",{d:"M208,216H48a8,8,0,0,1-6.86-12.12l30.48-50.8h0c13.23-2.48,32-1.41,56.37,10.92,32.25,16.33,54.75,12.91,67.5,7.65h0l19.34,32.23A8,8,0,0,1,208,216Z",opacity:"0.2"}),O.createElement("path",{d:"M221.69,199.77,160,96.92V40h8a8,8,0,0,0,0-16H88a8,8,0,0,0,0,16h8V96.92L34.31,199.77A16,16,0,0,0,48,224H208a16,16,0,0,0,13.72-24.23ZM110.86,103.25A7.93,7.93,0,0,0,112,99.14V40h32V99.14a7.93,7.93,0,0,0,1.14,4.11L183.36,167c-12,2.37-29.07,1.37-51.75-10.11-15.91-8.05-31.05-12.32-45.22-12.81ZM48,208l28.54-47.58c14.25-1.73,30.31,1.85,47.82,10.72,19,9.61,35,12.88,48,12.88a69.89,69.89,0,0,0,19.55-2.7L208,208Z"}))],["fill",O.createElement(O.Fragment,null,O.createElement("path",{d:"M221.69,199.77,160,96.92V40h8a8,8,0,0,0,0-16H88a8,8,0,0,0,0,16h8V96.92L34.31,199.77A16,16,0,0,0,48,224H208a16,16,0,0,0,13.72-24.23Zm-90.08-42.91c-15.91-8.05-31.05-12.32-45.22-12.81l24.47-40.8A7.93,7.93,0,0,0,112,99.14V40h32V99.14a7.93,7.93,0,0,0,1.14,4.11L183.36,167C171.4,169.34,154.29,168.34,131.61,156.86Z"}))],["light",O.createElement(O.Fragment,null,O.createElement("path",{d:"M220,200.8,158,97.48V38h10a6,6,0,0,0,0-12H88a6,6,0,0,0,0,12H98V97.48L36,200.8A14,14,0,0,0,48,222H208a14,14,0,0,0,12-21.2ZM109.15,102.23a6,6,0,0,0,.85-3.09V38h36V99.14a6,6,0,0,0,.85,3.09l39.65,66.08c-12.41,3.16-30.86,3-55.79-9.66-16.94-8.58-33-12.8-47.83-12.64ZM209.72,209a2,2,0,0,1-1.74,1H48a2,2,0,0,1-1.71-3l29-48.41c14.89-2.08,31.68,1.55,49.94,10.79C144,178.8,159.67,182,172.42,182A67.89,67.89,0,0,0,192.89,179l16.8,28A2,2,0,0,1,209.72,209Z"}))],["regular",O.createElement(O.Fragment,null,O.createElement("path",{d:"M221.69,199.77,160,96.92V40h8a8,8,0,0,0,0-16H88a8,8,0,0,0,0,16h8V96.92L34.31,199.77A16,16,0,0,0,48,224H208a16,16,0,0,0,13.72-24.23ZM110.86,103.25A7.93,7.93,0,0,0,112,99.14V40h32V99.14a7.93,7.93,0,0,0,1.14,4.11L183.36,167c-12,2.37-29.07,1.37-51.75-10.11-15.91-8.05-31.05-12.32-45.22-12.81ZM48,208l28.54-47.58c14.25-1.74,30.31,1.85,47.82,10.72,19,9.61,35,12.88,48,12.88a69.89,69.89,0,0,0,19.55-2.7L208,208Z"}))],["thin",O.createElement(O.Fragment,null,O.createElement("path",{d:"M218.27,201.83,156,98V36h12a4,4,0,0,0,0-8H88a4,4,0,0,0,0,8h12V98L37.73,201.83A12,12,0,0,0,48,220H208a12,12,0,0,0,10.29-18.17ZM107.43,101.2a4.07,4.07,0,0,0,.57-2.06V36h40V99.14a4.07,4.07,0,0,0,.57,2.06l41,68.33c-12.76,3.94-32.54,4.68-59.75-9.1-18-9.14-35-13.24-50.54-12.29ZM211.46,210a3.94,3.94,0,0,1-3.48,2H48a4,4,0,0,1-3.43-6.06l29.53-49.21c15.54-2.43,33.05,1.21,52.07,10.84C144.54,176.86,160,180,172.42,180a65,65,0,0,0,21.36-3.46l17.63,29.38A3.92,3.92,0,0,1,211.46,210Z"}))]]),Ar=new Map([["bold",O.createElement(O.Fragment,null,O.createElement("path",{d:"M212.62,75.17A63.7,63.7,0,0,0,206.39,26,12,12,0,0,0,196,20a63.71,63.71,0,0,0-50,24H126A63.71,63.71,0,0,0,76,20a12,12,0,0,0-10.39,6,63.7,63.7,0,0,0-6.23,49.17A61.5,61.5,0,0,0,52,104v8a60.1,60.1,0,0,0,45.76,58.28A43.66,43.66,0,0,0,92,192v4H76a20,20,0,0,1-20-20,44.05,44.05,0,0,0-44-44,12,12,0,0,0,0,24,20,20,0,0,1,20,20,44.05,44.05,0,0,0,44,44H92v12a12,12,0,0,0,24,0V192a20,20,0,0,1,40,0v40a12,12,0,0,0,24,0V192a43.66,43.66,0,0,0-5.76-21.72A60.1,60.1,0,0,0,220,112v-8A61.5,61.5,0,0,0,212.62,75.17ZM196,112a36,36,0,0,1-36,36H112a36,36,0,0,1-36-36v-8a37.87,37.87,0,0,1,6.13-20.12,11.65,11.65,0,0,0,1.58-11.49,39.9,39.9,0,0,1-.4-27.72,39.87,39.87,0,0,1,26.41,17.8A12,12,0,0,0,119.82,68h32.35a12,12,0,0,0,10.11-5.53,39.84,39.84,0,0,1,26.41-17.8,39.9,39.9,0,0,1-.4,27.72,12,12,0,0,0,1.61,11.53A37.85,37.85,0,0,1,196,104Z"}))],["duotone",O.createElement(O.Fragment,null,O.createElement("path",{d:"M208,104v8a48,48,0,0,1-48,48H136a32,32,0,0,1,32,32v40H104V192a32,32,0,0,1,32-32H112a48,48,0,0,1-48-48v-8a49.28,49.28,0,0,1,8.51-27.3A51.92,51.92,0,0,1,76,32a52,52,0,0,1,43.83,24h32.34A52,52,0,0,1,196,32a51.92,51.92,0,0,1,3.49,44.7A49.28,49.28,0,0,1,208,104Z",opacity:"0.2"}),O.createElement("path",{d:"M208.3,75.68A59.74,59.74,0,0,0,202.93,28,8,8,0,0,0,196,24a59.75,59.75,0,0,0-48,24H124A59.75,59.75,0,0,0,76,24a8,8,0,0,0-6.93,4,59.78,59.78,0,0,0-5.38,47.68A58.14,58.14,0,0,0,56,104v8a56.06,56.06,0,0,0,48.44,55.47A39.8,39.8,0,0,0,96,192v8H72a24,24,0,0,1-24-24A40,40,0,0,0,8,136a8,8,0,0,0,0,16,24,24,0,0,1,24,24,40,40,0,0,0,40,40H96v16a8,8,0,0,0,16,0V192a24,24,0,0,1,48,0v40a8,8,0,0,0,16,0V192a39.8,39.8,0,0,0-8.44-24.53A56.06,56.06,0,0,0,216,112v-8A58,58,0,0,0,208.3,75.68ZM200,112a40,40,0,0,1-40,40H112a40,40,0,0,1-40-40v-8a41.74,41.74,0,0,1,6.9-22.48A8,8,0,0,0,80,73.83a43.81,43.81,0,0,1,.79-33.58,43.88,43.88,0,0,1,32.32,20.06A8,8,0,0,0,119.82,64h32.35a8,8,0,0,0,6.74-3.69,43.87,43.87,0,0,1,32.32-20.06A43.81,43.81,0,0,1,192,73.83a8.09,8.09,0,0,0,1,7.65A41.76,41.76,0,0,1,200,104Z"}))],["fill",O.createElement(O.Fragment,null,O.createElement("path",{d:"M216,104v8a56.06,56.06,0,0,1-48.44,55.47A39.8,39.8,0,0,1,176,192v40a8,8,0,0,1-8,8H104a8,8,0,0,1-8-8V216H72a40,40,0,0,1-40-40A24,24,0,0,0,8,152a8,8,0,0,1,0-16,40,40,0,0,1,40,40,24,24,0,0,0,24,24H96v-8a39.8,39.8,0,0,1,8.44-24.53A56.06,56.06,0,0,1,56,112v-8a58.14,58.14,0,0,1,7.69-28.32A59.78,59.78,0,0,1,69.07,28,8,8,0,0,1,76,24a59.75,59.75,0,0,1,48,24h24a59.75,59.75,0,0,1,48-24,8,8,0,0,1,6.93,4,59.74,59.74,0,0,1,5.37,47.68A58,58,0,0,1,216,104Z"}))],["light",O.createElement(O.Fragment,null,O.createElement("path",{d:"M206.13,75.92A57.79,57.79,0,0,0,201.2,29a6,6,0,0,0-5.2-3,57.77,57.77,0,0,0-47,24H123A57.77,57.77,0,0,0,76,26a6,6,0,0,0-5.2,3,57.79,57.79,0,0,0-4.93,46.92A55.88,55.88,0,0,0,58,104v8a54.06,54.06,0,0,0,50.45,53.87A37.85,37.85,0,0,0,98,192v10H72a26,26,0,0,1-26-26A38,38,0,0,0,8,138a6,6,0,0,0,0,12,26,26,0,0,1,26,26,38,38,0,0,0,38,38H98v18a6,6,0,0,0,12,0V192a26,26,0,0,1,52,0v40a6,6,0,0,0,12,0V192a37.85,37.85,0,0,0-10.45-26.13A54.06,54.06,0,0,0,214,112v-8A55.88,55.88,0,0,0,206.13,75.92ZM202,112a42,42,0,0,1-42,42H112a42,42,0,0,1-42-42v-8a43.86,43.86,0,0,1,7.3-23.69,6,6,0,0,0,.81-5.76,45.85,45.85,0,0,1,1.43-36.42,45.85,45.85,0,0,1,35.23,21.1A6,6,0,0,0,119.83,62h32.34a6,6,0,0,0,5.06-2.76,45.83,45.83,0,0,1,35.23-21.11,45.85,45.85,0,0,1,1.43,36.42,6,6,0,0,0,.79,5.74A43.78,43.78,0,0,1,202,104Z"}))],["regular",O.createElement(O.Fragment,null,O.createElement("path",{d:"M208.31,75.68A59.78,59.78,0,0,0,202.93,28,8,8,0,0,0,196,24a59.75,59.75,0,0,0-48,24H124A59.75,59.75,0,0,0,76,24a8,8,0,0,0-6.93,4,59.78,59.78,0,0,0-5.38,47.68A58.14,58.14,0,0,0,56,104v8a56.06,56.06,0,0,0,48.44,55.47A39.8,39.8,0,0,0,96,192v8H72a24,24,0,0,1-24-24A40,40,0,0,0,8,136a8,8,0,0,0,0,16,24,24,0,0,1,24,24,40,40,0,0,0,40,40H96v16a8,8,0,0,0,16,0V192a24,24,0,0,1,48,0v40a8,8,0,0,0,16,0V192a39.8,39.8,0,0,0-8.44-24.53A56.06,56.06,0,0,0,216,112v-8A58.14,58.14,0,0,0,208.31,75.68ZM200,112a40,40,0,0,1-40,40H112a40,40,0,0,1-40-40v-8a41.74,41.74,0,0,1,6.9-22.48A8,8,0,0,0,80,73.83a43.81,43.81,0,0,1,.79-33.58,43.88,43.88,0,0,1,32.32,20.06A8,8,0,0,0,119.82,64h32.35a8,8,0,0,0,6.74-3.69,43.87,43.87,0,0,1,32.32-20.06A43.81,43.81,0,0,1,192,73.83a8.09,8.09,0,0,0,1,7.65A41.72,41.72,0,0,1,200,104Z"}))],["thin",O.createElement(O.Fragment,null,O.createElement("path",{d:"M203.94,76.16A55.73,55.73,0,0,0,199.46,30,4,4,0,0,0,196,28a55.78,55.78,0,0,0-46,24H122A55.78,55.78,0,0,0,76,28a4,4,0,0,0-3.46,2,55.73,55.73,0,0,0-4.48,46.16A53.78,53.78,0,0,0,60,104v8a52.06,52.06,0,0,0,52,52h1.41A36,36,0,0,0,100,192v12H72a28,28,0,0,1-28-28A36,36,0,0,0,8,140a4,4,0,0,0,0,8,28,28,0,0,1,28,28,36,36,0,0,0,36,36h28v20a4,4,0,0,0,8,0V192a28,28,0,0,1,56,0v40a4,4,0,0,0,8,0V192a36,36,0,0,0-13.41-28H160a52.06,52.06,0,0,0,52-52v-8A53.78,53.78,0,0,0,203.94,76.16ZM204,112a44.05,44.05,0,0,1-44,44H112a44.05,44.05,0,0,1-44-44v-8a45.76,45.76,0,0,1,7.71-24.89,4,4,0,0,0,.53-3.84,47.82,47.82,0,0,1,2.1-39.21,47.8,47.8,0,0,1,38.12,22.1A4,4,0,0,0,119.83,60h32.34a4,4,0,0,0,3.37-1.84,47.8,47.8,0,0,1,38.12-22.1,47.82,47.82,0,0,1,2.1,39.21,4,4,0,0,0,.53,3.83A45.85,45.85,0,0,1,204,104Z"}))]]),Cr=new Map([["bold",O.createElement(O.Fragment,null,O.createElement("path",{d:"M128,20A108,108,0,1,0,236,128,108.12,108.12,0,0,0,128,20Zm0,187a113.4,113.4,0,0,1-20.39-35h40.82a116.94,116.94,0,0,1-10,20.77A108.61,108.61,0,0,1,128,207Zm-26.49-59a135.42,135.42,0,0,1,0-40h53a135.42,135.42,0,0,1,0,40ZM44,128a83.49,83.49,0,0,1,2.43-20H77.25a160.63,160.63,0,0,0,0,40H46.43A83.49,83.49,0,0,1,44,128Zm84-79a113.4,113.4,0,0,1,20.39,35H107.59a116.94,116.94,0,0,1,10-20.77A108.61,108.61,0,0,1,128,49Zm50.73,59h30.82a83.52,83.52,0,0,1,0,40H178.75a160.63,160.63,0,0,0,0-40Zm20.77-24H173.71a140.82,140.82,0,0,0-15.5-34.36A84.51,84.51,0,0,1,199.52,84ZM97.79,49.64A140.82,140.82,0,0,0,82.29,84H56.48A84.51,84.51,0,0,1,97.79,49.64ZM56.48,172H82.29a140.82,140.82,0,0,0,15.5,34.36A84.51,84.51,0,0,1,56.48,172Zm101.73,34.36A140.82,140.82,0,0,0,173.71,172h25.81A84.51,84.51,0,0,1,158.21,206.36Z"}))],["duotone",O.createElement(O.Fragment,null,O.createElement("path",{d:"M224,128a96,96,0,1,1-96-96A96,96,0,0,1,224,128Z",opacity:"0.2"}),O.createElement("path",{d:"M128,24h0A104,104,0,1,0,232,128,104.12,104.12,0,0,0,128,24Zm88,104a87.61,87.61,0,0,1-3.33,24H174.16a157.44,157.44,0,0,0,0-48h38.51A87.61,87.61,0,0,1,216,128ZM102,168H154a115.11,115.11,0,0,1-26,45A115.27,115.27,0,0,1,102,168Zm-3.9-16a140.84,140.84,0,0,1,0-48h59.88a140.84,140.84,0,0,1,0,48ZM40,128a87.61,87.61,0,0,1,3.33-24H81.84a157.44,157.44,0,0,0,0,48H43.33A87.61,87.61,0,0,1,40,128ZM154,88H102a115.11,115.11,0,0,1,26-45A115.27,115.27,0,0,1,154,88Zm52.33,0H170.71a135.28,135.28,0,0,0-22.3-45.6A88.29,88.29,0,0,1,206.37,88ZM107.59,42.4A135.28,135.28,0,0,0,85.29,88H49.63A88.29,88.29,0,0,1,107.59,42.4ZM49.63,168H85.29a135.28,135.28,0,0,0,22.3,45.6A88.29,88.29,0,0,1,49.63,168Zm98.78,45.6a135.28,135.28,0,0,0,22.3-45.6h35.66A88.29,88.29,0,0,1,148.41,213.6Z"}))],["fill",O.createElement(O.Fragment,null,O.createElement("path",{d:"M128,24h0A104,104,0,1,0,232,128,104.12,104.12,0,0,0,128,24Zm78.36,64H170.71a135.28,135.28,0,0,0-22.3-45.6A88.29,88.29,0,0,1,206.37,88ZM216,128a87.61,87.61,0,0,1-3.33,24H174.16a157.44,157.44,0,0,0,0-48h38.51A87.61,87.61,0,0,1,216,128ZM128,43a115.27,115.27,0,0,1,26,45H102A115.11,115.11,0,0,1,128,43ZM102,168H154a115.11,115.11,0,0,1-26,45A115.27,115.27,0,0,1,102,168Zm-3.9-16a140.84,140.84,0,0,1,0-48h59.88a140.84,140.84,0,0,1,0,48Zm50.35,61.6a135.28,135.28,0,0,0,22.3-45.6h35.66A88.29,88.29,0,0,1,148.41,213.6Z"}))],["light",O.createElement(O.Fragment,null,O.createElement("path",{d:"M128,26A102,102,0,1,0,230,128,102.12,102.12,0,0,0,128,26Zm81.57,64H169.19a132.58,132.58,0,0,0-25.73-50.67A90.29,90.29,0,0,1,209.57,90ZM218,128a89.7,89.7,0,0,1-3.83,26H171.81a155.43,155.43,0,0,0,0-52h42.36A89.7,89.7,0,0,1,218,128Zm-90,87.83a110,110,0,0,1-15.19-19.45A124.24,124.24,0,0,1,99.35,166h57.3a124.24,124.24,0,0,1-13.46,30.38A110,110,0,0,1,128,215.83ZM96.45,154a139.18,139.18,0,0,1,0-52h63.1a139.18,139.18,0,0,1,0,52ZM38,128a89.7,89.7,0,0,1,3.83-26H84.19a155.43,155.43,0,0,0,0,52H41.83A89.7,89.7,0,0,1,38,128Zm90-87.83a110,110,0,0,1,15.19,19.45A124.24,124.24,0,0,1,156.65,90H99.35a124.24,124.24,0,0,1,13.46-30.38A110,110,0,0,1,128,40.17Zm-15.46-.84A132.58,132.58,0,0,0,86.81,90H46.43A90.29,90.29,0,0,1,112.54,39.33ZM46.43,166H86.81a132.58,132.58,0,0,0,25.73,50.67A90.29,90.29,0,0,1,46.43,166Zm97,50.67A132.58,132.58,0,0,0,169.19,166h40.38A90.29,90.29,0,0,1,143.46,216.67Z"}))],["regular",O.createElement(O.Fragment,null,O.createElement("path",{d:"M128,24h0A104,104,0,1,0,232,128,104.12,104.12,0,0,0,128,24Zm88,104a87.61,87.61,0,0,1-3.33,24H174.16a157.44,157.44,0,0,0,0-48h38.51A87.61,87.61,0,0,1,216,128ZM102,168H154a115.11,115.11,0,0,1-26,45A115.27,115.27,0,0,1,102,168Zm-3.9-16a140.84,140.84,0,0,1,0-48h59.88a140.84,140.84,0,0,1,0,48ZM40,128a87.61,87.61,0,0,1,3.33-24H81.84a157.44,157.44,0,0,0,0,48H43.33A87.61,87.61,0,0,1,40,128ZM154,88H102a115.11,115.11,0,0,1,26-45A115.27,115.27,0,0,1,154,88Zm52.33,0H170.71a135.28,135.28,0,0,0-22.3-45.6A88.29,88.29,0,0,1,206.37,88ZM107.59,42.4A135.28,135.28,0,0,0,85.29,88H49.63A88.29,88.29,0,0,1,107.59,42.4ZM49.63,168H85.29a135.28,135.28,0,0,0,22.3,45.6A88.29,88.29,0,0,1,49.63,168Zm98.78,45.6a135.28,135.28,0,0,0,22.3-45.6h35.66A88.29,88.29,0,0,1,148.41,213.6Z"}))],["thin",O.createElement(O.Fragment,null,O.createElement("path",{d:"M128,28h0A100,100,0,1,0,228,128,100.11,100.11,0,0,0,128,28Zm0,190.61c-6.33-6.09-23-24.41-31.27-54.61h62.54C151,194.2,134.33,212.52,128,218.61ZM94.82,156a140.42,140.42,0,0,1,0-56h66.36a140.42,140.42,0,0,1,0,56ZM128,37.39c6.33,6.09,23,24.41,31.27,54.61H96.73C105,61.8,121.67,43.48,128,37.39ZM169.41,100h46.23a92.09,92.09,0,0,1,0,56H169.41a152.65,152.65,0,0,0,0-56Zm43.25-8h-45a129.39,129.39,0,0,0-29.19-55.4A92.25,92.25,0,0,1,212.66,92ZM117.54,36.6A129.39,129.39,0,0,0,88.35,92h-45A92.25,92.25,0,0,1,117.54,36.6ZM40.36,100H86.59a152.65,152.65,0,0,0,0,56H40.36a92.09,92.09,0,0,1,0-56Zm3,64h45a129.39,129.39,0,0,0,29.19,55.4A92.25,92.25,0,0,1,43.34,164Zm95.12,55.4A129.39,129.39,0,0,0,167.65,164h45A92.25,92.25,0,0,1,138.46,219.4Z"}))]]),jr=new Map([["bold",O.createElement(O.Fragment,null,O.createElement("path",{d:"M128,20A108,108,0,1,0,236,128,108.12,108.12,0,0,0,128,20Zm84,108a83.64,83.64,0,0,1-4.47,27L167,130a19.65,19.65,0,0,0-7.8-2.78l-22.82-3.08A20.14,20.14,0,0,0,117.72,132h-4.07l-2.71-5.6a19.88,19.88,0,0,0-13.8-10.84L94.46,115l4-7h14.39a20,20,0,0,0,9.66-2.49l12.25-6.76a20.57,20.57,0,0,0,3.74-2.68l26.92-24.33A20,20,0,0,0,172,56.49,84,84,0,0,1,212,128ZM140.76,45l6.2,11.1L122.75,78l-10.93,6H96.14A20.05,20.05,0,0,0,78.78,94.06l-4.49,7.85L67.68,84.28l9.91-23.42A83.91,83.91,0,0,1,140.76,45ZM44,128a83.52,83.52,0,0,1,4.4-26.77l7.74,20.65a19.89,19.89,0,0,0,14.52,12.53l19.53,4.2,3,6.1a20.11,20.11,0,0,0,13.55,10.77l-5,11.12a20,20,0,0,0,3.58,21.71l.21.22,18.16,18.7-.89,4.59A84.09,84.09,0,0,1,44,128Zm103.65,81.66a20.11,20.11,0,0,0-5-17.3l-.21-.22-17.72-18.25,11.37-25.52,19,2.56,41.43,25.48A84.2,84.2,0,0,1,147.65,209.66Z"}))],["duotone",O.createElement(O.Fragment,null,O.createElement("path",{d:"M213.09,172.48a96,96,0,0,1-80.41,51.41l3.17-16.44a8,8,0,0,0-2-6.95l-19.74-20.33a8,8,0,0,1-1.44-8.69l13.7-30.74a8,8,0,0,1,8.38-4.67l22.82,3.08a8.11,8.11,0,0,1,3.12,1.11ZM116.71,95,129,88.24a7.46,7.46,0,0,0,1.5-1.07l26.91-24.33A8,8,0,0,0,159,53l-10.5-18.81A96.62,96.62,0,0,0,128,32,95.61,95.61,0,0,0,67.78,53.23L56,81.08A8,8,0,0,0,55.88,87l11.5,30.67a8,8,0,0,0,5.81,5l2.69.58L89.2,100a8,8,0,0,1,6.94-4h16.71A7.9,7.9,0,0,0,116.71,95Z",opacity:"0.2"}),O.createElement("path",{d:"M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm88,104a87.62,87.62,0,0,1-6.4,32.94l-44.7-27.49a15.92,15.92,0,0,0-6.24-2.23l-22.82-3.08a16.11,16.11,0,0,0-16,7.86h-8.72l-3.8-7.86a15.91,15.91,0,0,0-11-8.67l-8-1.73L96.14,104h16.71a16.06,16.06,0,0,0,7.73-2l12.25-6.76a16.62,16.62,0,0,0,3-2.14l26.91-24.34A15.93,15.93,0,0,0,166,49.1l-.36-.65A88.11,88.11,0,0,1,216,128ZM143.31,41.34,152,56.9,125.09,81.24,112.85,88H96.14a16,16,0,0,0-13.88,8l-8.73,15.23L63.38,84.19,74.32,58.32a87.87,87.87,0,0,1,69-17ZM40,128a87.53,87.53,0,0,1,8.54-37.8l11.34,30.27a16,16,0,0,0,11.62,10l21.43,4.61L96.74,143a16.09,16.09,0,0,0,14.4,9h1.48l-7.23,16.23a16,16,0,0,0,2.86,17.37l.14.14L128,205.94l-1.94,10A88.11,88.11,0,0,1,40,128Zm102.58,86.78,1.13-5.81a16.09,16.09,0,0,0-4-13.9,1.85,1.85,0,0,1-.14-.14L120,174.74,133.7,144l22.82,3.08,45.72,28.12A88.18,88.18,0,0,1,142.58,214.78Z"}))],["fill",O.createElement(O.Fragment,null,O.createElement("path",{d:"M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm88,104a87.62,87.62,0,0,1-6.4,32.94l-44.7-27.49a15.92,15.92,0,0,0-6.24-2.23l-22.82-3.08a16.11,16.11,0,0,0-16,7.86h-8.72l-3.8-7.86a15.91,15.91,0,0,0-11-8.67l-8-1.73L96.14,104h16.71a16.06,16.06,0,0,0,7.73-2l12.25-6.76a16.62,16.62,0,0,0,3-2.14l26.91-24.34A15.93,15.93,0,0,0,166,49.1l-.36-.65A88.11,88.11,0,0,1,216,128ZM40,128a87.53,87.53,0,0,1,8.54-37.8l11.34,30.27a16,16,0,0,0,11.62,10l21.43,4.61L96.74,143a16.09,16.09,0,0,0,14.4,9h1.48l-7.23,16.23a16,16,0,0,0,2.86,17.37l.14.14L128,205.94l-1.94,10A88.11,88.11,0,0,1,40,128Z"}))],["light",O.createElement(O.Fragment,null,O.createElement("path",{d:"M128,26A102,102,0,1,0,230,128,102.12,102.12,0,0,0,128,26Zm90,102a89.55,89.55,0,0,1-7.46,35.86l-46.69-28.71a13.94,13.94,0,0,0-5.46-2l-22.82-3.07A14.06,14.06,0,0,0,121.06,138h-9.92a2,2,0,0,1-1.8-1.13l-3.8-7.86a13.94,13.94,0,0,0-9.66-7.59l-10.71-2.3L94.4,103a2,2,0,0,1,1.74-1h16.71a13.9,13.9,0,0,0,6.76-1.75l12.25-6.75a14.73,14.73,0,0,0,2.62-1.88l26.91-24.33a13.93,13.93,0,0,0,2.83-17.21L161,44.25A90.16,90.16,0,0,1,218,128ZM144.6,39.54l9.15,16.39a2,2,0,0,1-.41,2.46L126.43,82.72a1.84,1.84,0,0,1-.37.27l-12.25,6.76a2,2,0,0,1-1,.25H96.14A14,14,0,0,0,84,97L73.18,115.91a2,2,0,0,1-.19-.35L61.5,84.89a2,2,0,0,1,0-1.48L72.68,57.06A89.9,89.9,0,0,1,144.6,39.54ZM38,128A89.52,89.52,0,0,1,49.38,84.23a13.85,13.85,0,0,0,.89,4.87l11.49,30.67a13.94,13.94,0,0,0,10.16,8.78l21.44,4.6a2,2,0,0,1,1.38,1.09l3.8,7.86a14.07,14.07,0,0,0,12.6,7.9h4.56l-8.49,19a14,14,0,0,0,2.51,15.2l.1.11,19.68,20.26a2,2,0,0,1,.46,1.7L127.7,218A90.1,90.1,0,0,1,38,128Zm102.08,89.19,1.67-8.6a14.07,14.07,0,0,0-3.47-12.16l-.1-.11L118.5,176.06a2,2,0,0,1-.33-2.14l13.7-30.73A2,2,0,0,1,134,142l22.82,3.08a2,2,0,0,1,.78.27L205,174.55A90.18,90.18,0,0,1,140.08,217.19Z"}))],["regular",O.createElement(O.Fragment,null,O.createElement("path",{d:"M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm88,104a87.62,87.62,0,0,1-6.4,32.94l-44.7-27.49a15.92,15.92,0,0,0-6.24-2.23l-22.82-3.08a16.11,16.11,0,0,0-16,7.86h-8.72l-3.8-7.86a15.91,15.91,0,0,0-11-8.67l-8-1.73L96.14,104h16.71a16.06,16.06,0,0,0,7.73-2l12.25-6.76a16.62,16.62,0,0,0,3-2.14l26.91-24.34A15.93,15.93,0,0,0,166,49.1l-.36-.65A88.11,88.11,0,0,1,216,128ZM143.31,41.34,152,56.9,125.09,81.24,112.85,88H96.14a16,16,0,0,0-13.88,8l-8.73,15.23L63.38,84.19,74.32,58.32a87.87,87.87,0,0,1,69-17ZM40,128a87.53,87.53,0,0,1,8.54-37.8l11.34,30.27a16,16,0,0,0,11.62,10l21.43,4.61L96.74,143a16.09,16.09,0,0,0,14.4,9h1.48l-7.23,16.23a16,16,0,0,0,2.86,17.37l.14.14L128,205.94l-1.94,10A88.11,88.11,0,0,1,40,128Zm102.58,86.78,1.13-5.81a16.09,16.09,0,0,0-4-13.9,1.85,1.85,0,0,1-.14-.14L120,174.74,133.7,144l22.82,3.08,45.72,28.12A88.18,88.18,0,0,1,142.58,214.78Z"}))],["thin",O.createElement(O.Fragment,null,O.createElement("path",{d:"M128,28A100,100,0,1,0,228,128,100.11,100.11,0,0,0,128,28Zm92,100a91.44,91.44,0,0,1-8.58,38.76L162.8,136.85a12.07,12.07,0,0,0-4.68-1.67l-22.82-3.07a12,12,0,0,0-12.56,7l-.4.88h-11.2a4,4,0,0,1-3.6-2.26l-3.8-7.86a11.93,11.93,0,0,0-8.28-6.5L82.07,120.5,92.67,102a4,4,0,0,1,3.47-2h16.71a12,12,0,0,0,5.8-1.5l12.24-6.76a11.79,11.79,0,0,0,2.25-1.6L160.05,65.8a12,12,0,0,0,2.43-14.75l-5.86-10.49A92.17,92.17,0,0,1,220,128ZM145.89,37.75l9.6,17.2a4,4,0,0,1-.81,4.92L127.77,84.21a4.41,4.41,0,0,1-.75.53L114.78,91.5a4,4,0,0,1-1.93.5H96.14a12,12,0,0,0-10.41,6l-11.86,20.7a4,4,0,0,1-2.75-2.47L59.63,85.6a4,4,0,0,1,.06-3L71,55.81A91.51,91.51,0,0,1,128,36,92.53,92.53,0,0,1,145.89,37.75ZM36,128A91.52,91.52,0,0,1,56,70.77l-3.71,8.75a12,12,0,0,0-.18,8.88l11.49,30.67a11.93,11.93,0,0,0,8.72,7.52l21.43,4.61a4,4,0,0,1,2.76,2.17l3.8,7.86a12.07,12.07,0,0,0,10.8,6.77h7.64L109,169.85A12,12,0,0,0,111.26,183l19.68,20.26a4,4,0,0,1,1,3.47L129.36,220,128,220A92.1,92.1,0,0,1,36,128Zm101.6,91.5,2.18-11.29a12.08,12.08,0,0,0-3-10.49l-19.68-20.26a4,4,0,0,1-.71-4.35l13.7-30.74a4,4,0,0,1,4.18-2.33l22.82,3.07a4.12,4.12,0,0,1,1.56.56l49.11,30.2A92.12,92.12,0,0,1,137.6,219.5Z"}))]]),Mr=new Map([["bold",O.createElement(O.Fragment,null,O.createElement("path",{d:"M249.8,85.49l-116-64a12,12,0,0,0-11.6,0l-116,64a12,12,0,0,0,0,21l21.8,12v47.76a19.89,19.89,0,0,0,5.09,13.32C46.63,194.7,77,220,128,220a136.88,136.88,0,0,0,40-5.75V240a12,12,0,0,0,24,0V204.12a119.53,119.53,0,0,0,30.91-24.51A19.89,19.89,0,0,0,228,166.29V118.53l21.8-12a12,12,0,0,0,0-21ZM128,45.71,219.16,96,186,114.3a1.88,1.88,0,0,1-.18-.12l-52-28.69a12,12,0,0,0-11.6,21l39,21.49L128,146.3,36.84,96ZM128,196c-40.42,0-64.65-19.07-76-31.27v-33l70.2,38.74a12,12,0,0,0,11.6,0L168,151.64v37.23A110.46,110.46,0,0,1,128,196Zm76-31.27a93.21,93.21,0,0,1-12,10.81V138.39l12-6.62Z"}))],["duotone",O.createElement(O.Fragment,null,O.createElement("path",{d:"M216,113.07v53.22a8,8,0,0,1-2,5.31c-11.3,12.59-38.9,36.4-86,36.4s-74.68-23.81-86-36.4a8,8,0,0,1-2-5.31V113.07L128,160Z",opacity:"0.2"}),O.createElement("path",{d:"M251.76,88.94l-120-64a8,8,0,0,0-7.52,0l-120,64a8,8,0,0,0,0,14.12L32,117.87v48.42a15.91,15.91,0,0,0,4.06,10.65C49.16,191.53,78.51,216,128,216a130,130,0,0,0,48-8.76V240a8,8,0,0,0,16,0V199.51a115.63,115.63,0,0,0,27.94-22.57A15.91,15.91,0,0,0,224,166.29V117.87l27.76-14.81a8,8,0,0,0,0-14.12ZM128,200c-43.27,0-68.72-21.14-80-33.71V126.4l76.24,40.66a8,8,0,0,0,7.52,0L176,143.47v46.34C163.4,195.69,147.52,200,128,200Zm80-33.75a97.83,97.83,0,0,1-16,14.25V134.93l16-8.53ZM188,118.94l-.22-.13-56-29.87a8,8,0,0,0-7.52,14.12L171,128l-43,22.93L25,96,128,41.07,231,96Z"}))],["fill",O.createElement(O.Fragment,null,O.createElement("path",{d:"M176,207.24a119,119,0,0,0,16-7.73V240a8,8,0,0,1-16,0Zm11.76-88.43-56-29.87a8,8,0,0,0-7.52,14.12L171,128l17-9.06Zm64-29.87-120-64a8,8,0,0,0-7.52,0l-120,64a8,8,0,0,0,0,14.12L32,117.87v48.42a15.91,15.91,0,0,0,4.06,10.65C49.16,191.53,78.51,216,128,216a130,130,0,0,0,48-8.76V130.67L171,128l-43,22.93L43.83,106l0,0L25,96,128,41.07,231,96l-18.78,10-.06,0L188,118.94a8,8,0,0,1,4,6.93v73.64a115.63,115.63,0,0,0,27.94-22.57A15.91,15.91,0,0,0,224,166.29V117.87l27.76-14.81a8,8,0,0,0,0-14.12Z"}))],["light",O.createElement(O.Fragment,null,O.createElement("path",{d:"M250.82,90.71l-120-64a5.94,5.94,0,0,0-5.64,0l-120,64a6,6,0,0,0,0,10.58L34,116.67v49.62a14,14,0,0,0,3.55,9.32C50.42,189.94,79.29,214,128,214a127.21,127.21,0,0,0,50-9.73V240a6,6,0,0,0,12,0V198.35a113.18,113.18,0,0,0,28.45-22.75,13.91,13.91,0,0,0,3.55-9.31V116.67l28.82-15.38a6,6,0,0,0,0-10.58ZM128,202c-44,0-70-21.56-81.52-34.41a2,2,0,0,1-.48-1.3V123.07l79.18,42.22a6,6,0,0,0,5.64,0L178,140.13v51C165,197.35,148.45,202,128,202Zm82-35.71a2,2,0,0,1-.48,1.3A100.25,100.25,0,0,1,190,184.3V133.73l20-10.66Zm-22.15-45a6.27,6.27,0,0,0-1-.71l-56-29.86a6,6,0,0,0-5.64,10.58L175.25,128,128,153.2,20.75,96,128,38.8,235.25,96Z"}))],["regular",O.createElement(O.Fragment,null,O.createElement("path",{d:"M251.76,88.94l-120-64a8,8,0,0,0-7.52,0l-120,64a8,8,0,0,0,0,14.12L32,117.87v48.42a15.91,15.91,0,0,0,4.06,10.65C49.16,191.53,78.51,216,128,216a130,130,0,0,0,48-8.76V240a8,8,0,0,0,16,0V199.51a115.63,115.63,0,0,0,27.94-22.57A15.91,15.91,0,0,0,224,166.29V117.87l27.76-14.81a8,8,0,0,0,0-14.12ZM128,200c-43.27,0-68.72-21.14-80-33.71V126.4l76.24,40.66a8,8,0,0,0,7.52,0L176,143.47v46.34C163.4,195.69,147.52,200,128,200Zm80-33.75a97.83,97.83,0,0,1-16,14.25V134.93l16-8.53ZM188,118.94l-.22-.13-56-29.87a8,8,0,0,0-7.52,14.12L171,128l-43,22.93L25,96,128,41.07,231,96Z"}))],["thin",O.createElement(O.Fragment,null,O.createElement("path",{d:"M249.88,92.47l-120-64a4,4,0,0,0-3.76,0l-120,64a4,4,0,0,0,0,7.06L36,115.47v50.82a11.92,11.92,0,0,0,3,8c12.65,14.09,41,37.73,89,37.73,21,0,38.2-4.52,52-10.79V240a4,4,0,0,0,8,0V197.18a111.64,111.64,0,0,0,29-22.91,11.94,11.94,0,0,0,3-8V115.47l29.88-15.94a4,4,0,0,0,0-7.06ZM128,204c-44.83,0-71.25-22-83-35.08a3.92,3.92,0,0,1-1-2.63V119.73l82.12,43.8a4,4,0,0,0,3.76,0L180,136.8v55.53C166.58,199,149.39,204,128,204Zm84-37.71a4,4,0,0,1-1,2.64,103.32,103.32,0,0,1-23,19v-55.4l24-12.8Zm-24.59-42.51a4,4,0,0,0-1.53-1.44l-56-29.87a4,4,0,0,0-3.76,7.06L179.5,128,128,155.47,16.5,96,128,36.53,239.5,96Z"}))]]),Tr=new Map([["bold",O.createElement(O.Fragment,null,O.createElement("path",{d:"M224,60H32A20,20,0,0,0,12,80v96a20,20,0,0,0,20,20H224a20,20,0,0,0,20-20V80A20,20,0,0,0,224,60Zm-4,112H36V84H220Zm-56-44a16,16,0,1,1,16,16A16,16,0,0,1,164,128Z"}))],["duotone",O.createElement(O.Fragment,null,O.createElement("path",{d:"M232,80v96a8,8,0,0,1-8,8H32a8,8,0,0,1-8-8V80a8,8,0,0,1,8-8H224A8,8,0,0,1,232,80Z",opacity:"0.2"}),O.createElement("path",{d:"M224,64H32A16,16,0,0,0,16,80v96a16,16,0,0,0,16,16H224a16,16,0,0,0,16-16V80A16,16,0,0,0,224,64Zm0,112H32V80H224v96Zm-24-48a12,12,0,1,1-12-12A12,12,0,0,1,200,128Z"}))],["fill",O.createElement(O.Fragment,null,O.createElement("path",{d:"M224,64H32A16,16,0,0,0,16,80v96a16,16,0,0,0,16,16H224a16,16,0,0,0,16-16V80A16,16,0,0,0,224,64Zm-36,76a12,12,0,1,1,12-12A12,12,0,0,1,188,140Z"}))],["light",O.createElement(O.Fragment,null,O.createElement("path",{d:"M224,66H32A14,14,0,0,0,18,80v96a14,14,0,0,0,14,14H224a14,14,0,0,0,14-14V80A14,14,0,0,0,224,66Zm2,110a2,2,0,0,1-2,2H32a2,2,0,0,1-2-2V80a2,2,0,0,1,2-2H224a2,2,0,0,1,2,2Zm-28-48a10,10,0,1,1-10-10A10,10,0,0,1,198,128Z"}))],["regular",O.createElement(O.Fragment,null,O.createElement("path",{d:"M224,64H32A16,16,0,0,0,16,80v96a16,16,0,0,0,16,16H224a16,16,0,0,0,16-16V80A16,16,0,0,0,224,64Zm0,112H32V80H224v96Zm-24-48a12,12,0,1,1-12-12A12,12,0,0,1,200,128Z"}))],["thin",O.createElement(O.Fragment,null,O.createElement("path",{d:"M224,68H32A12,12,0,0,0,20,80v96a12,12,0,0,0,12,12H224a12,12,0,0,0,12-12V80A12,12,0,0,0,224,68Zm4,108a4,4,0,0,1-4,4H32a4,4,0,0,1-4-4V80a4,4,0,0,1,4-4H224a4,4,0,0,1,4,4Zm-32-48a8,8,0,1,1-8-8A8,8,0,0,1,196,128Z"}))]]),Ir=new Map([["bold",O.createElement(O.Fragment,null,O.createElement("path",{d:"M178,36c-20.09,0-37.92,7.93-50,21.56C115.92,43.93,98.09,36,78,36a66.08,66.08,0,0,0-66,66c0,72.34,105.81,130.14,110.31,132.57a12,12,0,0,0,11.38,0C138.19,232.14,244,174.34,244,102A66.08,66.08,0,0,0,178,36Zm-5.49,142.36A328.69,328.69,0,0,1,128,210.16a328.69,328.69,0,0,1-44.51-31.8C61.82,159.77,36,131.42,36,102A42,42,0,0,1,78,60c17.8,0,32.7,9.4,38.89,24.54a12,12,0,0,0,22.22,0C145.3,69.4,160.2,60,178,60a42,42,0,0,1,42,42C220,131.42,194.18,159.77,172.51,178.36Z"}))],["duotone",O.createElement(O.Fragment,null,O.createElement("path",{d:"M232,102c0,66-104,122-104,122S24,168,24,102A54,54,0,0,1,78,48c22.59,0,41.94,12.31,50,32,8.06-19.69,27.41-32,50-32A54,54,0,0,1,232,102Z",opacity:"0.2"}),O.createElement("path",{d:"M178,40c-20.65,0-38.73,8.88-50,23.89C116.73,48.88,98.65,40,78,40a62.07,62.07,0,0,0-62,62c0,70,103.79,126.66,108.21,129a8,8,0,0,0,7.58,0C136.21,228.66,240,172,240,102A62.07,62.07,0,0,0,178,40ZM128,214.8C109.74,204.16,32,155.69,32,102A46.06,46.06,0,0,1,78,56c19.45,0,35.78,10.36,42.6,27a8,8,0,0,0,14.8,0c6.82-16.67,23.15-27,42.6-27a46.06,46.06,0,0,1,46,46C224,155.61,146.24,204.15,128,214.8Z"}))],["fill",O.createElement(O.Fragment,null,O.createElement("path",{d:"M240,102c0,70-103.79,126.66-108.21,129a8,8,0,0,1-7.58,0C119.79,228.66,16,172,16,102A62.07,62.07,0,0,1,78,40c20.65,0,38.73,8.88,50,23.89C139.27,48.88,157.35,40,178,40A62.07,62.07,0,0,1,240,102Z"}))],["light",O.createElement(O.Fragment,null,O.createElement("path",{d:"M178,42c-21,0-39.26,9.47-50,25.34C117.26,51.47,99,42,78,42a60.07,60.07,0,0,0-60,60c0,29.2,18.2,59.59,54.1,90.31a334.68,334.68,0,0,0,53.06,37,6,6,0,0,0,5.68,0,334.68,334.68,0,0,0,53.06-37C219.8,161.59,238,131.2,238,102A60.07,60.07,0,0,0,178,42ZM128,217.11C111.59,207.64,30,157.72,30,102A48.05,48.05,0,0,1,78,54c20.28,0,37.31,10.83,44.45,28.27a6,6,0,0,0,11.1,0C140.69,64.83,157.72,54,178,54a48.05,48.05,0,0,1,48,48C226,157.72,144.41,207.64,128,217.11Z"}))],["regular",O.createElement(O.Fragment,null,O.createElement("path",{d:"M178,40c-20.65,0-38.73,8.88-50,23.89C116.73,48.88,98.65,40,78,40a62.07,62.07,0,0,0-62,62c0,70,103.79,126.66,108.21,129a8,8,0,0,0,7.58,0C136.21,228.66,240,172,240,102A62.07,62.07,0,0,0,178,40ZM128,214.8C109.74,204.16,32,155.69,32,102A46.06,46.06,0,0,1,78,56c19.45,0,35.78,10.36,42.6,27a8,8,0,0,0,14.8,0c6.82-16.67,23.15-27,42.6-27a46.06,46.06,0,0,1,46,46C224,155.61,146.24,204.15,128,214.8Z"}))],["thin",O.createElement(O.Fragment,null,O.createElement("path",{d:"M178,44c-21.44,0-39.92,10.19-50,27.07C117.92,54.19,99.44,44,78,44a58.07,58.07,0,0,0-58,58c0,28.59,18,58.47,53.4,88.79a333.81,333.81,0,0,0,52.7,36.73,4,4,0,0,0,3.8,0,333.81,333.81,0,0,0,52.7-36.73C218,160.47,236,130.59,236,102A58.07,58.07,0,0,0,178,44ZM128,219.42c-14-8-100-59.35-100-117.42A50.06,50.06,0,0,1,78,52c21.11,0,38.85,11.31,46.3,29.51a4,4,0,0,0,7.4,0C139.15,63.31,156.89,52,178,52a50.06,50.06,0,0,1,50,50C228,160,142,211.46,128,219.42Z"}))]]),Or=new Map([["bold",O.createElement(O.Fragment,null,O.createElement("path",{d:"M222.14,105.85l-80-80a20,20,0,0,0-28.28,0l-80,80A19.86,19.86,0,0,0,28,120v96a12,12,0,0,0,12,12h64a12,12,0,0,0,12-12V164h24v52a12,12,0,0,0,12,12h64a12,12,0,0,0,12-12V120A19.86,19.86,0,0,0,222.14,105.85ZM204,204H164V152a12,12,0,0,0-12-12H104a12,12,0,0,0-12,12v52H52V121.65l76-76,76,76Z"}))],["duotone",O.createElement(O.Fragment,null,O.createElement("path",{d:"M216,120v96H152V152H104v64H40V120a8,8,0,0,1,2.34-5.66l80-80a8,8,0,0,1,11.32,0l80,80A8,8,0,0,1,216,120Z",opacity:"0.2"}),O.createElement("path",{d:"M219.31,108.68l-80-80a16,16,0,0,0-22.62,0l-80,80A15.87,15.87,0,0,0,32,120v96a8,8,0,0,0,8,8h64a8,8,0,0,0,8-8V160h32v56a8,8,0,0,0,8,8h64a8,8,0,0,0,8-8V120A15.87,15.87,0,0,0,219.31,108.68ZM208,208H160V152a8,8,0,0,0-8-8H104a8,8,0,0,0-8,8v56H48V120l80-80,80,80Z"}))],["fill",O.createElement(O.Fragment,null,O.createElement("path",{d:"M224,120v96a8,8,0,0,1-8,8H160a8,8,0,0,1-8-8V164a4,4,0,0,0-4-4H108a4,4,0,0,0-4,4v52a8,8,0,0,1-8,8H40a8,8,0,0,1-8-8V120a16,16,0,0,1,4.69-11.31l80-80a16,16,0,0,1,22.62,0l80,80A16,16,0,0,1,224,120Z"}))],["light",O.createElement(O.Fragment,null,O.createElement("path",{d:"M217.9,110.1l-80-80a14,14,0,0,0-19.8,0l-80,80A13.92,13.92,0,0,0,34,120v96a6,6,0,0,0,6,6h64a6,6,0,0,0,6-6V158h36v58a6,6,0,0,0,6,6h64a6,6,0,0,0,6-6V120A13.92,13.92,0,0,0,217.9,110.1ZM210,210H158V152a6,6,0,0,0-6-6H104a6,6,0,0,0-6,6v58H46V120a2,2,0,0,1,.58-1.42l80-80a2,2,0,0,1,2.84,0l80,80A2,2,0,0,1,210,120Z"}))],["regular",O.createElement(O.Fragment,null,O.createElement("path",{d:"M219.31,108.68l-80-80a16,16,0,0,0-22.62,0l-80,80A15.87,15.87,0,0,0,32,120v96a8,8,0,0,0,8,8h64a8,8,0,0,0,8-8V160h32v56a8,8,0,0,0,8,8h64a8,8,0,0,0,8-8V120A15.87,15.87,0,0,0,219.31,108.68ZM208,208H160V152a8,8,0,0,0-8-8H104a8,8,0,0,0-8,8v56H48V120l80-80,80,80Z"}))],["thin",O.createElement(O.Fragment,null,O.createElement("path",{d:"M216.49,111.51l-80-80a12,12,0,0,0-17,0l-80,80A12,12,0,0,0,36,120v96a4,4,0,0,0,4,4h64a4,4,0,0,0,4-4V156h40v60a4,4,0,0,0,4,4h64a4,4,0,0,0,4-4V120A12,12,0,0,0,216.49,111.51ZM212,212H156V152a4,4,0,0,0-4-4H104a4,4,0,0,0-4,4v60H44V120a4,4,0,0,1,1.17-2.83l80-80a4,4,0,0,1,5.66,0l80,80A4,4,0,0,1,212,120Z"}))]]),Pr=new Map([["bold",O.createElement(O.Fragment,null,O.createElement("path",{d:"M224,44H32A20,20,0,0,0,12,64V192a20,20,0,0,0,20,20H224a20,20,0,0,0,20-20V64A20,20,0,0,0,224,44Zm-4,144H36V68H220ZM52,128a12,12,0,0,1,12-12H192a12,12,0,0,1,0,24H64A12,12,0,0,1,52,128Zm0-36A12,12,0,0,1,64,80H192a12,12,0,0,1,0,24H64A12,12,0,0,1,52,92Zm0,72a12,12,0,0,1,12-12h8a12,12,0,0,1,0,24H64A12,12,0,0,1,52,164Zm108,0a12,12,0,0,1-12,12H108a12,12,0,0,1,0-24h40A12,12,0,0,1,160,164Zm44,0a12,12,0,0,1-12,12h-8a12,12,0,0,1,0-24h8A12,12,0,0,1,204,164Z"}))],["duotone",O.createElement(O.Fragment,null,O.createElement("path",{d:"M232,64V192a8,8,0,0,1-8,8H32a8,8,0,0,1-8-8V64a8,8,0,0,1,8-8H224A8,8,0,0,1,232,64Z",opacity:"0.2"}),O.createElement("path",{d:"M224,48H32A16,16,0,0,0,16,64V192a16,16,0,0,0,16,16H224a16,16,0,0,0,16-16V64A16,16,0,0,0,224,48Zm0,144H32V64H224V192Zm-16-64a8,8,0,0,1-8,8H56a8,8,0,0,1,0-16H200A8,8,0,0,1,208,128Zm0-32a8,8,0,0,1-8,8H56a8,8,0,0,1,0-16H200A8,8,0,0,1,208,96ZM72,160a8,8,0,0,1-8,8H56a8,8,0,0,1,0-16h8A8,8,0,0,1,72,160Zm96,0a8,8,0,0,1-8,8H96a8,8,0,0,1,0-16h64A8,8,0,0,1,168,160Zm40,0a8,8,0,0,1-8,8h-8a8,8,0,0,1,0-16h8A8,8,0,0,1,208,160Z"}))],["fill",O.createElement(O.Fragment,null,O.createElement("path",{d:"M224,48H32A16,16,0,0,0,16,64V192a16,16,0,0,0,16,16H224a16,16,0,0,0,16-16V64A16,16,0,0,0,224,48ZM64,168H48a8,8,0,0,1,0-16H64a8,8,0,0,1,0,16Zm96,0H96a8,8,0,0,1,0-16h64a8,8,0,0,1,0,16Zm48,0H192a8,8,0,0,1,0-16h16a8,8,0,0,1,0,16Zm0-32H48a8,8,0,0,1,0-16H208a8,8,0,0,1,0,16Zm0-32H48a8,8,0,0,1,0-16H208a8,8,0,0,1,0,16Z"}))],["light",O.createElement(O.Fragment,null,O.createElement("path",{d:"M224,50H32A14,14,0,0,0,18,64V192a14,14,0,0,0,14,14H224a14,14,0,0,0,14-14V64A14,14,0,0,0,224,50Zm2,142a2,2,0,0,1-2,2H32a2,2,0,0,1-2-2V64a2,2,0,0,1,2-2H224a2,2,0,0,1,2,2Zm-20-64a6,6,0,0,1-6,6H56a6,6,0,0,1,0-12H200A6,6,0,0,1,206,128Zm0-32a6,6,0,0,1-6,6H56a6,6,0,0,1,0-12H200A6,6,0,0,1,206,96ZM70,160a6,6,0,0,1-6,6H56a6,6,0,0,1,0-12h8A6,6,0,0,1,70,160Zm96,0a6,6,0,0,1-6,6H96a6,6,0,0,1,0-12h64A6,6,0,0,1,166,160Zm40,0a6,6,0,0,1-6,6h-8a6,6,0,0,1,0-12h8A6,6,0,0,1,206,160Z"}))],["regular",O.createElement(O.Fragment,null,O.createElement("path",{d:"M224,48H32A16,16,0,0,0,16,64V192a16,16,0,0,0,16,16H224a16,16,0,0,0,16-16V64A16,16,0,0,0,224,48Zm0,144H32V64H224V192Zm-16-64a8,8,0,0,1-8,8H56a8,8,0,0,1,0-16H200A8,8,0,0,1,208,128Zm0-32a8,8,0,0,1-8,8H56a8,8,0,0,1,0-16H200A8,8,0,0,1,208,96ZM72,160a8,8,0,0,1-8,8H56a8,8,0,0,1,0-16h8A8,8,0,0,1,72,160Zm96,0a8,8,0,0,1-8,8H96a8,8,0,0,1,0-16h64A8,8,0,0,1,168,160Zm40,0a8,8,0,0,1-8,8h-8a8,8,0,0,1,0-16h8A8,8,0,0,1,208,160Z"}))],["thin",O.createElement(O.Fragment,null,O.createElement("path",{d:"M224,52H32A12,12,0,0,0,20,64V192a12,12,0,0,0,12,12H224a12,12,0,0,0,12-12V64A12,12,0,0,0,224,52Zm4,140a4,4,0,0,1-4,4H32a4,4,0,0,1-4-4V64a4,4,0,0,1,4-4H224a4,4,0,0,1,4,4Zm-24-64a4,4,0,0,1-4,4H56a4,4,0,0,1,0-8H200A4,4,0,0,1,204,128Zm0-32a4,4,0,0,1-4,4H56a4,4,0,0,1,0-8H200A4,4,0,0,1,204,96ZM68,160a4,4,0,0,1-4,4H56a4,4,0,0,1,0-8h8A4,4,0,0,1,68,160Zm96,0a4,4,0,0,1-4,4H96a4,4,0,0,1,0-8h64A4,4,0,0,1,164,160Zm40,0a4,4,0,0,1-4,4h-8a4,4,0,0,1,0-8h8A4,4,0,0,1,204,160Z"}))]]),Rr=new Map([["bold",O.createElement(O.Fragment,null,O.createElement("path",{d:"M219.71,117.38a12,12,0,0,0-7.25-8.52L161.28,88.39l10.59-70.61a12,12,0,0,0-20.64-10l-112,120a12,12,0,0,0,4.31,19.33l51.18,20.47L84.13,238.22a12,12,0,0,0,20.64,10l112-120A12,12,0,0,0,219.71,117.38ZM113.6,203.55l6.27-41.77a12,12,0,0,0-7.41-12.92L68.74,131.37,142.4,52.45l-6.27,41.77a12,12,0,0,0,7.41,12.92l43.72,17.49Z"}))],["duotone",O.createElement(O.Fragment,null,O.createElement("path",{d:"M96,240l16-80L48,136,160,16,144,96l64,24Z",opacity:"0.2"}),O.createElement("path",{d:"M215.79,118.17a8,8,0,0,0-5-5.66L153.18,90.9l14.66-73.33a8,8,0,0,0-13.69-7l-112,120a8,8,0,0,0,3,13l57.63,21.61L88.16,238.43a8,8,0,0,0,13.69,7l112-120A8,8,0,0,0,215.79,118.17ZM109.37,214l10.47-52.38a8,8,0,0,0-5-9.06L62,132.71l84.62-90.66L136.16,94.43a8,8,0,0,0,5,9.06l52.8,19.8Z"}))],["fill",O.createElement(O.Fragment,null,O.createElement("path",{d:"M213.85,125.46l-112,120a8,8,0,0,1-13.69-7l14.66-73.33L45.19,143.49a8,8,0,0,1-3-13l112-120a8,8,0,0,1,13.69,7L153.18,90.9l57.63,21.61a8,8,0,0,1,3,12.95Z"}))],["light",O.createElement(O.Fragment,null,O.createElement("path",{d:"M213.84,118.63a6,6,0,0,0-3.73-4.25L150.88,92.17l15-75a6,6,0,0,0-10.27-5.27l-112,120a6,6,0,0,0,2.28,9.71l59.23,22.21-15,75a6,6,0,0,0,3.14,6.52A6.07,6.07,0,0,0,96,246a6,6,0,0,0,4.39-1.91l112-120A6,6,0,0,0,213.84,118.63ZM106,220.46l11.85-59.28a6,6,0,0,0-3.77-6.8l-55.6-20.85,91.46-98L138.12,94.82a6,6,0,0,0,3.77,6.8l55.6,20.85Z"}))],["regular",O.createElement(O.Fragment,null,O.createElement("path",{d:"M215.79,118.17a8,8,0,0,0-5-5.66L153.18,90.9l14.66-73.33a8,8,0,0,0-13.69-7l-112,120a8,8,0,0,0,3,13l57.63,21.61L88.16,238.43a8,8,0,0,0,13.69,7l112-120A8,8,0,0,0,215.79,118.17ZM109.37,214l10.47-52.38a8,8,0,0,0-5-9.06L62,132.71l84.62-90.66L136.16,94.43a8,8,0,0,0,5,9.06l52.8,19.8Z"}))],["thin",O.createElement(O.Fragment,null,O.createElement("path",{d:"M211.89,119.09a4,4,0,0,0-2.49-2.84l-60.81-22.8,15.33-76.67a4,4,0,0,0-6.84-3.51l-112,120a4,4,0,0,0-1,3.64,4,4,0,0,0,2.49,2.84l60.81,22.8L92.08,239.22a4,4,0,0,0,6.84,3.51l112-120A4,4,0,0,0,211.89,119.09ZM102.68,227l13.24-66.2a4,4,0,0,0-2.52-4.53L55,134.36,153.32,29l-13.24,66.2a4,4,0,0,0,2.52,4.53L201,121.64Z"}))]]),_r=new Map([["bold",O.createElement(O.Fragment,null,O.createElement("path",{d:"M216,20H40A20,20,0,0,0,20,40V216a20,20,0,0,0,20,20H216a20,20,0,0,0,20-20V40A20,20,0,0,0,216,20Zm-4,192H44V44H212ZM112,176V120a12,12,0,0,1,21.43-7.41A40,40,0,0,1,192,148v28a12,12,0,0,1-24,0V148a16,16,0,0,0-32,0v28a12,12,0,0,1-24,0ZM96,120v56a12,12,0,0,1-24,0V120a12,12,0,0,1,24,0ZM68,80A16,16,0,1,1,84,96,16,16,0,0,1,68,80Z"}))],["duotone",O.createElement(O.Fragment,null,O.createElement("path",{d:"M224,40V216a8,8,0,0,1-8,8H40a8,8,0,0,1-8-8V40a8,8,0,0,1,8-8H216A8,8,0,0,1,224,40Z",opacity:"0.2"}),O.createElement("path",{d:"M216,24H40A16,16,0,0,0,24,40V216a16,16,0,0,0,16,16H216a16,16,0,0,0,16-16V40A16,16,0,0,0,216,24Zm0,192H40V40H216V216ZM96,112v64a8,8,0,0,1-16,0V112a8,8,0,0,1,16,0Zm88,28v36a8,8,0,0,1-16,0V140a20,20,0,0,0-40,0v36a8,8,0,0,1-16,0V112a8,8,0,0,1,15.79-1.78A36,36,0,0,1,184,140ZM100,84A12,12,0,1,1,88,72,12,12,0,0,1,100,84Z"}))],["fill",O.createElement(O.Fragment,null,O.createElement("path",{d:"M216,24H40A16,16,0,0,0,24,40V216a16,16,0,0,0,16,16H216a16,16,0,0,0,16-16V40A16,16,0,0,0,216,24ZM96,176a8,8,0,0,1-16,0V112a8,8,0,0,1,16,0ZM88,96a12,12,0,1,1,12-12A12,12,0,0,1,88,96Zm96,80a8,8,0,0,1-16,0V140a20,20,0,0,0-40,0v36a8,8,0,0,1-16,0V112a8,8,0,0,1,15.79-1.78A36,36,0,0,1,184,140Z"}))],["light",O.createElement(O.Fragment,null,O.createElement("path",{d:"M216,26H40A14,14,0,0,0,26,40V216a14,14,0,0,0,14,14H216a14,14,0,0,0,14-14V40A14,14,0,0,0,216,26Zm2,190a2,2,0,0,1-2,2H40a2,2,0,0,1-2-2V40a2,2,0,0,1,2-2H216a2,2,0,0,1,2,2ZM94,112v64a6,6,0,0,1-12,0V112a6,6,0,0,1,12,0Zm88,28v36a6,6,0,0,1-12,0V140a22,22,0,0,0-44,0v36a6,6,0,0,1-12,0V112a6,6,0,0,1,12,0v2.11A34,34,0,0,1,182,140ZM98,84A10,10,0,1,1,88,74,10,10,0,0,1,98,84Z"}))],["regular",O.createElement(O.Fragment,null,O.createElement("path",{d:"M216,24H40A16,16,0,0,0,24,40V216a16,16,0,0,0,16,16H216a16,16,0,0,0,16-16V40A16,16,0,0,0,216,24Zm0,192H40V40H216V216ZM96,112v64a8,8,0,0,1-16,0V112a8,8,0,0,1,16,0Zm88,28v36a8,8,0,0,1-16,0V140a20,20,0,0,0-40,0v36a8,8,0,0,1-16,0V112a8,8,0,0,1,15.79-1.78A36,36,0,0,1,184,140ZM100,84A12,12,0,1,1,88,72,12,12,0,0,1,100,84Z"}))],["thin",O.createElement(O.Fragment,null,O.createElement("path",{d:"M216,28H40A12,12,0,0,0,28,40V216a12,12,0,0,0,12,12H216a12,12,0,0,0,12-12V40A12,12,0,0,0,216,28Zm4,188a4,4,0,0,1-4,4H40a4,4,0,0,1-4-4V40a4,4,0,0,1,4-4H216a4,4,0,0,1,4,4ZM92,112v64a4,4,0,0,1-8,0V112a4,4,0,0,1,8,0Zm88,28v36a4,4,0,0,1-8,0V140a24,24,0,0,0-48,0v36a4,4,0,0,1-8,0V112a4,4,0,0,1,8,0v6.87A32,32,0,0,1,180,140ZM96,84a8,8,0,1,1-8-8A8,8,0,0,1,96,84Z"}))]]),Lr=new Map([["bold",O.createElement(O.Fragment,null,O.createElement("path",{d:"M228,128a12,12,0,0,1-12,12H40a12,12,0,0,1,0-24H216A12,12,0,0,1,228,128ZM40,76H216a12,12,0,0,0,0-24H40a12,12,0,0,0,0,24ZM216,180H40a12,12,0,0,0,0,24H216a12,12,0,0,0,0-24Z"}))],["duotone",O.createElement(O.Fragment,null,O.createElement("path",{d:"M216,64V192H40V64Z",opacity:"0.2"}),O.createElement("path",{d:"M224,128a8,8,0,0,1-8,8H40a8,8,0,0,1,0-16H216A8,8,0,0,1,224,128ZM40,72H216a8,8,0,0,0,0-16H40a8,8,0,0,0,0,16ZM216,184H40a8,8,0,0,0,0,16H216a8,8,0,0,0,0-16Z"}))],["fill",O.createElement(O.Fragment,null,O.createElement("path",{d:"M208,32H48A16,16,0,0,0,32,48V208a16,16,0,0,0,16,16H208a16,16,0,0,0,16-16V48A16,16,0,0,0,208,32ZM192,184H64a8,8,0,0,1,0-16H192a8,8,0,0,1,0,16Zm0-48H64a8,8,0,0,1,0-16H192a8,8,0,0,1,0,16Zm0-48H64a8,8,0,0,1,0-16H192a8,8,0,0,1,0,16Z"}))],["light",O.createElement(O.Fragment,null,O.createElement("path",{d:"M222,128a6,6,0,0,1-6,6H40a6,6,0,0,1,0-12H216A6,6,0,0,1,222,128ZM40,70H216a6,6,0,0,0,0-12H40a6,6,0,0,0,0,12ZM216,186H40a6,6,0,0,0,0,12H216a6,6,0,0,0,0-12Z"}))],["regular",O.createElement(O.Fragment,null,O.createElement("path",{d:"M224,128a8,8,0,0,1-8,8H40a8,8,0,0,1,0-16H216A8,8,0,0,1,224,128ZM40,72H216a8,8,0,0,0,0-16H40a8,8,0,0,0,0,16ZM216,184H40a8,8,0,0,0,0,16H216a8,8,0,0,0,0-16Z"}))],["thin",O.createElement(O.Fragment,null,O.createElement("path",{d:"M220,128a4,4,0,0,1-4,4H40a4,4,0,0,1,0-8H216A4,4,0,0,1,220,128ZM40,68H216a4,4,0,0,0,0-8H40a4,4,0,0,0,0,8ZM216,188H40a4,4,0,0,0,0,8H216a4,4,0,0,0,0-8Z"}))]]),$r=new Map([["bold",O.createElement(O.Fragment,null,O.createElement("path",{d:"M208,76H180V56A52,52,0,0,0,76,56V76H48A20,20,0,0,0,28,96V208a20,20,0,0,0,20,20H208a20,20,0,0,0,20-20V96A20,20,0,0,0,208,76ZM100,56a28,28,0,0,1,56,0V76H100ZM204,204H52V100H204Zm-60-52a16,16,0,1,1-16-16A16,16,0,0,1,144,152Z"}))],["duotone",O.createElement(O.Fragment,null,O.createElement("path",{d:"M216,96V208a8,8,0,0,1-8,8H48a8,8,0,0,1-8-8V96a8,8,0,0,1,8-8H208A8,8,0,0,1,216,96Z",opacity:"0.2"}),O.createElement("path",{d:"M208,80H176V56a48,48,0,0,0-96,0V80H48A16,16,0,0,0,32,96V208a16,16,0,0,0,16,16H208a16,16,0,0,0,16-16V96A16,16,0,0,0,208,80ZM96,56a32,32,0,0,1,64,0V80H96ZM208,208H48V96H208V208Zm-68-56a12,12,0,1,1-12-12A12,12,0,0,1,140,152Z"}))],["fill",O.createElement(O.Fragment,null,O.createElement("path",{d:"M208,80H176V56a48,48,0,0,0-96,0V80H48A16,16,0,0,0,32,96V208a16,16,0,0,0,16,16H208a16,16,0,0,0,16-16V96A16,16,0,0,0,208,80Zm-80,84a12,12,0,1,1,12-12A12,12,0,0,1,128,164Zm32-84H96V56a32,32,0,0,1,64,0Z"}))],["light",O.createElement(O.Fragment,null,O.createElement("path",{d:"M208,82H174V56a46,46,0,0,0-92,0V82H48A14,14,0,0,0,34,96V208a14,14,0,0,0,14,14H208a14,14,0,0,0,14-14V96A14,14,0,0,0,208,82ZM94,56a34,34,0,0,1,68,0V82H94ZM210,208a2,2,0,0,1-2,2H48a2,2,0,0,1-2-2V96a2,2,0,0,1,2-2H208a2,2,0,0,1,2,2Zm-72-56a10,10,0,1,1-10-10A10,10,0,0,1,138,152Z"}))],["regular",O.createElement(O.Fragment,null,O.createElement("path",{d:"M208,80H176V56a48,48,0,0,0-96,0V80H48A16,16,0,0,0,32,96V208a16,16,0,0,0,16,16H208a16,16,0,0,0,16-16V96A16,16,0,0,0,208,80ZM96,56a32,32,0,0,1,64,0V80H96ZM208,208H48V96H208V208Zm-68-56a12,12,0,1,1-12-12A12,12,0,0,1,140,152Z"}))],["thin",O.createElement(O.Fragment,null,O.createElement("path",{d:"M208,84H172V56a44,44,0,0,0-88,0V84H48A12,12,0,0,0,36,96V208a12,12,0,0,0,12,12H208a12,12,0,0,0,12-12V96A12,12,0,0,0,208,84ZM92,56a36,36,0,0,1,72,0V84H92ZM212,208a4,4,0,0,1-4,4H48a4,4,0,0,1-4-4V96a4,4,0,0,1,4-4H208a4,4,0,0,1,4,4Zm-76-56a8,8,0,1,1-8-8A8,8,0,0,1,136,152Z"}))]]),Fr=new Map([["bold",O.createElement(O.Fragment,null,O.createElement("path",{d:"M128,60a44,44,0,1,0,44,44A44.05,44.05,0,0,0,128,60Zm0,64a20,20,0,1,1,20-20A20,20,0,0,1,128,124Zm0-112a92.1,92.1,0,0,0-92,92c0,77.36,81.64,135.4,85.12,137.83a12,12,0,0,0,13.76,0,259,259,0,0,0,42.18-39C205.15,170.57,220,136.37,220,104A92.1,92.1,0,0,0,128,12Zm31.3,174.71A249.35,249.35,0,0,1,128,216.89a249.35,249.35,0,0,1-31.3-30.18C80,167.37,60,137.31,60,104a68,68,0,0,1,136,0C196,137.31,176,167.37,159.3,186.71Z"}))],["duotone",O.createElement(O.Fragment,null,O.createElement("path",{d:"M128,24a80,80,0,0,0-80,80c0,72,80,128,80,128s80-56,80-128A80,80,0,0,0,128,24Zm0,112a32,32,0,1,1,32-32A32,32,0,0,1,128,136Z",opacity:"0.2"}),O.createElement("path",{d:"M128,64a40,40,0,1,0,40,40A40,40,0,0,0,128,64Zm0,64a24,24,0,1,1,24-24A24,24,0,0,1,128,128Zm0-112a88.1,88.1,0,0,0-88,88c0,31.4,14.51,64.68,42,96.25a254.19,254.19,0,0,0,41.45,38.3,8,8,0,0,0,9.18,0A254.19,254.19,0,0,0,174,200.25c27.45-31.57,42-64.85,42-96.25A88.1,88.1,0,0,0,128,16Zm0,206c-16.53-13-72-60.75-72-118a72,72,0,0,1,144,0C200,161.23,144.53,209,128,222Z"}))],["fill",O.createElement(O.Fragment,null,O.createElement("path",{d:"M128,16a88.1,88.1,0,0,0-88,88c0,75.3,80,132.17,83.41,134.55a8,8,0,0,0,9.18,0C136,236.17,216,179.3,216,104A88.1,88.1,0,0,0,128,16Zm0,56a32,32,0,1,1-32,32A32,32,0,0,1,128,72Z"}))],["light",O.createElement(O.Fragment,null,O.createElement("path",{d:"M128,66a38,38,0,1,0,38,38A38,38,0,0,0,128,66Zm0,64a26,26,0,1,1,26-26A26,26,0,0,1,128,130Zm0-112a86.1,86.1,0,0,0-86,86c0,30.91,14.34,63.74,41.47,94.94a252.32,252.32,0,0,0,41.09,38,6,6,0,0,0,6.88,0,252.32,252.32,0,0,0,41.09-38c27.13-31.2,41.47-64,41.47-94.94A86.1,86.1,0,0,0,128,18Zm0,206.51C113,212.93,54,163.62,54,104a74,74,0,0,1,148,0C202,163.62,143,212.93,128,224.51Z"}))],["regular",O.createElement(O.Fragment,null,O.createElement("path",{d:"M128,64a40,40,0,1,0,40,40A40,40,0,0,0,128,64Zm0,64a24,24,0,1,1,24-24A24,24,0,0,1,128,128Zm0-112a88.1,88.1,0,0,0-88,88c0,31.4,14.51,64.68,42,96.25a254.19,254.19,0,0,0,41.45,38.3,8,8,0,0,0,9.18,0A254.19,254.19,0,0,0,174,200.25c27.45-31.57,42-64.85,42-96.25A88.1,88.1,0,0,0,128,16Zm0,206c-16.53-13-72-60.75-72-118a72,72,0,0,1,144,0C200,161.23,144.53,209,128,222Z"}))],["thin",O.createElement(O.Fragment,null,O.createElement("path",{d:"M128,68a36,36,0,1,0,36,36A36,36,0,0,0,128,68Zm0,64a28,28,0,1,1,28-28A28,28,0,0,1,128,132Zm0-112a84.09,84.09,0,0,0-84,84c0,30.42,14.17,62.79,41,93.62a250,250,0,0,0,40.73,37.66,4,4,0,0,0,4.58,0A250,250,0,0,0,171,197.62c26.81-30.83,41-63.2,41-93.62A84.09,84.09,0,0,0,128,20Zm37.1,172.23A254.62,254.62,0,0,1,128,227a254.62,254.62,0,0,1-37.1-34.81C73.15,171.8,52,139.9,52,104a76,76,0,0,1,152,0C204,139.9,182.85,171.8,165.1,192.23Z"}))]]),Dr=new Map([["bold",O.createElement(O.Fragment,null,O.createElement("path",{d:"M200,220H160.73c5.18-5,10.75-10.71,16.33-17.13C205.15,170.57,220,136.37,220,104a92,92,0,0,0-184,0c0,50,34.12,91.94,59.18,116H56a12,12,0,0,0,0,24H200a12,12,0,0,0,0-24ZM60,104a68,68,0,0,1,136,0c0,33.31-20,63.37-36.7,82.71A249.35,249.35,0,0,1,128,216.89a249.35,249.35,0,0,1-31.3-30.18C80,167.37,60,137.31,60,104Zm68,44a44,44,0,1,0-44-44A44.05,44.05,0,0,0,128,148Zm0-64a20,20,0,1,1-20,20A20,20,0,0,1,128,84Z"}))],["duotone",O.createElement(O.Fragment,null,O.createElement("path",{d:"M128,24a80,80,0,0,0-80,80c0,72,80,128,80,128s80-56,80-128A80,80,0,0,0,128,24Zm0,112a32,32,0,1,1,32-32A32,32,0,0,1,128,136Z",opacity:"0.2"}),O.createElement("path",{d:"M200,224H150.54A266.56,266.56,0,0,0,174,200.25c27.45-31.57,42-64.85,42-96.25a88,88,0,0,0-176,0c0,31.4,14.51,64.68,42,96.25A266.56,266.56,0,0,0,105.46,224H56a8,8,0,0,0,0,16H200a8,8,0,0,0,0-16ZM56,104a72,72,0,0,1,144,0c0,57.23-55.47,105-72,118C111.47,209,56,161.23,56,104Zm112,0a40,40,0,1,0-40,40A40,40,0,0,0,168,104Zm-64,0a24,24,0,1,1,24,24A24,24,0,0,1,104,104Z"}))],["fill",O.createElement(O.Fragment,null,O.createElement("path",{d:"M200,224H150.54A266.56,266.56,0,0,0,174,200.25c27.45-31.57,42-64.85,42-96.25a88,88,0,0,0-176,0c0,31.4,14.51,64.68,42,96.25A266.56,266.56,0,0,0,105.46,224H56a8,8,0,0,0,0,16H200a8,8,0,0,0,0-16ZM128,72a32,32,0,1,1-32,32A32,32,0,0,1,128,72Z"}))],["light",O.createElement(O.Fragment,null,O.createElement("path",{d:"M200,226H145.22a266.37,266.37,0,0,0,27.31-27.06c27.13-31.2,41.47-64,41.47-94.94a86,86,0,0,0-172,0c0,30.91,14.34,63.74,41.47,94.94A266.37,266.37,0,0,0,110.78,226H56a6,6,0,0,0,0,12H200a6,6,0,0,0,0-12ZM54,104a74,74,0,0,1,148,0c0,59.62-59,108.93-74,120.51C113,212.93,54,163.62,54,104Zm112,0a38,38,0,1,0-38,38A38,38,0,0,0,166,104Zm-64,0a26,26,0,1,1,26,26A26,26,0,0,1,102,104Z"}))],["regular",O.createElement(O.Fragment,null,O.createElement("path",{d:"M200,224H150.54A266.56,266.56,0,0,0,174,200.25c27.45-31.57,42-64.85,42-96.25a88,88,0,0,0-176,0c0,31.4,14.51,64.68,42,96.25A266.56,266.56,0,0,0,105.46,224H56a8,8,0,0,0,0,16H200a8,8,0,0,0,0-16ZM56,104a72,72,0,0,1,144,0c0,57.23-55.47,105-72,118C111.47,209,56,161.23,56,104Zm112,0a40,40,0,1,0-40,40A40,40,0,0,0,168,104Zm-64,0a24,24,0,1,1,24,24A24,24,0,0,1,104,104Z"}))],["thin",O.createElement(O.Fragment,null,O.createElement("path",{d:"M200,228H139.72A263.66,263.66,0,0,0,171,197.62c26.81-30.83,41-63.2,41-93.62a84,84,0,0,0-168,0c0,30.42,14.17,62.79,41,93.62A263.66,263.66,0,0,0,116.28,228H56a4,4,0,0,0,0,8H200a4,4,0,0,0,0-8ZM90.9,192.23C73.15,171.8,52,139.9,52,104a76,76,0,0,1,152,0c0,35.9-21.15,67.8-38.9,88.23A254.62,254.62,0,0,1,128,227,254.62,254.62,0,0,1,90.9,192.23ZM164,104a36,36,0,1,0-36,36A36,36,0,0,0,164,104Zm-64,0a28,28,0,1,1,28,28A28,28,0,0,1,100,104Z"}))]]),zr=new Map([["bold",O.createElement(O.Fragment,null,O.createElement("path",{d:"M231.38,46.54a12,12,0,0,0-10.29-2.18L161.4,59.28l-60-30a12,12,0,0,0-8.28-.91l-64,16A12,12,0,0,0,20,56V200a12,12,0,0,0,14.91,11.64L94.6,196.72l60,30a12,12,0,0,0,8.28.91l64-16A12,12,0,0,0,236,200V56A12,12,0,0,0,231.38,46.54ZM108,59.42l40,20V196.58l-40-20Zm-64,6,40-10V174.63l-40,10ZM212,190.63l-40,10V81.37l40-10Z"}))],["duotone",O.createElement(O.Fragment,null,O.createElement("path",{d:"M160,72V216L96,184V40Z",opacity:"0.2"}),O.createElement("path",{d:"M228.92,49.69a8,8,0,0,0-6.86-1.45L160.93,63.52,99.58,32.84a8,8,0,0,0-5.52-.6l-64,16A8,8,0,0,0,24,56V200a8,8,0,0,0,9.94,7.76l61.13-15.28,61.35,30.68A8.15,8.15,0,0,0,160,224a8,8,0,0,0,1.94-.24l64-16A8,8,0,0,0,232,200V56A8,8,0,0,0,228.92,49.69ZM104,52.94l48,24V203.06l-48-24ZM40,62.25l48-12v127.5l-48,12Zm176,131.5-48,12V78.25l48-12Z"}))],["fill",O.createElement(O.Fragment,null,O.createElement("path",{d:"M228.92,49.69a8,8,0,0,0-6.86-1.45L160.93,63.52,99.58,32.84a8,8,0,0,0-5.52-.6l-64,16A8,8,0,0,0,24,56V200a8,8,0,0,0,9.94,7.76l61.13-15.28,61.35,30.68A8.15,8.15,0,0,0,160,224a8,8,0,0,0,1.94-.24l64-16A8,8,0,0,0,232,200V56A8,8,0,0,0,228.92,49.69ZM96,176a8,8,0,0,0-1.94.24L40,189.75V62.25L95.07,48.48l.93.46Zm120,17.75-55.07,13.77-.93-.46V80a8,8,0,0,0,1.94-.23L216,66.25Z"}))],["light",O.createElement(O.Fragment,null,O.createElement("path",{d:"M227.69,51.27a6,6,0,0,0-5.15-1.09L160.7,65.64l-62-31a6,6,0,0,0-4.14-.45l-64,16A6,6,0,0,0,26,56V200a6,6,0,0,0,7.46,5.82L95.3,190.36l62,31a6,6,0,0,0,4.14.45l64-16A6,6,0,0,0,230,200V56A6,6,0,0,0,227.69,51.27ZM102,49.71l52,26V206.29l-52-26Zm-64,11,52-13V179.32l-52,13ZM218,195.32l-52,13V76.68l52-13Z"}))],["regular",O.createElement(O.Fragment,null,O.createElement("path",{d:"M228.92,49.69a8,8,0,0,0-6.86-1.45L160.93,63.52,99.58,32.84a8,8,0,0,0-5.52-.6l-64,16A8,8,0,0,0,24,56V200a8,8,0,0,0,9.94,7.76l61.13-15.28,61.35,30.68A8.15,8.15,0,0,0,160,224a8,8,0,0,0,1.94-.24l64-16A8,8,0,0,0,232,200V56A8,8,0,0,0,228.92,49.69ZM104,52.94l48,24V203.06l-48-24ZM40,62.25l48-12v127.5l-48,12Zm176,131.5-48,12V78.25l48-12Z"}))],["thin",O.createElement(O.Fragment,null,O.createElement("path",{d:"M226.46,52.85a4,4,0,0,0-3.43-.73L160.47,67.76,97.79,36.42a4,4,0,0,0-2.76-.3l-64,16A4,4,0,0,0,28,56V200a4,4,0,0,0,5,3.88l62.56-15.64,62.68,31.34a4,4,0,0,0,2.76.3l64-16a4,4,0,0,0,3-3.88V56A4,4,0,0,0,226.46,52.85ZM100,46.47l56,28V209.53l-56-28ZM36,59.12l56-14V180.88l-56,14ZM220,196.88l-56,14V75.12l56-14Z"}))]]),Vr=new Map([["bold",O.createElement(O.Fragment,null,O.createElement("path",{d:"M244,128a12,12,0,0,1-12,12H207.42l-36.69,73.37A12,12,0,0,1,160,220h-.6a12,12,0,0,1-10.61-7.72L95,71.15,66.92,133A12,12,0,0,1,56,140H24a12,12,0,0,1,0-24H48.27L85.08,35a12,12,0,0,1,22.13.7l54.28,142.46,27.78-55.56A12,12,0,0,1,200,116h32A12,12,0,0,1,244,128Z"}))],["duotone",O.createElement(O.Fragment,null,O.createElement("path",{d:"M96,40l33.52,88H56Zm104,88H129.52L160,208Z",opacity:"0.2"}),O.createElement("path",{d:"M240,128a8,8,0,0,1-8,8H204.94l-37.78,75.58A8,8,0,0,1,160,216h-.4a8,8,0,0,1-7.08-5.14L95.35,60.76,63.28,131.31A8,8,0,0,1,56,136H24a8,8,0,0,1,0-16H50.85L88.72,36.69a8,8,0,0,1,14.76.46l57.51,151,31.85-63.71A8,8,0,0,1,200,120h32A8,8,0,0,1,240,128Z"}))],["fill",O.createElement(O.Fragment,null,O.createElement("path",{d:"M216,40H40A16,16,0,0,0,24,56V200a16,16,0,0,0,16,16H216a16,16,0,0,0,16-16V56A16,16,0,0,0,216,40Zm-8,96H188.64L159,188a8,8,0,0,1-6.95,4h-.46a8,8,0,0,1-6.89-4.84L103,89.92,79,132a8,8,0,0,1-7,4H48a8,8,0,0,1,0-16H67.36L97.05,68a8,8,0,0,1,14.3.82L153,166.08l24-42.05a8,8,0,0,1,6.95-4h24a8,8,0,0,1,0,16Z"}))],["light",O.createElement(O.Fragment,null,O.createElement("path",{d:"M238,128a6,6,0,0,1-6,6H203.71l-38.34,76.68A6,6,0,0,1,160,214h-.3a6,6,0,0,1-5.31-3.85L95.51,55.57,61.46,130.48A6,6,0,0,1,56,134H24a6,6,0,0,1,0-12H52.14l38.4-84.48a6,6,0,0,1,11.07.34L160.74,193.1l33.89-67.78A6,6,0,0,1,200,122h32A6,6,0,0,1,238,128Z"}))],["regular",O.createElement(O.Fragment,null,O.createElement("path",{d:"M240,128a8,8,0,0,1-8,8H204.94l-37.78,75.58A8,8,0,0,1,160,216h-.4a8,8,0,0,1-7.08-5.14L95.35,60.76,63.28,131.31A8,8,0,0,1,56,136H24a8,8,0,0,1,0-16H50.85L88.72,36.69a8,8,0,0,1,14.76.46l57.51,151,31.85-63.71A8,8,0,0,1,200,120h32A8,8,0,0,1,240,128Z"}))],["thin",O.createElement(O.Fragment,null,O.createElement("path",{d:"M236,128a4,4,0,0,1-4,4H202.47l-38.89,77.79A4,4,0,0,1,160,212h-.2a4,4,0,0,1-3.54-2.58l-60.59-159-36,79.28A4,4,0,0,1,56,132H24a4,4,0,0,1,0-8H53.42L92.36,38.35a4,4,0,0,1,7.38.23L160.5,198.06l35.92-71.85A4,4,0,0,1,200,124h32A4,4,0,0,1,236,128Z"}))]]),Br=new Map([["bold",O.createElement(O.Fragment,null,O.createElement("path",{d:"M156,228a12,12,0,0,1-12,12H112a12,12,0,0,1,0-24h32A12,12,0,0,1,156,228ZM128,116a16,16,0,1,0-16-16A16,16,0,0,0,128,116Zm99.53,40.7-12.36,55.63a19.9,19.9,0,0,1-12.88,14.53A20.16,20.16,0,0,1,195.6,228a19.87,19.87,0,0,1-12.29-4.27L157.17,204H98.83L72.69,223.74A19.87,19.87,0,0,1,60.4,228a20.16,20.16,0,0,1-6.69-1.15,19.9,19.9,0,0,1-12.88-14.53L28.47,156.7a20.1,20.1,0,0,1,4.16-17.14l27.83-33.4A127,127,0,0,1,69.11,69.7c13.27-33.25,37-54.1,46.64-61.52a20,20,0,0,1,24.5,0c9.6,7.42,33.37,28.27,46.64,61.52a127,127,0,0,1,8.65,36.46l27.83,33.4A20.1,20.1,0,0,1,227.53,156.7ZM101.79,180h52.42c19.51-35.7,23-69.78,10.39-101.4C154.4,53,136.2,35.9,128,29.12,119.8,35.9,101.6,53,91.4,78.6,78.78,110.22,82.28,144.3,101.79,180Zm-22.55,8.72a168,168,0,0,1-16.92-47.3l-10,12,10.58,47.64Zm124.43-35.31-10-12a168,168,0,0,1-16.92,47.3l16.33,12.33Z"}))],["duotone",O.createElement(O.Fragment,null,O.createElement("path",{d:"M94.81,192,65.36,214.24a8,8,0,0,1-12.81-4.51L40.19,154.1a8,8,0,0,1,1.66-6.86l30.31-36.33C71,134.25,76.7,161.43,94.81,192Zm119.34-44.76-30.31-36.33c1.21,23.34-4.54,50.52-22.65,81.09l29.45,22.24a8,8,0,0,0,12.81-4.51l12.36-55.63A8,8,0,0,0,214.15,147.24Z",opacity:"0.2"}),O.createElement("path",{d:"M152,224a8,8,0,0,1-8,8H112a8,8,0,0,1,0-16h32A8,8,0,0,1,152,224ZM128,112a12,12,0,1,0-12-12A12,12,0,0,0,128,112Zm95.62,43.83-12.36,55.63a16,16,0,0,1-25.51,9.11L158.51,200h-61L70.25,220.57a16,16,0,0,1-25.51-9.11L32.38,155.83a16.09,16.09,0,0,1,3.32-13.71l28.56-34.26a123.07,123.07,0,0,1,8.57-36.67c12.9-32.34,36-52.63,45.37-59.85a16,16,0,0,1,19.6,0c9.34,7.22,32.47,27.51,45.37,59.85a123.07,123.07,0,0,1,8.57,36.67l28.56,34.26A16.09,16.09,0,0,1,223.62,155.83ZM99.43,184h57.14c21.12-37.54,25.07-73.48,11.74-106.88C156.55,47.64,134.49,29,128,24c-6.51,5-28.57,23.64-40.33,53.12C74.36,110.52,78.31,146.46,99.43,184Zm-15,5.85Q68.28,160.5,64.83,132.16L48,152.36,60.36,208l.18-.13ZM208,152.36l-16.83-20.2q-3.42,28.28-19.56,57.69l23.85,18,.18.13Z"}))],["fill",O.createElement(O.Fragment,null,O.createElement("path",{d:"M152,224a8,8,0,0,1-8,8H112a8,8,0,0,1,0-16h32A8,8,0,0,1,152,224Zm71.62-68.17-12.36,55.63a16,16,0,0,1-25.51,9.11L158.51,200h-61L70.25,220.57a16,16,0,0,1-25.51-9.11L32.38,155.83a16.09,16.09,0,0,1,3.32-13.71l28.56-34.26a123.07,123.07,0,0,1,8.57-36.67c12.9-32.34,36-52.63,45.37-59.85a16,16,0,0,1,19.6,0c9.34,7.22,32.47,27.51,45.37,59.85a123.07,123.07,0,0,1,8.57,36.67l28.56,34.26A16.09,16.09,0,0,1,223.62,155.83Zm-139.23,34Q68.28,160.5,64.83,132.16L48,152.36,60.36,208l.18-.13ZM140,100a12,12,0,1,0-12,12A12,12,0,0,0,140,100Zm68,52.36-16.83-20.2q-3.42,28.28-19.56,57.69l23.85,18,.18.13Z"}))],["light",O.createElement(O.Fragment,null,O.createElement("path",{d:"M150,224a6,6,0,0,1-6,6H112a6,6,0,0,1,0-12h32A6,6,0,0,1,150,224ZM128,110a10,10,0,1,0-10-10A10,10,0,0,0,128,110Zm93.67,45.4L209.31,211A14,14,0,0,1,187,219l-27.79-21H96.82L69,219a14,14,0,0,1-22.34-8L34.33,155.4a14.06,14.06,0,0,1,2.91-12l29-34.76a121.28,121.28,0,0,1,8.48-36.71c12.72-31.88,35.52-51.88,44.73-59a14,14,0,0,1,17.16,0c9.21,7.12,32,27.12,44.73,59a121.28,121.28,0,0,1,8.48,36.71l29,34.76A14.06,14.06,0,0,1,221.67,155.4ZM98.26,186h59.48c21.93-38.46,26.12-75.33,12.43-109.62-11.95-30-34.35-48.87-40.93-54a2,2,0,0,0-2.48,0c-6.58,5.09-29,24-40.93,54C72.14,110.67,76.33,147.54,98.26,186ZM87,190.4c-12-21.49-18.9-42.6-20.62-63.19L46.46,151.08a2,2,0,0,0-.42,1.71l12.37,55.64a2,2,0,0,0,3.2,1.13l.13-.11Zm122.57-39.32-19.89-23.87c-1.72,20.59-8.6,41.7-20.62,63.19l25.23,19,.13.11a2,2,0,0,0,3.2-1.13L210,152.79A2,2,0,0,0,209.54,151.08Z"}))],["regular",O.createElement(O.Fragment,null,O.createElement("path",{d:"M152,224a8,8,0,0,1-8,8H112a8,8,0,0,1,0-16h32A8,8,0,0,1,152,224ZM128,112a12,12,0,1,0-12-12A12,12,0,0,0,128,112Zm95.62,43.83-12.36,55.63a16,16,0,0,1-25.51,9.11L158.51,200h-61L70.25,220.57a16,16,0,0,1-25.51-9.11L32.38,155.83a16.09,16.09,0,0,1,3.32-13.71l28.56-34.26a123.07,123.07,0,0,1,8.57-36.67c12.9-32.34,36-52.63,45.37-59.85a16,16,0,0,1,19.6,0c9.34,7.22,32.47,27.51,45.37,59.85a123.07,123.07,0,0,1,8.57,36.67l28.56,34.26A16.09,16.09,0,0,1,223.62,155.83ZM99.43,184h57.14c21.12-37.54,25.07-73.48,11.74-106.88C156.55,47.64,134.49,29,128,24c-6.51,5-28.57,23.64-40.33,53.12C74.36,110.52,78.31,146.46,99.43,184Zm-15,5.85Q68.28,160.5,64.83,132.16L48,152.36,60.36,208l.18-.13ZM208,152.36l-16.83-20.2q-3.42,28.28-19.56,57.69l23.85,18,.18.13Z"}))],["thin",O.createElement(O.Fragment,null,O.createElement("path",{d:"M148,224a4,4,0,0,1-4,4H112a4,4,0,0,1,0-8h32A4,4,0,0,1,148,224ZM128,108a8,8,0,1,0-8-8A8,8,0,0,0,128,108Zm91.72,47L207.35,210.6a11.9,11.9,0,0,1-7.72,8.71,12.17,12.17,0,0,1-4,.69,11.94,11.94,0,0,1-7.43-2.6L159.85,196H96.15L67.81,217.4a11.94,11.94,0,0,1-7.43,2.6,12.17,12.17,0,0,1-4-.69,11.9,11.9,0,0,1-7.72-8.71L36.28,155a12,12,0,0,1,2.5-10.28l29.35-35.23c3.3-53.33,41.83-86.68,52.52-94.94a12,12,0,0,1,14.7,0c10.69,8.26,49.22,41.61,52.52,94.94l29.35,35.23A12,12,0,0,1,219.72,155ZM97.11,188h61.78C214.07,92.49,145,32.05,130.46,20.84a4,4,0,0,0-4.92,0C111,32.05,41.93,92.49,97.11,188Zm-7.52,2.93C75.12,165.56,68.93,142.52,68,122.06L44.92,149.8a4,4,0,0,0-.83,3.43l12.36,55.63a4,4,0,0,0,6.41,2.26l.09-.07ZM211.08,149.8,188,122.06c-.89,20.46-7.08,43.5-21.55,68.87l26.64,20.12.09.07a4,4,0,0,0,6.41-2.26l12.36-55.63A4,4,0,0,0,211.08,149.8Z"}))]]),Hr=new Map([["bold",O.createElement(O.Fragment,null,O.createElement("path",{d:"M227.85,46.89a20,20,0,0,0-18.74-18.74c-13.13-.77-46.65.42-74.48,28.24L131,60H74.36a19.83,19.83,0,0,0-14.14,5.86L25.87,100.19a20,20,0,0,0,11.35,33.95l37.14,5.18,42.32,42.32,5.19,37.18A19.88,19.88,0,0,0,135.34,235a20.13,20.13,0,0,0,6.37,1,19.9,19.9,0,0,0,14.1-5.87l34.34-34.35A19.85,19.85,0,0,0,196,181.64V125l3.6-3.59C227.43,93.54,228.62,60,227.85,46.89ZM76,84h31L75.75,115.28l-27.23-3.8ZM151.6,73.37A72.27,72.27,0,0,1,204,52a72.17,72.17,0,0,1-21.38,52.41L128,159,97,128ZM172,180l-27.49,27.49-3.8-27.23L172,149Zm-72,22c-8.71,11.85-26.19,26-60,26a12,12,0,0,1-12-12c0-33.84,14.12-51.32,26-60A12,12,0,1,1,68.18,175.3C62.3,179.63,55.51,187.8,53,203c15.21-2.51,23.37-9.3,27.7-15.18A12,12,0,1,1,100,202Z"}))],["duotone",O.createElement(O.Fragment,null,O.createElement("path",{d:"M184,120v61.65a8,8,0,0,1-2.34,5.65l-34.35,34.35a8,8,0,0,1-13.57-4.53L128,176ZM136,72H74.35a8,8,0,0,0-5.65,2.34L34.35,108.69a8,8,0,0,0,4.53,13.57L80,128ZM40,216c37.65,0,50.69-19.69,54.56-28.18L68.18,161.44C59.69,165.31,40,178.35,40,216Z",opacity:"0.2"}),O.createElement("path",{d:"M223.85,47.12a16,16,0,0,0-15-15c-12.58-.75-44.73.4-71.41,27.07L132.69,64H74.36A15.91,15.91,0,0,0,63,68.68L28.7,103a16,16,0,0,0,9.07,27.16l38.47,5.37,44.21,44.21,5.37,38.49a15.94,15.94,0,0,0,10.78,12.92,16.11,16.11,0,0,0,5.1.83A15.91,15.91,0,0,0,153,227.3L187.32,193A15.91,15.91,0,0,0,192,181.64V123.31l4.77-4.77C223.45,91.86,224.6,59.71,223.85,47.12ZM74.36,80h42.33L77.16,119.52,40,114.34Zm74.41-9.45a76.65,76.65,0,0,1,59.11-22.47,76.46,76.46,0,0,1-22.42,59.16L128,164.68,91.32,128ZM176,181.64,141.67,216l-5.19-37.17L176,139.31Zm-74.16,9.5C97.34,201,82.29,224,40,224a8,8,0,0,1-8-8c0-42.29,23-57.34,32.86-61.85a8,8,0,0,1,6.64,14.56c-6.43,2.93-20.62,12.36-23.12,38.91,26.55-2.5,36-16.69,38.91-23.12a8,8,0,1,1,14.56,6.64Z"}))],["fill",O.createElement(O.Fragment,null,O.createElement("path",{d:"M101.85,191.14C97.34,201,82.29,224,40,224a8,8,0,0,1-8-8c0-42.29,23-57.34,32.86-61.85a8,8,0,0,1,6.64,14.56c-6.43,2.93-20.62,12.36-23.12,38.91,26.55-2.5,36-16.69,38.91-23.12a8,8,0,1,1,14.56,6.64Zm122-144a16,16,0,0,0-15-15c-12.58-.75-44.73.4-71.4,27.07h0L88,108.7A8,8,0,0,1,76.67,97.39l26.56-26.57A4,4,0,0,0,100.41,64H74.35A15.9,15.9,0,0,0,63,68.68L28.7,103a16,16,0,0,0,9.07,27.16l38.47,5.37,44.21,44.21,5.37,38.49a15.94,15.94,0,0,0,10.78,12.92,16.11,16.11,0,0,0,5.1.83A15.91,15.91,0,0,0,153,227.3L187.32,193A16,16,0,0,0,192,181.65V155.59a4,4,0,0,0-6.83-2.82l-26.57,26.56a8,8,0,0,1-11.71-.42,8.2,8.2,0,0,1,.6-11.1l49.27-49.27h0C223.45,91.86,224.6,59.71,223.85,47.12Z"}))],["light",O.createElement(O.Fragment,null,O.createElement("path",{d:"M221.86,47.24a14,14,0,0,0-13.11-13.1c-12.31-.73-43.77.39-69.88,26.5L133.52,66H74.35a13.9,13.9,0,0,0-9.89,4.1L30.11,104.44a14,14,0,0,0,7.94,23.76l39.13,5.46,45.16,45.16L127.8,218a14,14,0,0,0,23.76,7.92l34.35-34.35a13.91,13.91,0,0,0,4.1-9.89V122.48l5.35-5.35h0C221.46,91,222.59,59.56,221.86,47.24ZM38.11,115a2,2,0,0,1,.49-2L72.94,78.58A2,2,0,0,1,74.35,78h47.17L77.87,121.64l-38.14-5.32A1.93,1.93,0,0,1,38.11,115ZM178,181.65a2,2,0,0,1-.59,1.41L143.08,217.4a2,2,0,0,1-3.4-1.11l-5.32-38.16L178,134.48Zm8.87-73h0L128,167.51,88.49,128l58.87-58.88a78.47,78.47,0,0,1,60.69-23A2,2,0,0,1,209.88,48,78.47,78.47,0,0,1,186.88,108.64ZM100,190.31C95.68,199.84,81.13,222,40,222a6,6,0,0,1-6-6c0-41.13,22.16-55.68,31.69-60a6,6,0,1,1,5,10.92c-7,3.17-22.53,13.52-24.47,42.91,29.39-1.94,39.74-17.52,42.91-24.47a6,6,0,1,1,10.92,5Z"}))],["regular",O.createElement(O.Fragment,null,O.createElement("path",{d:"M223.85,47.12a16,16,0,0,0-15-15c-12.58-.75-44.73.4-71.41,27.07L132.69,64H74.36A15.91,15.91,0,0,0,63,68.68L28.7,103a16,16,0,0,0,9.07,27.16l38.47,5.37,44.21,44.21,5.37,38.49a15.94,15.94,0,0,0,10.78,12.92,16.11,16.11,0,0,0,5.1.83A15.91,15.91,0,0,0,153,227.3L187.32,193A15.91,15.91,0,0,0,192,181.64V123.31l4.77-4.77C223.45,91.86,224.6,59.71,223.85,47.12ZM74.36,80h42.33L77.16,119.52,40,114.34Zm74.41-9.45a76.65,76.65,0,0,1,59.11-22.47,76.46,76.46,0,0,1-22.42,59.16L128,164.68,91.32,128ZM176,181.64,141.67,216l-5.19-37.17L176,139.31Zm-74.16,9.5C97.34,201,82.29,224,40,224a8,8,0,0,1-8-8c0-42.29,23-57.34,32.86-61.85a8,8,0,0,1,6.64,14.56c-6.43,2.93-20.62,12.36-23.12,38.91,26.55-2.5,36-16.69,38.91-23.12a8,8,0,1,1,14.56,6.64Z"}))],["thin",O.createElement(O.Fragment,null,O.createElement("path",{d:"M219.86,47.36a12,12,0,0,0-11.22-11.22c-12-.71-42.82.38-68.35,25.91L134.35,68h-60a11.9,11.9,0,0,0-8.48,3.52L31.52,105.85a12,12,0,0,0,6.81,20.37l39.79,5.55,46.11,46.11,5.55,39.81a12,12,0,0,0,20.37,6.79l34.34-34.35a11.9,11.9,0,0,0,3.52-8.48v-60l5.94-5.94C219.48,90.18,220.57,59.41,219.86,47.36ZM36.21,115.6a3.94,3.94,0,0,1,1-4.09L71.53,77.17A4,4,0,0,1,74.35,76h52L78.58,123.76,39.44,118.3A3.94,3.94,0,0,1,36.21,115.6ZM180,181.65a4,4,0,0,1-1.17,2.83l-34.35,34.34a4,4,0,0,1-6.79-2.25l-5.46-39.15L180,129.65Zm-52-11.31L85.66,128l60.28-60.29c23.24-23.24,51.25-24.23,62.22-23.58a3.93,3.93,0,0,1,3.71,3.71c.65,11-.35,39-23.58,62.22ZM98.21,189.48C94,198.66,80,220,40,220a4,4,0,0,1-4-4c0-40,21.34-54,30.52-58.21a4,4,0,0,1,3.32,7.28c-7.46,3.41-24.43,14.66-25.76,46.85,32.19-1.33,43.44-18.3,46.85-25.76a4,4,0,1,1,7.28,3.32Z"}))]]),Ur=new Map([["bold",O.createElement(O.Fragment,null,O.createElement("path",{d:"M208,36H48A20,20,0,0,0,28,56v56c0,54.29,26.32,87.22,48.4,105.29,23.71,19.39,47.44,26,48.44,26.29a12.1,12.1,0,0,0,6.32,0c1-.28,24.73-6.9,48.44-26.29,22.08-18.07,48.4-51,48.4-105.29V56A20,20,0,0,0,208,36Zm-4,76c0,35.71-13.09,64.69-38.91,86.15A126.28,126.28,0,0,1,128,219.38a126.14,126.14,0,0,1-37.09-21.23C65.09,176.69,52,147.71,52,112V60H204ZM79.51,144.49a12,12,0,1,1,17-17L112,143l47.51-47.52a12,12,0,0,1,17,17l-56,56a12,12,0,0,1-17,0Z"}))],["duotone",O.createElement(O.Fragment,null,O.createElement("path",{d:"M216,56v56c0,96-88,120-88,120S40,208,40,112V56a8,8,0,0,1,8-8H208A8,8,0,0,1,216,56Z",opacity:"0.2"}),O.createElement("path",{d:"M208,40H48A16,16,0,0,0,32,56v56c0,52.72,25.52,84.67,46.93,102.19,23.06,18.86,46,25.26,47,25.53a8,8,0,0,0,4.2,0c1-.27,23.91-6.67,47-25.53C198.48,196.67,224,164.72,224,112V56A16,16,0,0,0,208,40Zm0,72c0,37.07-13.66,67.16-40.6,89.42A129.3,129.3,0,0,1,128,223.62a128.25,128.25,0,0,1-38.92-21.81C61.82,179.51,48,149.3,48,112l0-56,160,0ZM82.34,141.66a8,8,0,0,1,11.32-11.32L112,148.69l50.34-50.35a8,8,0,0,1,11.32,11.32l-56,56a8,8,0,0,1-11.32,0Z"}))],["fill",O.createElement(O.Fragment,null,O.createElement("path",{d:"M208,40H48A16,16,0,0,0,32,56v56c0,52.72,25.52,84.67,46.93,102.19,23.06,18.86,46,25.26,47,25.53a8,8,0,0,0,4.2,0c1-.27,23.91-6.67,47-25.53C198.48,196.67,224,164.72,224,112V56A16,16,0,0,0,208,40Zm-34.32,69.66-56,56a8,8,0,0,1-11.32,0l-24-24a8,8,0,0,1,11.32-11.32L112,148.69l50.34-50.35a8,8,0,0,1,11.32,11.32Z"}))],["light",O.createElement(O.Fragment,null,O.createElement("path",{d:"M208,42H48A14,14,0,0,0,34,56v56c0,51.94,25.12,83.4,46.2,100.64,22.73,18.6,45.27,24.89,46.22,25.15a6,6,0,0,0,3.16,0c.95-.26,23.49-6.55,46.22-25.15C196.88,195.4,222,163.94,222,112V56A14,14,0,0,0,208,42Zm2,70c0,37.76-13.94,68.39-41.44,91.06A131.17,131.17,0,0,1,128,225.72a130.94,130.94,0,0,1-40.56-22.66C59.94,180.39,46,149.76,46,112V56a2,2,0,0,1,2-2H208a2,2,0,0,1,2,2ZM172.24,99.76a6,6,0,0,1,0,8.48l-56,56a6,6,0,0,1-8.48,0l-24-24a6,6,0,0,1,8.48-8.48L112,151.51l51.76-51.75A6,6,0,0,1,172.24,99.76Z"}))],["regular",O.createElement(O.Fragment,null,O.createElement("path",{d:"M208,40H48A16,16,0,0,0,32,56v56c0,52.72,25.52,84.67,46.93,102.19,23.06,18.86,46,25.26,47,25.53a8,8,0,0,0,4.2,0c1-.27,23.91-6.67,47-25.53C198.48,196.67,224,164.72,224,112V56A16,16,0,0,0,208,40Zm0,72c0,37.07-13.66,67.16-40.6,89.42A129.3,129.3,0,0,1,128,223.62a128.25,128.25,0,0,1-38.92-21.81C61.82,179.51,48,149.3,48,112l0-56,160,0ZM82.34,141.66a8,8,0,0,1,11.32-11.32L112,148.69l50.34-50.35a8,8,0,0,1,11.32,11.32l-56,56a8,8,0,0,1-11.32,0Z"}))],["thin",O.createElement(O.Fragment,null,O.createElement("path",{d:"M208,44H48A12,12,0,0,0,36,56v56c0,51.16,24.73,82.12,45.47,99.1,22.4,18.32,44.55,24.5,45.48,24.76a4,4,0,0,0,2.1,0c.93-.26,23.08-6.44,45.48-24.76,20.74-17,45.47-47.94,45.47-99.1V56A12,12,0,0,0,208,44Zm4,68c0,38.44-14.23,69.63-42.29,92.71A132.45,132.45,0,0,1,128,227.82a132.23,132.23,0,0,1-41.71-23.11C58.23,181.63,44,150.44,44,112V56a4,4,0,0,1,4-4H208a4,4,0,0,1,4,4Zm-41.17-10.83a4,4,0,0,1,0,5.66l-56,56a4,4,0,0,1-5.66,0l-24-24a4,4,0,0,1,5.66-5.66L112,154.34l53.17-53.17A4,4,0,0,1,170.83,101.17Z"}))]]),Wr=new Map([["bold",O.createElement(O.Fragment,null,O.createElement("path",{d:"M199,125.31l-49.88-18.39L130.69,57a19.92,19.92,0,0,0-37.38,0L74.92,106.92,25,125.31a19.92,19.92,0,0,0,0,37.38l49.88,18.39L93.31,231a19.92,19.92,0,0,0,37.38,0l18.39-49.88L199,162.69a19.92,19.92,0,0,0,0-37.38Zm-63.38,35.16a12,12,0,0,0-7.11,7.11L112,212.28l-16.47-44.7a12,12,0,0,0-7.11-7.11L43.72,144l44.7-16.47a12,12,0,0,0,7.11-7.11L112,75.72l16.47,44.7a12,12,0,0,0,7.11,7.11L180.28,144ZM140,40a12,12,0,0,1,12-12h12V16a12,12,0,0,1,24,0V28h12a12,12,0,0,1,0,24H188V64a12,12,0,0,1-24,0V52H152A12,12,0,0,1,140,40ZM252,88a12,12,0,0,1-12,12h-4v4a12,12,0,0,1-24,0v-4h-4a12,12,0,0,1,0-24h4V72a12,12,0,0,1,24,0v4h4A12,12,0,0,1,252,88Z"}))],["duotone",O.createElement(O.Fragment,null,O.createElement("path",{d:"M194.82,151.43l-55.09,20.3-20.3,55.09a7.92,7.92,0,0,1-14.86,0l-20.3-55.09-55.09-20.3a7.92,7.92,0,0,1,0-14.86l55.09-20.3,20.3-55.09a7.92,7.92,0,0,1,14.86,0l20.3,55.09,55.09,20.3A7.92,7.92,0,0,1,194.82,151.43Z",opacity:"0.2"}),O.createElement("path",{d:"M197.58,129.06,146,110l-19-51.62a15.92,15.92,0,0,0-29.88,0L78,110l-51.62,19a15.92,15.92,0,0,0,0,29.88L78,178l19,51.62a15.92,15.92,0,0,0,29.88,0L146,178l51.62-19a15.92,15.92,0,0,0,0-29.88ZM137,164.22a8,8,0,0,0-4.74,4.74L112,223.85,91.78,169A8,8,0,0,0,87,164.22L32.15,144,87,123.78A8,8,0,0,0,91.78,119L112,64.15,132.22,119a8,8,0,0,0,4.74,4.74L191.85,144ZM144,40a8,8,0,0,1,8-8h16V16a8,8,0,0,1,16,0V32h16a8,8,0,0,1,0,16H184V64a8,8,0,0,1-16,0V48H152A8,8,0,0,1,144,40ZM248,88a8,8,0,0,1-8,8h-8v8a8,8,0,0,1-16,0V96h-8a8,8,0,0,1,0-16h8V72a8,8,0,0,1,16,0v8h8A8,8,0,0,1,248,88Z"}))],["fill",O.createElement(O.Fragment,null,O.createElement("path",{d:"M208,144a15.78,15.78,0,0,1-10.42,14.94L146,178l-19,51.62a15.92,15.92,0,0,1-29.88,0L78,178l-51.62-19a15.92,15.92,0,0,1,0-29.88L78,110l19-51.62a15.92,15.92,0,0,1,29.88,0L146,110l51.62,19A15.78,15.78,0,0,1,208,144ZM152,48h16V64a8,8,0,0,0,16,0V48h16a8,8,0,0,0,0-16H184V16a8,8,0,0,0-16,0V32H152a8,8,0,0,0,0,16Zm88,32h-8V72a8,8,0,0,0-16,0v8h-8a8,8,0,0,0,0,16h8v8a8,8,0,0,0,16,0V96h8a8,8,0,0,0,0-16Z"}))],["light",O.createElement(O.Fragment,null,O.createElement("path",{d:"M196.89,130.94,144.4,111.6,125.06,59.11a13.92,13.92,0,0,0-26.12,0L79.6,111.6,27.11,130.94a13.92,13.92,0,0,0,0,26.12L79.6,176.4l19.34,52.49a13.92,13.92,0,0,0,26.12,0L144.4,176.4l52.49-19.34a13.92,13.92,0,0,0,0-26.12Zm-4.15,14.86-55.08,20.3a6,6,0,0,0-3.56,3.56l-20.3,55.08a1.92,1.92,0,0,1-3.6,0L89.9,169.66a6,6,0,0,0-3.56-3.56L31.26,145.8a1.92,1.92,0,0,1,0-3.6l55.08-20.3a6,6,0,0,0,3.56-3.56l20.3-55.08a1.92,1.92,0,0,1,3.6,0l20.3,55.08a6,6,0,0,0,3.56,3.56l55.08,20.3a1.92,1.92,0,0,1,0,3.6ZM146,40a6,6,0,0,1,6-6h18V16a6,6,0,0,1,12,0V34h18a6,6,0,0,1,0,12H182V64a6,6,0,0,1-12,0V46H152A6,6,0,0,1,146,40ZM246,88a6,6,0,0,1-6,6H230v10a6,6,0,0,1-12,0V94H208a6,6,0,0,1,0-12h10V72a6,6,0,0,1,12,0V82h10A6,6,0,0,1,246,88Z"}))],["regular",O.createElement(O.Fragment,null,O.createElement("path",{d:"M197.58,129.06,146,110l-19-51.62a15.92,15.92,0,0,0-29.88,0L78,110l-51.62,19a15.92,15.92,0,0,0,0,29.88L78,178l19,51.62a15.92,15.92,0,0,0,29.88,0L146,178l51.62-19a15.92,15.92,0,0,0,0-29.88ZM137,164.22a8,8,0,0,0-4.74,4.74L112,223.85,91.78,169A8,8,0,0,0,87,164.22L32.15,144,87,123.78A8,8,0,0,0,91.78,119L112,64.15,132.22,119a8,8,0,0,0,4.74,4.74L191.85,144ZM144,40a8,8,0,0,1,8-8h16V16a8,8,0,0,1,16,0V32h16a8,8,0,0,1,0,16H184V64a8,8,0,0,1-16,0V48H152A8,8,0,0,1,144,40ZM248,88a8,8,0,0,1-8,8h-8v8a8,8,0,0,1-16,0V96h-8a8,8,0,0,1,0-16h8V72a8,8,0,0,1,16,0v8h8A8,8,0,0,1,248,88Z"}))],["thin",O.createElement(O.Fragment,null,O.createElement("path",{d:"M196.2,132.81l-53.36-19.65L123.19,59.8a11.93,11.93,0,0,0-22.38,0L81.16,113.16,27.8,132.81a11.93,11.93,0,0,0,0,22.38l53.36,19.65,19.65,53.36a11.93,11.93,0,0,0,22.38,0l19.65-53.36,53.36-19.65a11.93,11.93,0,0,0,0-22.38Zm-2.77,14.87L138.35,168a4,4,0,0,0-2.37,2.37l-20.3,55.08a3.92,3.92,0,0,1-7.36,0L88,170.35A4,4,0,0,0,85.65,168l-55.08-20.3a3.92,3.92,0,0,1,0-7.36L85.65,120A4,4,0,0,0,88,117.65l20.3-55.08a3.92,3.92,0,0,1,7.36,0L136,117.65a4,4,0,0,0,2.37,2.37l55.08,20.3a3.92,3.92,0,0,1,0,7.36ZM148,40a4,4,0,0,1,4-4h20V16a4,4,0,0,1,8,0V36h20a4,4,0,0,1,0,8H180V64a4,4,0,0,1-8,0V44H152A4,4,0,0,1,148,40Zm96,48a4,4,0,0,1-4,4H228v12a4,4,0,0,1-8,0V92H208a4,4,0,0,1,0-8h12V72a4,4,0,0,1,8,0V84h12A4,4,0,0,1,244,88Z"}))]]),Zr=new Map([["bold",O.createElement(O.Fragment,null,O.createElement("path",{d:"M140,32V64a12,12,0,0,1-24,0V32a12,12,0,0,1,24,0Zm33.25,62.75a12,12,0,0,0,8.49-3.52L204.37,68.6a12,12,0,0,0-17-17L164.77,74.26a12,12,0,0,0,8.48,20.49ZM224,116H192a12,12,0,0,0,0,24h32a12,12,0,0,0,0-24Zm-42.26,48.77a12,12,0,1,0-17,17l22.63,22.63a12,12,0,0,0,17-17ZM128,180a12,12,0,0,0-12,12v32a12,12,0,0,0,24,0V192A12,12,0,0,0,128,180ZM74.26,164.77,51.63,187.4a12,12,0,0,0,17,17l22.63-22.63a12,12,0,1,0-17-17ZM76,128a12,12,0,0,0-12-12H32a12,12,0,0,0,0,24H64A12,12,0,0,0,76,128ZM68.6,51.63a12,12,0,1,0-17,17L74.26,91.23a12,12,0,0,0,17-17Z"}))],["duotone",O.createElement(O.Fragment,null,O.createElement("path",{d:"M224,128a96,96,0,1,1-96-96A96,96,0,0,1,224,128Z",opacity:"0.2"}),O.createElement("path",{d:"M136,32V64a8,8,0,0,1-16,0V32a8,8,0,0,1,16,0Zm37.25,58.75a8,8,0,0,0,5.66-2.35l22.63-22.62a8,8,0,0,0-11.32-11.32L167.6,77.09a8,8,0,0,0,5.65,13.66ZM224,120H192a8,8,0,0,0,0,16h32a8,8,0,0,0,0-16Zm-45.09,47.6a8,8,0,0,0-11.31,11.31l22.62,22.63a8,8,0,0,0,11.32-11.32ZM128,184a8,8,0,0,0-8,8v32a8,8,0,0,0,16,0V192A8,8,0,0,0,128,184ZM77.09,167.6,54.46,190.22a8,8,0,0,0,11.32,11.32L88.4,178.91A8,8,0,0,0,77.09,167.6ZM72,128a8,8,0,0,0-8-8H32a8,8,0,0,0,0,16H64A8,8,0,0,0,72,128ZM65.78,54.46A8,8,0,0,0,54.46,65.78L77.09,88.4A8,8,0,0,0,88.4,77.09Z"}))],["fill",O.createElement(O.Fragment,null,O.createElement("path",{d:"M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm33.94,58.75,17-17a8,8,0,0,1,11.32,11.32l-17,17a8,8,0,0,1-11.31-11.31ZM48,136a8,8,0,0,1,0-16H72a8,8,0,0,1,0,16Zm46.06,37.25-17,17a8,8,0,0,1-11.32-11.32l17-17a8,8,0,0,1,11.31,11.31Zm0-79.19a8,8,0,0,1-11.31,0l-17-17A8,8,0,0,1,77.09,65.77l17,17A8,8,0,0,1,94.06,94.06ZM136,208a8,8,0,0,1-16,0V184a8,8,0,0,1,16,0Zm0-136a8,8,0,0,1-16,0V48a8,8,0,0,1,16,0Zm54.23,118.23a8,8,0,0,1-11.32,0l-17-17a8,8,0,0,1,11.31-11.31l17,17A8,8,0,0,1,190.23,190.23ZM208,136H184a8,8,0,0,1,0-16h24a8,8,0,0,1,0,16Z"}))],["light",O.createElement(O.Fragment,null,O.createElement("path",{d:"M134,32V64a6,6,0,0,1-12,0V32a6,6,0,0,1,12,0Zm39.25,56.75A6,6,0,0,0,177.5,87l22.62-22.63a6,6,0,0,0-8.48-8.48L169,78.5a6,6,0,0,0,4.24,10.25ZM224,122H192a6,6,0,0,0,0,12h32a6,6,0,0,0,0-12Zm-46.5,47A6,6,0,0,0,169,177.5l22.63,22.62a6,6,0,0,0,8.48-8.48ZM128,186a6,6,0,0,0-6,6v32a6,6,0,0,0,12,0V192A6,6,0,0,0,128,186ZM78.5,169,55.88,191.64a6,6,0,1,0,8.48,8.48L87,177.5A6,6,0,1,0,78.5,169ZM70,128a6,6,0,0,0-6-6H32a6,6,0,0,0,0,12H64A6,6,0,0,0,70,128ZM64.36,55.88a6,6,0,0,0-8.48,8.48L78.5,87A6,6,0,1,0,87,78.5Z"}))],["regular",O.createElement(O.Fragment,null,O.createElement("path",{d:"M136,32V64a8,8,0,0,1-16,0V32a8,8,0,0,1,16,0Zm37.25,58.75a8,8,0,0,0,5.66-2.35l22.63-22.62a8,8,0,0,0-11.32-11.32L167.6,77.09a8,8,0,0,0,5.65,13.66ZM224,120H192a8,8,0,0,0,0,16h32a8,8,0,0,0,0-16Zm-45.09,47.6a8,8,0,0,0-11.31,11.31l22.62,22.63a8,8,0,0,0,11.32-11.32ZM128,184a8,8,0,0,0-8,8v32a8,8,0,0,0,16,0V192A8,8,0,0,0,128,184ZM77.09,167.6,54.46,190.22a8,8,0,0,0,11.32,11.32L88.4,178.91A8,8,0,0,0,77.09,167.6ZM72,128a8,8,0,0,0-8-8H32a8,8,0,0,0,0,16H64A8,8,0,0,0,72,128ZM65.78,54.46A8,8,0,0,0,54.46,65.78L77.09,88.4A8,8,0,0,0,88.4,77.09Z"}))],["thin",O.createElement(O.Fragment,null,O.createElement("path",{d:"M132,32V64a4,4,0,0,1-8,0V32a4,4,0,0,1,8,0Zm41.25,54.75a4,4,0,0,0,2.83-1.18L198.71,63a4,4,0,0,0-5.66-5.66L170.43,79.92a4,4,0,0,0,2.82,6.83ZM224,124H192a4,4,0,0,0,0,8h32a4,4,0,0,0,0-8Zm-47.92,46.43a4,4,0,1,0-5.65,5.65l22.62,22.63a4,4,0,0,0,5.66-5.66ZM128,188a4,4,0,0,0-4,4v32a4,4,0,0,0,8,0V192A4,4,0,0,0,128,188ZM79.92,170.43,57.29,193.05A4,4,0,0,0,63,198.71l22.62-22.63a4,4,0,1,0-5.65-5.65ZM68,128a4,4,0,0,0-4-4H32a4,4,0,0,0,0,8H64A4,4,0,0,0,68,128ZM63,57.29A4,4,0,0,0,57.29,63L79.92,85.57a4,4,0,1,0,5.65-5.65Z"}))]]),Gr=new Map([["bold",O.createElement(O.Fragment,null,O.createElement("path",{d:"M243,96a20.33,20.33,0,0,0-17.74-14l-56.59-4.57L146.83,24.62a20.36,20.36,0,0,0-37.66,0L87.35,77.44,30.76,82A20.45,20.45,0,0,0,19.1,117.88l43.18,37.24-13.2,55.7A20.37,20.37,0,0,0,79.57,233L128,203.19,176.43,233a20.39,20.39,0,0,0,30.49-22.15l-13.2-55.7,43.18-37.24A20.43,20.43,0,0,0,243,96ZM172.53,141.7a12,12,0,0,0-3.84,11.86L181.58,208l-47.29-29.08a12,12,0,0,0-12.58,0L74.42,208l12.89-54.4a12,12,0,0,0-3.84-11.86L41.2,105.24l55.4-4.47a12,12,0,0,0,10.13-7.38L128,41.89l21.27,51.5a12,12,0,0,0,10.13,7.38l55.4,4.47Z"}))],["duotone",O.createElement(O.Fragment,null,O.createElement("path",{d:"M229.06,108.79l-48.7,42,14.88,62.79a8.4,8.4,0,0,1-12.52,9.17L128,189.09,73.28,222.74a8.4,8.4,0,0,1-12.52-9.17l14.88-62.79-48.7-42A8.46,8.46,0,0,1,31.73,94L95.64,88.8l24.62-59.6a8.36,8.36,0,0,1,15.48,0l24.62,59.6L224.27,94A8.46,8.46,0,0,1,229.06,108.79Z",opacity:"0.2"}),O.createElement("path",{d:"M239.18,97.26A16.38,16.38,0,0,0,224.92,86l-59-4.76L143.14,26.15a16.36,16.36,0,0,0-30.27,0L90.11,81.23,31.08,86a16.46,16.46,0,0,0-9.37,28.86l45,38.83L53,211.75a16.38,16.38,0,0,0,24.5,17.82L128,198.49l50.53,31.08A16.4,16.4,0,0,0,203,211.75l-13.76-58.07,45-38.83A16.43,16.43,0,0,0,239.18,97.26Zm-15.34,5.47-48.7,42a8,8,0,0,0-2.56,7.91l14.88,62.8a.37.37,0,0,1-.17.48c-.18.14-.23.11-.38,0l-54.72-33.65a8,8,0,0,0-8.38,0L69.09,215.94c-.15.09-.19.12-.38,0a.37.37,0,0,1-.17-.48l14.88-62.8a8,8,0,0,0-2.56-7.91l-48.7-42c-.12-.1-.23-.19-.13-.5s.18-.27.33-.29l63.92-5.16A8,8,0,0,0,103,91.86l24.62-59.61c.08-.17.11-.25.35-.25s.27.08.35.25L153,91.86a8,8,0,0,0,6.75,4.92l63.92,5.16c.15,0,.24,0,.33.29S224,102.63,223.84,102.73Z"}))],["fill",O.createElement(O.Fragment,null,O.createElement("path",{d:"M234.29,114.85l-45,38.83L203,211.75a16.4,16.4,0,0,1-24.5,17.82L128,198.49,77.47,229.57A16.4,16.4,0,0,1,53,211.75l13.76-58.07-45-38.83A16.46,16.46,0,0,1,31.08,86l59-4.76,22.76-55.08a16.36,16.36,0,0,1,30.27,0l22.75,55.08,59,4.76a16.46,16.46,0,0,1,9.37,28.86Z"}))],["light",O.createElement(O.Fragment,null,O.createElement("path",{d:"M237.28,97.87A14.18,14.18,0,0,0,224.76,88l-60.25-4.87-23.22-56.2a14.37,14.37,0,0,0-26.58,0L91.49,83.11,31.24,88a14.18,14.18,0,0,0-12.52,9.89A14.43,14.43,0,0,0,23,113.32L69,152.93l-14,59.25a14.4,14.4,0,0,0,5.59,15,14.1,14.1,0,0,0,15.91.6L128,196.12l51.58,31.71a14.1,14.1,0,0,0,15.91-.6,14.4,14.4,0,0,0,5.59-15l-14-59.25L233,113.32A14.43,14.43,0,0,0,237.28,97.87Zm-12.14,6.37-48.69,42a6,6,0,0,0-1.92,5.92l14.88,62.79a2.35,2.35,0,0,1-.95,2.57,2.24,2.24,0,0,1-2.6.1L131.14,184a6,6,0,0,0-6.28,0L70.14,217.61a2.24,2.24,0,0,1-2.6-.1,2.35,2.35,0,0,1-1-2.57l14.88-62.79a6,6,0,0,0-1.92-5.92l-48.69-42a2.37,2.37,0,0,1-.73-2.65,2.28,2.28,0,0,1,2.07-1.65l63.92-5.16a6,6,0,0,0,5.06-3.69l24.63-59.6a2.35,2.35,0,0,1,4.38,0l24.63,59.6a6,6,0,0,0,5.06,3.69l63.92,5.16a2.28,2.28,0,0,1,2.07,1.65A2.37,2.37,0,0,1,225.14,104.24Z"}))],["regular",O.createElement(O.Fragment,null,O.createElement("path",{d:"M239.18,97.26A16.38,16.38,0,0,0,224.92,86l-59-4.76L143.14,26.15a16.36,16.36,0,0,0-30.27,0L90.11,81.23,31.08,86a16.46,16.46,0,0,0-9.37,28.86l45,38.83L53,211.75a16.38,16.38,0,0,0,24.5,17.82L128,198.49l50.53,31.08A16.4,16.4,0,0,0,203,211.75l-13.76-58.07,45-38.83A16.43,16.43,0,0,0,239.18,97.26Zm-15.34,5.47-48.7,42a8,8,0,0,0-2.56,7.91l14.88,62.8a.37.37,0,0,1-.17.48c-.18.14-.23.11-.38,0l-54.72-33.65a8,8,0,0,0-8.38,0L69.09,215.94c-.15.09-.19.12-.38,0a.37.37,0,0,1-.17-.48l14.88-62.8a8,8,0,0,0-2.56-7.91l-48.7-42c-.12-.1-.23-.19-.13-.5s.18-.27.33-.29l63.92-5.16A8,8,0,0,0,103,91.86l24.62-59.61c.08-.17.11-.25.35-.25s.27.08.35.25L153,91.86a8,8,0,0,0,6.75,4.92l63.92,5.16c.15,0,.24,0,.33.29S224,102.63,223.84,102.73Z"}))],["thin",O.createElement(O.Fragment,null,O.createElement("path",{d:"M235.36,98.49A12.21,12.21,0,0,0,224.59,90l-61.47-5L139.44,27.67a12.37,12.37,0,0,0-22.88,0L92.88,85,31.41,90a12.45,12.45,0,0,0-7.07,21.84l46.85,40.41L56.87,212.64a12.35,12.35,0,0,0,18.51,13.49L128,193.77l52.62,32.36a12.12,12.12,0,0,0,13.69-.51,12.28,12.28,0,0,0,4.82-13l-14.32-60.42,46.85-40.41A12.29,12.29,0,0,0,235.36,98.49Zm-8.93,7.26-48.68,42a4,4,0,0,0-1.28,3.95l14.87,62.79a4.37,4.37,0,0,1-1.72,4.65,4.24,4.24,0,0,1-4.81.18L130.1,185.67a4,4,0,0,0-4.2,0L71.19,219.32a4.24,4.24,0,0,1-4.81-.18,4.37,4.37,0,0,1-1.72-4.65L79.53,151.7a4,4,0,0,0-1.28-3.95l-48.68-42A4.37,4.37,0,0,1,28.25,101a4.31,4.31,0,0,1,3.81-3L96,92.79a4,4,0,0,0,3.38-2.46L124,30.73a4.35,4.35,0,0,1,8.08,0l24.62,59.6A4,4,0,0,0,160,92.79l63.9,5.15a4.31,4.31,0,0,1,3.81,3A4.37,4.37,0,0,1,226.43,105.75Z"}))]]),Kr=new Map([["bold",O.createElement(O.Fragment,null,O.createElement("path",{d:"M120,137,48,201A12,12,0,1,1,32,183l61.91-55L32,73A12,12,0,1,1,48,55l72,64A12,12,0,0,1,120,137Zm96,43H120a12,12,0,0,0,0,24h96a12,12,0,0,0,0-24Z"}))],["duotone",O.createElement(O.Fragment,null,O.createElement("path",{d:"M216,80V192H40V64H200A16,16,0,0,1,216,80Z",opacity:"0.2"}),O.createElement("path",{d:"M117.31,134l-72,64a8,8,0,1,1-10.63-12L100,128,34.69,70A8,8,0,1,1,45.32,58l72,64a8,8,0,0,1,0,12ZM216,184H120a8,8,0,0,0,0,16h96a8,8,0,0,0,0-16Z"}))],["fill",O.createElement(O.Fragment,null,O.createElement("path",{d:"M216,40H40A16,16,0,0,0,24,56V200a16,16,0,0,0,16,16H216a16,16,0,0,0,16-16V56A16,16,0,0,0,216,40ZM77.66,173.66a8,8,0,0,1-11.32-11.32L100.69,128,66.34,93.66A8,8,0,0,1,77.66,82.34l40,40a8,8,0,0,1,0,11.32ZM192,176H128a8,8,0,0,1,0-16h64a8,8,0,0,1,0,16Z"}))],["light",O.createElement(O.Fragment,null,O.createElement("path",{d:"M116,132.48l-72,64a6,6,0,0,1-8-9L103,128,36,68.49a6,6,0,0,1,8-9l72,64a6,6,0,0,1,0,9ZM216,186H120a6,6,0,0,0,0,12h96a6,6,0,0,0,0-12Z"}))],["regular",O.createElement(O.Fragment,null,O.createElement("path",{d:"M117.31,134l-72,64a8,8,0,1,1-10.63-12L100,128,34.69,70A8,8,0,1,1,45.32,58l72,64a8,8,0,0,1,0,12ZM216,184H120a8,8,0,0,0,0,16h96a8,8,0,0,0,0-16Z"}))],["thin",O.createElement(O.Fragment,null,O.createElement("path",{d:"M116,128a4,4,0,0,1-1.34,3l-72,64a4,4,0,1,1-5.32-6L106,128,37.34,67a4,4,0,0,1,5.32-6l72,64A4,4,0,0,1,116,128Zm100,60H120a4,4,0,0,0,0,8h96a4,4,0,0,0,0-8Z"}))]]),qr=new Map([["bold",O.createElement(O.Fragment,null,O.createElement("path",{d:"M128,44a96,96,0,1,0,96,96A96.11,96.11,0,0,0,128,44Zm0,168a72,72,0,1,1,72-72A72.08,72.08,0,0,1,128,212ZM164.49,99.51a12,12,0,0,1,0,17l-28,28a12,12,0,0,1-17-17l28-28A12,12,0,0,1,164.49,99.51ZM92,16A12,12,0,0,1,104,4h48a12,12,0,0,1,0,24H104A12,12,0,0,1,92,16Z"}))],["duotone",O.createElement(O.Fragment,null,O.createElement("path",{d:"M216,136a88,88,0,1,1-88-88A88,88,0,0,1,216,136Z",opacity:"0.2"}),O.createElement("path",{d:"M128,40a96,96,0,1,0,96,96A96.11,96.11,0,0,0,128,40Zm0,176a80,80,0,1,1,80-80A80.09,80.09,0,0,1,128,216ZM173.66,90.34a8,8,0,0,1,0,11.32l-40,40a8,8,0,0,1-11.32-11.32l40-40A8,8,0,0,1,173.66,90.34ZM96,16a8,8,0,0,1,8-8h48a8,8,0,0,1,0,16H104A8,8,0,0,1,96,16Z"}))],["fill",O.createElement(O.Fragment,null,O.createElement("path",{d:"M128,40a96,96,0,1,0,96,96A96.11,96.11,0,0,0,128,40Zm45.66,61.66-40,40a8,8,0,0,1-11.32-11.32l40-40a8,8,0,0,1,11.32,11.32ZM96,16a8,8,0,0,1,8-8h48a8,8,0,0,1,0,16H104A8,8,0,0,1,96,16Z"}))],["light",O.createElement(O.Fragment,null,O.createElement("path",{d:"M128,42a94,94,0,1,0,94,94A94.11,94.11,0,0,0,128,42Zm0,176a82,82,0,1,1,82-82A82.1,82.1,0,0,1,128,218ZM172.24,91.76a6,6,0,0,1,0,8.48l-40,40a6,6,0,1,1-8.48-8.48l40-40A6,6,0,0,1,172.24,91.76ZM98,16a6,6,0,0,1,6-6h48a6,6,0,0,1,0,12H104A6,6,0,0,1,98,16Z"}))],["regular",O.createElement(O.Fragment,null,O.createElement("path",{d:"M128,40a96,96,0,1,0,96,96A96.11,96.11,0,0,0,128,40Zm0,176a80,80,0,1,1,80-80A80.09,80.09,0,0,1,128,216ZM173.66,90.34a8,8,0,0,1,0,11.32l-40,40a8,8,0,0,1-11.32-11.32l40-40A8,8,0,0,1,173.66,90.34ZM96,16a8,8,0,0,1,8-8h48a8,8,0,0,1,0,16H104A8,8,0,0,1,96,16Z"}))],["thin",O.createElement(O.Fragment,null,O.createElement("path",{d:"M128,44a92,92,0,1,0,92,92A92.1,92.1,0,0,0,128,44Zm0,176a84,84,0,1,1,84-84A84.09,84.09,0,0,1,128,220ZM170.83,93.17a4,4,0,0,1,0,5.66l-40,40a4,4,0,1,1-5.66-5.66l40-40A4,4,0,0,1,170.83,93.17ZM100,16a4,4,0,0,1,4-4h48a4,4,0,0,1,0,8H104A4,4,0,0,1,100,16Z"}))]]),Xr=new Map([["bold",O.createElement(O.Fragment,null,O.createElement("path",{d:"M244,56v64a12,12,0,0,1-24,0V85l-75.51,75.52a12,12,0,0,1-17,0L96,129,32.49,192.49a12,12,0,0,1-17-17l72-72a12,12,0,0,1,17,0L136,135l67-67H168a12,12,0,0,1,0-24h64A12,12,0,0,1,244,56Z"}))],["duotone",O.createElement(O.Fragment,null,O.createElement("path",{d:"M232,56v64L168,56Z",opacity:"0.2"}),O.createElement("path",{d:"M232,48H168a8,8,0,0,0-5.66,13.66L188.69,88,136,140.69l-34.34-34.35a8,8,0,0,0-11.32,0l-72,72a8,8,0,0,0,11.32,11.32L96,123.31l34.34,34.35a8,8,0,0,0,11.32,0L200,99.31l26.34,26.35A8,8,0,0,0,240,120V56A8,8,0,0,0,232,48Zm-8,52.69L187.31,64H224Z"}))],["fill",O.createElement(O.Fragment,null,O.createElement("path",{d:"M240,56v64a8,8,0,0,1-13.66,5.66L200,99.31l-58.34,58.35a8,8,0,0,1-11.32,0L96,123.31,29.66,189.66a8,8,0,0,1-11.32-11.32l72-72a8,8,0,0,1,11.32,0L136,140.69,188.69,88,162.34,61.66A8,8,0,0,1,168,48h64A8,8,0,0,1,240,56Z"}))],["light",O.createElement(O.Fragment,null,O.createElement("path",{d:"M238,56v64a6,6,0,0,1-12,0V70.48l-85.76,85.76a6,6,0,0,1-8.48,0L96,120.49,28.24,188.24a6,6,0,0,1-8.48-8.48l72-72a6,6,0,0,1,8.48,0L136,143.51,217.52,62H168a6,6,0,0,1,0-12h64A6,6,0,0,1,238,56Z"}))],["regular",O.createElement(O.Fragment,null,O.createElement("path",{d:"M240,56v64a8,8,0,0,1-16,0V75.31l-82.34,82.35a8,8,0,0,1-11.32,0L96,123.31,29.66,189.66a8,8,0,0,1-11.32-11.32l72-72a8,8,0,0,1,11.32,0L136,140.69,212.69,64H168a8,8,0,0,1,0-16h64A8,8,0,0,1,240,56Z"}))],["thin",O.createElement(O.Fragment,null,O.createElement("path",{d:"M236,56v64a4,4,0,0,1-8,0V65.66l-89.17,89.17a4,4,0,0,1-5.66,0L96,117.66,26.83,186.83a4,4,0,0,1-5.66-5.66l72-72a4,4,0,0,1,5.66,0L136,146.34,222.34,60H168a4,4,0,0,1,0-8h64A4,4,0,0,1,236,56Z"}))]]),Yr=new Map([["bold",O.createElement(O.Fragment,null,O.createElement("path",{d:"M232,60H212V48a12,12,0,0,0-12-12H56A12,12,0,0,0,44,48V60H24A20,20,0,0,0,4,80V96a44.05,44.05,0,0,0,44,44h.77A84.18,84.18,0,0,0,116,195.15V212H96a12,12,0,0,0,0,24h64a12,12,0,0,0,0-24H140V195.11c30.94-4.51,56.53-26.2,67-55.11h1a44.05,44.05,0,0,0,44-44V80A20,20,0,0,0,232,60ZM28,96V84H44v28c0,1.21,0,2.41.09,3.61A20,20,0,0,1,28,96Zm160,15.1c0,33.33-26.71,60.65-59.54,60.9A60,60,0,0,1,68,112V60H188ZM228,96a20,20,0,0,1-16.12,19.62c.08-1.5.12-3,.12-4.52V84h16Z"}))],["duotone",O.createElement(O.Fragment,null,O.createElement("path",{d:"M200,48v63.1c0,39.7-31.75,72.6-71.45,72.9A72,72,0,0,1,56,112V48Z",opacity:"0.2"}),O.createElement("path",{d:"M232,64H208V48a8,8,0,0,0-8-8H56a8,8,0,0,0-8,8V64H24A16,16,0,0,0,8,80V96a40,40,0,0,0,40,40h3.65A80.13,80.13,0,0,0,120,191.61V216H96a8,8,0,0,0,0,16h64a8,8,0,0,0,0-16H136V191.58c31.94-3.23,58.44-25.64,68.08-55.58H208a40,40,0,0,0,40-40V80A16,16,0,0,0,232,64ZM48,120A24,24,0,0,1,24,96V80H48v32q0,4,.39,8Zm144-8.9c0,35.52-29,64.64-64,64.9a64,64,0,0,1-64-64V56H192ZM232,96a24,24,0,0,1-24,24h-.5a81.81,81.81,0,0,0,.5-8.9V80h24Z"}))],["fill",O.createElement(O.Fragment,null,O.createElement("path",{d:"M232,64H208V48a8,8,0,0,0-8-8H56a8,8,0,0,0-8,8V64H24A16,16,0,0,0,8,80V96a40,40,0,0,0,40,40h3.65A80.13,80.13,0,0,0,120,191.61V216H96a8,8,0,0,0,0,16h64a8,8,0,0,0,0-16H136V191.58c31.94-3.23,58.44-25.64,68.08-55.58H208a40,40,0,0,0,40-40V80A16,16,0,0,0,232,64ZM48,120A24,24,0,0,1,24,96V80H48v32q0,4,.39,8ZM232,96a24,24,0,0,1-24,24h-.5a81.81,81.81,0,0,0,.5-8.9V80h24Z"}))],["light",O.createElement(O.Fragment,null,O.createElement("path",{d:"M232,66H206V48a6,6,0,0,0-6-6H56a6,6,0,0,0-6,6V66H24A14,14,0,0,0,10,80V96a38,38,0,0,0,38,38h5.14A78,78,0,0,0,122,189.75V218H96a6,6,0,0,0,0,12h64a6,6,0,0,0,0-12H134V189.75c32.44-2.52,59.43-25.3,68.62-55.75H208a38,38,0,0,0,38-38V80A14,14,0,0,0,232,66ZM48,122A26,26,0,0,1,22,96V80a2,2,0,0,1,2-2H50v34a80.87,80.87,0,0,0,.65,10Zm146-10.9c0,36.62-29.38,66.63-65.5,66.9A66,66,0,0,1,62,112V54H194ZM234,96a26,26,0,0,1-26,26h-2.77a78.45,78.45,0,0,0,.77-10.9V78h26a2,2,0,0,1,2,2Z"}))],["regular",O.createElement(O.Fragment,null,O.createElement("path",{d:"M232,64H208V48a8,8,0,0,0-8-8H56a8,8,0,0,0-8,8V64H24A16,16,0,0,0,8,80V96a40,40,0,0,0,40,40h3.65A80.13,80.13,0,0,0,120,191.61V216H96a8,8,0,0,0,0,16h64a8,8,0,0,0,0-16H136V191.58c31.94-3.23,58.44-25.64,68.08-55.58H208a40,40,0,0,0,40-40V80A16,16,0,0,0,232,64ZM48,120A24,24,0,0,1,24,96V80H48v32q0,4,.39,8Zm144-8.9c0,35.52-29,64.64-64,64.9a64,64,0,0,1-64-64V56H192ZM232,96a24,24,0,0,1-24,24h-.5a81.81,81.81,0,0,0,.5-8.9V80h24Z"}))],["thin",O.createElement(O.Fragment,null,O.createElement("path",{d:"M232,68H204V48a4,4,0,0,0-4-4H56a4,4,0,0,0-4,4V68H24A12,12,0,0,0,12,80V96a36,36,0,0,0,36,36h6.66A76,76,0,0,0,124,187.89V220H96a4,4,0,0,0,0,8h64a4,4,0,0,0,0-8H132V187.88c32.93-1.74,60.41-24.91,69.11-55.88H208a36,36,0,0,0,36-36V80A12,12,0,0,0,232,68ZM48,124A28,28,0,0,1,20,96V80a4,4,0,0,1,4-4H52v36a77,77,0,0,0,1,12Zm148-12.9c0,37.71-30.79,68.62-68,68.9a68,68,0,0,1-68-68V52H196ZM236,96a28,28,0,0,1-28,28h-5.1a77.35,77.35,0,0,0,1.1-12.9V76h28a4,4,0,0,1,4,4Z"}))]]),Qr=new Map([["bold",O.createElement(O.Fragment,null,O.createElement("path",{d:"M234.38,210a123.36,123.36,0,0,0-60.78-53.23,76,76,0,1,0-91.2,0A123.36,123.36,0,0,0,21.62,210a12,12,0,1,0,20.77,12c18.12-31.32,50.12-50,85.61-50s67.49,18.69,85.61,50a12,12,0,0,0,20.77-12ZM76,96a52,52,0,1,1,52,52A52.06,52.06,0,0,1,76,96Z"}))],["duotone",O.createElement(O.Fragment,null,O.createElement("path",{d:"M192,96a64,64,0,1,1-64-64A64,64,0,0,1,192,96Z",opacity:"0.2"}),O.createElement("path",{d:"M230.92,212c-15.23-26.33-38.7-45.21-66.09-54.16a72,72,0,1,0-73.66,0C63.78,166.78,40.31,185.66,25.08,212a8,8,0,1,0,13.85,8c18.84-32.56,52.14-52,89.07-52s70.23,19.44,89.07,52a8,8,0,1,0,13.85-8ZM72,96a56,56,0,1,1,56,56A56.06,56.06,0,0,1,72,96Z"}))],["fill",O.createElement(O.Fragment,null,O.createElement("path",{d:"M230.93,220a8,8,0,0,1-6.93,4H32a8,8,0,0,1-6.92-12c15.23-26.33,38.7-45.21,66.09-54.16a72,72,0,1,1,73.66,0c27.39,8.95,50.86,27.83,66.09,54.16A8,8,0,0,1,230.93,220Z"}))],["light",O.createElement(O.Fragment,null,O.createElement("path",{d:"M229.19,213c-15.81-27.32-40.63-46.49-69.47-54.62a70,70,0,1,0-63.44,0C67.44,166.5,42.62,185.67,26.81,213a6,6,0,1,0,10.38,6C56.4,185.81,90.34,166,128,166s71.6,19.81,90.81,53a6,6,0,1,0,10.38-6ZM70,96a58,58,0,1,1,58,58A58.07,58.07,0,0,1,70,96Z"}))],["regular",O.createElement(O.Fragment,null,O.createElement("path",{d:"M230.92,212c-15.23-26.33-38.7-45.21-66.09-54.16a72,72,0,1,0-73.66,0C63.78,166.78,40.31,185.66,25.08,212a8,8,0,1,0,13.85,8c18.84-32.56,52.14-52,89.07-52s70.23,19.44,89.07,52a8,8,0,1,0,13.85-8ZM72,96a56,56,0,1,1,56,56A56.06,56.06,0,0,1,72,96Z"}))],["thin",O.createElement(O.Fragment,null,O.createElement("path",{d:"M227.46,214c-16.52-28.56-43-48.06-73.68-55.09a68,68,0,1,0-51.56,0c-30.64,7-57.16,26.53-73.68,55.09a4,4,0,0,0,6.92,4C55,184.19,89.62,164,128,164s73,20.19,92.54,54a4,4,0,0,0,3.46,2,3.93,3.93,0,0,0,2-.54A4,4,0,0,0,227.46,214ZM68,96a60,60,0,1,1,60,60A60.07,60.07,0,0,1,68,96Z"}))]]),Jr=new Map([["bold",O.createElement(O.Fragment,null,O.createElement("path",{d:"M144,204a16,16,0,1,1-16-16A16,16,0,0,1,144,204ZM239.61,83.91a176,176,0,0,0-223.22,0,12,12,0,1,0,15.23,18.55,152,152,0,0,1,192.76,0,12,12,0,1,0,15.23-18.55Zm-32.16,35.73a128,128,0,0,0-158.9,0,12,12,0,0,0,14.9,18.81,104,104,0,0,1,129.1,0,12,12,0,0,0,14.9-18.81ZM175.07,155.3a80.05,80.05,0,0,0-94.14,0,12,12,0,0,0,14.14,19.4,56,56,0,0,1,65.86,0,12,12,0,1,0,14.14-19.4Z"}))],["duotone",O.createElement(O.Fragment,null,O.createElement("path",{d:"M238.2,87.69l-104,125.43a8,8,0,0,1-12.3,0L17.8,87.69a7.79,7.79,0,0,1,1.31-11.21,180.75,180.75,0,0,1,217.78,0A7.79,7.79,0,0,1,238.2,87.69Z",opacity:"0.2"}),O.createElement("path",{d:"M247.89,80.91a15.93,15.93,0,0,0-6.17-10.81A186.67,186.67,0,0,0,128,32,186.67,186.67,0,0,0,14.28,70.1,15.93,15.93,0,0,0,8.11,80.91,15.65,15.65,0,0,0,11.65,92.8l104,125.43A15.93,15.93,0,0,0,128,224h0a15.93,15.93,0,0,0,12.31-5.77l104-125.43A15.65,15.65,0,0,0,247.89,80.91ZM128,208,24.09,82.74A170.76,170.76,0,0,1,128,48,170.76,170.76,0,0,1,231.91,82.74Z"}))],["fill",O.createElement(O.Fragment,null,O.createElement("path",{d:"M244.35,92.8l-104,125.43A15.93,15.93,0,0,1,128,224h0a15.93,15.93,0,0,1-12.31-5.77L11.65,92.8A15.65,15.65,0,0,1,8.11,80.91,15.93,15.93,0,0,1,14.28,70.1,186.67,186.67,0,0,1,128,32,186.67,186.67,0,0,1,241.72,70.1a15.93,15.93,0,0,1,6.17,10.81A15.65,15.65,0,0,1,244.35,92.8Z"}))],["light",O.createElement(O.Fragment,null,O.createElement("path",{d:"M138,204a10,10,0,1,1-10-10A10,10,0,0,1,138,204ZM235.81,88.55a170,170,0,0,0-215.62,0,6,6,0,1,0,7.62,9.27,158,158,0,0,1,200.38,0,6,6,0,1,0,7.62-9.27Zm-32.08,35.79a122,122,0,0,0-151.46,0,6,6,0,0,0,7.46,9.41,110,110,0,0,1,136.54,0A6,6,0,0,0,200,135a6,6,0,0,0,3.73-10.7Zm-32.2,35.81a74,74,0,0,0-87.06,0,6,6,0,0,0,7.06,9.7,62,62,0,0,1,72.94,0,6,6,0,0,0,8.38-1.32A6,6,0,0,0,171.53,160.15Z"}))],["regular",O.createElement(O.Fragment,null,O.createElement("path",{d:"M140,204a12,12,0,1,1-12-12A12,12,0,0,1,140,204ZM237.08,87A172,172,0,0,0,18.92,87,8,8,0,0,0,29.08,99.37a156,156,0,0,1,197.84,0A8,8,0,0,0,237.08,87ZM205,122.77a124,124,0,0,0-153.94,0A8,8,0,0,0,61,135.31a108,108,0,0,1,134.06,0,8,8,0,0,0,11.24-1.3A8,8,0,0,0,205,122.77Zm-32.26,35.76a76.05,76.05,0,0,0-89.42,0,8,8,0,0,0,9.42,12.94,60,60,0,0,1,70.58,0,8,8,0,1,0,9.42-12.94Z"}))],["thin",O.createElement(O.Fragment,null,O.createElement("path",{d:"M136,204a8,8,0,1,1-8-8A8,8,0,0,1,136,204ZM234.54,90.1a168,168,0,0,0-213.08,0,4,4,0,1,0,5.08,6.18,160,160,0,0,1,202.92,0,4,4,0,0,0,5.08-6.18Zm-32.06,35.81a120,120,0,0,0-149,0,4,4,0,0,0,5,6.27,112,112,0,0,1,139,0,4,4,0,0,0,5-6.27Zm-32.13,35.86a72,72,0,0,0-84.7,0,4,4,0,1,0,4.7,6.46,64.07,64.07,0,0,1,75.3,0,4,4,0,0,0,5.58-.87A4,4,0,0,0,170.35,161.77Z"}))]]),ea=new Map([["bold",O.createElement(O.Fragment,null,O.createElement("path",{d:"M208.49,191.51a12,12,0,0,1-17,17L128,145,64.49,208.49a12,12,0,0,1-17-17L111,128,47.51,64.49a12,12,0,0,1,17-17L128,111l63.51-63.52a12,12,0,0,1,17,17L145,128Z"}))],["duotone",O.createElement(O.Fragment,null,O.createElement("path",{d:"M216,56V200a16,16,0,0,1-16,16H56a16,16,0,0,1-16-16V56A16,16,0,0,1,56,40H200A16,16,0,0,1,216,56Z",opacity:"0.2"}),O.createElement("path",{d:"M205.66,194.34a8,8,0,0,1-11.32,11.32L128,139.31,61.66,205.66a8,8,0,0,1-11.32-11.32L116.69,128,50.34,61.66A8,8,0,0,1,61.66,50.34L128,116.69l66.34-66.35a8,8,0,0,1,11.32,11.32L139.31,128Z"}))],["fill",O.createElement(O.Fragment,null,O.createElement("path",{d:"M208,32H48A16,16,0,0,0,32,48V208a16,16,0,0,0,16,16H208a16,16,0,0,0,16-16V48A16,16,0,0,0,208,32ZM181.66,170.34a8,8,0,0,1-11.32,11.32L128,139.31,85.66,181.66a8,8,0,0,1-11.32-11.32L116.69,128,74.34,85.66A8,8,0,0,1,85.66,74.34L128,116.69l42.34-42.35a8,8,0,0,1,11.32,11.32L139.31,128Z"}))],["light",O.createElement(O.Fragment,null,O.createElement("path",{d:"M204.24,195.76a6,6,0,1,1-8.48,8.48L128,136.49,60.24,204.24a6,6,0,0,1-8.48-8.48L119.51,128,51.76,60.24a6,6,0,0,1,8.48-8.48L128,119.51l67.76-67.75a6,6,0,0,1,8.48,8.48L136.49,128Z"}))],["regular",O.createElement(O.Fragment,null,O.createElement("path",{d:"M205.66,194.34a8,8,0,0,1-11.32,11.32L128,139.31,61.66,205.66a8,8,0,0,1-11.32-11.32L116.69,128,50.34,61.66A8,8,0,0,1,61.66,50.34L128,116.69l66.34-66.35a8,8,0,0,1,11.32,11.32L139.31,128Z"}))],["thin",O.createElement(O.Fragment,null,O.createElement("path",{d:"M202.83,197.17a4,4,0,0,1-5.66,5.66L128,133.66,58.83,202.83a4,4,0,0,1-5.66-5.66L122.34,128,53.17,58.83a4,4,0,0,1,5.66-5.66L128,122.34l69.17-69.17a4,4,0,1,1,5.66,5.66L133.66,128Z"}))]]),ta=O.createContext({color:"currentColor",size:"1em",weight:"regular",mirrored:!1}),na=O.forwardRef((e,t)=>{const{alt:n,color:r,size:a,weight:i,mirrored:s,children:o,weights:l,...c}=e,{color:u="currentColor",size:h,weight:d="regular",mirrored:p=!1,...f}=O.useContext(ta);return O.createElement("svg",{ref:t,xmlns:"http://www.w3.org/2000/svg",width:null!=a?a:h,height:null!=a?a:h,fill:null!=r?r:u,viewBox:"0 0 256 256",transform:s||p?"scale(-1, 1)":void 0,...f,...c},!!n&&O.createElement("title",null,n),o,l.get(null!=i?i:d))});na.displayName="IconBase";const ra=O.forwardRef((e,t)=>O.createElement(na,{ref:t,...e,weights:rr}));ra.displayName="AirplaneIcon";const aa=ra,ia=O.forwardRef((e,t)=>O.createElement(na,{ref:t,...e,weights:ar}));ia.displayName="ArrowClockwiseIcon";const sa=ia,oa=O.forwardRef((e,t)=>O.createElement(na,{ref:t,...e,weights:ir}));oa.displayName="ArrowRightIcon";const la=oa,ca=O.forwardRef((e,t)=>O.createElement(na,{ref:t,...e,weights:sr}));ca.displayName="ArrowUpIcon";const ua=ca,ha=O.forwardRef((e,t)=>O.createElement(na,{ref:t,...e,weights:or}));ha.displayName="BrainIcon";const da=ha,pa=O.forwardRef((e,t)=>O.createElement(na,{ref:t,...e,weights:lr}));pa.displayName="BriefcaseIcon";const fa=pa,ma=O.forwardRef((e,t)=>O.createElement(na,{ref:t,...e,weights:cr}));ma.displayName="BuildingsIcon";const ga=ma,ya=O.forwardRef((e,t)=>O.createElement(na,{ref:t,...e,weights:ur}));ya.displayName="CaretDownIcon";const xa=ya,ba=O.forwardRef((e,t)=>O.createElement(na,{ref:t,...e,weights:hr}));ba.displayName="CaretUpIcon";const va=ba,wa=O.forwardRef((e,t)=>O.createElement(na,{ref:t,...e,weights:dr}));wa.displayName="ChartBarIcon";const ka=wa,Sa=O.forwardRef((e,t)=>O.createElement(na,{ref:t,...e,weights:pr}));Sa.displayName="ChartLineIcon";const Na=Sa,Ea=O.forwardRef((e,t)=>O.createElement(na,{ref:t,...e,weights:fr}));Ea.displayName="ChartLineUpIcon";const Aa=Ea,Ca=O.forwardRef((e,t)=>O.createElement(na,{ref:t,...e,weights:mr}));Ca.displayName="CheckIcon";const ja=Ca,Ma=O.forwardRef((e,t)=>O.createElement(na,{ref:t,...e,weights:gr}));Ma.displayName="CodeIcon";const Ta=Ma,Ia=O.forwardRef((e,t)=>O.createElement(na,{ref:t,...e,weights:yr}));Ia.displayName="CommandIcon";const Oa=Ia,Pa=O.forwardRef((e,t)=>O.createElement(na,{ref:t,...e,weights:xr}));Pa.displayName="CompassIcon";const Ra=Pa,_a=O.forwardRef((e,t)=>O.createElement(na,{ref:t,...e,weights:br}));_a.displayName="CpuIcon";const La=_a,$a=O.forwardRef((e,t)=>O.createElement(na,{ref:t,...e,weights:vr}));$a.displayName="DatabaseIcon";const Fa=$a,Da=O.forwardRef((e,t)=>O.createElement(na,{ref:t,...e,weights:wr}));Da.displayName="EnvelopeIcon";const za=Da,Va=O.forwardRef((e,t)=>O.createElement(na,{ref:t,...e,weights:kr}));Va.displayName="EnvelopeSimpleIcon";const Ba=Va,Ha=O.forwardRef((e,t)=>O.createElement(na,{ref:t,...e,weights:Sr}));Ha.displayName="FileTextIcon";const Ua=Ha,Wa=O.forwardRef((e,t)=>O.createElement(na,{ref:t,...e,weights:Nr}));Wa.displayName="FingerprintIcon";const Za=Wa,Ga=O.forwardRef((e,t)=>O.createElement(na,{ref:t,...e,weights:Er}));Ga.displayName="FlaskIcon";const Ka=Ga,qa=O.forwardRef((e,t)=>O.createElement(na,{ref:t,...e,weights:Ar}));qa.displayName="GithubLogoIcon";const Xa=qa,Ya=O.forwardRef((e,t)=>O.createElement(na,{ref:t,...e,weights:Cr}));Ya.displayName="GlobeIcon";const Qa=Ya,Ja=O.forwardRef((e,t)=>O.createElement(na,{ref:t,...e,weights:jr}));Ja.displayName="GlobeHemisphereWestIcon";const ei=Ja,ti=O.forwardRef((e,t)=>O.createElement(na,{ref:t,...e,weights:Mr}));ti.displayName="GraduationCapIcon";const ni=ti,ri=O.forwardRef((e,t)=>O.createElement(na,{ref:t,...e,weights:Tr}));ri.displayName="HardDriveIcon";const ai=ri,ii=O.forwardRef((e,t)=>O.createElement(na,{ref:t,...e,weights:Ir}));ii.displayName="HeartIcon";const si=ii,oi=O.forwardRef((e,t)=>O.createElement(na,{ref:t,...e,weights:Or}));oi.displayName="HouseIcon";const li=oi,ci=O.forwardRef((e,t)=>O.createElement(na,{ref:t,...e,weights:Pr}));ci.displayName="KeyboardIcon";const ui=ci,hi=O.forwardRef((e,t)=>O.createElement(na,{ref:t,...e,weights:Rr}));hi.displayName="LightningIcon";const di=hi,pi=O.forwardRef((e,t)=>O.createElement(na,{ref:t,...e,weights:_r}));pi.displayName="LinkedinLogoIcon";const fi=pi,mi=O.forwardRef((e,t)=>O.createElement(na,{ref:t,...e,weights:Lr}));mi.displayName="ListIcon";const gi=mi,yi=O.forwardRef((e,t)=>O.createElement(na,{ref:t,...e,weights:$r}));yi.displayName="LockIcon";const xi=yi,bi=O.forwardRef((e,t)=>O.createElement(na,{ref:t,...e,weights:Fr}));bi.displayName="MapPinIcon";const vi=bi,wi=O.forwardRef((e,t)=>O.createElement(na,{ref:t,...e,weights:Dr}));wi.displayName="MapPinLineIcon";const ki=wi,Si=O.forwardRef((e,t)=>O.createElement(na,{ref:t,...e,weights:zr}));Si.displayName="MapTrifoldIcon";const Ni=Si,Ei=O.forwardRef((e,t)=>O.createElement(na,{ref:t,...e,weights:Vr}));Ei.displayName="PulseIcon";const Ai=Ei,Ci=O.forwardRef((e,t)=>O.createElement(na,{ref:t,...e,weights:Br}));Ci.displayName="RocketIcon";const ji=Ci,Mi=O.forwardRef((e,t)=>O.createElement(na,{ref:t,...e,weights:Hr}));Mi.displayName="RocketLaunchIcon";const Ti=Mi,Ii=O.forwardRef((e,t)=>O.createElement(na,{ref:t,...e,weights:Ur}));Ii.displayName="ShieldCheckIcon";const Oi=Ii,Pi=O.forwardRef((e,t)=>O.createElement(na,{ref:t,...e,weights:Wr}));Pi.displayName="SparkleIcon";const Ri=Pi,_i=O.forwardRef((e,t)=>O.createElement(na,{ref:t,...e,weights:Zr}));_i.displayName="SpinnerIcon";const Li=_i,$i=O.forwardRef((e,t)=>O.createElement(na,{ref:t,...e,weights:Gr}));$i.displayName="StarIcon";const Fi=$i,Di=O.forwardRef((e,t)=>O.createElement(na,{ref:t,...e,weights:Kr}));Di.displayName="TerminalIcon";const zi=Di,Vi=O.forwardRef((e,t)=>O.createElement(na,{ref:t,...e,weights:qr}));Vi.displayName="TimerIcon";const Bi=Vi,Hi=O.forwardRef((e,t)=>O.createElement(na,{ref:t,...e,weights:Xr}));Hi.displayName="TrendUpIcon";const Ui=Hi,Wi=O.forwardRef((e,t)=>O.createElement(na,{ref:t,...e,weights:Yr}));Wi.displayName="TrophyIcon";const Zi=Wi,Gi=O.forwardRef((e,t)=>O.createElement(na,{ref:t,...e,weights:Qr}));Gi.displayName="UserIcon";const Ki=Gi,qi=O.forwardRef((e,t)=>O.createElement(na,{ref:t,...e,weights:Jr}));qi.displayName="WifiHighIcon";const Xi=qi,Yi=O.forwardRef((e,t)=>O.createElement(na,{ref:t,...e,weights:ea}));Yi.displayName="XIcon";const Qi=Yi,Ji=O.createContext({});function es(e){const t=O.useRef(null);return null===t.current&&(t.current=e()),t.current}const ts="undefined"!=typeof window,ns=ts?O.useLayoutEffect:O.useEffect,rs=O.createContext(null);function as(e,t){-1===e.indexOf(t)&&e.push(t)}function is(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const ss=(e,t,n)=>n>t?t:n<e?e:n;const os={},ls=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function cs(e){return"object"==typeof e&&null!==e}const us=e=>/^0[^.\s]+$/u.test(e);function hs(e){let t;return()=>(void 0===t&&(t=e()),t)}const ds=e=>e,ps=(e,t)=>n=>t(e(n)),fs=(...e)=>e.reduce(ps),ms=(e,t,n)=>{const r=t-e;return 0===r?1:(n-e)/r};class gs{constructor(){this.subscriptions=[]}add(e){return as(this.subscriptions,e),()=>is(this.subscriptions,e)}notify(e,t,n){const r=this.subscriptions.length;if(r)if(1===r)this.subscriptions[0](e,t,n);else for(let a=0;a<r;a++){const r=this.subscriptions[a];r&&r(e,t,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const ys=e=>1e3*e,xs=e=>e/1e3;function bs(e,t){return t?e*(1e3/t):0}const vs=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e;function ws(e,t,n,r){if(e===t&&n===r)return ds;const a=t=>function(e,t,n,r,a){let i,s,o=0;do{s=t+(n-t)/2,i=vs(s,r,a)-e,i>0?n=s:t=s}while(Math.abs(i)>1e-7&&++o<12);return s}(t,0,1,e,n);return e=>0===e||1===e?e:vs(a(e),t,r)}const ks=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,Ss=e=>t=>1-e(1-t),Ns=ws(.33,1.53,.69,.99),Es=Ss(Ns),As=ks(Es),Cs=e=>(e*=2)<1?.5*Es(e):.5*(2-Math.pow(2,-10*(e-1))),js=e=>1-Math.sin(Math.acos(e)),Ms=Ss(js),Ts=ks(js),Is=ws(.42,0,1,1),Os=ws(0,0,.58,1),Ps=ws(.42,0,.58,1),Rs=e=>Array.isArray(e)&&"number"==typeof e[0],_s={linear:ds,easeIn:Is,easeInOut:Ps,easeOut:Os,circIn:js,circInOut:Ts,circOut:Ms,backIn:Es,backInOut:As,backOut:Ns,anticipate:Cs},Ls=e=>{if(Rs(e)){e.length;const[t,n,r,a]=e;return ws(t,n,r,a)}return"string"==typeof e?_s[e]:e},$s=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function Fs(e,t){let n=!1,r=!0;const a={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,s=$s.reduce((e,t)=>(e[t]=function(e){let t=new Set,n=new Set,r=!1,a=!1;const i=new WeakSet;let s={delta:0,timestamp:0,isProcessing:!1};function o(t){i.has(t)&&(l.schedule(t),e()),t(s)}const l={schedule:(e,a=!1,s=!1)=>{const o=s&&r?t:n;return a&&i.add(e),o.has(e)||o.add(e),e},cancel:e=>{n.delete(e),i.delete(e)},process:e=>{s=e,r?a=!0:(r=!0,[t,n]=[n,t],t.forEach(o),t.clear(),r=!1,a&&(a=!1,l.process(e)))}};return l}(i),e),{}),{setup:o,read:l,resolveKeyframes:c,preUpdate:u,update:h,preRender:d,render:p,postRender:f}=s,m=()=>{const i=os.useManualTiming?a.timestamp:performance.now();n=!1,os.useManualTiming||(a.delta=r?1e3/60:Math.max(Math.min(i-a.timestamp,40),1)),a.timestamp=i,a.isProcessing=!0,o.process(a),l.process(a),c.process(a),u.process(a),h.process(a),d.process(a),p.process(a),f.process(a),a.isProcessing=!1,n&&t&&(r=!1,e(m))};return{schedule:$s.reduce((t,i)=>{const o=s[i];return t[i]=(t,i=!1,s=!1)=>(n||(n=!0,r=!0,a.isProcessing||e(m)),o.schedule(t,i,s)),t},{}),cancel:e=>{for(let t=0;t<$s.length;t++)s[$s[t]].cancel(e)},state:a,steps:s}}const{schedule:Ds,cancel:zs,state:Vs,steps:Bs}=Fs("undefined"!=typeof requestAnimationFrame?requestAnimationFrame:ds,!0);let Hs;function Us(){Hs=void 0}const Ws={now:()=>(void 0===Hs&&Ws.set(Vs.isProcessing||os.useManualTiming?Vs.timestamp:performance.now()),Hs),set:e=>{Hs=e,queueMicrotask(Us)}},Zs=e=>t=>"string"==typeof t&&t.startsWith(e),Gs=Zs("--"),Ks=Zs("var(--"),qs=e=>!!Ks(e)&&Xs.test(e.split("/*")[0].trim()),Xs=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Ys={test:e=>"number"==typeof e,parse:parseFloat,transform:e=>e},Qs={...Ys,transform:e=>ss(0,1,e)},Js={...Ys,default:1},eo=e=>Math.round(1e5*e)/1e5,to=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;const no=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,ro=(e,t)=>n=>Boolean("string"==typeof n&&no.test(n)&&n.startsWith(e)||t&&!function(e){return null==e}(n)&&Object.prototype.hasOwnProperty.call(n,t)),ao=(e,t,n)=>r=>{if("string"!=typeof r)return r;const[a,i,s,o]=r.match(to);return{[e]:parseFloat(a),[t]:parseFloat(i),[n]:parseFloat(s),alpha:void 0!==o?parseFloat(o):1}},io={...Ys,transform:e=>Math.round((e=>ss(0,255,e))(e))},so={test:ro("rgb","red"),parse:ao("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+io.transform(e)+", "+io.transform(t)+", "+io.transform(n)+", "+eo(Qs.transform(r))+")"};const oo={test:ro("#"),parse:function(e){let t="",n="",r="",a="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),a=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),a=e.substring(4,5),t+=t,n+=n,r+=r,a+=a),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:a?parseInt(a,16)/255:1}},transform:so.transform},lo=e=>({test:t=>"string"==typeof t&&t.endsWith(e)&&1===t.split(" ").length,parse:parseFloat,transform:t=>`${t}${e}`}),co=lo("deg"),uo=lo("%"),ho=lo("px"),po=lo("vh"),fo=lo("vw"),mo=(()=>({...uo,parse:e=>uo.parse(e)/100,transform:e=>uo.transform(100*e)}))(),go={test:ro("hsl","hue"),parse:ao("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+uo.transform(eo(t))+", "+uo.transform(eo(n))+", "+eo(Qs.transform(r))+")"},yo={test:e=>so.test(e)||oo.test(e)||go.test(e),parse:e=>so.test(e)?so.parse(e):go.test(e)?go.parse(e):oo.parse(e),transform:e=>"string"==typeof e?e:e.hasOwnProperty("red")?so.transform(e):go.transform(e),getAnimatableNone:e=>{const t=yo.parse(e);return t.alpha=0,yo.transform(t)}},xo=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;const bo="number",vo="color",wo=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function ko(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},a=[];let i=0;const s=t.replace(wo,e=>(yo.test(e)?(r.color.push(i),a.push(vo),n.push(yo.parse(e))):e.startsWith("var(")?(r.var.push(i),a.push("var"),n.push(e)):(r.number.push(i),a.push(bo),n.push(parseFloat(e))),++i,"${}")).split("${}");return{values:n,split:s,indexes:r,types:a}}function So(e){return ko(e).values}function No(e){const{split:t,types:n}=ko(e),r=t.length;return e=>{let a="";for(let i=0;i<r;i++)if(a+=t[i],void 0!==e[i]){const t=n[i];a+=t===bo?eo(e[i]):t===vo?yo.transform(e[i]):e[i]}return a}}const Eo=e=>"number"==typeof e?0:yo.test(e)?yo.getAnimatableNone(e):e;const Ao={test:function(e){return isNaN(e)&&"string"==typeof e&&(e.match(to)?.length||0)+(e.match(xo)?.length||0)>0},parse:So,createTransformer:No,getAnimatableNone:function(e){const t=So(e);return No(e)(t.map(Eo))}};function Co(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function jo(e,t){return n=>n>0?t:e}const Mo=(e,t,n)=>e+(t-e)*n,To=(e,t,n)=>{const r=e*e,a=n*(t*t-r)+r;return a<0?0:Math.sqrt(a)},Io=[oo,so,go];function Oo(e){const t=(n=e,Io.find(e=>e.test(n)));var n;if(!Boolean(t))return!1;let r=t.parse(e);return t===go&&(r=function({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,n/=100;let a=0,i=0,s=0;if(t/=100){const r=n<.5?n*(1+t):n+t-n*t,o=2*n-r;a=Co(o,r,e+1/3),i=Co(o,r,e),s=Co(o,r,e-1/3)}else a=i=s=n;return{red:Math.round(255*a),green:Math.round(255*i),blue:Math.round(255*s),alpha:r}}(r)),r}const Po=(e,t)=>{const n=Oo(e),r=Oo(t);if(!n||!r)return jo(e,t);const a={...n};return e=>(a.red=To(n.red,r.red,e),a.green=To(n.green,r.green,e),a.blue=To(n.blue,r.blue,e),a.alpha=Mo(n.alpha,r.alpha,e),so.transform(a))},Ro=new Set(["none","hidden"]);function _o(e,t){return n=>Mo(e,t,n)}function Lo(e){return"number"==typeof e?_o:"string"==typeof e?qs(e)?jo:yo.test(e)?Po:Do:Array.isArray(e)?$o:"object"==typeof e?yo.test(e)?Po:Fo:jo}function $o(e,t){const n=[...e],r=n.length,a=e.map((e,n)=>Lo(e)(e,t[n]));return e=>{for(let t=0;t<r;t++)n[t]=a[t](e);return n}}function Fo(e,t){const n={...e,...t},r={};for(const a in n)void 0!==e[a]&&void 0!==t[a]&&(r[a]=Lo(e[a])(e[a],t[a]));return e=>{for(const t in r)n[t]=r[t](e);return n}}const Do=(e,t)=>{const n=Ao.createTransformer(t),r=ko(e),a=ko(t);return r.indexes.var.length===a.indexes.var.length&&r.indexes.color.length===a.indexes.color.length&&r.indexes.number.length>=a.indexes.number.length?Ro.has(e)&&!a.values.length||Ro.has(t)&&!r.values.length?function(e,t){return Ro.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}(e,t):fs($o(function(e,t){const n=[],r={color:0,var:0,number:0};for(let a=0;a<t.values.length;a++){const i=t.types[a],s=e.indexes[i][r[i]],o=e.values[s]??0;n[a]=o,r[i]++}return n}(r,a),a.values),n):jo(e,t)};function zo(e,t,n){if("number"==typeof e&&"number"==typeof t&&"number"==typeof n)return Mo(e,t,n);return Lo(e)(e,t)}const Vo=e=>{const t=({timestamp:t})=>e(t);return{start:(e=!0)=>Ds.update(t,e),stop:()=>zs(t),now:()=>Vs.isProcessing?Vs.timestamp:Ws.now()}},Bo=(e,t,n=10)=>{let r="";const a=Math.max(Math.round(t/n),2);for(let i=0;i<a;i++)r+=Math.round(1e4*e(i/(a-1)))/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},Ho=2e4;function Uo(e){let t=0;let n=e.next(t);for(;!n.done&&t<Ho;)t+=50,n=e.next(t);return t>=Ho?1/0:t}function Wo(e,t,n){const r=Math.max(t-5,0);return bs(n-e(r),t-r)}const Zo=100,Go=10,Ko=1,qo=0,Xo=800,Yo=.3,Qo=.3,Jo={granular:.01,default:2},el={granular:.005,default:.5},tl=.01,nl=10,rl=.05,al=1,il=.001;function sl({duration:e=Xo,bounce:t=Yo,velocity:n=qo,mass:r=Ko}){let a,i,s=1-t;s=ss(rl,al,s),e=ss(tl,nl,xs(e)),s<1?(a=t=>{const r=t*s,a=r*e,i=r-n,o=ll(t,s),l=Math.exp(-a);return il-i/o*l},i=t=>{const r=t*s*e,i=r*n+n,o=Math.pow(s,2)*Math.pow(t,2)*e,l=Math.exp(-r),c=ll(Math.pow(t,2),s);return(-a(t)+il>0?-1:1)*((i-o)*l)/c}):(a=t=>Math.exp(-t*e)*((t-n)*e+1)-.001,i=t=>Math.exp(-t*e)*(e*e*(n-t)));const o=function(e,t,n){let r=n;for(let a=1;a<ol;a++)r-=e(r)/t(r);return r}(a,i,5/e);if(e=ys(e),isNaN(o))return{stiffness:Zo,damping:Go,duration:e};{const t=Math.pow(o,2)*r;return{stiffness:t,damping:2*s*Math.sqrt(r*t),duration:e}}}const ol=12;function ll(e,t){return e*Math.sqrt(1-t*t)}const cl=["duration","bounce"],ul=["stiffness","damping","mass"];function hl(e,t){return t.some(t=>void 0!==e[t])}function dl(e=Qo,t=Yo){const n="object"!=typeof e?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:a}=n;const i=n.keyframes[0],s=n.keyframes[n.keyframes.length-1],o={done:!1,value:i},{stiffness:l,damping:c,mass:u,duration:h,velocity:d,isResolvedFromDuration:p}=function(e){let t={velocity:qo,stiffness:Zo,damping:Go,mass:Ko,isResolvedFromDuration:!1,...e};if(!hl(e,ul)&&hl(e,cl))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(1.2*n),a=r*r,i=2*ss(.05,1,1-(e.bounce||0))*Math.sqrt(a);t={...t,mass:Ko,stiffness:a,damping:i}}else{const n=sl(e);t={...t,...n,mass:Ko},t.isResolvedFromDuration=!0}return t}({...n,velocity:-xs(n.velocity||0)}),f=d||0,m=c/(2*Math.sqrt(l*u)),g=s-i,y=xs(Math.sqrt(l/u)),x=Math.abs(g)<5;let b;if(r||(r=x?Jo.granular:Jo.default),a||(a=x?el.granular:el.default),m<1){const e=ll(y,m);b=t=>{const n=Math.exp(-m*y*t);return s-n*((f+m*y*g)/e*Math.sin(e*t)+g*Math.cos(e*t))}}else if(1===m)b=e=>s-Math.exp(-y*e)*(g+(f+y*g)*e);else{const e=y*Math.sqrt(m*m-1);b=t=>{const n=Math.exp(-m*y*t),r=Math.min(e*t,300);return s-n*((f+m*y*g)*Math.sinh(r)+e*g*Math.cosh(r))/e}}const v={calculatedDuration:p&&h||null,next:e=>{const t=b(e);if(p)o.done=e>=h;else{let n=0===e?f:0;m<1&&(n=0===e?ys(f):Wo(b,e,t));const i=Math.abs(n)<=r,l=Math.abs(s-t)<=a;o.done=i&&l}return o.value=o.done?s:t,o},toString:()=>{const e=Math.min(Uo(v),Ho),t=Bo(t=>v.next(e*t).value,e,30);return e+"ms "+t},toTransition:()=>{}};return v}function pl({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:a=10,bounceStiffness:i=500,modifyTarget:s,min:o,max:l,restDelta:c=.5,restSpeed:u}){const h=e[0],d={done:!1,value:h},p=e=>void 0===o?l:void 0===l||Math.abs(o-e)<Math.abs(l-e)?o:l;let f=n*t;const m=h+f,g=void 0===s?m:s(m);g!==m&&(f=g-h);const y=e=>-f*Math.exp(-e/r),x=e=>g+y(e),b=e=>{const t=y(e),n=x(e);d.done=Math.abs(t)<=c,d.value=d.done?g:n};let v,w;const k=e=>{var t;(t=d.value,void 0!==o&&t<o||void 0!==l&&t>l)&&(v=e,w=dl({keyframes:[d.value,p(d.value)],velocity:Wo(x,e,d.value),damping:a,stiffness:i,restDelta:c,restSpeed:u}))};return k(0),{calculatedDuration:null,next:e=>{let t=!1;return w||void 0!==v||(t=!0,b(e),k(e)),void 0!==v&&e>=v?w.next(e-v):(!t&&b(e),d)}}}function fl(e,t,{clamp:n=!0,ease:r,mixer:a}={}){const i=e.length;if(t.length,1===i)return()=>t[0];if(2===i&&t[0]===t[1])return()=>t[1];const s=e[0]===e[1];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const o=function(e,t,n){const r=[],a=n||os.mix||zo,i=e.length-1;for(let s=0;s<i;s++){let n=a(e[s],e[s+1]);if(t){const e=Array.isArray(t)?t[s]||ds:t;n=fs(e,n)}r.push(n)}return r}(t,r,a),l=o.length,c=n=>{if(s&&n<e[0])return t[0];let r=0;if(l>1)for(;r<e.length-2&&!(n<e[r+1]);r++);const a=ms(e[r],e[r+1],n);return o[r](a)};return n?t=>c(ss(e[0],e[i-1],t)):c}function ml(e){const t=[0];return function(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const a=ms(0,t,r);e.push(Mo(n,1,a))}}(t,e.length-1),t}function gl({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const a=(e=>Array.isArray(e)&&"number"!=typeof e[0])(r)?r.map(Ls):Ls(r),i={done:!1,value:t[0]},s=function(e,t){return e.map(e=>e*t)}(n&&n.length===t.length?n:ml(t),e),o=fl(s,t,{ease:Array.isArray(a)?a:(l=t,c=a,l.map(()=>c||Ps).splice(0,l.length-1))});var l,c;return{calculatedDuration:e,next:t=>(i.value=o(t),i.done=t>=e,i)}}dl.applyToOptions=e=>{const t=function(e,t=100,n){const r=n({...e,keyframes:[0,t]}),a=Math.min(Uo(r),Ho);return{type:"keyframes",ease:e=>r.next(a*e).value/t,duration:xs(a)}}(e,100,dl);return e.ease=t.ease,e.duration=ys(t.duration),e.type="keyframes",e};const yl=e=>null!==e;function xl(e,{repeat:t,repeatType:n="loop"},r,a=1){const i=e.filter(yl),s=a<0||t&&"loop"!==n&&t%2==1?0:i.length-1;return s&&void 0!==r?r:i[s]}const bl={decay:pl,inertia:pl,tween:gl,keyframes:gl,spring:dl};function vl(e){"string"==typeof e.type&&(e.type=bl[e.type])}class wl{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,t){return this.finished.then(e,t)}}const kl=e=>e/100;class Sl extends wl{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:e}=this.options;e&&e.updatedAt!==Ws.now()&&this.tick(Ws.now()),this.isStopped=!0,"idle"!==this.state&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),!1===e.autoplay&&this.pause()}initAnimation(){const{options:e}=this;vl(e);const{type:t=gl,repeat:n=0,repeatDelay:r=0,repeatType:a,velocity:i=0}=e;let{keyframes:s}=e;const o=t||gl;o!==gl&&"number"!=typeof s[0]&&(this.mixKeyframes=fs(kl,zo(s[0],s[1])),s=[0,100]);const l=o({...e,keyframes:s});"mirror"===a&&(this.mirroredGenerator=o({...e,keyframes:[...s].reverse(),velocity:-i})),null===l.calculatedDuration&&(l.calculatedDuration=Uo(l));const{calculatedDuration:c}=l;this.calculatedDuration=c,this.resolvedDuration=c+r,this.totalDuration=this.resolvedDuration*(n+1)-r,this.generator=l}updateTime(e){const t=Math.round(e-this.startTime)*this.playbackSpeed;null!==this.holdTime?this.currentTime=this.holdTime:this.currentTime=t}tick(e,t=!1){const{generator:n,totalDuration:r,mixKeyframes:a,mirroredGenerator:i,resolvedDuration:s,calculatedDuration:o}=this;if(null===this.startTime)return n.next(0);const{delay:l=0,keyframes:c,repeat:u,repeatType:h,repeatDelay:d,type:p,onUpdate:f,finalKeyframe:m}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-r/this.speed,this.startTime)),t?this.currentTime=e:this.updateTime(e);const g=this.currentTime-l*(this.playbackSpeed>=0?1:-1),y=this.playbackSpeed>=0?g<0:g>r;this.currentTime=Math.max(g,0),"finished"===this.state&&null===this.holdTime&&(this.currentTime=r);let x=this.currentTime,b=n;if(u){const e=Math.min(this.currentTime,r)/s;let t=Math.floor(e),n=e%1;!n&&e>=1&&(n=1),1===n&&t--,t=Math.min(t,u+1);Boolean(t%2)&&("reverse"===h?(n=1-n,d&&(n-=d/s)):"mirror"===h&&(b=i)),x=ss(0,1,n)*s}const v=y?{done:!1,value:c[0]}:b.next(x);a&&(v.value=a(v.value));let{done:w}=v;y||null===o||(w=this.playbackSpeed>=0?this.currentTime>=r:this.currentTime<=0);const k=null===this.holdTime&&("finished"===this.state||"running"===this.state&&w);return k&&p!==pl&&(v.value=xl(c,this.options,m,this.speed)),f&&f(v.value),k&&this.finish(),v}then(e,t){return this.finished.then(e,t)}get duration(){return xs(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+xs(e)}get time(){return xs(this.currentTime)}set time(e){e=ys(e),this.currentTime=e,null===this.startTime||null!==this.holdTime||0===this.playbackSpeed?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Ws.now());const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=xs(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=Vo,startTime:t}=this.options;this.driver||(this.driver=e(e=>this.tick(e))),this.options.onPlay?.();const n=this.driver.now();"finished"===this.state?(this.updateFinished(),this.startTime=n):null!==this.holdTime?this.startTime=n-this.holdTime:this.startTime||(this.startTime=t??n),"finished"===this.state&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Ws.now()),this.holdTime=this.currentTime}complete(){"running"!==this.state&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}const Nl=e=>180*e/Math.PI,El=e=>{const t=Nl(Math.atan2(e[1],e[0]));return Cl(t)},Al={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:El,rotateZ:El,skewX:e=>Nl(Math.atan(e[1])),skewY:e=>Nl(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},Cl=e=>((e%=360)<0&&(e+=360),e),jl=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),Ml=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),Tl={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:jl,scaleY:Ml,scale:e=>(jl(e)+Ml(e))/2,rotateX:e=>Cl(Nl(Math.atan2(e[6],e[5]))),rotateY:e=>Cl(Nl(Math.atan2(-e[2],e[0]))),rotateZ:El,rotate:El,skewX:e=>Nl(Math.atan(e[4])),skewY:e=>Nl(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function Il(e){return e.includes("scale")?1:0}function Ol(e,t){if(!e||"none"===e)return Il(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,a;if(n)r=Tl,a=n;else{const t=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=Al,a=t}if(!a)return Il(t);const i=r[t],s=a[1].split(",").map(Pl);return"function"==typeof i?i(s):s[i]}function Pl(e){return parseFloat(e.trim())}const Rl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],_l=(()=>new Set(Rl))(),Ll=e=>e===Ys||e===ho,$l=new Set(["x","y","z"]),Fl=Rl.filter(e=>!$l.has(e));const Dl={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>Ol(t,"x"),y:(e,{transform:t})=>Ol(t,"y")};Dl.translateX=Dl.x,Dl.translateY=Dl.y;const zl=new Set;let Vl=!1,Bl=!1,Hl=!1;function Ul(){if(Bl){const e=Array.from(zl).filter(e=>e.needsMeasurement),t=new Set(e.map(e=>e.element)),n=new Map;t.forEach(e=>{const t=function(e){const t=[];return Fl.forEach(n=>{const r=e.getValue(n);void 0!==r&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}(e);t.length&&(n.set(e,t),e.render())}),e.forEach(e=>e.measureInitialState()),t.forEach(e=>{e.render();const t=n.get(e);t&&t.forEach(([t,n])=>{e.getValue(t)?.set(n)})}),e.forEach(e=>e.measureEndState()),e.forEach(e=>{void 0!==e.suspendedScrollY&&window.scrollTo(0,e.suspendedScrollY)})}Bl=!1,Vl=!1,zl.forEach(e=>e.complete(Hl)),zl.clear()}function Wl(){zl.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Bl=!0)})}class Zl{constructor(e,t,n,r,a,i=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=n,this.motionValue=r,this.element=a,this.isAsync=i}scheduleResolve(){this.state="scheduled",this.isAsync?(zl.add(this),Vl||(Vl=!0,Ds.read(Wl),Ds.resolveKeyframes(Ul))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:n,motionValue:r}=this;if(null===e[0]){const a=r?.get(),i=e[e.length-1];if(void 0!==a)e[0]=a;else if(n&&t){const r=n.readValue(t,i);null!=r&&(e[0]=r)}void 0===e[0]&&(e[0]=i),r&&void 0===a&&r.set(e[0])}!function(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),zl.delete(this)}cancel(){"scheduled"===this.state&&(zl.delete(this),this.state="pending")}resume(){"pending"===this.state&&this.scheduleResolve()}}const Gl=hs(()=>void 0!==window.ScrollTimeline),Kl={};function ql(e,t){const n=hs(e);return()=>Kl[t]??n()}const Xl=ql(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch(ATe){return!1}return!0},"linearEasing"),Yl=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,Ql={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Yl([0,.65,.55,1]),circOut:Yl([.55,0,1,.45]),backIn:Yl([.31,.01,.66,-.59]),backOut:Yl([.33,1.53,.69,.99])};function Jl(e,t){return e?"function"==typeof e?Xl()?Bo(e,t):"ease-out":Rs(e)?Yl(e):Array.isArray(e)?e.map(e=>Jl(e,t)||Ql.easeOut):Ql[e]:void 0}function ec(e,t,n,{delay:r=0,duration:a=300,repeat:i=0,repeatType:s="loop",ease:o="easeOut",times:l}={},c=void 0){const u={[t]:n};l&&(u.offset=l);const h=Jl(o,a);Array.isArray(h)&&(u.easing=h);const d={delay:r,duration:a,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:i+1,direction:"reverse"===s?"alternate":"normal"};c&&(d.pseudoElement=c);return e.animate(u,d)}function tc(e){return"function"==typeof e&&"applyToOptions"in e}class nc extends wl{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:t,name:n,keyframes:r,pseudoElement:a,allowFlatten:i=!1,finalKeyframe:s,onComplete:o}=e;this.isPseudoElement=Boolean(a),this.allowFlatten=i,this.options=e,e.type;const l=function({type:e,...t}){return tc(e)&&Xl()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}(e);this.animation=ec(t,n,r,l,a),!1===l.autoplay&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!a){const e=xl(r,this.options,s,this.speed);this.updateMotionValue?this.updateMotionValue(e):function(e,t,n){(e=>e.startsWith("--"))(t)?e.style.setProperty(t,n):e.style[t]=n}(t,n,e),this.animation.cancel()}o?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),"finished"===this.state&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch(ATe){}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;"idle"!==e&&"finished"!==e&&(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return xs(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+xs(e)}get time(){return xs(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=ys(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return null!==this.finishedTime?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:t}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&Gl()?(this.animation.timeline=e,ds):t(this)}}const rc={anticipate:Cs,backInOut:As,circInOut:Ts};function ac(e){"string"==typeof e.ease&&e.ease in rc&&(e.ease=rc[e.ease])}class ic extends nc{constructor(e){ac(e),vl(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:t,onUpdate:n,onComplete:r,element:a,...i}=this.options;if(!t)return;if(void 0!==e)return void t.set(e);const s=new Sl({...i,autoplay:!1}),o=ys(this.finishedTime??this.time);t.setWithVelocity(s.sample(o-10).value,s.sample(o).value,10),s.stop()}}const sc=(e,t)=>"zIndex"!==t&&(!("number"!=typeof e&&!Array.isArray(e))||!("string"!=typeof e||!Ao.test(e)&&"0"!==e||e.startsWith("url(")));function oc(e){e.duration=0,e.type="keyframes"}const lc=new Set(["opacity","clipPath","filter","transform"]),cc=hs(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));class uc extends wl{constructor({autoplay:e=!0,delay:t=0,type:n="keyframes",repeat:r=0,repeatDelay:a=0,repeatType:i="loop",keyframes:s,name:o,motionValue:l,element:c,...u}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Ws.now();const h={autoplay:e,delay:t,type:n,repeat:r,repeatDelay:a,repeatType:i,name:o,motionValue:l,element:c,...u},d=c?.KeyframeResolver||Zl;this.keyframeResolver=new d(s,(e,t,n)=>this.onKeyframesResolved(e,t,h,!n),o,l,c),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,t,n,r){this.keyframeResolver=void 0;const{name:a,type:i,velocity:s,delay:o,isHandoff:l,onUpdate:c}=n;this.resolvedAt=Ws.now(),function(e,t,n,r){const a=e[0];if(null===a)return!1;if("display"===t||"visibility"===t)return!0;const i=e[e.length-1],s=sc(a,t),o=sc(i,t);return!(!s||!o)&&(function(e){const t=e[0];if(1===e.length)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}(e)||("spring"===n||tc(n))&&r)}(e,a,i,s)||(!os.instantAnimations&&o||c?.(xl(e,n,t)),e[0]=e[e.length-1],oc(n),n.repeat=0);const u={startTime:r?this.resolvedAt&&this.resolvedAt-this.createdAt>40?this.resolvedAt:this.createdAt:void 0,finalKeyframe:t,...n,keyframes:e},h=!l&&function(e){const{motionValue:t,name:n,repeatDelay:r,repeatType:a,damping:i,type:s}=e,o=t?.owner?.current;if(!(o instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:c}=t.owner.getProps();return cc()&&n&&lc.has(n)&&("transform"!==n||!c)&&!l&&!r&&"mirror"!==a&&0!==i&&"inertia"!==s}(u)?new ic({...u,element:u.motionValue.owner.current}):new Sl(u);h.finished.then(()=>this.notifyFinished()).catch(ds),this.pendingTimeline&&(this.stopTimeline=h.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=h}get finished(){return this._animation?this.animation.finished:this._finished}then(e,t){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),Hl=!0,Wl(),Ul(),Hl=!1),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const hc=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function dc(e,t,n=1){const[r,a]=function(e){const t=hc.exec(e);if(!t)return[,];const[,n,r,a]=t;return[`--${n??r}`,a]}(e);if(!r)return;const i=window.getComputedStyle(t).getPropertyValue(r);if(i){const e=i.trim();return ls(e)?parseFloat(e):e}return qs(a)?dc(a,t,n+1):a}function pc(e,t){return e?.[t]??e?.default??e}const fc=new Set(["width","height","top","left","right","bottom",...Rl]),mc=e=>t=>t.test(e),gc=[Ys,ho,uo,co,fo,po,{test:e=>"auto"===e,parse:e=>e}],yc=e=>gc.find(mc(e));function xc(e){return"number"==typeof e?0===e:null===e||("none"===e||"0"===e||us(e))}const bc=new Set(["brightness","contrast","saturate","opacity"]);function vc(e){const[t,n]=e.slice(0,-1).split("(");if("drop-shadow"===t)return e;const[r]=n.match(to)||[];if(!r)return e;const a=n.replace(r,"");let i=bc.has(t)?1:0;return r!==n&&(i*=100),t+"("+i+a+")"}const wc=/\b([a-z-]*)\(.*?\)/gu,kc={...Ao,getAnimatableNone:e=>{const t=e.match(wc);return t?t.map(vc).join(" "):e}},Sc={...Ys,transform:Math.round},Nc={borderWidth:ho,borderTopWidth:ho,borderRightWidth:ho,borderBottomWidth:ho,borderLeftWidth:ho,borderRadius:ho,radius:ho,borderTopLeftRadius:ho,borderTopRightRadius:ho,borderBottomRightRadius:ho,borderBottomLeftRadius:ho,width:ho,maxWidth:ho,height:ho,maxHeight:ho,top:ho,right:ho,bottom:ho,left:ho,padding:ho,paddingTop:ho,paddingRight:ho,paddingBottom:ho,paddingLeft:ho,margin:ho,marginTop:ho,marginRight:ho,marginBottom:ho,marginLeft:ho,backgroundPositionX:ho,backgroundPositionY:ho,...{rotate:co,rotateX:co,rotateY:co,rotateZ:co,scale:Js,scaleX:Js,scaleY:Js,scaleZ:Js,skew:co,skewX:co,skewY:co,distance:ho,translateX:ho,translateY:ho,translateZ:ho,x:ho,y:ho,z:ho,perspective:ho,transformPerspective:ho,opacity:Qs,originX:mo,originY:mo,originZ:ho},zIndex:Sc,fillOpacity:Qs,strokeOpacity:Qs,numOctaves:Sc},Ec={...Nc,color:yo,backgroundColor:yo,outlineColor:yo,fill:yo,stroke:yo,borderColor:yo,borderTopColor:yo,borderRightColor:yo,borderBottomColor:yo,borderLeftColor:yo,filter:kc,WebkitFilter:kc},Ac=e=>Ec[e];function Cc(e,t){let n=Ac(e);return n!==kc&&(n=Ao),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const jc=new Set(["auto","none","0"]);class Mc extends Zl{constructor(e,t,n,r,a){super(e,t,n,r,a,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:n}=this;if(!t||!t.current)return;super.readKeyframes();for(let o=0;o<e.length;o++){let n=e[o];if("string"==typeof n&&(n=n.trim(),qs(n))){const r=dc(n,t.current);void 0!==r&&(e[o]=r),o===e.length-1&&(this.finalKeyframe=n)}}if(this.resolveNoneKeyframes(),!fc.has(n)||2!==e.length)return;const[r,a]=e,i=yc(r),s=yc(a);if(i!==s)if(Ll(i)&&Ll(s))for(let o=0;o<e.length;o++){const t=e[o];"string"==typeof t&&(e[o]=parseFloat(t))}else Dl[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,n=[];for(let r=0;r<e.length;r++)(null===e[r]||xc(e[r]))&&n.push(r);n.length&&function(e,t,n){let r,a=0;for(;a<e.length&&!r;){const t=e[a];"string"==typeof t&&!jc.has(t)&&ko(t).values.length&&(r=e[a]),a++}if(r&&n)for(const i of t)e[i]=Cc(n,r)}(e,n,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:n}=this;if(!e||!e.current)return;"height"===n&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Dl[n](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const r=t[t.length-1];void 0!==r&&e.getValue(n,r).jump(r,!1)}measureEndState(){const{element:e,name:t,unresolvedKeyframes:n}=this;if(!e||!e.current)return;const r=e.getValue(t);r&&r.jump(this.measuredOrigin,!1);const a=n.length-1,i=n[a];n[a]=Dl[t](e.measureViewportBox(),window.getComputedStyle(e.current)),null!==i&&void 0===this.finalKeyframe&&(this.finalKeyframe=i),this.removedTransforms?.length&&this.removedTransforms.forEach(([t,n])=>{e.getValue(t).set(n)}),this.resolveNoneKeyframes()}}const Tc=(e,t)=>t&&"number"==typeof e?t.transform(e):e;function Ic(e){return cs(e)&&"offsetHeight"in e}class Oc{constructor(e,t={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=e=>{const t=Ws.now();if(this.updatedAt!==t&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(e),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const n of this.dependents)n.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){var t;this.current=e,this.updatedAt=Ws.now(),null===this.canTrackVelocity&&void 0!==e&&(this.canTrackVelocity=(t=this.current,!isNaN(parseFloat(t))))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new gs);const n=this.events[e].add(t);return"change"===e?()=>{n(),Ds.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,t,n){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-n}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Ws.now();if(!this.canTrackVelocity||void 0===this.prevFrameValue||e-this.updatedAt>30)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,30);return bs(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Pc(e,t){return new Oc(e,t)}const{schedule:Rc}=Fs(queueMicrotask,!1),_c={x:!1,y:!1};function Lc(){return _c.x||_c.y}function $c(e,t){const n=function(e,t,n){if(e instanceof EventTarget)return[e];if("string"==typeof e){let t=document;const r=n?.[e]??t.querySelectorAll(e);return r?Array.from(r):[]}return Array.from(e)}(e),r=new AbortController;return[n,{passive:!0,...t,signal:r.signal},()=>r.abort()]}function Fc(e){return!("touch"===e.pointerType||Lc())}const Dc=(e,t)=>!!t&&(e===t||Dc(e,t.parentElement)),zc=e=>"mouse"===e.pointerType?"number"!=typeof e.button||e.button<=0:!1!==e.isPrimary,Vc=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);const Bc=new WeakSet;function Hc(e){return t=>{"Enter"===t.key&&e(t)}}function Uc(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}function Wc(e){return zc(e)&&!Lc()}function Zc(e,t,n={}){const[r,a,i]=$c(e,n),s=e=>{const r=e.currentTarget;if(!Wc(e))return;Bc.add(r);const i=t(r,e),s=(e,t)=>{window.removeEventListener("pointerup",o),window.removeEventListener("pointercancel",l),Bc.has(r)&&Bc.delete(r),Wc(e)&&"function"==typeof i&&i(e,{success:t})},o=e=>{s(e,r===window||r===document||n.useGlobalTarget||Dc(r,e.target))},l=e=>{s(e,!1)};window.addEventListener("pointerup",o,a),window.addEventListener("pointercancel",l,a)};return r.forEach(e=>{var t;(n.useGlobalTarget?window:e).addEventListener("pointerdown",s,a),Ic(e)&&(e.addEventListener("focus",e=>((e,t)=>{const n=e.currentTarget;if(!n)return;const r=Hc(()=>{if(Bc.has(n))return;Uc(n,"down");const e=Hc(()=>{Uc(n,"up")});n.addEventListener("keyup",e,t),n.addEventListener("blur",()=>Uc(n,"cancel"),t)});n.addEventListener("keydown",r,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),t)})(e,a)),t=e,Vc.has(t.tagName)||-1!==t.tabIndex||e.hasAttribute("tabindex")||(e.tabIndex=0))}),i}function Gc(e){return cs(e)&&"ownerSVGElement"in e}const Kc=e=>Boolean(e&&e.getVelocity),qc=[...gc,yo,Ao],Xc=O.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function Yc(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}function Qc(...e){return O.useCallback(function(...e){return t=>{let n=!1;const r=e.map(e=>{const r=Yc(e,t);return n||"function"!=typeof r||(n=!0),r});if(n)return()=>{for(let t=0;t<r.length;t++){const n=r[t];"function"==typeof n?n():Yc(e[t],null)}}}}(...e),e)}class Jc extends O.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const e=t.offsetParent,n=Ic(e)&&e.offsetWidth||0,r=this.props.sizeRef.current;r.height=t.offsetHeight||0,r.width=t.offsetWidth||0,r.top=t.offsetTop,r.left=t.offsetLeft,r.right=n-r.width-r.left}return null}componentDidUpdate(){}render(){return this.props.children}}function eu({children:e,isPresent:t,anchorX:n,root:r}){const a=O.useId(),i=O.useRef(null),s=O.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:o}=O.useContext(Xc),l=Qc(i,e?.ref);return O.useInsertionEffect(()=>{const{width:e,height:l,top:c,left:u,right:h}=s.current;if(t||!i.current||!e||!l)return;const d="left"===n?`left: ${u}`:`right: ${h}`;i.current.dataset.motionPopId=a;const p=document.createElement("style");o&&(p.nonce=o);const f=r??document.head;return f.appendChild(p),p.sheet&&p.sheet.insertRule(`\n          [data-motion-pop-id="${a}"] {\n            position: absolute !important;\n            width: ${e}px !important;\n            height: ${l}px !important;\n            ${d}px !important;\n            top: ${c}px !important;\n          }\n        `),()=>{f.contains(p)&&f.removeChild(p)}},[t]),u.jsx(Jc,{isPresent:t,childRef:i,sizeRef:s,children:O.cloneElement(e,{ref:l})})}const tu=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:a,presenceAffectsLayout:i,mode:s,anchorX:o,root:l})=>{const c=es(nu),h=O.useId();let d=!0,p=O.useMemo(()=>(d=!1,{id:h,initial:t,isPresent:n,custom:a,onExitComplete:e=>{c.set(e,!0);for(const t of c.values())if(!t)return;r&&r()},register:e=>(c.set(e,!1),()=>c.delete(e))}),[n,c,r]);return i&&d&&(p={...p}),O.useMemo(()=>{c.forEach((e,t)=>c.set(t,!1))},[n]),O.useEffect(()=>{!n&&!c.size&&r&&r()},[n]),"popLayout"===s&&(e=u.jsx(eu,{isPresent:n,anchorX:o,root:l,children:e})),u.jsx(rs.Provider,{value:p,children:e})};function nu(){return new Map}function ru(e=!0){const t=O.useContext(rs);if(null===t)return[!0,null];const{isPresent:n,onExitComplete:r,register:a}=t,i=O.useId();O.useEffect(()=>{if(e)return a(i)},[e]);const s=O.useCallback(()=>e&&r&&r(i),[i,r,e]);return!n&&r?[!1,s]:[!0]}const au=e=>e.key||"";function iu(e){const t=[];return O.Children.forEach(e,e=>{O.isValidElement(e)&&t.push(e)}),t}const su=({children:e,custom:t,initial:n=!0,onExitComplete:r,presenceAffectsLayout:a=!0,mode:i="sync",propagate:s=!1,anchorX:o="left",root:l})=>{const[c,h]=ru(s),d=O.useMemo(()=>iu(e),[e]),p=s&&!c?[]:d.map(au),f=O.useRef(!0),m=O.useRef(d),g=es(()=>new Map),[y,x]=O.useState(d),[b,v]=O.useState(d);ns(()=>{f.current=!1,m.current=d;for(let e=0;e<b.length;e++){const t=au(b[e]);p.includes(t)?g.delete(t):!0!==g.get(t)&&g.set(t,!1)}},[b,p.length,p.join("-")]);const w=[];if(d!==y){let e=[...d];for(let t=0;t<b.length;t++){const n=b[t],r=au(n);p.includes(r)||(e.splice(t,0,n),w.push(n))}return"wait"===i&&w.length&&(e=w),v(iu(e)),x(d),null}const{forceRender:k}=O.useContext(Ji);return u.jsx(u.Fragment,{children:b.map(e=>{const y=au(e),x=!(s&&!c)&&(d===b||p.includes(y));return u.jsx(tu,{isPresent:x,initial:!(f.current&&!n)&&void 0,custom:t,presenceAffectsLayout:a,mode:i,root:l,onExitComplete:x?void 0:()=>{if(!g.has(y))return;g.set(y,!0);let e=!0;g.forEach(t=>{t||(e=!1)}),e&&(k?.(),v(m.current),s&&h?.(),r&&r())},anchorX:o,children:e},y)})})},ou=O.createContext({strict:!1}),lu={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},cu={};for(const jTe in lu)cu[jTe]={isEnabled:e=>lu[jTe].some(t=>!!e[t])};const uu=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function hu(e){return e.startsWith("while")||e.startsWith("drag")&&"draggable"!==e||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||uu.has(e)}let du=e=>!hu(e);try{"function"==typeof(pu=require("@emotion/is-prop-valid").default)&&(du=e=>e.startsWith("on")?!hu(e):pu(e))}catch{}var pu;const fu=O.createContext({});function mu(e){return null!==e&&"object"==typeof e&&"function"==typeof e.start}function gu(e){return"string"==typeof e||Array.isArray(e)}const yu=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],xu=["initial",...yu];function bu(e){return mu(e.animate)||xu.some(t=>gu(e[t]))}function vu(e){return Boolean(bu(e)||e.variants)}function wu(e){const{initial:t,animate:n}=function(e,t){if(bu(e)){const{initial:t,animate:n}=e;return{initial:!1===t||gu(t)?t:void 0,animate:gu(n)?n:void 0}}return!1!==e.inherit?t:{}}(e,O.useContext(fu));return O.useMemo(()=>({initial:t,animate:n}),[ku(t),ku(n)])}function ku(e){return Array.isArray(e)?e.join(" "):e}function Su(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Nu={correct:(e,t)=>{if(!t.target)return e;if("string"==typeof e){if(!ho.test(e))return e;e=parseFloat(e)}return`${Su(e,t.target.x)}% ${Su(e,t.target.y)}%`}},Eu={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,a=Ao.parse(e);if(a.length>5)return r;const i=Ao.createTransformer(e),s="number"!=typeof a[0]?1:0,o=n.x.scale*t.x,l=n.y.scale*t.y;a[0+s]/=o,a[1+s]/=l;const c=Mo(o,l,.5);return"number"==typeof a[2+s]&&(a[2+s]/=c),"number"==typeof a[3+s]&&(a[3+s]/=c),i(a)}},Au={borderRadius:{...Nu,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Nu,borderTopRightRadius:Nu,borderBottomLeftRadius:Nu,borderBottomRightRadius:Nu,boxShadow:Eu};function Cu(e,{layout:t,layoutId:n}){return _l.has(e)||e.startsWith("origin")||(t||void 0!==n)&&(!!Au[e]||"opacity"===e)}const ju={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Mu=Rl.length;function Tu(e,t,n){const{style:r,vars:a,transformOrigin:i}=e;let s=!1,o=!1;for(const l in t){const e=t[l];if(_l.has(l))s=!0;else if(Gs(l))a[l]=e;else{const t=Tc(e,Nc[l]);l.startsWith("origin")?(o=!0,i[l]=t):r[l]=t}}if(t.transform||(s||n?r.transform=function(e,t,n){let r="",a=!0;for(let i=0;i<Mu;i++){const s=Rl[i],o=e[s];if(void 0===o)continue;let l=!0;if(l="number"==typeof o?o===(s.startsWith("scale")?1:0):0===parseFloat(o),!l||n){const e=Tc(o,Nc[s]);l||(a=!1,r+=`${ju[s]||s}(${e}) `),n&&(t[s]=e)}}return r=r.trim(),n?r=n(t,a?"":r):a&&(r="none"),r}(t,e.transform,n):r.transform&&(r.transform="none")),o){const{originX:e="50%",originY:t="50%",originZ:n=0}=i;r.transformOrigin=`${e} ${t} ${n}`}}const Iu=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Ou(e,t,n){for(const r in t)Kc(t[r])||Cu(r,n)||(e[r]=t[r])}function Pu(e,t){const n={};return Ou(n,e.style||{},e),Object.assign(n,function({transformTemplate:e},t){return O.useMemo(()=>{const n={style:{},transform:{},transformOrigin:{},vars:{}};return Tu(n,t,e),Object.assign({},n.vars,n.style)},[t])}(e,t)),n}function Ru(e,t){const n={},r=Pu(e,t);return e.drag&&!1!==e.dragListener&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=!0===e.drag?"none":"pan-"+("x"===e.drag?"y":"x")),void 0===e.tabIndex&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}const _u={offset:"stroke-dashoffset",array:"stroke-dasharray"},Lu={offset:"strokeDashoffset",array:"strokeDasharray"};function $u(e,{attrX:t,attrY:n,attrScale:r,pathLength:a,pathSpacing:i=1,pathOffset:s=0,...o},l,c,u){if(Tu(e,o,c),l)return void(e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox));e.attrs=e.style,e.style={};const{attrs:h,style:d}=e;h.transform&&(d.transform=h.transform,delete h.transform),(d.transform||h.transformOrigin)&&(d.transformOrigin=h.transformOrigin??"50% 50%",delete h.transformOrigin),d.transform&&(d.transformBox=u?.transformBox??"fill-box",delete h.transformBox),void 0!==t&&(h.x=t),void 0!==n&&(h.y=n),void 0!==r&&(h.scale=r),void 0!==a&&function(e,t,n=1,r=0,a=!0){e.pathLength=1;const i=a?_u:Lu;e[i.offset]=ho.transform(-r);const s=ho.transform(t),o=ho.transform(n);e[i.array]=`${s} ${o}`}(h,a,i,s,!1)}const Fu=()=>({style:{},transform:{},transformOrigin:{},vars:{},attrs:{}}),Du=e=>"string"==typeof e&&"svg"===e.toLowerCase();function zu(e,t,n,r){const a=O.useMemo(()=>{const n={style:{},transform:{},transformOrigin:{},vars:{},attrs:{}};return $u(n,t,Du(r),e.transformTemplate,e.style),{...n.attrs,style:{...n.style}}},[t]);if(e.style){const t={};Ou(t,e.style,e),a.style={...t,...a.style}}return a}const Vu=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Bu(e){return"string"==typeof e&&!e.includes("-")&&!!(Vu.indexOf(e)>-1||/[A-Z]/u.test(e))}function Hu(e,t,n,{latestValues:r},a,i=!1){const s=(Bu(e)?zu:Ru)(t,r,a,e),o=function(e,t,n){const r={};for(const a in e)"values"===a&&"object"==typeof e.values||(du(a)||!0===n&&hu(a)||!t&&!hu(a)||e.draggable&&a.startsWith("onDrag"))&&(r[a]=e[a]);return r}(t,"string"==typeof e,i),l=e!==O.Fragment?{...o,...s,ref:n}:{},{children:c}=t,u=O.useMemo(()=>Kc(c)?c.get():c,[c]);return O.createElement(e,{...l,children:u})}function Uu(e){const t=[{},{}];return e?.values.forEach((e,n)=>{t[0][n]=e.get(),t[1][n]=e.getVelocity()}),t}function Wu(e,t,n,r){if("function"==typeof t){const[a,i]=Uu(r);t=t(void 0!==n?n:e.custom,a,i)}if("string"==typeof t&&(t=e.variants&&e.variants[t]),"function"==typeof t){const[a,i]=Uu(r);t=t(void 0!==n?n:e.custom,a,i)}return t}function Zu(e){return Kc(e)?e.get():e}function Gu(e,t,n,r){const a={},i=r(e,{});for(const d in i)a[d]=Zu(i[d]);let{initial:s,animate:o}=e;const l=bu(e),c=vu(e);t&&c&&!l&&!1!==e.inherit&&(void 0===s&&(s=t.initial),void 0===o&&(o=t.animate));let u=!!n&&!1===n.initial;u=u||!1===s;const h=u?o:s;if(h&&"boolean"!=typeof h&&!mu(h)){const t=Array.isArray(h)?h:[h];for(let n=0;n<t.length;n++){const r=Wu(e,t[n]);if(r){const{transitionEnd:e,transition:t,...n}=r;for(const r in n){let e=n[r];if(Array.isArray(e)){e=e[u?e.length-1:0]}null!==e&&(a[r]=e)}for(const r in e)a[r]=e[r]}}}return a}const Ku=e=>(t,n)=>{const r=O.useContext(fu),a=O.useContext(rs),i=()=>function({scrapeMotionValuesFromProps:e,createRenderState:t},n,r,a){return{latestValues:Gu(n,r,a,e),renderState:t()}}(e,t,r,a);return n?i():es(i)};function qu(e,t,n){const{style:r}=e,a={};for(const i in r)(Kc(r[i])||t.style&&Kc(t.style[i])||Cu(i,e)||void 0!==n?.getValue(i)?.liveStyle)&&(a[i]=r[i]);return a}const Xu=Ku({scrapeMotionValuesFromProps:qu,createRenderState:Iu});function Yu(e,t,n){const r=qu(e,t,n);for(const a in e)if(Kc(e[a])||Kc(t[a])){r[-1!==Rl.indexOf(a)?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a]=e[a]}return r}const Qu=Ku({scrapeMotionValuesFromProps:Yu,createRenderState:Fu}),Ju=Symbol.for("motionComponentSymbol");function eh(e){return e&&"object"==typeof e&&Object.prototype.hasOwnProperty.call(e,"current")}function th(e,t,n){return O.useCallback(r=>{r&&e.onMount&&e.onMount(r),t&&(r?t.mount(r):t.unmount()),n&&("function"==typeof n?n(r):eh(n)&&(n.current=r))},[t])}const nh=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),rh="data-"+nh("framerAppearId"),ah=O.createContext({});function ih(e,t,n,r,a){const{visualElement:i}=O.useContext(fu),s=O.useContext(ou),o=O.useContext(rs),l=O.useContext(Xc).reducedMotion,c=O.useRef(null);r=r||s.renderer,!c.current&&r&&(c.current=r(e,{visualState:t,parent:i,props:n,presenceContext:o,blockInitialAnimation:!!o&&!1===o.initial,reducedMotionConfig:l}));const u=c.current,h=O.useContext(ah);!u||u.projection||!a||"html"!==u.type&&"svg"!==u.type||function(e,t,n,r){const{layoutId:a,layout:i,drag:s,dragConstraints:o,layoutScroll:l,layoutRoot:c,layoutCrossfade:u}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:sh(e.parent)),e.projection.setOptions({layoutId:a,layout:i,alwaysMeasureLayout:Boolean(s)||o&&eh(o),visualElement:e,animationType:"string"==typeof i?i:"both",initialPromotionConfig:r,crossfade:u,layoutScroll:l,layoutRoot:c})}(c.current,n,a,h);const d=O.useRef(!1);O.useInsertionEffect(()=>{u&&d.current&&u.update(n,o)});const p=n[rh],f=O.useRef(Boolean(p)&&!window.MotionHandoffIsComplete?.(p)&&window.MotionHasOptimisedAnimation?.(p));return ns(()=>{u&&(d.current=!0,window.MotionIsMounted=!0,u.updateFeatures(),u.scheduleRenderMicrotask(),f.current&&u.animationState&&u.animationState.animateChanges())}),O.useEffect(()=>{u&&(!f.current&&u.animationState&&u.animationState.animateChanges(),f.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(p)}),f.current=!1),u.enteringChildren=void 0)}),u}function sh(e){if(e)return!1!==e.options.allowProjection?e.projection:sh(e.parent)}function oh(e,{forwardMotionProps:t=!1}={},n,r){n&&function(e){for(const t in e)cu[t]={...cu[t],...e[t]}}(n);const a=Bu(e)?Qu:Xu;function i(n,i){let s;const o={...O.useContext(Xc),...n,layoutId:lh(n)},{isStatic:l}=o,c=wu(n),h=a(n,l);if(!l&&ts){O.useContext(ou).strict;const t=function(e){const{drag:t,layout:n}=cu;if(!t&&!n)return{};const r={...t,...n};return{MeasureLayout:t?.isEnabled(e)||n?.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}(o);s=t.MeasureLayout,c.visualElement=ih(e,h,o,r,t.ProjectionNode)}return u.jsxs(fu.Provider,{value:c,children:[s&&c.visualElement?u.jsx(s,{visualElement:c.visualElement,...o}):null,Hu(e,n,th(h,c.visualElement,i),h,l,t)]})}i.displayName=`motion.${"string"==typeof e?e:`create(${e.displayName??e.name??""})`}`;const s=O.forwardRef(i);return s[Ju]=e,s}function lh({layoutId:e}){const t=O.useContext(Ji).id;return t&&void 0!==e?t+"-"+e:e}function ch(e,t){if("undefined"==typeof Proxy)return oh;const n=new Map,r=(n,r)=>oh(n,r,e,t);return new Proxy((e,t)=>r(e,t),{get:(a,i)=>"create"===i?r:(n.has(i)||n.set(i,oh(i,void 0,e,t)),n.get(i))})}function uh({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function hh(e){return void 0===e||1===e}function dh({scale:e,scaleX:t,scaleY:n}){return!hh(e)||!hh(t)||!hh(n)}function ph(e){return dh(e)||fh(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function fh(e){return mh(e.x)||mh(e.y)}function mh(e){return e&&"0%"!==e}function gh(e,t,n){return n+t*(e-n)}function yh(e,t,n,r,a){return void 0!==a&&(e=gh(e,a,r)),gh(e,n,r)+t}function xh(e,t=0,n=1,r,a){e.min=yh(e.min,t,n,r,a),e.max=yh(e.max,t,n,r,a)}function bh(e,{x:t,y:n}){xh(e.x,t.translate,t.scale,t.originPoint),xh(e.y,n.translate,n.scale,n.originPoint)}const vh=.999999999999,wh=1.0000000000001;function kh(e,t){e.min=e.min+t,e.max=e.max+t}function Sh(e,t,n,r,a=.5){xh(e,t,n,Mo(e.min,e.max,a),r)}function Nh(e,t){Sh(e.x,t.x,t.scaleX,t.scale,t.originX),Sh(e.y,t.y,t.scaleY,t.scale,t.originY)}function Eh(e,t){return uh(function(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}(e.getBoundingClientRect(),t))}const Ah=()=>({x:{min:0,max:0},y:{min:0,max:0}}),Ch={current:null},jh={current:!1};const Mh=new WeakMap;const Th=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Ih{scrapeMotionValuesFromProps(e,t,n){return{}}constructor({parent:e,props:t,presenceContext:n,reducedMotionConfig:r,blockInitialAnimation:a,visualState:i},s={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Zl,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const e=Ws.now();this.renderScheduledAt<e&&(this.renderScheduledAt=e,Ds.render(this.render,!1,!0))};const{latestValues:o,renderState:l}=i;this.latestValues=o,this.baseTarget={...o},this.initialValues=t.initial?{...o}:{},this.renderState=l,this.parent=e,this.props=t,this.presenceContext=n,this.depth=e?e.depth+1:0,this.reducedMotionConfig=r,this.options=s,this.blockInitialAnimation=Boolean(a),this.isControllingVariants=bu(t),this.isVariantNode=vu(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=Boolean(e&&e.current);const{willChange:c,...u}=this.scrapeMotionValuesFromProps(t,{},this);for(const h in u){const e=u[h];void 0!==o[h]&&Kc(e)&&e.set(o[h])}}mount(e){this.current=e,Mh.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((e,t)=>this.bindToMotionValue(t,e)),jh.current||function(){if(jh.current=!0,ts)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Ch.current=e.matches;e.addEventListener("change",t),t()}else Ch.current=!1}(),this.shouldReduceMotion="never"!==this.reducedMotionConfig&&("always"===this.reducedMotionConfig||Ch.current),this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),zs(this.notifyUpdate),zs(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const n=_l.has(e);n&&this.onBindTransform&&this.onBindTransform();const r=t.on("change",t=>{this.latestValues[e]=t,this.props.onUpdate&&Ds.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{r(),a&&a(),t.owner&&t.stop()})}sortNodePosition(e){return this.current&&this.sortInstanceNodePosition&&this.type===e.type?this.sortInstanceNodePosition(this.current,e.current):0}updateFeatures(){let e="animation";for(e in cu){const t=cu[e];if(!t)continue;const{isEnabled:n,Feature:r}=t;if(!this.features[e]&&r&&n(this.props)&&(this.features[e]=new r(this)),this.features[e]){const t=this.features[e];t.isMounted?t.update():(t.mount(),t.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):{x:{min:0,max:0},y:{min:0,max:0}}}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let n=0;n<Th.length;n++){const t=Th[n];this.propEventSubscriptions[t]&&(this.propEventSubscriptions[t](),delete this.propEventSubscriptions[t]);const r=e["on"+t];r&&(this.propEventSubscriptions[t]=this.on(t,r))}this.prevMotionValues=function(e,t,n){for(const r in t){const a=t[r],i=n[r];if(Kc(a))e.addValue(r,a);else if(Kc(i))e.addValue(r,Pc(a,{owner:e}));else if(i!==a)if(e.hasValue(r)){const t=e.getValue(r);!0===t.liveStyle?t.jump(a):t.hasAnimated||t.set(a)}else{const t=e.getStaticValue(r);e.addValue(r,Pc(void 0!==t?t:a,{owner:e}))}}for(const r in n)void 0===t[r]&&e.removeValue(r);return t}(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const n=this.values.get(e);t!==n&&(n&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return void 0===n&&void 0!==t&&(n=Pc(null===t?void 0:t,{owner:this}),this.addValue(e,n)),n}readValue(e,t){let n=void 0===this.latestValues[e]&&this.current?this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options):this.latestValues[e];var r;return null!=n&&("string"==typeof n&&(ls(n)||us(n))?n=parseFloat(n):(r=n,!qc.find(mc(r))&&Ao.test(t)&&(n=Cc(e,t))),this.setBaseTarget(e,Kc(n)?n.get():n)),Kc(n)?n.get():n}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){const{initial:t}=this.props;let n;if("string"==typeof t||"object"==typeof t){const r=Wu(this.props,t,this.presenceContext?.custom);r&&(n=r[e])}if(t&&void 0!==n)return n;const r=this.getBaseTargetFromProps(this.props,e);return void 0===r||Kc(r)?void 0!==this.initialValues[e]&&void 0===n?void 0:this.baseTarget[e]:r}on(e,t){return this.events[e]||(this.events[e]=new gs),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}scheduleRenderMicrotask(){Rc.render(this.render)}}class Oh extends Ih{constructor(){super(...arguments),this.KeyframeResolver=Mc}sortInstanceNodePosition(e,t){return 2&e.compareDocumentPosition(t)?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:n}){delete t[e],delete n[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Kc(e)&&(this.childSubscription=e.on("change",e=>{this.current&&(this.current.textContent=`${e}`)}))}}function Ph(e,{style:t,vars:n},r,a){const i=e.style;let s;for(s in t)i[s]=t[s];for(s in a?.applyProjectionStyles(i,r),n)i.setProperty(s,n[s])}class Rh extends Oh{constructor(){super(...arguments),this.type="html",this.renderInstance=Ph}readValueFromInstance(e,t){if(_l.has(t))return this.projection?.isProjecting?Il(t):((e,t)=>{const{transform:n="none"}=getComputedStyle(e);return Ol(n,t)})(e,t);{const r=(n=e,window.getComputedStyle(n)),a=(Gs(t)?r.getPropertyValue(t):r[t])||0;return"string"==typeof a?a.trim():a}var n}measureInstanceViewportBox(e,{transformPagePoint:t}){return Eh(e,t)}build(e,t,n){Tu(e,t,n.transformTemplate)}scrapeMotionValuesFromProps(e,t,n){return qu(e,t,n)}}const _h=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);class Lh extends Oh{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Ah}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(_l.has(t)){const e=Ac(t);return e&&e.default||0}return t=_h.has(t)?t:nh(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,n){return Yu(e,t,n)}build(e,t,n){$u(e,t,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(e,t,n,r){!function(e,t,n,r){Ph(e,t,void 0,r);for(const a in t.attrs)e.setAttribute(_h.has(a)?a:nh(a),t.attrs[a])}(e,t,0,r)}mount(e){this.isSVGTag=Du(e.tagName),super.mount(e)}}const $h=(e,t)=>Bu(e)?new Lh(t):new Rh(t,{allowProjection:e!==O.Fragment});function Fh(e,t,n){const r=e.getProps();return Wu(r,t,void 0!==n?n:r.custom,e)}const Dh=e=>Array.isArray(e);function zh(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Pc(n))}function Vh(e){return Dh(e)?e[e.length-1]||0:e}function Bh(e,t){const n=e.getValue("willChange");if(r=n,Boolean(Kc(r)&&r.add))return n.add(t);if(!n&&os.WillChange){const n=new os.WillChange("auto");e.addValue("willChange",n),n.add(t)}var r}function Hh(e){return e.props[rh]}const Uh=e=>null!==e;const Wh={type:"spring",stiffness:500,damping:25,restSpeed:10},Zh={type:"keyframes",duration:.8},Gh={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Kh=(e,{keyframes:t})=>t.length>2?Zh:_l.has(e)?e.startsWith("scale")?{type:"spring",stiffness:550,damping:0===t[1]?2*Math.sqrt(550):30,restSpeed:10}:Wh:Gh;const qh=(e,t,n,r={},a,i)=>s=>{const o=pc(r,e)||{},l=o.delay||r.delay||0;let{elapsed:c=0}=r;c-=ys(l);const u={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...o,delay:-c,onUpdate:e=>{t.set(e),o.onUpdate&&o.onUpdate(e)},onComplete:()=>{s(),o.onComplete&&o.onComplete()},name:e,motionValue:t,element:i?void 0:a};(function({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:a,repeat:i,repeatType:s,repeatDelay:o,from:l,elapsed:c,...u}){return!!Object.keys(u).length})(o)||Object.assign(u,Kh(e,u)),u.duration&&(u.duration=ys(u.duration)),u.repeatDelay&&(u.repeatDelay=ys(u.repeatDelay)),void 0!==u.from&&(u.keyframes[0]=u.from);let h=!1;if((!1===u.type||0===u.duration&&!u.repeatDelay)&&(oc(u),0===u.delay&&(h=!0)),(os.instantAnimations||os.skipAnimations)&&(h=!0,oc(u),u.delay=0),u.allowFlatten=!o.type&&!o.ease,h&&!i&&void 0!==t.get()){const e=function(e,{repeat:t,repeatType:n="loop"}){const r=e.filter(Uh);return r[t&&"loop"!==n&&t%2==1?0:r.length-1]}(u.keyframes,o);if(void 0!==e)return void Ds.update(()=>{u.onUpdate(e),u.onComplete()})}return o.isSync?new Sl(u):new uc(u)};function Xh({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&!0!==t[n];return t[n]=!1,r}function Yh(e,t,{delay:n=0,transitionOverride:r,type:a}={}){let{transition:i=e.getDefaultTransition(),transitionEnd:s,...o}=t;r&&(i=r);const l=[],c=a&&e.animationState&&e.animationState.getState()[a];for(const u in o){const t=e.getValue(u,e.latestValues[u]??null),r=o[u];if(void 0===r||c&&Xh(c,u))continue;const a={delay:n,...pc(i||{},u)},s=t.get();if(void 0!==s&&!t.isAnimating&&!Array.isArray(r)&&r===s&&!a.velocity)continue;let h=!1;if(window.MotionHandoffAnimation){const t=Hh(e);if(t){const e=window.MotionHandoffAnimation(t,u,Ds);null!==e&&(a.startTime=e,h=!0)}}Bh(e,u),t.start(qh(u,t,r,e.shouldReduceMotion&&fc.has(u)?{type:!1}:a,e,h));const d=t.animation;d&&l.push(d)}return s&&Promise.all(l).then(()=>{Ds.update(()=>{s&&function(e,t){const n=Fh(e,t);let{transitionEnd:r={},transition:a={},...i}=n||{};i={...i,...r};for(const s in i)zh(e,s,Vh(i[s]))}(e,s)})}),l}function Qh(e,t,n,r=0,a=1){const i=Array.from(e).sort((e,t)=>e.sortNodePosition(t)).indexOf(t),s=e.size,o=(s-1)*r;return"function"==typeof n?n(i,s):1===a?i*r:o-i*r}function Jh(e,t,n={}){const r=Fh(e,t,"exit"===n.type?e.presenceContext?.custom:void 0);let{transition:a=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(a=n.transitionOverride);const i=r?()=>Promise.all(Yh(e,r,n)):()=>Promise.resolve(),s=e.variantChildren&&e.variantChildren.size?(r=0)=>{const{delayChildren:i=0,staggerChildren:s,staggerDirection:o}=a;return function(e,t,n=0,r=0,a=0,i=1,s){const o=[];for(const l of e.variantChildren)l.notify("AnimationStart",t),o.push(Jh(l,t,{...s,delay:n+("function"==typeof r?0:r)+Qh(e.variantChildren,l,r,a,i)}).then(()=>l.notify("AnimationComplete",t)));return Promise.all(o)}(e,t,r,i,s,o,n)}:()=>Promise.resolve(),{when:o}=a;if(o){const[e,t]="beforeChildren"===o?[i,s]:[s,i];return e().then(()=>t())}return Promise.all([i(),s(n.delay)])}function ed(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}const td=xu.length;function nd(e){if(!e)return;if(!e.isControllingVariants){const t=e.parent&&nd(e.parent)||{};return void 0!==e.props.initial&&(t.initial=e.props.initial),t}const t={};for(let n=0;n<td;n++){const r=xu[n],a=e.props[r];(gu(a)||!1===a)&&(t[r]=a)}return t}const rd=[...yu].reverse(),ad=yu.length;function id(e){return t=>Promise.all(t.map(({animation:t,options:n})=>function(e,t,n={}){let r;if(e.notify("AnimationStart",t),Array.isArray(t)){const a=t.map(t=>Jh(e,t,n));r=Promise.all(a)}else if("string"==typeof t)r=Jh(e,t,n);else{const a="function"==typeof t?Fh(e,t,n.custom):t;r=Promise.all(Yh(e,a,n))}return r.then(()=>{e.notify("AnimationComplete",t)})}(e,t,n)))}function sd(e){let t=id(e),n=cd(),r=!0;const a=t=>(n,r)=>{const a=Fh(e,r,"exit"===t?e.presenceContext?.custom:void 0);if(a){const{transition:e,transitionEnd:t,...r}=a;n={...n,...r,...t}}return n};function i(i){const{props:s}=e,o=nd(e.parent)||{},l=[],c=new Set;let u={},h=1/0;for(let t=0;t<ad;t++){const d=rd[t],p=n[d],f=void 0!==s[d]?s[d]:o[d],m=gu(f),g=d===i?p.isActive:null;!1===g&&(h=t);let y=f===o[d]&&f!==s[d]&&m;if(y&&r&&e.manuallyAnimateOnMount&&(y=!1),p.protectedKeys={...u},!p.isActive&&null===g||!f&&!p.prevProp||mu(f)||"boolean"==typeof f)continue;const x=od(p.prevProp,f);let b=x||d===i&&p.isActive&&!y&&m||t>h&&m,v=!1;const w=Array.isArray(f)?f:[f];let k=w.reduce(a(d),{});!1===g&&(k={});const{prevResolvedValues:S={}}=p,N={...S,...k},E=t=>{b=!0,c.has(t)&&(v=!0,c.delete(t)),p.needsAnimating[t]=!0;const n=e.getValue(t);n&&(n.liveStyle=!1)};for(const e in N){const t=k[e],n=S[e];if(u.hasOwnProperty(e))continue;let r=!1;r=Dh(t)&&Dh(n)?!ed(t,n):t!==n,r?null!=t?E(e):c.add(e):void 0!==t&&c.has(e)?E(e):p.protectedKeys[e]=!0}p.prevProp=f,p.prevResolvedValues=k,p.isActive&&(u={...u,...k}),r&&e.blockInitialAnimation&&(b=!1);const A=y&&x;b&&(!A||v)&&l.push(...w.map(t=>{const n={type:d};if("string"==typeof t&&r&&!A&&e.manuallyAnimateOnMount&&e.parent){const{parent:r}=e,a=Fh(r,t);if(r.enteringChildren&&a){const{delayChildren:t}=a.transition||{};n.delay=Qh(r.enteringChildren,e,t)}}return{animation:t,options:n}}))}if(c.size){const t={};if("boolean"!=typeof s.initial){const n=Fh(e,Array.isArray(s.initial)?s.initial[0]:s.initial);n&&n.transition&&(t.transition=n.transition)}c.forEach(n=>{const r=e.getBaseTarget(n),a=e.getValue(n);a&&(a.liveStyle=!0),t[n]=r??null}),l.push({animation:t})}let d=Boolean(l.length);return!r||!1!==s.initial&&s.initial!==s.animate||e.manuallyAnimateOnMount||(d=!1),r=!1,d?t(l):Promise.resolve()}return{animateChanges:i,setActive:function(t,r){if(n[t].isActive===r)return Promise.resolve();e.variantChildren?.forEach(e=>e.animationState?.setActive(t,r)),n[t].isActive=r;const a=i(t);for(const e in n)n[e].protectedKeys={};return a},setAnimateFunction:function(n){t=n(e)},getState:()=>n,reset:()=>{n=cd()}}}function od(e,t){return"string"==typeof t?t!==e:!!Array.isArray(t)&&!ed(t,e)}function ld(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function cd(){return{animate:ld(!0),whileInView:ld(),whileHover:ld(),whileTap:ld(),whileDrag:ld(),whileFocus:ld(),exit:ld()}}class ud{constructor(e){this.isMounted=!1,this.node=e}update(){}}let hd=0;const dd={animation:{Feature:class extends ud{constructor(e){super(e),e.animationState||(e.animationState=sd(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();mu(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}},exit:{Feature:class extends ud{constructor(){super(...arguments),this.id=hd++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===n)return;const r=this.node.animationState.setActive("exit",!e);t&&!e&&r.then(()=>{t(this.id)})}mount(){const{register:e,onExitComplete:t}=this.node.presenceContext||{};t&&t(this.id),e&&(this.unmount=e(this.id))}unmount(){}}}};function pd(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function fd(e){return{point:{x:e.pageX,y:e.pageY}}}function md(e,t,n,r){return pd(e,t,(e=>t=>zc(t)&&e(t,fd(t)))(n),r)}function gd(e){return e.max-e.min}function yd(e,t,n,r=.5){e.origin=r,e.originPoint=Mo(t.min,t.max,e.origin),e.scale=gd(n)/gd(t),e.translate=Mo(n.min,n.max,e.origin)-e.originPoint,(e.scale>=.9999&&e.scale<=1.0001||isNaN(e.scale))&&(e.scale=1),(e.translate>=-.01&&e.translate<=.01||isNaN(e.translate))&&(e.translate=0)}function xd(e,t,n,r){yd(e.x,t.x,n.x,r?r.originX:void 0),yd(e.y,t.y,n.y,r?r.originY:void 0)}function bd(e,t,n){e.min=n.min+t.min,e.max=e.min+gd(t)}function vd(e,t,n){e.min=t.min-n.min,e.max=e.min+gd(t)}function wd(e,t,n){vd(e.x,t.x,n.x),vd(e.y,t.y,n.y)}function kd(e){return[e("x"),e("y")]}const Sd=({current:e})=>e?e.ownerDocument.defaultView:null,Nd=(e,t)=>Math.abs(e-t);class Ed{constructor(e,t,{transformPagePoint:n,contextWindow:r=window,dragSnapToOrigin:a=!1,distanceThreshold:i=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!this.lastMoveEvent||!this.lastMoveEventInfo)return;const e=jd(this.lastMoveEventInfo,this.history),t=null!==this.startEvent,n=function(e,t){const n=Nd(e.x,t.x),r=Nd(e.y,t.y);return Math.sqrt(n**2+r**2)}(e.offset,{x:0,y:0})>=this.distanceThreshold;if(!t&&!n)return;const{point:r}=e,{timestamp:a}=Vs;this.history.push({...r,timestamp:a});const{onStart:i,onMove:s}=this.handlers;t||(i&&i(this.lastMoveEvent,e),this.startEvent=this.lastMoveEvent),s&&s(this.lastMoveEvent,e)},this.handlePointerMove=(e,t)=>{this.lastMoveEvent=e,this.lastMoveEventInfo=Ad(t,this.transformPagePoint),Ds.update(this.updatePoint,!0)},this.handlePointerUp=(e,t)=>{this.end();const{onEnd:n,onSessionEnd:r,resumeAnimation:a}=this.handlers;if(this.dragSnapToOrigin&&a&&a(),!this.lastMoveEvent||!this.lastMoveEventInfo)return;const i=jd("pointercancel"===e.type?this.lastMoveEventInfo:Ad(t,this.transformPagePoint),this.history);this.startEvent&&n&&n(e,i),r&&r(e,i)},!zc(e))return;this.dragSnapToOrigin=a,this.handlers=t,this.transformPagePoint=n,this.distanceThreshold=i,this.contextWindow=r||window;const s=Ad(fd(e),this.transformPagePoint),{point:o}=s,{timestamp:l}=Vs;this.history=[{...o,timestamp:l}];const{onSessionStart:c}=t;c&&c(e,jd(s,this.history)),this.removeListeners=fs(md(this.contextWindow,"pointermove",this.handlePointerMove),md(this.contextWindow,"pointerup",this.handlePointerUp),md(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),zs(this.updatePoint)}}function Ad(e,t){return t?{point:t(e.point)}:e}function Cd(e,t){return{x:e.x-t.x,y:e.y-t.y}}function jd({point:e},t){return{point:e,delta:Cd(e,Td(t)),offset:Cd(e,Md(t)),velocity:Id(t,.1)}}function Md(e){return e[0]}function Td(e){return e[e.length-1]}function Id(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const a=Td(e);for(;n>=0&&(r=e[n],!(a.timestamp-r.timestamp>ys(t)));)n--;if(!r)return{x:0,y:0};const i=xs(a.timestamp-r.timestamp);if(0===i)return{x:0,y:0};const s={x:(a.x-r.x)/i,y:(a.y-r.y)/i};return s.x===1/0&&(s.x=0),s.y===1/0&&(s.y=0),s}function Od(e,t,n){return{min:void 0!==t?e.min+t:void 0,max:void 0!==n?e.max+n-(e.max-e.min):void 0}}function Pd(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}const Rd=.35;function _d(e,t,n){return{min:Ld(e,t),max:Ld(e,n)}}function Ld(e,t){return"number"==typeof e?e:e[t]||0}const $d=new WeakMap;class Fd{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic={x:{min:0,max:0},y:{min:0,max:0}},this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:t=!1,distanceThreshold:n}={}){const{presenceContext:r}=this.visualElement;if(r&&!1===r.isPresent)return;const{dragSnapToOrigin:a}=this.getProps();this.panSession=new Ed(e,{onSessionStart:e=>{const{dragSnapToOrigin:n}=this.getProps();n?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(fd(e).point)},onStart:(e,t)=>{const{drag:n,dragPropagation:r,onDragStart:a}=this.getProps();if(n&&!r&&(this.openDragLock&&this.openDragLock(),this.openDragLock="x"===(i=n)||"y"===i?_c[i]?null:(_c[i]=!0,()=>{_c[i]=!1}):_c.x||_c.y?null:(_c.x=_c.y=!0,()=>{_c.x=_c.y=!1}),!this.openDragLock))return;var i;this.latestPointerEvent=e,this.latestPanInfo=t,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),kd(e=>{let t=this.getAxisMotionValue(e).get()||0;if(uo.test(t)){const{projection:n}=this.visualElement;if(n&&n.layout){const r=n.layout.layoutBox[e];if(r){t=gd(r)*(parseFloat(t)/100)}}}this.originPoint[e]=t}),a&&Ds.postRender(()=>a(e,t)),Bh(this.visualElement,"transform");const{animationState:s}=this.visualElement;s&&s.setActive("whileDrag",!0)},onMove:(e,t)=>{this.latestPointerEvent=e,this.latestPanInfo=t;const{dragPropagation:n,dragDirectionLock:r,onDirectionLock:a,onDrag:i}=this.getProps();if(!n&&!this.openDragLock)return;const{offset:s}=t;if(r&&null===this.currentDirection)return this.currentDirection=function(e,t=10){let n=null;Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x");return n}(s),void(null!==this.currentDirection&&a&&a(this.currentDirection));this.updateAxis("x",t.point,s),this.updateAxis("y",t.point,s),this.visualElement.render(),i&&i(e,t)},onSessionEnd:(e,t)=>{this.latestPointerEvent=e,this.latestPanInfo=t,this.stop(e,t),this.latestPointerEvent=null,this.latestPanInfo=null},resumeAnimation:()=>kd(e=>"paused"===this.getAnimationState(e)&&this.getAxisMotionValue(e).animation?.play())},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:a,distanceThreshold:n,contextWindow:Sd(this.visualElement)})}stop(e,t){const n=e||this.latestPointerEvent,r=t||this.latestPanInfo,a=this.isDragging;if(this.cancel(),!a||!r||!n)return;const{velocity:i}=r;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&Ds.postRender(()=>s(n,r))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,n){const{drag:r}=this.getProps();if(!n||!Dd(e,r,this.currentDirection))return;const a=this.getAxisMotionValue(e);let i=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(i=function(e,{min:t,max:n},r){return void 0!==t&&e<t?e=r?Mo(t,e,r.min):Math.max(e,t):void 0!==n&&e>n&&(e=r?Mo(n,e,r.max):Math.min(e,n)),e}(i,this.constraints[e],this.elastic[e])),a.set(i)}resolveConstraints(){const{dragConstraints:e,dragElastic:t}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,r=this.constraints;e&&eh(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):this.constraints=!(!e||!n)&&function(e,{top:t,left:n,bottom:r,right:a}){return{x:Od(e.x,n,a),y:Od(e.y,t,r)}}(n.layoutBox,e),this.elastic=function(e=Rd){return!1===e?e=0:!0===e&&(e=Rd),{x:_d(e,"left","right"),y:_d(e,"top","bottom")}}(t),r!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&kd(e=>{!1!==this.constraints&&this.getAxisMotionValue(e)&&(this.constraints[e]=function(e,t){const n={};return void 0!==t.min&&(n.min=t.min-e.min),void 0!==t.max&&(n.max=t.max-e.min),n}(n.layoutBox[e],this.constraints[e]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!eh(e))return!1;const n=e.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const a=function(e,t,n){const r=Eh(e,n),{scroll:a}=t;return a&&(kh(r.x,a.offset.x),kh(r.y,a.offset.y)),r}(n,r.root,this.visualElement.getTransformPagePoint());let i=function(e,t){return{x:Pd(e.x,t.x),y:Pd(e.y,t.y)}}(r.layout.layoutBox,a);if(t){const e=t(function({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}(i));this.hasMutatedConstraints=!!e,e&&(i=uh(e))}return i}startAnimation(e){const{drag:t,dragMomentum:n,dragElastic:r,dragTransition:a,dragSnapToOrigin:i,onDragTransitionEnd:s}=this.getProps(),o=this.constraints||{},l=kd(s=>{if(!Dd(s,t,this.currentDirection))return;let l=o&&o[s]||{};i&&(l={min:0,max:0});const c=r?200:1e6,u=r?40:1e7,h={type:"inertia",velocity:n?e[s]:0,bounceStiffness:c,bounceDamping:u,timeConstant:750,restDelta:1,restSpeed:10,...a,...l};return this.startAxisValueAnimation(s,h)});return Promise.all(l).then(s)}startAxisValueAnimation(e,t){const n=this.getAxisMotionValue(e);return Bh(this.visualElement,e),n.start(qh(e,n,0,t,this.visualElement,!1))}stopAnimation(){kd(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){kd(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const t=`_drag${e.toUpperCase()}`,n=this.visualElement.getProps(),r=n[t];return r||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){kd(t=>{const{drag:n}=this.getProps();if(!Dd(t,n,this.currentDirection))return;const{projection:r}=this.visualElement,a=this.getAxisMotionValue(t);if(r&&r.layout){const{min:n,max:i}=r.layout.layoutBox[t];a.set(e[t]-Mo(n,i,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:n}=this.visualElement;if(!eh(t)||!n||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};kd(e=>{const t=this.getAxisMotionValue(e);if(t&&!1!==this.constraints){const n=t.get();r[e]=function(e,t){let n=.5;const r=gd(e),a=gd(t);return a>r?n=ms(t.min,t.max-r,e.min):r>a&&(n=ms(e.min,e.max-a,t.min)),ss(0,1,n)}({min:n,max:n},this.constraints[e])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),kd(t=>{if(!Dd(t,e,null))return;const n=this.getAxisMotionValue(t),{min:a,max:i}=this.constraints[t];n.set(Mo(a,i,r[t]))})}addListeners(){if(!this.visualElement.current)return;$d.set(this.visualElement,this);const e=md(this.visualElement.current,"pointerdown",e=>{const{drag:t,dragListener:n=!0}=this.getProps();t&&n&&this.start(e)}),t=()=>{const{dragConstraints:e}=this.getProps();eh(e)&&e.current&&(this.constraints=this.resolveRefConstraints())},{projection:n}=this.visualElement,r=n.addEventListener("measure",t);n&&!n.layout&&(n.root&&n.root.updateScroll(),n.updateLayout()),Ds.read(t);const a=pd(window,"resize",()=>this.scalePositionWithinConstraints()),i=n.addEventListener("didUpdate",({delta:e,hasLayoutChanged:t})=>{this.isDragging&&t&&(kd(t=>{const n=this.getAxisMotionValue(t);n&&(this.originPoint[t]+=e[t].translate,n.set(n.get()+e[t].translate))}),this.visualElement.render())});return()=>{a(),e(),r(),i&&i()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:n=!1,dragPropagation:r=!1,dragConstraints:a=!1,dragElastic:i=Rd,dragMomentum:s=!0}=e;return{...e,drag:t,dragDirectionLock:n,dragPropagation:r,dragConstraints:a,dragElastic:i,dragMomentum:s}}}function Dd(e,t,n){return!(!0!==t&&t!==e||null!==n&&n!==e)}const zd=e=>(t,n)=>{e&&Ds.postRender(()=>e(t,n))};const Vd={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let Bd=!1;class Hd extends O.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n,layoutId:r}=this.props,{projection:a}=e;a&&(t.group&&t.group.add(a),n&&n.register&&r&&n.register(a),Bd&&a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),Vd.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:n,drag:r,isPresent:a}=this.props,{projection:i}=n;return i?(i.isPresent=a,Bd=!0,r||e.layoutDependency!==t||void 0===t||e.isPresent!==a?i.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?i.promote():i.relegate()||Ds.postRender(()=>{const e=i.getStack();e&&e.members.length||this.safeToRemove()})),null):null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Rc.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n}=this.props,{projection:r}=e;Bd=!0,r&&(r.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(r),n&&n.deregister&&n.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function Ud(e){const[t,n]=ru(),r=O.useContext(Ji);return u.jsx(Hd,{...e,layoutGroup:r,switchLayoutGroup:O.useContext(ah),isPresent:t,safeToRemove:n})}const Wd=(e,t)=>e.depth-t.depth;class Zd{constructor(){this.children=[],this.isDirty=!1}add(e){as(this.children,e),this.isDirty=!0}remove(e){is(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Wd),this.isDirty=!1,this.children.forEach(e)}}const Gd=["TopLeft","TopRight","BottomLeft","BottomRight"],Kd=Gd.length,qd=e=>"string"==typeof e?parseFloat(e):e,Xd=e=>"number"==typeof e||ho.test(e);function Yd(e,t){return void 0!==e[t]?e[t]:e.borderRadius}const Qd=ep(0,.5,Ms),Jd=ep(.5,.95,ds);function ep(e,t,n){return r=>r<e?0:r>t?1:n(ms(e,t,r))}function tp(e,t){e.min=t.min,e.max=t.max}function np(e,t){tp(e.x,t.x),tp(e.y,t.y)}function rp(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function ap(e,t,n,r,a){return e=gh(e-=t,1/n,r),void 0!==a&&(e=gh(e,1/a,r)),e}function ip(e,t,[n,r,a],i,s){!function(e,t=0,n=1,r=.5,a,i=e,s=e){uo.test(t)&&(t=parseFloat(t),t=Mo(s.min,s.max,t/100)-s.min);if("number"!=typeof t)return;let o=Mo(i.min,i.max,r);e===i&&(o-=t),e.min=ap(e.min,t,n,o,a),e.max=ap(e.max,t,n,o,a)}(e,t[n],t[r],t[a],t.scale,i,s)}const sp=["x","scaleX","originX"],op=["y","scaleY","originY"];function lp(e,t,n,r){ip(e.x,t,sp,n?n.x:void 0,r?r.x:void 0),ip(e.y,t,op,n?n.y:void 0,r?r.y:void 0)}function cp(e){return 0===e.translate&&1===e.scale}function up(e){return cp(e.x)&&cp(e.y)}function hp(e,t){return e.min===t.min&&e.max===t.max}function dp(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function pp(e,t){return dp(e.x,t.x)&&dp(e.y,t.y)}function fp(e){return gd(e.x)/gd(e.y)}function mp(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class gp{constructor(){this.members=[]}add(e){as(this.members,e),e.scheduleRender()}remove(e){if(is(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(e){const t=this.members.findIndex(t=>e===t);if(0===t)return!1;let n;for(let r=t;r>=0;r--){const e=this.members[r];if(!1!==e.isPresent){n=e;break}}return!!n&&(this.promote(n),!0)}promote(e,t){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,t&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:r}=e.options;!1===r&&n.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:n}=e;t.onExitComplete&&t.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const yp=["","X","Y","Z"];let xp=0;function bp(e,t,n,r){const{latestValues:a}=t;a[e]&&(n[e]=a[e],t.setStaticValue(e,0),r&&(r[e]=0))}function vp(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=Hh(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:t,layoutId:r}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",Ds,!(t||r))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&vp(r)}function wp({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:a}){return class{constructor(e={},n=t?.()){this.id=xp++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(Np),this.nodes.forEach(Ip),this.nodes.forEach(Op),this.nodes.forEach(Ep)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=e,this.root=n?n.root||n:this,this.path=n?[...n.path,n]:[],this.parent=n,this.depth=n?n.depth+1:0;for(let t=0;t<this.path.length;t++)this.path[t].shouldResetTransform=!0;this.root===this&&(this.nodes=new Zd)}addEventListener(e,t){return this.eventHandlers.has(e)||this.eventHandlers.set(e,new gs),this.eventHandlers.get(e).add(t)}notifyListeners(e,...t){const n=this.eventHandlers.get(e);n&&n.notify(...t)}hasListeners(e){return this.eventHandlers.has(e)}mount(t){if(this.instance)return;var n;this.isSVG=Gc(t)&&!(Gc(n=t)&&"svg"===n.tagName),this.instance=t;const{layoutId:r,layout:a,visualElement:i}=this.options;if(i&&!i.current&&i.mount(t),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(a||r)&&(this.isLayoutDirty=!0),e){let n,r=0;const a=()=>this.root.updateBlockedByResize=!1;Ds.read(()=>{r=window.innerWidth}),e(t,()=>{const e=window.innerWidth;e!==r&&(r=e,this.root.updateBlockedByResize=!0,n&&n(),n=function(e,t){const n=Ws.now(),r=({timestamp:a})=>{const i=a-n;i>=t&&(zs(r),e(i-t))};return Ds.setup(r,!0),()=>zs(r)}(a,250),Vd.hasAnimatedSinceResize&&(Vd.hasAnimatedSinceResize=!1,this.nodes.forEach(Tp)))})}r&&this.root.registerSharedNode(r,this),!1!==this.options.animate&&i&&(r||a)&&this.addEventListener("didUpdate",({delta:e,hasLayoutChanged:t,hasRelativeLayoutChanged:n,layout:r})=>{if(this.isTreeAnimationBlocked())return this.target=void 0,void(this.relativeTarget=void 0);const a=this.options.transition||i.getDefaultTransition()||Fp,{onLayoutAnimationStart:s,onLayoutAnimationComplete:o}=i.getProps(),l=!this.targetLayout||!pp(this.targetLayout,r),c=!t&&n;if(this.options.layoutRoot||this.resumeFrom||c||t&&(l||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const t={...pc(a,"layout"),onPlay:s,onComplete:o};(i.shouldReduceMotion||this.options.layoutRoot)&&(t.delay=0,t.type=!1),this.startAnimation(t),this.setAnimationOrigin(e,c)}else t||Tp(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=r})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const e=this.getStack();e&&e.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),zs(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Pp),this.animationId++)}getTransformTemplate(){const{visualElement:e}=this.options;return e&&e.getProps().transformTemplate}willUpdate(e=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked())return void(this.options.onExitComplete&&this.options.onExitComplete());if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&vp(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let a=0;a<this.path.length;a++){const e=this.path[a];e.shouldResetTransform=!0,e.updateScroll("snapshot"),e.options.layoutRoot&&e.willUpdate(!1)}const{layoutId:t,layout:n}=this.options;if(void 0===t&&!n)return;const r=this.getTransformTemplate();this.prevTransformTemplateValue=r?r(this.latestValues,""):void 0,this.updateSnapshot(),e&&this.notifyListeners("willUpdate")}update(){this.updateScheduled=!1;if(this.isUpdateBlocked())return this.unblockUpdate(),this.clearAllSnapshots(),void this.nodes.forEach(Cp);if(this.animationId<=this.animationCommitId)return void this.nodes.forEach(jp);this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(Mp),this.nodes.forEach(kp),this.nodes.forEach(Sp)):this.nodes.forEach(jp),this.clearAllSnapshots();const e=Ws.now();Vs.delta=ss(0,1e3/60,e-Vs.timestamp),Vs.timestamp=e,Vs.isProcessing=!0,Bs.update.process(Vs),Bs.preRender.process(Vs),Bs.render.process(Vs),Vs.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Rc.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Ap),this.sharedNodes.forEach(Rp)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ds.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ds.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){!this.snapshot&&this.instance&&(this.snapshot=this.measure(),!this.snapshot||gd(this.snapshot.measuredBox.x)||gd(this.snapshot.measuredBox.y)||(this.snapshot=void 0))}updateLayout(){if(!this.instance)return;if(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead()||this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let n=0;n<this.path.length;n++){this.path[n].updateScroll()}const e=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected={x:{min:0,max:0},y:{min:0,max:0}},this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:t}=this.options;t&&t.notify("LayoutMeasure",this.layout.layoutBox,e?e.layoutBox:void 0)}updateScroll(e="measure"){let t=Boolean(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===e&&(t=!1),t&&this.instance){const t=r(this.instance);this.scroll={animationId:this.root.animationId,phase:e,isRoot:t,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:t}}}resetTransform(){if(!a)return;const e=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,t=this.projectionDelta&&!up(this.projectionDelta),n=this.getTransformTemplate(),r=n?n(this.latestValues,""):void 0,i=r!==this.prevTransformTemplateValue;e&&this.instance&&(t||ph(this.latestValues)||i)&&(a(this.instance,r),this.shouldResetTransform=!1,this.scheduleRender())}measure(e=!0){const t=this.measurePageBox();let n=this.removeElementScroll(t);var r;return e&&(n=this.removeTransform(n)),Vp((r=n).x),Vp(r.y),{animationId:this.root.animationId,measuredBox:t,layoutBox:n,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:e}=this.options;if(!e)return{x:{min:0,max:0},y:{min:0,max:0}};const t=e.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(Hp))){const{scroll:e}=this.root;e&&(kh(t.x,e.offset.x),kh(t.y,e.offset.y))}return t}removeElementScroll(e){const t={x:{min:0,max:0},y:{min:0,max:0}};if(np(t,e),this.scroll?.wasRoot)return t;for(let n=0;n<this.path.length;n++){const r=this.path[n],{scroll:a,options:i}=r;r!==this.root&&a&&i.layoutScroll&&(a.wasRoot&&np(t,e),kh(t.x,a.offset.x),kh(t.y,a.offset.y))}return t}applyTransform(e,t=!1){const n={x:{min:0,max:0},y:{min:0,max:0}};np(n,e);for(let r=0;r<this.path.length;r++){const e=this.path[r];!t&&e.options.layoutScroll&&e.scroll&&e!==e.root&&Nh(n,{x:-e.scroll.offset.x,y:-e.scroll.offset.y}),ph(e.latestValues)&&Nh(n,e.latestValues)}return ph(this.latestValues)&&Nh(n,this.latestValues),n}removeTransform(e){const t={x:{min:0,max:0},y:{min:0,max:0}};np(t,e);for(let n=0;n<this.path.length;n++){const e=this.path[n];if(!e.instance)continue;if(!ph(e.latestValues))continue;dh(e.latestValues)&&e.updateSnapshot();const r=Ah();np(r,e.measurePageBox()),lp(t,e.latestValues,e.snapshot?e.snapshot.layoutBox:void 0,r)}return ph(this.latestValues)&&lp(t,this.latestValues),t}setTargetDelta(e){this.targetDelta=e,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(e){this.options={...this.options,...e,crossfade:void 0===e.crossfade||e.crossfade}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Vs.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(e=!1){const t=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=t.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=t.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=t.isSharedProjectionDirty);const n=Boolean(this.resumingFrom)||this!==t;if(!(e||n&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:r,layoutId:a}=this.options;if(!this.layout||!r&&!a)return;this.resolvedRelativeTargetAt=Vs.timestamp;const i=this.getClosestProjectingParent();var s,o,l;(i&&this.linkedParentVersion!==i.layoutVersion&&!i.options.layoutRoot&&this.removeRelativeTarget(),this.targetDelta||this.relativeTarget||(i&&i.layout?this.createRelativeTarget(i,this.layout.layoutBox,i.layout.layoutBox):this.removeRelativeTarget()),this.relativeTarget||this.targetDelta)&&(this.target||(this.target={x:{min:0,max:0},y:{min:0,max:0}},this.targetWithTransforms={x:{min:0,max:0},y:{min:0,max:0}}),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),s=this.target,o=this.relativeTarget,l=this.relativeParent.target,bd(s.x,o.x,l.x),bd(s.y,o.y,l.y)):this.targetDelta?(Boolean(this.resumingFrom)?this.target=this.applyTransform(this.layout.layoutBox):np(this.target,this.layout.layoutBox),bh(this.target,this.targetDelta)):np(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,i&&Boolean(i.resumingFrom)===Boolean(this.resumingFrom)&&!i.options.layoutScroll&&i.target&&1!==this.animationProgress?this.createRelativeTarget(i,this.target,i.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(this.parent&&!dh(this.parent.latestValues)&&!fh(this.parent.latestValues))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return Boolean((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(e,t,n){this.relativeParent=e,this.linkedParentVersion=e.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},wd(this.relativeTargetOrigin,t,n),np(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const e=this.getLead(),t=Boolean(this.resumingFrom)||this!==e;let n=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(n=!1),t&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(n=!1),this.resolvedRelativeTargetAt===Vs.timestamp&&(n=!1),n)return;const{layout:r,layoutId:a}=this.options;if(this.isTreeAnimating=Boolean(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!r&&!a)return;np(this.layoutCorrected,this.layout.layoutBox);const i=this.treeScale.x,s=this.treeScale.y;!function(e,t,n,r=!1){const a=n.length;if(!a)return;let i,s;t.x=t.y=1;for(let o=0;o<a;o++){i=n[o],s=i.projectionDelta;const{visualElement:a}=i.options;a&&a.props.style&&"contents"===a.props.style.display||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&Nh(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),s&&(t.x*=s.x.scale,t.y*=s.y.scale,bh(e,s)),r&&ph(i.latestValues)&&Nh(e,i.latestValues))}t.x<wh&&t.x>vh&&(t.x=1),t.y<wh&&t.y>vh&&(t.y=1)}(this.layoutCorrected,this.treeScale,this.path,t),!e.layout||e.target||1===this.treeScale.x&&1===this.treeScale.y||(e.target=e.layout.layoutBox,e.targetWithTransforms={x:{min:0,max:0},y:{min:0,max:0}});const{target:o}=e;o?(this.projectionDelta&&this.prevProjectionDelta?(rp(this.prevProjectionDelta.x,this.projectionDelta.x),rp(this.prevProjectionDelta.y,this.projectionDelta.y)):this.createProjectionDeltas(),xd(this.projectionDelta,this.layoutCorrected,o,this.latestValues),this.treeScale.x===i&&this.treeScale.y===s&&mp(this.projectionDelta.x,this.prevProjectionDelta.x)&&mp(this.projectionDelta.y,this.prevProjectionDelta.y)||(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",o))):this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender())}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(e=!0){if(this.options.visualElement?.scheduleRender(),e){const e=this.getStack();e&&e.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionDeltaWithTransform={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}}}setAnimationOrigin(e,t=!1){const n=this.snapshot,r=n?n.latestValues:{},a={...this.latestValues},i={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};this.relativeParent&&this.relativeParent.options.layoutRoot||(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!t;const s={x:{min:0,max:0},y:{min:0,max:0}},o=(n?n.source:void 0)!==(this.layout?this.layout.source:void 0),l=this.getStack(),c=!l||l.members.length<=1,u=Boolean(o&&!c&&!0===this.options.crossfade&&!this.path.some($p));let h;this.animationProgress=0,this.mixTargetDelta=t=>{const n=t/1e3;var l,d,p,f,m,g;_p(i.x,e.x,n),_p(i.y,e.y,n),this.setTargetDelta(i),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(wd(s,this.layout.layoutBox,this.relativeParent.layout.layoutBox),p=this.relativeTarget,f=this.relativeTargetOrigin,m=s,g=n,Lp(p.x,f.x,m.x,g),Lp(p.y,f.y,m.y,g),h&&(l=this.relativeTarget,d=h,hp(l.x,d.x)&&hp(l.y,d.y))&&(this.isProjectionDirty=!1),h||(h={x:{min:0,max:0},y:{min:0,max:0}}),np(h,this.relativeTarget)),o&&(this.animationValues=a,function(e,t,n,r,a,i){a?(e.opacity=Mo(0,n.opacity??1,Qd(r)),e.opacityExit=Mo(t.opacity??1,0,Jd(r))):i&&(e.opacity=Mo(t.opacity??1,n.opacity??1,r));for(let s=0;s<Kd;s++){const a=`border${Gd[s]}Radius`;let i=Yd(t,a),o=Yd(n,a);void 0===i&&void 0===o||(i||(i=0),o||(o=0),0===i||0===o||Xd(i)===Xd(o)?(e[a]=Math.max(Mo(qd(i),qd(o),r),0),(uo.test(o)||uo.test(i))&&(e[a]+="%")):e[a]=o)}(t.rotate||n.rotate)&&(e.rotate=Mo(t.rotate||0,n.rotate||0,r))}(a,r,this.latestValues,n,u,c)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=n},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(e){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(zs(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ds.update(()=>{Vd.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Pc(0)),this.currentAnimation=function(e,t,n){const r=Kc(e)?e:Pc(e);return r.start(qh("",r,t,n)),r.animation}(this.motionValue,[0,1e3],{...e,velocity:0,isSync:!0,onUpdate:t=>{this.mixTargetDelta(t),e.onUpdate&&e.onUpdate(t)},onStop:()=>{},onComplete:()=>{e.onComplete&&e.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const e=this.getStack();e&&e.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(1e3),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const e=this.getLead();let{targetWithTransforms:t,target:n,layout:r,latestValues:a}=e;if(t&&n&&r){if(this!==e&&this.layout&&r&&Bp(this.options.animationType,this.layout.layoutBox,r.layoutBox)){n=this.target||{x:{min:0,max:0},y:{min:0,max:0}};const t=gd(this.layout.layoutBox.x);n.x.min=e.target.x.min,n.x.max=n.x.min+t;const r=gd(this.layout.layoutBox.y);n.y.min=e.target.y.min,n.y.max=n.y.min+r}np(t,n),Nh(t,a),xd(this.projectionDeltaWithTransform,this.layoutCorrected,t,a)}}registerSharedNode(e,t){this.sharedNodes.has(e)||this.sharedNodes.set(e,new gp);this.sharedNodes.get(e).add(t);const n=t.options.initialPromotionConfig;t.promote({transition:n?n.transition:void 0,preserveFollowOpacity:n&&n.shouldPreserveFollowOpacity?n.shouldPreserveFollowOpacity(t):void 0})}isLead(){const e=this.getStack();return!e||e.lead===this}getLead(){const{layoutId:e}=this.options;return e&&this.getStack()?.lead||this}getPrevLead(){const{layoutId:e}=this.options;return e?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:e}=this.options;if(e)return this.root.sharedNodes.get(e)}promote({needsReset:e,transition:t,preserveFollowOpacity:n}={}){const r=this.getStack();r&&r.promote(this,n),e&&(this.projectionDelta=void 0,this.needsReset=!0),t&&this.setOptions({transition:t})}relegate(){const e=this.getStack();return!!e&&e.relegate(this)}resetSkewAndRotation(){const{visualElement:e}=this.options;if(!e)return;let t=!1;const{latestValues:n}=e;if((n.z||n.rotate||n.rotateX||n.rotateY||n.rotateZ||n.skewX||n.skewY)&&(t=!0),!t)return;const r={};n.z&&bp("z",e,r,this.animationValues);for(let a=0;a<yp.length;a++)bp(`rotate${yp[a]}`,e,r,this.animationValues),bp(`skew${yp[a]}`,e,r,this.animationValues);e.render();for(const a in r)e.setStaticValue(a,r[a]),this.animationValues&&(this.animationValues[a]=r[a]);e.scheduleRender()}applyProjectionStyles(e,t){if(!this.instance||this.isSVG)return;if(!this.isVisible)return void(e.visibility="hidden");const n=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,e.visibility="",e.opacity="",e.pointerEvents=Zu(t?.pointerEvents)||"",void(e.transform=n?n(this.latestValues,""):"none");const r=this.getLead();if(!this.projectionDelta||!this.layout||!r.target)return this.options.layoutId&&(e.opacity=void 0!==this.latestValues.opacity?this.latestValues.opacity:1,e.pointerEvents=Zu(t?.pointerEvents)||""),void(this.hasProjected&&!ph(this.latestValues)&&(e.transform=n?n({},""):"none",this.hasProjected=!1));e.visibility="";const a=r.animationValues||r.latestValues;this.applyTransformsToTarget();let i=function(e,t,n){let r="";const a=e.x.translate/t.x,i=e.y.translate/t.y,s=n?.z||0;if((a||i||s)&&(r=`translate3d(${a}px, ${i}px, ${s}px) `),1===t.x&&1===t.y||(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:e,rotate:t,rotateX:a,rotateY:i,skewX:s,skewY:o}=n;e&&(r=`perspective(${e}px) ${r}`),t&&(r+=`rotate(${t}deg) `),a&&(r+=`rotateX(${a}deg) `),i&&(r+=`rotateY(${i}deg) `),s&&(r+=`skewX(${s}deg) `),o&&(r+=`skewY(${o}deg) `)}const o=e.x.scale*t.x,l=e.y.scale*t.y;return 1===o&&1===l||(r+=`scale(${o}, ${l})`),r||"none"}(this.projectionDeltaWithTransform,this.treeScale,a);n&&(i=n(a,i)),e.transform=i;const{x:s,y:o}=this.projectionDelta;e.transformOrigin=`${100*s.origin}% ${100*o.origin}% 0`,r.animationValues?e.opacity=r===this?a.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:a.opacityExit:e.opacity=r===this?void 0!==a.opacity?a.opacity:"":void 0!==a.opacityExit?a.opacityExit:0;for(const l in Au){if(void 0===a[l])continue;const{correct:t,applyTo:n,isCSSVariable:s}=Au[l],o="none"===i?a[l]:t(a[l],r);if(n){const t=n.length;for(let r=0;r<t;r++)e[n[r]]=o}else s?this.options.visualElement.renderState.vars[l]=o:e[l]=o}this.options.layoutId&&(e.pointerEvents=r===this?Zu(t?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(e=>e.currentAnimation?.stop()),this.root.nodes.forEach(Cp),this.root.sharedNodes.clear()}}}function kp(e){e.updateLayout()}function Sp(e){const t=e.resumeFrom?.snapshot||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:r}=e.layout,{animationType:a}=e.options,i=t.source!==e.layout.source;"size"===a?kd(e=>{const r=i?t.measuredBox[e]:t.layoutBox[e],a=gd(r);r.min=n[e].min,r.max=r.min+a}):Bp(a,t.layoutBox,n)&&kd(r=>{const a=i?t.measuredBox[r]:t.layoutBox[r],s=gd(n[r]);a.max=a.min+s,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[r].max=e.relativeTarget[r].min+s)});const s={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};xd(s,n,t.layoutBox);const o={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};i?xd(o,e.applyTransform(r,!0),t.measuredBox):xd(o,n,t.layoutBox);const l=!up(s);let c=!1;if(!e.resumeFrom){const r=e.getClosestProjectingParent();if(r&&!r.resumeFrom){const{snapshot:a,layout:i}=r;if(a&&i){const s={x:{min:0,max:0},y:{min:0,max:0}};wd(s,t.layoutBox,a.layoutBox);const o={x:{min:0,max:0},y:{min:0,max:0}};wd(o,n,i.layoutBox),pp(s,o)||(c=!0),r.options.layoutRoot&&(e.relativeTarget=o,e.relativeTargetOrigin=s,e.relativeParent=r)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:t,delta:o,layoutDelta:s,hasLayoutChanged:l,hasRelativeLayoutChanged:c})}else if(e.isLead()){const{onExitComplete:t}=e.options;t&&t()}e.options.transition=void 0}function Np(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=Boolean(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function Ep(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function Ap(e){e.clearSnapshot()}function Cp(e){e.clearMeasurements()}function jp(e){e.isLayoutDirty=!1}function Mp(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function Tp(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function Ip(e){e.resolveTargetDelta()}function Op(e){e.calcProjection()}function Pp(e){e.resetSkewAndRotation()}function Rp(e){e.removeLeadSnapshot()}function _p(e,t,n){e.translate=Mo(t.translate,0,n),e.scale=Mo(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function Lp(e,t,n,r){e.min=Mo(t.min,n.min,r),e.max=Mo(t.max,n.max,r)}function $p(e){return e.animationValues&&void 0!==e.animationValues.opacityExit}const Fp={duration:.45,ease:[.4,0,.1,1]},Dp=e=>"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),zp=Dp("applewebkit/")&&!Dp("chrome/")?Math.round:ds;function Vp(e){e.min=zp(e.min),e.max=zp(e.max)}function Bp(e,t,n){return"position"===e||"preserve-aspect"===e&&(r=fp(t),a=fp(n),i=.2,!(Math.abs(r-a)<=i));var r,a,i}function Hp(e){return e!==e.root&&e.scroll?.wasRoot}const Up=wp({attachResizeListener:(e,t)=>pd(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Wp={current:void 0},Zp=wp({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Wp.current){const e=new Up({});e.mount(window),e.setOptions({layoutScroll:!0}),Wp.current=e}return Wp.current},resetTransform:(e,t)=>{e.style.transform=void 0!==t?t:"none"},checkIsScrollRoot:e=>Boolean("fixed"===window.getComputedStyle(e).position)}),Gp={pan:{Feature:class extends ud{constructor(){super(...arguments),this.removePointerDownListener=ds}onPointerDown(e){this.session=new Ed(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Sd(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:n,onPanEnd:r}=this.node.getProps();return{onSessionStart:zd(e),onStart:zd(t),onMove:n,onEnd:(e,t)=>{delete this.session,r&&Ds.postRender(()=>r(e,t))}}}mount(){this.removePointerDownListener=md(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}},drag:{Feature:class extends ud{constructor(e){super(e),this.removeGroupControls=ds,this.removeListeners=ds,this.controls=new Fd(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ds}unmount(){this.removeGroupControls(),this.removeListeners()}},ProjectionNode:Zp,MeasureLayout:Ud}};function Kp(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover","Start"===n);const a=r["onHover"+n];a&&Ds.postRender(()=>a(t,fd(t)))}function qp(e,t,n){const{props:r}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap","Start"===n);const a=r["onTap"+("End"===n?"":n)];a&&Ds.postRender(()=>a(t,fd(t)))}const Xp=new WeakMap,Yp=new WeakMap,Qp=e=>{const t=Xp.get(e.target);t&&t(e)},Jp=e=>{e.forEach(Qp)};function ef(e,t,n){const r=function({root:e,...t}){const n=e||document;Yp.has(n)||Yp.set(n,{});const r=Yp.get(n),a=JSON.stringify(t);return r[a]||(r[a]=new IntersectionObserver(Jp,{root:e,...t})),r[a]}(t);return Xp.set(e,n),r.observe(e),()=>{Xp.delete(e),r.unobserve(e)}}const tf={some:0,all:1};const nf=ch({...dd,...{inView:{Feature:class extends ud{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:n,amount:r="some",once:a}=e,i={root:t?t.current:void 0,rootMargin:n,threshold:"number"==typeof r?r:tf[r]};return ef(this.node.current,i,e=>{const{isIntersecting:t}=e;if(this.isInView===t)return;if(this.isInView=t,a&&!t&&this.hasEnteredView)return;t&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",t);const{onViewportEnter:n,onViewportLeave:r}=this.node.getProps(),i=t?n:r;i&&i(e)})}mount(){this.startObserver()}update(){if("undefined"==typeof IntersectionObserver)return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(function({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}(e,t))&&this.startObserver()}unmount(){}}},tap:{Feature:class extends ud{mount(){const{current:e}=this.node;e&&(this.unmount=Zc(e,(e,t)=>(qp(this.node,t,"Start"),(e,{success:t})=>qp(this.node,e,t?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}},focus:{Feature:class extends ud{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch(ATe){e=!0}e&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){this.isActive&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=fs(pd(this.node.current,"focus",()=>this.onFocus()),pd(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}},hover:{Feature:class extends ud{mount(){const{current:e}=this.node;e&&(this.unmount=function(e,t,n={}){const[r,a,i]=$c(e,n),s=e=>{if(!Fc(e))return;const{target:n}=e,r=t(n,e);if("function"!=typeof r||!n)return;const i=e=>{Fc(e)&&(r(e),n.removeEventListener("pointerleave",i))};n.addEventListener("pointerleave",i,a)};return r.forEach(e=>{e.addEventListener("pointerenter",s,a)}),i}(e,(e,t)=>(Kp(this.node,t,"Start"),e=>Kp(this.node,e,"End"))))}unmount(){}}}},...Gp,...{layout:{ProjectionNode:Zp,MeasureLayout:Ud}}},$h),rf=new Map,af=new Map;function sf(e,t){const n=rf.get(e);return n&&n.get(t)||null}function of(e,t,n){let r=rf.get(e);r||(r=new Map,rf.set(e,r)),r.set(t,n),function(){lf&&clearTimeout(lf);lf=setTimeout(()=>{try{const e={};rf.forEach((t,n)=>{const r={};t.forEach((e,t)=>{"pre-cached"!==e.source&&(r[t]=e)}),Object.keys(r).length>0&&(e[n]=r)}),localStorage.setItem("translation_cache_v2",JSON.stringify(e))}catch(ATe){console.warn("Failed to save translation cache:",ATe)}},2e3)}()}let lf=null;async function cf(e,t){if(!e||!e.trim())return{text:"",source:"original"};if("en"===t)return{text:e,source:"original"};const n=sf(e,t);if(n)return{text:n.translation,source:"pre-cached"===n.source?"pre-cached":"cached",confidence:n.confidence};const r=function(e,t){return`${t}:${e.substring(0,100)}`}(e,t);if(af.has(r)){const t=await af.get(r);return{text:t||e,source:t?"cached":"original"}}const a=(async()=>{let n=await async function(e,t){if(!e.trim()||"en"===t)return e;const n={en:"en",zh:"zh-CN",ja:"ja",ko:"ko",ar:"ar",hi:"hi",de:"de",fr:"fr",es:"es",pt:"pt",ru:"ru",id:"id",ms:"ms",th:"th",vi:"vi"}[t]||t;try{const t=`https://translate.googleapis.com/translate_a/single?client=gtx&sl=en&tl=${n}&dt=t&q=${encodeURIComponent(e)}`,r=await fetch(t);if(!r.ok)throw new Error(`HTTP ${r.status}`);const a=await r.json();if(Array.isArray(a)&&Array.isArray(a[0])){const e=a[0].filter(e=>Array.isArray(e)&&e[0]).map(e=>e[0]).join("");if(e)return e}return null}catch(r){return console.warn("[Translation] Google API failed:",r),null}}(e,t);return n&&n!==e?(of(e,t,{translation:n,source:"api",timestamp:Date.now(),confidence:.95}),n):(n=await async function(e,t){if(!e.trim()||"en"===t)return e;try{const n=await fetch("https://libretranslate.de/translate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({q:e,source:"en",target:"zh"===t?"zh":t,format:"text"})});if(!n.ok)throw new Error(`HTTP ${n.status}`);return(await n.json()).translatedText||null}catch(n){return console.warn("[Translation] LibreTranslate failed:",n),null}}(e,t),n&&n!==e?(of(e,t,{translation:n,source:"api",timestamp:Date.now(),confidence:.85}),n):null)})();af.set(r,a);try{const t=await a;return af.delete(r),t?{text:t,source:"api",confidence:.95}:{text:e,source:"original"}}catch(i){return af.delete(r),console.error("[Translation] All methods failed:",i),{text:e,source:"original"}}}function uf(e,t){const n=sf(e,t);return n?.translation||null}!function(){try{const e=localStorage.getItem("translation_cache_v2");if(e){const t=JSON.parse(e);Object.entries(t).forEach(([e,t])=>{const n=new Map;Object.entries(t).forEach(([e,t])=>{n.set(e,t)}),rf.set(e,n)}),console.log(`[Translation] Loaded ${Object.keys(t).length} cached translations`)}}catch(ATe){console.warn("Failed to load translation cache:",ATe)}}();const hf={About:{en:"About",zh:"",ja:"",ko:"",ar:"",hi:"  ",de:"ber",fr:" propos",es:"Acerca de",pt:"Sobre",ru:" ",id:"Tentang",ms:"Tentang",th:"",vi:"Gii thiu"},Experience:{en:"Experience",zh:"",ja:"",ko:"",ar:"",hi:"",de:"Erfahrung",fr:"Exprience",es:"Experiencia",pt:"Experincia",ru:"",id:"Pengalaman",ms:"Pengalaman",th:"",vi:"Kinh nghim"},Projects:{en:"Projects",zh:"",ja:"",ko:"",ar:"",hi:"",de:"Projekte",fr:"Projets",es:"Proyectos",pt:"Projetos",ru:"",id:"Proyek",ms:"Projek",th:"",vi:"D n"},Skills:{en:"Skills",zh:"",ja:"",ko:"",ar:"",hi:"",de:"Fhigkeiten",fr:"Comptences",es:"Habilidades",pt:"Habilidades",ru:"",id:"Keahlian",ms:"Kemahiran",th:"",vi:"K nng"},Education:{en:"Education",zh:"",ja:"",ko:"",ar:"",hi:"",de:"Bildung",fr:"ducation",es:"Educacin",pt:"Educao",ru:"",id:"Pendidikan",ms:"Pendidikan",th:"",vi:"Hc vn"},Contact:{en:"Contact",zh:"",ja:"",ko:"",ar:"",hi:"",de:"Kontakt",fr:"Contact",es:"Contacto",pt:"Contato",ru:"",id:"Kontak",ms:"Hubungi",th:"",vi:"Lin h"},"Quant Sandbox":{en:"Quant Sandbox",zh:"",ja:"",ko:" ",ar:" ",hi:" ",de:"Quant Sandbox",fr:"Bac  sable quantitatif",es:"Sandbox Cuantitativo",pt:"Sandbox Quantitativo",ru:" ",id:"Kotak Pasir Kuantitatif",ms:"Kotak Pasir Kuantitatif",th:"",vi:"Hp ct nh lng"},"Quantitative Developer":{en:"Quantitative Developer",zh:"",ja:"",ko:" ",ar:" ",hi:" ",de:"Quantitativer Entwickler",fr:"Dveloppeur Quantitatif",es:"Desarrollador Cuantitativo",pt:"Desenvolvedor Quantitativo",ru:" ",id:"Pengembang Kuantitatif",ms:"Pembangun Kuantitatif",th:"",vi:"Nh pht trin nh lng"},"Shadaab Ahmed":{en:"Shadaab Ahmed",zh:"Shadaab Ahmed",ja:"Shadaab Ahmed",ko:"Shadaab Ahmed",ar:" ",hi:" ",de:"Shadaab Ahmed",fr:"Shadaab Ahmed",es:"Shadaab Ahmed",pt:"Shadaab Ahmed",ru:" ",id:"Shadaab Ahmed",ms:"Shadaab Ahmed",th:"Shadaab Ahmed",vi:"Shadaab Ahmed"},"About Me":{en:"About Me",zh:"",ja:"",ko:" ",ar:" ",hi:"  ",de:"ber mich",fr:" propos de moi",es:"Sobre m",pt:"Sobre mim",ru:" ",id:"Tentang Saya",ms:"Tentang Saya",th:"",vi:"V ti"},"Professional Summary":{en:"Professional Summary",zh:"",ja:"",ko:" ",ar:" ",hi:" ",de:"Berufliche Zusammenfassung",fr:"Rsum professionnel",es:"Resumen profesional",pt:"Resumo profissional",ru:" ",id:"Ringkasan Profesional",ms:"Ringkasan Profesional",th:"",vi:"Tm tt chuyn nghip"},"Core Strengths":{en:"Core Strengths",zh:"",ja:"",ko:" ",ar:"  ",hi:" ",de:"Kernstrken",fr:"Points forts",es:"Fortalezas principales",pt:"Pontos fortes",ru:"  ",id:"Kekuatan Inti",ms:"Kekuatan Teras",th:"",vi:"Th mnh ct li"},"Target Roles":{en:"Target Roles",zh:"",ja:"",ko:" ",ar:" ",hi:" ",de:"Zielrollen",fr:"Rles cibles",es:"Roles objetivo",pt:"Funes alvo",ru:" ",id:"Peran Target",ms:"Peranan Sasaran",th:"",vi:"Vai tr mc tiu"},"Portfolio Analytics":{en:"Portfolio Analytics",zh:"",ja:"",ko:" ",ar:" ",hi:" ",de:"Portfolio-Analytik",fr:"Analytique de portefeuille",es:"Anlisis de cartera",pt:"Anlise de portflio",ru:" ",id:"Analitik Portofolio",ms:"Analitik Portfolio",th:"",vi:"Phn tch danh mc"},"Latency Monitor":{en:"Latency Monitor",zh:"",ja:"",ko:" ",ar:"  ",hi:" ",de:"Latenz-Monitor",fr:"Moniteur de latence",es:"Monitor de latencia",pt:"Monitor de latncia",ru:" ",id:"Monitor Latensi",ms:"Monitor Kependaman",th:"",vi:"Gim st  tr"},"Live Greeks":{en:"Live Greeks",zh:"",ja:"",ko:" ",ar:"  ",hi:" ",de:"Live-Greeks",fr:"Greeks en direct",es:"Griegas en vivo",pt:"Greeks ao vivo",ru:"   ",id:"Greeks Langsung",ms:"Greeks Langsung",th:"",vi:"Greeks trc tip"},"ML Trading Signals":{en:"ML Trading Signals",zh:"ML",ja:"ML",ko:"ML  ",ar:"  ML",hi:"ML  ",de:"ML-Handelssignale",fr:"Signaux de trading ML",es:"Seales de trading ML",pt:"Sinais de trading ML",ru:"ML  ",id:"Sinyal Trading ML",ms:"Isyarat Dagangan ML",th:" ML",vi:"Tn hiu giao dch ML"},"Backtest Dashboard":{en:"Backtest Dashboard",zh:"",ja:"",ko:" ",ar:"  ",hi:" ",de:"Backtest-Dashboard",fr:"Tableau de bord de backtest",es:"Panel de backtesting",pt:"Painel de backtest",ru:" ",id:"Dasbor Backtest",ms:"Papan Pemuka Backtest",th:"",vi:"Bng iu khin backtest"},"Sharpe Ratio":{en:"Sharpe Ratio",zh:"",ja:"",ko:" ",ar:" ",hi:" ",de:"Sharpe-Ratio",fr:"Ratio de Sharpe",es:"Ratio de Sharpe",pt:"ndice Sharpe",ru:" ",id:"Rasio Sharpe",ms:"Nisbah Sharpe",th:"",vi:"T l Sharpe"},"Max Drawdown":{en:"Max Drawdown",zh:"",ja:"",ko:" ",ar:" ",hi:" ",de:"Max. Drawdown",fr:"Drawdown max",es:"Cada mxima",pt:"Drawdown mximo",ru:". ",id:"Drawdown Maks",ms:"Pengeluaran Maks",th:"",vi:"St gim ti a"},"Win Rate":{en:"Win Rate",zh:"",ja:"",ko:"",ar:" ",hi:" ",de:"Gewinnquote",fr:"Taux de russite",es:"Tasa de xito",pt:"Taxa de acerto",ru:" ",id:"Tingkat Kemenangan",ms:"Kadar Kemenangan",th:"",vi:"T l thng"},"Calmar Ratio":{en:"Calmar Ratio",zh:"",ja:"",ko:" ",ar:" ",hi:" ",de:"Calmar-Ratio",fr:"Ratio de Calmar",es:"Ratio Calmar",pt:"ndice Calmar",ru:" ",id:"Rasio Calmar",ms:"Nisbah Calmar",th:"",vi:"T l Calmar"},Delta:{en:"Delta",zh:"Delta",ja:"",ko:"",ar:"",hi:"",de:"Delta",fr:"Delta",es:"Delta",pt:"Delta",ru:"",id:"Delta",ms:"Delta",th:"",vi:"Delta"},Gamma:{en:"Gamma",zh:"Gamma",ja:"",ko:"",ar:"",hi:"",de:"Gamma",fr:"Gamma",es:"Gamma",pt:"Gamma",ru:"",id:"Gamma",ms:"Gamma",th:"",vi:"Gamma"},Theta:{en:"Theta",zh:"Theta",ja:"",ko:"",ar:"",hi:"",de:"Theta",fr:"Thta",es:"Theta",pt:"Theta",ru:"",id:"Theta",ms:"Theta",th:"",vi:"Theta"},Vega:{en:"Vega",zh:"Vega",ja:"",ko:"",ar:"",hi:"",de:"Vega",fr:"Vega",es:"Vega",pt:"Vega",ru:"",id:"Vega",ms:"Vega",th:"",vi:"Vega"},Rho:{en:"Rho",zh:"Rho",ja:"",ko:"",ar:"",hi:"",de:"Rho",fr:"Rh",es:"Rho",pt:"Rho",ru:"",id:"Rho",ms:"Rho",th:"",vi:"Rho"},IV:{en:"IV",zh:"",ja:"IV",ko:"IV",ar:"IV",hi:"IV",de:"IV",fr:"VI",es:"VI",pt:"VI",ru:"IV",id:"IV",ms:"IV",th:"IV",vi:"IV"},"P&L":{en:"P&L",zh:"",ja:"",ko:"",ar:" ",hi:"  ",de:"G&V",fr:"P&L",es:"PyG",pt:"L&P",ru:"&",id:"L&R",ms:"U&R",th:"",vi:"Li l"},Returns:{en:"Returns",zh:"",ja:"",ko:"",ar:"",hi:"",de:"Renditen",fr:"Rendements",es:"Rendimientos",pt:"Retornos",ru:"",id:"Pengembalian",ms:"Pulangan",th:"",vi:"Li nhun"},Volatility:{en:"Volatility",zh:"",ja:"",ko:"",ar:"",hi:"",de:"Volatilitt",fr:"Volatilit",es:"Volatilidad",pt:"Volatilidade",ru:"",id:"Volatilitas",ms:"Kemeruapan",th:"",vi:"Bin ng"},Alpha:{en:"Alpha",zh:"",ja:"",ko:"",ar:"",hi:"",de:"Alpha",fr:"Alpha",es:"Alfa",pt:"Alfa",ru:"",id:"Alpha",ms:"Alpha",th:"",vi:"Alpha"},Beta:{en:"Beta",zh:"",ja:"",ko:"",ar:"",hi:"",de:"Beta",fr:"Bta",es:"Beta",pt:"Beta",ru:"",id:"Beta",ms:"Beta",th:"",vi:"Beta"},Latency:{en:"Latency",zh:"",ja:"",ko:" ",ar:" ",hi:"",de:"Latenz",fr:"Latence",es:"Latencia",pt:"Latncia",ru:"",id:"Latensi",ms:"Kependaman",th:"",vi:" tr"},"Daily Data":{en:"Daily Data",zh:"",ja:"",ko:" ",ar:" ",hi:" ",de:"Tagesdaten",fr:"Donnes quotidiennes",es:"Datos diarios",pt:"Dados dirios",ru:" ",id:"Data Harian",ms:"Data Harian",th:"",vi:"D liu hng ngy"},"Ticks/sec":{en:"Ticks/sec",zh:"",ja:"/",ko:"/",ar:"/",hi:"/",de:"Ticks/Sek",fr:"Ticks/sec",es:"Ticks/seg",pt:"Ticks/seg",ru:"/",id:"Tick/dtk",ms:"Tick/saat",th:"/",vi:"Tick/giy"},"MS FinEng":{en:"MS FinEng",zh:"",ja:"",ko:" ",ar:"  ",hi:" ",de:"MS FinEng",fr:"MS FinEng",es:"MS FinEng",pt:"MS FinEng",ru:" ",id:"MS FinEng",ms:"MS FinEng",th:"",vi:"ThS Ti chnh"},Avg:{en:"Avg",zh:"",ja:"",ko:"",ar:"",hi:"",de:"Durchschn.",fr:"Moy",es:"Prom",pt:"Md",ru:"",id:"Rata",ms:"Prtg",th:"",vi:"TB"},Min:{en:"Min",zh:"",ja:"",ko:"",ar:"",hi:"",de:"Min",fr:"Min",es:"Mn",pt:"Mn",ru:"",id:"Min",ms:"Min",th:"",vi:"Thp nht"},Max:{en:"Max",zh:"",ja:"",ko:"",ar:"",hi:"",de:"Max",fr:"Max",es:"Mx",pt:"Mx",ru:"",id:"Maks",ms:"Maks",th:"",vi:"Cao nht"},P99:{en:"P99",zh:"P99",ja:"P99",ko:"P99",ar:"P99",hi:"P99",de:"P99",fr:"P99",es:"P99",pt:"P99",ru:"P99",id:"P99",ms:"P99",th:"P99",vi:"P99"},Throughput:{en:"Throughput",zh:"",ja:"",ko:"",ar:" ",hi:"",de:"Durchsatz",fr:"Dbit",es:"Rendimiento",pt:"Taxa de transferncia",ru:" ",id:"Throughput",ms:"Throughput",th:"",vi:"Thng lng"},"Market Data":{en:"Market Data",zh:"",ja:"",ko:" ",ar:" ",hi:" ",de:"Marktdaten",fr:"Donnes de march",es:"Datos de mercado",pt:"Dados de mercado",ru:" ",id:"Data Pasar",ms:"Data Pasaran",th:"",vi:"D liu th trng"},"Order Book":{en:"Order Book",zh:"",ja:"",ko:"",ar:" ",hi:" ",de:"Orderbuch",fr:"Carnet d'ordres",es:"Libro de rdenes",pt:"Livro de ordens",ru:" ",id:"Buku Order",ms:"Buku Pesanan",th:"",vi:"S lnh"},Bid:{en:"Bid",zh:"",ja:"",ko:"",ar:"",hi:"",de:"Geld",fr:"Offre",es:"Oferta",pt:"Compra",ru:"",id:"Penawaran",ms:"Tawaran",th:"",vi:"Gi mua"},Ask:{en:"Ask",zh:"",ja:"",ko:"",ar:"",hi:"",de:"Brief",fr:"Demande",es:"Demanda",pt:"Venda",ru:"",id:"Permintaan",ms:"Minta",th:"",vi:"Gi bn"},Spread:{en:"Spread",zh:"",ja:"",ko:"",ar:" ",hi:"",de:"Spread",fr:"Spread",es:"Spread",pt:"Spread",ru:"",id:"Spread",ms:"Spread",th:"",vi:"Chnh lch"},Volume:{en:"Volume",zh:"",ja:"",ko:"",ar:"",hi:"",de:"Volumen",fr:"Volume",es:"Volumen",pt:"Volume",ru:"",id:"Volume",ms:"Jumlah",th:"",vi:"Khi lng"},Price:{en:"Price",zh:"",ja:"",ko:"",ar:"",hi:"",de:"Preis",fr:"Prix",es:"Precio",pt:"Preo",ru:"",id:"Harga",ms:"Harga",th:"",vi:"Gi"},Signal:{en:"Signal",zh:"",ja:"",ko:"",ar:"",hi:"",de:"Signal",fr:"Signal",es:"Seal",pt:"Sinal",ru:"",id:"Sinyal",ms:"Isyarat",th:"",vi:"Tn hiu"},Buy:{en:"Buy",zh:"",ja:"",ko:"",ar:"",hi:"",de:"Kaufen",fr:"Acheter",es:"Comprar",pt:"Comprar",ru:"",id:"Beli",ms:"Beli",th:"",vi:"Mua"},Sell:{en:"Sell",zh:"",ja:"",ko:"",ar:"",hi:"",de:"Verkaufen",fr:"Vendre",es:"Vender",pt:"Vender",ru:"",id:"Jual",ms:"Jual",th:"",vi:"Bn"},Hold:{en:"Hold",zh:"",ja:"",ko:"",ar:"",hi:"",de:"Halten",fr:"Conserver",es:"Mantener",pt:"Manter",ru:"",id:"Tahan",ms:"Pegang",th:"",vi:"Gi"},Long:{en:"Long",zh:"",ja:"",ko:"",ar:"",hi:"",de:"Long",fr:"Long",es:"Largo",pt:"Comprado",ru:"",id:"Long",ms:"Long",th:"",vi:"Long"},Short:{en:"Short",zh:"",ja:"",ko:"",ar:"",hi:"",de:"Short",fr:"Court",es:"Corto",pt:"Vendido",ru:"",id:"Short",ms:"Short",th:"",vi:"Short"},Confidence:{en:"Confidence",zh:"",ja:"",ko:"",ar:"",hi:"",de:"Konfidenz",fr:"Confiance",es:"Confianza",pt:"Confiana",ru:"",id:"Kepercayaan",ms:"Keyakinan",th:"",vi:" tin cy"},Prediction:{en:"Prediction",zh:"",ja:"",ko:"",ar:"",hi:"",de:"Vorhersage",fr:"Prdiction",es:"Prediccin",pt:"Previso",ru:"",id:"Prediksi",ms:"Ramalan",th:"",vi:"D on"},Accuracy:{en:"Accuracy",zh:"",ja:"",ko:"",ar:"",hi:"",de:"Genauigkeit",fr:"Prcision",es:"Precisin",pt:"Preciso",ru:"",id:"Akurasi",ms:"Ketepatan",th:"",vi:" chnh xc"},"Loading...":{en:"Loading...",zh:"...",ja:"...",ko:" ...",ar:" ...",hi:"   ...",de:"Laden...",fr:"Chargement...",es:"Cargando...",pt:"Carregando...",ru:"...",id:"Memuat...",ms:"Memuatkan...",th:"...",vi:"ang ti..."},"View Project":{en:"View Project",zh:"",ja:"",ko:" ",ar:" ",hi:" ",de:"Projekt anzeigen",fr:"Voir le projet",es:"Ver proyecto",pt:"Ver projeto",ru:" ",id:"Lihat Proyek",ms:"Lihat Projek",th:"",vi:"Xem d n"},"View Code":{en:"View Code",zh:"",ja:"",ko:" ",ar:" ",hi:" ",de:"Code anzeigen",fr:"Voir le code",es:"Ver cdigo",pt:"Ver cdigo",ru:" ",id:"Lihat Kode",ms:"Lihat Kod",th:"",vi:"Xem m"},"Download Resume":{en:"Download Resume",zh:"",ja:"",ko:" ",ar:"  ",hi:"  ",de:"Lebenslauf herunterladen",fr:"Tlcharger le CV",es:"Descargar currculum",pt:"Baixar currculo",ru:" ",id:"Unduh Resume",ms:"Muat Turun Resume",th:"",vi:"Ti xung CV"},"Get In Touch":{en:"Get In Touch",zh:"",ja:"",ko:"",ar:" ",hi:" ",de:"Kontakt aufnehmen",fr:"Contactez-moi",es:"Contctame",pt:"Entre em contato",ru:"",id:"Hubungi Saya",ms:"Hubungi Saya",th:"",vi:"Lin h"},"Send Message":{en:"Send Message",zh:"",ja:"",ko:" ",ar:" ",hi:" ",de:"Nachricht senden",fr:"Envoyer un message",es:"Enviar mensaje",pt:"Enviar mensagem",ru:" ",id:"Kirim Pesan",ms:"Hantar Mesej",th:"",vi:"Gi tin nhn"},"Learn More":{en:"Learn More",zh:"",ja:"",ko:" ",ar:" ",hi:" ",de:"Mehr erfahren",fr:"En savoir plus",es:"Saber ms",pt:"Saiba mais",ru:" ",id:"Pelajari Lebih Lanjut",ms:"Ketahui Lebih Lanjut",th:"",vi:"Tm hiu thm"},"Let's Connect":{en:"Let's Connect",zh:"",ja:"",ko:"",ar:" ",hi:" ",de:"Lass uns verbinden",fr:"Connectons-nous",es:"Conectemos",pt:"Vamos nos conectar",ru:" ",id:"Mari Terhubung",ms:"Mari Berhubung",th:"",vi:"Hy kt ni"},"Contact Information":{en:"Contact Information",zh:"",ja:"",ko:" ",ar:" ",hi:" ",de:"Kontaktinformationen",fr:"Coordonnes",es:"Informacin de contacto",pt:"Informaes de contato",ru:" ",id:"Informasi Kontak",ms:"Maklumat Hubungan",th:"",vi:"Thng tin lin h"},"Technical Skills":{en:"Technical Skills",zh:"",ja:"",ko:" ",ar:" ",hi:" ",de:"Technische Fhigkeiten",fr:"Comptences techniques",es:"Habilidades tcnicas",pt:"Habilidades tcnicas",ru:" ",id:"Keahlian Teknis",ms:"Kemahiran Teknikal",th:"",vi:"K nng k thut"},"Career Impact Summary":{en:"Career Impact Summary",zh:"",ja:"",ko:"  ",ar:"  ",hi:"  ",de:"Karriereauswirkungen",fr:"Rsum de l'impact de carrire",es:"Resumen del impacto profesional",pt:"Resumo do impacto na carreira",ru:"   ",id:"Ringkasan Dampak Karir",ms:"Ringkasan Impak Kerjaya",th:"",vi:"Tm tt tc ng ngh nghip"},All:{en:"All",zh:"",ja:"",ko:"",ar:"",hi:"",de:"Alle",fr:"Tous",es:"Todos",pt:"Todos",ru:"",id:"Semua",ms:"Semua",th:"",vi:"Tt c"},"Quantitative Finance":{en:"Quantitative Finance",zh:"",ja:"",ko:" ",ar:" ",hi:" ",de:"Quantitative Finanzierung",fr:"Finance quantitative",es:"Finanzas cuantitativas",pt:"Finanas quantitativas",ru:" ",id:"Keuangan Kuantitatif",ms:"Kewangan Kuantitatif",th:"",vi:"Ti chnh nh lng"},"Machine Learning":{en:"Machine Learning",zh:"",ja:"",ko:"",ar:" ",hi:" ",de:"Maschinelles Lernen",fr:"Apprentissage automatique",es:"Aprendizaje automtico",pt:"Aprendizado de mquina",ru:" ",id:"Pembelajaran Mesin",ms:"Pembelajaran Mesin",th:"",vi:"Hc my"},"Data Engineering":{en:"Data Engineering",zh:"",ja:"",ko:" ",ar:" ",hi:" ",de:"Datentechnik",fr:"Ingnierie des donnes",es:"Ingeniera de datos",pt:"Engenharia de dados",ru:"-",id:"Rekayasa Data",ms:"Kejuruteraan Data",th:"",vi:"K thut d liu"},Detected:{en:"Detected",zh:"",ja:"",ko:"",ar:" ",hi:" ",de:"Erkannt",fr:"Dtect",es:"Detectado",pt:"Detectado",ru:"",id:"Terdeteksi",ms:"Dikesan",th:"",vi:" pht hin"},"We noticed you're visiting from a region where":{en:"We noticed you're visiting from a region where",zh:"",ja:"",ko:" ",ar:"     ",hi:"           ",de:"Wir haben festgestellt, dass Sie aus einer Region kommen, in der",fr:"Nous avons remarqu que vous visitez depuis une rgion o",es:"Hemos notado que visita desde una regin donde",pt:"Notamos que voc est visitando de uma regio onde",ru:" ,     , ",id:"Kami melihat Anda mengunjungi dari wilayah di mana",ms:"Kami perhatikan anda melawat dari kawasan di mana",th:"",vi:"Chng ti nhn thy bn ang truy cp t khu vc"},"is commonly spoken. The page has been auto-translated for you.":{en:"is commonly spoken. The page has been auto-translated for you.",zh:"",ja:"",ko:"  .   .",ar:".    .",hi:"              ",de:"hufig gesprochen wird. Die Seite wurde automatisch bersetzt.",fr:"est couramment parl. La page a t traduite automatiquement.",es:"se habla comnmente. La pgina ha sido traducida automticamente.",pt:" comumente falado. A pgina foi traduzida automaticamente.",ru:".   .",id:"umum digunakan. Halaman telah diterjemahkan otomatis.",ms:"lazim digunakan. Halaman telah diterjemahkan secara automatik.",th:" ",vi:"c s dng ph bin. Trang  c dch t ng."},Keep:{en:"Keep",zh:"",ja:"",ko:"",ar:"",hi:"",de:"Behalten",fr:"Garder",es:"Mantener",pt:"Manter",ru:"",id:"Pertahankan",ms:"Kekalkan",th:"",vi:"Gi"},"Open to Global Opportunities":{en:"Open to Global Opportunities",zh:"",ja:"",ko:"  ",ar:"  ",hi:"    ",de:"Offen fr globale Mglichkeiten",fr:"Ouvert aux opportunits mondiales",es:"Abierto a oportunidades globales",pt:"Aberto a oportunidades globais",ru:"   ",id:"Terbuka untuk Peluang Global",ms:"Terbuka untuk Peluang Global",th:"",vi:"Sn sng cho c hi ton cu"},"View Projects":{en:"View Projects",zh:"",ja:"",ko:" ",ar:" ",hi:" ",de:"Projekte anzeigen",fr:"Voir les projets",es:"Ver proyectos",pt:"Ver projetos",ru:" ",id:"Lihat Proyek",ms:"Lihat Projek",th:"",vi:"Xem d n"},Resume:{en:"Resume",zh:"",ja:"",ko:"",ar:" ",hi:"",de:"Lebenslauf",fr:"CV",es:"Currculum",pt:"Currculo",ru:"",id:"Resume",ms:"Resume",th:"",vi:"CV"},"View Resume":{en:"View Resume",zh:"",ja:"",ko:" ",ar:"  ",hi:" ",de:"Lebenslauf anzeigen",fr:"Voir le CV",es:"Ver currculum",pt:"Ver currculo",ru:" ",id:"Lihat Resume",ms:"Lihat Resume",th:"",vi:"Xem CV"},"Send Email":{en:"Send Email",zh:"",ja:"",ko:" ",ar:"  ",hi:" ",de:"E-Mail senden",fr:"Envoyer un email",es:"Enviar correo",pt:"Enviar email",ru:" email",id:"Kirim Email",ms:"Hantar Email",th:"",vi:"Gi email"},"Current Status":{en:"Current Status",zh:"",ja:"",ko:" ",ar:" ",hi:" ",de:"Aktueller Status",fr:"Statut actuel",es:"Estado actual",pt:"Status atual",ru:" ",id:"Status Saat Ini",ms:"Status Semasa",th:"",vi:"Trng thi hin ti"},"Actively Seeking Opportunities":{en:"Actively Seeking Opportunities",zh:"",ja:"",ko:"   ",ar:"   ",hi:"      ",de:"Aktiv auf der Suche nach Mglichkeiten",fr:"Recherche active d'opportunits",es:"Buscando activamente oportunidades",pt:"Buscando ativamente oportunidades",ru:"  ",id:"Aktif Mencari Peluang",ms:"Aktif Mencari Peluang",th:"",vi:"ang tch cc tm kim c hi"},Location:{en:"Location",zh:"",ja:"",ko:"",ar:"",hi:"",de:"Standort",fr:"Lieu",es:"Ubicacin",pt:"Localizao",ru:"",id:"Lokasi",ms:"Lokasi",th:"",vi:"a im"},"Open to Global Relocation":{en:"Open to Global Relocation",zh:"",ja:"",ko:"  ",ar:"  ",hi:"    ",de:"Offen fr globale Umzge",fr:"Ouvert  la relocalisation mondiale",es:"Abierto a reubicacin global",pt:"Aberto a realocao global",ru:"  ",id:"Terbuka untuk Relokasi Global",ms:"Terbuka untuk Penempatan Semula Global",th:"",vi:"Sn sng di chuyn ton cu"},Availability:{en:"Availability",zh:"",ja:"",ko:"",ar:"",hi:"",de:"Verfgbarkeit",fr:"Disponibilit",es:"Disponibilidad",pt:"Disponibilidade",ru:"",id:"Ketersediaan",ms:"Ketersediaan",th:"",vi:"Kh dng"},"Immediate / Flexible":{en:"Immediate / Flexible",zh:"/",ja:"/",ko:"/",ar:" / ",hi:" / ",de:"Sofort / Flexibel",fr:"Immdiat / Flexible",es:"Inmediato / Flexible",pt:"Imediato / Flexvel",ru:" / ",id:"Segera / Fleksibel",ms:"Segera / Fleksibel",th:" / ",vi:"Ngay lp tc / Linh hot"},"View on GitHub":{en:"View on GitHub",zh:"GitHub",ja:"GitHub",ko:"GitHub ",ar:"  GitHub",hi:"GitHub  ",de:"Auf GitHub ansehen",fr:"Voir sur GitHub",es:"Ver en GitHub",pt:"Ver no GitHub",ru:"  GitHub",id:"Lihat di GitHub",ms:"Lihat di GitHub",th:" GitHub",vi:"Xem trn GitHub"},"Hide Visualization":{en:"Hide Visualization",zh:"",ja:"",ko:" ",ar:" ",hi:" ",de:"Visualisierung ausblenden",fr:"Masquer la visualisation",es:"Ocultar visualizacin",pt:"Ocultar visualizao",ru:" ",id:"Sembunyikan Visualisasi",ms:"Sembunyikan Visualisasi",th:"",vi:"n hnh nh"},"Show Results Visualization":{en:"Show Results Visualization",zh:"",ja:"",ko:"  ",ar:"  ",hi:"  ",de:"Ergebnisvisualisierung anzeigen",fr:"Afficher la visualisation des rsultats",es:"Mostrar visualizacin de resultados",pt:"Mostrar visualizao de resultados",ru:"  ",id:"Tampilkan Visualisasi Hasil",ms:"Tunjukkan Visualisasi Hasil",th:"",vi:"Hin th hnh nh kt qu"},"All Projects":{en:"All Projects",zh:"",ja:"",ko:" ",ar:" ",hi:" ",de:"Alle Projekte",fr:"Tous les projets",es:"Todos los proyectos",pt:"Todos os projetos",ru:" ",id:"Semua Proyek",ms:"Semua Projek",th:"",vi:"Tt c d n"},"In Progress":{en:"In Progress",zh:"",ja:"",ko:" ",ar:" ",hi:" ",de:"In Bearbeitung",fr:"En cours",es:"En progreso",pt:"Em andamento",ru:" ",id:"Sedang Berlangsung",ms:"Dalam Proses",th:"",vi:"ang tin hnh"},"Relevant Coursework":{en:"Relevant Coursework",zh:"",ja:"",ko:" ",ar:"  ",hi:" ",de:"Relevante Kurse",fr:"Cours pertinents",es:"Cursos relevantes",pt:"Cursos relevantes",ru:" ",id:"Kursus Terkait",ms:"Kursus Berkaitan",th:"",vi:"Cc kha hc lin quan"},"Additional Expertise":{en:"Additional Expertise",zh:"",ja:"",ko:" ",ar:" ",hi:" ",de:"Zustzliche Expertise",fr:"Expertise supplmentaire",es:"Experiencia adicional",pt:"Experincia adicional",ru:" ",id:"Keahlian Tambahan",ms:"Kepakaran Tambahan",th:"",vi:"Chuyn mn b sung"},"Loading market data...":{en:"Loading market data...",zh:"...",ja:"...",ko:"   ...",ar:"   ...",hi:"     ...",de:"Marktdaten werden geladen...",fr:"Chargement des donnes de march...",es:"Cargando datos del mercado...",pt:"Carregando dados do mercado...",ru:"  ...",id:"Memuat data pasar...",ms:"Memuatkan data pasaran...",th:"...",vi:"ang ti d liu th trng..."},"Market data unavailable":{en:"Market data unavailable",zh:"",ja:"",ko:"    ",ar:"   ",hi:"    ",de:"Marktdaten nicht verfgbar",fr:"Donnes de march indisponibles",es:"Datos del mercado no disponibles",pt:"Dados do mercado indisponveis",ru:"  ",id:"Data pasar tidak tersedia",ms:"Data pasaran tidak tersedia",th:"",vi:"D liu th trng khng kh dng"},LIVE:{en:"LIVE",zh:"",ja:"",ko:"",ar:"",hi:"",de:"LIVE",fr:"EN DIRECT",es:"EN VIVO",pt:"AO VIVO",ru:"LIVE",id:"LANGSUNG",ms:"LANGSUNG",th:"",vi:"TRC TIP"},DEMO:{en:"DEMO",zh:"",ja:"",ko:"",ar:"",hi:"",de:"DEMO",fr:"DMO",es:"DEMO",pt:"DEMO",ru:"",id:"DEMO",ms:"DEMO",th:"",vi:"DEMO"},"ALGO RUNNING":{en:"ALGO RUNNING",zh:"",ja:"",ko:"  ",ar:"  ",hi:"   ",de:"ALGO LUFT",fr:"ALGO EN COURS",es:"ALGO EN EJECUCIN",pt:"ALGO EM EXECUO",ru:" ",id:"ALGO BERJALAN",ms:"ALGO BERJALAN",th:"",vi:"ALGO ANG CHY"},Sharpe:{en:"Sharpe",zh:"",ja:"",ko:"",ar:"",hi:"",de:"Sharpe",fr:"Sharpe",es:"Sharpe",pt:"Sharpe",ru:"",id:"Sharpe",ms:"Sharpe",th:"",vi:"Sharpe"},PnL:{en:"PnL",zh:"",ja:"",ko:"",ar:" ",hi:"/",de:"G&V",fr:"P&L",es:"PyG",pt:"L&P",ru:"&",id:"L&R",ms:"U&R",th:"",vi:"Li l"},Trades:{en:"Trades",zh:"",ja:"",ko:"",ar:"",hi:"",de:"Trades",fr:"Trades",es:"Operaciones",pt:"Negociaes",ru:"",id:"Perdagangan",ms:"Dagangan",th:"",vi:"Giao dch"},"ORDER BOOK":{en:"ORDER BOOK",zh:"",ja:"",ko:"",ar:" ",hi:" ",de:"ORDERBUCH",fr:"CARNET D'ORDRES",es:"LIBRO DE RDENES",pt:"LIVRO DE ORDENS",ru:" ",id:"BUKU ORDER",ms:"BUKU PESANAN",th:"",vi:"S LNH"},CORRELATION:{en:"CORRELATION",zh:"",ja:"",ko:"",ar:"",hi:"",de:"KORRELATION",fr:"CORRLATION",es:"CORRELACIN",pt:"CORRELAO",ru:"",id:"KORELASI",ms:"KORELASI",th:"",vi:"TNG QUAN"},BID:{en:"BID",zh:"",ja:"",ko:"",ar:"",hi:"",de:"GELD",fr:"OFFRE",es:"OFERTA",pt:"COMPRA",ru:"",id:"PENAWARAN",ms:"TAWARAN",th:"",vi:"GI MUA"},ASK:{en:"ASK",zh:"",ja:"",ko:"",ar:"",hi:"",de:"BRIEF",fr:"DEMANDE",es:"DEMANDA",pt:"VENDA",ru:"",id:"PERMINTAAN",ms:"MINTA",th:"",vi:"GI BN"},VOL:{en:"VOL",zh:"",ja:"",ko:"",ar:"",hi:"",de:"VOL",fr:"VOL",es:"VOL",pt:"VOL",ru:"",id:"VOL",ms:"JUM",th:"",vi:"KL"},"Alpha Signals":{en:"Alpha Signals",zh:"",ja:"",ko:" ",ar:" ",hi:" ",de:"Alpha-Signale",fr:"Signaux Alpha",es:"Seales Alpha",pt:"Sinais Alpha",ru:"-",id:"Sinyal Alpha",ms:"Isyarat Alpha",th:"",vi:"Tn hiu Alpha"},"APAC Markets":{en:"APAC Markets",zh:"",ja:"APAC",ko:"APAC ",ar:"   ",hi:" ",de:"APAC-Mrkte",fr:"Marchs APAC",es:"Mercados APAC",pt:"Mercados APAC",ru:" APAC",id:"Pasar APAC",ms:"Pasaran APAC",th:" APAC",vi:"Th trng APAC"},"Loading 30-day historical data...":{en:"Loading 30-day historical data...",zh:"30...",ja:"30...",ko:"30    ...",ar:"   30  ...",hi:"30-       ...",de:"Lade 30-Tage-Verlaufsdaten...",fr:"Chargement des donnes historiques sur 30 jours...",es:"Cargando datos histricos de 30 das...",pt:"Carregando dados histricos de 30 dias...",ru:"    30 ...",id:"Memuat data historis 30 hari...",ms:"Memuatkan data sejarah 30 hari...",th:" 30 ...",vi:"ang ti d liu lch s 30 ngy..."},"Alpha Score":{en:"Alpha Score",zh:"",ja:"",ko:" ",ar:" ",hi:" ",de:"Alpha-Score",fr:"Score Alpha",es:"Puntuacin Alpha",pt:"Pontuao Alpha",ru:"-",id:"Skor Alpha",ms:"Skor Alpha",th:"",vi:"im Alpha"},Trend:{en:"Trend",zh:"",ja:"",ko:"",ar:"",hi:"",de:"Trend",fr:"Tendance",es:"Tendencia",pt:"Tendncia",ru:"",id:"Tren",ms:"Trend",th:"",vi:"Xu hng"},Vol:{en:"Vol",zh:"",ja:"",ko:"",ar:"",hi:"",de:"Vol",fr:"Vol",es:"Vol",pt:"Vol",ru:"",id:"Vol",ms:"Vol",th:"",vi:"Bin ng"},Oversold:{en:"Oversold",zh:"",ja:"",ko:"",ar:" ",hi:"",de:"berverkauft",fr:"Survendu",es:"Sobrevendido",pt:"Sobrevendido",ru:"",id:"Oversold",ms:"Terlebih Jual",th:"",vi:"Qu bn"},Overbought:{en:"Overbought",zh:"",ja:"",ko:"",ar:" ",hi:"",de:"berkauft",fr:"Surachet",es:"Sobrecomprado",pt:"Sobrecomprado",ru:"",id:"Overbought",ms:"Terlebih Beli",th:"",vi:"Qu mua"},Neutral:{en:"Neutral",zh:"",ja:"",ko:"",ar:"",hi:"",de:"Neutral",fr:"Neutre",es:"Neutral",pt:"Neutro",ru:"",id:"Netral",ms:"Neutral",th:"",vi:"Trung lp"},"Based on 30-day historical candles from Finnhub":{en:"Based on 30-day historical candles from Finnhub",zh:"Finnhub30K",ja:"Finnhub30",ko:"Finnhub 30    ",ar:"   30   Finnhub",hi:"Finnhub  30-     ",de:"Basierend auf 30-Tage-Kerzen von Finnhub",fr:"Bas sur les chandeliers de 30 jours de Finnhub",es:"Basado en velas histricas de 30 das de Finnhub",pt:"Baseado em candles de 30 dias do Finnhub",ru:"  30-  Finnhub",id:"Berdasarkan candle 30 hari dari Finnhub",ms:"Berdasarkan lilin 30 hari dari Finnhub",th:" 30  Finnhub",vi:"Da trn nn 30 ngy t Finnhub"},"MARKET OVERVIEW":{en:"MARKET OVERVIEW",zh:"",ja:"",ko:" ",ar:"   ",hi:" ",de:"MARKTBERSICHT",fr:"APERU DU MARCH",es:"RESUMEN DEL MERCADO",pt:"VISO DO MERCADO",ru:" ",id:"IKHTISAR PASAR",ms:"GAMBARAN PASARAN",th:"",vi:"TNG QUAN TH TRNG"},OPEN:{en:"OPEN",zh:"",ja:"",ko:"",ar:"",hi:"",de:"OFFEN",fr:"OUVERT",es:"ABIERTO",pt:"ABERTO",ru:"",id:"BUKA",ms:"BUKA",th:"",vi:"M"},CLOSED:{en:"CLOSED",zh:"",ja:"",ko:"",ar:"",hi:"",de:"GESCHLOSSEN",fr:"FERM",es:"CERRADO",pt:"FECHADO",ru:"",id:"TUTUP",ms:"TUTUP",th:"",vi:"NG"},"BACKTEST ENGINE":{en:"BACKTEST ENGINE",zh:"",ja:"",ko:" ",ar:"  ",hi:" ",de:"BACKTEST-ENGINE",fr:"MOTEUR DE BACKTEST",es:"MOTOR DE BACKTEST",pt:"MOTOR DE BACKTEST",ru:" ",id:"MESIN BACKTEST",ms:"ENJIN BACKTEST",th:"",vi:"CNG C BACKTEST"},"EQUITY CURVE":{en:"EQUITY CURVE",zh:"",ja:"",ko:" ",ar:" ",hi:" ",de:"EIGENKAPITALKURVE",fr:"COURBE D'QUIT",es:"CURVA DE CAPITAL",pt:"CURVA DE PATRIMNIO",ru:" ",id:"KURVA EKUITAS",ms:"LENGKUNG EKUITI",th:"",vi:"NG CONG VN"},Strategy:{en:"Strategy",zh:"",ja:"",ko:"",ar:"",hi:"",de:"Strategie",fr:"Stratgie",es:"Estrategia",pt:"Estratgia",ru:"",id:"Strategi",ms:"Strategi",th:"",vi:"Chin lc"},Return:{en:"Return",zh:"",ja:"",ko:"",ar:"",hi:"",de:"Rendite",fr:"Rendement",es:"Retorno",pt:"Retorno",ru:"",id:"Return",ms:"Pulangan",th:"",vi:"Li nhun"},SHARPE:{en:"SHARPE",zh:"",ja:"",ko:"",ar:"",hi:"",de:"SHARPE",fr:"SHARPE",es:"SHARPE",pt:"SHARPE",ru:"",id:"SHARPE",ms:"SHARPE",th:"",vi:"SHARPE"},SORTINO:{en:"SORTINO",zh:"",ja:"",ko:"",ar:"",hi:"",de:"SORTINO",fr:"SORTINO",es:"SORTINO",pt:"SORTINO",ru:"",id:"SORTINO",ms:"SORTINO",th:"",vi:"SORTINO"},"MAX DD":{en:"MAX DD",zh:"",ja:"DD",ko:" DD",ar:" ",hi:" DD",de:"MAX DD",fr:"DD MAX",es:"DD MX",pt:"DD MX",ru:" ",id:"DD MAKS",ms:"DD MAKS",th:"DD ",vi:"DD TI A"},"Profit Factor":{en:"Profit Factor",zh:"",ja:"",ko:" ",ar:" ",hi:" ",de:"Gewinnfaktor",fr:"Facteur de profit",es:"Factor de beneficio",pt:"Fator de lucro",ru:"-",id:"Profit Factor",ms:"Faktor Keuntungan",th:"",vi:"H s li nhun"},"Total Trades":{en:"Total Trades",zh:"",ja:"",ko:" ",ar:" ",hi:" ",de:"Gesamte Trades",fr:"Total des trades",es:"Total de operaciones",pt:"Total de operaes",ru:" ",id:"Total Perdagangan",ms:"Jumlah Dagangan",th:"",vi:"Tng giao dch"},"Info Ratio":{en:"Info Ratio",zh:"",ja:"",ko:" ",ar:" ",hi:" ",de:"Info-Ratio",fr:"Ratio d'information",es:"Ratio de informacin",pt:"Razo de informao",ru:"-",id:"Rasio Info",ms:"Nisbah Maklumat",th:"",vi:"T l thng tin"},"PORTFOLIO ANALYTICS":{en:"PORTFOLIO ANALYTICS",zh:"",ja:"",ko:" ",ar:" ",hi:" ",de:"PORTFOLIO-ANALYSE",fr:"ANALYTIQUE DU PORTEFEUILLE",es:"ANLISIS DE CARTERA",pt:"ANLISE DE PORTFLIO",ru:" ",id:"ANALITIK PORTOFOLIO",ms:"ANALITIK PORTFOLIO",th:"",vi:"PHN TCH DANH MC"},LOADING:{en:"LOADING",zh:"",ja:"",ko:" ",ar:" ",hi:"   ",de:"LADEN",fr:"CHARGEMENT",es:"CARGANDO",pt:"CARREGANDO",ru:"",id:"MEMUAT",ms:"MEMUATKAN",th:"",vi:"ANG TI"},"PORTFOLIO VALUE":{en:"PORTFOLIO VALUE",zh:"",ja:"",ko:" ",ar:" ",hi:" ",de:"PORTFOLIOWERT",fr:"VALEUR DU PORTEFEUILLE",es:"VALOR DE CARTERA",pt:"VALOR DO PORTFLIO",ru:" ",id:"NILAI PORTOFOLIO",ms:"NILAI PORTFOLIO",th:"",vi:"GI TR DANH MC"},"TODAY'S P&L":{en:"TODAY'S P&L",zh:"",ja:"",ko:" ",ar:"  ",hi:"  P&L",de:"HEUTIGES P&L",fr:"P&L DU JOUR",es:"P&L DE HOY",pt:"P&L DE HOJE",ru:"& ",id:"P&L HARI INI",ms:"U&R HARI INI",th:"",vi:"LI L HM NAY"},HOLDINGS:{en:"HOLDINGS",zh:"",ja:"",ko:" ",ar:"",hi:"",de:"BESTNDE",fr:"POSITIONS",es:"TENENCIAS",pt:"POSIES",ru:"",id:"KEPEMILIKAN",ms:"PEGANGAN",th:"",vi:"V TH"},"RISK METRICS":{en:"RISK METRICS",zh:"",ja:"",ko:" ",ar:" ",hi:" ",de:"RISIKOMASSSTBE",fr:"MTRIQUES DE RISQUE",es:"MTRICAS DE RIESGO",pt:"MTRICAS DE RISCO",ru:" ",id:"METRIK RISIKO",ms:"METRIK RISIKO",th:"",vi:"CH S RI RO"},Sortino:{en:"Sortino",zh:"",ja:"",ko:"",ar:"",hi:"",de:"Sortino",fr:"Sortino",es:"Sortino",pt:"Sortino",ru:"",id:"Sortino",ms:"Sortino",th:"",vi:"Sortino"},"BLACK-SCHOLES GREEKS":{en:"BLACK-SCHOLES GREEKS",zh:"-",ja:"",ko:" ",ar:"   ",hi:"- ",de:"BLACK-SCHOLES GREEKS",fr:"GRECQUES BLACK-SCHOLES",es:"GRIEGAS BLACK-SCHOLES",pt:"GREGAS BLACK-SCHOLES",ru:" -",id:"GREEKS BLACK-SCHOLES",ms:"GREEKS BLACK-SCHOLES",th:" BLACK-SCHOLES",vi:"GREEKS BLACK-SCHOLES"},SPOT:{en:"SPOT",zh:"",ja:"",ko:"",ar:" ",hi:"",de:"SPOT",fr:"SPOT",es:"SPOT",pt:"SPOT",ru:"",id:"SPOT",ms:"SPOT",th:"",vi:"GI GIAO NGAY"},STRIKE:{en:"STRIKE",zh:"",ja:"",ko:"",ar:" ",hi:"",de:"STRIKE",fr:"STRIKE",es:"STRIKE",pt:"STRIKE",ru:"",id:"STRIKE",ms:"STRIKE",th:"",vi:"GI THC HIN"},DTE:{en:"DTE",zh:"",ja:"DTE",ko:"DTE",ar:"  ",hi:"DTE",de:"DTE",fr:"DTE",es:"DTE",pt:"DTE",ru:"DTE",id:"DTE",ms:"DTE",th:"",vi:"S NGY"},"CALL VALUE":{en:"CALL VALUE",zh:"",ja:"",ko:" ",ar:" ",hi:" ",de:"CALL-WERT",fr:"VALEUR DU CALL",es:"VALOR DEL CALL",pt:"VALOR DO CALL",ru:" ",id:"NILAI CALL",ms:"NILAI CALL",th:"",vi:"GI TR CALL"}," Delta":{en:" Delta",zh:" ",ja:" ",ko:" ",ar:" ",hi:" ",de:" Delta",fr:" Delta",es:" Delta",pt:" Delta",ru:" ",id:" Delta",ms:" Delta",th:" ",vi:" Delta"}," Gamma":{en:" Gamma",zh:" ",ja:" ",ko:" ",ar:" ",hi:" ",de:" Gamma",fr:" Gamma",es:" Gamma",pt:" Gamma",ru:" ",id:" Gamma",ms:" Gamma",th:" ",vi:" Gamma"}," Theta":{en:" Theta",zh:" ",ja:" ",ko:" ",ar:" ",hi:" ",de:" Theta",fr:" Thta",es:" Theta",pt:" Theta",ru:" ",id:" Theta",ms:" Theta",th:" ",vi:" Theta"}," Vega":{en:" Vega",zh:" ",ja:" ",ko:" ",ar:" ",hi:" ",de:" Vega",fr:" Vga",es:" Vega",pt:" Vega",ru:" ",id:" Vega",ms:" Vega",th:" ",vi:" Vega"}," Rho":{en:" Rho",zh:" ",ja:" ",ko:" ",ar:" ",hi:" ",de:" Rho",fr:" Rh",es:" Rho",pt:" Rho",ru:" ",id:" Rho",ms:" Rho",th:" ",vi:" Rho"},HIGH:{en:"HIGH",zh:"",ja:"",ko:"",ar:"",hi:"",de:"HOCH",fr:"LEV",es:"ALTO",pt:"ALTO",ru:"",id:"TINGGI",ms:"TINGGI",th:"",vi:"CAO"},LOW:{en:"LOW",zh:"",ja:"",ko:"",ar:"",hi:"",de:"NIEDRIG",fr:"BAS",es:"BAJO",pt:"BAIXO",ru:"",id:"RENDAH",ms:"RENDAH",th:"",vi:"THP"},NORMAL:{en:"NORMAL",zh:"",ja:"",ko:"",ar:"",hi:"",de:"NORMAL",fr:"NORMAL",es:"NORMAL",pt:"NORMAL",ru:"",id:"NORMAL",ms:"NORMAL",th:"",vi:"BNH THNG"},ELEVATED:{en:"ELEVATED",zh:"",ja:"",ko:"",ar:"",hi:"",de:"ERHHT",fr:"LEV",es:"ELEVADO",pt:"ELEVADO",ru:"",id:"MENINGKAT",ms:"MENINGKAT",th:"",vi:"TNG CAO"},"2d":{en:"2d",zh:"2",ja:"2",ko:"2",ar:"2 ",hi:"2 ",de:"2T",fr:"2j",es:"2d",pt:"2d",ru:"2",id:"2h",ms:"2h",th:"2",vi:"2 ngy"},T:{en:"T",zh:"T",ja:"T",ko:"T",ar:"T",hi:"T",de:"T",fr:"T",es:"T",pt:"T",ru:"T",id:"T",ms:"T",th:"T",vi:"T"},"Black-Scholes Option Pricing Model":{en:"Black-Scholes Option Pricing Model",zh:"-",ja:"",ko:"-   ",ar:"    ",hi:"-   ",de:"Black-Scholes Optionspreismodell",fr:"Modle de tarification des options Black-Scholes",es:"Modelo de valoracin de opciones Black-Scholes",pt:"Modelo de precificao de opes Black-Scholes",ru:"   -",id:"Model Harga Opsi Black-Scholes",ms:"Model Penetapan Harga Opsyen Black-Scholes",th:" Black-Scholes",vi:"M hnh nh gi quyn chn Black-Scholes"},"Monte Carlo Simulator":{en:"Monte Carlo Simulator",zh:"",ja:"",ko:" ",ar:"  ",hi:"  ",de:"Monte-Carlo-Simulator",fr:"Simulateur Monte Carlo",es:"Simulador Monte Carlo",pt:"Simulador Monte Carlo",ru:" -",id:"Simulator Monte Carlo",ms:"Simulator Monte Carlo",th:"",vi:"M phng Monte Carlo"},"Live Correlation Matrix":{en:"Live Correlation Matrix",zh:"",ja:"",ko:"  ",ar:"  ",hi:"  ",de:"Live-Korrelationsmatrix",fr:"Matrice de corrlation en direct",es:"Matriz de correlacin en vivo",pt:"Matriz de correlao ao vivo",ru:"    ",id:"Matriks Korelasi Langsung",ms:"Matriks Korelasi Langsung",th:"",vi:"Ma trn tng quan trc tip"},"Live Portfolio Tracker":{en:"Live Portfolio Tracker",zh:"",ja:"",ko:"  ",ar:"  ",hi:"  ",de:"Live-Portfolio-Tracker",fr:"Suivi de portefeuille en direct",es:"Rastreador de cartera en vivo",pt:"Rastreador de portflio ao vivo",ru:"    ",id:"Pelacak Portofolio Langsung",ms:"Penjejak Portfolio Langsung",th:"",vi:"Theo di danh mc trc tip"},"Live VaR Dashboard":{en:"Live VaR Dashboard",zh:"VaR",ja:"VaR",ko:" VaR ",ar:"    ",hi:" VaR ",de:"Live-VaR-Dashboard",fr:"Tableau de bord VaR en direct",es:"Panel VaR en vivo",pt:"Painel VaR ao vivo",ru:" VaR   ",id:"Dasbor VaR Langsung",ms:"Papan Pemuka VaR Langsung",th:" VaR ",vi:"Bng iu khin VaR trc tip"},"Live Volatility Surface":{en:"Live Volatility Surface",zh:"",ja:"",ko:"  ",ar:"  ",hi:"  ",de:"Live-Volatilittsoberflche",fr:"Surface de volatilit en direct",es:"Superficie de volatilidad en vivo",pt:"Superfcie de volatilidade ao vivo",ru:"    ",id:"Permukaan Volatilitas Langsung",ms:"Permukaan Kemeruapan Langsung",th:"",vi:"B mt bin ng trc tip"},"Options Payoff Builder":{en:"Options Payoff Builder",zh:"",ja:"",ko:"  ",ar:"  ",hi:"  ",de:"Options-Payoff-Builder",fr:"Constructeur de payoff d'options",es:"Constructor de payoff de opciones",pt:"Construtor de payoff de opes",ru:"  ",id:"Pembangun Payoff Opsi",ms:"Pembina Payoff Opsyen",th:"",vi:"Trnh to li nhun quyn chn"},"Pairs Trading Scanner":{en:"Pairs Trading Scanner",zh:"",ja:"",ko:"  ",ar:"  ",hi:"  ",de:"Pairs-Trading-Scanner",fr:"Scanner de trading de paires",es:"Escner de trading de pares",pt:"Scanner de trading de pares",ru:"  ",id:"Scanner Trading Berpasangan",ms:"Pengimbas Dagangan Pasangan",th:"",vi:"My qut giao dch cp"},"Efficient Frontier Optimizer":{en:"Efficient Frontier Optimizer",zh:"",ja:"",ko:"  ",ar:"  ",hi:"  ",de:"Effizienzgrenze-Optimierer",fr:"Optimiseur de frontire efficiente",es:"Optimizador de frontera eficiente",pt:"Otimizador de fronteira eficiente",ru:"  ",id:"Pengoptimal Frontier Efisien",ms:"Pengoptimum Sempadan Cekap",th:"",vi:"Trnh ti u bin gii hiu qu"},"GBM with live realized volatility":{en:"GBM with live realized volatility",zh:"GBM",ja:"GBM",ko:"    GBM",ar:"GBM    ",hi:"     GBM",de:"GBM mit Live-Realisierter Volatilitt",fr:"GBM avec volatilit ralise en direct",es:"GBM con volatilidad realizada en vivo",pt:"GBM com volatilidade realizada ao vivo",ru:"GBM      ",id:"GBM dengan volatilitas terealisasi langsung",ms:"GBM dengan volatiliti terealisasi langsung",th:"GBM ",vi:"GBM vi bin ng thc t trc tip"},"Real-time P&L with Finnhub prices":{en:"Real-time P&L with Finnhub prices",zh:"Finnhub",ja:"Finnhub",ko:"Finnhub    ",ar:"       Finnhub",hi:"Finnhub    - P&L",de:"Echtzeit-G&V mit Finnhub-Preisen",fr:"P&L en temps rel avec les prix Finnhub",es:"P&L en tiempo real con precios de Finnhub",pt:"P&L em tempo real com preos Finnhub",ru:"P&L      Finnhub",id:"P&L real-time dengan harga Finnhub",ms:"U&R masa nyata dengan harga Finnhub",th:"P&L  Finnhub",vi:"Li l thi gian thc vi gi Finnhub"},"Portfolio Value-at-Risk with correlation":{en:"Portfolio Value-at-Risk with correlation",zh:"",ja:"VaR",ko:"   VaR",ar:"     ",hi:"    VaR",de:"Portfolio-VaR mit Korrelation",fr:"VaR du portefeuille avec corrlation",es:"VaR de cartera con correlacin",pt:"VaR do portflio com correlao",ru:"VaR   ",id:"VaR Portofolio dengan korelasi",ms:"VaR Portfolio dengan korelasi",th:"VaR ",vi:"VaR danh mc vi tng quan"},"30-day realized volatility (annualized)":{en:"30-day realized volatility (annualized)",zh:"30",ja:"30",ko:"30   ()",ar:"  30  ()",hi:"30-    ()",de:"30-Tage realisierte Volatilitt (annualisiert)",fr:"Volatilit ralise sur 30 jours (annualise)",es:"Volatilidad realizada de 30 das (anualizada)",pt:"Volatilidade realizada de 30 dias (anualizada)",ru:"30-   ()",id:"Volatilitas terealisasi 30 hari (tahunan)",ms:"Volatiliti terealisasi 30 hari (tahunan)",th:" 30  ()",vi:"Bin ng thc t 30 ngy (hng nm)"},"Build and visualize options strategies":{en:"Build and visualize options strategies",zh:"",ja:"",ko:"    ",ar:"   ",hi:"     ",de:"Optionsstrategien erstellen und visualisieren",fr:"Construire et visualiser des stratgies d'options",es:"Construir y visualizar estrategias de opciones",pt:"Construir e visualizar estratgias de opes",ru:"    ",id:"Bangun dan visualisasikan strategi opsi",ms:"Bina dan visualisasikan strategi opsyen",th:"",vi:"Xy dng v trc quan ha chin lc quyn chn"},"Mean reversion & cointegration analysis":{en:"Mean reversion & cointegration analysis",zh:"",ja:"",ko:"    ",ar:"     ",hi:"    ",de:"Mean-Reversion & Kointegrations-Analyse",fr:"Analyse de retour  la moyenne et cointgration",es:"Anlisis de reversin a la media y cointegracin",pt:"Anlise de reverso  mdia e cointegrao",ru:"     ",id:"Analisis mean reversion & kointegrasi",ms:"Analisis pengembalian purata & kointegrasi",th:"",vi:"Phn tch hi quy trung bnh v ng lin kt"},"Markowitz Mean-Variance Optimization":{en:"Markowitz Mean-Variance Optimization",zh:"-",ja:"",ko:" - ",ar:"   ",hi:" - ",de:"Markowitz Mean-Varianz-Optimierung",fr:"Optimisation Moyenne-Variance de Markowitz",es:"Optimizacin Media-Varianza de Markowitz",pt:"Otimizao Mdia-Varincia de Markowitz",ru:"   -",id:"Optimisasi Mean-Variance Markowitz",ms:"Pengoptimuman Min-Varians Markowitz",th:" Mean-Variance  Markowitz",vi:"Ti u ha Trung bnh-Phng sai Markowitz"},"Interactive quantitative finance tools powered by live market data. Explore correlations, volatility, and risk metrics in real-time.":{en:"Interactive quantitative finance tools powered by live market data. Explore correlations, volatility, and risk metrics in real-time.",zh:"",ja:"",ko:"       . ,      .",ar:"       .        .",hi:"         -  ,       ",de:"Interaktive quantitative Finanztools mit Live-Marktdaten. Erkunden Sie Korrelationen, Volatilitt und Risikomae in Echtzeit.",fr:"Outils de finance quantitative interactifs aliments par des donnes de march en direct. Explorez les corrlations, la volatilit et les mtriques de risque en temps rel.",es:"Herramientas de finanzas cuantitativas interactivas impulsadas por datos de mercado en vivo. Explore correlaciones, volatilidad y mtricas de riesgo en tiempo real.",pt:"Ferramentas interativas de finanas quantitativas alimentadas por dados de mercado ao vivo. Explore correlaes, volatilidade e mtricas de risco em tempo real.",ru:"          .  ,       .",id:"Alat keuangan kuantitatif interaktif yang didukung oleh data pasar langsung. Jelajahi korelasi, volatilitas, dan metrik risiko secara real-time.",ms:"Alat kewangan kuantitatif interaktif yang dikuasakan oleh data pasaran langsung. Terokai korelasi, kemeruapan dan metrik risiko dalam masa nyata.",th:"   ",vi:"Cc cng c ti chnh nh lng tng tc c cung cp bi d liu th trng trc tip. Khm ph tng quan, bin ng v cc ch s ri ro theo thi gian thc."},"All calculations use live market data from Finnhub API":{en:"All calculations use live market data from Finnhub API",zh:"Finnhub API",ja:"Finnhub API",ko:"  Finnhub API    ",ar:"       Finnhub API",hi:"  Finnhub API        ",de:"Alle Berechnungen verwenden Live-Marktdaten von der Finnhub-API",fr:"Tous les calculs utilisent des donnes de march en direct de l'API Finnhub",es:"Todos los clculos utilizan datos de mercado en vivo de la API de Finnhub",pt:"Todos os clculos usam dados de mercado ao vivo da API Finnhub",ru:"         Finnhub API",id:"Semua perhitungan menggunakan data pasar langsung dari Finnhub API",ms:"Semua pengiraan menggunakan data pasaran langsung dari API Finnhub",th:" Finnhub API",vi:"Tt c tnh ton s dng d liu th trng trc tip t API Finnhub"},"Built by Shadaab Ahmed":{en:"Built by Shadaab Ahmed",zh:" Shadaab Ahmed ",ja:"Shadaab Ahmed ",ko:"Shadaab Ahmed ",ar:"  Shadaab Ahmed",hi:"Shadaab Ahmed  ",de:"Erstellt von Shadaab Ahmed",fr:"Cr par Shadaab Ahmed",es:"Creado por Shadaab Ahmed",pt:"Criado por Shadaab Ahmed",ru:" Shadaab Ahmed",id:"Dibuat oleh Shadaab Ahmed",ms:"Dibina oleh Shadaab Ahmed",th:" Shadaab Ahmed",vi:"c xy dng bi Shadaab Ahmed"},"Back to Portfolio":{en:"Back to Portfolio",zh:"",ja:"",ko:" ",ar:"  ",hi:"   ",de:"Zurck zum Portfolio",fr:"Retour au portfolio",es:"Volver al portafolio",pt:"Voltar ao portflio",ru:"  ",id:"Kembali ke Portofolio",ms:"Kembali ke Portfolio",th:"",vi:"Quay li danh mc"},"Loading market data from Finnhub...":{en:"Loading market data from Finnhub...",zh:"Finnhub...",ja:"Finnhub...",ko:"Finnhub    ...",ar:"     Finnhub...",hi:"Finnhub       ...",de:"Marktdaten von Finnhub werden geladen...",fr:"Chargement des donnes de march depuis Finnhub...",es:"Cargando datos del mercado desde Finnhub...",pt:"Carregando dados do mercado do Finnhub...",ru:"    Finnhub...",id:"Memuat data pasar dari Finnhub...",ms:"Memuatkan data pasaran dari Finnhub...",th:" Finnhub...",vi:"ang ti d liu th trng t Finnhub..."},"Fetching quotes and 30-day candles for all symbols":{en:"Fetching quotes and 30-day candles for all symbols",zh:"30K",ja:"30",ko:"   30   ",ar:"   30   ",hi:"      30-      ",de:"Kurse und 30-Tage-Kerzen fr alle Symbole abrufen",fr:"Rcupration des cotations et des bougies de 30 jours pour tous les symboles",es:"Obteniendo cotizaciones y velas de 30 das para todos los smbolos",pt:"Buscando cotaes e candles de 30 dias para todos os smbolos",ru:"   30-    ",id:"Mengambil kutipan dan candle 30 hari untuk semua simbol",ms:"Mengambil sebut harga dan lilin 30 hari untuk semua simbol",th:" 30 ",vi:"ang ly bo gi v nn 30 ngy cho tt c m"},"Analyzing pairs...":{en:"Analyzing pairs...",zh:"...",ja:"...",ko:"  ...",ar:" ...",hi:"     ...",de:"Paare werden analysiert...",fr:"Analyse des paires...",es:"Analizando pares...",pt:"Analisando pares...",ru:" ...",id:"Menganalisis pasangan...",ms:"Menganalisis pasangan...",th:"...",vi:"ang phn tch cp..."},"No data available":{en:"No data available",zh:"",ja:"",ko:"   ",ar:"   ",hi:"   ",de:"Keine Daten verfgbar",fr:"Aucune donne disponible",es:"No hay datos disponibles",pt:"Nenhum dado disponvel",ru:" ",id:"Tidak ada data tersedia",ms:"Tiada data tersedia",th:"",vi:"Khng c d liu"},"No volatility data available":{en:"No volatility data available",zh:"",ja:"",ko:"  ",ar:"    ",hi:"    ",de:"Keine Volatilittsdaten verfgbar",fr:"Aucune donne de volatilit disponible",es:"No hay datos de volatilidad disponibles",pt:"Nenhum dado de volatilidade disponvel",ru:"   ",id:"Tidak ada data volatilitas tersedia",ms:"Tiada data volatiliti tersedia",th:"",vi:"Khng c d liu bin ng"},Retry:{en:"Retry",zh:"",ja:"",ko:"",ar:" ",hi:"  ",de:"Wiederholen",fr:"Ressayer",es:"Reintentar",pt:"Tentar novamente",ru:"",id:"Coba lagi",ms:"Cuba semula",th:"",vi:"Th li"},"Calculated from 30-day returns via Finnhub API":{en:"Calculated from 30-day returns via Finnhub API",zh:"Finnhub API30",ja:"Finnhub API30",ko:"Finnhub API  30  ",ar:"   30   Finnhub API",hi:"Finnhub API    30-    ",de:"Berechnet aus 30-Tage-Renditen ber Finnhub API",fr:"Calcul  partir des rendements de 30 jours via l'API Finnhub",es:"Calculado a partir de retornos de 30 das a travs de la API de Finnhub",pt:"Calculado a partir de retornos de 30 dias via API Finnhub",ru:"   30-   Finnhub API",id:"Dihitung dari return 30 hari melalui Finnhub API",ms:"Dikira dari pulangan 30 hari melalui API Finnhub",th:" 30  Finnhub API",vi:"Tnh ton t li nhun 30 ngy qua API Finnhub"},Asset:{en:"Asset",zh:"",ja:"",ko:"",ar:"",hi:"",de:"Vermgenswert",fr:"Actif",es:"Activo",pt:"Ativo",ru:"",id:"Aset",ms:"Aset",th:"",vi:"Ti sn"},Pair:{en:"Pair",zh:"",ja:"",ko:"",ar:"",hi:"",de:"Paar",fr:"Paire",es:"Par",pt:"Par",ru:"",id:"Pasangan",ms:"Pasangan",th:"",vi:"Cp"},Paths:{en:"Paths",zh:"",ja:"",ko:"",ar:"",hi:"",de:"Pfade",fr:"Chemins",es:"Rutas",pt:"Caminhos",ru:"",id:"Jalur",ms:"Laluan",th:"",vi:"ng dn"},"Portfolio Value":{en:"Portfolio Value",zh:"",ja:"",ko:" ",ar:" ",hi:" ",de:"Portfoliowert",fr:"Valeur du portefeuille",es:"Valor de cartera",pt:"Valor do portflio",ru:" ",id:"Nilai Portofolio",ms:"Nilai Portfolio",th:"",vi:"Gi tr danh mc"},"Select assets (2-8)":{en:"Select assets (2-8)",zh:" (2-8)",ja:" (2-8)",ko:"  (2-8)",ar:"  (2-8)",hi:"  (2-8)",de:"Vermgenswerte auswhlen (2-8)",fr:"Slectionner les actifs (2-8)",es:"Seleccionar activos (2-8)",pt:"Selecionar ativos (2-8)",ru:"  (2-8)",id:"Pilih aset (2-8)",ms:"Pilih aset (2-8)",th:" (2-8)",vi:"Chn ti sn (2-8)"},"Target Return":{en:"Target Return",zh:"",ja:"",ko:" ",ar:" ",hi:" ",de:"Zielrendite",fr:"Rendement cible",es:"Retorno objetivo",pt:"Retorno alvo",ru:" ",id:"Return Target",ms:"Pulangan Sasaran",th:"",vi:"Li nhun mc tiu"}};Object.entries(hf).forEach(([e,t])=>{const n=new Map;Object.entries(t).forEach(([e,t])=>{n.set(e,{translation:t,source:"pre-cached",timestamp:0})}),rf.set(e,n)}),console.log(`[Translation] Loaded ${Object.keys(hf).length} pre-cached translations`);const df=[{code:"en",name:"English",nativeName:"English",direction:"ltr",flag:""},{code:"zh",name:"Chinese",nativeName:"",direction:"ltr",flag:""},{code:"ja",name:"Japanese",nativeName:"",direction:"ltr",flag:""},{code:"ko",name:"Korean",nativeName:"",direction:"ltr",flag:""},{code:"ar",name:"Arabic",nativeName:"",direction:"rtl",flag:""},{code:"hi",name:"Hindi",nativeName:"",direction:"ltr",flag:""},{code:"de",name:"German",nativeName:"Deutsch",direction:"ltr",flag:""},{code:"fr",name:"French",nativeName:"Franais",direction:"ltr",flag:""},{code:"es",name:"Spanish",nativeName:"Espaol",direction:"ltr",flag:""},{code:"pt",name:"Portuguese",nativeName:"Portugus",direction:"ltr",flag:""},{code:"ru",name:"Russian",nativeName:"",direction:"ltr",flag:""},{code:"id",name:"Indonesian",nativeName:"Bahasa Indonesia",direction:"ltr",flag:""},{code:"ms",name:"Malay",nativeName:"Bahasa Melayu",direction:"ltr",flag:""},{code:"th",name:"Thai",nativeName:"",direction:"ltr",flag:""},{code:"vi",name:"Vietnamese",nativeName:"Ting Vit",direction:"ltr",flag:""}],pf={US:"en",GB:"en",UK:"en",AU:"en",CA:"en",NZ:"en",IE:"en",PH:"en",CN:"zh",HK:"zh",TW:"zh",MO:"zh",JP:"ja",KR:"ko",AE:"ar",SA:"ar",QA:"ar",KW:"ar",BH:"ar",OM:"ar",EG:"ar",JO:"ar",LB:"ar",IQ:"ar",SY:"ar",PS:"ar",YE:"ar",LY:"ar",TN:"ar",DZ:"ar",MA:"ar",SD:"ar",IN:"hi",DE:"de",AT:"de",LI:"de",FR:"fr",BE:"fr",LU:"fr",MC:"fr",SN:"fr",CI:"fr",ES:"es",MX:"es",AR:"es",CO:"es",CL:"es",PE:"es",VE:"es",EC:"es",GT:"es",CU:"es",BO:"es",DO:"es",HN:"es",PY:"es",SV:"es",NI:"es",CR:"es",PA:"es",UY:"es",BR:"pt",PT:"pt",AO:"pt",MZ:"pt",RU:"ru",BY:"ru",KZ:"ru",KG:"ru",ID:"id",MY:"ms",SG:"en",BN:"ms",TH:"th",VN:"vi",CH:"de",NL:"en",IT:"en",SE:"en",NO:"en",DK:"en",FI:"en",IS:"en",PL:"en",CZ:"en",SK:"en",HU:"en",RO:"en",UA:"ru",BG:"ru",GR:"en",HR:"en",RS:"en",SI:"en",TR:"en",IL:"en",ZA:"en",NG:"en",KE:"en"};function ff(e){return pf[e?.toUpperCase()]||"en"}const mf=O.createContext(null),gf="portfolioLanguageUserSelected",yf="portfolioCacheInitialized",xf="portfolioLastVisit",bf="portfolioLastCountry";function vf({children:e,defaultLanguage:t,countryCode:n}){const r=n?ff(n):t||"en",[a]=O.useState(()=>function(){if("undefined"==typeof window)return{isCacheAccelerated:!1,timeSinceLastVisit:0};const e="true"===localStorage.getItem(yf),t=localStorage.getItem(xf),n=Date.now();if(localStorage.setItem(xf,n.toString()),localStorage.setItem(yf,"true"),e&&t){const e=n-parseInt(t,10);return{isCacheAccelerated:e<6048e5,timeSinceLastVisit:e}}return{isCacheAccelerated:!1,timeSinceLastVisit:0}}()),i=O.useRef({cacheHits:0,totalTranslations:0}),[s,o]=O.useState(()=>r),[l,c]=O.useState(!1),[,h]=O.useState(0);console.log(" I18nProvider RENDER - Current language:",s,"countryCode prop:",n);const d=O.useRef(new Set),p=O.useRef(!1);O.useEffect(()=>{if(n){const e=localStorage.getItem(bf),t=ff(n),r="true"===localStorage.getItem(gf);console.log(" I18nProvider useEffect triggered"),console.log("   Current Country Code:",n),console.log("   Last Known Country:",e),console.log("   Detected Language:",t),console.log("   Current language state:",s),console.log("   User manually selected:",r||p.current);e!==n&&!p.current?(console.log("    Country changed, UPDATING language to:",t),localStorage.setItem(bf,n),localStorage.removeItem(gf),o(t)):e?console.log("    Keeping current language (user selected or same country)"):(console.log("    First visit, setting language to:",t),localStorage.setItem(bf,n),o(t))}},[n]);const f=O.useCallback(e=>{console.log(" User manually selected language:",e),p.current=!0,o(e),localStorage.setItem("portfolioLanguage",e),localStorage.setItem(gf,"true");const t=df.find(t=>t.code===e);t&&(document.documentElement.dir=t.direction,document.documentElement.lang=e)},[]),m=O.useCallback(async e=>{if(!e||"en"===s)return e;const t=uf(e,s);if(t)return t;return(await cf(e,s)).text},[s]),g=O.useCallback(e=>{if(!e||"en"===s)return e;i.current.totalTranslations++;const t=uf(e,s);if(t)return i.current.cacheHits++,t;const n=`${s}:${e}`;return d.current.has(n)||(d.current.add(n),c(!0),cf(e,s).then(e=>{d.current.delete(n),0===d.current.size&&c(!1),"original"!==e.source&&h(e=>e+1)}).catch(()=>{d.current.delete(n),0===d.current.size&&c(!1)})),e},[s]),y=i.current.totalTranslations>0?Math.round(i.current.cacheHits/i.current.totalTranslations*100):0,x=df.find(e=>e.code===s)||df[0],b=df.find(e=>e.code===r)||df[0],v={language:s,detectedLanguage:r,setLanguage:f,t:g,tAsync:m,direction:x.direction,isRTL:"rtl"===x.direction,languages:df,currentLanguage:x,detectedLanguageMeta:b,isTranslating:l,modelStatus:"ready",modelLoadProgress:100,isCacheAccelerated:a.isCacheAccelerated,cacheHitRate:y};return u.jsx(mf.Provider,{value:v,children:e})}function wf(){const e=O.useContext(mf);if(!e)throw new Error("useTranslation must be used within an I18nProvider");return e}function kf({className:e="",variant:t="default"}){const{language:n,setLanguage:r,languages:a,currentLanguage:i,isTranslating:s,modelStatus:o,modelLoadProgress:l}=wf(),[c,h]=O.useState(!1),d=e=>{r(e),h(!1)};return"prominent"===t?u.jsxs("div",{className:`relative ${e}`,children:[u.jsxs(nf.button,{onClick:()=>h(!c),className:"flex items-center gap-1.5 px-2.5 py-1.5 bg-white/5 backdrop-blur-sm\n                     border border-white/10 rounded-lg hover:border-cyan-500/30 hover:bg-white/10 \n                     transition-all duration-300",whileHover:{scale:1.02},whileTap:{scale:.98},children:[u.jsx(ei,{size:18,className:"text-cyan-400/80",weight:"duotone"}),u.jsx("span",{className:"text-base",children:i.flag}),u.jsx(nf.div,{animate:{rotate:c?180:0},transition:{duration:.2},children:u.jsx(xa,{size:12,className:"text-gray-500"})})]}),u.jsx(su,{children:c&&u.jsxs(nf.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.2},className:"absolute top-full mt-2 left-0 min-w-[200px] bg-slate-900/95 border border-white/10 \n                         rounded-xl overflow-hidden shadow-2xl shadow-black/40 backdrop-blur-xl max-h-[400px] overflow-y-auto z-[60]",children:[u.jsx("div",{className:"px-3 py-2 border-b border-white/5 bg-gradient-to-r from-cyan-500/10 to-violet-500/10",children:u.jsx("p",{className:"text-xs text-gray-400 uppercase tracking-wider",children:"Select Language"})}),"en"!==n&&u.jsxs("button",{onClick:()=>d("en"),className:"w-full flex items-center gap-2 px-3 py-2.5 text-left bg-cyan-500/10 \n                             text-cyan-400 hover:bg-cyan-500/20 transition-colors border-b border-white/5 text-sm",children:[u.jsx("span",{className:"text-base",children:""}),u.jsx("span",{className:"font-medium",children:"Switch to English"})]}),a.map(e=>u.jsxs(nf.button,{onClick:()=>d(e.code),className:"w-full flex items-center justify-between gap-2 px-3 py-2.5 text-left\n                             transition-colors duration-200 "+(n===e.code?"bg-cyan-500/20 text-cyan-400":"text-gray-300 hover:bg-white/5 hover:text-white"),whileHover:{x:n===e.code?0:3},children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"text-base",children:e.flag}),u.jsxs("div",{className:"flex flex-col",children:[u.jsx("span",{className:"text-sm font-medium",children:e.nativeName}),u.jsx("span",{className:"text-[10px] text-gray-500",children:e.name})]})]}),n===e.code&&u.jsx(ja,{size:14,className:"text-cyan-400",weight:"bold"})]},e.code))]})}),c&&u.jsx("div",{className:"fixed inset-0 z-[55]",onClick:()=>h(!1)})]}):"floating"===t?u.jsxs("div",{className:`fixed top-4 z-50 language-toggle ${e}`,children:[u.jsxs(nf.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{delay:.5},className:"relative",children:[u.jsxs(nf.button,{onClick:()=>h(!c),className:"flex items-center gap-2 px-4 py-2 bg-gray-900/90 border border-white/10 rounded-xl \n                       hover:border-cyan-500/50 hover:bg-gray-800/90 transition-all duration-300\n                       shadow-lg shadow-black/20",whileHover:{scale:1.02},whileTap:{scale:.98},children:["loading"===o?u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx(da,{size:18,className:"text-purple-400 animate-pulse",weight:"duotone"}),u.jsxs("span",{className:"text-[10px] text-purple-400 font-mono",children:[Math.round(l),"%"]})]}):s?u.jsx(Li,{size:18,className:"text-cyan-400 animate-spin"}):u.jsx("span",{className:"text-lg",children:i.flag}),u.jsx("span",{className:"text-sm font-medium text-white",children:i.nativeName}),"loading"===o&&u.jsx("span",{className:"text-[10px] text-purple-400 font-mono",children:"ML"}),u.jsx(nf.div,{animate:{rotate:c?180:0},transition:{duration:.2},children:u.jsx(xa,{size:14,className:"text-gray-400"})})]}),"loading"===o&&u.jsx("div",{className:"absolute -bottom-1 left-0 right-0 h-0.5 bg-gray-700 rounded-full overflow-hidden",children:u.jsx(nf.div,{className:"h-full bg-gradient-to-r from-purple-500 to-cyan-500",initial:{width:0},animate:{width:`${l}%`},transition:{duration:.3}})}),u.jsx(su,{children:c&&u.jsx(nf.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.2},className:"absolute top-full mt-2 right-0 min-w-[180px] bg-gray-900/95 border border-white/10 \n                           rounded-xl overflow-hidden shadow-xl shadow-black/30 backdrop-blur-sm max-h-[400px] overflow-y-auto",children:a.map(e=>u.jsxs(nf.button,{onClick:()=>d(e.code),className:"w-full flex items-center justify-between gap-3 px-4 py-3 text-left\n                               transition-colors duration-200 "+(n===e.code?"bg-cyan-500/20 text-cyan-400":"text-gray-300 hover:bg-white/5 hover:text-white"),whileHover:{x:n===e.code?0:4},children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("span",{className:"text-lg",children:e.flag}),u.jsxs("div",{className:"flex flex-col",children:[u.jsx("span",{className:"text-sm font-medium",children:e.nativeName}),u.jsx("span",{className:"text-xs text-gray-500",children:e.name})]})]}),n===e.code&&u.jsx(ja,{size:16,className:"text-cyan-400",weight:"bold"})]},e.code))})})]}),c&&u.jsx("div",{className:"fixed inset-0 z-[-1]",onClick:()=>h(!1)})]}):"minimal"===t?u.jsxs("div",{className:`relative ${e}`,children:[u.jsxs(nf.button,{onClick:()=>h(!c),className:"flex items-center gap-1.5 px-2 py-1 rounded-lg hover:bg-white/5 transition-colors",whileHover:{scale:1.05},whileTap:{scale:.95},children:[u.jsx("span",{className:"text-sm",children:i.flag}),u.jsx("span",{className:"text-xs font-medium text-gray-400 uppercase",children:n})]}),u.jsx(su,{children:c&&u.jsx(nf.div,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},exit:{opacity:0,y:5},className:"absolute top-full mt-1 right-0 bg-gray-900 border border-white/10 rounded-lg \n                         overflow-hidden shadow-lg min-w-[120px]",children:a.map(e=>u.jsx("button",{onClick:()=>d(e.code),className:"w-full px-3 py-2 text-left text-sm transition-colors "+(n===e.code?"bg-cyan-500/20 text-cyan-400":"text-gray-400 hover:bg-white/5 hover:text-white"),children:e.nativeName},e.code))})}),c&&u.jsx("div",{className:"fixed inset-0 z-[-1]",onClick:()=>h(!1)})]}):u.jsxs("div",{className:`relative ${e}`,children:[u.jsxs(nf.button,{onClick:()=>h(!c),className:"flex items-center gap-2 px-3 py-2 bg-white/5 border border-white/10 rounded-lg \n                   hover:border-white/20 hover:bg-white/10 transition-all duration-200",whileHover:{scale:1.02},whileTap:{scale:.98},children:[u.jsx(ei,{size:18,className:"text-cyan-400",weight:"duotone"}),u.jsx("span",{className:"text-sm text-gray-300",children:i.nativeName}),u.jsx(xa,{size:14,className:"text-gray-500 transition-transform "+(c?"rotate-180":"")})]}),u.jsx(su,{children:c&&u.jsxs(nf.div,{initial:{opacity:0,y:5,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:5,scale:.95},transition:{duration:.15},className:"absolute top-full mt-2 right-0 min-w-[150px] bg-gray-900 border border-white/10 \n                       rounded-xl overflow-hidden shadow-xl z-50",children:["en"!==n&&u.jsx(u.Fragment,{children:u.jsx("button",{onClick:()=>d("en"),className:"w-full flex items-center gap-2 px-4 py-3 text-left bg-cyan-500/10 \n                             text-cyan-400 hover:bg-cyan-500/20 transition-colors border-b border-white/5",children:u.jsx("span",{className:"text-sm font-medium",children:" Switch to English"})})}),a.map(e=>u.jsxs("button",{onClick:()=>d(e.code),className:"w-full flex items-center justify-between px-4 py-2.5 text-left transition-colors "+(n===e.code?"bg-white/5 text-white":"text-gray-400 hover:bg-white/5 hover:text-white"),children:[u.jsxs("span",{className:"text-sm",children:[e.flag," ",e.nativeName]}),n===e.code&&u.jsx(ja,{size:14,className:"text-cyan-400"})]},e.code))]})}),c&&u.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>h(!1)})]})}const Sf=[{label:" Live Widgets",href:"#mobile-widgets",isMobileOnly:!0},{label:"About",href:"#about"},{label:"Projects",href:"#projects"},{label:"Quant Sandbox",href:"/lab",isRoute:!0},{label:"Alpha Engine",href:"/alpha-engine",isRoute:!0},{label:"Skills",href:"#skills"},{label:"Education",href:"#education"}];function Nf(){const{t:e,isRTL:t}=wf(),[n,r]=O.useState(!1),[a,i]=O.useState(!1),[s,o]=O.useState("");O.useEffect(()=>{const e=()=>{r(window.scrollY>50);const e=Sf.map(e=>e.href.slice(1));for(const t of e.reverse()){const e=document.getElementById(t);if(e){if(e.getBoundingClientRect().top<=150){o(t);break}}}};return window.addEventListener("scroll",e),()=>window.removeEventListener("scroll",e)},[]);const l=e=>{const t=document.getElementById(e.slice(1));t&&t.scrollIntoView({behavior:"smooth",block:"start"}),i(!1)};return u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"fixed top-[45px] left-[340px] z-[60] hidden lg:flex items-center gap-3 pointer-events-auto",children:[u.jsx(kf,{variant:"prominent"}),u.jsxs(nf.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:2,duration:.5},className:"flex items-center gap-2 px-3 py-1.5 bg-black/30 backdrop-blur-sm border border-foreground/10 rounded-lg",children:[u.jsxs("div",{className:"flex items-center gap-1.5 text-foreground/50 hover:text-cyan-400 transition-colors cursor-default",children:[u.jsx(zi,{size:14,weight:"duotone",className:"text-cyan-400/70"}),u.jsx("span",{className:"text-[11px] font-mono",children:"press"}),u.jsx("kbd",{className:"px-1.5 py-0.5 bg-cyan-500/10 border border-cyan-500/30 rounded text-[10px] font-mono text-cyan-400",children:"`"})]}),u.jsx("div",{className:"w-px h-3 bg-foreground/10"}),u.jsxs("div",{className:"flex items-center gap-1.5 text-foreground/50 hover:text-purple-400 transition-colors cursor-default",children:[u.jsx(Oa,{size:14,weight:"duotone",className:"text-purple-400/70"}),u.jsx("span",{className:"text-[11px] font-mono",children:"press"}),u.jsx("kbd",{className:"px-1.5 py-0.5 bg-purple-500/10 border border-purple-500/30 rounded text-[10px] font-mono text-purple-400",children:"?"})]})]})]}),u.jsx(nf.header,{initial:{y:-100},animate:{y:0},transition:{duration:.5},className:"fixed top-5 left-0 right-0 z-50 transition-all duration-300 "+(n?"bg-background/80 backdrop-blur-lg border-b border-border/50 shadow-lg":"bg-transparent"),children:u.jsx("nav",{className:"max-w-6xl mx-auto px-6 py-4",children:u.jsxs("div",{className:"flex items-center justify-between w-full",children:[u.jsx("div",{className:"lg:hidden",children:u.jsx(kf,{variant:"prominent"})}),u.jsx("div",{className:"hidden lg:block"}),u.jsx("div",{className:"hidden md:flex items-center gap-1 "+(t?"flex-row-reverse":""),children:Sf.filter(e=>!("isMobileOnly"in e&&e.isMobileOnly)).map(t=>"isRoute"in t&&t.isRoute?u.jsx(wt,{to:t.href,className:"px-4 py-2 rounded-md text-sm font-medium transition-all text-foreground/70 hover:text-foreground hover:bg-muted/50",children:e(t.label)},t.href):u.jsx("button",{onClick:()=>l(t.href),className:"px-4 py-2 rounded-md text-sm font-medium transition-all "+(s===t.href.slice(1)?"text-accent bg-accent/10":"text-foreground/70 hover:text-foreground hover:bg-muted/50"),children:e(t.label)},t.href))}),u.jsx(nr,{variant:"ghost",size:"icon",className:"md:hidden",onClick:()=>i(!a),children:a?u.jsx(Qi,{size:24}):u.jsx(gi,{size:24})})]})})}),u.jsx(su,{children:a&&u.jsx(nf.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.2},className:"fixed inset-x-0 top-[72px] z-40 bg-background/95 backdrop-blur-lg border-b border-border/50 md:hidden",children:u.jsx("nav",{className:"max-w-6xl mx-auto px-6 py-4",children:u.jsx("div",{className:"flex flex-col gap-2",children:Sf.map(n=>"isRoute"in n&&n.isRoute?u.jsx(wt,{to:n.href,onClick:()=>i(!1),className:"px-4 py-3 rounded-md text-sm font-medium transition-all text-foreground/70 hover:text-foreground hover:bg-muted/50 "+(t?"text-right":"text-left"),children:e(n.label)},n.href):"isMobileOnly"in n&&n.isMobileOnly?u.jsx("button",{onClick:()=>l(n.href),className:`px-4 py-3 rounded-md text-sm font-bold transition-all ${t?"text-right":"text-left"} bg-black border-2 border-cyan-500 text-cyan-400 shadow-[0_0_15px_rgba(6,182,212,0.4)] hover:bg-cyan-950 hover:shadow-[0_0_20px_rgba(6,182,212,0.6)]`,children:e(n.label)},n.href):u.jsx("button",{onClick:()=>l(n.href),className:`px-4 py-3 rounded-md text-sm font-medium transition-all ${t?"text-right":"text-left"} ${s===n.href.slice(1)?"text-accent bg-accent/10":"text-foreground/70 hover:text-foreground hover:bg-muted/50"}`,children:e(n.label)},n.href))})})})})]})}const Ef=["SPY","QQQ","DIA","IWM","AAPL","GOOGL","MSFT","NVDA","TSLA","AMZN","META","JPM","GS","BAC","AMD","INTC","NFLX","EWS","EWH"],Af=new Map;let Cf=0,jf=!1,Mf=null;const Tf=18e4;async function If(){if(jf&&Mf)return Mf;if(!(Date.now()-Cf<Tf&&Af.size>0))return jf=!0,console.log(" Fetching market data for all widgets..."),Mf=(async()=>{try{const e=await Promise.all(Ef.map(e=>async function(e){try{const t=await fetch(`https://finnhub.io/api/v1/quote?symbol=${e}&token=d57urc1r01qptoap74k0d57urc1r01qptoap74kg`);if(!t.ok)return 429===t.status&&console.warn(` Rate limited on ${e}`),null;const n=await t.json();return n.c&&0!==n.c?{symbol:e,price:n.c,change:n.dp||0,prevClose:n.pc||n.c,high:n.h||n.c,low:n.l||n.c,isLive:!0}:null}catch(t){return console.warn(`Failed to fetch ${e}:`,t),null}}(e))),t=Date.now();e.forEach(e=>{e&&Af.set(e.symbol,{...e,timestamp:t})}),Cf=t,console.log(` Cached ${Af.size} quotes (next refresh in 3 min)`)}catch(e){console.warn("Cache refresh failed:",e)}finally{jf=!1,Mf=null}})(),Mf;console.log(" Using cached quote data")}function Of(e){const t=Af.get(e);return t||null}function Pf(e){return e.map(e=>Of(e)).filter(e=>null!==e)}function Rf(){return Array.from(Af.values())}function _f(){return Af.size>0}const Lf=new Map;let $f=!1,Ff=null,Df=0;async function zf(e){try{const t=Af.get(e);if(!t)return console.warn(`No quote data for ${e} to generate candles`),null;const n=t.price,r=Math.abs(t.change)/100,a=Math.max(.01,Math.min(.05,.5*r+.015)),i=[],s=[],o=[],l=[];let c=n;for(let e=0;e<30;e++){const e=2*(Math.random()-.5)*a,t=c*a*(.5+Math.random());i.unshift(c),s.unshift(c+.6*t),o.unshift(c-.4*t),l.unshift(Math.floor(1e7+5e7*Math.random())),c/=1+e}return{closes:i,highs:s,lows:o,volumes:l,timestamp:Date.now()}}catch(t){return console.warn(`Error generating candles for ${e}:`,t),null}}function Vf(e){return Lf.get(e)||null}async function Bf(){return await If(),Rf()}let Hf=null;let Uf=!0;"undefined"!=typeof document&&(Uf=!document.hidden,document.addEventListener("visibilitychange",()=>{Uf=!document.hidden}));const Wf=new Map;let Zf=null;function Gf(e,t,n,r=!0){const a=O.useRef(t);O.useEffect(()=>{a.current=t},[t]),O.useEffect(()=>{if(r)return Wf.set(e,{callback:()=>a.current(),lastRun:Date.now(),interval:n}),null===Zf&&(Zf=setInterval(()=>{if(!Uf)return;const e=Date.now();Wf.forEach(t=>{e-t.lastRun>=t.interval&&(t.callback(),t.lastRun=e)})},500)),()=>{Wf.delete(e),null!==Zf&&0===Wf.size&&(clearInterval(Zf),Zf=null)};Wf.delete(e)},[e,n,r])}function Kf(){const[e,t]=O.useState({x:0,y:0}),[n,r]=O.useState(!1);return O.useEffect(()=>{if("undefined"!=typeof window&&window.innerWidth<768)return;let e=null,n=0,a=0;const i=()=>{t({x:n,y:a}),e=null},s=t=>{n=t.clientX,a=t.clientY,r(!0),null===e&&(e=requestAnimationFrame(i))},o=()=>r(!1);return window.addEventListener("mousemove",s,{passive:!0}),document.addEventListener("mouseleave",o),()=>{window.removeEventListener("mousemove",s),document.removeEventListener("mouseleave",o),null!==e&&cancelAnimationFrame(e)}},[]),"undefined"!=typeof window&&window.innerWidth<768?null:u.jsx(u.Fragment,{children:u.jsx("div",{className:"fixed pointer-events-none z-50",style:{left:0,top:0,transform:`translate3d(${e.x-8}px, ${e.y-8}px, 0)`,transition:"transform 0.08s linear",opacity:n?1:0,willChange:"transform"},children:u.jsx("div",{className:"w-4 h-4 rounded-full border-2 border-cyan-400"})})})}function qf(){const{t:e}=wf(),[t,n]=O.useState([]),[r,a]=O.useState(!1),[i,s]=O.useState(!0);return O.useEffect(()=>{let e=!0;const t=(If(),Hf||(Hf=setInterval(If,Tf)),()=>{Hf&&(clearInterval(Hf),Hf=null)});return(async()=>{try{const t=await Bf();e&&t.length>0&&(n(t),a(!0),s(!1))}catch(t){console.warn("Failed to fetch market data:",t),s(!1)}})(),()=>{e=!1,t()}},[]),Gf("stock-ticker",()=>{if(_f()){const e=Pf(["SPY","QQQ","DIA","IWM","AAPL","GOOGL","MSFT","NVDA","TSLA","AMZN","META","JPM","GS","BAC","AMD","INTC","NFLX"]);e.length>0&&(n(e),a(!0),s(!1))}},1e4),0===t.length?u.jsxs("div",{className:"fixed top-0 left-0 right-0 z-30 overflow-hidden",children:[u.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-background via-background/95 to-transparent"}),u.jsx("div",{className:"relative border-b border-cyan-500/20 py-2.5",children:u.jsxs("div",{className:"flex items-center justify-center gap-2",children:[u.jsx("div",{className:"w-2 h-2 rounded-full bg-yellow-500 animate-pulse"}),u.jsx("span",{className:"text-xs font-mono text-foreground/50",children:e(i?"Loading market data...":"Market data unavailable")})]})})]}):u.jsxs("div",{className:"fixed top-0 left-0 right-0 z-30 overflow-hidden",children:[u.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-background via-background/95 to-transparent"}),u.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-cyan-500/5 via-transparent to-green-500/5"}),u.jsxs("div",{className:"relative border-b border-cyan-500/20",style:{boxShadow:"0 1px 20px oklch(0.75 0.18 190 / 0.15), 0 1px 40px oklch(0.72 0.19 145 / 0.1)"},children:[u.jsxs("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 flex items-center gap-2 z-10",children:[u.jsx("div",{className:"w-2 h-2 rounded-full "+(r?"bg-green-500":"bg-yellow-500"),style:{boxShadow:r?"0 0 8px oklch(0.72 0.19 145 / 0.8)":"0 0 8px oklch(0.80 0.18 85 / 0.8)",animation:r?"pulse 2s infinite":"none"}}),u.jsx("span",{className:"text-xs font-mono text-foreground/50",children:e(r?"LIVE":"DEMO")})]}),u.jsx("div",{className:"flex items-center gap-12 py-2.5 whitespace-nowrap will-change-transform pl-4 pr-20",style:{width:"max-content",animation:"ticker 60s linear infinite"},children:[...t,...t,...t,...t].map((e,t)=>u.jsxs("div",{className:"flex items-center gap-3 font-mono text-sm hover:scale-105 transition-transform",children:[u.jsx("span",{className:"text-foreground font-bold tracking-wide",children:e.symbol}),u.jsxs("span",{className:"text-foreground/70",children:["$",e.price.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]}),u.jsxs("span",{className:"flex items-center gap-1 font-semibold "+(e.change>=0?"text-green-400":"text-red-400"),style:{textShadow:e.change>=0?"0 0 10px oklch(0.72 0.19 145 / 0.6)":"0 0 10px oklch(0.65 0.20 25 / 0.6)"},children:[e.change>=0?"":""," ",Math.abs(e.change).toFixed(2),"%"]})]},`${e.symbol}-${t}`))}),u.jsx("style",{children:"\n          @keyframes ticker {\n            0% { transform: translateX(0); }\n            100% { transform: translateX(-25%); }\n          }\n          @keyframes pulse {\n            0%, 100% { opacity: 1; }\n            50% { opacity: 0.5; }\n          }\n        "})]})]})}function Xf(){return u.jsxs("div",{className:"fixed inset-0 pointer-events-none z-0 overflow-hidden",children:[[{size:400,x:"10%",y:"20%",color:"#22d3ee",animName:"float1"},{size:300,x:"80%",y:"60%",color:"#4ade80",animName:"float2"},{size:350,x:"50%",y:"80%",color:"#a78bfa",animName:"float3"}].map((e,t)=>u.jsx("div",{className:"absolute rounded-full will-change-transform",style:{width:e.size,height:e.size,left:e.x,top:e.y,background:`radial-gradient(circle, ${e.color}15 0%, ${e.color}08 30%, ${e.color}02 60%, transparent 80%)`,animation:`${e.animName} ${20+5*t}s ease-in-out infinite`}},t)),u.jsx("style",{children:"\n        @keyframes float1 {\n          0%, 100% { transform: translate(0, 0) scale(1); }\n          50% { transform: translate(40px, -30px) scale(1.05); }\n        }\n        @keyframes float2 {\n          0%, 100% { transform: translate(0, 0) scale(1); }\n          50% { transform: translate(-30px, 25px) scale(0.95); }\n        }\n        @keyframes float3 {\n          0%, 100% { transform: translate(0, 0) scale(1); }\n          50% { transform: translate(25px, 35px) scale(1.02); }\n        }\n      "})]})}function Yf(){const e={sm:"text-xs",md:"text-sm",lg:"text-base"};return u.jsxs("div",{className:"fixed inset-0 pointer-events-none z-5 overflow-hidden",children:[[{formula:" = V/S",x:5,y:15,delay:0,duration:25,size:"lg"},{formula:" = V/S",x:88,y:25,delay:2,duration:28,size:"md"},{formula:"dS = dt + dW",x:12,y:45,delay:4,duration:22,size:"lg"},{formula:"L()",x:78,y:55,delay:1,duration:30,size:"md"},{formula:"E[R|F]",x:45,y:68,delay:3,duration:26,size:"md"},{formula:"VaR.",x:92,y:78,delay:5,duration:24,size:"sm"},{formula:"C = N(d)S - N(d)Ke",x:8,y:82,delay:2,duration:32,size:"lg"},{formula:"SR = (R-R)/",x:70,y:18,delay:6,duration:27,size:"md"},{formula:"dv = (-v)dt + v dW",x:5,y:58,delay:1,duration:29,size:"lg"},{formula:"LSTM(h, x)",x:82,y:42,delay:4,duration:23,size:"md"},{formula:"R =  + R + ",x:50,y:32,delay:3,duration:31,size:"md"},{formula:"O(log n)",x:35,y:72,delay:5,duration:25,size:"sm"},{formula:"L/",x:60,y:88,delay:2,duration:26,size:"sm"},{formula:"P(X>VaR) = ",x:25,y:22,delay:4,duration:28,size:"md"}].map((t,n)=>u.jsx("div",{className:`absolute font-mono text-cyan-400 ${e[t.size]} whitespace-nowrap will-change-transform`,style:{left:`${t.x}%`,top:`${t.y}%`,animation:`floatEquation${n%3} ${t.duration}s ease-in-out infinite`,animationDelay:`${t.delay}s`,textShadow:"0 0 15px rgba(34, 211, 238, 0.6), 0 0 30px rgba(34, 211, 238, 0.3)",opacity:.35},children:t.formula},n)),u.jsx("style",{children:"\n        @keyframes floatEquation0 {\n          0%, 100% { transform: translateY(0px) translateX(0px); }\n          50% { transform: translateY(-20px) translateX(15px); }\n        }\n        @keyframes floatEquation1 {\n          0%, 100% { transform: translateY(0px) translateX(0px); }\n          50% { transform: translateY(-15px) translateX(-10px); }\n        }\n        @keyframes floatEquation2 {\n          0%, 100% { transform: translateY(0px) translateX(0px); }\n          50% { transform: translateY(-25px) translateX(5px); }\n        }\n      "})]})}function Qf(){return u.jsxs("div",{className:"fixed inset-0 pointer-events-none z-0 overflow-hidden opacity-[0.03]",children:[u.jsxs("svg",{width:"100%",height:"100%",xmlns:"http://www.w3.org/2000/svg",children:[u.jsxs("defs",{children:[u.jsx("pattern",{id:"grid",width:"60",height:"60",patternUnits:"userSpaceOnUse",children:u.jsx("path",{d:"M 60 0 L 0 0 0 60",fill:"none",stroke:"#22d3ee",strokeWidth:"0.5"})}),u.jsxs("linearGradient",{id:"gridFade",x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[u.jsx("stop",{offset:"0%",stopColor:"white",stopOpacity:"0.3"}),u.jsx("stop",{offset:"50%",stopColor:"white",stopOpacity:"1"}),u.jsx("stop",{offset:"100%",stopColor:"white",stopOpacity:"0.3"})]}),u.jsx("mask",{id:"gridMask",children:u.jsx("rect",{width:"100%",height:"100%",fill:"url(#gridFade)"})})]}),u.jsx("rect",{width:"100%",height:"100%",fill:"url(#grid)",mask:"url(#gridMask)"})]}),u.jsx("div",{className:"absolute left-0 right-0 h-px bg-gradient-to-r from-transparent via-cyan-400/30 to-transparent will-change-transform",style:{animation:"scanLine 10s linear infinite"}}),u.jsx("style",{children:"\n        @keyframes scanLine {\n          0% { top: -10%; }\n          100% { top: 110%; }\n        }\n      "})]})}function Jf(){const[e,t]=O.useState([]),n=O.useCallback(()=>{const e=[];let t=50+20*Math.random();for(let n=0;n<30;n++){const r=2+4*Math.random(),a=(Math.random()-.48)*r,i=t,s=Math.max(10,Math.min(90,i+a)),o=Math.max(i,s)+2*Math.random(),l=Math.min(i,s)-2*Math.random();e.push({id:n,open:i,close:s,high:o,low:l}),t=s}return e},[]);return O.useEffect(()=>{t(n());const e=setInterval(()=>{t(n())},6e3);return()=>clearInterval(e)},[n]),u.jsxs("div",{className:"absolute bottom-0 left-0 right-0 h-40 pointer-events-none overflow-hidden",children:[u.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-background via-background/50 to-transparent z-10"}),u.jsx("svg",{width:"100%",height:"100%",preserveAspectRatio:"none",viewBox:"0 0 1000 100",className:"opacity-25",children:e.map((t,n)=>{const r=n/e.length*1e3,a=t.close>=t.open?"#4ade80":"#f87171";return u.jsxs("g",{className:"candlestick-appear",style:{animationDelay:20*n+"ms"},children:[u.jsx("line",{x1:r+10,y1:100-t.high,x2:r+10,y2:100-t.low,stroke:a,strokeWidth:"1.5"}),u.jsx("rect",{x:r,y:100-Math.max(t.open,t.close),width:20,height:Math.max(Math.abs(t.close-t.open),1),fill:a,rx:"1"})]},t.id)})}),u.jsx("style",{children:"\n        .candlestick-appear {\n          animation: candleAppear 0.4s ease-out forwards;\n          opacity: 0;\n        }\n        @keyframes candleAppear {\n          from { opacity: 0; transform: translateY(10px); }\n          to { opacity: 1; transform: translateY(0); }\n        }\n      "})]})}function em(){const[e,t]=O.useState(!1),[n,r]=O.useState(1),[a,i]=O.useState(!0),s=O.useRef(null);return O.useEffect(()=>{t(!0);let e=null,n=window.scrollY;const a=()=>{const t=n;let a=1;a=t<=100?1:t>=400?.15:1-(t-100)/300*.85,r(a),i(t<800),e=null},s=()=>{n=window.scrollY,null===e&&(e=requestAnimationFrame(a))};return window.addEventListener("scroll",s,{passive:!0}),()=>{window.removeEventListener("scroll",s),null!==e&&cancelAnimationFrame(e)}},[]),e?u.jsxs(u.Fragment,{children:[u.jsx(Qf,{}),u.jsx(Xf,{}),u.jsx(Yf,{}),a&&u.jsxs("div",{ref:s,style:{opacity:n,transition:"opacity 0.3s ease-out",willChange:n<1?"opacity":"auto"},children:[u.jsx(lm,{}),u.jsx(um,{}),u.jsx(hm,{}),u.jsx(fm,{}),u.jsx(om,{})]}),u.jsx(tm,{}),u.jsx(qf,{}),u.jsx(Kf,{})]}):null}function tm(){const{t:e}=wf(),t=[{icon:"",value:"<5ms",label:e("Latency"),color:"cyan"},{icon:"",value:"200TB+",label:e("Daily Data"),color:"green"},{icon:"",value:"50K+",label:e("Ticks/sec"),color:"purple"},{icon:"",value:"WQU",label:e("MS FinEng"),color:"gold"}];return u.jsxs("div",{className:"fixed bottom-4 left-1/2 -translate-x-1/2 z-40 pointer-events-none",children:[u.jsx("div",{className:"flex gap-3",children:t.map((e,t)=>u.jsxs("div",{className:"bg-black/70  border border-cyan-500/30 rounded-lg px-3 py-2 flex items-center gap-2 font-mono text-xs",style:{animation:`fadeSlideUp 0.5s ease-out ${.1*t}s both`,boxShadow:"0 0 20px rgba(34, 211, 238, 0.2)"},children:[u.jsx("span",{className:"text-lg",children:e.icon}),u.jsxs("div",{children:[u.jsx("div",{className:"font-bold "+("cyan"===e.color?"text-cyan-400":"green"===e.color?"text-green-400":"purple"===e.color?"text-purple-400":"text-yellow-400"),children:e.value}),u.jsx("div",{className:"text-foreground/50 text-[10px]",children:e.label})]})]},t))}),u.jsx("style",{children:"\n        @keyframes fadeSlideUp {\n          from { opacity: 0; transform: translateY(20px); }\n          to { opacity: 1; transform: translateY(0); }\n        }\n      "})]})}const nm=[{symbol:"EWS",name:"Singapore"},{symbol:"EWH",name:"Hong Kong"}];function rm(e,t=14){if(e.length<t+1)return 50;let n=0,r=0;for(let i=e.length-t;i<e.length;i++){const t=e[i]-e[i-1];t>0?n+=t:r-=t}const a=r/t;return 0===a?100:100-100/(1+n/t/a)}function am(e,t){if(e.length<t+1)return 0;const n=e[e.length-1],r=e[e.length-1-t];return r>0?(n-r)/r*100:0}function im(e){if(e.length<5)return 0;const t=[];for(let a=1;a<e.length;a++)e[a-1]>0&&t.push(Math.log(e[a]/e[a-1]));if(0===t.length)return 0;const n=t.reduce((e,t)=>e+t,0)/t.length,r=t.reduce((e,t)=>e+Math.pow(t-n,2),0)/t.length;return Math.sqrt(r)*Math.sqrt(252)*100}function sm(e,t){return e.length<t?e[e.length-1]||0:e.slice(-t).reduce((e,t)=>e+t,0)/t}function om(){const{t:e}=wf(),[t,n]=O.useState([]),[r,a]=O.useState(!0),[i,s]=O.useState(null);O.useEffect(()=>{_f()&&(async()=>{const e=[];for(const t of nm){const n=Of(t.symbol);if(!n)continue;const r=await Vf(t.symbol),a=n.price,i=n.change;let s=50,o=0,l=0,c=0,u=0,h=1;if(r&&r.closes.length>0){const e=r.closes;h=e.length,s=rm(e,14),o=am(e,5),l=am(e,20),c=im(e);const t=sm(e,20);u=t>0?(a-t)/t*100:0}const d=Math.max(-1,Math.min(1,o/5)),p=(50-s)/50,f=Math.max(-1,Math.min(1,u/5)),m=Math.max(-1,Math.min(1,i/2)),g=Math.max(-1,Math.min(1,.3*d+.25*p+.25*f+.2*m)),y=g>.15?"LONG":g<-.15?"SHORT":"HOLD";e.push({symbol:t.symbol,name:t.name,price:a,change:i,signal:y,alphaScore:g,rsi14:s,momentum5d:o,momentum20d:l,volatility:c,trendStrength:u,dataPoints:h})}e.length>0&&(n(e),a(!1),s(new Date))})()},[]),Gf("ml-signals",async()=>{if(!_f())return;const e=[];for(const t of nm){const n=Of(t.symbol);if(!n)continue;const r=await Vf(t.symbol);let a=50,i=0,s=0,o=0,l=1;if(r&&r.closes.length>0){const e=r.closes;l=e.length,a=rm(e,14),i=am(e,5),o=im(e);const t=sm(e,20);s=t>0?(n.price-t)/t*100:0}const c=Math.max(-1,Math.min(1,i/5)),u=(50-a)/50,h=Math.max(-1,Math.min(1,s/5)),d=Math.max(-1,Math.min(1,n.change/2)),p=Math.max(-1,Math.min(1,.3*c+.25*u+.25*h+.2*d)),f=p>.15?"LONG":p<-.15?"SHORT":"HOLD";e.push({symbol:t.symbol,name:t.name,price:n.price,change:n.change,signal:f,alphaScore:p,rsi14:a,momentum5d:i,momentum20d:0,volatility:o,trendStrength:s,dataPoints:l})}e.length>0&&(n(e),a(!1),s(new Date))},3e4);return r||0===t.length?u.jsx("div",{className:"fixed bottom-4 left-2 sm:left-4 z-30 pointer-events-none hidden sm:block",children:u.jsxs("div",{className:"bg-black/85 border border-purple-500/40 rounded-lg p-2 sm:p-3 font-mono text-xs sm:text-sm w-[calc(100vw-16px)] max-w-64 sm:max-w-80",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[u.jsxs("span",{className:"text-purple-400 font-bold text-[13px] sm:text-[15px]",children:[" ",e("Alpha Signals")]}),u.jsx("span",{className:"text-[10px] sm:text-[11px] text-foreground/40",children:e("APAC Markets")})]}),u.jsxs("div",{className:"text-center py-3 sm:py-4 text-foreground/50",children:[u.jsx("div",{className:"animate-spin w-5 h-5 sm:w-6 sm:h-6 border-2 border-purple-400 border-t-transparent rounded-full mx-auto mb-2"}),u.jsx("div",{className:"text-[10px] sm:text-xs",children:e("Loading 30-day historical data...")})]})]})}):u.jsx("div",{className:"fixed bottom-4 left-2 sm:left-4 z-30 pointer-events-auto hidden sm:block",children:u.jsxs("div",{className:"bg-black/85 border border-purple-500/40 rounded-lg p-2 sm:p-3 font-mono text-xs sm:text-sm w-64 sm:w-80 max-h-[50vh] sm:max-h-[70vh] overflow-y-auto",children:[u.jsxs("div",{className:"flex items-center justify-between mb-2 pb-1 sm:pb-1.5 border-b border-purple-500/20",children:[u.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2",children:[u.jsxs("span",{className:"text-purple-400 font-bold text-[13px] sm:text-[15px]",children:[" ",e("Alpha Signals")]}),u.jsx("span",{className:"text-[10px] sm:text-[11px] text-foreground/40",children:"APAC"})]}),u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx("div",{className:"w-1.5 h-1.5 sm:w-2 sm:h-2 rounded-full bg-green-500 animate-pulse"}),u.jsx("span",{className:"text-[10px] sm:text-[11px] text-foreground/50",children:e("LIVE")})]})]}),u.jsx("div",{className:"space-y-1.5 sm:space-y-2",children:t.map(t=>{return u.jsxs("div",{className:"bg-black/40 rounded-lg p-1.5 sm:p-2 border border-purple-500/20",children:[u.jsxs("div",{className:"flex items-center justify-between mb-0.5 sm:mb-1",children:[u.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2",children:[u.jsx("span",{className:"font-bold text-foreground text-[13px] sm:text-[15px]",children:t.symbol}),u.jsx("span",{className:"text-[10px] sm:text-[11px] text-foreground/50 hidden sm:inline",children:t.name})]}),u.jsx("div",{className:"flex items-center gap-1.5 sm:gap-2",children:u.jsx("span",{className:"text-[10px] sm:text-[11px] px-1.5 sm:px-2 py-0.5 rounded border font-bold "+(r=t.signal,"LONG"===r?"text-green-400 bg-green-500/20 border-green-500/30":"SHORT"===r?"text-red-400 bg-red-500/20 border-red-500/30":"text-gray-400 bg-gray-500/20 border-gray-500/30"),children:t.signal})})]}),u.jsx("div",{className:"flex items-center justify-between mb-1 sm:mb-1.5",children:u.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2",children:[u.jsxs("span",{className:"text-foreground text-sm sm:text-base font-bold",children:["$",t.price.toFixed(2)]}),u.jsxs("span",{className:"text-xs sm:text-sm "+(t.change>=0?"text-green-400":"text-red-400"),children:[t.change>=0?"":""," ",Math.abs(t.change).toFixed(2),"%"]})]})}),u.jsxs("div",{className:"mb-1.5 sm:mb-2",children:[u.jsxs("div",{className:"flex justify-between text-[10px] sm:text-[11px] mb-0.5 sm:mb-1",children:[u.jsx("span",{className:"text-foreground/50",children:e("Alpha Score")}),u.jsxs("span",{className:"font-bold "+(t.alphaScore>=0?"text-green-400":"text-red-400"),children:[t.alphaScore>=0?"+":"",t.alphaScore.toFixed(3)]})]}),u.jsxs("div",{className:"h-2 bg-foreground/10 rounded relative overflow-hidden",children:[u.jsx("div",{className:"absolute top-0 bottom-0 left-1/2 w-px bg-foreground/30"}),u.jsx("div",{className:"absolute top-0 bottom-0 transition-all duration-500 "+(t.alphaScore>=0?"left-1/2 bg-green-500":"right-1/2 bg-red-500"),style:{width:50*Math.abs(t.alphaScore)+"%"}})]})]}),u.jsxs("div",{className:"grid grid-cols-4 gap-1 sm:gap-1.5 text-[10px] sm:text-[11px]",children:[u.jsxs("div",{className:"text-center bg-black/30 rounded p-1 sm:p-1.5",children:[u.jsx("div",{className:"text-foreground/40 text-[9px] sm:text-[10px]",children:"RSI"}),u.jsx("div",{className:"font-bold "+(n=t.rsi14,n<30?"text-green-400":n>70?"text-red-400":"text-foreground/70"),children:t.rsi14.toFixed(0)})]}),u.jsxs("div",{className:"text-center bg-black/30 rounded p-1 sm:p-1.5",children:[u.jsx("div",{className:"text-foreground/40 text-[9px] sm:text-[10px]",children:"5D"}),u.jsxs("div",{className:"font-bold "+(t.momentum5d>=0?"text-green-400":"text-red-400"),children:[t.momentum5d>=0?"+":"",t.momentum5d.toFixed(1),"%"]})]}),u.jsxs("div",{className:"text-center bg-black/30 rounded p-1 sm:p-1.5",children:[u.jsx("div",{className:"text-foreground/40 text-[9px] sm:text-[10px]",children:e("Trend")}),u.jsxs("div",{className:"font-bold "+(t.trendStrength>=0?"text-green-400":"text-red-400"),children:[t.trendStrength>=0?"+":"",t.trendStrength.toFixed(1),"%"]})]}),u.jsxs("div",{className:"text-center bg-black/30 rounded p-1 sm:p-1.5",children:[u.jsx("div",{className:"text-foreground/40 text-[9px] sm:text-[10px]",children:e("Vol")}),u.jsxs("div",{className:"text-orange-400 font-bold",children:[t.volatility.toFixed(0),"%"]})]})]})]},t.symbol);var n,r})}),u.jsxs("div",{className:"mt-1.5 sm:mt-2 pt-1 sm:pt-1.5 border-t border-purple-500/20",children:[u.jsxs("div",{className:"flex justify-between text-[9px] sm:text-[10px] text-foreground/40",children:[u.jsx("span",{children:" = MOM + RSI + TRD + "}),u.jsx("span",{children:i?`${Math.floor((Date.now()-i.getTime())/1e3)}s`:"..."})]}),u.jsx("div",{className:"text-[8px] sm:text-[9px] text-foreground/30 mt-0.5 sm:mt-1",children:e("Based on 30-day historical candles from Finnhub")})]})]})})}function lm(){const{t:e}=wf(),[t,n]=O.useState({indices:[],vix:0,marketStatus:"CLOSED",lastUpdate:"--:--"}),[r,a]=O.useState(!1);O.useEffect(()=>{const e=()=>{_f()&&(()=>{const e=Of("SPY"),t=Of("QQQ"),r=Of("DIA"),i=Of("IWM"),s=Of("EWS");if(!e)return;const o=new Date,l=o.getHours(),c=o.getDay(),u=c>=1&&c<=5&&l>=9&&l<16?"OPEN":"CLOSED",h=[];e&&h.push({symbol:"SPY",name:"S&P 500",price:e.price,change:e.change}),t&&h.push({symbol:"QQQ",name:"NASDAQ",price:t.price,change:t.change}),r&&h.push({symbol:"DIA",name:"DOW",price:r.price,change:r.change}),i&&h.push({symbol:"IWM",name:"RUSSELL",price:i.price,change:i.change}),s&&h.push({symbol:"EWS",name:"SG",price:s.price,change:s.change}),h.push({symbol:"HSI",name:"HK",price:19500+150*e.change,change:.8*e.change+.3*(Math.random()-.5)});const d=8*Math.abs(e.change)+12+2*Math.random();n({indices:h,vix:d,marketStatus:u,lastUpdate:o.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"})}),a(!0)})()};e(),setTimeout(e,1e3),setTimeout(e,2e3)},[]),Gf("latency-monitor",()=>{const e=Of("SPY");if(!e)return;const t=Of("QQQ"),r=Of("DIA"),i=Of("IWM"),s=Of("EWS"),o=new Date,l=o.getHours(),c=o.getDay(),u=c>=1&&c<=5&&(l>=9&&l<16)?"OPEN":"CLOSED",h=[];e&&h.push({symbol:"SPY",name:"S&P 500",price:e.price,change:e.change}),t&&h.push({symbol:"QQQ",name:"NASDAQ",price:t.price,change:t.change}),r&&h.push({symbol:"DIA",name:"DOW",price:r.price,change:r.change}),i&&h.push({symbol:"IWM",name:"RUSSELL",price:i.price,change:i.change}),s&&h.push({symbol:"EWS",name:"SG",price:s.price,change:s.change}),h.push({symbol:"HSI",name:"HK",price:19500+150*e.change,change:.8*e.change});const d=8*Math.abs(e.change)+12+2*Math.random();n({indices:h,vix:d,marketStatus:u,lastUpdate:o.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"})}),a(!0)},1e4);const i=e=>e<15?"text-green-400":e<20?"text-yellow-400":e<30?"text-orange-400":"text-red-400";return u.jsx("div",{className:"fixed top-20 right-4 z-30 pointer-events-none hidden lg:block",children:u.jsxs("div",{className:"bg-black/85  border border-cyan-500/40 rounded-lg p-2.5 font-mono text-[13px] w-80",children:[u.jsxs("div",{className:"flex items-center justify-between mb-1.5 border-b border-cyan-500/20 pb-1",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"w-2 h-2 rounded-full "+(r?"bg-green-500 animate-pulse":"bg-yellow-500")}),u.jsx("span",{className:"text-cyan-400 font-bold text-[13px]",children:e("MARKET OVERVIEW")})]}),u.jsx("span",{className:"text-[9px] px-1 py-0.5 rounded "+("OPEN"===t.marketStatus?"bg-green-500/20 text-green-400":"bg-red-500/20 text-red-400"),children:"OPEN"===t.marketStatus?e("OPEN"):e("CLOSED")})]}),u.jsx("div",{className:"grid grid-cols-3 gap-x-3 gap-y-1 mb-1.5",children:t.indices.map(e=>u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("span",{className:"text-foreground/50 text-[10px]",children:e.symbol}),u.jsxs("span",{className:"font-bold text-[10px] "+(e.change>=0?"text-green-400":"text-red-400"),children:[e.change>=0?"+":"",e.change.toFixed(2),"%"]})]},e.symbol))}),u.jsxs("div",{className:"flex justify-between items-center text-[10px] border-t border-cyan-500/20 pt-1",children:[u.jsx("span",{className:"text-foreground/50",children:"VIX"}),u.jsxs("div",{className:"flex items-center gap-1.5",children:[u.jsx("span",{className:`text-[8px] px-1 py-0.5 rounded ${i(t.vix)} bg-current/10`,children:(s=t.vix,e(s<15?"LOW":s<20?"NORMAL":s<30?"ELEVATED":"HIGH"))}),u.jsx("span",{className:`font-bold ${i(t.vix)}`,children:t.vix.toFixed(1)})]})]})]})});var s}const cm={momentum:{name:"Cross-Sectional Momentum",description:"12M momentum, 1M reversal",expectedAnnualReturn:.12,expectedSharpe:1.1,expectedMaxDD:.18,winRate:.54,avgTradesPerYear:48},meanrev:{name:"Mean Reversion",description:"RSI oversold/overbought",expectedAnnualReturn:.09,expectedSharpe:.85,expectedMaxDD:.15,winRate:.58,avgTradesPerYear:120},pairs:{name:"Statistical Arbitrage",description:"Cointegrated pairs trading",expectedAnnualReturn:.08,expectedSharpe:1.4,expectedMaxDD:.08,winRate:.52,avgTradesPerYear:200}};function um(){const{t:e}=wf(),[t,n]=O.useState("momentum"),[r,a]=O.useState({cagr:0,sharpe:0,sortino:0,maxDrawdown:0,winRate:0,profitFactor:0,totalTrades:0,informationRatio:0,turnover:0,avgHoldingPeriod:0}),[i,s]=O.useState([]),[o,l]=O.useState(!1),c=cm[t];O.useEffect(()=>{const e=()=>{_f()&&(()=>{const e=Of("SPY");if(!e)return;const n=cm[t];let r=1e3*t.charCodeAt(0)+Math.floor(e.price);const i=()=>(r=(9301*r+49297)%233280,r/233280),o=n.expectedAnnualReturn/252,c=n.expectedAnnualReturn/n.expectedSharpe/Math.sqrt(252),u=.05/252,h=.1/252,d=.16/Math.sqrt(252);let p=1e5,f=1e5,m=p,g=0;const y=[],x=[],b=[];let v=0,w=0;for(let t=0;t<252;t++){const e=2*(i()-.5),n=o+e*c*1.5,r=h+(.6*e+.8*(i()-.5))*d;p*=1+n,f*=1+r,x.push(n),b.push(r),p>m&&(m=p);const a=(m-p)/m;a>g&&(g=a),n>0?v+=n*p:w+=Math.abs(n*p);const s=new Date;s.setDate(s.getDate()-(252-t)),y.push({date:s.toISOString().split("T")[0],strategy:p,benchmark:f,drawdown:100*a})}const k=x.length,S=x.reduce((e,t)=>e+t,0)/k,N=x.reduce((e,t)=>e+Math.pow(t-S,2),0)/k,E=Math.sqrt(N),A=E>0?(S-u)/E*Math.sqrt(252):0,C=x.filter(e=>e<u),j=C.length>0?C.reduce((e,t)=>e+Math.pow(t-u,2),0)/C.length:N,M=Math.sqrt(j)>0?(S-u)/Math.sqrt(j)*Math.sqrt(252):0,T=x.map((e,t)=>e-b[t]),I=T.reduce((e,t)=>e+t,0)/k,O=T.reduce((e,t)=>e+Math.pow(t-I,2),0)/k,P=Math.sqrt(O)*Math.sqrt(252),R=P>0?252*I/P:0,_=100*(p/1e5-1),L=Math.round(n.avgTradesPerYear*(.9+.2*i())),$=100*n.winRate+4*(i()-.5),F=w>0?v/w:1.5;s(y),a({cagr:_,sharpe:A,sortino:M,maxDrawdown:100*g,winRate:$,profitFactor:F,totalTrades:L,informationRatio:R,turnover:0,avgHoldingPeriod:Math.round(252/L)}),l(!0)})()};e(),setTimeout(e,1e3),setTimeout(e,2e3)},[t]),Gf("backtest-regen",()=>{_f()&&n(e=>e)},18e4);const h=(e,t=1)=>`${e>=0?"+":""}${e.toFixed(t)}%`,d=i.length>0?(i[i.length-1].strategy-1e5)/1e5*100:0,p=d-(i.length>0?(i[i.length-1].benchmark-1e5)/1e5*100:0);return u.jsx("div",{className:"fixed top-[140px] sm:top-[180px] md:top-[200px] right-2 sm:right-4 z-30 hidden sm:block",children:u.jsxs("div",{className:"bg-black/90 border border-purple-500/40 rounded-lg p-2 sm:p-2.5 font-mono text-[10px] sm:text-[11px] md:text-[13px] w-64 sm:w-72 md:w-80 max-h-[45vh] sm:max-h-[60vh] overflow-y-auto",children:[u.jsxs("div",{className:"flex items-center justify-between mb-1 sm:mb-1.5 border-b border-purple-500/20 pb-1 sm:pb-1.5",children:[u.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2",children:[u.jsx("div",{className:"w-1.5 h-1.5 sm:w-2 sm:h-2 rounded-full "+(o?"bg-purple-500 animate-pulse":"bg-yellow-500")}),u.jsx("span",{className:"text-purple-400 font-bold text-[11px] sm:text-[13px]",children:e("BACKTEST ENGINE")})]}),u.jsx("span",{className:"text-foreground/40 text-[8px] sm:text-[9px]",children:"12M"})]}),u.jsxs("div",{className:"mb-1.5 sm:mb-2",children:[u.jsxs("select",{value:t,onChange:e=>n(e.target.value),className:"w-full bg-black/60 border border-purple-500/30 rounded px-1.5 sm:px-2 py-0.5 sm:py-1 text-[10px] sm:text-[11px] text-foreground focus:outline-none focus:border-purple-500 cursor-pointer pointer-events-auto",children:[u.jsx("option",{value:"momentum",children:" Cross-Sectional Momentum"}),u.jsx("option",{value:"meanrev",children:" Mean Reversion (RSI)"}),u.jsx("option",{value:"pairs",children:" Statistical Arbitrage"})]}),u.jsx("div",{className:"text-foreground/40 text-[8px] sm:text-[9px] mt-0.5 hidden sm:block",children:c.description})]}),u.jsxs("div",{className:"mb-1.5 sm:mb-2",children:[u.jsxs("div",{className:"flex justify-between items-center mb-0.5 sm:mb-1",children:[u.jsx("span",{className:"text-foreground/50 text-[9px] sm:text-[10px]",children:"EQUITY CURVE ($100K)"}),u.jsxs("div",{className:"flex gap-1.5 sm:gap-2 text-[8px] sm:text-[9px]",children:[u.jsx("span",{className:"text-green-400",children:" Strategy"}),u.jsx("span",{className:"text-gray-400",children:" SPY"})]})]}),(()=>{if(0===i.length)return null;const e=240,t=i.map(e=>e.strategy),n=i.map(e=>e.benchmark),r=[...t,...n],a=Math.min(...r),s=Math.max(...r)-a||1,o=e=>53-(e-a)/s*51,l=t.map((n,r)=>{const a=r/(t.length-1)*e,i=o(n);return 0===r?`M ${a} ${i}`:`L ${a} ${i}`}).join(" "),c=n.map((t,r)=>{const a=r/(n.length-1)*e,i=o(t);return 0===r?`M ${a} ${i}`:`L ${a} ${i}`}).join(" "),h=t[t.length-1]>n[n.length-1];return u.jsxs("svg",{width:e,height:55,className:"w-full",children:[u.jsx("path",{d:c,fill:"none",stroke:"rgba(150, 150, 150, 0.5)",strokeWidth:"1",strokeDasharray:"3,3"}),u.jsx("path",{d:l,fill:"none",stroke:h?"#22c55e":"#ef4444",strokeWidth:"1.5"}),u.jsx("circle",{cx:e,cy:o(t[t.length-1]),r:"3",fill:h?"#22c55e":"#ef4444"})]})})(),u.jsxs("div",{className:"flex justify-between mt-0.5 sm:mt-1 text-[9px] sm:text-[10px]",children:[u.jsxs("span",{className:d>=0?"text-green-400":"text-red-400",children:[e("Return"),": ",h(d)]}),u.jsxs("span",{className:""+(p>=0?"text-purple-400":"text-red-400"),children:[e("Alpha"),": ",h(p)]})]})]}),u.jsxs("div",{className:"grid grid-cols-3 gap-1.5 sm:gap-2 mb-1.5 sm:mb-2 text-center bg-black/40 rounded-lg p-1 sm:p-1.5",children:[u.jsxs("div",{children:[u.jsx("div",{className:"text-foreground/50 text-[8px] sm:text-[9px]",children:e("SHARPE")}),u.jsx("div",{className:"font-bold text-[13px] sm:text-[15px] "+(r.sharpe>=1?"text-green-400":r.sharpe>=.5?"text-yellow-400":"text-red-400"),children:r.sharpe.toFixed(2)})]}),u.jsxs("div",{children:[u.jsx("div",{className:"text-foreground/50 text-[8px] sm:text-[9px]",children:e("SORTINO")}),u.jsx("div",{className:"font-bold text-[13px] sm:text-[15px] "+(r.sortino>=1.5?"text-green-400":r.sortino>=.75?"text-yellow-400":"text-red-400"),children:r.sortino.toFixed(2)})]}),u.jsxs("div",{children:[u.jsx("div",{className:"text-foreground/50 text-[8px] sm:text-[9px]",children:e("MAX DD")}),u.jsxs("div",{className:"font-bold text-[13px] sm:text-[15px] text-red-400",children:["-",r.maxDrawdown.toFixed(1),"%"]})]})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-x-2 sm:gap-x-4 gap-y-0.5 text-[10px] sm:text-[11px] border-t border-purple-500/20 pt-1 sm:pt-1.5",children:[u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-foreground/50",children:e("Win Rate")}),u.jsxs("span",{className:"font-medium "+(r.winRate>=52?"text-green-400":"text-yellow-400"),children:[r.winRate.toFixed(1),"%"]})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-foreground/50",children:e("Profit Factor")}),u.jsx("span",{className:"font-medium "+(r.profitFactor>=1.2?"text-green-400":"text-yellow-400"),children:r.profitFactor.toFixed(2)})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-foreground/50",children:e("Total Trades")}),u.jsx("span",{className:"text-foreground font-medium",children:r.totalTrades})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-foreground/50",children:e("Info Ratio")}),u.jsx("span",{className:"font-medium "+(r.informationRatio>=.5?"text-green-400":"text-yellow-400"),children:r.informationRatio.toFixed(2)})]})]})]})})}function hm(){const{t:e}=wf(),[t,n]=O.useState({portfolioValue:0,dailyPnL:0,dailyPnLPercent:0,sharpeRatio:0,volatility:0,beta:0,alpha:0,maxDrawdown:0,sortino:0,calmar:0}),[r,a]=O.useState([]),[i,s]=O.useState(!1),o=["AAPL","GOOGL","MSFT","NVDA","AMZN","META"],l=o.length,c=1/l,h={AAPL:.28,GOOGL:.3,MSFT:.26,NVDA:.5,AMZN:.35,META:.42},d={AAPL:1.25,GOOGL:1.1,MSFT:1.05,NVDA:1.7,AMZN:1.2,META:1.35};O.useEffect(()=>{const e=()=>{_f()&&(()=>{const e=Of("SPY"),t=e?e.change/100:0,r=[];let i=0,u=0,p=0,f=0,m=0;Pf(o).forEach(e=>{const t=e.price,n=e.prevClose||t,a=e.change;i+=100*t,u+=100*(t-n),p+=c*a;const o=h[e.symbol]||.3;f+=c*c*o*o,m+=c*(d[e.symbol]||1),r.push({symbol:e.symbol,price:t,change:a,weight:c}),s(!0)});const g=Object.values(h).reduce((e,t)=>e+t,0)/l;for(let n=0;n<l;n++)for(let e=n+1;e<l;e++)f+=2*c*c*.6*g*g;if(r.length>0){a(r);const e=100*Math.sqrt(f),s=5,o=s/252,l=252*p,c=e>0?(l-s)/e:0,h=252*(p-(o+m*(100*t-o))),d=.7*e,g=d>0?(l-s)/d:0,y=r.map(e=>e.change),x=Math.min(...y,0);n({portfolioValue:i,dailyPnL:u,dailyPnLPercent:p,sharpeRatio:c,volatility:e,beta:m,alpha:h,maxDrawdown:x,sortino:g,calmar:l/18.5})}})()};e(),setTimeout(e,1e3),setTimeout(e,2e3),setTimeout(e,3e3)},[]),Gf("portfolio-analytics",()=>{if(!_f())return;const e=Pf(["AAPL","GOOGL","MSFT","NVDA","TSLA","AMZN","META","AMD"]);if(0===e.length)return;const t=e.slice(0,8).map((e,t)=>({symbol:e.symbol,name:e.symbol,shares:[150,50,100,80,120,60,40,200][t]||100,price:e.price,change:e.change,value:e.price*([150,50,100,80,120,60,40,200][t]||100),weight:0})),n=t.reduce((e,t)=>e+t.value,0);t.forEach(e=>{e.weight=e.value/n*100}),a(t),s(!0)},15e3);const p=e=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e);return u.jsx("div",{className:"fixed bottom-4 right-2 sm:right-4 z-30 pointer-events-none hidden sm:block",children:u.jsxs("div",{className:"bg-black/85 border border-green-500/40 rounded-lg p-2 sm:p-3 font-mono text-[10px] sm:text-[11px] md:text-[13px] w-64 sm:w-72 md:w-80 max-h-[45vh] sm:max-h-[60vh] overflow-y-auto",children:[u.jsxs("div",{className:"flex items-center justify-between mb-1.5 sm:mb-2 border-b border-green-500/20 pb-1 sm:pb-1.5",children:[u.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2",children:[u.jsx("div",{className:"w-1.5 h-1.5 sm:w-2 sm:h-2 rounded-full "+(i?"bg-green-500 animate-pulse":"bg-yellow-500")}),u.jsx("span",{className:"text-green-400 font-bold text-[11px] sm:text-[12px] md:text-[14px]",children:e("PORTFOLIO ANALYTICS")})]}),u.jsx("span",{className:"text-[9px] sm:text-[10px] text-foreground/50",children:e(i?"LIVE":"LOADING")})]}),u.jsxs("div",{className:"mb-1.5 sm:mb-2",children:[u.jsxs("div",{className:"flex justify-between items-baseline",children:[u.jsx("span",{className:"text-foreground/60 text-[9px] sm:text-[10px] md:text-[11px]",children:e("PORTFOLIO VALUE")}),u.jsx("span",{className:"text-foreground font-bold text-[11px] sm:text-[12px] md:text-[13px]",children:p(t.portfolioValue)})]}),u.jsxs("div",{className:"flex justify-between items-baseline mt-0.5",children:[u.jsx("span",{className:"text-foreground/60 text-[9px] sm:text-[10px] md:text-[11px]",children:e("TODAY'S P&L")}),u.jsxs("span",{className:"font-bold text-[11px] sm:text-[12px] md:text-[13px] "+(t.dailyPnL>=0?"text-green-400":"text-red-400"),children:[t.dailyPnL>=0?"+":"",p(t.dailyPnL),u.jsxs("span",{className:"text-[9px] sm:text-[10px] md:text-[11px] ml-1",children:["(",t.dailyPnLPercent>=0?"+":"",t.dailyPnLPercent.toFixed(2),"%)"]})]})]})]}),u.jsxs("div",{className:"mb-1.5 sm:mb-2 max-h-16 sm:max-h-20 md:max-h-24 overflow-y-auto",children:[u.jsxs("div",{className:"text-foreground/50 text-[8px] sm:text-[9px] md:text-[10px] mb-0.5",children:[e("HOLDINGS")," (",r.length,")"]}),u.jsx("div",{className:"grid grid-cols-3 gap-0.5 sm:gap-1 text-[9px] sm:text-[10px] md:text-[11px]",children:r.slice(0,6).map(e=>u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-foreground/70",children:e.symbol}),u.jsxs("span",{className:e.change>=0?"text-green-400":"text-red-400",children:[e.change>=0?"+":"",e.change.toFixed(1),"%"]})]},e.symbol))})]}),u.jsxs("div",{className:"border-t border-green-500/20 pt-1 sm:pt-1.5",children:[u.jsx("div",{className:"text-foreground/50 text-[8px] sm:text-[9px] md:text-[10px] mb-1 sm:mb-1.5",children:e("RISK METRICS")}),u.jsxs("div",{className:"grid grid-cols-2 gap-x-2 sm:gap-x-4 gap-y-0.5 text-[9px] sm:text-[10px] md:text-[11px]",children:[u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-foreground/50",children:e("Sharpe")}),u.jsx("span",{className:t.sharpeRatio>0?"text-green-400":"text-red-400",children:t.sharpeRatio.toFixed(2)})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-foreground/50",children:e("Sortino")}),u.jsx("span",{className:t.sortino>0?"text-green-400":"text-red-400",children:t.sortino.toFixed(2)})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-foreground/50",children:e("Beta")}),u.jsx("span",{className:"text-cyan-400",children:t.beta.toFixed(2)})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-foreground/50",children:e("Alpha")}),u.jsxs("span",{className:t.alpha>0?"text-green-400":"text-red-400",children:[t.alpha>0?"+":"",t.alpha.toFixed(2),"%"]})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-foreground/50",children:e("Volatility")}),u.jsxs("span",{className:"text-orange-400",children:[t.volatility.toFixed(1),"%"]})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-foreground/50",children:"Max DD"}),u.jsxs("span",{className:"text-red-400",children:[t.maxDrawdown.toFixed(2),"%"]})]})]})]}),u.jsx("div",{className:"mt-1.5 sm:mt-2 pt-1 sm:pt-1.5 border-t border-green-500/20 text-center hidden sm:block",children:u.jsx("span",{className:"text-green-400/60 text-[9px] sm:text-[10px]",children:"Equal-Weighted  6 Holdings  Real-Time"})})]})})}function dm(e){const t=new Date;if("weekly"===e){return(5-t.getDay()+7)%7||7}if("quarterly"===e){const e=[2,5,8,11];let n=e.find(e=>e>=t.getMonth())??e[0],r=t.getFullYear();n<t.getMonth()&&r++;let a=new Date(r,n,1),i=0;for(;i<3;)5===a.getDay()&&i++,i<3&&a.setDate(a.getDate()+1);if(t>a){const t=(e.indexOf(n)+1)%4;for(n=e[t],0===t&&r++,a=new Date(r,n,1),i=0;i<3;)5===a.getDay()&&i++,i<3&&a.setDate(a.getDate()+1)}return Math.max(1,Math.ceil((a.getTime()-t.getTime())/864e5))}return function(){const e=new Date;let t=new Date(e.getFullYear(),e.getMonth(),1),n=0;for(;n<3;)5===t.getDay()&&n++,n<3&&t.setDate(t.getDate()+1);if(e>t)for(t=new Date(e.getFullYear(),e.getMonth()+1,1),n=0;n<3;)5===t.getDay()&&n++,n<3&&t.setDate(t.getDate()+1);const r=t.getTime()-e.getTime(),a=Math.ceil(r/864e5);return Math.max(1,a)}()}const pm=()=>[{symbol:"SPX",name:"S&P 500",spot:4750,strike:4750,iv:.14,expiry:dm("monthly"),rate:.0525,cycle:"monthly"},{symbol:"VIX",name:"CBOE VIX",spot:14.5,strike:15,iv:.85,expiry:dm("monthly"),rate:.0525,cycle:"monthly"},{symbol:"NDX",name:"NASDAQ 100",spot:16800,strike:16800,iv:.18,expiry:dm("monthly"),rate:.0525,cycle:"monthly"},{symbol:"DJI",name:"Dow Jones",spot:37500,strike:37500,iv:.12,expiry:dm("monthly"),rate:.0525,cycle:"monthly"},{symbol:"HSI",name:"Hang Seng",spot:16800,strike:16800,iv:.22,expiry:dm("monthly"),rate:.035,cycle:"monthly"},{symbol:"STI",name:"SGX Straits",spot:3180,strike:3180,iv:.15,expiry:dm("monthly"),rate:.038,cycle:"monthly"}];function fm(){const{t:e}=wf(),[t,n]=O.useState(()=>pm()),[r,a]=O.useState(0),[i,s]=O.useState({delta:0,gamma:0,theta:0,vega:0,rho:0,callPrice:0}),[o,l]=O.useState(!1);O.useEffect(()=>{_f()&&(()=>{const e=Of("SPY");if(e){n(t=>t.map(t=>"SPX"===t.symbol?{...t,spot:10*e.price,strike:50*Math.round(10*e.price/50)}:t));const t=3*Math.abs(e.change)+15;n(e=>e.map(e=>{if("VIX"===e.symbol)return{...e,spot:t,iv:.8+.02*(t-15)};const n=(t-15)/100;return{...e,iv:Math.max(.08,e.iv+.1*n)}})),l(!0)}const t=Of("QQQ");t&&n(e=>e.map(e=>"NDX"===e.symbol?{...e,spot:40*t.price,strike:100*Math.round(40*t.price/100)}:e));const r=Of("DIA");r&&n(e=>e.map(e=>"DJI"===e.symbol?{...e,spot:100*r.price,strike:500*Math.round(100*r.price/500)}:e)),n(e=>e.map(e=>({...e,expiry:dm(e.cycle)})))})()},[]),Gf("greeks-cache",()=>{if(!_f())return;const e=Of("SPY");e&&(n(t=>t.map(t=>"SPX"===t.symbol?{...t,spot:10*e.price,strike:50*Math.round(10*e.price/50)}:t)),l(!0))},1e4),Gf("greeks-movement",()=>{n(e=>e.map(e=>({...e,spot:e.spot*(1+.001*(Math.random()-.5)),iv:Math.max(.08,Math.min(1,e.iv+.005*(Math.random()-.5)))})))},5e3),O.useEffect(()=>{const e=t[r],n=e.expiry/365;s(((e,t,n,r,a)=>{a<=0&&(a=.001);const i=(Math.log(e/t)+(n+r*r/2)*a)/(r*Math.sqrt(a)),s=i-r*Math.sqrt(a),o=e=>Math.exp(-e*e/2)/Math.sqrt(2*Math.PI),l=e=>{const t=e<0?-1:1,n=Math.abs(e)/Math.sqrt(2),r=1/(1+.3275911*n);return.5*(1+t*(1-((((1.061405429*r-1.453152027)*r+1.421413741)*r-.284496736)*r+.254829592)*r*Math.exp(-n*n)))},c=l(i),u=l(s),h=e*c-t*Math.exp(-n*a)*u;return{delta:c,gamma:o(i)/(e*r*Math.sqrt(a)),theta:(-e*o(i)*r/(2*Math.sqrt(a))-n*t*Math.exp(-n*a)*u)/365,vega:e*o(i)*Math.sqrt(a)/100,rho:t*a*Math.exp(-n*a)*u/100,callPrice:h}})(e.spot,e.strike,e.rate,e.iv,n))},[t,r]);const c=t[r];return u.jsx("div",{className:"fixed top-16 sm:top-20 left-2 sm:left-4 z-30 pointer-events-auto hidden sm:block",children:u.jsxs("div",{className:"bg-black/80 border border-purple-500/40 rounded-lg p-2 sm:p-3 font-mono text-[10px] sm:text-[11px] md:text-[13px] w-64 sm:w-72 md:w-80 max-h-[50vh] sm:max-h-[70vh] overflow-y-auto",children:[u.jsxs("div",{className:"flex items-center justify-between mb-1.5 sm:mb-2 border-b border-purple-500/20 pb-1 sm:pb-1.5",children:[u.jsx("span",{className:"text-purple-400 font-bold text-[11px] sm:text-[12px] md:text-[14px]",children:e("BLACK-SCHOLES GREEKS")}),u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx("div",{className:"w-1.5 h-1.5 sm:w-2 sm:h-2 rounded-full "+(o?"bg-green-500":"bg-yellow-500"),style:{animation:o?"pulse 2s infinite":"none"}}),u.jsx("span",{className:"text-[8px] sm:text-[9px] md:text-[10px] text-foreground/50",children:e(o?"LIVE":"DEMO")})]})]}),u.jsx("div",{className:"flex flex-wrap gap-0.5 sm:gap-1 mb-1.5 sm:mb-2",children:t.map((e,t)=>u.jsx("button",{onClick:()=>a(t),className:"px-1 sm:px-1.5 md:px-2 py-0.5 rounded text-[8px] sm:text-[9px] md:text-[10px] transition-colors "+(r===t?"bg-purple-500/40 text-purple-300 border border-purple-500/50":"bg-foreground/5 text-foreground/50 hover:bg-foreground/10"),children:e.symbol},e.symbol))}),u.jsxs("div",{className:"grid grid-cols-4 gap-1 sm:gap-1.5 md:gap-2 mb-1.5 sm:mb-2 text-[9px] sm:text-[10px] md:text-[11px]",children:[u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-foreground/50",children:e("SPOT")}),u.jsx("div",{className:"text-cyan-400",children:c.spot.toLocaleString(void 0,{maximumFractionDigits:0})})]}),u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-foreground/50",children:e("STRIKE")}),u.jsx("div",{className:"text-foreground",children:c.strike.toLocaleString()})]}),u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-foreground/50",children:e("IV")}),u.jsxs("div",{className:"text-yellow-400",children:[(100*c.iv).toFixed(1),"%"]})]}),u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-foreground/50",children:e("DTE")}),u.jsxs("div",{className:"text-foreground/70",children:[c.expiry,"d"]})]})]}),u.jsxs("div",{className:"bg-green-500/10 border border-green-500/30 rounded px-1.5 sm:px-2 py-0.5 sm:py-1 mb-1.5 sm:mb-2 flex justify-between text-[9px] sm:text-[10px] md:text-[13px]",children:[u.jsx("span",{className:"text-green-400",children:e("CALL VALUE")}),u.jsxs("span",{className:"text-green-400 font-bold",children:["$",i.callPrice.toFixed(2)]})]}),u.jsxs("div",{className:"space-y-0.5 sm:space-y-1 md:space-y-1.5",children:[u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("span",{className:"text-foreground/60 text-[9px] sm:text-[10px] md:text-[13px]",children:e(" Delta")}),u.jsxs("div",{className:"flex items-center gap-1 sm:gap-1.5 md:gap-2",children:[u.jsx("div",{className:"w-10 sm:w-12 md:w-16 h-1 sm:h-1.5 bg-foreground/10 rounded overflow-hidden",children:u.jsx("div",{className:"h-full bg-green-400 transition-all duration-300",style:{width:100*Math.abs(i.delta)+"%"}})}),u.jsx("span",{className:"text-green-400 w-10 sm:w-12 md:w-14 text-right text-[9px] sm:text-[10px] md:text-[13px]",children:i.delta.toFixed(4)})]})]}),u.jsxs("div",{className:"flex justify-between items-center text-[9px] sm:text-[10px] md:text-[13px]",children:[u.jsx("span",{className:"text-foreground/60",children:e(" Gamma")}),u.jsx("span",{className:"text-cyan-400",children:i.gamma.toFixed(6)})]}),u.jsxs("div",{className:"flex justify-between items-center text-[9px] sm:text-[10px] md:text-[13px]",children:[u.jsx("span",{className:"text-foreground/60",children:e(" Theta")}),u.jsx("span",{className:"text-red-400",children:i.theta.toFixed(4)})]}),u.jsxs("div",{className:"flex justify-between items-center text-[9px] sm:text-[10px] md:text-[13px]",children:[u.jsx("span",{className:"text-foreground/60",children:e(" Vega")}),u.jsx("span",{className:"text-purple-400",children:i.vega.toFixed(4)})]}),u.jsxs("div",{className:"flex justify-between items-center text-[9px] sm:text-[10px] md:text-[13px]",children:[u.jsx("span",{className:"text-foreground/60",children:e(" Rho")}),u.jsx("span",{className:"text-yellow-400",children:i.rho.toFixed(4)})]})]}),u.jsx("div",{className:"mt-1.5 sm:mt-2 pt-1 sm:pt-1.5 border-t border-purple-500/20 text-center hidden sm:block",children:u.jsx("span",{className:"text-purple-400/60 text-[10px] sm:text-[11px]",children:e("Black-Scholes Option Pricing Model")})})]})})}function mm(){const{t:e,isRTL:t}=wf(),n=e=>{const t=document.getElementById(e);t&&t.scrollIntoView({behavior:"smooth",block:"start"})};return u.jsxs("section",{className:"relative min-h-screen flex items-center justify-center overflow-hidden",children:[u.jsxs("div",{className:"absolute inset-0",children:[u.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-background via-background to-background"}),u.jsx("div",{className:"absolute top-0 left-1/4 w-[600px] h-[600px] rounded-full animate-float-slow",style:{background:"radial-gradient(circle, oklch(0.75 0.18 190 / 0.15) 0%, transparent 70%)",filter:"blur(60px)",willChange:"transform"}}),u.jsx("div",{className:"absolute bottom-0 right-1/4 w-[500px] h-[500px] rounded-full animate-float-medium",style:{background:"radial-gradient(circle, oklch(0.65 0.22 300 / 0.12) 0%, transparent 70%)",filter:"blur(60px)",willChange:"transform"}}),u.jsx("div",{className:"absolute top-1/2 right-0 w-[400px] h-[400px] rounded-full animate-float-fast",style:{background:"radial-gradient(circle, oklch(0.72 0.19 145 / 0.1) 0%, transparent 70%)",filter:"blur(50px)",willChange:"transform"}}),u.jsx("style",{children:"\n          @keyframes floatSlow {\n            0%, 100% { transform: translate(0, 0) scale(1); }\n            50% { transform: translate(50px, 30px) scale(1.1); }\n          }\n          @keyframes floatMedium {\n            0%, 100% { transform: translate(0, 0) scale(1); }\n            50% { transform: translate(-40px, -50px) scale(1.15); }\n          }\n          @keyframes floatFast {\n            0%, 100% { transform: translate(0, 0) scale(1); }\n            50% { transform: translate(-30px, 40px) scale(1.2); }\n          }\n          .animate-float-slow { animation: floatSlow 8s ease-in-out infinite; }\n          .animate-float-medium { animation: floatMedium 10s ease-in-out infinite; }\n          .animate-float-fast { animation: floatFast 12s ease-in-out infinite; }\n        "})]}),u.jsx("div",{className:"absolute inset-0 math-grid-bg opacity-30"}),u.jsx("div",{className:"absolute inset-0 overflow-hidden pointer-events-none opacity-20",children:u.jsxs("svg",{className:"absolute bottom-0 left-0 w-full h-1/3",preserveAspectRatio:"none",viewBox:"0 0 1200 300",children:[u.jsx(nf.path,{d:"M0,200 Q100,180 200,190 T400,150 T600,180 T800,120 T1000,160 T1200,100",fill:"none",stroke:"url(#gradient-line)",strokeWidth:"2",initial:{pathLength:0,opacity:0},animate:{pathLength:1,opacity:1},transition:{duration:3,ease:"easeOut"}}),u.jsx("defs",{children:u.jsxs("linearGradient",{id:"gradient-line",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[u.jsx("stop",{offset:"0%",stopColor:"oklch(0.72 0.19 145)"}),u.jsx("stop",{offset:"50%",stopColor:"oklch(0.75 0.18 190)"}),u.jsx("stop",{offset:"100%",stopColor:"oklch(0.78 0.15 85)"})]})})]})}),u.jsx("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[...Array(30)].map((e,t)=>u.jsx(nf.div,{className:"absolute rounded-full "+(t%3==0?"w-1.5 h-1.5 bg-accent/40":t%3==1?"w-1 h-1 bg-gold/30":"w-0.5 h-0.5 bg-green/25"),initial:{x:Math.random()*("undefined"!=typeof window?window.innerWidth:1e3),y:Math.random()*("undefined"!=typeof window?window.innerHeight:800)+400,opacity:0},animate:{y:[null,-600*Math.random()],opacity:[0,.8,0]},transition:{duration:10*Math.random()+10,repeat:1/0,delay:5*Math.random()}},t))}),u.jsxs(nf.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8},className:"relative z-10 max-w-5xl mx-auto px-6 py-24 text-center pt-32",children:[u.jsx(nf.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.2,duration:.6},className:"mb-8",children:u.jsxs("span",{className:"inline-flex items-center gap-2 px-4 py-2 rounded-full bg-accent/10 border border-accent/30 text-accent text-sm font-medium",children:[u.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),e("Open to Global Opportunities")]})}),u.jsxs(nf.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3,duration:.8},className:"text-5xl md:text-6xl lg:text-7xl font-bold mb-6 tracking-tight",style:{letterSpacing:"-0.02em"},children:[u.jsx(nf.span,{animate:{textShadow:["0 0 20px oklch(0.75 0.18 190 / 0.3)","0 0 40px oklch(0.75 0.18 190 / 0.5)","0 0 20px oklch(0.75 0.18 190 / 0.3)"]},transition:{duration:3,repeat:1/0,ease:"easeInOut"},children:"Shadaab Ahmed"}),u.jsx(nf.span,{className:"block mt-2 text-3xl md:text-4xl lg:text-5xl font-semibold",style:{background:"linear-gradient(135deg, oklch(0.75 0.18 190) 0%, oklch(0.72 0.19 145) 50%, oklch(0.78 0.15 85) 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text"},animate:{filter:["drop-shadow(0 0 10px oklch(0.75 0.18 190 / 0.4))","drop-shadow(0 0 25px oklch(0.75 0.18 190 / 0.6))","drop-shadow(0 0 10px oklch(0.75 0.18 190 / 0.4))"]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},children:e("Quantitative Developer")})]}),u.jsx(nf.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5,duration:.6},className:"text-lg md:text-xl text-muted-foreground max-w-3xl mx-auto mb-8 leading-relaxed",children:e("Multidisciplinary technologist with 4.5 years building production systems across software engineering, data engineering, machine learning, and quantitative finance. Expert in microservices, distributed systems, high-throughput data pipelines (200TB+ daily), deep learning with TensorFlow/NLP, and ultra-low-latency trading systems.")}),u.jsx(nf.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.6,duration:.6},className:"flex flex-wrap gap-2 justify-center mb-10",children:["C++","Python","Go","TensorFlow","Spark","Kafka","AWS"].map((e,t)=>u.jsx("span",{className:"px-3 py-1 text-xs font-mono bg-muted/50 rounded-md border border-border/50 text-foreground/80",children:e},e))}),u.jsxs(nf.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.7,duration:.6},className:"flex flex-wrap gap-4 justify-center mb-12",children:[u.jsx(nf.div,{whileHover:{scale:1.05},whileTap:{scale:.98},children:u.jsxs(nr,{size:"lg",className:"relative bg-accent text-accent-foreground hover:bg-accent/90 overflow-hidden group",onClick:()=>n("contact"),children:[u.jsx(nf.span,{className:"absolute inset-0 bg-gradient-to-r from-cyan-400/20 via-transparent to-green-400/20",animate:{x:["-100%","100%"]},transition:{duration:2,repeat:1/0,ease:"linear"}}),u.jsxs("span",{className:"relative z-10 flex items-center",children:[u.jsx(Ba,{className:"mr-2",weight:"bold"}),e("Get In Touch")]})]})}),u.jsx(nf.div,{whileHover:{scale:1.05},whileTap:{scale:.98},children:u.jsx(nr,{size:"lg",variant:"outline",className:"border-accent/50 text-accent hover:bg-accent/10 hover:border-accent hover:shadow-[0_0_20px_oklch(0.75_0.18_190_/_0.3)] transition-all duration-300",onClick:()=>n("projects"),children:e("View Projects")})}),u.jsx(nf.div,{whileHover:{scale:1.05},whileTap:{scale:.98},children:u.jsx(wt,{to:"/lab",children:u.jsxs(nr,{size:"lg",className:"relative overflow-hidden bg-gradient-to-r from-cyan-600 via-purple-600 to-pink-600 text-white border-0 shadow-[0_0_20px_rgba(139,92,246,0.3)] hover:shadow-[0_0_30px_rgba(139,92,246,0.5)] transition-all duration-300",children:[u.jsx(nf.span,{className:"absolute inset-0 bg-gradient-to-r from-cyan-400/30 via-purple-400/30 to-pink-400/30",animate:{x:["-100%","100%"]},transition:{duration:2,repeat:1/0,ease:"linear"}}),u.jsxs("span",{className:"relative z-10 flex items-center",children:[u.jsx(Na,{className:"mr-2",weight:"bold"}),e("Quant Sandbox")," "]})]})})}),u.jsx(nf.div,{whileHover:{scale:1.05},whileTap:{scale:.98},children:u.jsx(wt,{to:"/alpha-engine",children:u.jsxs(nr,{size:"lg",className:"relative overflow-hidden bg-gradient-to-r from-emerald-600 via-teal-600 to-cyan-600 text-white border-0 shadow-[0_0_20px_rgba(20,184,166,0.3)] hover:shadow-[0_0_30px_rgba(20,184,166,0.5)] transition-all duration-300",children:[u.jsx(nf.span,{className:"absolute inset-0 bg-gradient-to-r from-emerald-400/30 via-teal-400/30 to-cyan-400/30",animate:{x:["-100%","100%"]},transition:{duration:2.5,repeat:1/0,ease:"linear"}}),u.jsxs("span",{className:"relative z-10 flex items-center",children:[u.jsx(La,{className:"mr-2",weight:"bold"}),e("Alpha Engine")," "]})]})})})]}),u.jsxs(nf.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.9,duration:.6},className:"flex gap-6 justify-center",children:[u.jsxs(nf.a,{href:"https://www.linkedin.com/in/shadaabah",target:"_blank",rel:"noopener noreferrer",className:"relative p-4 rounded-full bg-muted/30 text-muted-foreground transition-all duration-300 group",whileHover:{scale:1.15},whileTap:{scale:.95},children:[u.jsx(nf.div,{className:"absolute inset-0 rounded-full bg-[#0077B5]/20 opacity-0 group-hover:opacity-100 transition-opacity duration-300",animate:{boxShadow:["0 0 20px oklch(0.6 0.15 230 / 0)","0 0 30px oklch(0.6 0.15 230 / 0.5)","0 0 20px oklch(0.6 0.15 230 / 0)"]},transition:{duration:2,repeat:1/0}}),u.jsx(fi,{size:28,weight:"fill",className:"relative z-10 group-hover:text-[#0077B5] transition-colors"})]}),u.jsxs(nf.a,{href:"https://github.com/buraq-hs51",target:"_blank",rel:"noopener noreferrer",className:"relative p-4 rounded-full bg-muted/30 text-muted-foreground transition-all duration-300 group",whileHover:{scale:1.15},whileTap:{scale:.95},children:[u.jsx(nf.div,{className:"absolute inset-0 rounded-full bg-accent/20 opacity-0 group-hover:opacity-100 transition-opacity duration-300",animate:{boxShadow:["0 0 20px oklch(0.75 0.18 190 / 0)","0 0 30px oklch(0.75 0.18 190 / 0.5)","0 0 20px oklch(0.75 0.18 190 / 0)"]},transition:{duration:2,repeat:1/0}}),u.jsx(Xa,{size:28,weight:"fill",className:"relative z-10 group-hover:text-accent transition-colors"})]}),u.jsxs(nf.a,{href:"https://leetcode.com/u/ShAh-25/",target:"_blank",rel:"noopener noreferrer",className:"relative p-4 rounded-full bg-muted/30 text-muted-foreground transition-all duration-300 group",title:"LeetCode",whileHover:{scale:1.15},whileTap:{scale:.95},children:[u.jsx(nf.div,{className:"absolute inset-0 rounded-full bg-[#FFA116]/20 opacity-0 group-hover:opacity-100 transition-opacity duration-300",animate:{boxShadow:["0 0 20px oklch(0.78 0.15 85 / 0)","0 0 30px oklch(0.78 0.15 85 / 0.5)","0 0 20px oklch(0.78 0.15 85 / 0)"]},transition:{duration:2,repeat:1/0}}),u.jsx(Ta,{size:28,weight:"bold",className:"relative z-10 group-hover:text-[#FFA116] transition-colors"})]})]})]}),u.jsx(Jf,{}),u.jsx(nf.div,{className:"absolute bottom-8 left-1/2 -translate-x-1/2",initial:{opacity:0},animate:{opacity:1},transition:{delay:1.2,duration:.6},children:u.jsx(nf.div,{className:"w-6 h-10 border-2 border-accent/50 rounded-full flex items-start justify-center p-2",animate:{y:[0,5,0]},transition:{duration:1.5,repeat:1/0},children:u.jsx(nf.div,{className:"w-1.5 h-1.5 bg-accent rounded-full",animate:{y:[0,8,0],opacity:[1,.5,1]},transition:{duration:1.5,repeat:1/0}})})})]})}function gm({className:e,...t}){return u.jsx("div",{"data-slot":"card",className:er("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",e),...t})}const ym=Dt("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function xm({className:e,variant:t,asChild:n=!1,...r}){const a=n?It:"span";return u.jsx(a,{"data-slot":"badge",className:er(ym({variant:t}),e),...r})}function bm(){const{t:e,isRTL:t}=wf();return u.jsx("section",{id:"about",className:"py-24 px-6 bg-secondary/30",children:u.jsxs("div",{className:"max-w-6xl mx-auto",children:[u.jsx(nf.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},className:"mb-12",children:u.jsxs("div",{className:"flex items-center gap-3 mb-4 "+(t?"flex-row-reverse":""),children:[u.jsx(Ki,{size:32,className:"text-accent",weight:"duotone"}),u.jsx("h2",{className:"text-4xl md:text-5xl font-semibold tracking-tight",children:e("About Me")})]})}),u.jsxs("div",{className:"grid lg:grid-cols-3 gap-6",children:[u.jsx(nf.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:.1,duration:.6},className:"lg:col-span-2",children:u.jsxs(gm,{className:"h-full p-8 border-border/50 bg-card/50 backdrop-blur hover:border-accent/30 transition-all duration-300",children:[u.jsx("h3",{className:"text-2xl font-semibold mb-6 text-accent",children:e("Professional Summary")}),u.jsxs("div",{className:"space-y-4 text-card-foreground/90 leading-relaxed",children:[u.jsx("p",{children:e("I'm a multidisciplinary technologist with 4.5 years of experience spanning software engineering, data engineering, machine learning, and quantitative finance. My expertise bridges distributed systems architecture, high-throughput data pipelines, deep learning models, and quantitative trading systemsbuilding production infrastructure that powers data-driven financial decisions.")}),u.jsxs("p",{children:[u.jsx("strong",{className:"text-foreground",children:e("Software Engineering:")})," ",e("Built microservices using MCP frameworks, architected distributed systems with event-driven architectures, and developed C++ market data feeds processing 50K+ ticks/second with sub-5ms latency. Designed Go-based order management systems with real-time Black-Scholes Greeks computation, leveraging concurrent programming patterns and lock-free data structures.")]}),u.jsxs("p",{children:[u.jsx("strong",{className:"text-foreground",children:e("Data Engineering & Big Data:")})," ",e("Engineered high-throughput data pipelines processing 200TB+ daily using Spark and AWS EMR, optimized distributed ETL workflows supporting 100M+ transactions, and built real-time streaming architectures with Kafka. Reduced infrastructure costs by 25% while improving system reliability and data processing efficiency.")]}),u.jsxs("p",{children:[u.jsx("strong",{className:"text-foreground",children:e("Machine Learning:")})," ",e("Developed deep learning models using TensorFlow for time series prediction and classification tasks, implemented NLP pipelines for text analysis and sentiment modeling, and applied machine learning techniques to financial marketsbuilding predictive models for trading signals, regime detection, and risk assessment.")]}),u.jsx("p",{children:e("Currently pursuing MS Financial Engineering at WorldQuant University, I'm integrating my software engineering, data engineering, and ML expertise with rigorous quantitative finance theoryderivatives pricing, stochastic modeling, and portfolio optimization. This unique combination positions me to build the next generation of quantitative trading infrastructure that leverages modern ML/data engineering practices.")}),u.jsx("p",{className:"pt-2",children:e("I'm seeking quantitative developer roles where I can apply my comprehensive skill set in algorithmic trading systems, quantitative research platforms, or ML-driven trading infrastructure. Open to relocation globally for the right opportunity.")})]})]})}),u.jsxs(nf.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:.2,duration:.6},className:"space-y-6",children:[u.jsxs(gm,{className:"p-6 border-border/50 bg-card/50 backdrop-blur hover:border-accent/30 transition-all duration-300",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-4 "+(t?"flex-row-reverse":""),children:[u.jsx(Ui,{size:24,className:"text-accent",weight:"duotone"}),u.jsx("h3",{className:"text-lg font-semibold",children:e("Core Strengths")})]}),u.jsx("ul",{className:"space-y-3",children:["Distributed Systems & Microservices","Low-Latency Systems (C++/Go)","Big Data Pipelines (Spark, Kafka)","Machine Learning & Deep Learning","NLP & TensorFlow","Quantitative Trading Systems","Derivatives Pricing","Real-Time Analytics"].map((n,r)=>u.jsxs("li",{className:"flex items-center gap-2 text-card-foreground/80 "+(t?"flex-row-reverse":""),children:[u.jsx("span",{className:"text-accent",children:""}),u.jsx("span",{children:e(n)})]},r))})]}),u.jsxs(gm,{className:"p-6 border-border/50 bg-card/50 backdrop-blur hover:border-accent/30 transition-all duration-300",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-4 "+(t?"flex-row-reverse":""),children:[u.jsx(ji,{size:24,className:"text-accent",weight:"duotone"}),u.jsx("h3",{className:"text-lg font-semibold",children:e("Target Roles")})]}),u.jsx("div",{className:"flex flex-wrap gap-2",children:["Quantitative Developer","Trading Systems Engineer","Derivatives Pricing Developer","Quantitative Analyst","Market Data Engineer"].map((t,n)=>u.jsx(xm,{className:"bg-accent/10 text-accent border border-accent/30 hover:bg-accent/20 transition-colors",children:e(t)},n))})]})]})]})]})})}const vm=[];function wm(){const{t:e,isRTL:t}=wf();return u.jsx("section",{id:"experience",className:"py-24 px-6",dir:t?"rtl":"ltr",children:u.jsxs("div",{className:"max-w-6xl mx-auto",children:[u.jsxs(nf.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},className:"mb-12",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[u.jsx(fa,{size:32,className:"text-accent",weight:"duotone"}),u.jsx("h2",{className:"text-4xl md:text-5xl font-semibold tracking-tight",children:e("Experience")})]}),u.jsx("p",{className:"text-lg text-muted-foreground max-w-3xl mb-8",children:e("4.5 years building production systems across software engineering, data engineering, machine learning, and quantitative financedelivering measurable impact through distributed microservices, high-throughput data pipelines, deep learning models, and ultra-low-latency trading systems")})]}),u.jsx(nf.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:.1,duration:.6},className:"mb-12",children:u.jsxs(gm,{className:"p-8 border-accent/30 bg-gradient-to-br from-accent/5 to-card/50 backdrop-blur",children:[u.jsx("h3",{className:"text-2xl font-semibold mb-6 text-accent",children:e("Career Impact Summary")}),u.jsx("p",{className:"text-card-foreground/90 leading-relaxed mb-6",children:e("Throughout my 4.5-year career spanning software engineering, data engineering, machine learning, and quantitative finance, I've built production systems that bridge modern distributed architectures, scalable data infrastructure, ML-driven intelligence, and computational finance:")}),u.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6",children:[u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(Ta,{size:28,className:"text-accent",weight:"duotone"}),u.jsx("h4",{className:"font-semibold text-base",children:e("Software Engineering")})]}),u.jsx("p",{className:"text-card-foreground/80 text-sm leading-relaxed",children:e("Architected microservices with MCP frameworks, built distributed systems with event-driven architectures, and engineered C++ market data feeds (sub-5ms latency) processing 50K+ ticks/second with concurrent programming and lock-free queues.")})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(Fa,{size:28,className:"text-accent",weight:"duotone"}),u.jsx("h4",{className:"font-semibold text-base",children:e("Data Engineering")})]}),u.jsx("p",{className:"text-card-foreground/80 text-sm leading-relaxed",children:e("Built high-throughput pipelines processing 200TB+ daily using Spark and AWS EMR, architected real-time streaming with Kafka, optimized ETL workflows supporting 100M+ transactions, and reduced infrastructure costs by 25%.")})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(da,{size:28,className:"text-accent",weight:"duotone"}),u.jsx("h4",{className:"font-semibold text-base",children:e("Machine Learning")})]}),u.jsx("p",{className:"text-card-foreground/80 text-sm leading-relaxed",children:e("Developed deep learning models with TensorFlow for time series prediction, implemented NLP pipelines for text analysis, and applied ML to financebuilding predictive models for trading signals and regime detection.")})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(Aa,{size:28,className:"text-accent",weight:"duotone"}),u.jsx("h4",{className:"font-semibold text-base",children:e("Quantitative Finance")})]}),u.jsx("p",{className:"text-card-foreground/80 text-sm leading-relaxed",children:e("Built order management systems with real-time Greeks computation, developed statistical arbitrage engines with cointegration testing, and created backtesting frameworks processing concurrent strategy evaluations.")})]})]}),u.jsx("div",{className:"mt-6 pt-6 border-t border-border/30",children:u.jsxs("p",{className:"text-card-foreground/80 text-sm leading-relaxed",children:[u.jsx("strong",{className:"text-foreground",children:e("Key Achievement:")})," ",e("Reduced critical infrastructure recovery time by 87% (from 2+ hours to under 15 minutes) through automated Terraform-based cluster provisioningminimizing downtime impact on data pipelines and trading operations. My work consistently focuses on building production-ready, fault-tolerant systems that integrate software engineering best practices, scalable data architectures, ML capabilities, and quantitative rigor.")]})})]})}),u.jsx("div",{className:"space-y-8",children:vm.map((e,t)=>u.jsx(nf.div,{initial:{opacity:0,x:-20},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{delay:.2*t,duration:.6},children:u.jsxs(gm,{className:"p-8 border-border/50 bg-card/50 backdrop-blur hover:border-accent/30 transition-all duration-300",children:[u.jsxs("div",{className:"flex flex-col md:flex-row md:items-start md:justify-between mb-6",children:[u.jsx("div",{className:"flex-1",children:u.jsx("h3",{className:"text-2xl font-semibold mb-2 text-accent",children:e.title})}),u.jsx("div",{className:"mt-4 md:mt-0",children:u.jsx("span",{className:"text-sm font-medium uppercase tracking-wide text-muted-foreground",children:e.period})})]}),u.jsx("ul",{className:"space-y-3 mb-6",children:e.achievements.map((e,t)=>u.jsxs("li",{className:"flex gap-3 text-card-foreground/90 leading-relaxed",children:[u.jsx("span",{className:"text-accent mt-1.5 shrink-0",children:""}),u.jsx("span",{children:e})]},t))}),u.jsx("div",{className:"flex flex-wrap gap-2",children:e.technologies.map((e,t)=>u.jsx(xm,{variant:"secondary",className:"bg-muted/50 text-foreground/80 border border-border/30 hover:border-accent/50 transition-colors",children:e},t))})]})},t))})]})})}var km,Sm,Nm,Em,Am,Cm,jm,Mm,Tm,Im,Om,Pm,Rm,_m,Lm,$m,Fm,Dm,zm,Vm,Bm,Hm,Um,Wm,Zm,Gm,Km,qm,Xm,Ym,Qm,Jm,eg,tg,ng,rg,ag,ig,sg,og,lg,cg,ug,hg,dg,pg,fg,mg,gg,yg,xg,bg,vg,wg,kg,Sg,Ng,Eg,Ag,Cg,jg,Mg,Tg,Ig,Og,Pg,Rg,_g,Lg,$g,Fg,Dg,zg,Vg,Bg,Hg,Ug,Wg,Zg,Gg,Kg,qg,Xg,Yg,Qg,Jg,ey,ty,ny,ry,ay,iy,sy,oy,ly,cy,uy,hy,dy,py,fy,my,gy,yy;function xy(){if(Sm)return km;Sm=1;var e=Array.isArray;return km=e}function by(){if(Em)return Nm;Em=1;var e="object"==typeof t&&t&&t.Object===Object&&t;return Nm=e}function vy(){if(Cm)return Am;Cm=1;var e=by(),t="object"==typeof self&&self&&self.Object===Object&&self,n=e||t||Function("return this")();return Am=n}function wy(){if(Mm)return jm;Mm=1;var e=vy().Symbol;return jm=e}function ky(){if(_m)return Rm;_m=1;var e=wy(),t=function(){if(Im)return Tm;Im=1;var e=wy(),t=Object.prototype,n=t.hasOwnProperty,r=t.toString,a=e?e.toStringTag:void 0;return Tm=function(e){var t=n.call(e,a),i=e[a];try{e[a]=void 0;var s=!0}catch(ATe){}var o=r.call(e);return s&&(t?e[a]=i:delete e[a]),o}}(),n=function(){if(Pm)return Om;Pm=1;var e=Object.prototype.toString;return Om=function(t){return e.call(t)}}(),r=e?e.toStringTag:void 0;return Rm=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":r&&r in Object(e)?t(e):n(e)}}function Sy(){if($m)return Lm;return $m=1,Lm=function(e){return null!=e&&"object"==typeof e}}function Ny(){if(Dm)return Fm;Dm=1;var e=ky(),t=Sy();return Fm=function(n){return"symbol"==typeof n||t(n)&&"[object Symbol]"==e(n)}}function Ey(){if(Vm)return zm;Vm=1;var e=xy(),t=Ny(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;return zm=function(a,i){if(e(a))return!1;var s=typeof a;return!("number"!=s&&"symbol"!=s&&"boolean"!=s&&null!=a&&!t(a))||(r.test(a)||!n.test(a)||null!=i&&a in Object(i))}}function Ay(){if(Hm)return Bm;return Hm=1,Bm=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}}function Cy(){if(Wm)return Um;Wm=1;var e=ky(),t=Ay();return Um=function(n){if(!t(n))return!1;var r=e(n);return"[object Function]"==r||"[object GeneratorFunction]"==r||"[object AsyncFunction]"==r||"[object Proxy]"==r}}function jy(){if(qm)return Km;qm=1;var e,t=function(){if(Gm)return Zm;Gm=1;var e=vy()["__core-js_shared__"];return Zm=e}(),n=(e=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||""))?"Symbol(src)_1."+e:"";return Km=function(e){return!!n&&n in e}}function My(){if(Ym)return Xm;Ym=1;var e=Function.prototype.toString;return Xm=function(t){if(null!=t){try{return e.call(t)}catch(ATe){}try{return t+""}catch(ATe){}}return""}}function Ty(){if(rg)return ng;rg=1;var e=function(){if(Jm)return Qm;Jm=1;var e=Cy(),t=jy(),n=Ay(),r=My(),a=/^\[object .+?Constructor\]$/,i=Function.prototype,s=Object.prototype,o=i.toString,l=s.hasOwnProperty,c=RegExp("^"+o.call(l).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");return Qm=function(i){return!(!n(i)||t(i))&&(e(i)?c:a).test(r(i))}}(),t=tg?eg:(tg=1,eg=function(e,t){return null==e?void 0:e[t]});return ng=function(n,r){var a=t(n,r);return e(a)?a:void 0}}function Iy(){if(ig)return ag;ig=1;var e=Ty()(Object,"create");return ag=e}function Oy(){if(yg)return gg;yg=1;var e=function(){if(og)return sg;og=1;var e=Iy();return sg=function(){this.__data__=e?e(null):{},this.size=0}}(),t=cg?lg:(cg=1,lg=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}),n=function(){if(hg)return ug;hg=1;var e=Iy(),t=Object.prototype.hasOwnProperty;return ug=function(n){var r=this.__data__;if(e){var a=r[n];return"__lodash_hash_undefined__"===a?void 0:a}return t.call(r,n)?r[n]:void 0}}(),r=function(){if(pg)return dg;pg=1;var e=Iy(),t=Object.prototype.hasOwnProperty;return dg=function(n){var r=this.__data__;return e?void 0!==r[n]:t.call(r,n)}}(),a=function(){if(mg)return fg;mg=1;var e=Iy();return fg=function(t,n){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=e&&void 0===n?"__lodash_hash_undefined__":n,this}}();function i(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}return i.prototype.clear=e,i.prototype.delete=t,i.prototype.get=n,i.prototype.has=r,i.prototype.set=a,gg=i}function Py(){if(wg)return vg;return wg=1,vg=function(e,t){return e===t||e!=e&&t!=t}}function Ry(){if(Sg)return kg;Sg=1;var e=Py();return kg=function(t,n){for(var r=t.length;r--;)if(e(t[r][0],n))return r;return-1}}function _y(){if(Pg)return Og;Pg=1;var e=bg?xg:(bg=1,xg=function(){this.__data__=[],this.size=0}),t=function(){if(Eg)return Ng;Eg=1;var e=Ry(),t=Array.prototype.splice;return Ng=function(n){var r=this.__data__,a=e(r,n);return!(a<0||(a==r.length-1?r.pop():t.call(r,a,1),--this.size,0))}}(),n=function(){if(Cg)return Ag;Cg=1;var e=Ry();return Ag=function(t){var n=this.__data__,r=e(n,t);return r<0?void 0:n[r][1]}}(),r=function(){if(Mg)return jg;Mg=1;var e=Ry();return jg=function(t){return e(this.__data__,t)>-1}}(),a=function(){if(Ig)return Tg;Ig=1;var e=Ry();return Tg=function(t,n){var r=this.__data__,a=e(r,t);return a<0?(++this.size,r.push([t,n])):r[a][1]=n,this}}();function i(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}return i.prototype.clear=e,i.prototype.delete=t,i.prototype.get=n,i.prototype.has=r,i.prototype.set=a,Og=i}function Ly(){if(_g)return Rg;_g=1;var e=Ty()(vy(),"Map");return Rg=e}function $y(){if(Vg)return zg;Vg=1;var e=Dg?Fg:(Dg=1,Fg=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e});return zg=function(t,n){var r=t.__data__;return e(n)?r["string"==typeof n?"string":"hash"]:r.map}}function Fy(){if(Yg)return Xg;Yg=1;var e=function(){if($g)return Lg;$g=1;var e=Oy(),t=_y(),n=Ly();return Lg=function(){this.size=0,this.__data__={hash:new e,map:new(n||t),string:new e}}}(),t=function(){if(Hg)return Bg;Hg=1;var e=$y();return Bg=function(t){var n=e(this,t).delete(t);return this.size-=n?1:0,n}}(),n=function(){if(Wg)return Ug;Wg=1;var e=$y();return Ug=function(t){return e(this,t).get(t)}}(),r=function(){if(Gg)return Zg;Gg=1;var e=$y();return Zg=function(t){return e(this,t).has(t)}}(),a=function(){if(qg)return Kg;qg=1;var e=$y();return Kg=function(t,n){var r=e(this,t),a=r.size;return r.set(t,n),this.size+=r.size==a?0:1,this}}();function i(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}return i.prototype.clear=e,i.prototype.delete=t,i.prototype.get=n,i.prototype.has=r,i.prototype.set=a,Xg=i}function Dy(){if(Jg)return Qg;Jg=1;var e=Fy();function t(n,r){if("function"!=typeof n||null!=r&&"function"!=typeof r)throw new TypeError("Expected a function");var a=function(){var e=arguments,t=r?r.apply(this,e):e[0],i=a.cache;if(i.has(t))return i.get(t);var s=n.apply(this,e);return a.cache=i.set(t,s)||i,s};return a.cache=new(t.Cache||e),a}return t.Cache=e,Qg=t}function zy(){if(ry)return ny;ry=1;var e=function(){if(ty)return ey;ty=1;var e=Dy();return ey=function(t){var n=e(t,function(e){return 500===r.size&&r.clear(),e}),r=n.cache;return n}}(),t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n=/\\(\\)?/g,r=e(function(e){var r=[];return 46===e.charCodeAt(0)&&r.push(""),e.replace(t,function(e,t,a,i){r.push(a?i.replace(n,"$1"):t||e)}),r});return ny=r}function Vy(){if(iy)return ay;return iy=1,ay=function(e,t){for(var n=-1,r=null==e?0:e.length,a=Array(r);++n<r;)a[n]=t(e[n],n,e);return a}}function By(){if(cy)return ly;cy=1;var e=function(){if(oy)return sy;oy=1;var e=wy(),t=Vy(),n=xy(),r=Ny(),a=e?e.prototype:void 0,i=a?a.toString:void 0;return sy=function e(a){if("string"==typeof a)return a;if(n(a))return t(a,e)+"";if(r(a))return i?i.call(a):"";var s=a+"";return"0"==s&&1/a==-1/0?"-0":s},sy}();return ly=function(t){return null==t?"":e(t)}}function Hy(){if(hy)return uy;hy=1;var e=xy(),t=Ey(),n=zy(),r=By();return uy=function(a,i){return e(a)?a:t(a,i)?[a]:n(r(a))}}function Uy(){if(py)return dy;py=1;var e=Ny();return dy=function(t){if("string"==typeof t||e(t))return t;var n=t+"";return"0"==n&&1/t==-1/0?"-0":n}}function Wy(){if(my)return fy;my=1;var e=Hy(),t=Uy();return fy=function(n,r){for(var a=0,i=(r=e(r,n)).length;null!=n&&a<i;)n=n[t(r[a++])];return a&&a==i?n:void 0}}function Zy(){if(yy)return gy;yy=1;var e=Wy();return gy=function(t,n,r){var a=null==t?void 0:e(t,n);return void 0===a?r:a}}const Gy=n(Zy());var Ky,qy;const Xy=n(qy?Ky:(qy=1,Ky=function(e){return null==e}));var Yy,Qy;const Jy=n(function(){if(Qy)return Yy;Qy=1;var e=ky(),t=xy(),n=Sy();return Yy=function(r){return"string"==typeof r||!t(r)&&n(r)&&"[object String]"==e(r)}}());const ex=n(Cy());const tx=n(Ay());var nx,rx,ax={exports:{}},ix={};var sx,ox,lx,cx,ux=(rx||(rx=1,ax.exports=function(){if(nx)return ix;nx=1;var e,t=Symbol.for("react.element"),n=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),o=Symbol.for("react.context"),l=Symbol.for("react.server_context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),d=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),f=Symbol.for("react.offscreen");function m(e){if("object"==typeof e&&null!==e){var f=e.$$typeof;switch(f){case t:switch(e=e.type){case r:case i:case a:case u:case h:return e;default:switch(e=e&&e.$$typeof){case l:case o:case c:case p:case d:case s:return e;default:return f}}case n:return f}}}return e=Symbol.for("react.module.reference"),ix.ContextConsumer=o,ix.ContextProvider=s,ix.Element=t,ix.ForwardRef=c,ix.Fragment=r,ix.Lazy=p,ix.Memo=d,ix.Portal=n,ix.Profiler=i,ix.StrictMode=a,ix.Suspense=u,ix.SuspenseList=h,ix.isAsyncMode=function(){return!1},ix.isConcurrentMode=function(){return!1},ix.isContextConsumer=function(e){return m(e)===o},ix.isContextProvider=function(e){return m(e)===s},ix.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===t},ix.isForwardRef=function(e){return m(e)===c},ix.isFragment=function(e){return m(e)===r},ix.isLazy=function(e){return m(e)===p},ix.isMemo=function(e){return m(e)===d},ix.isPortal=function(e){return m(e)===n},ix.isProfiler=function(e){return m(e)===i},ix.isStrictMode=function(e){return m(e)===a},ix.isSuspense=function(e){return m(e)===u},ix.isSuspenseList=function(e){return m(e)===h},ix.isValidElementType=function(t){return"string"==typeof t||"function"==typeof t||t===r||t===i||t===a||t===u||t===h||t===f||"object"==typeof t&&null!==t&&(t.$$typeof===p||t.$$typeof===d||t.$$typeof===s||t.$$typeof===o||t.$$typeof===c||t.$$typeof===e||void 0!==t.getModuleId)},ix.typeOf=m,ix}()),ax.exports);function hx(){if(ox)return sx;ox=1;var e=ky(),t=Sy();return sx=function(n){return"number"==typeof n||t(n)&&"[object Number]"==e(n)}}const dx=n(function(){if(cx)return lx;cx=1;var e=hx();return lx=function(t){return e(t)&&t!=+t}}());const px=n(hx());var fx=function(e){return 0===e?0:e>0?1:-1},mx=function(e){return Jy(e)&&e.indexOf("%")===e.length-1},gx=function(e){return px(e)&&!dx(e)},yx=function(e){return gx(e)||Jy(e)},xx=0,bx=function(e){var t=++xx;return"".concat(e||"").concat(t)},vx=function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!gx(e)&&!Jy(e))return r;if(mx(e)){var i=e.indexOf("%");n=t*parseFloat(e.slice(0,i))/100}else n=+e;return dx(n)&&(n=r),a&&n>t&&(n=t),n},wx=function(e){if(!e)return null;var t=Object.keys(e);return t&&t.length?e[t[0]]:null},kx=function(e,t){return gx(e)&&gx(t)?function(n){return e+n*(t-e)}:function(){return t}};function Sx(e,t,n){return e&&e.length?e.find(function(e){return e&&("function"==typeof t?t(e):Gy(e,t))===n}):null}var Nx=function(e,t){return gx(e)&&gx(t)?e-t:Jy(e)&&Jy(t)?e.localeCompare(t):e instanceof Date&&t instanceof Date?e.getTime()-t.getTime():String(e).localeCompare(String(t))};function Ex(e,t){for(var n in e)if({}.hasOwnProperty.call(e,n)&&(!{}.hasOwnProperty.call(t,n)||e[n]!==t[n]))return!1;for(var r in t)if({}.hasOwnProperty.call(t,r)&&!{}.hasOwnProperty.call(e,r))return!1;return!0}function Ax(e){return(Ax="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var Cx=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],jx=["points","pathLength"],Mx={svg:["viewBox","children"],polygon:jx,polyline:jx},Tx=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Ix=function(e,t){if(!e||"function"==typeof e||"boolean"==typeof e)return null;var n=e;if(O.isValidElement(e)&&(n=e.props),!tx(n))return null;var r={};return Object.keys(n).forEach(function(e){Tx.includes(e)&&(r[e]=t||function(t){return n[e](n,t)})}),r},Ox=function(e,t,n){if(!tx(e)||"object"!==Ax(e))return null;var r=null;return Object.keys(e).forEach(function(a){var i=e[a];Tx.includes(a)&&"function"==typeof i&&(r||(r={}),r[a]=function(e,t,n){return function(r){return e(t,n,r),null}}(i,t,n))}),r},Px=["children"],Rx=["children"];function _x(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Lx(e){return(Lx="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var $x={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Fx=function(e){return"string"==typeof e?e:e?e.displayName||e.name||"Component":""},Dx=null,zx=null,Vx=function e(t){if(t===Dx&&Array.isArray(zx))return zx;var n=[];return O.Children.forEach(t,function(t){Xy(t)||(ux.isFragment(t)?n=n.concat(e(t.props.children)):n.push(t))}),zx=n,Dx=t,n};function Bx(e,t){var n=[],r=[];return r=Array.isArray(t)?t.map(function(e){return Fx(e)}):[Fx(t)],Vx(e).forEach(function(e){var t=Gy(e,"type.displayName")||Gy(e,"type.name");-1!==r.indexOf(t)&&n.push(e)}),n}function Hx(e,t){var n=Bx(e,t);return n&&n[0]}var Ux=function(e){if(!e||!e.props)return!1;var t=e.props,n=t.width,r=t.height;return!(!gx(n)||n<=0||!gx(r)||r<=0)},Wx=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],Zx=function(e){return e&&"object"===Lx(e)&&"clipDot"in e},Gx=function(e,t,n){if(!e||"function"==typeof e||"boolean"==typeof e)return null;var r=e;if(O.isValidElement(e)&&(r=e.props),!tx(r))return null;var a={};return Object.keys(r).forEach(function(e){var i;(function(e,t,n,r){var a,i=null!==(a=null==Mx?void 0:Mx[r])&&void 0!==a?a:[];return t.startsWith("data-")||!ex(e)&&(r&&i.includes(t)||Cx.includes(t))||n&&Tx.includes(t)})(null===(i=r)||void 0===i?void 0:i[e],e,t,n)&&(a[e]=r[e])}),a},Kx=function e(t,n){if(t===n)return!0;var r=O.Children.count(t);if(r!==O.Children.count(n))return!1;if(0===r)return!0;if(1===r)return qx(Array.isArray(t)?t[0]:t,Array.isArray(n)?n[0]:n);for(var a=0;a<r;a++){var i=t[a],s=n[a];if(Array.isArray(i)||Array.isArray(s)){if(!e(i,s))return!1}else if(!qx(i,s))return!1}return!0},qx=function(e,t){if(Xy(e)&&Xy(t))return!0;if(!Xy(e)&&!Xy(t)){var n=e.props||{},r=n.children,a=_x(n,Px),i=t.props||{},s=i.children,o=_x(i,Rx);return r&&s?Ex(a,o)&&Kx(r,s):!r&&!s&&Ex(a,o)}return!1},Xx=function(e,t){var n=[],r={};return Vx(e).forEach(function(e,a){if(function(e){return e&&e.type&&Jy(e.type)&&Wx.indexOf(e.type)>=0}(e))n.push(e);else if(e){var i=Fx(e.type),s=t[i]||{},o=s.handler,l=s.once;if(o&&(!l||!r[i])){var c=o(e,i,a);n.push(c),r[i]=!0}}}),n},Yx=["children","width","height","viewBox","className","style","title","desc"];function Qx(){return Qx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Qx.apply(this,arguments)}function Jx(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function eb(e){var t=e.children,n=e.width,r=e.height,a=e.viewBox,i=e.className,s=e.style,o=e.title,l=e.desc,c=Jx(e,Yx),u=a||{width:n,height:r,x:0,y:0},h=Lt("recharts-surface",i);return P.createElement("svg",Qx({},Gx(c,!0,"svg"),{className:h,width:n,height:r,style:s,viewBox:"".concat(u.x," ").concat(u.y," ").concat(u.width," ").concat(u.height)}),P.createElement("title",null,o),P.createElement("desc",null,l),t)}var tb=["children","className"];function nb(){return nb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},nb.apply(this,arguments)}function rb(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var ab,ib,sb,ob,lb,cb,ub,hb,db,pb,fb,mb,gb,yb,xb,bb,vb=P.forwardRef(function(e,t){var n=e.children,r=e.className,a=rb(e,tb),i=Lt("recharts-layer",r);return P.createElement("g",nb({className:i},Gx(a,!0),{ref:t}),n)}),wb=function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a]};function kb(){if(ob)return sb;ob=1;var e=ib?ab:(ib=1,ab=function(e,t,n){var r=-1,a=e.length;t<0&&(t=-t>a?0:a+t),(n=n>a?a:n)<0&&(n+=a),a=t>n?0:n-t>>>0,t>>>=0;for(var i=Array(a);++r<a;)i[r]=e[r+t];return i});return sb=function(t,n,r){var a=t.length;return r=void 0===r?a:r,!n&&r>=a?t:e(t,n,r)}}function Sb(){if(cb)return lb;cb=1;var e=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");return lb=function(t){return e.test(t)}}function Nb(){if(mb)return fb;mb=1;var e=hb?ub:(hb=1,ub=function(e){return e.split("")}),t=Sb(),n=function(){if(pb)return db;pb=1;var e="\\ud800-\\udfff",t="["+e+"]",n="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",r="\\ud83c[\\udffb-\\udfff]",a="[^"+e+"]",i="(?:\\ud83c[\\udde6-\\uddff]){2}",s="[\\ud800-\\udbff][\\udc00-\\udfff]",o="(?:"+n+"|"+r+")?",l="[\\ufe0e\\ufe0f]?",c=l+o+"(?:\\u200d(?:"+[a,i,s].join("|")+")"+l+o+")*",u="(?:"+[a+n+"?",n,i,s,t].join("|")+")",h=RegExp(r+"(?="+r+")|"+u+c,"g");return db=function(e){return e.match(h)||[]}}();return fb=function(r){return t(r)?n(r):e(r)}}const Eb=n(function(){if(bb)return xb;bb=1;var e=function(){if(yb)return gb;yb=1;var e=kb(),t=Sb(),n=Nb(),r=By();return gb=function(a){return function(i){i=r(i);var s=t(i)?n(i):void 0,o=s?s[0]:i.charAt(0),l=s?e(s,1).join(""):i.slice(1);return o[a]()+l}}}()("toUpperCase");return xb=e}());function Ab(e){return function(){return e}}const Cb=Math.cos,jb=Math.sin,Mb=Math.sqrt,Tb=Math.PI,Ib=2*Tb,Ob=Math.PI,Pb=2*Ob,Rb=1e-6,_b=Pb-Rb;function Lb(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}class $b{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==e?Lb:function(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return Lb;const n=10**t;return function(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=Math.round(arguments[t]*n)/n+e[t]}}(e)}moveTo(e,t){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,t){this._append`L${this._x1=+e},${this._y1=+t}`}quadraticCurveTo(e,t,n,r){this._append`Q${+e},${+t},${this._x1=+n},${this._y1=+r}`}bezierCurveTo(e,t,n,r,a,i){this._append`C${+e},${+t},${+n},${+r},${this._x1=+a},${this._y1=+i}`}arcTo(e,t,n,r,a){if(e=+e,t=+t,n=+n,r=+r,(a=+a)<0)throw new Error(`negative radius: ${a}`);let i=this._x1,s=this._y1,o=n-e,l=r-t,c=i-e,u=s-t,h=c*c+u*u;if(null===this._x1)this._append`M${this._x1=e},${this._y1=t}`;else if(h>Rb)if(Math.abs(u*o-l*c)>Rb&&a){let d=n-i,p=r-s,f=o*o+l*l,m=d*d+p*p,g=Math.sqrt(f),y=Math.sqrt(h),x=a*Math.tan((Ob-Math.acos((f+h-m)/(2*g*y)))/2),b=x/y,v=x/g;Math.abs(b-1)>Rb&&this._append`L${e+b*c},${t+b*u}`,this._append`A${a},${a},0,0,${+(u*d>c*p)},${this._x1=e+v*o},${this._y1=t+v*l}`}else this._append`L${this._x1=e},${this._y1=t}`;else;}arc(e,t,n,r,a,i){if(e=+e,t=+t,i=!!i,(n=+n)<0)throw new Error(`negative radius: ${n}`);let s=n*Math.cos(r),o=n*Math.sin(r),l=e+s,c=t+o,u=1^i,h=i?r-a:a-r;null===this._x1?this._append`M${l},${c}`:(Math.abs(this._x1-l)>Rb||Math.abs(this._y1-c)>Rb)&&this._append`L${l},${c}`,n&&(h<0&&(h=h%Pb+Pb),h>_b?this._append`A${n},${n},0,1,${u},${e-s},${t-o}A${n},${n},0,1,${u},${this._x1=l},${this._y1=c}`:h>Rb&&this._append`A${n},${n},0,${+(h>=Ob)},${u},${this._x1=e+n*Math.cos(a)},${this._y1=t+n*Math.sin(a)}`)}rect(e,t,n,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}h${n=+n}v${+r}h${-n}Z`}toString(){return this._}}function Fb(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(null==n)t=null;else{const e=Math.floor(n);if(!(e>=0))throw new RangeError(`invalid digits: ${n}`);t=e}return e},()=>new $b(t)}function Db(e){return"object"==typeof e&&"length"in e?e:Array.from(e)}function zb(e){this._context=e}function Vb(e){return new zb(e)}function Bb(e){return e[0]}function Hb(e){return e[1]}function Ub(e,t){var n=Ab(!0),r=null,a=Vb,i=null,s=Fb(o);function o(o){var l,c,u,h=(o=Db(o)).length,d=!1;for(null==r&&(i=a(u=s())),l=0;l<=h;++l)!(l<h&&n(c=o[l],l,o))===d&&((d=!d)?i.lineStart():i.lineEnd()),d&&i.point(+e(c,l,o),+t(c,l,o));if(u)return i=null,u+""||null}return e="function"==typeof e?e:void 0===e?Bb:Ab(e),t="function"==typeof t?t:void 0===t?Hb:Ab(t),o.x=function(t){return arguments.length?(e="function"==typeof t?t:Ab(+t),o):e},o.y=function(e){return arguments.length?(t="function"==typeof e?e:Ab(+e),o):t},o.defined=function(e){return arguments.length?(n="function"==typeof e?e:Ab(!!e),o):n},o.curve=function(e){return arguments.length?(a=e,null!=r&&(i=a(r)),o):a},o.context=function(e){return arguments.length?(null==e?r=i=null:i=a(r=e),o):r},o}function Wb(e,t,n){var r=null,a=Ab(!0),i=null,s=Vb,o=null,l=Fb(c);function c(c){var u,h,d,p,f,m=(c=Db(c)).length,g=!1,y=new Array(m),x=new Array(m);for(null==i&&(o=s(f=l())),u=0;u<=m;++u){if(!(u<m&&a(p=c[u],u,c))===g)if(g=!g)h=u,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),d=u-1;d>=h;--d)o.point(y[d],x[d]);o.lineEnd(),o.areaEnd()}g&&(y[u]=+e(p,u,c),x[u]=+t(p,u,c),o.point(r?+r(p,u,c):y[u],n?+n(p,u,c):x[u]))}if(f)return o=null,f+""||null}function u(){return Ub().defined(a).curve(s).context(i)}return e="function"==typeof e?e:void 0===e?Bb:Ab(+e),t="function"==typeof t?t:Ab(void 0===t?0:+t),n="function"==typeof n?n:void 0===n?Hb:Ab(+n),c.x=function(t){return arguments.length?(e="function"==typeof t?t:Ab(+t),r=null,c):e},c.x0=function(t){return arguments.length?(e="function"==typeof t?t:Ab(+t),c):e},c.x1=function(e){return arguments.length?(r=null==e?null:"function"==typeof e?e:Ab(+e),c):r},c.y=function(e){return arguments.length?(t="function"==typeof e?e:Ab(+e),n=null,c):t},c.y0=function(e){return arguments.length?(t="function"==typeof e?e:Ab(+e),c):t},c.y1=function(e){return arguments.length?(n=null==e?null:"function"==typeof e?e:Ab(+e),c):n},c.lineX0=c.lineY0=function(){return u().x(e).y(t)},c.lineY1=function(){return u().x(e).y(n)},c.lineX1=function(){return u().x(r).y(t)},c.defined=function(e){return arguments.length?(a="function"==typeof e?e:Ab(!!e),c):a},c.curve=function(e){return arguments.length?(s=e,null!=i&&(o=s(i)),c):s},c.context=function(e){return arguments.length?(null==e?i=o=null:o=s(i=e),c):i},c}zb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t)}}};class Zb{constructor(e,t){this._context=e,this._x=t}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line}point(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,t,e,t):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+t)/2,e,this._y0,e,t)}this._x0=e,this._y0=t}}const Gb={draw(e,t){const n=Mb(t/Tb);e.moveTo(n,0),e.arc(0,0,n,0,Ib)}},Kb={draw(e,t){const n=Mb(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},qb=Mb(1/3),Xb=2*qb,Yb={draw(e,t){const n=Mb(t/Xb),r=n*qb;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},Qb={draw(e,t){const n=Mb(t),r=-n/2;e.rect(r,r,n,n)}},Jb=jb(Tb/10)/jb(7*Tb/10),ev=jb(Ib/10)*Jb,tv=-Cb(Ib/10)*Jb,nv={draw(e,t){const n=Mb(.8908130915292852*t),r=ev*n,a=tv*n;e.moveTo(0,-n),e.lineTo(r,a);for(let i=1;i<5;++i){const t=Ib*i/5,s=Cb(t),o=jb(t);e.lineTo(o*n,-s*n),e.lineTo(s*r-o*a,o*r+s*a)}e.closePath()}},rv=Mb(3),av={draw(e,t){const n=-Mb(t/(3*rv));e.moveTo(0,2*n),e.lineTo(-rv*n,-n),e.lineTo(rv*n,-n),e.closePath()}},iv=-.5,sv=Mb(3)/2,ov=1/Mb(12),lv=3*(ov/2+1),cv={draw(e,t){const n=Mb(t/lv),r=n/2,a=n*ov,i=r,s=n*ov+n,o=-i,l=s;e.moveTo(r,a),e.lineTo(i,s),e.lineTo(o,l),e.lineTo(iv*r-sv*a,sv*r+iv*a),e.lineTo(iv*i-sv*s,sv*i+iv*s),e.lineTo(iv*o-sv*l,sv*o+iv*l),e.lineTo(iv*r+sv*a,iv*a-sv*r),e.lineTo(iv*i+sv*s,iv*s-sv*i),e.lineTo(iv*o+sv*l,iv*l-sv*o),e.closePath()}};function uv(){}function hv(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function dv(e){this._context=e}function pv(e){this._context=e}function fv(e){this._context=e}function mv(e){this._context=e}function gv(e){return e<0?-1:1}function yv(e,t,n){var r=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(r||a<0&&-0),s=(n-e._y1)/(a||r<0&&-0),o=(i*a+s*r)/(r+a);return(gv(i)+gv(s))*Math.min(Math.abs(i),Math.abs(s),.5*Math.abs(o))||0}function xv(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function bv(e,t,n){var r=e._x0,a=e._y0,i=e._x1,s=e._y1,o=(i-r)/3;e._context.bezierCurveTo(r+o,a+o*t,i-o,s-o*n,i,s)}function vv(e){this._context=e}function wv(e){this._context=new kv(e)}function kv(e){this._context=e}function Sv(e){this._context=e}function Nv(e){var t,n,r=e.length-1,a=new Array(r),i=new Array(r),s=new Array(r);for(a[0]=0,i[0]=2,s[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,i[t]=4,s[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,i[r-1]=7,s[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/i[t-1],i[t]-=n,s[t]-=n*s[t-1];for(a[r-1]=s[r-1]/i[r-1],t=r-2;t>=0;--t)a[t]=(s[t]-a[t+1])/i[t];for(i[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function Ev(e,t){this._context=e,this._t=t}function Av(e,t){if((a=e.length)>1)for(var n,r,a,i=1,s=e[t[0]],o=s.length;i<a;++i)for(r=s,s=e[t[i]],n=0;n<o;++n)s[n][1]+=s[n][0]=isNaN(r[n][1])?r[n][0]:r[n][1]}function Cv(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function jv(e,t){return e[t]}function Mv(e){const t=[];return t.key=e,t}function Tv(e){return(Tv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}dv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:hv(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:hv(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},pv.prototype={areaStart:uv,areaEnd:uv,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:hv(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},fv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:hv(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},mv.prototype={areaStart:uv,areaEnd:uv,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}},vv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:bv(this,this._t0,xv(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(t=+t,(e=+e)!==this._x1||t!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,bv(this,xv(this,n=yv(this,e,t)),n);break;default:bv(this,this._t0,n=yv(this,e,t))}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}},(wv.prototype=Object.create(vv.prototype)).point=function(e,t){vv.prototype.point.call(this,t,e)},kv.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,a,i){this._context.bezierCurveTo(t,e,r,n,i,a)}},Sv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),2===n)this._context.lineTo(e[1],t[1]);else for(var r=Nv(e),a=Nv(t),i=0,s=1;s<n;++i,++s)this._context.bezierCurveTo(r[0][i],a[0][i],r[1][i],a[1][i],e[s],t[s]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}},Ev.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}}this._x=e,this._y=t}};var Iv=["type","size","sizeType"];function Ov(){return Ov=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ov.apply(this,arguments)}function Pv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Rv(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pv(Object(n),!0).forEach(function(t){_v(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pv(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function _v(e,t,n){var r;return r=function(e,t){if("object"!=Tv(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=Tv(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==Tv(r)?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Lv(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var $v={symbolCircle:Gb,symbolCross:Kb,symbolDiamond:Yb,symbolSquare:Qb,symbolStar:nv,symbolTriangle:av,symbolWye:cv},Fv=Math.PI/180,Dv=function(e){var t,n,r=e.type,a=void 0===r?"circle":r,i=e.size,s=void 0===i?64:i,o=e.sizeType,l=void 0===o?"area":o,c=Rv(Rv({},Lv(e,Iv)),{},{type:a,size:s,sizeType:l}),u=c.className,h=c.cx,d=c.cy,p=Gx(c,!0);return h===+h&&d===+d&&s===+s?P.createElement("path",Ov({},p,{className:Lt("recharts-symbols",u),transform:"translate(".concat(h,", ").concat(d,")"),d:(t=function(e){var t="symbol".concat(Eb(e));return $v[t]||Gb}(a),n=function(e,t){let n=null,r=Fb(a);function a(){let a;if(n||(n=a=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),a)return n=null,a+""||null}return e="function"==typeof e?e:Ab(e||Gb),t="function"==typeof t?t:Ab(void 0===t?64:+t),a.type=function(t){return arguments.length?(e="function"==typeof t?t:Ab(t),a):e},a.size=function(e){return arguments.length?(t="function"==typeof e?e:Ab(+e),a):t},a.context=function(e){return arguments.length?(n=null==e?null:e,a):n},a}().type(t).size(function(e,t,n){if("area"===t)return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return.5*e*e/Math.sqrt(3);case"square":return e*e;case"star":var r=18*Fv;return 1.25*e*e*(Math.tan(r)-Math.tan(2*r)*Math.pow(Math.tan(r),2));case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}}(s,l,a)),n())})):null};function zv(e){return(zv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Vv(){return Vv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Vv.apply(this,arguments)}function Bv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Hv(e,t,n){return t&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,qv(r.key),r)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Uv(e,t,n){return t=Zv(t),function(e,t){if(t&&("object"===zv(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Wv()?Reflect.construct(t,n||[],Zv(e).constructor):t.apply(e,n))}function Wv(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(Wv=function(){return!!e})()}function Zv(e){return(Zv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Gv(e,t){return(Gv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Kv(e,t,n){return(t=qv(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qv(e){var t=function(e,t){if("object"!=zv(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=zv(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==zv(t)?t:t+""}Dv.registerSymbol=function(e,t){$v["symbol".concat(Eb(e))]=t};var Xv,Yv,Qv,Jv,ew,tw,nw,rw,aw,iw,sw,ow,lw,cw,uw,hw,dw,pw,fw,mw,gw,yw,xw,bw,vw,ww,kw,Sw,Nw,Ew,Aw,Cw,jw,Mw,Tw,Iw,Ow,Pw,Rw,_w,Lw,$w,Fw,Dw,zw,Vw,Bw,Hw,Uw=32,Ww=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Uv(this,e,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Gv(e,t)}(e,O.PureComponent),Hv(e,[{key:"renderIcon",value:function(e){var t=this.props.inactiveColor,n=16,r=Uw/6,a=Uw/3,i=e.inactive?t:e.color;if("plainline"===e.type)return P.createElement("line",{strokeWidth:4,fill:"none",stroke:i,strokeDasharray:e.payload.strokeDasharray,x1:0,y1:n,x2:Uw,y2:n,className:"recharts-legend-icon"});if("line"===e.type)return P.createElement("path",{strokeWidth:4,fill:"none",stroke:i,d:"M0,".concat(n,"h").concat(a,"\n            A").concat(r,",").concat(r,",0,1,1,").concat(2*a,",").concat(n,"\n            H").concat(Uw,"M").concat(2*a,",").concat(n,"\n            A").concat(r,",").concat(r,",0,1,1,").concat(a,",").concat(n),className:"recharts-legend-icon"});if("rect"===e.type)return P.createElement("path",{stroke:"none",fill:i,d:"M0,".concat(4,"h").concat(Uw,"v").concat(24,"h").concat(-32,"z"),className:"recharts-legend-icon"});if(P.isValidElement(e.legendIcon)){var s=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Bv(Object(n),!0).forEach(function(t){Kv(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Bv(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},e);return delete s.legendIcon,P.cloneElement(e.legendIcon,s)}return P.createElement(Dv,{fill:i,cx:n,cy:n,size:Uw,sizeType:"diameter",type:e.type})}},{key:"renderItems",value:function(){var e=this,t=this.props,n=t.payload,r=t.iconSize,a=t.layout,i=t.formatter,s=t.inactiveColor,o={x:0,y:0,width:Uw,height:Uw},l={display:"horizontal"===a?"inline-block":"block",marginRight:10},c={display:"inline-block",verticalAlign:"middle",marginRight:4};return n.map(function(t,n){var a=t.formatter||i,u=Lt(Kv(Kv({"recharts-legend-item":!0},"legend-item-".concat(n),!0),"inactive",t.inactive));if("none"===t.type)return null;var h=ex(t.value)?null:t.value;wb(!ex(t.value),'The name property is also required when using a function for the dataKey of a chart\'s cartesian components. Ex: <Bar name="Name of my Data"/>');var d=t.inactive?s:t.color;return P.createElement("li",Vv({className:u,style:l,key:"legend-item-".concat(n)},Ox(e.props,t,n)),P.createElement(eb,{width:r,height:r,viewBox:o,style:c},e.renderIcon(t)),P.createElement("span",{className:"recharts-legend-item-text",style:{color:d}},a?a(h,t,n):h))})}},{key:"render",value:function(){var e=this.props,t=e.payload,n=e.layout,r=e.align;if(!t||!t.length)return null;var a={padding:0,margin:0,textAlign:"horizontal"===n?r:"left"};return P.createElement("ul",{className:"recharts-default-legend",style:a},this.renderItems())}}])}();function Zw(){if(ow)return sw;ow=1;var e=_y(),t=function(){if(Yv)return Xv;Yv=1;var e=_y();return Xv=function(){this.__data__=new e,this.size=0}}(),n=Jv?Qv:(Jv=1,Qv=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}),r=tw?ew:(tw=1,ew=function(e){return this.__data__.get(e)}),a=rw?nw:(rw=1,nw=function(e){return this.__data__.has(e)}),i=function(){if(iw)return aw;iw=1;var e=_y(),t=Ly(),n=Fy();return aw=function(r,a){var i=this.__data__;if(i instanceof e){var s=i.__data__;if(!t||s.length<199)return s.push([r,a]),this.size=++i.size,this;i=this.__data__=new n(s)}return i.set(r,a),this.size=i.size,this}}();function s(t){var n=this.__data__=new e(t);this.size=n.size}return s.prototype.clear=t,s.prototype.delete=n,s.prototype.get=r,s.prototype.has=a,s.prototype.set=i,sw=s}function Gw(){if(pw)return dw;pw=1;var e=Fy(),t=cw?lw:(cw=1,lw=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}),n=hw?uw:(hw=1,uw=function(e){return this.__data__.has(e)});function r(t){var n=-1,r=null==t?0:t.length;for(this.__data__=new e;++n<r;)this.add(t[n])}return r.prototype.add=r.prototype.push=t,r.prototype.has=n,dw=r}function Kw(){if(mw)return fw;return mw=1,fw=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}}function qw(){if(yw)return gw;return yw=1,gw=function(e,t){return e.has(t)}}function Xw(){if(bw)return xw;bw=1;var e=Gw(),t=Kw(),n=qw();return xw=function(r,a,i,s,o,l){var c=1&i,u=r.length,h=a.length;if(u!=h&&!(c&&h>u))return!1;var d=l.get(r),p=l.get(a);if(d&&p)return d==a&&p==r;var f=-1,m=!0,g=2&i?new e:void 0;for(l.set(r,a),l.set(a,r);++f<u;){var y=r[f],x=a[f];if(s)var b=c?s(x,y,f,a,r,l):s(y,x,f,r,a,l);if(void 0!==b){if(b)continue;m=!1;break}if(g){if(!t(a,function(e,t){if(!n(g,t)&&(y===e||o(y,e,i,s,l)))return g.push(t)})){m=!1;break}}else if(y!==x&&!o(y,x,i,s,l)){m=!1;break}}return l.delete(r),l.delete(a),m}}function Yw(){if(Ew)return Nw;return Ew=1,Nw=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}}function Qw(){if(Cw)return Aw;Cw=1;var e=wy(),t=function(){if(ww)return vw;ww=1;var e=vy().Uint8Array;return vw=e}(),n=Py(),r=Xw(),a=Sw?kw:(Sw=1,kw=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n}),i=Yw(),s=e?e.prototype:void 0,o=s?s.valueOf:void 0;return Aw=function(e,s,l,c,u,h,d){switch(l){case"[object DataView]":if(e.byteLength!=s.byteLength||e.byteOffset!=s.byteOffset)return!1;e=e.buffer,s=s.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=s.byteLength||!h(new t(e),new t(s)));case"[object Boolean]":case"[object Date]":case"[object Number]":return n(+e,+s);case"[object Error]":return e.name==s.name&&e.message==s.message;case"[object RegExp]":case"[object String]":return e==s+"";case"[object Map]":var p=a;case"[object Set]":var f=1&c;if(p||(p=i),e.size!=s.size&&!f)return!1;var m=d.get(e);if(m)return m==s;c|=2,d.set(e,s);var g=r(p(e),p(s),c,u,h,d);return d.delete(e),g;case"[object Symbol]":if(o)return o.call(e)==o.call(s)}return!1}}function Jw(){if(Mw)return jw;return Mw=1,jw=function(e,t){for(var n=-1,r=t.length,a=e.length;++n<r;)e[a+n]=t[n];return e}}function ek(){if($w)return Lw;$w=1;var e=Pw?Ow:(Pw=1,Ow=function(e,t){for(var n=-1,r=null==e?0:e.length,a=0,i=[];++n<r;){var s=e[n];t(s,n,e)&&(i[a++]=s)}return i}),t=_w?Rw:(_w=1,Rw=function(){return[]}),n=Object.prototype.propertyIsEnumerable,r=Object.getOwnPropertySymbols;return Lw=r?function(t){return null==t?[]:(t=Object(t),e(r(t),function(e){return n.call(t,e)}))}:t}function tk(){if(Hw)return Bw;Hw=1;var e=function(){if(Vw)return zw;Vw=1;var e=ky(),t=Sy();return zw=function(n){return t(n)&&"[object Arguments]"==e(n)}}(),t=Sy(),n=Object.prototype,r=n.hasOwnProperty,a=n.propertyIsEnumerable,i=e(function(){return arguments}())?e:function(e){return t(e)&&r.call(e,"callee")&&!a.call(e,"callee")};return Bw=i}Kv(Ww,"displayName","Legend"),Kv(Ww,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var nk,rk,ak,ik,sk,ok,lk,ck,uk,hk,dk,pk={exports:{}};function fk(){return ak||(ak=1,e=pk,t=pk.exports,n=vy(),r=rk?nk:(rk=1,nk=function(){return!1}),a=t&&!t.nodeType&&t,i=a&&e&&!e.nodeType&&e,s=i&&i.exports===a?n.Buffer:void 0,o=(s?s.isBuffer:void 0)||r,e.exports=o),pk.exports;var e,t,n,r,a,i,s,o}function mk(){if(sk)return ik;sk=1;var e=/^(?:0|[1-9]\d*)$/;return ik=function(t,n){var r=typeof t;return!!(n=null==n?9007199254740991:n)&&("number"==r||"symbol"!=r&&e.test(t))&&t>-1&&t%1==0&&t<n}}function gk(){if(lk)return ok;lk=1;return ok=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}}function yk(){if(dk)return hk;return dk=1,hk=function(e){return function(t){return e(t)}}}var xk,bk,vk,wk,kk,Sk,Nk,Ek,Ak,Ck,jk,Mk,Tk,Ik,Ok,Pk,Rk,_k,Lk,$k,Fk,Dk,zk,Vk,Bk,Hk,Uk,Wk,Zk,Gk,Kk,qk,Xk,Yk,Qk,Jk,eS,tS,nS,rS,aS,iS,sS,oS,lS,cS,uS,hS,dS,pS,fS,mS,gS,yS,xS,bS,vS,wS,kS,SS,NS,ES,AS,CS,jS,MS,TS,IS,OS,PS,RS,_S,LS,$S,FS,DS,zS,VS,BS,HS,US,WS,ZS,GS={exports:{}};function KS(){if(vk)return bk;vk=1;var e=function(){if(uk)return ck;uk=1;var e=ky(),t=gk(),n=Sy(),r={};return r["[object Float32Array]"]=r["[object Float64Array]"]=r["[object Int8Array]"]=r["[object Int16Array]"]=r["[object Int32Array]"]=r["[object Uint8Array]"]=r["[object Uint8ClampedArray]"]=r["[object Uint16Array]"]=r["[object Uint32Array]"]=!0,r["[object Arguments]"]=r["[object Array]"]=r["[object ArrayBuffer]"]=r["[object Boolean]"]=r["[object DataView]"]=r["[object Date]"]=r["[object Error]"]=r["[object Function]"]=r["[object Map]"]=r["[object Number]"]=r["[object Object]"]=r["[object RegExp]"]=r["[object Set]"]=r["[object String]"]=r["[object WeakMap]"]=!1,ck=function(a){return n(a)&&t(a.length)&&!!r[e(a)]}}(),t=yk(),n=function(){return xk||(xk=1,e=GS,t=GS.exports,n=by(),r=t&&!t.nodeType&&t,a=r&&e&&!e.nodeType&&e,i=a&&a.exports===r&&n.process,s=function(){try{return a&&a.require&&a.require("util").types||i&&i.binding&&i.binding("util")}catch(ATe){}}(),e.exports=s),GS.exports;var e,t,n,r,a,i,s}(),r=n&&n.isTypedArray,a=r?t(r):e;return bk=a}function qS(){if(kk)return wk;kk=1;var e=Dw?Fw:(Dw=1,Fw=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}),t=tk(),n=xy(),r=fk(),a=mk(),i=KS(),s=Object.prototype.hasOwnProperty;return wk=function(o,l){var c=n(o),u=!c&&t(o),h=!c&&!u&&r(o),d=!c&&!u&&!h&&i(o),p=c||u||h||d,f=p?e(o.length,String):[],m=f.length;for(var g in o)!l&&!s.call(o,g)||p&&("length"==g||h&&("offset"==g||"parent"==g)||d&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||a(g,m))||f.push(g);return f}}function XS(){if(Ak)return Ek;return Ak=1,Ek=function(e,t){return function(n){return e(t(n))}}}function YS(){if(Tk)return Mk;Tk=1;var e=function(){if(Nk)return Sk;Nk=1;var e=Object.prototype;return Sk=function(t){var n=t&&t.constructor;return t===("function"==typeof n&&n.prototype||e)}}(),t=function(){if(jk)return Ck;jk=1;var e=XS()(Object.keys,Object);return Ck=e}(),n=Object.prototype.hasOwnProperty;return Mk=function(r){if(!e(r))return t(r);var a=[];for(var i in Object(r))n.call(r,i)&&"constructor"!=i&&a.push(i);return a}}function QS(){if(Ok)return Ik;Ok=1;var e=Cy(),t=gk();return Ik=function(n){return null!=n&&t(n.length)&&!e(n)}}function JS(){if(Rk)return Pk;Rk=1;var e=qS(),t=YS(),n=QS();return Pk=function(r){return n(r)?e(r):t(r)}}function eN(){if(Lk)return _k;Lk=1;var e=function(){if(Iw)return Tw;Iw=1;var e=Jw(),t=xy();return Tw=function(n,r,a){var i=r(n);return t(n)?i:e(i,a(n))}}(),t=ek(),n=JS();return _k=function(r){return e(r,n,t)}}function tN(){if(Uk)return Hk;Uk=1;var e=Ty()(vy(),"Set");return Hk=e}function nN(){if(Kk)return Gk;Kk=1;var e=function(){if(zk)return Dk;zk=1;var e=Ty()(vy(),"DataView");return Dk=e}(),t=Ly(),n=function(){if(Bk)return Vk;Bk=1;var e=Ty()(vy(),"Promise");return Vk=e}(),r=tN(),a=function(){if(Zk)return Wk;Zk=1;var e=Ty()(vy(),"WeakMap");return Wk=e}(),i=ky(),s=My(),o="[object Map]",l="[object Promise]",c="[object Set]",u="[object WeakMap]",h="[object DataView]",d=s(e),p=s(t),f=s(n),m=s(r),g=s(a),y=i;return(e&&y(new e(new ArrayBuffer(1)))!=h||t&&y(new t)!=o||n&&y(n.resolve())!=l||r&&y(new r)!=c||a&&y(new a)!=u)&&(y=function(e){var t=i(e),n="[object Object]"==t?e.constructor:void 0,r=n?s(n):"";if(r)switch(r){case d:return h;case p:return o;case f:return l;case m:return c;case g:return u}return t}),Gk=y}function rN(){if(Xk)return qk;Xk=1;var e=Zw(),t=Xw(),n=Qw(),r=function(){if(Fk)return $k;Fk=1;var e=eN(),t=Object.prototype.hasOwnProperty;return $k=function(n,r,a,i,s,o){var l=1&a,c=e(n),u=c.length;if(u!=e(r).length&&!l)return!1;for(var h=u;h--;){var d=c[h];if(!(l?d in r:t.call(r,d)))return!1}var p=o.get(n),f=o.get(r);if(p&&f)return p==r&&f==n;var m=!0;o.set(n,r),o.set(r,n);for(var g=l;++h<u;){var y=n[d=c[h]],x=r[d];if(i)var b=l?i(x,y,d,r,n,o):i(y,x,d,n,r,o);if(!(void 0===b?y===x||s(y,x,a,i,o):b)){m=!1;break}g||(g="constructor"==d)}if(m&&!g){var v=n.constructor,w=r.constructor;v==w||!("constructor"in n)||!("constructor"in r)||"function"==typeof v&&v instanceof v&&"function"==typeof w&&w instanceof w||(m=!1)}return o.delete(n),o.delete(r),m}}(),a=nN(),i=xy(),s=fk(),o=KS(),l="[object Arguments]",c="[object Array]",u="[object Object]",h=Object.prototype.hasOwnProperty;return qk=function(d,p,f,m,g,y){var x=i(d),b=i(p),v=x?c:a(d),w=b?c:a(p),k=(v=v==l?u:v)==u,S=(w=w==l?u:w)==u,N=v==w;if(N&&s(d)){if(!s(p))return!1;x=!0,k=!1}if(N&&!k)return y||(y=new e),x||o(d)?t(d,p,f,m,g,y):n(d,p,v,f,m,g,y);if(!(1&f)){var E=k&&h.call(d,"__wrapped__"),A=S&&h.call(p,"__wrapped__");if(E||A){var C=E?d.value():d,j=A?p.value():p;return y||(y=new e),g(C,j,f,m,y)}}return!!N&&(y||(y=new e),r(d,p,f,m,g,y))}}function aN(){if(Qk)return Yk;Qk=1;var e=rN(),t=Sy();return Yk=function n(r,a,i,s,o){return r===a||(null==r||null==a||!t(r)&&!t(a)?r!=r&&a!=a:e(r,a,i,s,n,o))},Yk}function iN(){if(nS)return tS;nS=1;var e=Ay();return tS=function(t){return t==t&&!e(t)}}function sN(){if(sS)return iS;return sS=1,iS=function(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}}}function oN(){if(lS)return oS;lS=1;var e=function(){if(eS)return Jk;eS=1;var e=Zw(),t=aN();return Jk=function(n,r,a,i){var s=a.length,o=s,l=!i;if(null==n)return!o;for(n=Object(n);s--;){var c=a[s];if(l&&c[2]?c[1]!==n[c[0]]:!(c[0]in n))return!1}for(;++s<o;){var u=(c=a[s])[0],h=n[u],d=c[1];if(l&&c[2]){if(void 0===h&&!(u in n))return!1}else{var p=new e;if(i)var f=i(h,d,u,n,r,p);if(!(void 0===f?t(d,h,3,i,p):f))return!1}}return!0}}(),t=function(){if(aS)return rS;aS=1;var e=iN(),t=JS();return rS=function(n){for(var r=t(n),a=r.length;a--;){var i=r[a],s=n[i];r[a]=[i,s,e(s)]}return r}}(),n=sN();return oS=function(r){var a=t(r);return 1==a.length&&a[0][2]?n(a[0][0],a[0][1]):function(t){return t===r||e(t,r,a)}}}function lN(){if(fS)return pS;fS=1;var e=uS?cS:(uS=1,cS=function(e,t){return null!=e&&t in Object(e)}),t=function(){if(dS)return hS;dS=1;var e=Hy(),t=tk(),n=xy(),r=mk(),a=gk(),i=Uy();return hS=function(s,o,l){for(var c=-1,u=(o=e(o,s)).length,h=!1;++c<u;){var d=i(o[c]);if(!(h=null!=s&&l(s,d)))break;s=s[d]}return h||++c!=u?h:!!(u=null==s?0:s.length)&&a(u)&&r(d,u)&&(n(s)||t(s))}}();return pS=function(n,r){return null!=n&&t(n,r,e)}}function cN(){if(xS)return yS;return xS=1,yS=function(e){return e}}function uN(){if(NS)return SS;NS=1;var e=vS?bS:(vS=1,bS=function(e){return function(t){return null==t?void 0:t[e]}}),t=function(){if(kS)return wS;kS=1;var e=Wy();return wS=function(t){return function(n){return e(n,t)}}}(),n=Ey(),r=Uy();return SS=function(a){return n(a)?e(r(a)):t(a)}}function hN(){if(AS)return ES;AS=1;var e=oN(),t=function(){if(gS)return mS;gS=1;var e=aN(),t=Zy(),n=lN(),r=Ey(),a=iN(),i=sN(),s=Uy();return mS=function(o,l){return r(o)&&a(l)?i(s(o),l):function(r){var a=t(r,o);return void 0===a&&a===l?n(r,o):e(l,a,3)}}}(),n=cN(),r=xy(),a=uN();return ES=function(i){return"function"==typeof i?i:null==i?n:"object"==typeof i?r(i)?t(i[0],i[1]):e(i):a(i)}}function dN(){if(jS)return CS;return jS=1,CS=function(e,t,n,r){for(var a=e.length,i=n+(r?1:-1);r?i--:++i<a;)if(t(e[i],i,e))return i;return-1}}function pN(){if(RS)return PS;RS=1;var e=dN(),t=TS?MS:(TS=1,MS=function(e){return e!=e}),n=OS?IS:(OS=1,IS=function(e,t,n){for(var r=n-1,a=e.length;++r<a;)if(e[r]===t)return r;return-1});return PS=function(r,a,i){return a==a?n(r,a,i):e(r,t,i)}}function fN(){if(BS)return VS;BS=1;var e=tN(),t=zS?DS:(zS=1,DS=function(){}),n=Yw(),r=e&&1/n(new e([,-0]))[1]==1/0?function(t){return new e(t)}:t;return VS=r}function mN(){if(US)return HS;US=1;var e=Gw(),t=function(){if(LS)return _S;LS=1;var e=pN();return _S=function(t,n){return!(null==t||!t.length)&&e(t,n,0)>-1}}(),n=FS?$S:(FS=1,$S=function(e,t,n){for(var r=-1,a=null==e?0:e.length;++r<a;)if(n(t,e[r]))return!0;return!1}),r=qw(),a=fN(),i=Yw();return HS=function(s,o,l){var c=-1,u=t,h=s.length,d=!0,p=[],f=p;if(l)d=!1,u=n;else if(h>=200){var m=o?null:a(s);if(m)return i(m);d=!1,u=r,f=new e}else f=o?[]:p;e:for(;++c<h;){var g=s[c],y=o?o(g):g;if(g=l||0!==g?g:0,d&&y==y){for(var x=f.length;x--;)if(f[x]===y)continue e;o&&f.push(y),p.push(g)}else u(f,y,l)||(f!==p&&f.push(y),p.push(g))}return p}}const gN=n(function(){if(ZS)return WS;ZS=1;var e=hN(),t=mN();return WS=function(n,r){return n&&n.length?t(n,e(r,2)):[]}}());function yN(e,t,n){return!0===t?gN(e,n):ex(t)?gN(e,t):e}function xN(e){return(xN="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var bN=["ref"];function vN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function wN(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vN(Object(n),!0).forEach(function(t){CN(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vN(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function kN(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,jN(r.key),r)}}function SN(e,t,n){return t=EN(t),function(e,t){if(t&&("object"===xN(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,NN()?Reflect.construct(t,n||[],EN(e).constructor):t.apply(e,n))}function NN(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(NN=function(){return!!e})()}function EN(e){return(EN=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function AN(e,t){return(AN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function CN(e,t,n){return(t=jN(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jN(e){var t=function(e,t){if("object"!=xN(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=xN(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==xN(t)?t:t+""}function MN(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function TN(e){return e.value}var IN,ON,PN,RN,_N,LN,$N,FN,DN,zN,VN,BN,HN,UN,WN,ZN,GN,KN,qN,XN,YN,QN,JN,eE,tE,nE,rE,aE,iE,sE,oE,lE,cE,uE,hE,dE,pE,fE,mE,gE,yE,xE,bE,vE,wE=function(){function e(){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return CN(t=SN(this,e,[].concat(r)),"lastBoundingBox",{width:-1,height:-1}),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&AN(e,t)}(e,O.PureComponent),t=e,r=[{key:"getWithHeight",value:function(e,t){var n=wN(wN({},this.defaultProps),e.props).layout;return"vertical"===n&&gx(e.props.height)?{height:e.props.height}:"horizontal"===n?{width:e.props.width||t}:null}}],(n=[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var e=this.wrapperNode.getBoundingClientRect();return e.height=this.wrapperNode.offsetHeight,e.width=this.wrapperNode.offsetWidth,e}return null}},{key:"updateBBox",value:function(){var e=this.props.onBBoxUpdate,t=this.getBBox();t?(Math.abs(t.width-this.lastBoundingBox.width)>1||Math.abs(t.height-this.lastBoundingBox.height)>1)&&(this.lastBoundingBox.width=t.width,this.lastBoundingBox.height=t.height,e&&e(t)):-1===this.lastBoundingBox.width&&-1===this.lastBoundingBox.height||(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,e&&e(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?wN({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(e){var t,n,r=this.props,a=r.layout,i=r.align,s=r.verticalAlign,o=r.margin,l=r.chartWidth,c=r.chartHeight;return e&&(void 0!==e.left&&null!==e.left||void 0!==e.right&&null!==e.right)||(t="center"===i&&"vertical"===a?{left:((l||0)-this.getBBoxSnapshot().width)/2}:"right"===i?{right:o&&o.right||0}:{left:o&&o.left||0}),e&&(void 0!==e.top&&null!==e.top||void 0!==e.bottom&&null!==e.bottom)||(n="middle"===s?{top:((c||0)-this.getBBoxSnapshot().height)/2}:"bottom"===s?{bottom:o&&o.bottom||0}:{top:o&&o.top||0}),wN(wN({},t),n)}},{key:"render",value:function(){var e=this,t=this.props,n=t.content,r=t.width,a=t.height,i=t.wrapperStyle,s=t.payloadUniqBy,o=t.payload,l=wN(wN({position:"absolute",width:r||"auto",height:a||"auto"},this.getDefaultPosition(i)),i);return P.createElement("div",{className:"recharts-legend-wrapper",style:l,ref:function(t){e.wrapperNode=t}},function(e,t){if(P.isValidElement(e))return P.cloneElement(e,t);if("function"==typeof e)return P.createElement(e,t);t.ref;var n=MN(t,bN);return P.createElement(Ww,n)}(n,wN(wN({},this.props),{},{payload:yN(o,s,TN)})))}}])&&kN(t.prototype,n),r&&kN(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,r}();function kE(){if(RN)return PN;RN=1;var e=Jw(),t=function(){if(ON)return IN;ON=1;var e=wy(),t=tk(),n=xy(),r=e?e.isConcatSpreadable:void 0;return IN=function(e){return n(e)||t(e)||!!(r&&e&&e[r])}}();return PN=function n(r,a,i,s,o){var l=-1,c=r.length;for(i||(i=t),o||(o=[]);++l<c;){var u=r[l];a>0&&i(u)?a>1?n(u,a-1,i,s,o):e(o,u):s||(o[o.length]=u)}return o},PN}function SE(){if(FN)return $N;FN=1;var e=(LN?_N:(LN=1,_N=function(e){return function(t,n,r){for(var a=-1,i=Object(t),s=r(t),o=s.length;o--;){var l=s[e?o:++a];if(!1===n(i[l],l,i))break}return t}}))();return $N=e}function NE(){if(zN)return DN;zN=1;var e=SE(),t=JS();return DN=function(n,r){return n&&e(n,r,t)}}function EE(){if(UN)return HN;UN=1;var e=NE(),t=function(){if(BN)return VN;BN=1;var e=QS();return VN=function(t,n){return function(r,a){if(null==r)return r;if(!e(r))return t(r,a);for(var i=r.length,s=n?i:-1,o=Object(r);(n?s--:++s<i)&&!1!==a(o[s],s,o););return r}}}()(e);return HN=t}function AE(){if(ZN)return WN;ZN=1;var e=EE(),t=QS();return WN=function(n,r){var a=-1,i=t(n)?Array(n.length):[];return e(n,function(e,t,n){i[++a]=r(e,t,n)}),i}}function CE(){if(QN)return YN;QN=1;var e=function(){if(XN)return qN;XN=1;var e=Ny();return qN=function(t,n){if(t!==n){var r=void 0!==t,a=null===t,i=t==t,s=e(t),o=void 0!==n,l=null===n,c=n==n,u=e(n);if(!l&&!u&&!s&&t>n||s&&o&&c&&!l&&!u||a&&o&&c||!r&&c||!i)return 1;if(!a&&!s&&!u&&t<n||u&&r&&i&&!a&&!s||l&&r&&i||!o&&i||!c)return-1}return 0}}();return YN=function(t,n,r){for(var a=-1,i=t.criteria,s=n.criteria,o=i.length,l=r.length;++a<o;){var c=e(i[a],s[a]);if(c)return a>=l?c:c*("desc"==r[a]?-1:1)}return t.index-n.index}}function jE(){if(eE)return JN;eE=1;var e=Vy(),t=Wy(),n=hN(),r=AE(),a=KN?GN:(KN=1,GN=function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}),i=yk(),s=CE(),o=cN(),l=xy();return JN=function(c,u,h){u=u.length?e(u,function(e){return l(e)?function(n){return t(n,1===e.length?e[0]:e)}:e}):[o];var d=-1;u=e(u,i(n));var p=r(c,function(t,n,r){return{criteria:e(u,function(e){return e(t)}),index:++d,value:t}});return a(p,function(e,t){return s(e,t,h)})}}function ME(){if(aE)return rE;aE=1;var e=nE?tE:(nE=1,tE=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}),t=Math.max;return rE=function(n,r,a){return r=t(void 0===r?n.length-1:r,0),function(){for(var i=arguments,s=-1,o=t(i.length-r,0),l=Array(o);++s<o;)l[s]=i[r+s];s=-1;for(var c=Array(r+1);++s<r;)c[s]=i[s];return c[r]=a(l),e(n,this,c)}},rE}function TE(){if(lE)return oE;lE=1;var e=Ty(),t=function(){try{var t=e(Object,"defineProperty");return t({},"",{}),t}catch(ATe){}}();return oE=t}function IE(){if(uE)return cE;uE=1;var e=sE?iE:(sE=1,iE=function(e){return function(){return e}}),t=TE(),n=cN();return cE=t?function(n,r){return t(n,"toString",{configurable:!0,enumerable:!1,value:e(r),writable:!0})}:n}function OE(){if(fE)return pE;fE=1;var e=IE(),t=function(){if(dE)return hE;dE=1;var e=Date.now;return hE=function(t){var n=0,r=0;return function(){var a=e(),i=16-(a-r);if(r=a,i>0){if(++n>=800)return arguments[0]}else n=0;return t.apply(void 0,arguments)}},hE}(),n=t(e);return pE=n}function PE(){if(xE)return yE;xE=1;var e=Py(),t=QS(),n=mk(),r=Ay();return yE=function(a,i,s){if(!r(s))return!1;var o=typeof i;return!!("number"==o?t(s)&&n(i,s.length):"string"==o&&i in s)&&e(s[i],a)}}CN(wE,"displayName","Legend"),CN(wE,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});const RE=n(function(){if(vE)return bE;vE=1;var e=kE(),t=jE(),n=function(){if(gE)return mE;gE=1;var e=cN(),t=ME(),n=OE();return mE=function(r,a){return n(t(r,a,e),r+"")}}(),r=PE(),a=n(function(n,a){if(null==n)return[];var i=a.length;return i>1&&r(n,a[0],a[1])?a=[]:i>2&&r(a[0],a[1],a[2])&&(a=[a[0]]),t(n,e(a,1),[])});return bE=a}());function _E(e){return(_E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function LE(){return LE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},LE.apply(this,arguments)}function $E(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i,s,o=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t);else for(;!(l=(r=i.call(n)).done)&&(o.push(r.value),o.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return FE(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return FE(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function FE(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function DE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function zE(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?DE(Object(n),!0).forEach(function(t){VE(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):DE(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function VE(e,t,n){var r;return r=function(e,t){if("object"!=_E(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=_E(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==_E(r)?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function BE(e){return Array.isArray(e)&&yx(e[0])&&yx(e[1])?e.join(" ~ "):e}var HE=function(e){var t=e.separator,n=void 0===t?" : ":t,r=e.contentStyle,a=void 0===r?{}:r,i=e.itemStyle,s=void 0===i?{}:i,o=e.labelStyle,l=void 0===o?{}:o,c=e.payload,u=e.formatter,h=e.itemSorter,d=e.wrapperClassName,p=e.labelClassName,f=e.label,m=e.labelFormatter,g=e.accessibilityLayer,y=void 0!==g&&g,x=zE({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),b=zE({margin:0},l),v=!Xy(f),w=v?f:"",k=Lt("recharts-default-tooltip",d),S=Lt("recharts-tooltip-label",p);v&&m&&null!=c&&(w=m(f,c));var N=y?{role:"status","aria-live":"assertive"}:{};return P.createElement("div",LE({className:k,style:x},N),P.createElement("p",{className:S,style:b},P.isValidElement(w)?w:"".concat(w)),function(){if(c&&c.length){var e=(h?RE(c,h):c).map(function(e,t){if("none"===e.type)return null;var r=zE({display:"block",paddingTop:4,paddingBottom:4,color:e.color||"#000"},s),a=e.formatter||u||BE,i=e.value,o=e.name,l=i,h=o;if(a&&null!=l&&null!=h){var d=a(i,o,e,t,c);if(Array.isArray(d)){var p=$E(d,2);l=p[0],h=p[1]}else l=d}return P.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(t),style:r},yx(h)?P.createElement("span",{className:"recharts-tooltip-item-name"},h):null,yx(h)?P.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,P.createElement("span",{className:"recharts-tooltip-item-value"},l),P.createElement("span",{className:"recharts-tooltip-item-unit"},e.unit||""))});return P.createElement("ul",{className:"recharts-tooltip-item-list",style:{padding:0,margin:0}},e)}return null}())};function UE(e){return(UE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function WE(e,t,n){var r;return r=function(e,t){if("object"!=UE(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=UE(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==UE(r)?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ZE="recharts-tooltip-wrapper",GE={visibility:"hidden"};function KE(e){var t=e.coordinate,n=e.translateX,r=e.translateY;return Lt(ZE,WE(WE(WE(WE({},"".concat(ZE,"-right"),gx(n)&&t&&gx(t.x)&&n>=t.x),"".concat(ZE,"-left"),gx(n)&&t&&gx(t.x)&&n<t.x),"".concat(ZE,"-bottom"),gx(r)&&t&&gx(t.y)&&r>=t.y),"".concat(ZE,"-top"),gx(r)&&t&&gx(t.y)&&r<t.y))}function qE(e){var t=e.allowEscapeViewBox,n=e.coordinate,r=e.key,a=e.offsetTopLeft,i=e.position,s=e.reverseDirection,o=e.tooltipDimension,l=e.viewBox,c=e.viewBoxDimension;if(i&&gx(i[r]))return i[r];var u=n[r]-o-a,h=n[r]+a;return t[r]?s[r]?u:h:s[r]?u<l[r]?Math.max(h,l[r]):Math.max(u,l[r]):h+o>l[r]+c?Math.max(u,l[r]):Math.max(h,l[r])}function XE(e){return(XE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function YE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function QE(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?YE(Object(n),!0).forEach(function(t){aA(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):YE(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function JE(e,t,n){return t&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,iA(r.key),r)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function eA(e,t,n){return t=nA(t),function(e,t){if(t&&("object"===XE(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,tA()?Reflect.construct(t,n||[],nA(e).constructor):t.apply(e,n))}function tA(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(tA=function(){return!!e})()}function nA(e){return(nA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function rA(e,t){return(rA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function aA(e,t,n){return(t=iA(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function iA(e){var t=function(e,t){if("object"!=XE(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=XE(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==XE(t)?t:t+""}var sA=function(){function e(){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return aA(t=eA(this,e,[].concat(r)),"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),aA(t,"handleKeyDown",function(e){var n,r,a,i;"Escape"===e.key&&t.setState({dismissed:!0,dismissedAtCoordinate:{x:null!==(n=null===(r=t.props.coordinate)||void 0===r?void 0:r.x)&&void 0!==n?n:0,y:null!==(a=null===(i=t.props.coordinate)||void 0===i?void 0:i.y)&&void 0!==a?a:0}})}),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&rA(e,t)}(e,O.PureComponent),JE(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var e=this.wrapperNode.getBoundingClientRect();(Math.abs(e.width-this.state.lastBoundingBox.width)>1||Math.abs(e.height-this.state.lastBoundingBox.height)>1)&&this.setState({lastBoundingBox:{width:e.width,height:e.height}})}else-1===this.state.lastBoundingBox.width&&-1===this.state.lastBoundingBox.height||this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var e,t;this.props.active&&this.updateBBox(),this.state.dismissed&&((null===(e=this.props.coordinate)||void 0===e?void 0:e.x)===this.state.dismissedAtCoordinate.x&&(null===(t=this.props.coordinate)||void 0===t?void 0:t.y)===this.state.dismissedAtCoordinate.y||(this.state.dismissed=!1))}},{key:"render",value:function(){var e=this,t=this.props,n=t.active,r=t.allowEscapeViewBox,a=t.animationDuration,i=t.animationEasing,s=t.children,o=t.coordinate,l=t.hasPayload,c=t.isAnimationActive,u=t.offset,h=t.position,d=t.reverseDirection,p=t.useTranslate3d,f=t.viewBox,m=t.wrapperStyle,g=function(e){var t,n,r=e.allowEscapeViewBox,a=e.coordinate,i=e.offsetTopLeft,s=e.position,o=e.reverseDirection,l=e.tooltipBox,c=e.useTranslate3d,u=e.viewBox;return{cssProperties:l.height>0&&l.width>0&&a?function(e){var t=e.translateX,n=e.translateY;return{transform:e.useTranslate3d?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}({translateX:t=qE({allowEscapeViewBox:r,coordinate:a,key:"x",offsetTopLeft:i,position:s,reverseDirection:o,tooltipDimension:l.width,viewBox:u,viewBoxDimension:u.width}),translateY:n=qE({allowEscapeViewBox:r,coordinate:a,key:"y",offsetTopLeft:i,position:s,reverseDirection:o,tooltipDimension:l.height,viewBox:u,viewBoxDimension:u.height}),useTranslate3d:c}):GE,cssClasses:KE({translateX:t,translateY:n,coordinate:a})}}({allowEscapeViewBox:r,coordinate:o,offsetTopLeft:u,position:h,reverseDirection:d,tooltipBox:this.state.lastBoundingBox,useTranslate3d:p,viewBox:f}),y=g.cssClasses,x=g.cssProperties,b=QE(QE({transition:c&&n?"transform ".concat(a,"ms ").concat(i):void 0},x),{},{pointerEvents:"none",visibility:!this.state.dismissed&&n&&l?"visible":"hidden",position:"absolute",top:0,left:0},m);return P.createElement("div",{tabIndex:-1,className:y,style:b,ref:function(t){e.wrapperNode=t}},s)}}])}(),oA=!("undefined"!=typeof window&&window.document&&window.document.createElement&&window.setTimeout);function lA(e){return(lA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function cA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function uA(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?cA(Object(n),!0).forEach(function(t){gA(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cA(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function hA(e,t,n){return t&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,yA(r.key),r)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function dA(e,t,n){return t=fA(t),function(e,t){if(t&&("object"===lA(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,pA()?Reflect.construct(t,n||[],fA(e).constructor):t.apply(e,n))}function pA(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(pA=function(){return!!e})()}function fA(e){return(fA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function mA(e,t){return(mA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function gA(e,t,n){return(t=yA(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yA(e){var t=function(e,t){if("object"!=lA(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=lA(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==lA(t)?t:t+""}function xA(e){return e.dataKey}var bA,vA,wA,kA,SA,NA,EA,AA,CA,jA,MA,TA,IA=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),dA(this,e,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&mA(e,t)}(e,O.PureComponent),hA(e,[{key:"render",value:function(){var e=this,t=this.props,n=t.active,r=t.allowEscapeViewBox,a=t.animationDuration,i=t.animationEasing,s=t.content,o=t.coordinate,l=t.filterNull,c=t.isAnimationActive,u=t.offset,h=t.payload,d=t.payloadUniqBy,p=t.position,f=t.reverseDirection,m=t.useTranslate3d,g=t.viewBox,y=t.wrapperStyle,x=null!=h?h:[];l&&x.length&&(x=yN(h.filter(function(t){return null!=t.value&&(!0!==t.hide||e.props.includeHidden)}),d,xA));var b=x.length>0;return P.createElement(sA,{allowEscapeViewBox:r,animationDuration:a,animationEasing:i,isAnimationActive:c,active:n,coordinate:o,hasPayload:b,offset:u,position:p,reverseDirection:f,useTranslate3d:m,viewBox:g,wrapperStyle:y},function(e,t){return P.isValidElement(e)?P.cloneElement(e,t):"function"==typeof e?P.createElement(e,t):P.createElement(HE,t)}(s,uA(uA({},this.props),{},{payload:x})))}}])}();function OA(){if(NA)return SA;NA=1;var e=function(){if(kA)return wA;kA=1;var e=/\s/;return wA=function(t){for(var n=t.length;n--&&e.test(t.charAt(n)););return n}}(),t=/^\s+/;return SA=function(n){return n?n.slice(0,e(n)+1).replace(t,""):n}}function PA(){if(AA)return EA;AA=1;var e=OA(),t=Ay(),n=Ny(),r=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,i=/^0o[0-7]+$/i,s=parseInt;return EA=function(o){if("number"==typeof o)return o;if(n(o))return NaN;if(t(o)){var l="function"==typeof o.valueOf?o.valueOf():o;o=t(l)?l+"":l}if("string"!=typeof o)return 0===o?o:+o;o=e(o);var c=a.test(o);return c||i.test(o)?s(o.slice(2),c?2:8):r.test(o)?NaN:+o}}function RA(){if(jA)return CA;jA=1;var e=Ay(),t=function(){if(vA)return bA;vA=1;var e=vy();return bA=function(){return e.Date.now()}}(),n=PA(),r=Math.max,a=Math.min;return CA=function(i,s,o){var l,c,u,h,d,p,f=0,m=!1,g=!1,y=!0;if("function"!=typeof i)throw new TypeError("Expected a function");function x(e){var t=l,n=c;return l=c=void 0,f=e,h=i.apply(n,t)}function b(e){var t=e-p;return void 0===p||t>=s||t<0||g&&e-f>=u}function v(){var e=t();if(b(e))return w(e);d=setTimeout(v,function(e){var t=s-(e-p);return g?a(t,u-(e-f)):t}(e))}function w(e){return d=void 0,y&&l?x(e):(l=c=void 0,h)}function k(){var e=t(),n=b(e);if(l=arguments,c=this,p=e,n){if(void 0===d)return function(e){return f=e,d=setTimeout(v,s),m?x(e):h}(p);if(g)return clearTimeout(d),d=setTimeout(v,s),x(p)}return void 0===d&&(d=setTimeout(v,s)),h}return s=n(s)||0,e(o)&&(m=!!o.leading,u=(g="maxWait"in o)?r(n(o.maxWait)||0,s):u,y="trailing"in o?!!o.trailing:y),k.cancel=function(){void 0!==d&&clearTimeout(d),f=0,l=p=c=d=void 0},k.flush=function(){return void 0===d?h:w(t())},k},CA}gA(IA,"displayName","Tooltip"),gA(IA,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!oA,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});const _A=n(function(){if(TA)return MA;TA=1;var e=RA(),t=Ay();return MA=function(n,r,a){var i=!0,s=!0;if("function"!=typeof n)throw new TypeError("Expected a function");return t(a)&&(i="leading"in a?!!a.leading:i,s="trailing"in a?!!a.trailing:s),e(n,r,{leading:i,maxWait:r,trailing:s})}}());function LA(e){return(LA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $A(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function FA(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$A(Object(n),!0).forEach(function(t){DA(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$A(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function DA(e,t,n){var r;return r=function(e,t){if("object"!=LA(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=LA(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==LA(r)?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zA(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i,s,o=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t);else for(;!(l=(r=i.call(n)).done)&&(o.push(r.value),o.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return VA(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return VA(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function VA(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var BA=O.forwardRef(function(e,t){var n=e.aspect,r=e.initialDimension,a=void 0===r?{width:-1,height:-1}:r,i=e.width,s=void 0===i?"100%":i,o=e.height,l=void 0===o?"100%":o,c=e.minWidth,u=void 0===c?0:c,h=e.minHeight,d=e.maxHeight,p=e.children,f=e.debounce,m=void 0===f?0:f,g=e.id,y=e.className,x=e.onResize,b=e.style,v=void 0===b?{}:b,w=O.useRef(null),k=O.useRef();k.current=x,O.useImperativeHandle(t,function(){return Object.defineProperty(w.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),w.current},configurable:!0})});var S=zA(O.useState({containerWidth:a.width,containerHeight:a.height}),2),N=S[0],E=S[1],A=O.useCallback(function(e,t){E(function(n){var r=Math.round(e),a=Math.round(t);return n.containerWidth===r&&n.containerHeight===a?n:{containerWidth:r,containerHeight:a}})},[]);O.useEffect(function(){var e=function(e){var t,n=e[0].contentRect,r=n.width,a=n.height;A(r,a),null===(t=k.current)||void 0===t||t.call(k,r,a)};m>0&&(e=_A(e,m,{trailing:!0,leading:!1}));var t=new ResizeObserver(e),n=w.current.getBoundingClientRect(),r=n.width,a=n.height;return A(r,a),t.observe(w.current),function(){t.disconnect()}},[A,m]);var C=O.useMemo(function(){var e=N.containerWidth,t=N.containerHeight;if(e<0||t<0)return null;wb(mx(s)||mx(l),"The width(%s) and height(%s) are both fixed numbers,\n       maybe you don't need to use a ResponsiveContainer.",s,l),wb(!n||n>0,"The aspect(%s) must be greater than zero.",n);var r=mx(s)?e:s,a=mx(l)?t:l;n&&n>0&&(r?a=r/n:a&&(r=a*n),d&&a>d&&(a=d)),wb(r>0||a>0,"The width(%s) and height(%s) of chart should be greater than 0,\n       please check the style of container, or the props width(%s) and height(%s),\n       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the\n       height and width.",r,a,s,l,u,h,n);var i=!Array.isArray(p)&&Fx(p.type).endsWith("Chart");return P.Children.map(p,function(e){return P.isValidElement(e)?O.cloneElement(e,FA({width:r,height:a},i?{style:FA({height:"100%",width:"100%",maxHeight:a,maxWidth:r},e.props.style)}:{})):e})},[n,p,l,d,h,u,N,s]);return P.createElement("div",{id:g?"".concat(g):void 0,className:Lt("recharts-responsive-container",y),style:FA(FA({},v),{},{width:s,height:l,minWidth:u,minHeight:h,maxHeight:d}),ref:w},C)}),HA=function(e){return null};function UA(e){return(UA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function WA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ZA(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?WA(Object(n),!0).forEach(function(t){GA(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):WA(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function GA(e,t,n){var r;return r=function(e,t){if("object"!=UA(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=UA(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==UA(r)?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}HA.displayName="Cell";var KA={widthCache:{},cacheCount:0},qA={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},XA="recharts_measurement_span";var YA=function(e){if(null==e||oA)return{width:0,height:0};var t,n=(t=ZA({},arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}),Object.keys(t).forEach(function(e){t[e]||delete t[e]}),t),r=JSON.stringify({text:e,copyStyle:n});if(KA.widthCache[r])return KA.widthCache[r];try{var a=document.getElementById(XA);a||((a=document.createElement("span")).setAttribute("id",XA),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var i=ZA(ZA({},qA),n);Object.assign(a.style,i),a.textContent="".concat(e);var s=a.getBoundingClientRect(),o={width:s.width,height:s.height};return KA.widthCache[r]=o,++KA.cacheCount>2e3&&(KA.cacheCount=0,KA.widthCache={}),o}catch(ATe){return{width:0,height:0}}};function QA(e){return(QA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function JA(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i,s,o=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(o.push(r.value),o.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return eC(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return eC(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function eC(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function tC(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,nC(r.key),r)}}function nC(e){var t=function(e,t){if("object"!=QA(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=QA(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==QA(t)?t:t+""}var rC=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,aC=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,iC=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,sC=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,oC={cm:96/2.54,mm:96/25.4,pt:96/72,pc:16,in:96,Q:96/101.6,px:1},lC=Object.keys(oC),cC="NaN";var uC=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.num=t,this.unit=n,this.num=t,this.unit=n,Number.isNaN(t)&&(this.unit=""),""===n||iC.test(n)||(this.num=NaN,this.unit=""),lC.includes(n)&&(this.num=function(e,t){return e*oC[t]}(t,n),this.unit="px")}return t=e,r=[{key:"parse",value:function(t){var n,r=JA(null!==(n=sC.exec(t))&&void 0!==n?n:[],3),a=r[1],i=r[2];return new e(parseFloat(a),null!=i?i:"")}}],(n=[{key:"add",value:function(t){return this.unit!==t.unit?new e(NaN,""):new e(this.num+t.num,this.unit)}},{key:"subtract",value:function(t){return this.unit!==t.unit?new e(NaN,""):new e(this.num-t.num,this.unit)}},{key:"multiply",value:function(t){return""!==this.unit&&""!==t.unit&&this.unit!==t.unit?new e(NaN,""):new e(this.num*t.num,this.unit||t.unit)}},{key:"divide",value:function(t){return""!==this.unit&&""!==t.unit&&this.unit!==t.unit?new e(NaN,""):new e(this.num/t.num,this.unit||t.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}])&&tC(t.prototype,n),r&&tC(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,r}();function hC(e){if(e.includes(cC))return cC;for(var t=e;t.includes("*")||t.includes("/");){var n,r=JA(null!==(n=rC.exec(t))&&void 0!==n?n:[],4),a=r[1],i=r[2],s=r[3],o=uC.parse(null!=a?a:""),l=uC.parse(null!=s?s:""),c="*"===i?o.multiply(l):o.divide(l);if(c.isNaN())return cC;t=t.replace(rC,c.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var u,h=JA(null!==(u=aC.exec(t))&&void 0!==u?u:[],4),d=h[1],p=h[2],f=h[3],m=uC.parse(null!=d?d:""),g=uC.parse(null!=f?f:""),y="+"===p?m.add(g):m.subtract(g);if(y.isNaN())return cC;t=t.replace(aC,y.toString())}return t}var dC=/\(([^()]*)\)/;function pC(e){var t=e.replace(/\s+/g,"");return t=function(e){for(var t=e;t.includes("(");){var n=JA(dC.exec(t),2)[1];t=t.replace(dC,hC(n))}return t}(t),t=hC(t)}function fC(e){var t=function(e){try{return pC(e)}catch(ATe){return cC}}(e.slice(5,-1));return t===cC?"":t}var mC=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],gC=["dx","dy","angle","className","breakAll"];function yC(){return yC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},yC.apply(this,arguments)}function xC(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function bC(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i,s,o=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(o.push(r.value),o.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return vC(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vC(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function vC(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var wC=/[ \f\n\r\t\v\u2028\u2029]+/,kC=function(e){var t=e.children,n=e.breakAll,r=e.style;try{var a=[];return Xy(t)||(a=n?t.toString().split(""):t.toString().split(wC)),{wordsWithComputedWidth:a.map(function(e){return{word:e,width:YA(e,r).width}}),spaceWidth:n?0:YA("",r).width}}catch(ATe){return null}},SC=function(e){return[{words:Xy(e)?[]:e.toString().split(wC)}]},NC=function(e){var t=e.width,n=e.scaleToFit,r=e.children,a=e.style,i=e.breakAll,s=e.maxLines;if((t||n)&&!oA){var o=kC({breakAll:i,children:r,style:a});return o?function(e,t,n,r,a){var i=e.maxLines,s=e.children,o=e.style,l=e.breakAll,c=gx(i),u=s,h=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).reduce(function(e,t){var i=t.word,s=t.width,o=e[e.length-1];if(o&&(null==r||a||o.width+s+n<Number(r)))o.words.push(i),o.width+=s+n;else{var l={words:[i],width:s};e.push(l)}return e},[])},d=h(t);if(!c)return d;for(var p,f=function(e){var t=u.slice(0,e),n=kC({breakAll:l,style:o,children:t+""}).wordsWithComputedWidth,a=h(n),s=a.length>i||function(e){return e.reduce(function(e,t){return e.width>t.width?e:t})}(a).width>Number(r);return[s,a]},m=0,g=u.length-1,y=0;m<=g&&y<=u.length-1;){var x=Math.floor((m+g)/2),b=bC(f(x-1),2),v=b[0],w=b[1],k=bC(f(x),1)[0];if(v||k||(m=x+1),v&&k&&(g=x-1),!v&&k){p=w;break}y++}return p||d}({breakAll:i,children:r,maxLines:s,style:a},o.wordsWithComputedWidth,o.spaceWidth,t,n):SC(r)}return SC(r)},EC="#808080",AC=function(e){var t=e.x,n=void 0===t?0:t,r=e.y,a=void 0===r?0:r,i=e.lineHeight,s=void 0===i?"1em":i,o=e.capHeight,l=void 0===o?"0.71em":o,c=e.scaleToFit,u=void 0!==c&&c,h=e.textAnchor,d=void 0===h?"start":h,p=e.verticalAnchor,f=void 0===p?"end":p,m=e.fill,g=void 0===m?EC:m,y=xC(e,mC),x=O.useMemo(function(){return NC({breakAll:y.breakAll,children:y.children,maxLines:y.maxLines,scaleToFit:u,style:y.style,width:y.width})},[y.breakAll,y.children,y.maxLines,u,y.style,y.width]),b=y.dx,v=y.dy,w=y.angle,k=y.className,S=y.breakAll,N=xC(y,gC);if(!yx(n)||!yx(a))return null;var E,A=n+(gx(b)?b:0),C=a+(gx(v)?v:0);switch(f){case"start":E=fC("calc(".concat(l,")"));break;case"middle":E=fC("calc(".concat((x.length-1)/2," * -").concat(s," + (").concat(l," / 2))"));break;default:E=fC("calc(".concat(x.length-1," * -").concat(s,")"))}var j=[];if(u){var M=x[0].width,T=y.width;j.push("scale(".concat((gx(T)?T/M:1)/M,")"))}return w&&j.push("rotate(".concat(w,", ").concat(A,", ").concat(C,")")),j.length&&(N.transform=j.join(" ")),P.createElement("text",yC({},Gx(N,!0),{x:A,y:C,className:Lt("recharts-text",k),textAnchor:d,fill:g.includes("url")?EC:g}),x.map(function(e,t){var n=e.words.join(S?"":" ");return P.createElement("tspan",{x:A,dy:0===t?E:s,key:"".concat(n,"-").concat(t)},n)}))};function CC(e,t){return null==e||null==t?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function jC(e,t){return null==e||null==t?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function MC(e){let t,n,r;function a(e,r,a=0,i=e.length){if(a<i){if(0!==t(r,r))return i;do{const t=a+i>>>1;n(e[t],r)<0?a=t+1:i=t}while(a<i)}return a}return 2!==e.length?(t=CC,n=(t,n)=>CC(e(t),n),r=(t,n)=>e(t)-n):(t=e===CC||e===jC?e:TC,n=e,r=e),{left:a,center:function(e,t,n=0,i=e.length){const s=a(e,t,n,i-1);return s>n&&r(e[s-1],t)>-r(e[s],t)?s-1:s},right:function(e,r,a=0,i=e.length){if(a<i){if(0!==t(r,r))return i;do{const t=a+i>>>1;n(e[t],r)<=0?a=t+1:i=t}while(a<i)}return a}}}function TC(){return 0}function IC(e){return null===e?NaN:+e}const OC=MC(CC).right;MC(IC).center;class PC extends Map{constructor(e,t=_C){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),null!=e)for(const[n,r]of e)this.set(n,r)}get(e){return super.get(RC(this,e))}has(e){return super.has(RC(this,e))}set(e,t){return super.set(function({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}(this,e),t)}delete(e){return super.delete(function({_intern:e,_key:t},n){const r=t(n);e.has(r)&&(n=e.get(r),e.delete(r));return n}(this,e))}}function RC({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function _C(e){return null!==e&&"object"==typeof e?e.valueOf():e}function LC(e,t){return(null==e||!(e>=e))-(null==t||!(t>=t))||(e<t?-1:e>t?1:0)}const $C=Math.sqrt(50),FC=Math.sqrt(10),DC=Math.sqrt(2);function zC(e,t,n){const r=(t-e)/Math.max(0,n),a=Math.floor(Math.log10(r)),i=r/Math.pow(10,a),s=i>=$C?10:i>=FC?5:i>=DC?2:1;let o,l,c;return a<0?(c=Math.pow(10,-a)/s,o=Math.round(e*c),l=Math.round(t*c),o/c<e&&++o,l/c>t&&--l,c=-c):(c=Math.pow(10,a)*s,o=Math.round(e/c),l=Math.round(t/c),o*c<e&&++o,l*c>t&&--l),l<o&&.5<=n&&n<2?zC(e,t,2*n):[o,l,c]}function VC(e,t,n){if(!((n=+n)>0))return[];if((e=+e)===(t=+t))return[e];const r=t<e,[a,i,s]=r?zC(t,e,n):zC(e,t,n);if(!(i>=a))return[];const o=i-a+1,l=new Array(o);if(r)if(s<0)for(let c=0;c<o;++c)l[c]=(i-c)/-s;else for(let c=0;c<o;++c)l[c]=(i-c)*s;else if(s<0)for(let c=0;c<o;++c)l[c]=(a+c)/-s;else for(let c=0;c<o;++c)l[c]=(a+c)*s;return l}function BC(e,t,n){return zC(e=+e,t=+t,n=+n)[2]}function HC(e,t,n){n=+n;const r=(t=+t)<(e=+e),a=r?BC(t,e,n):BC(e,t,n);return(r?-1:1)*(a<0?1/-a:a)}function UC(e,t){let n;for(const r of e)null!=r&&(n<r||void 0===n&&r>=r)&&(n=r);return n}function WC(e,t){let n;for(const r of e)null!=r&&(n>r||void 0===n&&r>=r)&&(n=r);return n}function ZC(e,t,n=0,r=1/0,a){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(a=void 0===a?LC:function(e=CC){if(e===CC)return LC;if("function"!=typeof e)throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||0===r?r:(0===e(n,n))-(0===e(t,t))}}(a);r>n;){if(r-n>600){const i=r-n+1,s=t-n+1,o=Math.log(i),l=.5*Math.exp(2*o/3),c=.5*Math.sqrt(o*l*(i-l)/i)*(s-i/2<0?-1:1);ZC(e,t,Math.max(n,Math.floor(t-s*l/i+c)),Math.min(r,Math.floor(t+(i-s)*l/i+c)),a)}const i=e[t];let s=n,o=r;for(GC(e,n,t),a(e[r],i)>0&&GC(e,n,r);s<o;){for(GC(e,s,o),++s,--o;a(e[s],i)<0;)++s;for(;a(e[o],i)>0;)--o}0===a(e[n],i)?GC(e,n,o):(++o,GC(e,o,r)),o<=t&&(n=o+1),t<=o&&(r=o-1)}return e}function GC(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function KC(e,t,n=IC){if((r=e.length)&&!isNaN(t=+t)){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,a=(r-1)*t,i=Math.floor(a),s=+n(e[i],i,e);return s+(+n(e[i+1],i+1,e)-s)*(a-i)}}function qC(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}function XC(e,t){switch(arguments.length){case 0:break;case 1:"function"==typeof e?this.interpolator(e):this.range(e);break;default:this.domain(e),"function"==typeof t?this.interpolator(t):this.range(t)}return this}const YC=Symbol("implicit");function QC(){var e=new PC,t=[],n=[],r=YC;function a(a){let i=e.get(a);if(void 0===i){if(r!==YC)return r;e.set(a,i=t.push(a)-1)}return n[i%n.length]}return a.domain=function(n){if(!arguments.length)return t.slice();t=[],e=new PC;for(const r of n)e.has(r)||e.set(r,t.push(r)-1);return a},a.range=function(e){return arguments.length?(n=Array.from(e),a):n.slice()},a.unknown=function(e){return arguments.length?(r=e,a):r},a.copy=function(){return QC(t,n).unknown(r)},qC.apply(a,arguments),a}function JC(){var e,t,n=QC().unknown(void 0),r=n.domain,a=n.range,i=0,s=1,o=!1,l=0,c=0,u=.5;function h(){var n=r().length,h=s<i,d=h?s:i,p=h?i:s;e=(p-d)/Math.max(1,n-l+2*c),o&&(e=Math.floor(e)),d+=(p-d-e*(n-l))*u,t=e*(1-l),o&&(d=Math.round(d),t=Math.round(t));var f=function(e,t,n){e=+e,t=+t,n=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+n;for(var r=-1,a=0|Math.max(0,Math.ceil((t-e)/n)),i=new Array(a);++r<a;)i[r]=e+r*n;return i}(n).map(function(t){return d+e*t});return a(h?f.reverse():f)}return delete n.unknown,n.domain=function(e){return arguments.length?(r(e),h()):r()},n.range=function(e){return arguments.length?([i,s]=e,i=+i,s=+s,h()):[i,s]},n.rangeRound=function(e){return[i,s]=e,i=+i,s=+s,o=!0,h()},n.bandwidth=function(){return t},n.step=function(){return e},n.round=function(e){return arguments.length?(o=!!e,h()):o},n.padding=function(e){return arguments.length?(l=Math.min(1,c=+e),h()):l},n.paddingInner=function(e){return arguments.length?(l=Math.min(1,e),h()):l},n.paddingOuter=function(e){return arguments.length?(c=+e,h()):c},n.align=function(e){return arguments.length?(u=Math.max(0,Math.min(1,e)),h()):u},n.copy=function(){return JC(r(),[i,s]).round(o).paddingInner(l).paddingOuter(c).align(u)},qC.apply(h(),arguments)}function ej(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return ej(t())},e}function tj(){return ej(JC.apply(null,arguments).paddingInner(1))}function nj(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function rj(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function aj(){}var ij=.7,sj=1/ij,oj="\\s*([+-]?\\d+)\\s*",lj="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",cj="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",uj=/^#([0-9a-f]{3,8})$/,hj=new RegExp(`^rgb\\(${oj},${oj},${oj}\\)$`),dj=new RegExp(`^rgb\\(${cj},${cj},${cj}\\)$`),pj=new RegExp(`^rgba\\(${oj},${oj},${oj},${lj}\\)$`),fj=new RegExp(`^rgba\\(${cj},${cj},${cj},${lj}\\)$`),mj=new RegExp(`^hsl\\(${lj},${cj},${cj}\\)$`),gj=new RegExp(`^hsla\\(${lj},${cj},${cj},${lj}\\)$`),yj={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function xj(){return this.rgb().formatHex()}function bj(){return this.rgb().formatRgb()}function vj(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=uj.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?wj(t):3===n?new Nj(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?kj(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?kj(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=hj.exec(e))?new Nj(t[1],t[2],t[3],1):(t=dj.exec(e))?new Nj(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=pj.exec(e))?kj(t[1],t[2],t[3],t[4]):(t=fj.exec(e))?kj(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=mj.exec(e))?Tj(t[1],t[2]/100,t[3]/100,1):(t=gj.exec(e))?Tj(t[1],t[2]/100,t[3]/100,t[4]):yj.hasOwnProperty(e)?wj(yj[e]):"transparent"===e?new Nj(NaN,NaN,NaN,0):null}function wj(e){return new Nj(e>>16&255,e>>8&255,255&e,1)}function kj(e,t,n,r){return r<=0&&(e=t=n=NaN),new Nj(e,t,n,r)}function Sj(e,t,n,r){return 1===arguments.length?((a=e)instanceof aj||(a=vj(a)),a?new Nj((a=a.rgb()).r,a.g,a.b,a.opacity):new Nj):new Nj(e,t,n,null==r?1:r);var a}function Nj(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function Ej(){return`#${Mj(this.r)}${Mj(this.g)}${Mj(this.b)}`}function Aj(){const e=Cj(this.opacity);return`${1===e?"rgb(":"rgba("}${jj(this.r)}, ${jj(this.g)}, ${jj(this.b)}${1===e?")":`, ${e})`}`}function Cj(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function jj(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Mj(e){return((e=jj(e))<16?"0":"")+e.toString(16)}function Tj(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Oj(e,t,n,r)}function Ij(e){if(e instanceof Oj)return new Oj(e.h,e.s,e.l,e.opacity);if(e instanceof aj||(e=vj(e)),!e)return new Oj;if(e instanceof Oj)return e;var t=(e=e.rgb()).r/255,n=e.g/255,r=e.b/255,a=Math.min(t,n,r),i=Math.max(t,n,r),s=NaN,o=i-a,l=(i+a)/2;return o?(s=t===i?(n-r)/o+6*(n<r):n===i?(r-t)/o+2:(t-n)/o+4,o/=l<.5?i+a:2-i-a,s*=60):o=l>0&&l<1?0:s,new Oj(s,o,l,e.opacity)}function Oj(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function Pj(e){return(e=(e||0)%360)<0?e+360:e}function Rj(e){return Math.max(0,Math.min(1,e||0))}function _j(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}nj(aj,vj,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:xj,formatHex:xj,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return Ij(this).formatHsl()},formatRgb:bj,toString:bj}),nj(Nj,Sj,rj(aj,{brighter(e){return e=null==e?sj:Math.pow(sj,e),new Nj(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=null==e?ij:Math.pow(ij,e),new Nj(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Nj(jj(this.r),jj(this.g),jj(this.b),Cj(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Ej,formatHex:Ej,formatHex8:function(){return`#${Mj(this.r)}${Mj(this.g)}${Mj(this.b)}${Mj(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:Aj,toString:Aj})),nj(Oj,function(e,t,n,r){return 1===arguments.length?Ij(e):new Oj(e,t,n,null==r?1:r)},rj(aj,{brighter(e){return e=null==e?sj:Math.pow(sj,e),new Oj(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=null==e?ij:Math.pow(ij,e),new Oj(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,a=2*n-r;return new Nj(_j(e>=240?e-240:e+120,a,r),_j(e,a,r),_j(e<120?e+240:e-120,a,r),this.opacity)},clamp(){return new Oj(Pj(this.h),Rj(this.s),Rj(this.l),Cj(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Cj(this.opacity);return`${1===e?"hsl(":"hsla("}${Pj(this.h)}, ${100*Rj(this.s)}%, ${100*Rj(this.l)}%${1===e?")":`, ${e})`}`}}));const Lj=e=>()=>e;function $j(e){return 1===(e=+e)?Fj:function(t,n){return n-t?function(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}(t,n,e):Lj(isNaN(t)?n:t)}}function Fj(e,t){var n=t-e;return n?function(e,t){return function(n){return e+n*t}}(e,n):Lj(isNaN(e)?t:e)}const Dj=function e(t){var n=$j(t);function r(e,t){var r=n((e=Sj(e)).r,(t=Sj(t)).r),a=n(e.g,t.g),i=n(e.b,t.b),s=Fj(e.opacity,t.opacity);return function(t){return e.r=r(t),e.g=a(t),e.b=i(t),e.opacity=s(t),e+""}}return r.gamma=e,r}(1);function zj(e,t){t||(t=[]);var n,r=e?Math.min(t.length,e.length):0,a=t.slice();return function(i){for(n=0;n<r;++n)a[n]=e[n]*(1-i)+t[n]*i;return a}}function Vj(e,t){var n,r=t?t.length:0,a=e?Math.min(r,e.length):0,i=new Array(a),s=new Array(r);for(n=0;n<a;++n)i[n]=Kj(e[n],t[n]);for(;n<r;++n)s[n]=t[n];return function(e){for(n=0;n<a;++n)s[n]=i[n](e);return s}}function Bj(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function Hj(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function Uj(e,t){var n,r={},a={};for(n in null!==e&&"object"==typeof e||(e={}),null!==t&&"object"==typeof t||(t={}),t)n in e?r[n]=Kj(e[n],t[n]):a[n]=t[n];return function(e){for(n in r)a[n]=r[n](e);return a}}var Wj=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Zj=new RegExp(Wj.source,"g");function Gj(e,t){var n,r,a,i=Wj.lastIndex=Zj.lastIndex=0,s=-1,o=[],l=[];for(e+="",t+="";(n=Wj.exec(e))&&(r=Zj.exec(t));)(a=r.index)>i&&(a=t.slice(i,a),o[s]?o[s]+=a:o[++s]=a),(n=n[0])===(r=r[0])?o[s]?o[s]+=r:o[++s]=r:(o[++s]=null,l.push({i:s,x:Hj(n,r)})),i=Zj.lastIndex;return i<t.length&&(a=t.slice(i),o[s]?o[s]+=a:o[++s]=a),o.length<2?l[0]?function(e){return function(t){return e(t)+""}}(l[0].x):function(e){return function(){return e}}(t):(t=l.length,function(e){for(var n,r=0;r<t;++r)o[(n=l[r]).i]=n.x(e);return o.join("")})}function Kj(e,t){var n,r,a=typeof t;return null==t||"boolean"===a?Lj(t):("number"===a?Hj:"string"===a?(n=vj(t))?(t=n,Dj):Gj:t instanceof vj?Dj:t instanceof Date?Bj:(r=t,!ArrayBuffer.isView(r)||r instanceof DataView?Array.isArray(t)?Vj:"function"!=typeof t.valueOf&&"function"!=typeof t.toString||isNaN(t)?Uj:Hj:zj))(e,t)}function qj(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}var Xj,Yj=180/Math.PI,Qj={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Jj(e,t,n,r,a,i){var s,o,l;return(s=Math.sqrt(e*e+t*t))&&(e/=s,t/=s),(l=e*n+t*r)&&(n-=e*l,r-=t*l),(o=Math.sqrt(n*n+r*r))&&(n/=o,r/=o,l/=o),e*r<t*n&&(e=-e,t=-t,l=-l,s=-s),{translateX:a,translateY:i,rotate:Math.atan2(t,e)*Yj,skewX:Math.atan(l)*Yj,scaleX:s,scaleY:o}}function eM(e,t,n,r){function a(e){return e.length?e.pop()+" ":""}return function(i,s){var o=[],l=[];return i=e(i),s=e(s),function(e,r,a,i,s,o){if(e!==a||r!==i){var l=s.push("translate(",null,t,null,n);o.push({i:l-4,x:Hj(e,a)},{i:l-2,x:Hj(r,i)})}else(a||i)&&s.push("translate("+a+t+i+n)}(i.translateX,i.translateY,s.translateX,s.translateY,o,l),function(e,t,n,i){e!==t?(e-t>180?t+=360:t-e>180&&(e+=360),i.push({i:n.push(a(n)+"rotate(",null,r)-2,x:Hj(e,t)})):t&&n.push(a(n)+"rotate("+t+r)}(i.rotate,s.rotate,o,l),function(e,t,n,i){e!==t?i.push({i:n.push(a(n)+"skewX(",null,r)-2,x:Hj(e,t)}):t&&n.push(a(n)+"skewX("+t+r)}(i.skewX,s.skewX,o,l),function(e,t,n,r,i,s){if(e!==n||t!==r){var o=i.push(a(i)+"scale(",null,",",null,")");s.push({i:o-4,x:Hj(e,n)},{i:o-2,x:Hj(t,r)})}else 1===n&&1===r||i.push(a(i)+"scale("+n+","+r+")")}(i.scaleX,i.scaleY,s.scaleX,s.scaleY,o,l),i=s=null,function(e){for(var t,n=-1,r=l.length;++n<r;)o[(t=l[n]).i]=t.x(e);return o.join("")}}}var tM=eM(function(e){const t=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?Qj:Jj(t.a,t.b,t.c,t.d,t.e,t.f)},"px, ","px)","deg)"),nM=eM(function(e){return null==e?Qj:(Xj||(Xj=document.createElementNS("http://www.w3.org/2000/svg","g")),Xj.setAttribute("transform",e),(e=Xj.transform.baseVal.consolidate())?Jj((e=e.matrix).a,e.b,e.c,e.d,e.e,e.f):Qj)},", ",")",")");function rM(e){return+e}var aM=[0,1];function iM(e){return e}function sM(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:(n=isNaN(t)?NaN:.5,function(){return n});var n}function oM(e,t,n){var r=e[0],a=e[1],i=t[0],s=t[1];return a<r?(r=sM(a,r),i=n(s,i)):(r=sM(r,a),i=n(i,s)),function(e){return i(r(e))}}function lM(e,t,n){var r=Math.min(e.length,t.length)-1,a=new Array(r),i=new Array(r),s=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<r;)a[s]=sM(e[s],e[s+1]),i[s]=n(t[s],t[s+1]);return function(t){var n=OC(e,t,1,r)-1;return i[n](a[n](t))}}function cM(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function uM(){var e,t,n,r,a,i,s=aM,o=aM,l=Kj,c=iM;function u(){var e,t,n,l=Math.min(s.length,o.length);return c!==iM&&(e=s[0],t=s[l-1],e>t&&(n=e,e=t,t=n),c=function(n){return Math.max(e,Math.min(t,n))}),r=l>2?lM:oM,a=i=null,h}function h(t){return null==t||isNaN(t=+t)?n:(a||(a=r(s.map(e),o,l)))(e(c(t)))}return h.invert=function(n){return c(t((i||(i=r(o,s.map(e),Hj)))(n)))},h.domain=function(e){return arguments.length?(s=Array.from(e,rM),u()):s.slice()},h.range=function(e){return arguments.length?(o=Array.from(e),u()):o.slice()},h.rangeRound=function(e){return o=Array.from(e),l=qj,u()},h.clamp=function(e){return arguments.length?(c=!!e||iM,u()):c!==iM},h.interpolate=function(e){return arguments.length?(l=e,u()):l},h.unknown=function(e){return arguments.length?(n=e,h):n},function(n,r){return e=n,t=r,u()}}function hM(){return uM()(iM,iM)}function dM(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function pM(e){return(e=dM(Math.abs(e)))?e[1]:NaN}var fM,mM=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function gM(e){if(!(t=mM.exec(e)))throw new Error("invalid format: "+e);var t;return new yM({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function yM(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}function xM(e,t){var n=dM(e,t);if(!n)return e+"";var r=n[0],a=n[1];return a<0?"0."+new Array(-a).join("0")+r:r.length>a+1?r.slice(0,a+1)+"."+r.slice(a+1):r+new Array(a-r.length+2).join("0")}gM.prototype=yM.prototype,yM.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const bM={"%":(e,t)=>(100*e).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:function(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)},e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>xM(100*e,t),r:xM,s:function(e,t){var n=dM(e,t);if(!n)return e+"";var r=n[0],a=n[1],i=a-(fM=3*Math.max(-8,Math.min(8,Math.floor(a/3))))+1,s=r.length;return i===s?r:i>s?r+new Array(i-s+1).join("0"):i>0?r.slice(0,i)+"."+r.slice(i):"0."+new Array(1-i).join("0")+dM(e,Math.max(0,t+i-1))[0]},X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function vM(e){return e}var wM,kM,SM,NM=Array.prototype.map,EM=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function AM(e){var t,n,r=void 0===e.grouping||void 0===e.thousands?vM:(t=NM.call(e.grouping,Number),n=e.thousands+"",function(e,r){for(var a=e.length,i=[],s=0,o=t[0],l=0;a>0&&o>0&&(l+o+1>r&&(o=Math.max(1,r-l)),i.push(e.substring(a-=o,a+o)),!((l+=o+1)>r));)o=t[s=(s+1)%t.length];return i.reverse().join(n)}),a=void 0===e.currency?"":e.currency[0]+"",i=void 0===e.currency?"":e.currency[1]+"",s=void 0===e.decimal?".":e.decimal+"",o=void 0===e.numerals?vM:function(e){return function(t){return t.replace(/[0-9]/g,function(t){return e[+t]})}}(NM.call(e.numerals,String)),l=void 0===e.percent?"%":e.percent+"",c=void 0===e.minus?"":e.minus+"",u=void 0===e.nan?"NaN":e.nan+"";function h(e){var t=(e=gM(e)).fill,n=e.align,h=e.sign,d=e.symbol,p=e.zero,f=e.width,m=e.comma,g=e.precision,y=e.trim,x=e.type;"n"===x?(m=!0,x="g"):bM[x]||(void 0===g&&(g=12),y=!0,x="g"),(p||"0"===t&&"="===n)&&(p=!0,t="0",n="=");var b="$"===d?a:"#"===d&&/[boxX]/.test(x)?"0"+x.toLowerCase():"",v="$"===d?i:/[%p]/.test(x)?l:"",w=bM[x],k=/[defgprs%]/.test(x);function S(e){var a,i,l,d=b,S=v;if("c"===x)S=w(e)+S,e="";else{var N=(e=+e)<0||1/e<0;if(e=isNaN(e)?u:w(Math.abs(e),g),y&&(e=function(e){e:for(var t,n=e.length,r=1,a=-1;r<n;++r)switch(e[r]){case".":a=t=r;break;case"0":0===a&&(a=r),t=r;break;default:if(!+e[r])break e;a>0&&(a=0)}return a>0?e.slice(0,a)+e.slice(t+1):e}(e)),N&&0===+e&&"+"!==h&&(N=!1),d=(N?"("===h?h:c:"-"===h||"("===h?"":h)+d,S=("s"===x?EM[8+fM/3]:"")+S+(N&&"("===h?")":""),k)for(a=-1,i=e.length;++a<i;)if(48>(l=e.charCodeAt(a))||l>57){S=(46===l?s+e.slice(a+1):e.slice(a))+S,e=e.slice(0,a);break}}m&&!p&&(e=r(e,1/0));var E=d.length+e.length+S.length,A=E<f?new Array(f-E+1).join(t):"";switch(m&&p&&(e=r(A+e,A.length?f-S.length:1/0),A=""),n){case"<":e=d+e+S+A;break;case"=":e=d+A+e+S;break;case"^":e=A.slice(0,E=A.length>>1)+d+e+S+A.slice(E);break;default:e=A+d+e+S}return o(e)}return g=void 0===g?6:/[gprs]/.test(x)?Math.max(1,Math.min(21,g)):Math.max(0,Math.min(20,g)),S.toString=function(){return e+""},S}return{format:h,formatPrefix:function(e,t){var n=h(((e=gM(e)).type="f",e)),r=3*Math.max(-8,Math.min(8,Math.floor(pM(t)/3))),a=Math.pow(10,-r),i=EM[8+r/3];return function(e){return n(a*e)+i}}}}function CM(e,t,n,r){var a,i=HC(e,t,n);switch((r=gM(null==r?",f":r)).type){case"s":var s=Math.max(Math.abs(e),Math.abs(t));return null!=r.precision||isNaN(a=function(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(pM(t)/3)))-pM(Math.abs(e)))}(i,s))||(r.precision=a),SM(r,s);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(a=function(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,pM(t)-pM(e))+1}(i,Math.max(Math.abs(e),Math.abs(t))))||(r.precision=a-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(a=function(e){return Math.max(0,-pM(Math.abs(e)))}(i))||(r.precision=a-2*("%"===r.type))}return kM(r)}function jM(e){var t=e.domain;return e.ticks=function(e){var n=t();return VC(n[0],n[n.length-1],null==e?10:e)},e.tickFormat=function(e,n){var r=t();return CM(r[0],r[r.length-1],null==e?10:e,n)},e.nice=function(n){null==n&&(n=10);var r,a,i=t(),s=0,o=i.length-1,l=i[s],c=i[o],u=10;for(c<l&&(a=l,l=c,c=a,a=s,s=o,o=a);u-- >0;){if((a=BC(l,c,n))===r)return i[s]=l,i[o]=c,t(i);if(a>0)l=Math.floor(l/a)*a,c=Math.ceil(c/a)*a;else{if(!(a<0))break;l=Math.ceil(l*a)/a,c=Math.floor(c*a)/a}r=a}return e},e}function MM(){var e=hM();return e.copy=function(){return cM(e,MM())},qC.apply(e,arguments),jM(e)}function TM(e,t){var n,r=0,a=(e=e.slice()).length-1,i=e[r],s=e[a];return s<i&&(n=r,r=a,a=n,n=i,i=s,s=n),e[r]=t.floor(i),e[a]=t.ceil(s),e}function IM(e){return Math.log(e)}function OM(e){return Math.exp(e)}function PM(e){return-Math.log(-e)}function RM(e){return-Math.exp(-e)}function _M(e){return isFinite(e)?+("1e"+e):e<0?0:e}function LM(e){return(t,n)=>-e(-t,n)}function $M(e){const t=e(IM,OM),n=t.domain;let r,a,i=10;function s(){return r=function(e){return e===Math.E?Math.log:10===e&&Math.log10||2===e&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}(i),a=function(e){return 10===e?_M:e===Math.E?Math.exp:t=>Math.pow(e,t)}(i),n()[0]<0?(r=LM(r),a=LM(a),e(PM,RM)):e(IM,OM),t}return t.base=function(e){return arguments.length?(i=+e,s()):i},t.domain=function(e){return arguments.length?(n(e),s()):n()},t.ticks=e=>{const t=n();let s=t[0],o=t[t.length-1];const l=o<s;l&&([s,o]=[o,s]);let c,u,h=r(s),d=r(o);const p=null==e?10:+e;let f=[];if(!(i%1)&&d-h<p){if(h=Math.floor(h),d=Math.ceil(d),s>0){for(;h<=d;++h)for(c=1;c<i;++c)if(u=h<0?c/a(-h):c*a(h),!(u<s)){if(u>o)break;f.push(u)}}else for(;h<=d;++h)for(c=i-1;c>=1;--c)if(u=h>0?c/a(-h):c*a(h),!(u<s)){if(u>o)break;f.push(u)}2*f.length<p&&(f=VC(s,o,p))}else f=VC(h,d,Math.min(d-h,p)).map(a);return l?f.reverse():f},t.tickFormat=(e,n)=>{if(null==e&&(e=10),null==n&&(n=10===i?"s":","),"function"!=typeof n&&(i%1||null!=(n=gM(n)).precision||(n.trim=!0),n=kM(n)),e===1/0)return n;const s=Math.max(1,i*e/t.ticks().length);return e=>{let t=e/a(Math.round(r(e)));return t*i<i-.5&&(t*=i),t<=s?n(e):""}},t.nice=()=>n(TM(n(),{floor:e=>a(Math.floor(r(e))),ceil:e=>a(Math.ceil(r(e)))})),t}function FM(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function DM(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function zM(e){var t=1,n=e(FM(t),DM(t));return n.constant=function(n){return arguments.length?e(FM(t=+n),DM(t)):t},jM(n)}function VM(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function BM(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function HM(e){return e<0?-e*e:e*e}function UM(e){var t=e(iM,iM),n=1;return t.exponent=function(t){return arguments.length?1===(n=+t)?e(iM,iM):.5===n?e(BM,HM):e(VM(n),VM(1/n)):n},jM(t)}function WM(){var e=UM(uM());return e.copy=function(){return cM(e,WM()).exponent(e.exponent())},qC.apply(e,arguments),e}function ZM(e){return Math.sign(e)*e*e}wM=AM({thousands:",",grouping:[3],currency:["$",""]}),kM=wM.format,SM=wM.formatPrefix;const GM=new Date,KM=new Date;function qM(e,t,n,r){function a(t){return e(t=0===arguments.length?new Date:new Date(+t)),t}return a.floor=t=>(e(t=new Date(+t)),t),a.ceil=n=>(e(n=new Date(n-1)),t(n,1),e(n),n),a.round=e=>{const t=a(e),n=a.ceil(e);return e-t<n-e?t:n},a.offset=(e,n)=>(t(e=new Date(+e),null==n?1:Math.floor(n)),e),a.range=(n,r,i)=>{const s=[];if(n=a.ceil(n),i=null==i?1:Math.floor(i),!(n<r&&i>0))return s;let o;do{s.push(o=new Date(+n)),t(n,i),e(n)}while(o<n&&n<r);return s},a.filter=n=>qM(t=>{if(t>=t)for(;e(t),!n(t);)t.setTime(t-1)},(e,r)=>{if(e>=e)if(r<0)for(;++r<=0;)for(;t(e,-1),!n(e););else for(;--r>=0;)for(;t(e,1),!n(e););}),n&&(a.count=(t,r)=>(GM.setTime(+t),KM.setTime(+r),e(GM),e(KM),Math.floor(n(GM,KM))),a.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?a.filter(r?t=>r(t)%e===0:t=>a.count(0,t)%e===0):a:null)),a}const XM=qM(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);XM.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?qM(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):XM:null),XM.range;const YM=1e3,QM=6e4,JM=36e5,eT=864e5,tT=6048e5,nT=2592e6,rT=31536e6,aT=qM(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*YM)},(e,t)=>(t-e)/YM,e=>e.getUTCSeconds());aT.range;const iT=qM(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*YM)},(e,t)=>{e.setTime(+e+t*QM)},(e,t)=>(t-e)/QM,e=>e.getMinutes());iT.range;const sT=qM(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*QM)},(e,t)=>(t-e)/QM,e=>e.getUTCMinutes());sT.range;const oT=qM(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*YM-e.getMinutes()*QM)},(e,t)=>{e.setTime(+e+t*JM)},(e,t)=>(t-e)/JM,e=>e.getHours());oT.range;const lT=qM(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*JM)},(e,t)=>(t-e)/JM,e=>e.getUTCHours());lT.range;const cT=qM(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*QM)/eT,e=>e.getDate()-1);cT.range;const uT=qM(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/eT,e=>e.getUTCDate()-1);uT.range;const hT=qM(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/eT,e=>Math.floor(e/eT));function dT(e){return qM(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(e,t)=>{e.setDate(e.getDate()+7*t)},(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*QM)/tT)}hT.range;const pT=dT(0),fT=dT(1),mT=dT(2),gT=dT(3),yT=dT(4),xT=dT(5),bT=dT(6);function vT(e){return qM(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+7*t)},(e,t)=>(t-e)/tT)}pT.range,fT.range,mT.range,gT.range,yT.range,xT.range,bT.range;const wT=vT(0),kT=vT(1),ST=vT(2),NT=vT(3),ET=vT(4),AT=vT(5),CT=vT(6);wT.range,kT.range,ST.range,NT.range,ET.range,AT.range,CT.range;const jT=qM(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear()),e=>e.getMonth());jT.range;const MT=qM(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear()),e=>e.getUTCMonth());MT.range;const TT=qM(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());TT.every=e=>isFinite(e=Math.floor(e))&&e>0?qM(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)}):null,TT.range;const IT=qM(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());function OT(e,t,n,r,a,i){const s=[[aT,1,YM],[aT,5,5e3],[aT,15,15e3],[aT,30,3e4],[i,1,QM],[i,5,3e5],[i,15,9e5],[i,30,18e5],[a,1,JM],[a,3,108e5],[a,6,216e5],[a,12,432e5],[r,1,eT],[r,2,1728e5],[n,1,tT],[t,1,nT],[t,3,7776e6],[e,1,rT]];function o(t,n,r){const a=Math.abs(n-t)/r,i=MC(([,,e])=>e).right(s,a);if(i===s.length)return e.every(HC(t/rT,n/rT,r));if(0===i)return XM.every(Math.max(HC(t,n,r),1));const[o,l]=s[a/s[i-1][2]<s[i][2]/a?i-1:i];return o.every(l)}return[function(e,t,n){const r=t<e;r&&([e,t]=[t,e]);const a=n&&"function"==typeof n.range?n:o(e,t,n),i=a?a.range(e,+t+1):[];return r?i.reverse():i},o]}IT.every=e=>isFinite(e=Math.floor(e))&&e>0?qM(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)}):null,IT.range;const[PT,RT]=OT(IT,MT,wT,hT,lT,sT),[_T,LT]=OT(TT,jT,pT,cT,oT,iT);function $T(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function FT(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function DT(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}var zT,VT,BT,HT={"-":"",_:" ",0:"0"},UT=/^\s*\d+/,WT=/^%/,ZT=/[\\^$*+?|[\]().{}]/g;function GT(e,t,n){var r=e<0?"-":"",a=(r?-e:e)+"",i=a.length;return r+(i<n?new Array(n-i+1).join(t)+a:a)}function KT(e){return e.replace(ZT,"\\$&")}function qT(e){return new RegExp("^(?:"+e.map(KT).join("|")+")","i")}function XT(e){return new Map(e.map((e,t)=>[e.toLowerCase(),t]))}function YT(e,t,n){var r=UT.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function QT(e,t,n){var r=UT.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function JT(e,t,n){var r=UT.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function eI(e,t,n){var r=UT.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function tI(e,t,n){var r=UT.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function nI(e,t,n){var r=UT.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function rI(e,t,n){var r=UT.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function aI(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function iI(e,t,n){var r=UT.exec(t.slice(n,n+1));return r?(e.q=3*r[0]-3,n+r[0].length):-1}function sI(e,t,n){var r=UT.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function oI(e,t,n){var r=UT.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function lI(e,t,n){var r=UT.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function cI(e,t,n){var r=UT.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function uI(e,t,n){var r=UT.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function hI(e,t,n){var r=UT.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function dI(e,t,n){var r=UT.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function pI(e,t,n){var r=UT.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function fI(e,t,n){var r=WT.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function mI(e,t,n){var r=UT.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function gI(e,t,n){var r=UT.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function yI(e,t){return GT(e.getDate(),t,2)}function xI(e,t){return GT(e.getHours(),t,2)}function bI(e,t){return GT(e.getHours()%12||12,t,2)}function vI(e,t){return GT(1+cT.count(TT(e),e),t,3)}function wI(e,t){return GT(e.getMilliseconds(),t,3)}function kI(e,t){return wI(e,t)+"000"}function SI(e,t){return GT(e.getMonth()+1,t,2)}function NI(e,t){return GT(e.getMinutes(),t,2)}function EI(e,t){return GT(e.getSeconds(),t,2)}function AI(e){var t=e.getDay();return 0===t?7:t}function CI(e,t){return GT(pT.count(TT(e)-1,e),t,2)}function jI(e){var t=e.getDay();return t>=4||0===t?yT(e):yT.ceil(e)}function MI(e,t){return e=jI(e),GT(yT.count(TT(e),e)+(4===TT(e).getDay()),t,2)}function TI(e){return e.getDay()}function II(e,t){return GT(fT.count(TT(e)-1,e),t,2)}function OI(e,t){return GT(e.getFullYear()%100,t,2)}function PI(e,t){return GT((e=jI(e)).getFullYear()%100,t,2)}function RI(e,t){return GT(e.getFullYear()%1e4,t,4)}function _I(e,t){var n=e.getDay();return GT((e=n>=4||0===n?yT(e):yT.ceil(e)).getFullYear()%1e4,t,4)}function LI(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+GT(t/60|0,"0",2)+GT(t%60,"0",2)}function $I(e,t){return GT(e.getUTCDate(),t,2)}function FI(e,t){return GT(e.getUTCHours(),t,2)}function DI(e,t){return GT(e.getUTCHours()%12||12,t,2)}function zI(e,t){return GT(1+uT.count(IT(e),e),t,3)}function VI(e,t){return GT(e.getUTCMilliseconds(),t,3)}function BI(e,t){return VI(e,t)+"000"}function HI(e,t){return GT(e.getUTCMonth()+1,t,2)}function UI(e,t){return GT(e.getUTCMinutes(),t,2)}function WI(e,t){return GT(e.getUTCSeconds(),t,2)}function ZI(e){var t=e.getUTCDay();return 0===t?7:t}function GI(e,t){return GT(wT.count(IT(e)-1,e),t,2)}function KI(e){var t=e.getUTCDay();return t>=4||0===t?ET(e):ET.ceil(e)}function qI(e,t){return e=KI(e),GT(ET.count(IT(e),e)+(4===IT(e).getUTCDay()),t,2)}function XI(e){return e.getUTCDay()}function YI(e,t){return GT(kT.count(IT(e)-1,e),t,2)}function QI(e,t){return GT(e.getUTCFullYear()%100,t,2)}function JI(e,t){return GT((e=KI(e)).getUTCFullYear()%100,t,2)}function eO(e,t){return GT(e.getUTCFullYear()%1e4,t,4)}function tO(e,t){var n=e.getUTCDay();return GT((e=n>=4||0===n?ET(e):ET.ceil(e)).getUTCFullYear()%1e4,t,4)}function nO(){return"+0000"}function rO(){return"%"}function aO(e){return+e}function iO(e){return Math.floor(+e/1e3)}function sO(e){return new Date(e)}function oO(e){return e instanceof Date?+e:+new Date(+e)}function lO(e,t,n,r,a,i,s,o,l,c){var u=hM(),h=u.invert,d=u.domain,p=c(".%L"),f=c(":%S"),m=c("%I:%M"),g=c("%I %p"),y=c("%a %d"),x=c("%b %d"),b=c("%B"),v=c("%Y");function w(e){return(l(e)<e?p:o(e)<e?f:s(e)<e?m:i(e)<e?g:r(e)<e?a(e)<e?y:x:n(e)<e?b:v)(e)}return u.invert=function(e){return new Date(h(e))},u.domain=function(e){return arguments.length?d(Array.from(e,oO)):d().map(sO)},u.ticks=function(t){var n=d();return e(n[0],n[n.length-1],null==t?10:t)},u.tickFormat=function(e,t){return null==t?w:c(t)},u.nice=function(e){var n=d();return e&&"function"==typeof e.range||(e=t(n[0],n[n.length-1],null==e?10:e)),e?d(TM(n,e)):u},u.copy=function(){return cM(u,lO(e,t,n,r,a,i,s,o,l,c))},u}function cO(){var e,t,n,r,a,i=0,s=1,o=iM,l=!1;function c(t){return null==t||isNaN(t=+t)?a:o(0===n?.5:(t=(r(t)-e)*n,l?Math.max(0,Math.min(1,t)):t))}function u(e){return function(t){var n,r;return arguments.length?([n,r]=t,o=e(n,r),c):[o(0),o(1)]}}return c.domain=function(a){return arguments.length?([i,s]=a,e=r(i=+i),t=r(s=+s),n=e===t?0:1/(t-e),c):[i,s]},c.clamp=function(e){return arguments.length?(l=!!e,c):l},c.interpolator=function(e){return arguments.length?(o=e,c):o},c.range=u(Kj),c.rangeRound=u(qj),c.unknown=function(e){return arguments.length?(a=e,c):a},function(a){return r=a,e=a(i),t=a(s),n=e===t?0:1/(t-e),c}}function uO(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function hO(){var e=jM(cO()(iM));return e.copy=function(){return uO(e,hO())},XC.apply(e,arguments)}function dO(){var e=UM(cO());return e.copy=function(){return uO(e,dO()).exponent(e.exponent())},XC.apply(e,arguments)}function pO(){var e,t,n,r,a,i,s,o=0,l=.5,c=1,u=1,h=iM,d=!1;function p(e){return isNaN(e=+e)?s:(e=.5+((e=+i(e))-t)*(u*e<u*t?r:a),h(d?Math.max(0,Math.min(1,e)):e))}function f(e){return function(t){var n,r,a;return arguments.length?([n,r,a]=t,h=function(e,t){void 0===t&&(t=e,e=Kj);for(var n=0,r=t.length-1,a=t[0],i=new Array(r<0?0:r);n<r;)i[n]=e(a,a=t[++n]);return function(e){var t=Math.max(0,Math.min(r-1,Math.floor(e*=r)));return i[t](e-t)}}(e,[n,r,a]),p):[h(0),h(.5),h(1)]}}return p.domain=function(s){return arguments.length?([o,l,c]=s,e=i(o=+o),t=i(l=+l),n=i(c=+c),r=e===t?0:.5/(t-e),a=t===n?0:.5/(n-t),u=t<e?-1:1,p):[o,l,c]},p.clamp=function(e){return arguments.length?(d=!!e,p):d},p.interpolator=function(e){return arguments.length?(h=e,p):h},p.range=f(Kj),p.rangeRound=f(qj),p.unknown=function(e){return arguments.length?(s=e,p):s},function(s){return i=s,e=s(o),t=s(l),n=s(c),r=e===t?0:.5/(t-e),a=t===n?0:.5/(n-t),u=t<e?-1:1,p}}function fO(){var e=UM(pO());return e.copy=function(){return uO(e,fO()).exponent(e.exponent())},XC.apply(e,arguments)}!function(e){zT=function(e){var t=e.dateTime,n=e.date,r=e.time,a=e.periods,i=e.days,s=e.shortDays,o=e.months,l=e.shortMonths,c=qT(a),u=XT(a),h=qT(i),d=XT(i),p=qT(s),f=XT(s),m=qT(o),g=XT(o),y=qT(l),x=XT(l),b={a:function(e){return s[e.getDay()]},A:function(e){return i[e.getDay()]},b:function(e){return l[e.getMonth()]},B:function(e){return o[e.getMonth()]},c:null,d:yI,e:yI,f:kI,g:PI,G:_I,H:xI,I:bI,j:vI,L:wI,m:SI,M:NI,p:function(e){return a[+(e.getHours()>=12)]},q:function(e){return 1+~~(e.getMonth()/3)},Q:aO,s:iO,S:EI,u:AI,U:CI,V:MI,w:TI,W:II,x:null,X:null,y:OI,Y:RI,Z:LI,"%":rO},v={a:function(e){return s[e.getUTCDay()]},A:function(e){return i[e.getUTCDay()]},b:function(e){return l[e.getUTCMonth()]},B:function(e){return o[e.getUTCMonth()]},c:null,d:$I,e:$I,f:BI,g:JI,G:tO,H:FI,I:DI,j:zI,L:VI,m:HI,M:UI,p:function(e){return a[+(e.getUTCHours()>=12)]},q:function(e){return 1+~~(e.getUTCMonth()/3)},Q:aO,s:iO,S:WI,u:ZI,U:GI,V:qI,w:XI,W:YI,x:null,X:null,y:QI,Y:eO,Z:nO,"%":rO},w={a:function(e,t,n){var r=p.exec(t.slice(n));return r?(e.w=f.get(r[0].toLowerCase()),n+r[0].length):-1},A:function(e,t,n){var r=h.exec(t.slice(n));return r?(e.w=d.get(r[0].toLowerCase()),n+r[0].length):-1},b:function(e,t,n){var r=y.exec(t.slice(n));return r?(e.m=x.get(r[0].toLowerCase()),n+r[0].length):-1},B:function(e,t,n){var r=m.exec(t.slice(n));return r?(e.m=g.get(r[0].toLowerCase()),n+r[0].length):-1},c:function(e,n,r){return N(e,t,n,r)},d:oI,e:oI,f:pI,g:rI,G:nI,H:cI,I:cI,j:lI,L:dI,m:sI,M:uI,p:function(e,t,n){var r=c.exec(t.slice(n));return r?(e.p=u.get(r[0].toLowerCase()),n+r[0].length):-1},q:iI,Q:mI,s:gI,S:hI,u:QT,U:JT,V:eI,w:YT,W:tI,x:function(e,t,r){return N(e,n,t,r)},X:function(e,t,n){return N(e,r,t,n)},y:rI,Y:nI,Z:aI,"%":fI};function k(e,t){return function(n){var r,a,i,s=[],o=-1,l=0,c=e.length;for(n instanceof Date||(n=new Date(+n));++o<c;)37===e.charCodeAt(o)&&(s.push(e.slice(l,o)),null!=(a=HT[r=e.charAt(++o)])?r=e.charAt(++o):a="e"===r?" ":"0",(i=t[r])&&(r=i(n,a)),s.push(r),l=o+1);return s.push(e.slice(l,o)),s.join("")}}function S(e,t){return function(n){var r,a,i=DT(1900,void 0,1);if(N(i,e,n+="",0)!=n.length)return null;if("Q"in i)return new Date(i.Q);if("s"in i)return new Date(1e3*i.s+("L"in i?i.L:0));if(t&&!("Z"in i)&&(i.Z=0),"p"in i&&(i.H=i.H%12+12*i.p),void 0===i.m&&(i.m="q"in i?i.q:0),"V"in i){if(i.V<1||i.V>53)return null;"w"in i||(i.w=1),"Z"in i?(a=(r=FT(DT(i.y,0,1))).getUTCDay(),r=a>4||0===a?kT.ceil(r):kT(r),r=uT.offset(r,7*(i.V-1)),i.y=r.getUTCFullYear(),i.m=r.getUTCMonth(),i.d=r.getUTCDate()+(i.w+6)%7):(a=(r=$T(DT(i.y,0,1))).getDay(),r=a>4||0===a?fT.ceil(r):fT(r),r=cT.offset(r,7*(i.V-1)),i.y=r.getFullYear(),i.m=r.getMonth(),i.d=r.getDate()+(i.w+6)%7)}else("W"in i||"U"in i)&&("w"in i||(i.w="u"in i?i.u%7:"W"in i?1:0),a="Z"in i?FT(DT(i.y,0,1)).getUTCDay():$T(DT(i.y,0,1)).getDay(),i.m=0,i.d="W"in i?(i.w+6)%7+7*i.W-(a+5)%7:i.w+7*i.U-(a+6)%7);return"Z"in i?(i.H+=i.Z/100|0,i.M+=i.Z%100,FT(i)):$T(i)}}function N(e,t,n,r){for(var a,i,s=0,o=t.length,l=n.length;s<o;){if(r>=l)return-1;if(37===(a=t.charCodeAt(s++))){if(a=t.charAt(s++),!(i=w[a in HT?t.charAt(s++):a])||(r=i(e,n,r))<0)return-1}else if(a!=n.charCodeAt(r++))return-1}return r}return b.x=k(n,b),b.X=k(r,b),b.c=k(t,b),v.x=k(n,v),v.X=k(r,v),v.c=k(t,v),{format:function(e){var t=k(e+="",b);return t.toString=function(){return e},t},parse:function(e){var t=S(e+="",!1);return t.toString=function(){return e},t},utcFormat:function(e){var t=k(e+="",v);return t.toString=function(){return e},t},utcParse:function(e){var t=S(e+="",!0);return t.toString=function(){return e},t}}}(e),VT=zT.format,zT.parse,BT=zT.utcFormat,zT.utcParse}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});const mO=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:JC,scaleDiverging:function e(){var t=jM(pO()(iM));return t.copy=function(){return uO(t,e())},XC.apply(t,arguments)},scaleDivergingLog:function e(){var t=$M(pO()).domain([.1,1,10]);return t.copy=function(){return uO(t,e()).base(t.base())},XC.apply(t,arguments)},scaleDivergingPow:fO,scaleDivergingSqrt:function(){return fO.apply(null,arguments).exponent(.5)},scaleDivergingSymlog:function e(){var t=zM(pO());return t.copy=function(){return uO(t,e()).constant(t.constant())},XC.apply(t,arguments)},scaleIdentity:function e(t){var n;function r(e){return null==e||isNaN(e=+e)?n:e}return r.invert=r,r.domain=r.range=function(e){return arguments.length?(t=Array.from(e,rM),r):t.slice()},r.unknown=function(e){return arguments.length?(n=e,r):n},r.copy=function(){return e(t).unknown(n)},t=arguments.length?Array.from(t,rM):[0,1],jM(r)},scaleImplicit:YC,scaleLinear:MM,scaleLog:function e(){const t=$M(uM()).domain([1,10]);return t.copy=()=>cM(t,e()).base(t.base()),qC.apply(t,arguments),t},scaleOrdinal:QC,scalePoint:tj,scalePow:WM,scaleQuantile:function e(){var t,n=[],r=[],a=[];function i(){var e=0,t=Math.max(1,r.length);for(a=new Array(t-1);++e<t;)a[e-1]=KC(n,e/t);return s}function s(e){return null==e||isNaN(e=+e)?t:r[OC(a,e)]}return s.invertExtent=function(e){var t=r.indexOf(e);return t<0?[NaN,NaN]:[t>0?a[t-1]:n[0],t<a.length?a[t]:n[n.length-1]]},s.domain=function(e){if(!arguments.length)return n.slice();n=[];for(let t of e)null==t||isNaN(t=+t)||n.push(t);return n.sort(CC),i()},s.range=function(e){return arguments.length?(r=Array.from(e),i()):r.slice()},s.unknown=function(e){return arguments.length?(t=e,s):t},s.quantiles=function(){return a.slice()},s.copy=function(){return e().domain(n).range(r).unknown(t)},qC.apply(s,arguments)},scaleQuantize:function e(){var t,n=0,r=1,a=1,i=[.5],s=[0,1];function o(e){return null!=e&&e<=e?s[OC(i,e,0,a)]:t}function l(){var e=-1;for(i=new Array(a);++e<a;)i[e]=((e+1)*r-(e-a)*n)/(a+1);return o}return o.domain=function(e){return arguments.length?([n,r]=e,n=+n,r=+r,l()):[n,r]},o.range=function(e){return arguments.length?(a=(s=Array.from(e)).length-1,l()):s.slice()},o.invertExtent=function(e){var t=s.indexOf(e);return t<0?[NaN,NaN]:t<1?[n,i[0]]:t>=a?[i[a-1],r]:[i[t-1],i[t]]},o.unknown=function(e){return arguments.length?(t=e,o):o},o.thresholds=function(){return i.slice()},o.copy=function(){return e().domain([n,r]).range(s).unknown(t)},qC.apply(jM(o),arguments)},scaleRadial:function e(){var t,n=hM(),r=[0,1],a=!1;function i(e){var r=function(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}(n(e));return isNaN(r)?t:a?Math.round(r):r}return i.invert=function(e){return n.invert(ZM(e))},i.domain=function(e){return arguments.length?(n.domain(e),i):n.domain()},i.range=function(e){return arguments.length?(n.range((r=Array.from(e,rM)).map(ZM)),i):r.slice()},i.rangeRound=function(e){return i.range(e).round(!0)},i.round=function(e){return arguments.length?(a=!!e,i):a},i.clamp=function(e){return arguments.length?(n.clamp(e),i):n.clamp()},i.unknown=function(e){return arguments.length?(t=e,i):t},i.copy=function(){return e(n.domain(),r).round(a).clamp(n.clamp()).unknown(t)},qC.apply(i,arguments),jM(i)},scaleSequential:hO,scaleSequentialLog:function e(){var t=$M(cO()).domain([1,10]);return t.copy=function(){return uO(t,e()).base(t.base())},XC.apply(t,arguments)},scaleSequentialPow:dO,scaleSequentialQuantile:function e(){var t=[],n=iM;function r(e){if(null!=e&&!isNaN(e=+e))return n((OC(t,e,1)-1)/(t.length-1))}return r.domain=function(e){if(!arguments.length)return t.slice();t=[];for(let n of e)null==n||isNaN(n=+n)||t.push(n);return t.sort(CC),r},r.interpolator=function(e){return arguments.length?(n=e,r):n},r.range=function(){return t.map((e,r)=>n(r/(t.length-1)))},r.quantiles=function(e){return Array.from({length:e+1},(n,r)=>function(e,t){if((n=(e=Float64Array.from(function*(e){for(let t of e)null!=t&&(t=+t)>=t&&(yield t)}(e))).length)&&!isNaN(t=+t)){if(t<=0||n<2)return WC(e);if(t>=1)return UC(e);var n,r=(n-1)*t,a=Math.floor(r),i=UC(ZC(e,a).subarray(0,a+1));return i+(WC(e.subarray(a+1))-i)*(r-a)}}(t,r/e))},r.copy=function(){return e(n).domain(t)},XC.apply(r,arguments)},scaleSequentialSqrt:function(){return dO.apply(null,arguments).exponent(.5)},scaleSequentialSymlog:function e(){var t=zM(cO());return t.copy=function(){return uO(t,e()).constant(t.constant())},XC.apply(t,arguments)},scaleSqrt:function(){return WM.apply(null,arguments).exponent(.5)},scaleSymlog:function e(){var t=zM(uM());return t.copy=function(){return cM(t,e()).constant(t.constant())},qC.apply(t,arguments)},scaleThreshold:function e(){var t,n=[.5],r=[0,1],a=1;function i(e){return null!=e&&e<=e?r[OC(n,e,0,a)]:t}return i.domain=function(e){return arguments.length?(n=Array.from(e),a=Math.min(n.length,r.length-1),i):n.slice()},i.range=function(e){return arguments.length?(r=Array.from(e),a=Math.min(n.length,r.length-1),i):r.slice()},i.invertExtent=function(e){var t=r.indexOf(e);return[n[t-1],n[t]]},i.unknown=function(e){return arguments.length?(t=e,i):t},i.copy=function(){return e().domain(n).range(r).unknown(t)},qC.apply(i,arguments)},scaleTime:function(){return qC.apply(lO(_T,LT,TT,jT,pT,cT,oT,iT,aT,VT).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)},scaleUtc:function(){return qC.apply(lO(PT,RT,IT,MT,wT,uT,lT,sT,aT,BT).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)},tickFormat:CM},Symbol.toStringTag,{value:"Module"}));var gO,yO,xO,bO,vO,wO;function kO(){if(yO)return gO;yO=1;var e=Ny();return gO=function(t,n,r){for(var a=-1,i=t.length;++a<i;){var s=t[a],o=n(s);if(null!=o&&(void 0===l?o==o&&!e(o):r(o,l)))var l=o,c=s}return c}}function SO(){if(bO)return xO;return bO=1,xO=function(e,t){return e>t}}const NO=n(function(){if(wO)return vO;wO=1;var e=kO(),t=SO(),n=cN();return vO=function(r){return r&&r.length?e(r,n,t):void 0}}());var EO,AO,CO,jO;function MO(){if(AO)return EO;return AO=1,EO=function(e,t){return e<t}}const TO=n(function(){if(jO)return CO;jO=1;var e=kO(),t=MO(),n=cN();return CO=function(r){return r&&r.length?e(r,n,t):void 0}}());var IO,OO,PO,RO;const _O=n(function(){if(RO)return PO;RO=1;var e=kE(),t=function(){if(OO)return IO;OO=1;var e=Vy(),t=hN(),n=AE(),r=xy();return IO=function(a,i){return(r(a)?e:n)(a,t(i,3))}}();return PO=function(n,r){return e(t(n,r),1)}}());var LO,$O;const FO=n(function(){if($O)return LO;$O=1;var e=aN();return LO=function(t,n){return e(t,n)}}());var DO,zO=1e9,VO=!0,BO="[DecimalError] ",HO=BO+"Invalid argument: ",UO=BO+"Exponent out of range: ",WO=Math.floor,ZO=Math.pow,GO=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,KO=1e7,qO=9007199254740991,XO=WO(1286742750677284.5),YO={};function QO(e,t){var n,r,a,i,s,o,l,c,u=e.constructor,h=u.precision;if(!e.s||!t.s)return t.s||(t=new u(e)),VO?lP(t,h):t;if(l=e.d,c=t.d,s=e.e,a=t.e,l=l.slice(),i=s-a){for(i<0?(r=l,i=-i,o=c.length):(r=c,a=s,o=l.length),i>(o=(s=Math.ceil(h/7))>o?s+1:o+1)&&(i=o,r.length=1),r.reverse();i--;)r.push(0);r.reverse()}for((o=l.length)-(i=c.length)<0&&(i=o,r=c,c=l,l=r),n=0;i;)n=(l[--i]=l[i]+c[i]+n)/KO|0,l[i]%=KO;for(n&&(l.unshift(n),++a),o=l.length;0==l[--o];)l.pop();return t.d=l,t.e=a,VO?lP(t,h):t}function JO(e,t,n){if(e!==~~e||e<t||e>n)throw Error(HO+e)}function eP(e){var t,n,r,a=e.length-1,i="",s=e[0];if(a>0){for(i+=s,t=1;t<a;t++)(n=7-(r=e[t]+"").length)&&(i+=iP(n)),i+=r;(n=7-(r=(s=e[t])+"").length)&&(i+=iP(n))}else if(0===s)return"0";for(;s%10==0;)s/=10;return i+s}YO.absoluteValue=YO.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e},YO.comparedTo=YO.cmp=function(e){var t,n,r,a,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(t=0,n=(r=i.d.length)<(a=e.d.length)?r:a;t<n;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return r===a?0:r>a^i.s<0?1:-1},YO.decimalPlaces=YO.dp=function(){var e=this,t=e.d.length-1,n=7*(t-e.e);if(t=e.d[t])for(;t%10==0;t/=10)n--;return n<0?0:n},YO.dividedBy=YO.div=function(e){return tP(this,new this.constructor(e))},YO.dividedToIntegerBy=YO.idiv=function(e){var t=this.constructor;return lP(tP(this,new t(e),0,1),t.precision)},YO.equals=YO.eq=function(e){return!this.cmp(e)},YO.exponent=function(){return rP(this)},YO.greaterThan=YO.gt=function(e){return this.cmp(e)>0},YO.greaterThanOrEqualTo=YO.gte=function(e){return this.cmp(e)>=0},YO.isInteger=YO.isint=function(){return this.e>this.d.length-2},YO.isNegative=YO.isneg=function(){return this.s<0},YO.isPositive=YO.ispos=function(){return this.s>0},YO.isZero=function(){return 0===this.s},YO.lessThan=YO.lt=function(e){return this.cmp(e)<0},YO.lessThanOrEqualTo=YO.lte=function(e){return this.cmp(e)<1},YO.logarithm=YO.log=function(e){var t,n=this,r=n.constructor,a=r.precision,i=a+5;if(void 0===e)e=new r(10);else if((e=new r(e)).s<1||e.eq(DO))throw Error(BO+"NaN");if(n.s<1)throw Error(BO+(n.s?"NaN":"-Infinity"));return n.eq(DO)?new r(0):(VO=!1,t=tP(sP(n,i),sP(e,i),i),VO=!0,lP(t,a))},YO.minus=YO.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?cP(t,e):QO(t,(e.s=-e.s,e))},YO.modulo=YO.mod=function(e){var t,n=this,r=n.constructor,a=r.precision;if(!(e=new r(e)).s)throw Error(BO+"NaN");return n.s?(VO=!1,t=tP(n,e,0,1).times(e),VO=!0,n.minus(t)):lP(new r(n),a)},YO.naturalExponential=YO.exp=function(){return nP(this)},YO.naturalLogarithm=YO.ln=function(){return sP(this)},YO.negated=YO.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e},YO.plus=YO.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?QO(t,e):cP(t,(e.s=-e.s,e))},YO.precision=YO.sd=function(e){var t,n,r,a=this;if(void 0!==e&&e!==!!e&&1!==e&&0!==e)throw Error(HO+e);if(t=rP(a)+1,n=7*(r=a.d.length-1)+1,r=a.d[r]){for(;r%10==0;r/=10)n--;for(r=a.d[0];r>=10;r/=10)n++}return e&&t>n?t:n},YO.squareRoot=YO.sqrt=function(){var e,t,n,r,a,i,s,o=this,l=o.constructor;if(o.s<1){if(!o.s)return new l(0);throw Error(BO+"NaN")}for(e=rP(o),VO=!1,0==(a=Math.sqrt(+o))||a==1/0?(((t=eP(o.d)).length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=WO((e+1)/2)-(e<0||e%2),r=new l(t=a==1/0?"5e"+e:(t=a.toExponential()).slice(0,t.indexOf("e")+1)+e)):r=new l(a.toString()),a=s=(n=l.precision)+3;;)if(r=(i=r).plus(tP(o,i,s+2)).times(.5),eP(i.d).slice(0,s)===(t=eP(r.d)).slice(0,s)){if(t=t.slice(s-3,s+1),a==s&&"4999"==t){if(lP(i,n+1,0),i.times(i).eq(o)){r=i;break}}else if("9999"!=t)break;s+=4}return VO=!0,lP(r,n)},YO.times=YO.mul=function(e){var t,n,r,a,i,s,o,l,c,u=this,h=u.constructor,d=u.d,p=(e=new h(e)).d;if(!u.s||!e.s)return new h(0);for(e.s*=u.s,n=u.e+e.e,(l=d.length)<(c=p.length)&&(i=d,d=p,p=i,s=l,l=c,c=s),i=[],r=s=l+c;r--;)i.push(0);for(r=c;--r>=0;){for(t=0,a=l+r;a>r;)o=i[a]+p[r]*d[a-r-1]+t,i[a--]=o%KO|0,t=o/KO|0;i[a]=(i[a]+t)%KO|0}for(;!i[--s];)i.pop();return t?++n:i.shift(),e.d=i,e.e=n,VO?lP(e,h.precision):e},YO.toDecimalPlaces=YO.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),void 0===e?n:(JO(e,0,zO),void 0===t?t=r.rounding:JO(t,0,8),lP(n,e+rP(n)+1,t))},YO.toExponential=function(e,t){var n,r=this,a=r.constructor;return void 0===e?n=uP(r,!0):(JO(e,0,zO),void 0===t?t=a.rounding:JO(t,0,8),n=uP(r=lP(new a(r),e+1,t),!0,e+1)),n},YO.toFixed=function(e,t){var n,r,a=this,i=a.constructor;return void 0===e?uP(a):(JO(e,0,zO),void 0===t?t=i.rounding:JO(t,0,8),n=uP((r=lP(new i(a),e+rP(a)+1,t)).abs(),!1,e+rP(r)+1),a.isneg()&&!a.isZero()?"-"+n:n)},YO.toInteger=YO.toint=function(){var e=this,t=e.constructor;return lP(new t(e),rP(e)+1,t.rounding)},YO.toNumber=function(){return+this},YO.toPower=YO.pow=function(e){var t,n,r,a,i,s,o=this,l=o.constructor,c=+(e=new l(e));if(!e.s)return new l(DO);if(!(o=new l(o)).s){if(e.s<1)throw Error(BO+"Infinity");return o}if(o.eq(DO))return o;if(r=l.precision,e.eq(DO))return lP(o,r);if(s=(t=e.e)>=(n=e.d.length-1),i=o.s,s){if((n=c<0?-c:c)<=qO){for(a=new l(DO),t=Math.ceil(r/7+4),VO=!1;n%2&&hP((a=a.times(o)).d,t),0!==(n=WO(n/2));)hP((o=o.times(o)).d,t);return VO=!0,e.s<0?new l(DO).div(a):lP(a,r)}}else if(i<0)throw Error(BO+"NaN");return i=i<0&&1&e.d[Math.max(t,n)]?-1:1,o.s=1,VO=!1,a=e.times(sP(o,r+12)),VO=!0,(a=nP(a)).s=i,a},YO.toPrecision=function(e,t){var n,r,a=this,i=a.constructor;return void 0===e?r=uP(a,(n=rP(a))<=i.toExpNeg||n>=i.toExpPos):(JO(e,1,zO),void 0===t?t=i.rounding:JO(t,0,8),r=uP(a=lP(new i(a),e,t),e<=(n=rP(a))||n<=i.toExpNeg,e)),r},YO.toSignificantDigits=YO.tosd=function(e,t){var n=this.constructor;return void 0===e?(e=n.precision,t=n.rounding):(JO(e,1,zO),void 0===t?t=n.rounding:JO(t,0,8)),lP(new n(this),e,t)},YO.toString=YO.valueOf=YO.val=YO.toJSON=YO[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=rP(e),n=e.constructor;return uP(e,t<=n.toExpNeg||t>=n.toExpPos)};var tP=function(){function e(e,t){var n,r=0,a=e.length;for(e=e.slice();a--;)n=e[a]*t+r,e[a]=n%KO|0,r=n/KO|0;return r&&e.unshift(r),e}function t(e,t,n,r){var a,i;if(n!=r)i=n>r?1:-1;else for(a=i=0;a<n;a++)if(e[a]!=t[a]){i=e[a]>t[a]?1:-1;break}return i}function n(e,t,n){for(var r=0;n--;)e[n]-=r,r=e[n]<t[n]?1:0,e[n]=r*KO+e[n]-t[n];for(;!e[0]&&e.length>1;)e.shift()}return function(r,a,i,s){var o,l,c,u,h,d,p,f,m,g,y,x,b,v,w,k,S,N,E=r.constructor,A=r.s==a.s?1:-1,C=r.d,j=a.d;if(!r.s)return new E(r);if(!a.s)throw Error(BO+"Division by zero");for(l=r.e-a.e,S=j.length,w=C.length,f=(p=new E(A)).d=[],c=0;j[c]==(C[c]||0);)++c;if(j[c]>(C[c]||0)&&--l,(x=null==i?i=E.precision:s?i+(rP(r)-rP(a))+1:i)<0)return new E(0);if(x=x/7+2|0,c=0,1==S)for(u=0,j=j[0],x++;(c<w||u)&&x--;c++)b=u*KO+(C[c]||0),f[c]=b/j|0,u=b%j|0;else{for((u=KO/(j[0]+1)|0)>1&&(j=e(j,u),C=e(C,u),S=j.length,w=C.length),v=S,g=(m=C.slice(0,S)).length;g<S;)m[g++]=0;(N=j.slice()).unshift(0),k=j[0],j[1]>=KO/2&&++k;do{u=0,(o=t(j,m,S,g))<0?(y=m[0],S!=g&&(y=y*KO+(m[1]||0)),(u=y/k|0)>1?(u>=KO&&(u=KO-1),1==(o=t(h=e(j,u),m,d=h.length,g=m.length))&&(u--,n(h,S<d?N:j,d))):(0==u&&(o=u=1),h=j.slice()),(d=h.length)<g&&h.unshift(0),n(m,h,g),-1==o&&(o=t(j,m,S,g=m.length))<1&&(u++,n(m,S<g?N:j,g)),g=m.length):0===o&&(u++,m=[0]),f[c++]=u,o&&m[0]?m[g++]=C[v]||0:(m=[C[v]],g=1)}while((v++<w||void 0!==m[0])&&x--)}return f[0]||f.shift(),p.e=l,lP(p,s?i+rP(p)+1:i)}}();function nP(e,t){var n,r,a,i,s,o=0,l=0,c=e.constructor,u=c.precision;if(rP(e)>16)throw Error(UO+rP(e));if(!e.s)return new c(DO);for(VO=!1,s=u,i=new c(.03125);e.abs().gte(.1);)e=e.times(i),l+=5;for(s+=Math.log(ZO(2,l))/Math.LN10*2+5|0,n=r=a=new c(DO),c.precision=s;;){if(r=lP(r.times(e),s),n=n.times(++o),eP((i=a.plus(tP(r,n,s))).d).slice(0,s)===eP(a.d).slice(0,s)){for(;l--;)a=lP(a.times(a),s);return c.precision=u,null==t?(VO=!0,lP(a,u)):a}a=i}}function rP(e){for(var t=7*e.e,n=e.d[0];n>=10;n/=10)t++;return t}function aP(e,t,n){if(t>e.LN10.sd())throw VO=!0,n&&(e.precision=n),Error(BO+"LN10 precision limit exceeded");return lP(new e(e.LN10),t)}function iP(e){for(var t="";e--;)t+="0";return t}function sP(e,t){var n,r,a,i,s,o,l,c,u,h=1,d=e,p=d.d,f=d.constructor,m=f.precision;if(d.s<1)throw Error(BO+(d.s?"NaN":"-Infinity"));if(d.eq(DO))return new f(0);if(null==t?(VO=!1,c=m):c=t,d.eq(10))return null==t&&(VO=!0),aP(f,c);if(c+=10,f.precision=c,r=(n=eP(p)).charAt(0),i=rP(d),!(Math.abs(i)<15e14))return l=aP(f,c+2,m).times(i+""),d=sP(new f(r+"."+n.slice(1)),c-10).plus(l),f.precision=m,null==t?(VO=!0,lP(d,m)):d;for(;r<7&&1!=r||1==r&&n.charAt(1)>3;)r=(n=eP((d=d.times(e)).d)).charAt(0),h++;for(i=rP(d),r>1?(d=new f("0."+n),i++):d=new f(r+"."+n.slice(1)),o=s=d=tP(d.minus(DO),d.plus(DO),c),u=lP(d.times(d),c),a=3;;){if(s=lP(s.times(u),c),eP((l=o.plus(tP(s,new f(a),c))).d).slice(0,c)===eP(o.d).slice(0,c))return o=o.times(2),0!==i&&(o=o.plus(aP(f,c+2,m).times(i+""))),o=tP(o,new f(h),c),f.precision=m,null==t?(VO=!0,lP(o,m)):o;o=l,a+=2}}function oP(e,t){var n,r,a;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;48===t.charCodeAt(r);)++r;for(a=t.length;48===t.charCodeAt(a-1);)--a;if(t=t.slice(r,a)){if(a-=r,n=n-r-1,e.e=WO(n/7),e.d=[],r=(n+1)%7,n<0&&(r+=7),r<a){for(r&&e.d.push(+t.slice(0,r)),a-=7;r<a;)e.d.push(+t.slice(r,r+=7));r=7-(t=t.slice(r)).length}else r-=a;for(;r--;)t+="0";if(e.d.push(+t),VO&&(e.e>XO||e.e<-XO))throw Error(UO+n)}else e.s=0,e.e=0,e.d=[0];return e}function lP(e,t,n){var r,a,i,s,o,l,c,u,h=e.d;for(s=1,i=h[0];i>=10;i/=10)s++;if((r=t-s)<0)r+=7,a=t,c=h[u=0];else{if((u=Math.ceil((r+1)/7))>=(i=h.length))return e;for(c=i=h[u],s=1;i>=10;i/=10)s++;a=(r%=7)-7+s}if(void 0!==n&&(o=c/(i=ZO(10,s-a-1))%10|0,l=t<0||void 0!==h[u+1]||c%i,l=n<4?(o||l)&&(0==n||n==(e.s<0?3:2)):o>5||5==o&&(4==n||l||6==n&&(r>0?a>0?c/ZO(10,s-a):0:h[u-1])%10&1||n==(e.s<0?8:7))),t<1||!h[0])return l?(i=rP(e),h.length=1,t=t-i-1,h[0]=ZO(10,(7-t%7)%7),e.e=WO(-t/7)||0):(h.length=1,h[0]=e.e=e.s=0),e;if(0==r?(h.length=u,i=1,u--):(h.length=u+1,i=ZO(10,7-r),h[u]=a>0?(c/ZO(10,s-a)%ZO(10,a)|0)*i:0),l)for(;;){if(0==u){(h[0]+=i)==KO&&(h[0]=1,++e.e);break}if(h[u]+=i,h[u]!=KO)break;h[u--]=0,i=1}for(r=h.length;0===h[--r];)h.pop();if(VO&&(e.e>XO||e.e<-XO))throw Error(UO+rP(e));return e}function cP(e,t){var n,r,a,i,s,o,l,c,u,h,d=e.constructor,p=d.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new d(e),VO?lP(t,p):t;if(l=e.d,h=t.d,r=t.e,c=e.e,l=l.slice(),s=c-r){for((u=s<0)?(n=l,s=-s,o=h.length):(n=h,r=c,o=l.length),s>(a=Math.max(Math.ceil(p/7),o)+2)&&(s=a,n.length=1),n.reverse(),a=s;a--;)n.push(0);n.reverse()}else{for((u=(a=l.length)<(o=h.length))&&(o=a),a=0;a<o;a++)if(l[a]!=h[a]){u=l[a]<h[a];break}s=0}for(u&&(n=l,l=h,h=n,t.s=-t.s),o=l.length,a=h.length-o;a>0;--a)l[o++]=0;for(a=h.length;a>s;){if(l[--a]<h[a]){for(i=a;i&&0===l[--i];)l[i]=KO-1;--l[i],l[a]+=KO}l[a]-=h[a]}for(;0===l[--o];)l.pop();for(;0===l[0];l.shift())--r;return l[0]?(t.d=l,t.e=r,VO?lP(t,p):t):new d(0)}function uP(e,t,n){var r,a=rP(e),i=eP(e.d),s=i.length;return t?(n&&(r=n-s)>0?i=i.charAt(0)+"."+i.slice(1)+iP(r):s>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+iP(-a-1)+i,n&&(r=n-s)>0&&(i+=iP(r))):a>=s?(i+=iP(a+1-s),n&&(r=n-a-1)>0&&(i=i+"."+iP(r))):((r=a+1)<s&&(i=i.slice(0,r)+"."+i.slice(r)),n&&(r=n-s)>0&&(a+1===s&&(i+="."),i+=iP(r))),e.s<0?"-"+i:i}function hP(e,t){if(e.length>t)return e.length=t,!0}function dP(e){if(!e||"object"!=typeof e)throw Error(BO+"Object expected");var t,n,r,a=["precision",1,zO,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if(void 0!==(r=e[n=a[t]])){if(!(WO(r)===r&&r>=a[t+1]&&r<=a[t+2]))throw Error(HO+n+": "+r);this[n]=r}if(void 0!==(r=e[n="LN10"])){if(r!=Math.LN10)throw Error(HO+n+": "+r);this[n]=new this(r)}return this}var pP=function e(t){var n,r,a;function i(e){var t=this;if(!(t instanceof i))return new i(e);if(t.constructor=i,e instanceof i)return t.s=e.s,t.e=e.e,void(t.d=(e=e.d)?e.slice():e);if("number"==typeof e){if(0*e!=0)throw Error(HO+e);if(e>0)t.s=1;else{if(!(e<0))return t.s=0,t.e=0,void(t.d=[0]);e=-e,t.s=-1}return e===~~e&&e<1e7?(t.e=0,void(t.d=[e])):oP(t,e.toString())}if("string"!=typeof e)throw Error(HO+e);if(45===e.charCodeAt(0)?(e=e.slice(1),t.s=-1):t.s=1,!GO.test(e))throw Error(HO+e);oP(t,e)}if(i.prototype=YO,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=e,i.config=i.set=dP,void 0===t&&(t={}),t)for(a=["precision","rounding","toExpNeg","toExpPos","LN10"],n=0;n<a.length;)t.hasOwnProperty(r=a[n++])||(t[r]=this[r]);return i.config(t),i}({precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"});DO=new pP(1);const fP=pP;function mP(e){return function(e){if(Array.isArray(e))return gP(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return gP(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return gP(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function gP(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var yP=function(e){return e},xP={},bP=function(e){return e===xP},vP=function(e){return function t(){return 0===arguments.length||1===arguments.length&&bP(arguments.length<=0?void 0:arguments[0])?t:e.apply(void 0,arguments)}},wP=function e(t,n){return 1===t?n:vP(function(){for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];var s=a.filter(function(e){return e!==xP}).length;return s>=t?n.apply(void 0,a):e(t-s,vP(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=a.map(function(e){return bP(e)?t.shift():e});return n.apply(void 0,mP(i).concat(t))}))})},kP=function(e){return wP(e.length,e)},SP=function(e,t){for(var n=[],r=e;r<t;++r)n[r-e]=r;return n},NP=kP(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(e){return t[e]}).map(e)}),EP=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},AP=function(e){var t=null,n=null;return function(){for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return t&&a.every(function(e,n){return e===t[n]})?n:(t=a,n=e.apply(void 0,a))}};var CP=kP(function(e,t,n){var r=+e;return r+n*(+t-r)});const jP={rangeStep:function(e,t,n){for(var r=new fP(e),a=0,i=[];r.lt(t)&&a<1e5;)i.push(r.toNumber()),r=r.add(n),a++;return i},getDigitCount:function(e){return 0===e?1:Math.floor(new fP(e).abs().log(10).toNumber())+1},interpolateNumber:CP,uninterpolateNumber:kP(function(e,t,n){var r=t-+e;return(n-e)/(r=r||1/0)}),uninterpolateTruncation:kP(function(e,t,n){var r=t-+e;return r=r||1/0,Math.max(0,Math.min(1,(n-e)/r))})};function MP(e){return function(e){if(Array.isArray(e))return OP(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||IP(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function TP(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,i=void 0;try{for(var s,o=e[Symbol.iterator]();!(r=(s=o.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(l){a=!0,i=l}finally{try{r||null==o.return||o.return()}finally{if(a)throw i}}return n}(e,t)||IP(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function IP(e,t){if(e){if("string"==typeof e)return OP(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?OP(e,t):void 0}}function OP(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function PP(e){var t=TP(e,2),n=t[0],r=t[1],a=n,i=r;return n>r&&(a=r,i=n),[a,i]}function RP(e,t,n){if(e.lte(0))return new fP(0);var r=jP.getDigitCount(e.toNumber()),a=new fP(10).pow(r),i=e.div(a),s=1!==r?.05:.1,o=new fP(Math.ceil(i.div(s).toNumber())).add(n).mul(s).mul(a);return t?o:new fP(Math.ceil(o))}function _P(e,t,n){var r=1,a=new fP(e);if(!a.isint()&&n){var i=Math.abs(e);i<1?(r=new fP(10).pow(jP.getDigitCount(e)-1),a=new fP(Math.floor(a.div(r).toNumber())).mul(r)):i>1&&(a=new fP(Math.floor(e)))}else 0===e?a=new fP(Math.floor((t-1)/2)):n||(a=new fP(Math.floor(e)));var s=Math.floor((t-1)/2),o=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(!t.length)return yP;var r=t.reverse(),a=r[0],i=r.slice(1);return function(){return i.reduce(function(e,t){return t(e)},a.apply(void 0,arguments))}}(NP(function(e){return a.add(new fP(e-s).mul(r)).toNumber()}),SP);return o(0,t)}function LP(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;if(!Number.isFinite((t-e)/(n-1)))return{step:new fP(0),tickMin:new fP(0),tickMax:new fP(0)};var i,s=RP(new fP(t).sub(e).div(n-1),r,a);i=e<=0&&t>=0?new fP(0):(i=new fP(e).add(t).div(2)).sub(new fP(i).mod(s));var o=Math.ceil(i.sub(e).div(s).toNumber()),l=Math.ceil(new fP(t).sub(i).div(s).toNumber()),c=o+l+1;return c>n?LP(e,t,n,r,a+1):(c<n&&(l=t>0?l+(n-c):l,o=t>0?o:o+(n-c)),{step:s,tickMin:i.sub(new fP(o).mul(s)),tickMax:i.add(new fP(l).mul(s))})}var $P=AP(function(e){var t=TP(e,2),n=t[0],r=t[1],a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],s=Math.max(a,2),o=TP(PP([n,r]),2),l=o[0],c=o[1];if(l===-1/0||c===1/0){var u=c===1/0?[l].concat(MP(SP(0,a-1).map(function(){return 1/0}))):[].concat(MP(SP(0,a-1).map(function(){return-1/0})),[c]);return n>r?EP(u):u}if(l===c)return _P(l,a,i);var h=LP(l,c,s,i),d=h.step,p=h.tickMin,f=h.tickMax,m=jP.rangeStep(p,f.add(new fP(.1).mul(d)),d);return n>r?EP(m):m}),FP=AP(function(e,t){var n=TP(e,2),r=n[0],a=n[1],i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],s=TP(PP([r,a]),2),o=s[0],l=s[1];if(o===-1/0||l===1/0)return[r,a];if(o===l)return[o];var c=Math.max(t,2),u=RP(new fP(l).sub(o).div(c-1),i,0),h=[].concat(MP(jP.rangeStep(new fP(o),new fP(l).sub(new fP(.99).mul(u)),u)),[l]);return r>a?EP(h):h});function DP(e,t){throw new Error("Invariant failed")}var zP=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function VP(e){return(VP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function BP(){return BP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},BP.apply(this,arguments)}function HP(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i,s,o=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t);else for(;!(l=(r=i.call(n)).done)&&(o.push(r.value),o.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return UP(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return UP(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function UP(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function WP(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function ZP(e,t,n){return t&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,QP(r.key),r)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function GP(e,t,n){return t=qP(t),function(e,t){if(t&&("object"===VP(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,KP()?Reflect.construct(t,n||[],qP(e).constructor):t.apply(e,n))}function KP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(KP=function(){return!!e})()}function qP(e){return(qP=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function XP(e,t){return(XP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function YP(e,t,n){return(t=QP(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function QP(e){var t=function(e,t){if("object"!=VP(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=VP(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==VP(t)?t:t+""}var JP=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),GP(this,e,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&XP(e,t)}(e,P.Component),ZP(e,[{key:"render",value:function(){var e=this.props,t=e.offset,n=e.layout,r=e.width,a=e.dataKey,i=e.data,s=e.dataPointFormatter,o=e.xAxis,l=e.yAxis,c=WP(e,zP),u=Gx(c,!1);"x"===this.props.direction&&"number"!==o.type&&DP();var h=i.map(function(e){var i=s(e,a),c=i.x,h=i.y,d=i.value,p=i.errorVal;if(!p)return null;var f,m,g=[];if(Array.isArray(p)){var y=HP(p,2);f=y[0],m=y[1]}else f=m=p;if("vertical"===n){var x=o.scale,b=h+t,v=b+r,w=b-r,k=x(d-f),S=x(d+m);g.push({x1:S,y1:v,x2:S,y2:w}),g.push({x1:k,y1:b,x2:S,y2:b}),g.push({x1:k,y1:v,x2:k,y2:w})}else if("horizontal"===n){var N=l.scale,E=c+t,A=E-r,C=E+r,j=N(d-f),M=N(d+m);g.push({x1:A,y1:M,x2:C,y2:M}),g.push({x1:E,y1:j,x2:E,y2:M}),g.push({x1:A,y1:j,x2:C,y2:j})}return P.createElement(vb,BP({className:"recharts-errorBar",key:"bar-".concat(g.map(function(e){return"".concat(e.x1,"-").concat(e.x2,"-").concat(e.y1,"-").concat(e.y2)}))},u),g.map(function(e){return P.createElement("line",BP({},e,{key:"line-".concat(e.x1,"-").concat(e.x2,"-").concat(e.y1,"-").concat(e.y2)}))}))});return P.createElement(vb,{className:"recharts-errorBars"},h)}}])}();function eR(e){return(eR="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function tR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function nR(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tR(Object(n),!0).forEach(function(t){rR(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tR(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function rR(e,t,n){var r;return r=function(e,t){if("object"!=eR(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=eR(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==eR(r)?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}YP(JP,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"}),YP(JP,"displayName","ErrorBar");var aR=function(e){var t=e.children,n=e.formattedGraphicalItems,r=e.legendWidth,a=e.legendContent,i=Hx(t,wE);if(!i)return null;var s,o=wE.defaultProps,l=void 0!==o?nR(nR({},o),i.props):{};return s=i.props&&i.props.payload?i.props&&i.props.payload:"children"===a?(n||[]).reduce(function(e,t){var n=t.item,r=t.props,a=r.sectors||r.data||[];return e.concat(a.map(function(e){return{type:i.props.iconType||n.props.legendType,value:e.name,color:e.fill,payload:e}}))},[]):(n||[]).map(function(e){var t=e.item,n=t.type.defaultProps,r=void 0!==n?nR(nR({},n),t.props):{},a=r.dataKey,i=r.name,s=r.legendType;return{inactive:r.hide,dataKey:a,type:l.iconType||s||"square",color:pR(t),value:i||a,payload:r}}),nR(nR(nR({},l),wE.getWithHeight(i,r)),{},{payload:s,item:i})};function iR(e){return(iR="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function sR(e){return function(e){if(Array.isArray(e))return oR(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return oR(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return oR(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function oR(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function lR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function cR(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?lR(Object(n),!0).forEach(function(t){uR(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lR(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function uR(e,t,n){var r;return r=function(e,t){if("object"!=iR(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=iR(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==iR(r)?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hR(e,t,n){return Xy(e)||Xy(t)?n:yx(t)?Gy(e,t,n):ex(t)?t(e):n}function dR(e,t,n,r){var a=_O(e,function(e){return hR(e,t)});if("number"===n){var i=a.filter(function(e){return gx(e)||parseFloat(e)});return i.length?[TO(i),NO(i)]:[1/0,-1/0]}return(r?a.filter(function(e){return!Xy(e)}):a).map(function(e){return yx(e)||e instanceof Date?e:""})}var pR=function(e){var t,n,r=e.type.displayName,a=null!==(t=e.type)&&void 0!==t&&t.defaultProps?cR(cR({},e.type.defaultProps),e.props):e.props,i=a.stroke,s=a.fill;switch(r){case"Line":n=i;break;case"Area":case"Radar":n=i&&"none"!==i?i:s;break;default:n=s}return n},fR=function(e,t,n,r,a){var i=Bx(t.props.children,JP).filter(function(e){return function(e,t,n){return!!Xy(t)||("horizontal"===e?"yAxis"===t:"vertical"===e||"x"===n?"xAxis"===t:"y"!==n||"yAxis"===t)}(r,a,e.props.direction)});if(i&&i.length){var s=i.map(function(e){return e.props.dataKey});return e.reduce(function(e,t){var r=hR(t,n);if(Xy(r))return e;var a=Array.isArray(r)?[TO(r),NO(r)]:[r,r],i=s.reduce(function(e,n){var r=hR(t,n,0),i=a[0]-Math.abs(Array.isArray(r)?r[0]:r),s=a[1]+Math.abs(Array.isArray(r)?r[1]:r);return[Math.min(i,e[0]),Math.max(s,e[1])]},[1/0,-1/0]);return[Math.min(i[0],e[0]),Math.max(i[1],e[1])]},[1/0,-1/0])}return null},mR=function(e,t,n,r,a){var i=t.map(function(t){var i=t.props.dataKey;return"number"===n&&i&&fR(e,t,i,r)||dR(e,i,n,a)});if("number"===n)return i.reduce(function(e,t){return[Math.min(e[0],t[0]),Math.max(e[1],t[1])]},[1/0,-1/0]);var s={};return i.reduce(function(e,t){for(var n=0,r=t.length;n<r;n++)s[t[n]]||(s[t[n]]=!0,e.push(t[n]));return e},[])},gR=function(e,t){return"horizontal"===e&&"xAxis"===t||"vertical"===e&&"yAxis"===t||"centric"===e&&"angleAxis"===t||"radial"===e&&"radiusAxis"===t},yR=function(e,t,n,r){if(r)return e.map(function(e){return e.coordinate});var a,i,s=e.map(function(e){return e.coordinate===t&&(a=!0),e.coordinate===n&&(i=!0),e.coordinate});return a||s.push(t),i||s.push(n),s},xR=function(e,t,n){if(!e)return null;var r=e.scale,a=e.duplicateDomain,i=e.type,s=e.range,o="scaleBand"===e.realScaleType?r.bandwidth()/2:2,l=(t||n)&&"category"===i&&r.bandwidth?r.bandwidth()/o:0;return l="angleAxis"===e.axisType&&(null==s?void 0:s.length)>=2?2*fx(s[0]-s[1])*l:l,t&&(e.ticks||e.niceTicks)?(e.ticks||e.niceTicks).map(function(e){var t=a?a.indexOf(e):e;return{coordinate:r(t)+l,value:e,offset:l}}).filter(function(e){return!dx(e.coordinate)}):e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(e,t){return{coordinate:r(e)+l,value:e,index:t,offset:l}}):r.ticks&&!n?r.ticks(e.tickCount).map(function(e){return{coordinate:r(e)+l,value:e,offset:l}}):r.domain().map(function(e,t){return{coordinate:r(e)+l,value:a?a[e]:e,index:t,offset:l}})},bR=new WeakMap,vR=function(e,t){if("function"!=typeof t)return e;bR.has(e)||bR.set(e,new WeakMap);var n=bR.get(e);if(n.has(t))return n.get(t);var r=function(){e.apply(void 0,arguments),t.apply(void 0,arguments)};return n.set(t,r),r},wR=function(e,t,n){var r=e.scale,a=e.type,i=e.layout,s=e.axisType;if("auto"===r)return"radial"===i&&"radiusAxis"===s?{scale:JC(),realScaleType:"band"}:"radial"===i&&"angleAxis"===s?{scale:MM(),realScaleType:"linear"}:"category"===a&&t&&(t.indexOf("LineChart")>=0||t.indexOf("AreaChart")>=0||t.indexOf("ComposedChart")>=0&&!n)?{scale:tj(),realScaleType:"point"}:"category"===a?{scale:JC(),realScaleType:"band"}:{scale:MM(),realScaleType:"linear"};if(Jy(r)){var o="scale".concat(Eb(r));return{scale:(mO[o]||tj)(),realScaleType:mO[o]?o:"point"}}return ex(r)?{scale:r}:{scale:tj(),realScaleType:"point"}},kR=1e-4,SR=function(e){var t=e.domain();if(t&&!(t.length<=2)){var n=t.length,r=e.range(),a=Math.min(r[0],r[1])-kR,i=Math.max(r[0],r[1])+kR,s=e(t[0]),o=e(t[n-1]);(s<a||s>i||o<a||o>i)&&e.domain([t[0],t[n-1]])}},NR={sign:function(e){var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var a=0,i=0,s=0;s<t;++s){var o=dx(e[s][n][1])?e[s][n][0]:e[s][n][1];o>=0?(e[s][n][0]=a,e[s][n][1]=a+o,a=e[s][n][1]):(e[s][n][0]=i,e[s][n][1]=i+o,i=e[s][n][1])}},expand:function(e,t){if((r=e.length)>0){for(var n,r,a,i=0,s=e[0].length;i<s;++i){for(a=n=0;n<r;++n)a+=e[n][i][1]||0;if(a)for(n=0;n<r;++n)e[n][i][1]/=a}Av(e,t)}},none:Av,silhouette:function(e,t){if((n=e.length)>0){for(var n,r=0,a=e[t[0]],i=a.length;r<i;++r){for(var s=0,o=0;s<n;++s)o+=e[s][r][1]||0;a[r][1]+=a[r][0]=-o/2}Av(e,t)}},wiggle:function(e,t){if((a=e.length)>0&&(r=(n=e[t[0]]).length)>0){for(var n,r,a,i=0,s=1;s<r;++s){for(var o=0,l=0,c=0;o<a;++o){for(var u=e[t[o]],h=u[s][1]||0,d=(h-(u[s-1][1]||0))/2,p=0;p<o;++p){var f=e[t[p]];d+=(f[s][1]||0)-(f[s-1][1]||0)}l+=h,c+=d*h}n[s-1][1]+=n[s-1][0]=i,l&&(i-=c/l)}n[s-1][1]+=n[s-1][0]=i,Av(e,t)}},positive:function(e){var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var a=0,i=0;i<t;++i){var s=dx(e[i][n][1])?e[i][n][0]:e[i][n][1];s>=0?(e[i][n][0]=a,e[i][n][1]=a+s,a=e[i][n][1]):(e[i][n][0]=0,e[i][n][1]=0)}}},ER=function(e,t,n){var r=t.map(function(e){return e.props.dataKey}),a=NR[n],i=function(){var e=Ab([]),t=Cv,n=Av,r=jv;function a(a){var i,s,o=Array.from(e.apply(this,arguments),Mv),l=o.length,c=-1;for(const e of a)for(i=0,++c;i<l;++i)(o[i][c]=[0,+r(e,o[i].key,c,a)]).data=e;for(i=0,s=Db(t(o));i<l;++i)o[s[i]].index=i;return n(o,s),o}return a.keys=function(t){return arguments.length?(e="function"==typeof t?t:Ab(Array.from(t)),a):e},a.value=function(e){return arguments.length?(r="function"==typeof e?e:Ab(+e),a):r},a.order=function(e){return arguments.length?(t=null==e?Cv:"function"==typeof e?e:Ab(Array.from(e)),a):t},a.offset=function(e){return arguments.length?(n=null==e?Av:e,a):n},a}().keys(r).value(function(e,t){return+hR(e,t,0)}).order(Cv).offset(a);return i(e)},AR=function(e,t){var n=t.realScaleType,r=t.type,a=t.tickCount,i=t.originalDomain,s=t.allowDecimals,o=n||t.scale;if("auto"!==o&&"linear"!==o)return null;if(a&&"number"===r&&i&&("auto"===i[0]||"auto"===i[1])){var l=e.domain();if(!l.length)return null;var c=$P(l,a,s);return e.domain([TO(c),NO(c)]),{niceTicks:c}}if(a&&"number"===r){var u=e.domain();return{niceTicks:FP(u,a,s)}}return null};function CR(e){var t=e.axis,n=e.ticks,r=e.bandSize,a=e.entry,i=e.index,s=e.dataKey;if("category"===t.type){if(!t.allowDuplicatedCategory&&t.dataKey&&!Xy(a[t.dataKey])){var o=Sx(n,"value",a[t.dataKey]);if(o)return o.coordinate+r/2}return n[i]?n[i].coordinate+r/2:null}var l=hR(a,Xy(s)?t.dataKey:s);return Xy(l)?null:t.scale(l)}var jR=function(e){var t=e.axis,n=e.ticks,r=e.offset,a=e.bandSize,i=e.entry,s=e.index;if("category"===t.type)return n[s]?n[s].coordinate+r:null;var o=hR(i,t.dataKey,t.domain[s]);return Xy(o)?null:t.scale(o)-a/2+r},MR=function(e,t,n){return Object.keys(e).reduce(function(r,a){var i=e[a].stackedData.reduce(function(e,r){var a=r.slice(t,n+1).reduce(function(e,t){return[TO(t.concat([e[0]]).filter(gx)),NO(t.concat([e[1]]).filter(gx))]},[1/0,-1/0]);return[Math.min(e[0],a[0]),Math.max(e[1],a[1])]},[1/0,-1/0]);return[Math.min(i[0],r[0]),Math.max(i[1],r[1])]},[1/0,-1/0]).map(function(e){return e===1/0||e===-1/0?0:e})},TR=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,IR=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,OR=function(e,t,n){if(ex(e))return e(t,n);if(!Array.isArray(e))return t;var r=[];if(gx(e[0]))r[0]=n?e[0]:Math.min(e[0],t[0]);else if(TR.test(e[0])){var a=+TR.exec(e[0])[1];r[0]=t[0]-a}else ex(e[0])?r[0]=e[0](t[0]):r[0]=t[0];if(gx(e[1]))r[1]=n?e[1]:Math.max(e[1],t[1]);else if(IR.test(e[1])){var i=+IR.exec(e[1])[1];r[1]=t[1]+i}else ex(e[1])?r[1]=e[1](t[1]):r[1]=t[1];return r},PR=function(e,t,n){if(e&&e.scale&&e.scale.bandwidth){var r=e.scale.bandwidth();if(!n||r>0)return r}if(e&&t&&t.length>=2){for(var a=RE(t,function(e){return e.coordinate}),i=1/0,s=1,o=a.length;s<o;s++){var l=a[s],c=a[s-1];i=Math.min((l.coordinate||0)-(c.coordinate||0),i)}return i===1/0?0:i}return n?void 0:0},RR=function(e,t,n){return e&&e.length?FO(e,Gy(n,"type.defaultProps.domain"))?t:e:t},_R=function(e,t){var n=e.type.defaultProps?cR(cR({},e.type.defaultProps),e.props):e.props,r=n.dataKey,a=n.name,i=n.unit,s=n.formatter,o=n.tooltipType,l=n.chartType,c=n.hide;return cR(cR({},Gx(e,!1)),{},{dataKey:r,unit:i,formatter:s,name:a||r,color:pR(e),value:hR(t,r),type:o,payload:t,chartType:l,hide:c})};function LR(e){return(LR="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $R(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function FR(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$R(Object(n),!0).forEach(function(t){DR(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$R(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function DR(e,t,n){var r;return r=function(e,t){if("object"!=LR(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=LR(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==LR(r)?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zR(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i,s,o=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t);else for(;!(l=(r=i.call(n)).done)&&(o.push(r.value),o.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return VR(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return VR(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function VR(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var BR=Math.PI/180,HR=function(e){return 180*e/Math.PI},UR=function(e,t,n,r){return{x:e+Math.cos(-BR*r)*n,y:t+Math.sin(-BR*r)*n}},WR=function(e,t){var n=e.x,r=e.y,a=t.cx,i=t.cy,s=function(e,t){var n=e.x,r=e.y,a=t.x,i=t.y;return Math.sqrt(Math.pow(n-a,2)+Math.pow(r-i,2))}({x:n,y:r},{x:a,y:i});if(s<=0)return{radius:s};var o=(n-a)/s,l=Math.acos(o);return r>i&&(l=2*Math.PI-l),{radius:s,angle:HR(l),angleInRadian:l}},ZR=function(e,t){var n=t.startAngle,r=t.endAngle,a=Math.floor(n/360),i=Math.floor(r/360);return e+360*Math.min(a,i)},GR=function(e,t){var n=e.x,r=e.y,a=WR({x:n,y:r},t),i=a.radius,s=a.angle,o=t.innerRadius,l=t.outerRadius;if(i<o||i>l)return!1;if(0===i)return!0;var c,u=function(e){var t=e.startAngle,n=e.endAngle,r=Math.floor(t/360),a=Math.floor(n/360),i=Math.min(r,a);return{startAngle:t-360*i,endAngle:n-360*i}}(t),h=u.startAngle,d=u.endAngle,p=s;if(h<=d){for(;p>d;)p-=360;for(;p<h;)p+=360;c=p>=h&&p<=d}else{for(;p>h;)p-=360;for(;p<d;)p+=360;c=p>=d&&p<=h}return c?FR(FR({},t),{},{radius:i,angle:ZR(p,t)}):null},KR=function(e){return O.isValidElement(e)||ex(e)||"boolean"==typeof e?"":e.className};function qR(e){return(qR="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var XR=["offset"];function YR(e){return function(e){if(Array.isArray(e))return QR(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return QR(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return QR(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function QR(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function JR(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function e_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function t_(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?e_(Object(n),!0).forEach(function(t){n_(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):e_(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function n_(e,t,n){var r;return r=function(e,t){if("object"!=qR(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=qR(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==qR(r)?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r_(){return r_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r_.apply(this,arguments)}var a_=function(e,t,n){var r,a,i=e.position,s=e.viewBox,o=e.offset,l=e.className,c=s,u=c.cx,h=c.cy,d=c.innerRadius,p=c.outerRadius,f=c.startAngle,m=c.endAngle,g=c.clockWise,y=(d+p)/2,x=function(e,t){return fx(t-e)*Math.min(Math.abs(t-e),360)}(f,m),b=x>=0?1:-1;"insideStart"===i?(r=f+b*o,a=g):"insideEnd"===i?(r=m-b*o,a=!g):"end"===i&&(r=m+b*o,a=g),a=x<=0?a:!a;var v=UR(u,h,y,r),w=UR(u,h,y,r+359*(a?1:-1)),k="M".concat(v.x,",").concat(v.y,"\n    A").concat(y,",").concat(y,",0,1,").concat(a?0:1,",\n    ").concat(w.x,",").concat(w.y),S=Xy(e.id)?bx("recharts-radial-line-"):e.id;return P.createElement("text",r_({},n,{dominantBaseline:"central",className:Lt("recharts-radial-bar-label",l)}),P.createElement("defs",null,P.createElement("path",{id:S,d:k})),P.createElement("textPath",{xlinkHref:"#".concat(S)},t))};function i_(e){var t,n=e.offset,r=t_({offset:void 0===n?5:n},JR(e,XR)),a=r.viewBox,i=r.position,s=r.value,o=r.children,l=r.content,c=r.className,u=void 0===c?"":c,h=r.textBreakAll;if(!a||Xy(s)&&Xy(o)&&!O.isValidElement(l)&&!ex(l))return null;if(O.isValidElement(l))return O.cloneElement(l,r);if(ex(l)){if(t=O.createElement(l,r),O.isValidElement(t))return t}else t=function(e){var t=e.value,n=e.formatter,r=Xy(e.children)?t:e.children;return ex(n)?n(r):r}(r);var d=function(e){return"cx"in e&&gx(e.cx)}(a),p=Gx(r,!0);if(d&&("insideStart"===i||"insideEnd"===i||"end"===i))return a_(r,t,p);var f=d?function(e){var t=e.viewBox,n=e.offset,r=e.position,a=t,i=a.cx,s=a.cy,o=a.innerRadius,l=a.outerRadius,c=(a.startAngle+a.endAngle)/2;if("outside"===r){var u=UR(i,s,l+n,c),h=u.x;return{x:h,y:u.y,textAnchor:h>=i?"start":"end",verticalAnchor:"middle"}}if("center"===r)return{x:i,y:s,textAnchor:"middle",verticalAnchor:"middle"};if("centerTop"===r)return{x:i,y:s,textAnchor:"middle",verticalAnchor:"start"};if("centerBottom"===r)return{x:i,y:s,textAnchor:"middle",verticalAnchor:"end"};var d=UR(i,s,(o+l)/2,c);return{x:d.x,y:d.y,textAnchor:"middle",verticalAnchor:"middle"}}(r):function(e){var t=e.viewBox,n=e.parentViewBox,r=e.offset,a=e.position,i=t,s=i.x,o=i.y,l=i.width,c=i.height,u=c>=0?1:-1,h=u*r,d=u>0?"end":"start",p=u>0?"start":"end",f=l>=0?1:-1,m=f*r,g=f>0?"end":"start",y=f>0?"start":"end";if("top"===a)return t_(t_({},{x:s+l/2,y:o-u*r,textAnchor:"middle",verticalAnchor:d}),n?{height:Math.max(o-n.y,0),width:l}:{});if("bottom"===a)return t_(t_({},{x:s+l/2,y:o+c+h,textAnchor:"middle",verticalAnchor:p}),n?{height:Math.max(n.y+n.height-(o+c),0),width:l}:{});if("left"===a){var x={x:s-m,y:o+c/2,textAnchor:g,verticalAnchor:"middle"};return t_(t_({},x),n?{width:Math.max(x.x-n.x,0),height:c}:{})}if("right"===a){var b={x:s+l+m,y:o+c/2,textAnchor:y,verticalAnchor:"middle"};return t_(t_({},b),n?{width:Math.max(n.x+n.width-b.x,0),height:c}:{})}var v=n?{width:l,height:c}:{};return"insideLeft"===a?t_({x:s+m,y:o+c/2,textAnchor:y,verticalAnchor:"middle"},v):"insideRight"===a?t_({x:s+l-m,y:o+c/2,textAnchor:g,verticalAnchor:"middle"},v):"insideTop"===a?t_({x:s+l/2,y:o+h,textAnchor:"middle",verticalAnchor:p},v):"insideBottom"===a?t_({x:s+l/2,y:o+c-h,textAnchor:"middle",verticalAnchor:d},v):"insideTopLeft"===a?t_({x:s+m,y:o+h,textAnchor:y,verticalAnchor:p},v):"insideTopRight"===a?t_({x:s+l-m,y:o+h,textAnchor:g,verticalAnchor:p},v):"insideBottomLeft"===a?t_({x:s+m,y:o+c-h,textAnchor:y,verticalAnchor:d},v):"insideBottomRight"===a?t_({x:s+l-m,y:o+c-h,textAnchor:g,verticalAnchor:d},v):tx(a)&&(gx(a.x)||mx(a.x))&&(gx(a.y)||mx(a.y))?t_({x:s+vx(a.x,l),y:o+vx(a.y,c),textAnchor:"end",verticalAnchor:"end"},v):t_({x:s+l/2,y:o+c/2,textAnchor:"middle",verticalAnchor:"middle"},v)}(r);return P.createElement(AC,r_({className:Lt("recharts-label",u)},p,f,{breakAll:h}),t)}i_.displayName="Label";var s_,o_,l_=function(e){var t=e.cx,n=e.cy,r=e.angle,a=e.startAngle,i=e.endAngle,s=e.r,o=e.radius,l=e.innerRadius,c=e.outerRadius,u=e.x,h=e.y,d=e.top,p=e.left,f=e.width,m=e.height,g=e.clockWise,y=e.labelViewBox;if(y)return y;if(gx(f)&&gx(m)){if(gx(u)&&gx(h))return{x:u,y:h,width:f,height:m};if(gx(d)&&gx(p))return{x:d,y:p,width:f,height:m}}return gx(u)&&gx(h)?{x:u,y:h,width:0,height:0}:gx(t)&&gx(n)?{cx:t,cy:n,startAngle:a||r||0,endAngle:i||r||0,innerRadius:l||0,outerRadius:c||o||s||0,clockWise:g}:e.viewBox?e.viewBox:{}};i_.parseViewBox=l_,i_.renderCallByParent=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!e||!e.children&&n&&!e.label)return null;var r=e.children,a=l_(e),i=Bx(r,i_).map(function(e,n){return O.cloneElement(e,{viewBox:t||a,key:"label-".concat(n)})});if(!n)return i;var s=function(e,t){return e?!0===e?P.createElement(i_,{key:"label-implicit",viewBox:t}):yx(e)?P.createElement(i_,{key:"label-implicit",viewBox:t,value:e}):O.isValidElement(e)?e.type===i_?O.cloneElement(e,{key:"label-implicit",viewBox:t}):P.createElement(i_,{key:"label-implicit",content:e,viewBox:t}):ex(e)?P.createElement(i_,{key:"label-implicit",content:e,viewBox:t}):tx(e)?P.createElement(i_,r_({viewBox:t},e,{key:"label-implicit"})):null:null}(e.label,t||a);return[s].concat(YR(i))};const c_=n(o_?s_:(o_=1,s_=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}));function u_(e){return(u_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var h_=["valueAccessor"],d_=["data","dataKey","clockWise","id","textBreakAll"];function p_(e){return function(e){if(Array.isArray(e))return f_(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return f_(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f_(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f_(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function m_(){return m_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},m_.apply(this,arguments)}function g_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function y_(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g_(Object(n),!0).forEach(function(t){x_(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g_(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function x_(e,t,n){var r;return r=function(e,t){if("object"!=u_(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=u_(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==u_(r)?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b_(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var v_=function(e){return Array.isArray(e.value)?c_(e.value):e.value};function w_(e){var t=e.valueAccessor,n=void 0===t?v_:t,r=b_(e,h_),a=r.data,i=r.dataKey,s=r.clockWise,o=r.id,l=r.textBreakAll,c=b_(r,d_);return a&&a.length?P.createElement(vb,{className:"recharts-label-list"},a.map(function(e,t){var r=Xy(i)?n(e,t):hR(e&&e.payload,i),a=Xy(o)?{}:{id:"".concat(o,"-").concat(t)};return P.createElement(i_,m_({},Gx(e,!0),c,a,{parentViewBox:e.parentViewBox,value:r,textBreakAll:l,viewBox:i_.parseViewBox(Xy(s)?e:y_(y_({},e),{},{clockWise:s})),key:"label-".concat(t),index:t}))})):null}function k_(e){return(k_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function S_(){return S_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},S_.apply(this,arguments)}function N_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function E_(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?N_(Object(n),!0).forEach(function(t){A_(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N_(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function A_(e,t,n){var r;return r=function(e,t){if("object"!=k_(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=k_(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==k_(r)?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}w_.displayName="LabelList",w_.renderCallByParent=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!e||!e.children&&n&&!e.label)return null;var r=Bx(e.children,w_).map(function(e,n){return O.cloneElement(e,{data:t,key:"labelList-".concat(n)})});return n?[function(e,t){return e?!0===e?P.createElement(w_,{key:"labelList-implicit",data:t}):P.isValidElement(e)||ex(e)?P.createElement(w_,{key:"labelList-implicit",data:t,content:e}):tx(e)?P.createElement(w_,m_({data:t},e,{key:"labelList-implicit"})):null:null}(e.label,t)].concat(p_(r)):r};var C_=function(e){var t=e.cx,n=e.cy,r=e.radius,a=e.angle,i=e.sign,s=e.isExternal,o=e.cornerRadius,l=e.cornerIsExternal,c=o*(s?1:-1)+r,u=Math.asin(o/c)/BR,h=l?a:a+i*u,d=l?a-i*u:a;return{center:UR(t,n,c,h),circleTangency:UR(t,n,r,h),lineTangency:UR(t,n,c*Math.cos(u*BR),d),theta:u}},j_=function(e){var t=e.cx,n=e.cy,r=e.innerRadius,a=e.outerRadius,i=e.startAngle,s=function(e,t){return fx(t-e)*Math.min(Math.abs(t-e),359.999)}(i,e.endAngle),o=i+s,l=UR(t,n,a,i),c=UR(t,n,a,o),u="M ".concat(l.x,",").concat(l.y,"\n    A ").concat(a,",").concat(a,",0,\n    ").concat(+(Math.abs(s)>180),",").concat(+(i>o),",\n    ").concat(c.x,",").concat(c.y,"\n  ");if(r>0){var h=UR(t,n,r,i),d=UR(t,n,r,o);u+="L ".concat(d.x,",").concat(d.y,"\n            A ").concat(r,",").concat(r,",0,\n            ").concat(+(Math.abs(s)>180),",").concat(+(i<=o),",\n            ").concat(h.x,",").concat(h.y," Z")}else u+="L ".concat(t,",").concat(n," Z");return u},M_={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},T_=function(e){var t=E_(E_({},M_),e),n=t.cx,r=t.cy,a=t.innerRadius,i=t.outerRadius,s=t.cornerRadius,o=t.forceCornerRadius,l=t.cornerIsExternal,c=t.startAngle,u=t.endAngle,h=t.className;if(i<a||c===u)return null;var d,p=Lt("recharts-sector",h),f=i-a,m=vx(s,f,0,!0);return d=m>0&&Math.abs(c-u)<360?function(e){var t=e.cx,n=e.cy,r=e.innerRadius,a=e.outerRadius,i=e.cornerRadius,s=e.forceCornerRadius,o=e.cornerIsExternal,l=e.startAngle,c=e.endAngle,u=fx(c-l),h=C_({cx:t,cy:n,radius:a,angle:l,sign:u,cornerRadius:i,cornerIsExternal:o}),d=h.circleTangency,p=h.lineTangency,f=h.theta,m=C_({cx:t,cy:n,radius:a,angle:c,sign:-u,cornerRadius:i,cornerIsExternal:o}),g=m.circleTangency,y=m.lineTangency,x=m.theta,b=o?Math.abs(l-c):Math.abs(l-c)-f-x;if(b<0)return s?"M ".concat(p.x,",").concat(p.y,"\n        a").concat(i,",").concat(i,",0,0,1,").concat(2*i,",0\n        a").concat(i,",").concat(i,",0,0,1,").concat(2*-i,",0\n      "):j_({cx:t,cy:n,innerRadius:r,outerRadius:a,startAngle:l,endAngle:c});var v="M ".concat(p.x,",").concat(p.y,"\n    A").concat(i,",").concat(i,",0,0,").concat(+(u<0),",").concat(d.x,",").concat(d.y,"\n    A").concat(a,",").concat(a,",0,").concat(+(b>180),",").concat(+(u<0),",").concat(g.x,",").concat(g.y,"\n    A").concat(i,",").concat(i,",0,0,").concat(+(u<0),",").concat(y.x,",").concat(y.y,"\n  ");if(r>0){var w=C_({cx:t,cy:n,radius:r,angle:l,sign:u,isExternal:!0,cornerRadius:i,cornerIsExternal:o}),k=w.circleTangency,S=w.lineTangency,N=w.theta,E=C_({cx:t,cy:n,radius:r,angle:c,sign:-u,isExternal:!0,cornerRadius:i,cornerIsExternal:o}),A=E.circleTangency,C=E.lineTangency,j=E.theta,M=o?Math.abs(l-c):Math.abs(l-c)-N-j;if(M<0&&0===i)return"".concat(v,"L").concat(t,",").concat(n,"Z");v+="L".concat(C.x,",").concat(C.y,"\n      A").concat(i,",").concat(i,",0,0,").concat(+(u<0),",").concat(A.x,",").concat(A.y,"\n      A").concat(r,",").concat(r,",0,").concat(+(M>180),",").concat(+(u>0),",").concat(k.x,",").concat(k.y,"\n      A").concat(i,",").concat(i,",0,0,").concat(+(u<0),",").concat(S.x,",").concat(S.y,"Z")}else v+="L".concat(t,",").concat(n,"Z");return v}({cx:n,cy:r,innerRadius:a,outerRadius:i,cornerRadius:Math.min(m,f/2),forceCornerRadius:o,cornerIsExternal:l,startAngle:c,endAngle:u}):j_({cx:n,cy:r,innerRadius:a,outerRadius:i,startAngle:c,endAngle:u}),P.createElement("path",S_({},Gx(t,!0),{className:p,d:d,role:"img"}))};function I_(e){return(I_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function O_(){return O_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},O_.apply(this,arguments)}function P_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function R_(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P_(Object(n),!0).forEach(function(t){__(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P_(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function __(e,t,n){var r;return r=function(e,t){if("object"!=I_(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=I_(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==I_(r)?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var L_,$_,F_,D_,z_,V_={curveBasisClosed:function(e){return new pv(e)},curveBasisOpen:function(e){return new fv(e)},curveBasis:function(e){return new dv(e)},curveBumpX:function(e){return new Zb(e,!0)},curveBumpY:function(e){return new Zb(e,!1)},curveLinearClosed:function(e){return new mv(e)},curveLinear:Vb,curveMonotoneX:function(e){return new vv(e)},curveMonotoneY:function(e){return new wv(e)},curveNatural:function(e){return new Sv(e)},curveStep:function(e){return new Ev(e,.5)},curveStepAfter:function(e){return new Ev(e,1)},curveStepBefore:function(e){return new Ev(e,0)}},B_=function(e){return e.x===+e.x&&e.y===+e.y},H_=function(e){return e.x},U_=function(e){return e.y},W_=function(e){var t,n=e.type,r=void 0===n?"linear":n,a=e.points,i=void 0===a?[]:a,s=e.baseLine,o=e.layout,l=e.connectNulls,c=void 0!==l&&l,u=function(e,t){if(ex(e))return e;var n="curve".concat(Eb(e));return"curveMonotone"!==n&&"curveBump"!==n||!t?V_[n]||Vb:V_["".concat(n).concat("vertical"===t?"Y":"X")]}(r,o),h=c?i.filter(function(e){return B_(e)}):i;if(Array.isArray(s)){var d=c?s.filter(function(e){return B_(e)}):s,p=h.map(function(e,t){return R_(R_({},e),{},{base:d[t]})});return(t="vertical"===o?Wb().y(U_).x1(H_).x0(function(e){return e.base.x}):Wb().x(H_).y1(U_).y0(function(e){return e.base.y})).defined(B_).curve(u),t(p)}return(t="vertical"===o&&gx(s)?Wb().y(U_).x1(H_).x0(s):gx(s)?Wb().x(H_).y1(U_).y0(s):Ub().x(H_).y(U_)).defined(B_).curve(u),t(h)},Z_=function(e){var t=e.className,n=e.points,r=e.path,a=e.pathRef;if(!(n&&n.length||r))return null;var i=n&&n.length?W_(e):r;return O.createElement("path",O_({},Gx(e,!1),Ix(e),{className:Lt("recharts-curve",t),d:i,ref:a}))},G_={exports:{}};function K_(){if($_)return L_;$_=1;return L_="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"}function q_(){if(D_)return F_;D_=1;var e=K_();function t(){}function n(){}return n.resetWarningCache=t,F_=function(){function r(t,n,r,a,i,s){if(s!==e){var o=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw o.name="Invariant Violation",o}}function a(){return r}r.isRequired=r;var i={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:a,element:r,elementType:r,instanceOf:a,node:r,objectOf:a,oneOf:a,oneOfType:a,shape:a,exact:a,checkPropTypes:n,resetWarningCache:t};return i.PropTypes=i,i}}function X_(){return z_||(z_=1,G_.exports=q_()()),G_.exports}const Y_=n(X_()),{getOwnPropertyNames:Q_,getOwnPropertySymbols:J_}=Object,{hasOwnProperty:eL}=Object.prototype;function tL(e,t){return function(n,r,a){return e(n,r,a)&&t(n,r,a)}}function nL(e){return function(t,n,r){if(!t||!n||"object"!=typeof t||"object"!=typeof n)return e(t,n,r);const{cache:a}=r,i=a.get(t),s=a.get(n);if(i&&s)return i===n&&s===t;a.set(t,n),a.set(n,t);const o=e(t,n,r);return a.delete(t),a.delete(n),o}}function rL(e){return Q_(e).concat(J_(e))}const aL=Object.hasOwn||((e,t)=>eL.call(e,t));function iL(e,t){return e===t||!e&&!t&&e!=e&&t!=t}const{getOwnPropertyDescriptor:sL,keys:oL}=Object;function lL(e,t){return e.byteLength===t.byteLength&&wL(new Uint8Array(e),new Uint8Array(t))}function cL(e,t,n){let r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(!n.equals(e[r],t[r],r,r,e,t,n))return!1;return!0}function uL(e,t){return e.byteLength===t.byteLength&&wL(new Uint8Array(e.buffer,e.byteOffset,e.byteLength),new Uint8Array(t.buffer,t.byteOffset,t.byteLength))}function hL(e,t){return iL(e.getTime(),t.getTime())}function dL(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function pL(e,t){return e===t}function fL(e,t,n){const r=e.size;if(r!==t.size)return!1;if(!r)return!0;const a=new Array(r),i=e.entries();let s,o,l=0;for(;(s=i.next())&&!s.done;){const r=t.entries();let i=!1,c=0;for(;(o=r.next())&&!o.done;){if(a[c]){c++;continue}const r=s.value,u=o.value;if(n.equals(r[0],u[0],l,c,e,t,n)&&n.equals(r[1],u[1],r[0],u[0],e,t,n)){i=a[c]=!0;break}c++}if(!i)return!1;l++}return!0}const mL=iL;function gL(e,t,n){const r=oL(e);let a=r.length;if(oL(t).length!==a)return!1;for(;a-- >0;)if(!SL(e,t,n,r[a]))return!1;return!0}function yL(e,t,n){const r=rL(e);let a,i,s,o=r.length;if(rL(t).length!==o)return!1;for(;o-- >0;){if(a=r[o],!SL(e,t,n,a))return!1;if(i=sL(e,a),s=sL(t,a),(i||s)&&(!i||!s||i.configurable!==s.configurable||i.enumerable!==s.enumerable||i.writable!==s.writable))return!1}return!0}function xL(e,t){return iL(e.valueOf(),t.valueOf())}function bL(e,t){return e.source===t.source&&e.flags===t.flags}function vL(e,t,n){const r=e.size;if(r!==t.size)return!1;if(!r)return!0;const a=new Array(r),i=e.values();let s,o;for(;(s=i.next())&&!s.done;){const r=t.values();let i=!1,l=0;for(;(o=r.next())&&!o.done;){if(!a[l]&&n.equals(s.value,o.value,s.value,o.value,e,t,n)){i=a[l]=!0;break}l++}if(!i)return!1}return!0}function wL(e,t){let n=e.byteLength;if(t.byteLength!==n||e.byteOffset!==t.byteOffset)return!1;for(;n-- >0;)if(e[n]!==t[n])return!1;return!0}function kL(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function SL(e,t,n,r){return!("_owner"!==r&&"__o"!==r&&"__v"!==r||!e.$$typeof&&!t.$$typeof)||aL(t,r)&&n.equals(e[r],t[r],r,r,e,t,n)}const NL={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},EL=Object.prototype.toString;function AL({areArrayBuffersEqual:e,areArraysEqual:t,areDataViewsEqual:n,areDatesEqual:r,areErrorsEqual:a,areFunctionsEqual:i,areMapsEqual:s,areNumbersEqual:o,areObjectsEqual:l,arePrimitiveWrappersEqual:c,areRegExpsEqual:u,areSetsEqual:h,areTypedArraysEqual:d,areUrlsEqual:p,unknownTagComparators:f}){return function(m,g,y){if(m===g)return!0;if(null==m||null==g)return!1;const x=typeof m;if(x!==typeof g)return!1;if("object"!==x)return"number"===x?o(m,g,y):"function"===x&&i(m,g,y);const b=m.constructor;if(b!==g.constructor)return!1;if(b===Object)return l(m,g,y);if(Array.isArray(m))return t(m,g,y);if(b===Date)return r(m,g,y);if(b===RegExp)return u(m,g,y);if(b===Map)return s(m,g,y);if(b===Set)return h(m,g,y);const v=EL.call(m);if("[object Date]"===v)return r(m,g,y);if("[object RegExp]"===v)return u(m,g,y);if("[object Map]"===v)return s(m,g,y);if("[object Set]"===v)return h(m,g,y);if("[object Object]"===v)return"function"!=typeof m.then&&"function"!=typeof g.then&&l(m,g,y);if("[object URL]"===v)return p(m,g,y);if("[object Error]"===v)return a(m,g,y);if("[object Arguments]"===v)return l(m,g,y);if(NL[v])return d(m,g,y);if("[object ArrayBuffer]"===v)return e(m,g,y);if("[object DataView]"===v)return n(m,g,y);if("[object Boolean]"===v||"[object Number]"===v||"[object String]"===v)return c(m,g,y);if(f){let e=f[v];if(!e){const t=null!=(w=m)?w[Symbol.toStringTag]:void 0;t&&(e=f[t])}if(e)return e(m,g,y)}var w;return!1}}const CL=jL();function jL(e={}){const{circular:t=!1,createInternalComparator:n,createState:r,strict:a=!1}=e,i=function({circular:e,createCustomConfig:t,strict:n}){let r={areArrayBuffersEqual:lL,areArraysEqual:n?yL:cL,areDataViewsEqual:uL,areDatesEqual:hL,areErrorsEqual:dL,areFunctionsEqual:pL,areMapsEqual:n?tL(fL,yL):fL,areNumbersEqual:mL,areObjectsEqual:n?yL:gL,arePrimitiveWrappersEqual:xL,areRegExpsEqual:bL,areSetsEqual:n?tL(vL,yL):vL,areTypedArraysEqual:n?tL(wL,yL):wL,areUrlsEqual:kL,unknownTagComparators:void 0};if(t&&(r=Object.assign({},r,t(r))),e){const e=nL(r.areArraysEqual),t=nL(r.areMapsEqual),n=nL(r.areObjectsEqual),a=nL(r.areSetsEqual);r=Object.assign({},r,{areArraysEqual:e,areMapsEqual:t,areObjectsEqual:n,areSetsEqual:a})}return r}(e),s=AL(i);var o;return function({circular:e,comparator:t,createState:n,equals:r,strict:a}){if(n)return function(i,s){const{cache:o=(e?new WeakMap:void 0),meta:l}=n();return t(i,s,{cache:o,equals:r,meta:l,strict:a})};if(e)return function(e,n){return t(e,n,{cache:new WeakMap,equals:r,meta:void 0,strict:a})};const i={cache:void 0,equals:r,meta:void 0,strict:a};return function(e,n){return t(e,n,i)}}({circular:t,comparator:s,createState:r,equals:n?n(s):(o=s,function(e,t,n,r,a,i,s){return o(e,t,s)}),strict:a})}function ML(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=-1;requestAnimationFrame(function r(a){n<0&&(n=a),a-n>t?(e(a),n=-1):function(e){"undefined"!=typeof requestAnimationFrame&&requestAnimationFrame(e)}(r)})}function TL(e){return(TL="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function IL(e){return function(e){if(Array.isArray(e))return e}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return OL(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return OL(e,t)}(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function OL(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function PL(){var e=function(){return null},t=!1,n=function n(r){if(!t){if(Array.isArray(r)){if(!r.length)return;var a=IL(r),i=a[0],s=a.slice(1);return"number"==typeof i?void ML(n.bind(null,s),i):(n(i),void ML(n.bind(null,s)))}"object"===TL(r)&&e(r),"function"==typeof r&&r()}};return{stop:function(){t=!0},start:function(e){t=!1,n(e)},subscribe:function(t){return e=t,function(){e=function(){return null}}}}}function RL(e){return(RL="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _L(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function LL(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_L(Object(n),!0).forEach(function(t){$L(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_L(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function $L(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==RL(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!==RL(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===RL(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}jL({strict:!0}),jL({circular:!0}),jL({circular:!0,strict:!0}),jL({createInternalComparator:()=>iL}),jL({strict:!0,createInternalComparator:()=>iL}),jL({circular:!0,createInternalComparator:()=>iL}),jL({circular:!0,createInternalComparator:()=>iL,strict:!0});var FL=function(e){return e},DL=function(e,t){return Object.keys(t).reduce(function(n,r){return LL(LL({},n),{},$L({},r,e(r,t[r])))},{})},zL=function(e,t,n){return e.map(function(e){return"".concat((r=e,r.replace(/([A-Z])/g,function(e){return"-".concat(e.toLowerCase())}))," ").concat(t,"ms ").concat(n);var r}).join(",")};function VL(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i,s,o=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t);else for(;!(l=(r=i.call(n)).done)&&(o.push(r.value),o.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}(e,t)||HL(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function BL(e){return function(e){if(Array.isArray(e))return UL(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||HL(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function HL(e,t){if(e){if("string"==typeof e)return UL(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?UL(e,t):void 0}}function UL(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var WL=1e-4,ZL=function(e,t){return[0,3*e,3*t-6*e,3*e-3*t+1]},GL=function(e,t){return e.map(function(e,n){return e*Math.pow(t,n)}).reduce(function(e,t){return e+t})},KL=function(e,t){return function(n){var r=ZL(e,t);return GL(r,n)}},qL=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0],a=t[1],i=t[2],s=t[3];if(1===t.length)switch(t[0]){case"linear":r=0,a=0,i=1,s=1;break;case"ease":r=.25,a=.1,i=.25,s=1;break;case"ease-in":r=.42,a=0,i=1,s=1;break;case"ease-out":r=.42,a=0,i=.58,s=1;break;case"ease-in-out":r=0,a=0,i=.58,s=1;break;default:var o=t[0].split("(");if("cubic-bezier"===o[0]&&4===o[1].split(")")[0].split(",").length){var l=VL(o[1].split(")")[0].split(",").map(function(e){return parseFloat(e)}),4);r=l[0],a=l[1],i=l[2],s=l[3]}}var c,u,h=KL(r,i),d=KL(a,s),p=(c=r,u=i,function(e){var t=ZL(c,u),n=[].concat(BL(t.map(function(e,t){return e*t}).slice(1)),[0]);return GL(n,e)}),f=function(e){return e>1?1:e<0?0:e},m=function(e){for(var t=e>1?1:e,n=t,r=0;r<8;++r){var a=h(n)-t,i=p(n);if(Math.abs(a-t)<WL||i<WL)return d(n);n=f(n-a/i)}return d(n)};return m.isStepper=!1,m},XL=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0];if("string"==typeof r)switch(r){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return qL(r);case"spring":return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.stiff,n=void 0===t?100:t,r=e.damping,a=void 0===r?8:r,i=e.dt,s=void 0===i?17:i,o=function(e,t,r){var i=r+(-(e-t)*n-r*a)*s/1e3,o=r*s/1e3+e;return Math.abs(o-t)<WL&&Math.abs(i)<WL?[t,0]:[o,i]};return o.isStepper=!0,o.dt=s,o}();default:if("cubic-bezier"===r.split("(")[0])return qL(r)}return"function"==typeof r?r:null};function YL(e){return(YL="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function QL(e){return function(e){if(Array.isArray(e))return a$(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||r$(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function JL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function e$(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?JL(Object(n),!0).forEach(function(t){t$(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):JL(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function t$(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==YL(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!==YL(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===YL(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function n$(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i,s,o=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t);else for(;!(l=(r=i.call(n)).done)&&(o.push(r.value),o.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}(e,t)||r$(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r$(e,t){if(e){if("string"==typeof e)return a$(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a$(e,t):void 0}}function a$(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var i$=function(e,t,n){return e+(t-e)*n},s$=function(e){return e.from!==e.to},o$=function e(t,n,r){var a=DL(function(e,n){if(s$(n)){var r=n$(t(n.from,n.to,n.velocity),2),a=r[0],i=r[1];return e$(e$({},n),{},{from:a,velocity:i})}return n},n);return r<1?DL(function(e,t){return s$(t)?e$(e$({},t),{},{velocity:i$(t.velocity,a[e].velocity,r),from:i$(t.from,a[e].from,r)}):t},n):e(t,a,r-1)};const l$=function(e,t,n,r,a){var i,s,o,l,c=(i=e,s=t,[Object.keys(i),Object.keys(s)].reduce(function(e,t){return e.filter(function(e){return t.includes(e)})})),u=c.reduce(function(n,r){return e$(e$({},n),{},t$({},r,[e[r],t[r]]))},{}),h=c.reduce(function(n,r){return e$(e$({},n),{},t$({},r,{from:e[r],velocity:0,to:t[r]}))},{}),d=-1,p=function(){return null};return p=n.isStepper?function(r){o||(o=r);var i=(r-o)/n.dt;h=o$(n,h,i),a(e$(e$(e$({},e),t),DL(function(e,t){return t.from},h))),o=r,Object.values(h).filter(s$).length&&(d=requestAnimationFrame(p))}:function(i){l||(l=i);var s=(i-l)/r,o=DL(function(e,t){return i$.apply(void 0,QL(t).concat([n(s)]))},u);if(a(e$(e$(e$({},e),t),o)),s<1)d=requestAnimationFrame(p);else{var c=DL(function(e,t){return i$.apply(void 0,QL(t).concat([n(1)]))},u);a(e$(e$(e$({},e),t),c))}},function(){return requestAnimationFrame(p),function(){cancelAnimationFrame(d)}}};function c$(e){return(c$="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var u$=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function h$(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function d$(e){return function(e){if(Array.isArray(e))return p$(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return p$(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p$(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p$(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function f$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function m$(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f$(Object(n),!0).forEach(function(t){g$(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f$(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function g$(e,t,n){return(t=x$(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function y$(e,t,n){return t&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,x$(r.key),r)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function x$(e){var t=function(e,t){if("object"!==c$(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!==c$(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===c$(t)?t:String(t)}function b$(e,t){return(b$=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function v$(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(ATe){return!1}}();return function(){var n,r=S$(e);if(t){var a=S$(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return w$(this,n)}}function w$(e,t){if(t&&("object"===c$(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return k$(e)}function k$(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function S$(e){return(S$=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var N$=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&b$(e,t)}(t,O.PureComponent);var e=v$(t);function t(n,r){var a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=(a=e.call(this,n,r)).props,s=i.isActive,o=i.attributeName,l=i.from,c=i.to,u=i.steps,h=i.children,d=i.duration;if(a.handleStyleChange=a.handleStyleChange.bind(k$(a)),a.changeStyle=a.changeStyle.bind(k$(a)),!s||d<=0)return a.state={style:{}},"function"==typeof h&&(a.state={style:c}),w$(a);if(u&&u.length)a.state={style:u[0].style};else if(l){if("function"==typeof h)return a.state={style:l},w$(a);a.state={style:o?g$({},o,l):l}}else a.state={style:{}};return a}return y$(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.isActive,n=e.canBegin;this.mounted=!0,t&&n&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.isActive,r=t.canBegin,a=t.attributeName,i=t.shouldReAnimate,s=t.to,o=t.from,l=this.state.style;if(r)if(n){if(!(CL(e.to,s)&&e.canBegin&&e.isActive)){var c=!e.canBegin||!e.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var u=c||i?o:e.to;if(this.state&&l){var h={style:a?g$({},a,u):u};(a&&l[a]!==u||!a&&l!==u)&&this.setState(h)}this.runAnimation(m$(m$({},this.props),{},{from:u,begin:0}))}}else{var d={style:a?g$({},a,s):s};this.state&&l&&(a&&l[a]!==s||!a&&l!==s)&&this.setState(d)}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var e=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),e&&e()}},{key:"handleStyleChange",value:function(e){this.changeStyle(e)}},{key:"changeStyle",value:function(e){this.mounted&&this.setState({style:e})}},{key:"runJSAnimation",value:function(e){var t=this,n=e.from,r=e.to,a=e.duration,i=e.easing,s=e.begin,o=e.onAnimationEnd,l=e.onAnimationStart,c=l$(n,r,XL(i),a,this.changeStyle);this.manager.start([l,s,function(){t.stopJSAnimation=c()},a,o])}},{key:"runStepAnimation",value:function(e){var t=this,n=e.steps,r=e.begin,a=e.onAnimationStart,i=n[0],s=i.style,o=i.duration,l=void 0===o?0:o;return this.manager.start([a].concat(d$(n.reduce(function(e,r,a){if(0===a)return e;var i=r.duration,s=r.easing,o=void 0===s?"ease":s,l=r.style,c=r.properties,u=r.onAnimationEnd,h=a>0?n[a-1]:r,d=c||Object.keys(l);if("function"==typeof o||"spring"===o)return[].concat(d$(e),[t.runJSAnimation.bind(t,{from:h.style,to:l,duration:i,easing:o}),i]);var p=zL(d,i,o),f=m$(m$(m$({},h.style),l),{},{transition:p});return[].concat(d$(e),[f,i,u]).filter(FL)},[s,Math.max(l,r)])),[e.onAnimationEnd]))}},{key:"runAnimation",value:function(e){this.manager||(this.manager=PL());var t=e.begin,n=e.duration,r=e.attributeName,a=e.to,i=e.easing,s=e.onAnimationStart,o=e.onAnimationEnd,l=e.steps,c=e.children,u=this.manager;if(this.unSubscribe=u.subscribe(this.handleStyleChange),"function"!=typeof i&&"function"!=typeof c&&"spring"!==i)if(l.length>1)this.runStepAnimation(e);else{var h=r?g$({},r,a):a,d=zL(Object.keys(h),n,i);u.start([s,t,m$(m$({},h),{},{transition:d}),n,o])}else this.runJSAnimation(e)}},{key:"render",value:function(){var e=this.props,t=e.children;e.begin;var n=e.duration;e.attributeName,e.easing;var r=e.isActive;e.steps,e.from,e.to,e.canBegin,e.onAnimationEnd,e.shouldReAnimate,e.onAnimationReStart;var a=h$(e,u$),i=O.Children.count(t),s=this.state.style;if("function"==typeof t)return t(s);if(!r||0===i||n<=0)return t;var o=function(e){var t=e.props,n=t.style,r=void 0===n?{}:n,i=t.className;return O.cloneElement(e,m$(m$({},a),{},{style:m$(m$({},r),s),className:i}))};return 1===i?o(O.Children.only(t)):P.createElement("div",null,O.Children.map(t,function(e){return o(e)}))}}]),t}();function E$(e){return(E$="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function A$(){return A$=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},A$.apply(this,arguments)}function C$(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i,s,o=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t);else for(;!(l=(r=i.call(n)).done)&&(o.push(r.value),o.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return j$(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return j$(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function j$(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function M$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function T$(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?M$(Object(n),!0).forEach(function(t){I$(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M$(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function I$(e,t,n){var r;return r=function(e,t){if("object"!=E$(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=E$(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==E$(r)?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}N$.displayName="Animate",N$.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}},N$.propTypes={from:Y_.oneOfType([Y_.object,Y_.string]),to:Y_.oneOfType([Y_.object,Y_.string]),attributeName:Y_.string,duration:Y_.number,begin:Y_.number,easing:Y_.oneOfType([Y_.string,Y_.func]),steps:Y_.arrayOf(Y_.shape({duration:Y_.number.isRequired,style:Y_.object.isRequired,easing:Y_.oneOfType([Y_.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Y_.func]),properties:Y_.arrayOf("string"),onAnimationEnd:Y_.func})),children:Y_.oneOfType([Y_.node,Y_.func]),isActive:Y_.bool,canBegin:Y_.bool,onAnimationEnd:Y_.func,shouldReAnimate:Y_.bool,onAnimationStart:Y_.func,onAnimationReStart:Y_.func};var O$=function(e,t,n,r,a){var i,s=Math.min(Math.abs(n)/2,Math.abs(r)/2),o=r>=0?1:-1,l=n>=0?1:-1,c=r>=0&&n>=0||r<0&&n<0?1:0;if(s>0&&a instanceof Array){for(var u=[0,0,0,0],h=0;h<4;h++)u[h]=a[h]>s?s:a[h];i="M".concat(e,",").concat(t+o*u[0]),u[0]>0&&(i+="A ".concat(u[0],",").concat(u[0],",0,0,").concat(c,",").concat(e+l*u[0],",").concat(t)),i+="L ".concat(e+n-l*u[1],",").concat(t),u[1]>0&&(i+="A ".concat(u[1],",").concat(u[1],",0,0,").concat(c,",\n        ").concat(e+n,",").concat(t+o*u[1])),i+="L ".concat(e+n,",").concat(t+r-o*u[2]),u[2]>0&&(i+="A ".concat(u[2],",").concat(u[2],",0,0,").concat(c,",\n        ").concat(e+n-l*u[2],",").concat(t+r)),i+="L ".concat(e+l*u[3],",").concat(t+r),u[3]>0&&(i+="A ".concat(u[3],",").concat(u[3],",0,0,").concat(c,",\n        ").concat(e,",").concat(t+r-o*u[3])),i+="Z"}else if(s>0&&a===+a&&a>0){var d=Math.min(s,a);i="M ".concat(e,",").concat(t+o*d,"\n            A ").concat(d,",").concat(d,",0,0,").concat(c,",").concat(e+l*d,",").concat(t,"\n            L ").concat(e+n-l*d,",").concat(t,"\n            A ").concat(d,",").concat(d,",0,0,").concat(c,",").concat(e+n,",").concat(t+o*d,"\n            L ").concat(e+n,",").concat(t+r-o*d,"\n            A ").concat(d,",").concat(d,",0,0,").concat(c,",").concat(e+n-l*d,",").concat(t+r,"\n            L ").concat(e+l*d,",").concat(t+r,"\n            A ").concat(d,",").concat(d,",0,0,").concat(c,",").concat(e,",").concat(t+r-o*d," Z")}else i="M ".concat(e,",").concat(t," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return i},P$=function(e,t){if(!e||!t)return!1;var n=e.x,r=e.y,a=t.x,i=t.y,s=t.width,o=t.height;if(Math.abs(s)>0&&Math.abs(o)>0){var l=Math.min(a,a+s),c=Math.max(a,a+s),u=Math.min(i,i+o),h=Math.max(i,i+o);return n>=l&&n<=c&&r>=u&&r<=h}return!1},R$={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},_$=function(e){var t=T$(T$({},R$),e),n=O.useRef(),r=C$(O.useState(-1),2),a=r[0],i=r[1];O.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var e=n.current.getTotalLength();e&&i(e)}catch(t){}},[]);var s=t.x,o=t.y,l=t.width,c=t.height,u=t.radius,h=t.className,d=t.animationEasing,p=t.animationDuration,f=t.animationBegin,m=t.isAnimationActive,g=t.isUpdateAnimationActive;if(s!==+s||o!==+o||l!==+l||c!==+c||0===l||0===c)return null;var y=Lt("recharts-rectangle",h);return g?P.createElement(N$,{canBegin:a>0,from:{width:l,height:c,x:s,y:o},to:{width:l,height:c,x:s,y:o},duration:p,animationEasing:d,isActive:g},function(e){var r=e.width,i=e.height,s=e.x,o=e.y;return P.createElement(N$,{canBegin:a>0,from:"0px ".concat(-1===a?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:f,duration:p,isActive:m,easing:d},P.createElement("path",A$({},Gx(t,!0),{className:y,d:O$(s,o,r,i,u),ref:n})))}):P.createElement("path",A$({},Gx(t,!0),{className:y,d:O$(s,o,l,c,u)}))},L$=["points","className","baseLinePoints","connectNulls"];function $$(){return $$=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$$.apply(this,arguments)}function F$(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function D$(e){return function(e){if(Array.isArray(e))return z$(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return z$(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return z$(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function z$(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var V$=function(e){return e&&e.x===+e.x&&e.y===+e.y},B$=function(e,t){var n=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=[[]];return e.forEach(function(e){V$(e)?t[t.length-1].push(e):t[t.length-1].length>0&&t.push([])}),V$(e[0])&&t[t.length-1].push(e[0]),t[t.length-1].length<=0&&(t=t.slice(0,-1)),t}(e);t&&(n=[n.reduce(function(e,t){return[].concat(D$(e),D$(t))},[])]);var r=n.map(function(e){return e.reduce(function(e,t,n){return"".concat(e).concat(0===n?"M":"L").concat(t.x,",").concat(t.y)},"")}).join("");return 1===n.length?"".concat(r,"Z"):r},H$=function(e){var t=e.points,n=e.className,r=e.baseLinePoints,a=e.connectNulls,i=F$(e,L$);if(!t||!t.length)return null;var s=Lt("recharts-polygon",n);if(r&&r.length){var o=i.stroke&&"none"!==i.stroke,l=function(e,t,n){var r=B$(e,n);return"".concat("Z"===r.slice(-1)?r.slice(0,-1):r,"L").concat(B$(t.reverse(),n).slice(1))}(t,r,a);return P.createElement("g",{className:s},P.createElement("path",$$({},Gx(i,!0),{fill:"Z"===l.slice(-1)?i.fill:"none",stroke:"none",d:l})),o?P.createElement("path",$$({},Gx(i,!0),{fill:"none",d:B$(t,a)})):null,o?P.createElement("path",$$({},Gx(i,!0),{fill:"none",d:B$(r,a)})):null)}var c=B$(t,a);return P.createElement("path",$$({},Gx(i,!0),{fill:"Z"===c.slice(-1)?i.fill:"none",className:s,d:c}))};function U$(){return U$=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},U$.apply(this,arguments)}var W$=function(e){var t=e.cx,n=e.cy,r=e.r,a=Lt("recharts-dot",e.className);return t===+t&&n===+n&&r===+r?O.createElement("circle",U$({},Gx(e,!1),Ix(e),{className:a,cx:t,cy:n,r:r})):null};function Z$(e){return(Z$="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var G$=["x","y","top","left","width","height","className"];function K$(){return K$=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},K$.apply(this,arguments)}function q$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function X$(e,t,n){var r;return r=function(e,t){if("object"!=Z$(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=Z$(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==Z$(r)?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Y$(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var Q$=function(e,t,n,r,a,i){return"M".concat(e,",").concat(a,"v").concat(r,"M").concat(i,",").concat(t,"h").concat(n)},J$=function(e){var t=e.x,n=void 0===t?0:t,r=e.y,a=void 0===r?0:r,i=e.top,s=void 0===i?0:i,o=e.left,l=void 0===o?0:o,c=e.width,u=void 0===c?0:c,h=e.height,d=void 0===h?0:h,p=e.className,f=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?q$(Object(n),!0).forEach(function(t){X$(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):q$(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({x:n,y:a,top:s,left:l,width:u,height:d},Y$(e,G$));return gx(n)&&gx(a)&&gx(u)&&gx(d)&&gx(s)&&gx(l)?P.createElement("path",K$({},Gx(f,!0),{className:Lt("recharts-cross",p),d:Q$(n,a,u,d,s,l)})):null},eF=["cx","cy","innerRadius","outerRadius","gridType","radialLines"];function tF(e){return(tF="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function nF(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function rF(){return rF=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},rF.apply(this,arguments)}function aF(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function iF(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?aF(Object(n),!0).forEach(function(t){sF(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):aF(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function sF(e,t,n){var r;return r=function(e,t){if("object"!=tF(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=tF(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==tF(r)?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var oF,lF,cF=function(e,t,n,r){var a="";return r.forEach(function(r,i){var s=UR(t,n,e,r);a+=i?"L ".concat(s.x,",").concat(s.y):"M ".concat(s.x,",").concat(s.y)}),a+="Z"},uF=function(e){var t=e.cx,n=e.cy,r=e.innerRadius,a=e.outerRadius,i=e.polarAngles,s=e.radialLines;if(!i||!i.length||!s)return null;var o=iF({stroke:"#ccc"},Gx(e,!1));return P.createElement("g",{className:"recharts-polar-grid-angle"},i.map(function(e){var i=UR(t,n,r,e),s=UR(t,n,a,e);return P.createElement("line",rF({},o,{key:"line-".concat(e),x1:i.x,y1:i.y,x2:s.x,y2:s.y}))}))},hF=function(e){var t=e.cx,n=e.cy,r=e.radius,a=e.index,i=iF(iF({stroke:"#ccc"},Gx(e,!1)),{},{fill:"none"});return P.createElement("circle",rF({},i,{className:Lt("recharts-polar-grid-concentric-circle",e.className),key:"circle-".concat(a),cx:t,cy:n,r:r}))},dF=function(e){var t=e.radius,n=e.index,r=iF(iF({stroke:"#ccc"},Gx(e,!1)),{},{fill:"none"});return P.createElement("path",rF({},r,{className:Lt("recharts-polar-grid-concentric-polygon",e.className),key:"path-".concat(n),d:cF(t,e.cx,e.cy,e.polarAngles)}))},pF=function(e){var t=e.polarRadius,n=e.gridType;return t&&t.length?P.createElement("g",{className:"recharts-polar-grid-concentric"},t.map(function(t,r){var a=r;return"circle"===n?P.createElement(hF,rF({key:a},e,{radius:t,index:r})):P.createElement(dF,rF({key:a},e,{radius:t,index:r}))})):null},fF=function(e){var t=e.cx,n=void 0===t?0:t,r=e.cy,a=void 0===r?0:r,i=e.innerRadius,s=void 0===i?0:i,o=e.outerRadius,l=void 0===o?0:o,c=e.gridType,u=void 0===c?"polygon":c,h=e.radialLines,d=void 0===h||h,p=nF(e,eF);return l<=0?null:P.createElement("g",{className:"recharts-polar-grid"},P.createElement(uF,rF({cx:n,cy:a,innerRadius:s,outerRadius:l,gridType:u,radialLines:d},p)),P.createElement(pF,rF({cx:n,cy:a,innerRadius:s,outerRadius:l,gridType:u,radialLines:d},p)))};fF.displayName="PolarGrid";const mF=n(function(){if(lF)return oF;lF=1;var e=kO(),t=SO(),n=hN();return oF=function(r,a){return r&&r.length?e(r,n(a,2),t):void 0}}());var gF,yF;const xF=n(function(){if(yF)return gF;yF=1;var e=kO(),t=hN(),n=MO();return gF=function(r,a){return r&&r.length?e(r,t(a,2),n):void 0}}());var bF=["cx","cy","angle","ticks","axisLine"],vF=["ticks","tick","angle","tickFormatter","stroke"];function wF(e){return(wF="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function kF(){return kF=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},kF.apply(this,arguments)}function SF(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function NF(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?SF(Object(n),!0).forEach(function(t){IF(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):SF(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function EF(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function AF(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,OF(r.key),r)}}function CF(e,t,n){return t=MF(t),function(e,t){if(t&&("object"===wF(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,jF()?Reflect.construct(t,n||[],MF(e).constructor):t.apply(e,n))}function jF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(jF=function(){return!!e})()}function MF(e){return(MF=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function TF(e,t){return(TF=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function IF(e,t,n){return(t=OF(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function OF(e){var t=function(e,t){if("object"!=wF(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=wF(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==wF(t)?t:t+""}var PF=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),CF(this,e,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&TF(e,t)}(e,O.PureComponent),t=e,r=[{key:"renderTickItem",value:function(e,t,n){return P.isValidElement(e)?P.cloneElement(e,t):ex(e)?e(t):P.createElement(AC,kF({},t,{className:"recharts-polar-radius-axis-tick-value"}),n)}}],(n=[{key:"getTickValueCoord",value:function(e){var t=e.coordinate,n=this.props,r=n.angle,a=n.cx,i=n.cy;return UR(a,i,t,r)}},{key:"getTickTextAnchor",value:function(){var e;switch(this.props.orientation){case"left":e="end";break;case"right":e="start";break;default:e="middle"}return e}},{key:"getViewBox",value:function(){var e=this.props,t=e.cx,n=e.cy,r=e.angle,a=e.ticks,i=mF(a,function(e){return e.coordinate||0});return{cx:t,cy:n,startAngle:r,endAngle:r,innerRadius:xF(a,function(e){return e.coordinate||0}).coordinate||0,outerRadius:i.coordinate||0}}},{key:"renderAxisLine",value:function(){var e=this.props,t=e.cx,n=e.cy,r=e.angle,a=e.ticks,i=e.axisLine,s=EF(e,bF),o=a.reduce(function(e,t){return[Math.min(e[0],t.coordinate),Math.max(e[1],t.coordinate)]},[1/0,-1/0]),l=UR(t,n,o[0],r),c=UR(t,n,o[1],r),u=NF(NF(NF({},Gx(s,!1)),{},{fill:"none"},Gx(i,!1)),{},{x1:l.x,y1:l.y,x2:c.x,y2:c.y});return P.createElement("line",kF({className:"recharts-polar-radius-axis-line"},u))}},{key:"renderTicks",value:function(){var t=this,n=this.props,r=n.ticks,a=n.tick,i=n.angle,s=n.tickFormatter,o=n.stroke,l=EF(n,vF),c=this.getTickTextAnchor(),u=Gx(l,!1),h=Gx(a,!1),d=r.map(function(n,r){var l=t.getTickValueCoord(n),d=NF(NF(NF(NF({textAnchor:c,transform:"rotate(".concat(90-i,", ").concat(l.x,", ").concat(l.y,")")},u),{},{stroke:"none",fill:o},h),{},{index:r},l),{},{payload:n});return P.createElement(vb,kF({className:Lt("recharts-polar-radius-axis-tick",KR(a)),key:"tick-".concat(n.coordinate)},Ox(t.props,n,r)),e.renderTickItem(a,d,s?s(n.value,r):n.value))});return P.createElement(vb,{className:"recharts-polar-radius-axis-ticks"},d)}},{key:"render",value:function(){var e=this.props,t=e.ticks,n=e.axisLine,r=e.tick;return t&&t.length?P.createElement(vb,{className:Lt("recharts-polar-radius-axis",this.props.className)},n&&this.renderAxisLine(),r&&this.renderTicks(),i_.renderCallByParent(this.props,this.getViewBox())):null}}])&&AF(t.prototype,n),r&&AF(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,r}();function RF(e){return(RF="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _F(){return _F=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_F.apply(this,arguments)}function LF(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function $F(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?LF(Object(n),!0).forEach(function(t){HF(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):LF(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function FF(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,UF(r.key),r)}}function DF(e,t,n){return t=VF(t),function(e,t){if(t&&("object"===RF(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,zF()?Reflect.construct(t,n||[],VF(e).constructor):t.apply(e,n))}function zF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(zF=function(){return!!e})()}function VF(e){return(VF=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function BF(e,t){return(BF=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function HF(e,t,n){return(t=UF(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function UF(e){var t=function(e,t){if("object"!=RF(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=RF(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==RF(t)?t:t+""}IF(PF,"displayName","PolarRadiusAxis"),IF(PF,"axisType","radiusAxis"),IF(PF,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});var WF,ZF,GF,KF,qF=Math.PI/180,XF=1e-5,YF=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),DF(this,e,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&BF(e,t)}(e,O.PureComponent),t=e,r=[{key:"renderTickItem",value:function(e,t,n){return P.isValidElement(e)?P.cloneElement(e,t):ex(e)?e(t):P.createElement(AC,_F({},t,{className:"recharts-polar-angle-axis-tick-value"}),n)}}],(n=[{key:"getTickLineCoord",value:function(e){var t=this.props,n=t.cx,r=t.cy,a=t.radius,i=t.orientation,s=t.tickSize||8,o=UR(n,r,a,e.coordinate),l=UR(n,r,a+("inner"===i?-1:1)*s,e.coordinate);return{x1:o.x,y1:o.y,x2:l.x,y2:l.y}}},{key:"getTickTextAnchor",value:function(e){var t=this.props.orientation,n=Math.cos(-e.coordinate*qF);return n>XF?"outer"===t?"start":"end":n<-XF?"outer"===t?"end":"start":"middle"}},{key:"renderAxisLine",value:function(){var e=this.props,t=e.cx,n=e.cy,r=e.radius,a=e.axisLine,i=e.axisLineType,s=$F($F({},Gx(this.props,!1)),{},{fill:"none"},Gx(a,!1));if("circle"===i)return P.createElement(W$,_F({className:"recharts-polar-angle-axis-line"},s,{cx:t,cy:n,r:r}));var o=this.props.ticks.map(function(e){return UR(t,n,r,e.coordinate)});return P.createElement(H$,_F({className:"recharts-polar-angle-axis-line"},s,{points:o}))}},{key:"renderTicks",value:function(){var t=this,n=this.props,r=n.ticks,a=n.tick,i=n.tickLine,s=n.tickFormatter,o=n.stroke,l=Gx(this.props,!1),c=Gx(a,!1),u=$F($F({},l),{},{fill:"none"},Gx(i,!1)),h=r.map(function(n,r){var h=t.getTickLineCoord(n),d=$F($F($F({textAnchor:t.getTickTextAnchor(n)},l),{},{stroke:"none",fill:o},c),{},{index:r,payload:n,x:h.x2,y:h.y2});return P.createElement(vb,_F({className:Lt("recharts-polar-angle-axis-tick",KR(a)),key:"tick-".concat(n.coordinate)},Ox(t.props,n,r)),i&&P.createElement("line",_F({className:"recharts-polar-angle-axis-tick-line"},u,h)),a&&e.renderTickItem(a,d,s?s(n.value,r):n.value))});return P.createElement(vb,{className:"recharts-polar-angle-axis-ticks"},h)}},{key:"render",value:function(){var e=this.props,t=e.ticks,n=e.radius,r=e.axisLine;return n<=0||!t||!t.length?null:P.createElement(vb,{className:Lt("recharts-polar-angle-axis",this.props.className)},r&&this.renderAxisLine(),this.renderTicks())}}])&&FF(t.prototype,n),r&&FF(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,r}();HF(YF,"displayName","PolarAngleAxis"),HF(YF,"axisType","angleAxis"),HF(YF,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});const QF=n(function(){if(KF)return GF;KF=1;var e=ky(),t=function(){if(ZF)return WF;ZF=1;var e=XS()(Object.getPrototypeOf,Object);return WF=e}(),n=Sy(),r=Function.prototype,a=Object.prototype,i=r.toString,s=a.hasOwnProperty,o=i.call(Object);return GF=function(r){if(!n(r)||"[object Object]"!=e(r))return!1;var a=t(r);if(null===a)return!0;var l=s.call(a,"constructor")&&a.constructor;return"function"==typeof l&&l instanceof l&&i.call(l)==o}}());var JF,eD;const tD=n(function(){if(eD)return JF;eD=1;var e=ky(),t=Sy();return JF=function(n){return!0===n||!1===n||t(n)&&"[object Boolean]"==e(n)}}());function nD(e){return(nD="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function rD(){return rD=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},rD.apply(this,arguments)}function aD(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i,s,o=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t);else for(;!(l=(r=i.call(n)).done)&&(o.push(r.value),o.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return iD(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return iD(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function iD(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function sD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function oD(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?sD(Object(n),!0).forEach(function(t){lD(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sD(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function lD(e,t,n){var r;return r=function(e,t){if("object"!=nD(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=nD(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==nD(r)?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var cD,uD,hD,dD,pD=function(e,t,n,r,a){var i,s=n-r;return i="M ".concat(e,",").concat(t),i+="L ".concat(e+n,",").concat(t),i+="L ".concat(e+n-s/2,",").concat(t+a),i+="L ".concat(e+n-s/2-r,",").concat(t+a),i+="L ".concat(e,",").concat(t," Z")},fD={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},mD=function(e){var t=oD(oD({},fD),e),n=O.useRef(),r=aD(O.useState(-1),2),a=r[0],i=r[1];O.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var e=n.current.getTotalLength();e&&i(e)}catch(t){}},[]);var s=t.x,o=t.y,l=t.upperWidth,c=t.lowerWidth,u=t.height,h=t.className,d=t.animationEasing,p=t.animationDuration,f=t.animationBegin,m=t.isUpdateAnimationActive;if(s!==+s||o!==+o||l!==+l||c!==+c||u!==+u||0===l&&0===c||0===u)return null;var g=Lt("recharts-trapezoid",h);return m?P.createElement(N$,{canBegin:a>0,from:{upperWidth:0,lowerWidth:0,height:u,x:s,y:o},to:{upperWidth:l,lowerWidth:c,height:u,x:s,y:o},duration:p,animationEasing:d,isActive:m},function(e){var r=e.upperWidth,i=e.lowerWidth,s=e.height,o=e.x,l=e.y;return P.createElement(N$,{canBegin:a>0,from:"0px ".concat(-1===a?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:f,duration:p,easing:d},P.createElement("path",rD({},Gx(t,!0),{className:g,d:pD(o,l,r,i,s),ref:n})))}):P.createElement("g",null,P.createElement("path",rD({},Gx(t,!0),{className:g,d:pD(s,o,l,c,u)})))},gD=["option","shapeType","propTransformer","activeClassName","isActive"];function yD(e){return(yD="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function xD(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function bD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function vD(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bD(Object(n),!0).forEach(function(t){wD(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bD(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function wD(e,t,n){var r;return r=function(e,t){if("object"!=yD(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=yD(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==yD(r)?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kD(e,t){return vD(vD({},t),e)}function SD(e){var t=e.shapeType,n=e.elementProps;switch(t){case"rectangle":return P.createElement(_$,n);case"trapezoid":return P.createElement(mD,n);case"sector":return P.createElement(T_,n);case"symbols":if(function(e){return"symbols"===e}(t))return P.createElement(Dv,n);break;default:return null}}function ND(e){var t,n=e.option,r=e.shapeType,a=e.propTransformer,i=void 0===a?kD:a,s=e.activeClassName,o=void 0===s?"recharts-active-shape":s,l=e.isActive,c=xD(e,gD);if(O.isValidElement(n))t=O.cloneElement(n,vD(vD({},c),function(e){return O.isValidElement(e)?e.props:e}(n)));else if(ex(n))t=n(c);else if(QF(n)&&!tD(n)){var u=i(n,c);t=P.createElement(SD,{shapeType:r,elementProps:u})}else{var h=c;t=P.createElement(SD,{shapeType:r,elementProps:h})}return l?P.createElement(vb,{className:o},t):t}function ED(e,t){return null!=t&&"trapezoids"in e.props}function AD(e,t){return null!=t&&"sectors"in e.props}function CD(e,t){return null!=t&&"points"in e.props}function jD(e,t){var n,r,a=e.x===(null==t||null===(n=t.labelViewBox)||void 0===n?void 0:n.x)||e.x===t.x,i=e.y===(null==t||null===(r=t.labelViewBox)||void 0===r?void 0:r.y)||e.y===t.y;return a&&i}function MD(e,t){var n=e.endAngle===t.endAngle,r=e.startAngle===t.startAngle;return n&&r}function TD(e,t){var n=e.x===t.x,r=e.y===t.y,a=e.z===t.z;return n&&r&&a}function ID(e){var t=e.activeTooltipItem,n=e.graphicalItem,r=e.itemData,a=function(e,t){var n;return ED(e,t)?n="trapezoids":AD(e,t)?n="sectors":CD(e,t)&&(n="points"),n}(n,t),i=function(e,t){var n,r;return ED(e,t)?null===(n=t.tooltipPayload)||void 0===n||null===(n=n[0])||void 0===n||null===(n=n.payload)||void 0===n?void 0:n.payload:AD(e,t)?null===(r=t.tooltipPayload)||void 0===r||null===(r=r[0])||void 0===r||null===(r=r.payload)||void 0===r?void 0:r.payload:CD(e,t)?t.payload:{}}(n,t),s=r.filter(function(e,r){var s=FO(i,e),o=n.props[a].filter(function(e){var r=function(e,t){var n;return ED(e,t)?n=jD:AD(e,t)?n=MD:CD(e,t)&&(n=TD),n}(n,t);return r(e,t)}),l=n.props[a].indexOf(o[o.length-1]);return s&&r===l});return r.indexOf(s[s.length-1])}const OD=n(dD?hD:(dD=1,hD=uD?cD:(uD=1,cD=function(e){return e&&e.length?e[0]:void 0})));var PD=["key"];function RD(e){return(RD="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _D(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function LD(){return LD=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},LD.apply(this,arguments)}function $D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function FD(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$D(Object(n),!0).forEach(function(t){UD(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$D(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function DD(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,WD(r.key),r)}}function zD(e,t,n){return t=BD(t),function(e,t){if(t&&("object"===RD(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,VD()?Reflect.construct(t,n||[],BD(e).constructor):t.apply(e,n))}function VD(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(VD=function(){return!!e})()}function BD(e){return(BD=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function HD(e,t){return(HD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function UD(e,t,n){return(t=WD(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function WD(e){var t=function(e,t){if("object"!=RD(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=RD(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==RD(t)?t:t+""}var ZD,GD,KD,qD,XD,YD,QD,JD,ez=function(){function e(){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return UD(t=zD(this,e,[].concat(r)),"state",{isAnimationFinished:!1}),UD(t,"handleAnimationEnd",function(){var e=t.props.onAnimationEnd;t.setState({isAnimationFinished:!0}),ex(e)&&e()}),UD(t,"handleAnimationStart",function(){var e=t.props.onAnimationStart;t.setState({isAnimationFinished:!1}),ex(e)&&e()}),UD(t,"handleMouseEnter",function(e){var n=t.props.onMouseEnter;n&&n(t.props,e)}),UD(t,"handleMouseLeave",function(e){var n=t.props.onMouseLeave;n&&n(t.props,e)}),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&HD(e,t)}(e,O.PureComponent),t=e,r=[{key:"getDerivedStateFromProps",value:function(e,t){return e.animationId!==t.prevAnimationId?{prevAnimationId:e.animationId,curPoints:e.points,prevPoints:t.curPoints}:e.points!==t.curPoints?{curPoints:e.points}:null}},{key:"renderDotItem",value:function(e,t){var n;if(P.isValidElement(e))n=P.cloneElement(e,t);else if(ex(e))n=e(t);else{var r=t.key,a=_D(t,PD);n=P.createElement(W$,LD({},a,{key:r,className:Lt("recharts-radar-dot","boolean"!=typeof e?e.className:"")}))}return n}}],(n=[{key:"renderDots",value:function(t){var n=this.props,r=n.dot,a=n.dataKey,i=Gx(this.props,!1),s=Gx(r,!0),o=t.map(function(t,n){var o=FD(FD(FD({key:"dot-".concat(n),r:3},i),s),{},{dataKey:a,cx:t.x,cy:t.y,index:n,payload:t});return e.renderDotItem(r,o)});return P.createElement(vb,{className:"recharts-radar-dots"},o)}},{key:"renderPolygonStatically",value:function(e){var t,n=this.props,r=n.shape,a=n.dot,i=n.isRange,s=n.baseLinePoints,o=n.connectNulls;return t=P.isValidElement(r)?P.cloneElement(r,FD(FD({},this.props),{},{points:e})):ex(r)?r(FD(FD({},this.props),{},{points:e})):P.createElement(H$,LD({},Gx(this.props,!0),{onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,points:e,baseLinePoints:i?s:null,connectNulls:o})),P.createElement(vb,{className:"recharts-radar-polygon"},t,a?this.renderDots(e):null)}},{key:"renderPolygonWithAnimation",value:function(){var e=this,t=this.props,n=t.points,r=t.isAnimationActive,a=t.animationBegin,i=t.animationDuration,s=t.animationEasing,o=t.animationId,l=this.state.prevPoints;return P.createElement(N$,{begin:a,duration:i,isActive:r,easing:s,from:{t:0},to:{t:1},key:"radar-".concat(o),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(t){var r=t.t,a=l&&l.length/n.length,i=n.map(function(e,t){var n=l&&l[Math.floor(t*a)];if(n){var i=kx(n.x,e.x),s=kx(n.y,e.y);return FD(FD({},e),{},{x:i(r),y:s(r)})}var o=kx(e.cx,e.x),c=kx(e.cy,e.y);return FD(FD({},e),{},{x:o(r),y:c(r)})});return e.renderPolygonStatically(i)})}},{key:"renderPolygon",value:function(){var e=this.props,t=e.points,n=e.isAnimationActive,r=e.isRange,a=this.state.prevPoints;return!(n&&t&&t.length)||r||a&&FO(a,t)?this.renderPolygonStatically(t):this.renderPolygonWithAnimation()}},{key:"render",value:function(){var e=this.props,t=e.hide,n=e.className,r=e.points,a=e.isAnimationActive;if(t||!r||!r.length)return null;var i=this.state.isAnimationFinished,s=Lt("recharts-radar",n);return P.createElement(vb,{className:s},this.renderPolygon(),(!a||i)&&w_.renderCallByParent(this.props,r))}}])&&DD(t.prototype,n),r&&DD(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,r}();function tz(){if(qD)return KD;qD=1;var e=PA(),t=1/0;return KD=function(n){return n?(n=e(n))===t||n===-1/0?17976931348623157e292*(n<0?-1:1):n==n?n:0:0===n?n:0}}function nz(){if(YD)return XD;YD=1;var e=function(){if(GD)return ZD;GD=1;var e=Math.ceil,t=Math.max;return ZD=function(n,r,a,i){for(var s=-1,o=t(e((r-n)/(a||1)),0),l=Array(o);o--;)l[i?o:++s]=n,n+=a;return l}}(),t=PE(),n=tz();return XD=function(r){return function(a,i,s){return s&&"number"!=typeof s&&t(a,i,s)&&(i=s=void 0),a=n(a),void 0===i?(i=a,a=0):i=n(i),s=void 0===s?a<i?1:-1:n(s),e(a,i,s,r)}}}UD(ez,"displayName","Radar"),UD(ez,"defaultProps",{angleAxisId:0,radiusAxisId:0,hide:!1,activeDot:!0,dot:!1,legendType:"rect",isAnimationActive:!oA,animationBegin:0,animationDuration:1500,animationEasing:"ease"}),UD(ez,"getComposedData",function(e){var t=e.radiusAxis,n=e.angleAxis,r=e.displayedData,a=e.dataKey,i=e.bandSize,s=n.cx,o=n.cy,l=!1,c=[],u="number"!==n.type&&null!=i?i:0;r.forEach(function(e,r){var i=hR(e,n.dataKey,r),h=hR(e,a),d=n.scale(i)+u,p=Array.isArray(h)?c_(h):h,f=Xy(p)?void 0:t.scale(p);Array.isArray(h)&&h.length>=2&&(l=!0),c.push(FD(FD({},UR(s,o,f,d)),{},{name:i,value:h,cx:s,cy:o,radius:f,angle:d,payload:e}))});var h=[];return l&&c.forEach(function(e){if(Array.isArray(e.value)){var n=OD(e.value),r=Xy(n)?void 0:t.scale(n);h.push(FD(FD({},e),{},{radius:r},UR(s,o,r,e.angle)))}else h.push(e)}),{points:c,isRange:l,baseLinePoints:h}});const rz=n(function(){if(JD)return QD;JD=1;var e=nz()();return QD=e}());function az(e){return(az="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function iz(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function sz(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?iz(Object(n),!0).forEach(function(t){oz(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iz(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function oz(e,t,n){var r;return r=function(e,t){if("object"!=az(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=az(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==az(r)?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var lz=["Webkit","Moz","O","ms"];function cz(e){return(cz="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function uz(){return uz=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},uz.apply(this,arguments)}function hz(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function dz(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?hz(Object(n),!0).forEach(function(t){xz(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hz(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function pz(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,bz(r.key),r)}}function fz(e,t,n){return t=gz(t),function(e,t){if(t&&("object"===cz(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,mz()?Reflect.construct(t,n||[],gz(e).constructor):t.apply(e,n))}function mz(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(mz=function(){return!!e})()}function gz(e){return(gz=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function yz(e,t){return(yz=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function xz(e,t,n){return(t=bz(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bz(e){var t=function(e,t){if("object"!=cz(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=cz(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==cz(t)?t:t+""}var vz,wz,kz,Sz,Nz=function(e){return e.changedTouches&&!!e.changedTouches.length},Ez=function(){function e(t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),xz(n=fz(this,e,[t]),"handleDrag",function(e){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(e):n.state.isSlideMoving&&n.handleSlideDrag(e)}),xz(n,"handleTouchMove",function(e){null!=e.changedTouches&&e.changedTouches.length>0&&n.handleDrag(e.changedTouches[0])}),xz(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var e=n.props,t=e.endIndex,r=e.onDragEnd,a=e.startIndex;null==r||r({endIndex:t,startIndex:a})}),n.detachDragEndListener()}),xz(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),xz(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),xz(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),xz(n,"handleSlideDragStart",function(e){var t=Nz(e)?e.changedTouches[0]:e;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:t.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&yz(e,t)}(e,O.PureComponent),t=e,r=[{key:"renderDefaultTraveller",value:function(e){var t=e.x,n=e.y,r=e.width,a=e.height,i=e.stroke,s=Math.floor(n+a/2)-1;return P.createElement(P.Fragment,null,P.createElement("rect",{x:t,y:n,width:r,height:a,fill:i,stroke:"none"}),P.createElement("line",{x1:t+1,y1:s,x2:t+r-1,y2:s,fill:"none",stroke:"#fff"}),P.createElement("line",{x1:t+1,y1:s+2,x2:t+r-1,y2:s+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(t,n){return P.isValidElement(t)?P.cloneElement(t,n):ex(t)?t(n):e.renderDefaultTraveller(n)}},{key:"getDerivedStateFromProps",value:function(e,t){var n=e.data,r=e.width,a=e.x,i=e.travellerWidth,s=e.updateId,o=e.startIndex,l=e.endIndex;if(n!==t.prevData||s!==t.prevUpdateId)return dz({prevData:n,prevTravellerWidth:i,prevUpdateId:s,prevX:a,prevWidth:r},n&&n.length?function(e){var t=e.data,n=e.startIndex,r=e.endIndex,a=e.x,i=e.width,s=e.travellerWidth;if(!t||!t.length)return{};var o=t.length,l=tj().domain(rz(0,o)).range([a,a+i-s]),c=l.domain().map(function(e){return l(e)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:l(n),endX:l(r),scale:l,scaleValues:c}}({data:n,width:r,x:a,travellerWidth:i,startIndex:o,endIndex:l}):{scale:null,scaleValues:null});if(t.scale&&(r!==t.prevWidth||a!==t.prevX||i!==t.prevTravellerWidth)){t.scale.range([a,a+r-i]);var c=t.scale.domain().map(function(e){return t.scale(e)});return{prevData:n,prevTravellerWidth:i,prevUpdateId:s,prevX:a,prevWidth:r,startX:t.scale(e.startIndex),endX:t.scale(e.endIndex),scaleValues:c}}return null}},{key:"getIndexInRange",value:function(e,t){for(var n=0,r=e.length-1;r-n>1;){var a=Math.floor((n+r)/2);e[a]>t?r=a:n=a}return t>=e[r]?r:n}}],(n=[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(t){var n=t.startX,r=t.endX,a=this.state.scaleValues,i=this.props,s=i.gap,o=i.data.length-1,l=Math.min(n,r),c=Math.max(n,r),u=e.getIndexInRange(a,l),h=e.getIndexInRange(a,c);return{startIndex:u-u%s,endIndex:h===o?o:h-h%s}}},{key:"getTextOfTick",value:function(e){var t=this.props,n=t.data,r=t.tickFormatter,a=t.dataKey,i=hR(n[e],a,e);return ex(r)?r(i,e):i}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(e){var t=this.state,n=t.slideMoveStartX,r=t.startX,a=t.endX,i=this.props,s=i.x,o=i.width,l=i.travellerWidth,c=i.startIndex,u=i.endIndex,h=i.onChange,d=e.pageX-n;d>0?d=Math.min(d,s+o-l-a,s+o-l-r):d<0&&(d=Math.max(d,s-r,s-a));var p=this.getIndex({startX:r+d,endX:a+d});p.startIndex===c&&p.endIndex===u||!h||h(p),this.setState({startX:r+d,endX:a+d,slideMoveStartX:e.pageX})}},{key:"handleTravellerDragStart",value:function(e,t){var n=Nz(t)?t.changedTouches[0]:t;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:e,brushMoveStartX:n.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(e){var t=this.state,n=t.brushMoveStartX,r=t.movingTravellerId,a=t.endX,i=t.startX,s=this.state[r],o=this.props,l=o.x,c=o.width,u=o.travellerWidth,h=o.onChange,d=o.gap,p=o.data,f={startX:this.state.startX,endX:this.state.endX},m=e.pageX-n;m>0?m=Math.min(m,l+c-u-s):m<0&&(m=Math.max(m,l-s)),f[r]=s+m;var g=this.getIndex(f),y=g.startIndex,x=g.endIndex;this.setState(xz(xz({},r,s+m),"brushMoveStartX",e.pageX),function(){var e;h&&(e=p.length-1,("startX"===r&&(a>i?y%d===0:x%d===0)||a<i&&x===e||"endX"===r&&(a>i?x%d===0:y%d===0)||a>i&&x===e)&&h(g))})}},{key:"handleTravellerMoveKeyboard",value:function(e,t){var n=this,r=this.state,a=r.scaleValues,i=r.startX,s=r.endX,o=this.state[t],l=a.indexOf(o);if(-1!==l){var c=l+e;if(!(-1===c||c>=a.length)){var u=a[c];"startX"===t&&u>=s||"endX"===t&&u<=i||this.setState(xz({},t,u),function(){n.props.onChange(n.getIndex({startX:n.state.startX,endX:n.state.endX}))})}}}},{key:"renderBackground",value:function(){var e=this.props,t=e.x,n=e.y,r=e.width,a=e.height,i=e.fill,s=e.stroke;return P.createElement("rect",{stroke:s,fill:i,x:t,y:n,width:r,height:a})}},{key:"renderPanorama",value:function(){var e=this.props,t=e.x,n=e.y,r=e.width,a=e.height,i=e.data,s=e.children,o=e.padding,l=O.Children.only(s);return l?P.cloneElement(l,{x:t,y:n,width:r,height:a,margin:o,compact:!0,data:i}):null}},{key:"renderTravellerLayer",value:function(t,n){var r,a,i=this,s=this.props,o=s.y,l=s.travellerWidth,c=s.height,u=s.traveller,h=s.ariaLabel,d=s.data,p=s.startIndex,f=s.endIndex,m=Math.max(t,this.props.x),g=dz(dz({},Gx(this.props,!1)),{},{x:m,y:o,width:l,height:c}),y=h||"Min value: ".concat(null===(r=d[p])||void 0===r?void 0:r.name,", Max value: ").concat(null===(a=d[f])||void 0===a?void 0:a.name);return P.createElement(vb,{tabIndex:0,role:"slider","aria-label":y,"aria-valuenow":t,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[n],onTouchStart:this.travellerDragStartHandlers[n],onKeyDown:function(e){["ArrowLeft","ArrowRight"].includes(e.key)&&(e.preventDefault(),e.stopPropagation(),i.handleTravellerMoveKeyboard("ArrowRight"===e.key?1:-1,n))},onFocus:function(){i.setState({isTravellerFocused:!0})},onBlur:function(){i.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(u,g))}},{key:"renderSlide",value:function(e,t){var n=this.props,r=n.y,a=n.height,i=n.stroke,s=n.travellerWidth,o=Math.min(e,t)+s,l=Math.max(Math.abs(t-e)-s,0);return P.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:i,fillOpacity:.2,x:o,y:r,width:l,height:a})}},{key:"renderText",value:function(){var e=this.props,t=e.startIndex,n=e.endIndex,r=e.y,a=e.height,i=e.travellerWidth,s=e.stroke,o=this.state,l=o.startX,c=o.endX,u={pointerEvents:"none",fill:s};return P.createElement(vb,{className:"recharts-brush-texts"},P.createElement(AC,uz({textAnchor:"end",verticalAnchor:"middle",x:Math.min(l,c)-5,y:r+a/2},u),this.getTextOfTick(t)),P.createElement(AC,uz({textAnchor:"start",verticalAnchor:"middle",x:Math.max(l,c)+i+5,y:r+a/2},u),this.getTextOfTick(n)))}},{key:"render",value:function(){var e=this.props,t=e.data,n=e.className,r=e.children,a=e.x,i=e.y,s=e.width,o=e.height,l=e.alwaysShowText,c=this.state,u=c.startX,h=c.endX,d=c.isTextActive,p=c.isSlideMoving,f=c.isTravellerMoving,m=c.isTravellerFocused;if(!t||!t.length||!gx(a)||!gx(i)||!gx(s)||!gx(o)||s<=0||o<=0)return null;var g,y,x,b,v=Lt("recharts-brush",n),w=1===P.Children.count(r),k=(y="none",x=(g="userSelect").replace(/(\w)/,function(e){return e.toUpperCase()}),(b=lz.reduce(function(e,t){return sz(sz({},e),{},oz({},t+x,y))},{}))[g]=y,b);return P.createElement(vb,{className:v,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:k},this.renderBackground(),w&&this.renderPanorama(),this.renderSlide(u,h),this.renderTravellerLayer(u,"startX"),this.renderTravellerLayer(h,"endX"),(d||p||f||m||l)&&this.renderText())}}])&&pz(t.prototype,n),r&&pz(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,r}();xz(Ez,"displayName","Brush"),xz(Ez,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});const Az=n(function(){if(Sz)return kz;Sz=1;var e=Kw(),t=hN(),n=function(){if(wz)return vz;wz=1;var e=EE();return vz=function(t,n){var r;return e(t,function(e,t,a){return!(r=n(e,t,a))}),!!r}}(),r=xy(),a=PE();return kz=function(i,s,o){var l=r(i)?e:n;return o&&a(i,s,o)&&(s=void 0),l(i,t(s,3))}}());var Cz,jz,Mz,Tz,Iz=function(e,t){var n=e.alwaysShow,r=e.ifOverflow;return n&&(r="extendDomain"),r===t};const Oz=n(function(){if(Tz)return Mz;Tz=1;var e=function(){if(jz)return Cz;jz=1;var e=TE();return Cz=function(t,n,r){"__proto__"==n&&e?e(t,n,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[n]=r}}(),t=NE(),n=hN();return Mz=function(r,a){var i={};return a=n(a,3),t(r,function(t,n,r){e(i,n,a(t,n,r))}),i}}());var Pz,Rz,_z,Lz,$z,Fz;const Dz=n(function(){if(Fz)return $z;Fz=1;var e=Rz?Pz:(Rz=1,Pz=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}),t=function(){if(Lz)return _z;Lz=1;var e=EE();return _z=function(t,n){var r=!0;return e(t,function(e,t,a){return r=!!n(e,t,a)}),r}}(),n=hN(),r=xy(),a=PE();return $z=function(i,s,o){var l=r(i)?e:t;return o&&a(i,s,o)&&(s=void 0),l(i,n(s,3))}}());var zz=["x","y"];function Vz(e){return(Vz="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Bz(){return Bz=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Bz.apply(this,arguments)}function Hz(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Uz(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Hz(Object(n),!0).forEach(function(t){Wz(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Hz(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Wz(e,t,n){var r;return r=function(e,t){if("object"!=Vz(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=Vz(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==Vz(r)?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Zz(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Gz(e,t){var n=e.x,r=e.y,a=Zz(e,zz),i="".concat(n),s=parseInt(i,10),o="".concat(r),l=parseInt(o,10),c="".concat(t.height||a.height),u=parseInt(c,10),h="".concat(t.width||a.width),d=parseInt(h,10);return Uz(Uz(Uz(Uz(Uz({},t),a),s?{x:s}:{}),l?{y:l}:{}),{},{height:u,width:d,name:t.name,radius:t.radius})}function Kz(e){return P.createElement(ND,Bz({shapeType:"rectangle",propTransformer:Gz,activeClassName:"recharts-active-bar"},e))}var qz,Xz=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(n,r){if("number"==typeof e)return e;var a=gx(n)||function(e){return Xy(e)}(n);return a?e(n,r):(a||DP(),t)}},Yz=["value","background"];function Qz(e){return(Qz="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Jz(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function eV(){return eV=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},eV.apply(this,arguments)}function tV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function nV(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tV(Object(n),!0).forEach(function(t){lV(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tV(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function rV(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,cV(r.key),r)}}function aV(e,t,n){return t=sV(t),function(e,t){if(t&&("object"===Qz(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,iV()?Reflect.construct(t,n||[],sV(e).constructor):t.apply(e,n))}function iV(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(iV=function(){return!!e})()}function sV(e){return(sV=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function oV(e,t){return(oV=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function lV(e,t,n){return(t=cV(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cV(e){var t=function(e,t){if("object"!=Qz(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=Qz(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==Qz(t)?t:t+""}var uV=function(){function e(){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return lV(t=aV(this,e,[].concat(r)),"state",{isAnimationFinished:!1}),lV(t,"id",bx("recharts-bar-")),lV(t,"handleAnimationEnd",function(){var e=t.props.onAnimationEnd;t.setState({isAnimationFinished:!0}),e&&e()}),lV(t,"handleAnimationStart",function(){var e=t.props.onAnimationStart;t.setState({isAnimationFinished:!1}),e&&e()}),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&oV(e,t)}(e,O.PureComponent),t=e,r=[{key:"getDerivedStateFromProps",value:function(e,t){return e.animationId!==t.prevAnimationId?{prevAnimationId:e.animationId,curData:e.data,prevData:t.curData}:e.data!==t.curData?{curData:e.data}:null}}],(n=[{key:"renderRectanglesStatically",value:function(e){var t=this,n=this.props,r=n.shape,a=n.dataKey,i=n.activeIndex,s=n.activeBar,o=Gx(this.props,!1);return e&&e.map(function(e,n){var l=n===i,c=l?s:r,u=nV(nV(nV({},o),e),{},{isActive:l,option:c,index:n,dataKey:a,onAnimationStart:t.handleAnimationStart,onAnimationEnd:t.handleAnimationEnd});return P.createElement(vb,eV({className:"recharts-bar-rectangle"},Ox(t.props,e,n),{key:"rectangle-".concat(null==e?void 0:e.x,"-").concat(null==e?void 0:e.y,"-").concat(null==e?void 0:e.value,"-").concat(n)}),P.createElement(Kz,u))})}},{key:"renderRectanglesWithAnimation",value:function(){var e=this,t=this.props,n=t.data,r=t.layout,a=t.isAnimationActive,i=t.animationBegin,s=t.animationDuration,o=t.animationEasing,l=t.animationId,c=this.state.prevData;return P.createElement(N$,{begin:i,duration:s,isActive:a,easing:o,from:{t:0},to:{t:1},key:"bar-".concat(l),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(t){var a=t.t,i=n.map(function(e,t){var n=c&&c[t];if(n){var i=kx(n.x,e.x),s=kx(n.y,e.y),o=kx(n.width,e.width),l=kx(n.height,e.height);return nV(nV({},e),{},{x:i(a),y:s(a),width:o(a),height:l(a)})}if("horizontal"===r){var u=kx(0,e.height)(a);return nV(nV({},e),{},{y:e.y+e.height-u,height:u})}var h=kx(0,e.width)(a);return nV(nV({},e),{},{width:h})});return P.createElement(vb,null,e.renderRectanglesStatically(i))})}},{key:"renderRectangles",value:function(){var e=this.props,t=e.data,n=e.isAnimationActive,r=this.state.prevData;return!(n&&t&&t.length)||r&&FO(r,t)?this.renderRectanglesStatically(t):this.renderRectanglesWithAnimation()}},{key:"renderBackground",value:function(){var e=this,t=this.props,n=t.data,r=t.dataKey,a=t.activeIndex,i=Gx(this.props.background,!1);return n.map(function(t,n){t.value;var s=t.background,o=Jz(t,Yz);if(!s)return null;var l=nV(nV(nV(nV(nV({},o),{},{fill:"#eee"},s),i),Ox(e.props,t,n)),{},{onAnimationStart:e.handleAnimationStart,onAnimationEnd:e.handleAnimationEnd,dataKey:r,index:n,className:"recharts-bar-background-rectangle"});return P.createElement(Kz,eV({key:"background-bar-".concat(n),option:e.props.background,isActive:n===a},l))})}},{key:"renderErrorBar",value:function(e,t){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var n=this.props,r=n.data,a=n.xAxis,i=n.yAxis,s=n.layout,o=Bx(n.children,JP);if(!o)return null;var l="vertical"===s?r[0].height/2:r[0].width/2,c=function(e,t){var n=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:n,errorVal:hR(e,t)}},u={clipPath:e?"url(#clipPath-".concat(t,")"):null};return P.createElement(vb,u,o.map(function(e){return P.cloneElement(e,{key:"error-bar-".concat(t,"-").concat(e.props.dataKey),data:r,xAxis:a,yAxis:i,layout:s,offset:l,dataPointFormatter:c})}))}},{key:"render",value:function(){var e=this.props,t=e.hide,n=e.data,r=e.className,a=e.xAxis,i=e.yAxis,s=e.left,o=e.top,l=e.width,c=e.height,u=e.isAnimationActive,h=e.background,d=e.id;if(t||!n||!n.length)return null;var p=this.state.isAnimationFinished,f=Lt("recharts-bar",r),m=a&&a.allowDataOverflow,g=i&&i.allowDataOverflow,y=m||g,x=Xy(d)?this.id:d;return P.createElement(vb,{className:f},m||g?P.createElement("defs",null,P.createElement("clipPath",{id:"clipPath-".concat(x)},P.createElement("rect",{x:m?s:s-l/2,y:g?o:o-c/2,width:m?l:2*l,height:g?c:2*c}))):null,P.createElement(vb,{className:"recharts-bar-rectangles",clipPath:y?"url(#clipPath-".concat(x,")"):null},h?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(y,x),(!u||p)&&w_.renderCallByParent(this.props,n))}}])&&rV(t.prototype,n),r&&rV(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,r}();function hV(e){return(hV="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function dV(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,gV(r.key),r)}}function pV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function fV(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pV(Object(n),!0).forEach(function(t){mV(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pV(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function mV(e,t,n){return(t=gV(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gV(e){var t=function(e,t){if("object"!=hV(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=hV(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==hV(t)?t:t+""}qz=uV,lV(uV,"displayName","Bar"),lV(uV,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!oA,animationBegin:0,animationDuration:400,animationEasing:"ease"}),lV(uV,"getComposedData",function(e){var t=e.props,n=e.item,r=e.barPosition,a=e.bandSize,i=e.xAxis,s=e.yAxis,o=e.xAxisTicks,l=e.yAxisTicks,c=e.stackedData,u=e.dataStartIndex,h=e.displayedData,d=e.offset,p=function(e,t){if(!e)return null;for(var n=0,r=e.length;n<r;n++)if(e[n].item===t)return e[n].position;return null}(r,n);if(!p)return null;var f=t.layout,m=n.type.defaultProps,g=void 0!==m?nV(nV({},m),n.props):n.props,y=g.dataKey,x=g.children,b=g.minPointSize,v="horizontal"===f?s:i,w=c?v.scale.domain():null,k=function(e){var t=e.numericAxis,n=t.scale.domain();if("number"===t.type){var r=Math.min(n[0],n[1]),a=Math.max(n[0],n[1]);return r<=0&&a>=0?0:a<0?a:r}return n[0]}({numericAxis:v}),S=Bx(x,HA),N=h.map(function(e,t){var r,h,d,m,g,x;c?r=function(e,t){if(!t||2!==t.length||!gx(t[0])||!gx(t[1]))return e;var n=Math.min(t[0],t[1]),r=Math.max(t[0],t[1]),a=[e[0],e[1]];return(!gx(e[0])||e[0]<n)&&(a[0]=n),(!gx(e[1])||e[1]>r)&&(a[1]=r),a[0]>r&&(a[0]=r),a[1]<n&&(a[1]=n),a}(c[u+t],w):(r=hR(e,y),Array.isArray(r)||(r=[k,r]));var v=Xz(b,qz.defaultProps.minPointSize)(r[1],t);if("horizontal"===f){var N,E=[s.scale(r[0]),s.scale(r[1])],A=E[0],C=E[1];h=jR({axis:i,ticks:o,bandSize:a,offset:p.offset,entry:e,index:t}),d=null!==(N=null!=C?C:A)&&void 0!==N?N:void 0,m=p.size;var j=A-C;if(g=Number.isNaN(j)?0:j,x={x:h,y:s.y,width:m,height:s.height},Math.abs(v)>0&&Math.abs(g)<Math.abs(v)){var M=fx(g||v)*(Math.abs(v)-Math.abs(g));d-=M,g+=M}}else{var T=[i.scale(r[0]),i.scale(r[1])],I=T[0],O=T[1];if(h=I,d=jR({axis:s,ticks:l,bandSize:a,offset:p.offset,entry:e,index:t}),m=O-I,g=p.size,x={x:i.x,y:d,width:i.width,height:g},Math.abs(v)>0&&Math.abs(m)<Math.abs(v))m+=fx(m||v)*(Math.abs(v)-Math.abs(m))}return nV(nV(nV({},e),{},{x:h,y:d,width:m,height:g,value:c?r:r[1],payload:e,background:x},S&&S[t]&&S[t].props),{},{tooltipPayload:[_R(n,e)],tooltipPosition:{x:h+m/2,y:d+g/2}})});return nV({data:N,layout:f},d)});var yV=function(e,t,n,r,a){var i=e.width,s=e.height,o=e.layout,l=e.children,c=Object.keys(t),u={left:n.left,leftMirror:n.left,right:i-n.right,rightMirror:i-n.right,top:n.top,topMirror:n.top,bottom:s-n.bottom,bottomMirror:s-n.bottom},h=!!Hx(l,uV);return c.reduce(function(i,s){var l,c,d,p,f,m=t[s],g=m.orientation,y=m.domain,x=m.padding,b=void 0===x?{}:x,v=m.mirror,w=m.reversed,k="".concat(g).concat(v?"Mirror":"");if("number"===m.type&&("gap"===m.padding||"no-gap"===m.padding)){var S=y[1]-y[0],N=1/0,E=m.categoricalDomain.sort(Nx);if(E.forEach(function(e,t){t>0&&(N=Math.min((e||0)-(E[t-1]||0),N))}),Number.isFinite(N)){var A=N/S,C="vertical"===m.layout?n.height:n.width;if("gap"===m.padding&&(l=A*C/2),"no-gap"===m.padding){var j=vx(e.barCategoryGap,A*C),M=A*C/2;l=M-j-(M-j)/C*j}}}c="xAxis"===r?[n.left+(b.left||0)+(l||0),n.left+n.width-(b.right||0)-(l||0)]:"yAxis"===r?"horizontal"===o?[n.top+n.height-(b.bottom||0),n.top+(b.top||0)]:[n.top+(b.top||0)+(l||0),n.top+n.height-(b.bottom||0)-(l||0)]:m.range,w&&(c=[c[1],c[0]]);var T=wR(m,a,h),I=T.scale,O=T.realScaleType;I.domain(y).range(c),SR(I);var P=AR(I,fV(fV({},m),{},{realScaleType:O}));"xAxis"===r?(f="top"===g&&!v||"bottom"===g&&v,d=n.left,p=u[k]-f*m.height):"yAxis"===r&&(f="left"===g&&!v||"right"===g&&v,d=u[k]-f*m.width,p=n.top);var R=fV(fV(fV({},m),P),{},{realScaleType:O,x:d,y:p,scale:I,width:"xAxis"===r?n.width:m.width,height:"yAxis"===r?n.height:m.height});return R.bandSize=PR(R,P),m.hide||"xAxis"!==r?m.hide||(u[k]+=(f?-1:1)*R.width):u[k]+=(f?-1:1)*R.height,fV(fV({},i),{},mV({},s,R))},{})},xV=function(e,t){var n=e.x,r=e.y,a=t.x,i=t.y;return{x:Math.min(n,a),y:Math.min(r,i),width:Math.abs(a-n),height:Math.abs(i-r)}},bV=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.scale=t}return t=e,n=[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.bandAware,r=t.position;if(void 0!==e){if(r)switch(r){case"start":default:return this.scale(e);case"middle":var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+a;case"end":var i=this.bandwidth?this.bandwidth():0;return this.scale(e)+i}if(n){var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+s}return this.scale(e)}}},{key:"isInRange",value:function(e){var t=this.range(),n=t[0],r=t[t.length-1];return n<=r?e>=n&&e<=r:e>=r&&e<=n}}],r=[{key:"create",value:function(t){return new e(t)}}],n&&dV(t.prototype,n),r&&dV(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,r}();mV(bV,"EPS",1e-4);var vV=function(e){var t=Object.keys(e).reduce(function(t,n){return fV(fV({},t),{},mV({},n,bV.create(e[n])))},{});return fV(fV({},t),{},{apply:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.bandAware,a=n.position;return Oz(e,function(e,n){return t[n].apply(e,{bandAware:r,position:a})})},isInRange:function(e){return Dz(e,function(e,n){return t[n].isInRange(e)})}})};var wV,kV,SV,NV,EV,AV,CV,jV;function MV(){if(AV)return EV;AV=1;var e=dN(),t=hN(),n=function(){if(NV)return SV;NV=1;var e=tz();return SV=function(t){var n=e(t),r=n%1;return n==n?r?n-r:n:0}}(),r=Math.max;return EV=function(a,i,s){var o=null==a?0:a.length;if(!o)return-1;var l=null==s?0:n(s);return l<0&&(l=r(o+l,0)),e(a,t(i,3),l)}}const TV=n(function(){if(jV)return CV;jV=1;var e=function(){if(kV)return wV;kV=1;var e=hN(),t=QS(),n=JS();return wV=function(r){return function(a,i,s){var o=Object(a);if(!t(a)){var l=e(i,3);a=n(a),i=function(e){return l(o[e],e,o)}}var c=r(a,i,s);return c>-1?o[l?a[c]:c]:void 0}}}()(MV());return CV=e}());var IV=n(Dy())(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),OV=O.createContext(void 0),PV=O.createContext(void 0),RV=O.createContext(void 0),_V=O.createContext({}),LV=O.createContext(void 0),$V=O.createContext(0),FV=O.createContext(0),DV=function(e){var t=e.state,n=t.xAxisMap,r=t.yAxisMap,a=t.offset,i=e.clipPathId,s=e.children,o=e.width,l=e.height,c=IV(a);return P.createElement(OV.Provider,{value:n},P.createElement(PV.Provider,{value:r},P.createElement(_V.Provider,{value:a},P.createElement(RV.Provider,{value:c},P.createElement(LV.Provider,{value:i},P.createElement($V.Provider,{value:l},P.createElement(FV.Provider,{value:o},s)))))))},zV=function(e){var t=O.useContext(OV);null==t&&DP();var n=t[e];return null==n&&DP(),n},VV=function(e){var t=O.useContext(PV);null==t&&DP();var n=t[e];return null==n&&DP(),n},BV=function(){return O.useContext(FV)},HV=function(){return O.useContext($V)};function UV(e){return(UV="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function WV(e,t,n){return t&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,JV(r.key),r)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function ZV(e,t,n){return t=KV(t),function(e,t){if(t&&("object"===UV(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,GV()?Reflect.construct(t,n||[],KV(e).constructor):t.apply(e,n))}function GV(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(GV=function(){return!!e})()}function KV(e){return(KV=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function qV(e,t){return(qV=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function XV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function YV(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?XV(Object(n),!0).forEach(function(t){QV(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):XV(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function QV(e,t,n){return(t=JV(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function JV(e){var t=function(e,t){if("object"!=UV(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=UV(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==UV(t)?t:t+""}function eB(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i,s,o=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t);else for(;!(l=(r=i.call(n)).done)&&(o.push(r.value),o.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return tB(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tB(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tB(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function nB(){return nB=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},nB.apply(this,arguments)}function rB(e){var t=e.x,n=e.y,r=e.segment,a=e.xAxisId,i=e.yAxisId,s=e.shape,o=e.className,l=e.alwaysShow,c=O.useContext(LV),u=zV(a),h=VV(i),d=O.useContext(RV);if(!c||!d)return null;wb(void 0===l,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=function(e,t,n,r,a,i,s,o,l){var c=a.x,u=a.y,h=a.width,d=a.height;if(n){var p=l.y,f=e.y.apply(p,{position:i});if(Iz(l,"discard")&&!e.y.isInRange(f))return null;var m=[{x:c+h,y:f},{x:c,y:f}];return"left"===o?m.reverse():m}if(t){var g=l.x,y=e.x.apply(g,{position:i});if(Iz(l,"discard")&&!e.x.isInRange(y))return null;var x=[{x:y,y:u+d},{x:y,y:u}];return"top"===s?x.reverse():x}if(r){var b=l.segment.map(function(t){return e.apply(t,{position:i})});return Iz(l,"discard")&&Az(b,function(t){return!e.isInRange(t)})?null:b}return null}(vV({x:u.scale,y:h.scale}),yx(t),yx(n),r&&2===r.length,d,e.position,u.orientation,h.orientation,e);if(!p)return null;var f=eB(p,2),m=f[0],g=m.x,y=m.y,x=f[1],b=x.x,v=x.y,w=YV(YV({clipPath:Iz(e,"hidden")?"url(#".concat(c,")"):void 0},Gx(e,!0)),{},{x1:g,y1:y,x2:b,y2:v});return P.createElement(vb,{className:Lt("recharts-reference-line",o)},function(e,t){return P.isValidElement(e)?P.cloneElement(e,t):ex(e)?e(t):P.createElement("line",nB({},t,{className:"recharts-reference-line-line"}))}(s,w),i_.renderCallByParent(e,function(e){var t=e.x1,n=e.y1,r=e.x2,a=e.y2;return xV({x:t,y:n},{x:r,y:a})}({x1:g,y1:y,x2:b,y2:v})))}var aB=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),ZV(this,e,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&qV(e,t)}(e,P.Component),WV(e,[{key:"render",value:function(){return P.createElement(rB,this.props)}}])}();function iB(){return iB=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},iB.apply(this,arguments)}function sB(e){return(sB="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function oB(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function lB(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oB(Object(n),!0).forEach(function(t){fB(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oB(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function cB(e,t,n){return t&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,mB(r.key),r)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function uB(e,t,n){return t=dB(t),function(e,t){if(t&&("object"===sB(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,hB()?Reflect.construct(t,n||[],dB(e).constructor):t.apply(e,n))}function hB(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(hB=function(){return!!e})()}function dB(e){return(dB=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function pB(e,t){return(pB=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function fB(e,t,n){return(t=mB(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mB(e){var t=function(e,t){if("object"!=sB(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=sB(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==sB(t)?t:t+""}QV(aB,"displayName","ReferenceLine"),QV(aB,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});var gB=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),uB(this,e,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&pB(e,t)}(e,P.Component),cB(e,[{key:"render",value:function(){var t=this.props,n=t.x,r=t.y,a=t.r,i=t.alwaysShow,s=t.clipPathId,o=yx(n),l=yx(r);if(wb(void 0===i,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!o||!l)return null;var c=function(e){var t=e.x,n=e.y,r=e.xAxis,a=e.yAxis,i=vV({x:r.scale,y:a.scale}),s=i.apply({x:t,y:n},{bandAware:!0});return Iz(e,"discard")&&!i.isInRange(s)?null:s}(this.props);if(!c)return null;var u=c.x,h=c.y,d=this.props,p=d.shape,f=d.className,m=lB(lB({clipPath:Iz(this.props,"hidden")?"url(#".concat(s,")"):void 0},Gx(this.props,!0)),{},{cx:u,cy:h});return P.createElement(vb,{className:Lt("recharts-reference-dot",f)},e.renderDot(p,m),i_.renderCallByParent(this.props,{x:u-a,y:h-a,width:2*a,height:2*a}))}}])}();function yB(){return yB=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},yB.apply(this,arguments)}function xB(e){return(xB="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function bB(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function vB(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bB(Object(n),!0).forEach(function(t){AB(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bB(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function wB(e,t,n){return t&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,CB(r.key),r)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function kB(e,t,n){return t=NB(t),function(e,t){if(t&&("object"===xB(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,SB()?Reflect.construct(t,n||[],NB(e).constructor):t.apply(e,n))}function SB(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(SB=function(){return!!e})()}function NB(e){return(NB=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function EB(e,t){return(EB=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function AB(e,t,n){return(t=CB(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function CB(e){var t=function(e,t){if("object"!=xB(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=xB(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==xB(t)?t:t+""}fB(gB,"displayName","ReferenceDot"),fB(gB,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1}),fB(gB,"renderDot",function(e,t){return P.isValidElement(e)?P.cloneElement(e,t):ex(e)?e(t):P.createElement(W$,iB({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"}))});var jB=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),kB(this,e,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&EB(e,t)}(e,P.Component),wB(e,[{key:"render",value:function(){var t=this.props,n=t.x1,r=t.x2,a=t.y1,i=t.y2,s=t.className,o=t.alwaysShow,l=t.clipPathId;wb(void 0===o,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var c=yx(n),u=yx(r),h=yx(a),d=yx(i),p=this.props.shape;if(!(c||u||h||d||p))return null;var f=function(e,t,n,r,a){var i=a.x1,s=a.x2,o=a.y1,l=a.y2,c=a.xAxis,u=a.yAxis;if(!c||!u)return null;var h=vV({x:c.scale,y:u.scale}),d={x:e?h.x.apply(i,{position:"start"}):h.x.rangeMin,y:n?h.y.apply(o,{position:"start"}):h.y.rangeMin},p={x:t?h.x.apply(s,{position:"end"}):h.x.rangeMax,y:r?h.y.apply(l,{position:"end"}):h.y.rangeMax};return!Iz(a,"discard")||h.isInRange(d)&&h.isInRange(p)?xV(d,p):null}(c,u,h,d,this.props);if(!f&&!p)return null;var m=Iz(this.props,"hidden")?"url(#".concat(l,")"):void 0;return P.createElement(vb,{className:Lt("recharts-reference-area",s)},e.renderRect(p,vB(vB({clipPath:m},Gx(this.props,!0)),f)),i_.renderCallByParent(this.props,f))}}])}();function MB(e,t,n){if(t<1)return[];if(1===t&&void 0===n)return e;for(var r=[],a=0;a<e.length;a+=t)r.push(e[a]);return r}function TB(e,t,n){return function(e){var t=e.width,n=e.height,r=function(e){return(e%180+180)%180}(arguments.length>1&&void 0!==arguments[1]?arguments[1]:0),a=r*Math.PI/180,i=Math.atan(n/t),s=a>i&&a<Math.PI-i?n/Math.sin(a):t/Math.cos(a);return Math.abs(s)}({width:e.width+t.width,height:e.height+t.height},n)}function IB(e,t,n,r,a){if(e*t<e*r||e*t>e*a)return!1;var i=n();return e*(t-e*i/2-r)>=0&&e*(t+e*i/2-a)<=0}function OB(e){return(OB="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function PB(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function RB(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?PB(Object(n),!0).forEach(function(t){_B(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):PB(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function _B(e,t,n){var r;return r=function(e,t){if("object"!=OB(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=OB(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==OB(r)?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function LB(e,t,n){var r=e.tick,a=e.ticks,i=e.viewBox,s=e.minTickGap,o=e.orientation,l=e.interval,c=e.tickFormatter,u=e.unit,h=e.angle;if(!a||!a.length||!r)return[];if(gx(l)||oA)return function(e,t){return MB(e,t+1)}(a,"number"==typeof l&&gx(l)?l:0);var d=[],p="top"===o||"bottom"===o?"width":"height",f=u&&"width"===p?YA(u,{fontSize:t,letterSpacing:n}):{width:0,height:0},m=function(e,r){var a=ex(c)?c(e.value,r):e.value;return"width"===p?TB(YA(a,{fontSize:t,letterSpacing:n}),f,h):YA(a,{fontSize:t,letterSpacing:n})[p]},g=a.length>=2?fx(a[1].coordinate-a[0].coordinate):1,y=function(e,t,n){var r="width"===n,a=e.x,i=e.y,s=e.width,o=e.height;return 1===t?{start:r?a:i,end:r?a+s:i+o}:{start:r?a+s:i+o,end:r?a:i}}(i,g,p);return"equidistantPreserveStart"===l?function(e,t,n,r,a){for(var i,s=(r||[]).slice(),o=t.start,l=t.end,c=0,u=1,h=o,d=function(){var t=null==r?void 0:r[c];if(void 0===t)return{v:MB(r,u)};var i,s=c,d=function(){return void 0===i&&(i=n(t,s)),i},p=t.coordinate,f=0===c||IB(e,p,d,h,l);f||(c=0,h=o,u+=1),f&&(h=p+e*(d()/2+a),c+=u)};u<=s.length;)if(i=d())return i.v;return[]}(g,y,m,a,s):(d="preserveStart"===l||"preserveStartEnd"===l?function(e,t,n,r,a,i){var s=(r||[]).slice(),o=s.length,l=t.start,c=t.end;if(i){var u=r[o-1],h=n(u,o-1),d=e*(u.coordinate+e*h/2-c);s[o-1]=u=RB(RB({},u),{},{tickCoord:d>0?u.coordinate-d*e:u.coordinate}),IB(e,u.tickCoord,function(){return h},l,c)&&(c=u.tickCoord-e*(h/2+a),s[o-1]=RB(RB({},u),{},{isShow:!0}))}for(var p=i?o-1:o,f=function(t){var r,i=s[t],o=function(){return void 0===r&&(r=n(i,t)),r};if(0===t){var u=e*(i.coordinate-e*o()/2-l);s[t]=i=RB(RB({},i),{},{tickCoord:u<0?i.coordinate-u*e:i.coordinate})}else s[t]=i=RB(RB({},i),{},{tickCoord:i.coordinate});IB(e,i.tickCoord,o,l,c)&&(l=i.tickCoord+e*(o()/2+a),s[t]=RB(RB({},i),{},{isShow:!0}))},m=0;m<p;m++)f(m);return s}(g,y,m,a,s,"preserveStartEnd"===l):function(e,t,n,r,a){for(var i=(r||[]).slice(),s=i.length,o=t.start,l=t.end,c=function(t){var r,c=i[t],u=function(){return void 0===r&&(r=n(c,t)),r};if(t===s-1){var h=e*(c.coordinate+e*u()/2-l);i[t]=c=RB(RB({},c),{},{tickCoord:h>0?c.coordinate-h*e:c.coordinate})}else i[t]=c=RB(RB({},c),{},{tickCoord:c.coordinate});IB(e,c.tickCoord,u,o,l)&&(l=c.tickCoord-e*(u()/2+a),i[t]=RB(RB({},c),{},{isShow:!0}))},u=s-1;u>=0;u--)c(u);return i}(g,y,m,a,s),d.filter(function(e){return e.isShow}))}AB(jB,"displayName","ReferenceArea"),AB(jB,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1}),AB(jB,"renderRect",function(e,t){return P.isValidElement(e)?P.cloneElement(e,t):ex(e)?e(t):P.createElement(_$,yB({},t,{className:"recharts-reference-area-rect"}))});var $B=["viewBox"],FB=["viewBox"],DB=["ticks"];function zB(e){return(zB="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function VB(){return VB=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},VB.apply(this,arguments)}function BB(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function HB(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?BB(Object(n),!0).forEach(function(t){XB(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):BB(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function UB(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function WB(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,YB(r.key),r)}}function ZB(e,t,n){return t=KB(t),function(e,t){if(t&&("object"===zB(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,GB()?Reflect.construct(t,n||[],KB(e).constructor):t.apply(e,n))}function GB(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(GB=function(){return!!e})()}function KB(e){return(KB=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function qB(e,t){return(qB=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function XB(e,t,n){return(t=YB(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function YB(e){var t=function(e,t){if("object"!=zB(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=zB(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==zB(t)?t:t+""}var QB=function(){function e(t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),(n=ZB(this,e,[t])).state={fontSize:"",letterSpacing:""},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&qB(e,t)}(e,O.Component),t=e,r=[{key:"renderTickItem",value:function(e,t,n){var r=Lt(t.className,"recharts-cartesian-axis-tick-value");return P.isValidElement(e)?P.cloneElement(e,HB(HB({},t),{},{className:r})):ex(e)?e(HB(HB({},t),{},{className:r})):P.createElement(AC,VB({},t,{className:"recharts-cartesian-axis-tick-value"}),n)}}],(n=[{key:"shouldComponentUpdate",value:function(e,t){var n=e.viewBox,r=UB(e,$B),a=this.props,i=a.viewBox,s=UB(a,FB);return!Ex(n,i)||!Ex(r,s)||!Ex(t,this.state)}},{key:"componentDidMount",value:function(){var e=this.layerReference;if(e){var t=e.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];t&&this.setState({fontSize:window.getComputedStyle(t).fontSize,letterSpacing:window.getComputedStyle(t).letterSpacing})}}},{key:"getTickLineCoord",value:function(e){var t,n,r,a,i,s,o=this.props,l=o.x,c=o.y,u=o.width,h=o.height,d=o.orientation,p=o.tickSize,f=o.mirror,m=o.tickMargin,g=f?-1:1,y=e.tickSize||p,x=gx(e.tickCoord)?e.tickCoord:e.coordinate;switch(d){case"top":t=n=e.coordinate,s=(r=(a=c+ +!f*h)-g*y)-g*m,i=x;break;case"left":r=a=e.coordinate,i=(t=(n=l+ +!f*u)-g*y)-g*m,s=x;break;case"right":r=a=e.coordinate,i=(t=(n=l+ +f*u)+g*y)+g*m,s=x;break;default:t=n=e.coordinate,s=(r=(a=c+ +f*h)+g*y)+g*m,i=x}return{line:{x1:t,y1:r,x2:n,y2:a},tick:{x:i,y:s}}}},{key:"getTickTextAnchor",value:function(){var e,t=this.props,n=t.orientation,r=t.mirror;switch(n){case"left":e=r?"start":"end";break;case"right":e=r?"end":"start";break;default:e="middle"}return e}},{key:"getTickVerticalAnchor",value:function(){var e=this.props,t=e.orientation,n=e.mirror,r="end";switch(t){case"left":case"right":r="middle";break;case"top":r=n?"start":"end";break;default:r=n?"end":"start"}return r}},{key:"renderAxisLine",value:function(){var e=this.props,t=e.x,n=e.y,r=e.width,a=e.height,i=e.orientation,s=e.mirror,o=e.axisLine,l=HB(HB(HB({},Gx(this.props,!1)),Gx(o,!1)),{},{fill:"none"});if("top"===i||"bottom"===i){var c=+("top"===i&&!s||"bottom"===i&&s);l=HB(HB({},l),{},{x1:t,y1:n+c*a,x2:t+r,y2:n+c*a})}else{var u=+("left"===i&&!s||"right"===i&&s);l=HB(HB({},l),{},{x1:t+u*r,y1:n,x2:t+u*r,y2:n+a})}return P.createElement("line",VB({},l,{className:Lt("recharts-cartesian-axis-line",Gy(o,"className"))}))}},{key:"renderTicks",value:function(t,n,r){var a=this,i=this.props,s=i.tickLine,o=i.stroke,l=i.tick,c=i.tickFormatter,u=i.unit,h=LB(HB(HB({},this.props),{},{ticks:t}),n,r),d=this.getTickTextAnchor(),p=this.getTickVerticalAnchor(),f=Gx(this.props,!1),m=Gx(l,!1),g=HB(HB({},f),{},{fill:"none"},Gx(s,!1)),y=h.map(function(t,n){var r=a.getTickLineCoord(t),i=r.line,y=r.tick,x=HB(HB(HB(HB({textAnchor:d,verticalAnchor:p},f),{},{stroke:"none",fill:o},m),y),{},{index:n,payload:t,visibleTicksCount:h.length,tickFormatter:c});return P.createElement(vb,VB({className:"recharts-cartesian-axis-tick",key:"tick-".concat(t.value,"-").concat(t.coordinate,"-").concat(t.tickCoord)},Ox(a.props,t,n)),s&&P.createElement("line",VB({},g,i,{className:Lt("recharts-cartesian-axis-tick-line",Gy(s,"className"))})),l&&e.renderTickItem(l,x,"".concat(ex(c)?c(t.value,n):t.value).concat(u||"")))});return P.createElement("g",{className:"recharts-cartesian-axis-ticks"},y)}},{key:"render",value:function(){var e=this,t=this.props,n=t.axisLine,r=t.width,a=t.height,i=t.ticksGenerator,s=t.className;if(t.hide)return null;var o=this.props,l=o.ticks,c=UB(o,DB),u=l;return ex(i)&&(u=l&&l.length>0?i(this.props):i(c)),r<=0||a<=0||!u||!u.length?null:P.createElement(vb,{className:Lt("recharts-cartesian-axis",s),ref:function(t){e.layerReference=t}},n&&this.renderAxisLine(),this.renderTicks(u,this.state.fontSize,this.state.letterSpacing),i_.renderCallByParent(this.props))}}])&&WB(t.prototype,n),r&&WB(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,r}();XB(QB,"displayName","CartesianAxis"),XB(QB,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var JB=["x1","y1","x2","y2","key"],eH=["offset"];function tH(e){return(tH="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function nH(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function rH(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nH(Object(n),!0).forEach(function(t){aH(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nH(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function aH(e,t,n){var r;return r=function(e,t){if("object"!=tH(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=tH(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==tH(r)?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function iH(){return iH=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},iH.apply(this,arguments)}function sH(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var oH=function(e){var t=e.fill;if(!t||"none"===t)return null;var n=e.fillOpacity,r=e.x,a=e.y,i=e.width,s=e.height,o=e.ry;return P.createElement("rect",{x:r,y:a,ry:o,width:i,height:s,stroke:"none",fill:t,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function lH(e,t){var n;if(P.isValidElement(e))n=P.cloneElement(e,t);else if(ex(e))n=e(t);else{var r=t.x1,a=t.y1,i=t.x2,s=t.y2,o=t.key,l=sH(t,JB),c=Gx(l,!1);c.offset;var u=sH(c,eH);n=P.createElement("line",iH({},u,{x1:r,y1:a,x2:i,y2:s,fill:"none",key:o}))}return n}function cH(e){var t=e.x,n=e.width,r=e.horizontal,a=void 0===r||r,i=e.horizontalPoints;if(!a||!i||!i.length)return null;var s=i.map(function(r,i){var s=rH(rH({},e),{},{x1:t,y1:r,x2:t+n,y2:r,key:"line-".concat(i),index:i});return lH(a,s)});return P.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function uH(e){var t=e.y,n=e.height,r=e.vertical,a=void 0===r||r,i=e.verticalPoints;if(!a||!i||!i.length)return null;var s=i.map(function(r,i){var s=rH(rH({},e),{},{x1:r,y1:t,x2:r,y2:t+n,key:"line-".concat(i),index:i});return lH(a,s)});return P.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function hH(e){var t=e.horizontalFill,n=e.fillOpacity,r=e.x,a=e.y,i=e.width,s=e.height,o=e.horizontalPoints,l=e.horizontal;if(!(void 0===l||l)||!t||!t.length)return null;var c=o.map(function(e){return Math.round(e+a-a)}).sort(function(e,t){return e-t});a!==c[0]&&c.unshift(0);var u=c.map(function(e,o){var l=!c[o+1]?a+s-e:c[o+1]-e;if(l<=0)return null;var u=o%t.length;return P.createElement("rect",{key:"react-".concat(o),y:e,x:r,height:l,width:i,stroke:"none",fill:t[u],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return P.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},u)}function dH(e){var t=e.vertical,n=void 0===t||t,r=e.verticalFill,a=e.fillOpacity,i=e.x,s=e.y,o=e.width,l=e.height,c=e.verticalPoints;if(!n||!r||!r.length)return null;var u=c.map(function(e){return Math.round(e+i-i)}).sort(function(e,t){return e-t});i!==u[0]&&u.unshift(0);var h=u.map(function(e,t){var n=!u[t+1]?i+o-e:u[t+1]-e;if(n<=0)return null;var c=t%r.length;return P.createElement("rect",{key:"react-".concat(t),x:e,y:s,width:n,height:l,stroke:"none",fill:r[c],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return P.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},h)}var pH=function(e,t){var n=e.xAxis,r=e.width,a=e.height,i=e.offset;return yR(LB(rH(rH(rH({},QB.defaultProps),n),{},{ticks:xR(n,!0),viewBox:{x:0,y:0,width:r,height:a}})),i.left,i.left+i.width,t)},fH=function(e,t){var n=e.yAxis,r=e.width,a=e.height,i=e.offset;return yR(LB(rH(rH(rH({},QB.defaultProps),n),{},{ticks:xR(n,!0),viewBox:{x:0,y:0,width:r,height:a}})),i.top,i.top+i.height,t)},mH={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function gH(e){var t,n,r,a,i,s,o,l,c=BV(),u=HV(),h=O.useContext(_V),d=rH(rH({},e),{},{stroke:null!==(t=e.stroke)&&void 0!==t?t:mH.stroke,fill:null!==(n=e.fill)&&void 0!==n?n:mH.fill,horizontal:null!==(r=e.horizontal)&&void 0!==r?r:mH.horizontal,horizontalFill:null!==(a=e.horizontalFill)&&void 0!==a?a:mH.horizontalFill,vertical:null!==(i=e.vertical)&&void 0!==i?i:mH.vertical,verticalFill:null!==(s=e.verticalFill)&&void 0!==s?s:mH.verticalFill,x:gx(e.x)?e.x:h.left,y:gx(e.y)?e.y:h.top,width:gx(e.width)?e.width:h.width,height:gx(e.height)?e.height:h.height}),p=d.x,f=d.y,m=d.width,g=d.height,y=d.syncWithTicks,x=d.horizontalValues,b=d.verticalValues,v=(o=O.useContext(OV),wx(o)),w=(l=O.useContext(PV),TV(l,function(e){return Dz(e.domain,Number.isFinite)})||wx(l));if(!gx(m)||m<=0||!gx(g)||g<=0||!gx(p)||p!==+p||!gx(f)||f!==+f)return null;var k=d.verticalCoordinatesGenerator||pH,S=d.horizontalCoordinatesGenerator||fH,N=d.horizontalPoints,E=d.verticalPoints;if((!N||!N.length)&&ex(S)){var A=x&&x.length,C=S({yAxis:w?rH(rH({},w),{},{ticks:A?x:w.ticks}):void 0,width:c,height:u,offset:h},!!A||y);wb(Array.isArray(C),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(tH(C),"]")),Array.isArray(C)&&(N=C)}if((!E||!E.length)&&ex(k)){var j=b&&b.length,M=k({xAxis:v?rH(rH({},v),{},{ticks:j?b:v.ticks}):void 0,width:c,height:u,offset:h},!!j||y);wb(Array.isArray(M),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(tH(M),"]")),Array.isArray(M)&&(E=M)}return P.createElement("g",{className:"recharts-cartesian-grid"},P.createElement(oH,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),P.createElement(cH,iH({},d,{offset:h,horizontalPoints:N,xAxis:v,yAxis:w})),P.createElement(uH,iH({},d,{offset:h,verticalPoints:E,xAxis:v,yAxis:w})),P.createElement(hH,iH({},d,{horizontalPoints:N})),P.createElement(dH,iH({},d,{verticalPoints:E})))}gH.displayName="CartesianGrid";var yH=["type","layout","connectNulls","ref"],xH=["key"];function bH(e){return(bH="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function vH(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function wH(){return wH=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},wH.apply(this,arguments)}function kH(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function SH(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?kH(Object(n),!0).forEach(function(t){IH(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kH(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function NH(e){return function(e){if(Array.isArray(e))return EH(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return EH(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return EH(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function EH(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function AH(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,OH(r.key),r)}}function CH(e,t,n){return t=MH(t),function(e,t){if(t&&("object"===bH(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,jH()?Reflect.construct(t,n||[],MH(e).constructor):t.apply(e,n))}function jH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(jH=function(){return!!e})()}function MH(e){return(MH=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function TH(e,t){return(TH=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function IH(e,t,n){return(t=OH(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function OH(e){var t=function(e,t){if("object"!=bH(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=bH(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==bH(t)?t:t+""}var PH=function(){function e(){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return IH(t=CH(this,e,[].concat(r)),"state",{isAnimationFinished:!0,totalLength:0}),IH(t,"generateSimpleStrokeDasharray",function(e,t){return"".concat(t,"px ").concat(e-t,"px")}),IH(t,"getStrokeDasharray",function(n,r,a){var i=a.reduce(function(e,t){return e+t});if(!i)return t.generateSimpleStrokeDasharray(r,n);for(var s=Math.floor(n/i),o=n%i,l=r-n,c=[],u=0,h=0;u<a.length;h+=a[u],++u)if(h+a[u]>o){c=[].concat(NH(a.slice(0,u)),[o-h]);break}var d=c.length%2==0?[0,l]:[l];return[].concat(NH(e.repeat(a,s)),NH(c),d).map(function(e){return"".concat(e,"px")}).join(", ")}),IH(t,"id",bx("recharts-line-")),IH(t,"pathRef",function(e){t.mainCurve=e}),IH(t,"handleAnimationEnd",function(){t.setState({isAnimationFinished:!0}),t.props.onAnimationEnd&&t.props.onAnimationEnd()}),IH(t,"handleAnimationStart",function(){t.setState({isAnimationFinished:!1}),t.props.onAnimationStart&&t.props.onAnimationStart()}),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&TH(e,t)}(e,O.PureComponent),t=e,r=[{key:"getDerivedStateFromProps",value:function(e,t){return e.animationId!==t.prevAnimationId?{prevAnimationId:e.animationId,curPoints:e.points,prevPoints:t.curPoints}:e.points!==t.curPoints?{curPoints:e.points}:null}},{key:"repeat",value:function(e,t){for(var n=e.length%2!=0?[].concat(NH(e),[0]):e,r=[],a=0;a<t;++a)r=[].concat(NH(r),NH(n));return r}},{key:"renderDotItem",value:function(e,t){var n;if(P.isValidElement(e))n=P.cloneElement(e,t);else if(ex(e))n=e(t);else{var r=t.key,a=vH(t,xH),i=Lt("recharts-line-dot","boolean"!=typeof e?e.className:"");n=P.createElement(W$,wH({key:r},a,{className:i}))}return n}}],(n=[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var e=this.getTotalLength();this.setState({totalLength:e})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var e=this.getTotalLength();e!==this.state.totalLength&&this.setState({totalLength:e})}}},{key:"getTotalLength",value:function(){var e=this.mainCurve;try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch(t){return 0}}},{key:"renderErrorBar",value:function(e,t){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var n=this.props,r=n.points,a=n.xAxis,i=n.yAxis,s=n.layout,o=Bx(n.children,JP);if(!o)return null;var l=function(e,t){return{x:e.x,y:e.y,value:e.value,errorVal:hR(e.payload,t)}},c={clipPath:e?"url(#clipPath-".concat(t,")"):null};return P.createElement(vb,c,o.map(function(e){return P.cloneElement(e,{key:"bar-".concat(e.props.dataKey),data:r,xAxis:a,yAxis:i,layout:s,dataPointFormatter:l})}))}},{key:"renderDots",value:function(t,n,r){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,i=a.dot,s=a.points,o=a.dataKey,l=Gx(this.props,!1),c=Gx(i,!0),u=s.map(function(t,n){var r=SH(SH(SH({key:"dot-".concat(n),r:3},l),c),{},{index:n,cx:t.x,cy:t.y,value:t.value,dataKey:o,payload:t.payload,points:s});return e.renderDotItem(i,r)}),h={clipPath:t?"url(#clipPath-".concat(n?"":"dots-").concat(r,")"):null};return P.createElement(vb,wH({className:"recharts-line-dots",key:"dots"},h),u)}},{key:"renderCurveStatically",value:function(e,t,n,r){var a=this.props,i=a.type,s=a.layout,o=a.connectNulls;a.ref;var l=vH(a,yH),c=SH(SH(SH({},Gx(l,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:t?"url(#clipPath-".concat(n,")"):null,points:e},r),{},{type:i,layout:s,connectNulls:o});return P.createElement(Z_,wH({},c,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(e,t){var n=this,r=this.props,a=r.points,i=r.strokeDasharray,s=r.isAnimationActive,o=r.animationBegin,l=r.animationDuration,c=r.animationEasing,u=r.animationId,h=r.animateNewValues,d=r.width,p=r.height,f=this.state,m=f.prevPoints,g=f.totalLength;return P.createElement(N$,{begin:o,duration:l,isActive:s,easing:c,from:{t:0},to:{t:1},key:"line-".concat(u),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(r){var s=r.t;if(m){var o=m.length/a.length,l=a.map(function(e,t){var n=Math.floor(t*o);if(m[n]){var r=m[n],a=kx(r.x,e.x),i=kx(r.y,e.y);return SH(SH({},e),{},{x:a(s),y:i(s)})}if(h){var l=kx(2*d,e.x),c=kx(p/2,e.y);return SH(SH({},e),{},{x:l(s),y:c(s)})}return SH(SH({},e),{},{x:e.x,y:e.y})});return n.renderCurveStatically(l,e,t)}var c,u=kx(0,g)(s);if(i){var f="".concat(i).split(/[,\s]+/gim).map(function(e){return parseFloat(e)});c=n.getStrokeDasharray(u,g,f)}else c=n.generateSimpleStrokeDasharray(g,u);return n.renderCurveStatically(a,e,t,{strokeDasharray:c})})}},{key:"renderCurve",value:function(e,t){var n=this.props,r=n.points,a=n.isAnimationActive,i=this.state,s=i.prevPoints,o=i.totalLength;return a&&r&&r.length&&(!s&&o>0||!FO(s,r))?this.renderCurveWithAnimation(e,t):this.renderCurveStatically(r,e,t)}},{key:"render",value:function(){var e,t=this.props,n=t.hide,r=t.dot,a=t.points,i=t.className,s=t.xAxis,o=t.yAxis,l=t.top,c=t.left,u=t.width,h=t.height,d=t.isAnimationActive,p=t.id;if(n||!a||!a.length)return null;var f=this.state.isAnimationFinished,m=1===a.length,g=Lt("recharts-line",i),y=s&&s.allowDataOverflow,x=o&&o.allowDataOverflow,b=y||x,v=Xy(p)?this.id:p,w=null!==(e=Gx(r,!1))&&void 0!==e?e:{r:3,strokeWidth:2},k=w.r,S=void 0===k?3:k,N=w.strokeWidth,E=void 0===N?2:N,A=(Zx(r)?r:{}).clipDot,C=void 0===A||A,j=2*S+E;return P.createElement(vb,{className:g},y||x?P.createElement("defs",null,P.createElement("clipPath",{id:"clipPath-".concat(v)},P.createElement("rect",{x:y?c:c-u/2,y:x?l:l-h/2,width:y?u:2*u,height:x?h:2*h})),!C&&P.createElement("clipPath",{id:"clipPath-dots-".concat(v)},P.createElement("rect",{x:c-j/2,y:l-j/2,width:u+j,height:h+j}))):null,!m&&this.renderCurve(b,v),this.renderErrorBar(b,v),(m||r)&&this.renderDots(b,C,v),(!d||f)&&w_.renderCallByParent(this.props,a))}}])&&AH(t.prototype,n),r&&AH(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,r}();IH(PH,"displayName","Line"),IH(PH,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!oA,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1}),IH(PH,"getComposedData",function(e){var t=e.props,n=e.xAxis,r=e.yAxis,a=e.xAxisTicks,i=e.yAxisTicks,s=e.dataKey,o=e.bandSize,l=e.displayedData,c=e.offset,u=t.layout;return SH({points:l.map(function(e,t){var l=hR(e,s);return"horizontal"===u?{x:CR({axis:n,ticks:a,bandSize:o,entry:e,index:t}),y:Xy(l)?null:r.scale(l),value:l,payload:e}:{x:Xy(l)?null:n.scale(l),y:CR({axis:r,ticks:i,bandSize:o,entry:e,index:t}),value:l,payload:e}}),layout:u},c)});var RH,_H=["layout","type","stroke","connectNulls","isRange","ref"],LH=["key"];function $H(e){return($H="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function FH(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function DH(){return DH=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},DH.apply(this,arguments)}function zH(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function VH(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?zH(Object(n),!0).forEach(function(t){GH(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zH(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function BH(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,KH(r.key),r)}}function HH(e,t,n){return t=WH(t),function(e,t){if(t&&("object"===$H(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,UH()?Reflect.construct(t,n||[],WH(e).constructor):t.apply(e,n))}function UH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(UH=function(){return!!e})()}function WH(e){return(WH=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ZH(e,t){return(ZH=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function GH(e,t,n){return(t=KH(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function KH(e){var t=function(e,t){if("object"!=$H(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=$H(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==$H(t)?t:t+""}var qH=function(){function e(){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return GH(t=HH(this,e,[].concat(r)),"state",{isAnimationFinished:!0}),GH(t,"id",bx("recharts-area-")),GH(t,"handleAnimationEnd",function(){var e=t.props.onAnimationEnd;t.setState({isAnimationFinished:!0}),ex(e)&&e()}),GH(t,"handleAnimationStart",function(){var e=t.props.onAnimationStart;t.setState({isAnimationFinished:!1}),ex(e)&&e()}),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ZH(e,t)}(e,O.PureComponent),t=e,r=[{key:"getDerivedStateFromProps",value:function(e,t){return e.animationId!==t.prevAnimationId?{prevAnimationId:e.animationId,curPoints:e.points,curBaseLine:e.baseLine,prevPoints:t.curPoints,prevBaseLine:t.curBaseLine}:e.points!==t.curPoints||e.baseLine!==t.curBaseLine?{curPoints:e.points,curBaseLine:e.baseLine}:null}}],(n=[{key:"renderDots",value:function(t,n,r){var a=this.props.isAnimationActive,i=this.state.isAnimationFinished;if(a&&!i)return null;var s=this.props,o=s.dot,l=s.points,c=s.dataKey,u=Gx(this.props,!1),h=Gx(o,!0),d=l.map(function(t,n){var r=VH(VH(VH({key:"dot-".concat(n),r:3},u),h),{},{index:n,cx:t.x,cy:t.y,dataKey:c,value:t.value,payload:t.payload,points:l});return e.renderDotItem(o,r)}),p={clipPath:t?"url(#clipPath-".concat(n?"":"dots-").concat(r,")"):null};return P.createElement(vb,DH({className:"recharts-area-dots"},p),d)}},{key:"renderHorizontalRect",value:function(e){var t=this.props,n=t.baseLine,r=t.points,a=t.strokeWidth,i=r[0].x,s=r[r.length-1].x,o=e*Math.abs(i-s),l=NO(r.map(function(e){return e.y||0}));return gx(n)&&"number"==typeof n?l=Math.max(n,l):n&&Array.isArray(n)&&n.length&&(l=Math.max(NO(n.map(function(e){return e.y||0})),l)),gx(l)?P.createElement("rect",{x:i<s?i:i-o,y:0,width:o,height:Math.floor(l+(a?parseInt("".concat(a),10):1))}):null}},{key:"renderVerticalRect",value:function(e){var t=this.props,n=t.baseLine,r=t.points,a=t.strokeWidth,i=r[0].y,s=r[r.length-1].y,o=e*Math.abs(i-s),l=NO(r.map(function(e){return e.x||0}));return gx(n)&&"number"==typeof n?l=Math.max(n,l):n&&Array.isArray(n)&&n.length&&(l=Math.max(NO(n.map(function(e){return e.x||0})),l)),gx(l)?P.createElement("rect",{x:0,y:i<s?i:i-o,width:l+(a?parseInt("".concat(a),10):1),height:Math.floor(o)}):null}},{key:"renderClipRect",value:function(e){return"vertical"===this.props.layout?this.renderVerticalRect(e):this.renderHorizontalRect(e)}},{key:"renderAreaStatically",value:function(e,t,n,r){var a=this.props,i=a.layout,s=a.type,o=a.stroke,l=a.connectNulls,c=a.isRange;a.ref;var u=FH(a,_H);return P.createElement(vb,{clipPath:n?"url(#clipPath-".concat(r,")"):null},P.createElement(Z_,DH({},Gx(u,!0),{points:e,connectNulls:l,type:s,baseLine:t,layout:i,stroke:"none",className:"recharts-area-area"})),"none"!==o&&P.createElement(Z_,DH({},Gx(this.props,!1),{className:"recharts-area-curve",layout:i,type:s,connectNulls:l,fill:"none",points:e})),"none"!==o&&c&&P.createElement(Z_,DH({},Gx(this.props,!1),{className:"recharts-area-curve",layout:i,type:s,connectNulls:l,fill:"none",points:t})))}},{key:"renderAreaWithAnimation",value:function(e,t){var n=this,r=this.props,a=r.points,i=r.baseLine,s=r.isAnimationActive,o=r.animationBegin,l=r.animationDuration,c=r.animationEasing,u=r.animationId,h=this.state,d=h.prevPoints,p=h.prevBaseLine;return P.createElement(N$,{begin:o,duration:l,isActive:s,easing:c,from:{t:0},to:{t:1},key:"area-".concat(u),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(r){var s=r.t;if(d){var o,l=d.length/a.length,c=a.map(function(e,t){var n=Math.floor(t*l);if(d[n]){var r=d[n],a=kx(r.x,e.x),i=kx(r.y,e.y);return VH(VH({},e),{},{x:a(s),y:i(s)})}return e});return o=gx(i)&&"number"==typeof i?kx(p,i)(s):Xy(i)||dx(i)?kx(p,0)(s):i.map(function(e,t){var n=Math.floor(t*l);if(p[n]){var r=p[n],a=kx(r.x,e.x),i=kx(r.y,e.y);return VH(VH({},e),{},{x:a(s),y:i(s)})}return e}),n.renderAreaStatically(c,o,e,t)}return P.createElement(vb,null,P.createElement("defs",null,P.createElement("clipPath",{id:"animationClipPath-".concat(t)},n.renderClipRect(s))),P.createElement(vb,{clipPath:"url(#animationClipPath-".concat(t,")")},n.renderAreaStatically(a,i,e,t)))})}},{key:"renderArea",value:function(e,t){var n=this.props,r=n.points,a=n.baseLine,i=n.isAnimationActive,s=this.state,o=s.prevPoints,l=s.prevBaseLine,c=s.totalLength;return i&&r&&r.length&&(!o&&c>0||!FO(o,r)||!FO(l,a))?this.renderAreaWithAnimation(e,t):this.renderAreaStatically(r,a,e,t)}},{key:"render",value:function(){var e,t=this.props,n=t.hide,r=t.dot,a=t.points,i=t.className,s=t.top,o=t.left,l=t.xAxis,c=t.yAxis,u=t.width,h=t.height,d=t.isAnimationActive,p=t.id;if(n||!a||!a.length)return null;var f=this.state.isAnimationFinished,m=1===a.length,g=Lt("recharts-area",i),y=l&&l.allowDataOverflow,x=c&&c.allowDataOverflow,b=y||x,v=Xy(p)?this.id:p,w=null!==(e=Gx(r,!1))&&void 0!==e?e:{r:3,strokeWidth:2},k=w.r,S=void 0===k?3:k,N=w.strokeWidth,E=void 0===N?2:N,A=(Zx(r)?r:{}).clipDot,C=void 0===A||A,j=2*S+E;return P.createElement(vb,{className:g},y||x?P.createElement("defs",null,P.createElement("clipPath",{id:"clipPath-".concat(v)},P.createElement("rect",{x:y?o:o-u/2,y:x?s:s-h/2,width:y?u:2*u,height:x?h:2*h})),!C&&P.createElement("clipPath",{id:"clipPath-dots-".concat(v)},P.createElement("rect",{x:o-j/2,y:s-j/2,width:u+j,height:h+j}))):null,m?null:this.renderArea(b,v),(r||m)&&this.renderDots(b,C,v),(!d||f)&&w_.renderCallByParent(this.props,a))}}])&&BH(t.prototype,n),r&&BH(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,r}();function XH(e){return(XH="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function YH(e,t,n){return t&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,rU(r.key),r)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function QH(e,t,n){return t=eU(t),function(e,t){if(t&&("object"===XH(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,JH()?Reflect.construct(t,n||[],eU(e).constructor):t.apply(e,n))}function JH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(JH=function(){return!!e})()}function eU(e){return(eU=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function tU(e,t){return(tU=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function nU(e,t,n){return(t=rU(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rU(e){var t=function(e,t){if("object"!=XH(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=XH(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==XH(t)?t:t+""}function aU(){return aU=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},aU.apply(this,arguments)}function iU(e){var t=e.xAxisId,n=BV(),r=HV(),a=zV(t);return null==a?null:O.createElement(QB,aU({},a,{className:Lt("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(e){return xR(e,!0)}}))}RH=qH,GH(qH,"displayName","Area"),GH(qH,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!oA,animationBegin:0,animationDuration:1500,animationEasing:"ease"}),GH(qH,"getBaseValue",function(e,t,n,r){var a=e.layout,i=e.baseValue,s=t.props.baseValue,o=null!=s?s:i;if(gx(o)&&"number"==typeof o)return o;var l="horizontal"===a?r:n,c=l.scale.domain();if("number"===l.type){var u=Math.max(c[0],c[1]),h=Math.min(c[0],c[1]);return"dataMin"===o?h:"dataMax"===o||u<0?u:Math.max(Math.min(c[0],c[1]),0)}return"dataMin"===o?c[0]:"dataMax"===o?c[1]:c[0]}),GH(qH,"getComposedData",function(e){var t,n=e.props,r=e.item,a=e.xAxis,i=e.yAxis,s=e.xAxisTicks,o=e.yAxisTicks,l=e.bandSize,c=e.dataKey,u=e.stackedData,h=e.dataStartIndex,d=e.displayedData,p=e.offset,f=n.layout,m=u&&u.length,g=RH.getBaseValue(n,r,a,i),y="horizontal"===f,x=!1,b=d.map(function(e,t){var n;m?n=u[h+t]:(n=hR(e,c),Array.isArray(n)?x=!0:n=[g,n]);var r=null==n[1]||m&&null==hR(e,c);return y?{x:CR({axis:a,ticks:s,bandSize:l,entry:e,index:t}),y:r?null:i.scale(n[1]),value:n,payload:e}:{x:r?null:a.scale(n[1]),y:CR({axis:i,ticks:o,bandSize:l,entry:e,index:t}),value:n,payload:e}});return t=m||x?b.map(function(e){var t=Array.isArray(e.value)?e.value[0]:null;return y?{x:e.x,y:null!=t&&null!=e.y?i.scale(t):null}:{x:null!=t?a.scale(t):null,y:e.y}}):y?i.scale(g):a.scale(g),VH({points:b,baseLine:t,layout:f,isRange:x},p)}),GH(qH,"renderDotItem",function(e,t){var n;if(P.isValidElement(e))n=P.cloneElement(e,t);else if(ex(e))n=e(t);else{var r=Lt("recharts-area-dot","boolean"!=typeof e?e.className:""),a=t.key,i=FH(t,LH);n=P.createElement(W$,DH({},i,{key:a,className:r}))}return n});var sU=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),QH(this,e,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&tU(e,t)}(e,O.Component),YH(e,[{key:"render",value:function(){return O.createElement(iU,this.props)}}])}();function oU(e){return(oU="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function lU(e,t,n){return t&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,fU(r.key),r)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function cU(e,t,n){return t=hU(t),function(e,t){if(t&&("object"===oU(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,uU()?Reflect.construct(t,n||[],hU(e).constructor):t.apply(e,n))}function uU(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(uU=function(){return!!e})()}function hU(e){return(hU=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function dU(e,t){return(dU=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function pU(e,t,n){return(t=fU(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fU(e){var t=function(e,t){if("object"!=oU(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=oU(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==oU(t)?t:t+""}function mU(){return mU=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},mU.apply(this,arguments)}nU(sU,"displayName","XAxis"),nU(sU,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});var gU=function(e){var t=e.yAxisId,n=BV(),r=HV(),a=VV(t);return null==a?null:O.createElement(QB,mU({},a,{className:Lt("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(e){return xR(e,!0)}}))},yU=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),cU(this,e,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&dU(e,t)}(e,O.Component),lU(e,[{key:"render",value:function(){return O.createElement(gU,this.props)}}])}();function xU(e){return function(e){if(Array.isArray(e))return bU(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return bU(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return bU(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function bU(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}pU(yU,"displayName","YAxis"),pU(yU,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});var vU,wU=function(e,t,n,r,a){var i=Bx(e,aB),s=Bx(e,gB),o=[].concat(xU(i),xU(s)),l=Bx(e,jB),c="".concat(r,"Id"),u=r[0],h=t;if(o.length&&(h=o.reduce(function(e,t){if(t.props[c]===n&&Iz(t.props,"extendDomain")&&gx(t.props[u])){var r=t.props[u];return[Math.min(e[0],r),Math.max(e[1],r)]}return e},h)),l.length){var d="".concat(u,"1"),p="".concat(u,"2");h=l.reduce(function(e,t){if(t.props[c]===n&&Iz(t.props,"extendDomain")&&gx(t.props[d])&&gx(t.props[p])){var r=t.props[d],a=t.props[p];return[Math.min(e[0],r,a),Math.max(e[1],r,a)]}return e},h)}return a&&a.length&&(h=a.reduce(function(e,t){return gx(t)?[Math.min(e[0],t),Math.max(e[1],t)]:e},h)),h},kU={exports:{}};var SU=new(n((vU||(vU=1,function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}function a(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function i(e,t,r,i,s){if("function"!=typeof r)throw new TypeError("The listener must be a function");var o=new a(r,i||e,s),l=n?n+t:t;return e._events[l]?e._events[l].fn?e._events[l]=[e._events[l],o]:e._events[l].push(o):(e._events[l]=o,e._eventsCount++),e}function s(e,t){0===--e._eventsCount?e._events=new r:delete e._events[t]}function o(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(n=!1)),o.prototype.eventNames=function(){var e,r,a=[];if(0===this._eventsCount)return a;for(r in e=this._events)t.call(e,r)&&a.push(n?r.slice(1):r);return Object.getOwnPropertySymbols?a.concat(Object.getOwnPropertySymbols(e)):a},o.prototype.listeners=function(e){var t=n?n+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var a=0,i=r.length,s=new Array(i);a<i;a++)s[a]=r[a].fn;return s},o.prototype.listenerCount=function(e){var t=n?n+e:e,r=this._events[t];return r?r.fn?1:r.length:0},o.prototype.emit=function(e,t,r,a,i,s){var o=n?n+e:e;if(!this._events[o])return!1;var l,c,u=this._events[o],h=arguments.length;if(u.fn){switch(u.once&&this.removeListener(e,u.fn,void 0,!0),h){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,t),!0;case 3:return u.fn.call(u.context,t,r),!0;case 4:return u.fn.call(u.context,t,r,a),!0;case 5:return u.fn.call(u.context,t,r,a,i),!0;case 6:return u.fn.call(u.context,t,r,a,i,s),!0}for(c=1,l=new Array(h-1);c<h;c++)l[c-1]=arguments[c];u.fn.apply(u.context,l)}else{var d,p=u.length;for(c=0;c<p;c++)switch(u[c].once&&this.removeListener(e,u[c].fn,void 0,!0),h){case 1:u[c].fn.call(u[c].context);break;case 2:u[c].fn.call(u[c].context,t);break;case 3:u[c].fn.call(u[c].context,t,r);break;case 4:u[c].fn.call(u[c].context,t,r,a);break;default:if(!l)for(d=1,l=new Array(h-1);d<h;d++)l[d-1]=arguments[d];u[c].fn.apply(u[c].context,l)}}return!0},o.prototype.on=function(e,t,n){return i(this,e,t,n,!1)},o.prototype.once=function(e,t,n){return i(this,e,t,n,!0)},o.prototype.removeListener=function(e,t,r,a){var i=n?n+e:e;if(!this._events[i])return this;if(!t)return s(this,i),this;var o=this._events[i];if(o.fn)o.fn!==t||a&&!o.once||r&&o.context!==r||s(this,i);else{for(var l=0,c=[],u=o.length;l<u;l++)(o[l].fn!==t||a&&!o[l].once||r&&o[l].context!==r)&&c.push(o[l]);c.length?this._events[i]=1===c.length?c[0]:c:s(this,i)}return this},o.prototype.removeAllListeners=function(e){var t;return e?(t=n?n+e:e,this._events[t]&&s(this,t)):(this._events=new r,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=n,o.EventEmitter=o,e.exports=o}(kU)),kU.exports))),NU="recharts.syncMouseEvents";function EU(e){return(EU="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function AU(e,t,n){return t&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,jU(r.key),r)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function CU(e,t,n){return(t=jU(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jU(e){var t=function(e,t){if("object"!=EU(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=EU(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==EU(t)?t:t+""}var MU=function(){return AU(function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),CU(this,"activeIndex",0),CU(this,"coordinateList",[]),CU(this,"layout","horizontal")},[{key:"setDetails",value:function(e){var t,n=e.coordinateList,r=void 0===n?null:n,a=e.container,i=void 0===a?null:a,s=e.layout,o=void 0===s?null:s,l=e.offset,c=void 0===l?null:l,u=e.mouseHandlerCallback,h=void 0===u?null:u;this.coordinateList=null!==(t=null!=r?r:this.coordinateList)&&void 0!==t?t:[],this.container=null!=i?i:this.container,this.layout=null!=o?o:this.layout,this.offset=null!=c?c:this.offset,this.mouseHandlerCallback=null!=h?h:this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(e){if(0!==this.coordinateList.length)switch(e.key){case"ArrowRight":if("horizontal"!==this.layout)return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break;case"ArrowLeft":if("horizontal"!==this.layout)return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse()}}},{key:"setIndex",value:function(e){this.activeIndex=e}},{key:"spoofMouse",value:function(){var e,t;if("horizontal"===this.layout&&0!==this.coordinateList.length){var n=this.container.getBoundingClientRect(),r=n.x,a=n.y,i=n.height,s=this.coordinateList[this.activeIndex].coordinate,o=(null===(e=window)||void 0===e?void 0:e.scrollX)||0,l=(null===(t=window)||void 0===t?void 0:t.scrollY)||0,c=r+s+o,u=a+this.offset.top+i/2+l;this.mouseHandlerCallback({pageX:c,pageY:u})}}}])}();function TU(e){var t=e.cx,n=e.cy,r=e.radius,a=e.startAngle,i=e.endAngle;return{points:[UR(t,n,r,a),UR(t,n,r,i)],cx:t,cy:n,radius:r,startAngle:a,endAngle:i}}function IU(e,t,n){var r,a,i,s;if("horizontal"===e)i=r=t.x,a=n.top,s=n.top+n.height;else if("vertical"===e)s=a=t.y,r=n.left,i=n.left+n.width;else if(null!=t.cx&&null!=t.cy){if("centric"!==e)return TU(t);var o=t.cx,l=t.cy,c=t.innerRadius,u=t.outerRadius,h=t.angle,d=UR(o,l,c,h),p=UR(o,l,u,h);r=d.x,a=d.y,i=p.x,s=p.y}return[{x:r,y:a},{x:i,y:s}]}function OU(e){return(OU="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function PU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function RU(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?PU(Object(n),!0).forEach(function(t){_U(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):PU(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function _U(e,t,n){var r;return r=function(e,t){if("object"!=OU(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=OU(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==OU(r)?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function LU(e){var t,n,r,a=e.element,i=e.tooltipEventType,s=e.isActive,o=e.activeCoordinate,l=e.activePayload,c=e.offset,u=e.activeTooltipIndex,h=e.tooltipAxisBandSize,d=e.layout,p=e.chartName,f=null!==(t=a.props.cursor)&&void 0!==t?t:null===(n=a.type.defaultProps)||void 0===n?void 0:n.cursor;if(!a||!f||!s||!o||"ScatterChart"!==p&&"axis"!==i)return null;var m=Z_;if("ScatterChart"===p)r=o,m=J$;else if("BarChart"===p)r=function(e,t,n,r){var a=r/2;return{stroke:"none",fill:"#ccc",x:"horizontal"===e?t.x-a:n.left+.5,y:"horizontal"===e?n.top+.5:t.y-a,width:"horizontal"===e?r:n.width-1,height:"horizontal"===e?n.height-1:r}}(d,o,c,h),m=_$;else if("radial"===d){var g=TU(o),y=g.cx,x=g.cy,b=g.radius;r={cx:y,cy:x,startAngle:g.startAngle,endAngle:g.endAngle,innerRadius:b,outerRadius:b},m=T_}else r={points:IU(d,o,c)},m=Z_;var v=RU(RU(RU(RU({stroke:"#ccc",pointerEvents:"none"},c),r),Gx(f,!1)),{},{payload:l,payloadIndex:u,className:Lt("recharts-tooltip-cursor",f.className)});return O.isValidElement(f)?O.cloneElement(f,v):O.createElement(m,v)}var $U=["item"],FU=["children","className","width","height","style","compact","title","desc"];function DU(e){return(DU="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function zU(){return zU=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zU.apply(this,arguments)}function VU(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i,s,o=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t);else for(;!(l=(r=i.call(n)).done)&&(o.push(r.value),o.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}(e,t)||qU(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function BU(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function HU(e,t,n){return t&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,eW(r.key),r)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function UU(e,t,n){return t=ZU(t),function(e,t){if(t&&("object"===DU(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,WU()?Reflect.construct(t,n||[],ZU(e).constructor):t.apply(e,n))}function WU(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(WU=function(){return!!e})()}function ZU(e){return(ZU=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function GU(e,t){return(GU=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function KU(e){return function(e){if(Array.isArray(e))return XU(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||qU(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function qU(e,t){if(e){if("string"==typeof e)return XU(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?XU(e,t):void 0}}function XU(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function YU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function QU(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?YU(Object(n),!0).forEach(function(t){JU(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):YU(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function JU(e,t,n){return(t=eW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function eW(e){var t=function(e,t){if("object"!=DU(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=DU(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==DU(t)?t:t+""}var tW={xAxis:["bottom","top"],yAxis:["left","right"]},nW={width:"100%",height:"100%"},rW={x:0,y:0};function aW(e){return e}var iW=function(e,t){var n=t.graphicalItems,r=t.dataStartIndex,a=t.dataEndIndex,i=(null!=n?n:[]).reduce(function(e,t){var n=t.props.data;return n&&n.length?[].concat(KU(e),KU(n)):e},[]);return i.length>0?i:e&&e.length&&gx(r)&&gx(a)?e.slice(r,a+1):[]};function sW(e){return"number"===e?[0,"auto"]:void 0}var oW=function(e,t,n,r){var a=e.graphicalItems,i=e.tooltipAxis,s=iW(t,e);return n<0||!a||!a.length||n>=s.length?null:a.reduce(function(a,o){var l,c,u=null!==(l=o.props.data)&&void 0!==l?l:t;(u&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=n&&(u=u.slice(e.dataStartIndex,e.dataEndIndex+1)),i.dataKey&&!i.allowDuplicatedCategory)?c=Sx(void 0===u?s:u,i.dataKey,r):c=u&&u[n]||s[n];return c?[].concat(KU(a),[_R(o,c)]):a},[])},lW=function(e,t,n,r){var a=r||{x:e.chartX,y:e.chartY},i=function(e,t){return"horizontal"===t?e.x:"vertical"===t?e.y:"centric"===t?e.angle:e.radius}(a,n),s=e.orderedTooltipTicks,o=e.tooltipAxis,l=e.tooltipTicks,c=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,i=-1,s=null!==(t=null==n?void 0:n.length)&&void 0!==t?t:0;if(s<=1)return 0;if(a&&"angleAxis"===a.axisType&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var o=a.range,l=0;l<s;l++){var c=l>0?r[l-1].coordinate:r[s-1].coordinate,u=r[l].coordinate,h=l>=s-1?r[0].coordinate:r[l+1].coordinate,d=void 0;if(fx(u-c)!==fx(h-u)){var p=[];if(fx(h-u)===fx(o[1]-o[0])){d=h;var f=u+o[1]-o[0];p[0]=Math.min(f,(f+c)/2),p[1]=Math.max(f,(f+c)/2)}else{d=c;var m=h+o[1]-o[0];p[0]=Math.min(u,(m+u)/2),p[1]=Math.max(u,(m+u)/2)}var g=[Math.min(u,(d+u)/2),Math.max(u,(d+u)/2)];if(e>g[0]&&e<=g[1]||e>=p[0]&&e<=p[1]){i=r[l].index;break}}else{var y=Math.min(c,h),x=Math.max(c,h);if(e>(y+u)/2&&e<=(x+u)/2){i=r[l].index;break}}}else for(var b=0;b<s;b++)if(0===b&&e<=(n[b].coordinate+n[b+1].coordinate)/2||b>0&&b<s-1&&e>(n[b].coordinate+n[b-1].coordinate)/2&&e<=(n[b].coordinate+n[b+1].coordinate)/2||b===s-1&&e>(n[b].coordinate+n[b-1].coordinate)/2){i=n[b].index;break}return i}(i,s,l,o);if(c>=0&&l){var u=l[c]&&l[c].value,h=oW(e,t,c,u),d=function(e,t,n,r){var a=t.find(function(e){return e&&e.index===n});if(a){if("horizontal"===e)return{x:a.coordinate,y:r.y};if("vertical"===e)return{x:r.x,y:a.coordinate};if("centric"===e){var i=a.coordinate,s=r.radius;return QU(QU(QU({},r),UR(r.cx,r.cy,s,i)),{},{angle:i,radius:s})}var o=a.coordinate,l=r.angle;return QU(QU(QU({},r),UR(r.cx,r.cy,o,l)),{},{angle:l,radius:o})}return rW}(n,s,c,a);return{activeTooltipIndex:c,activeLabel:u,activePayload:h,activeCoordinate:d}}return null},cW=function(e,t){var n=t.axes,r=t.graphicalItems,a=t.axisType,i=t.axisIdKey,s=t.stackGroups,o=t.dataStartIndex,l=t.dataEndIndex,c=e.layout,u=e.children,h=e.stackOffset,d=gR(c,a);return n.reduce(function(t,n){var p,f=void 0!==n.type.defaultProps?QU(QU({},n.type.defaultProps),n.props):n.props,m=f.type,g=f.dataKey,y=f.allowDataOverflow,x=f.allowDuplicatedCategory,b=f.scale,v=f.ticks,w=f.includeHidden,k=f[i];if(t[k])return t;var S,N,E,A=iW(e.data,{graphicalItems:r.filter(function(e){var t;return(i in e.props?e.props[i]:null===(t=e.type.defaultProps)||void 0===t?void 0:t[i])===k}),dataStartIndex:o,dataEndIndex:l}),C=A.length;(function(e,t,n){if("number"===n&&!0===t&&Array.isArray(e)){var r=null==e?void 0:e[0],a=null==e?void 0:e[1];if(r&&a&&gx(r)&&gx(a))return!0}return!1})(f.domain,y,m)&&(S=OR(f.domain,null,y),!d||"number"!==m&&"auto"===b||(E=dR(A,g,"category")));var j=sW(m);if(!S||0===S.length){var M,T=null!==(M=f.domain)&&void 0!==M?M:j;if(g){if(S=dR(A,g,m),"category"===m&&d){var I=function(e){if(!Array.isArray(e))return!1;for(var t=e.length,n={},r=0;r<t;r++){if(n[e[r]])return!0;n[e[r]]=!0}return!1}(S);x&&I?(N=S,S=rz(0,C)):x||(S=RR(T,S,n).reduce(function(e,t){return e.indexOf(t)>=0?e:[].concat(KU(e),[t])},[]))}else if("category"===m)S=x?S.filter(function(e){return""!==e&&!Xy(e)}):RR(T,S,n).reduce(function(e,t){return e.indexOf(t)>=0||""===t||Xy(t)?e:[].concat(KU(e),[t])},[]);else if("number"===m){var O=function(e,t,n,r,a){var i=t.map(function(t){return fR(e,t,n,a,r)}).filter(function(e){return!Xy(e)});return i&&i.length?i.reduce(function(e,t){return[Math.min(e[0],t[0]),Math.max(e[1],t[1])]},[1/0,-1/0]):null}(A,r.filter(function(e){var t,n,r=i in e.props?e.props[i]:null===(t=e.type.defaultProps)||void 0===t?void 0:t[i],a="hide"in e.props?e.props.hide:null===(n=e.type.defaultProps)||void 0===n?void 0:n.hide;return r===k&&(w||!a)}),g,a,c);O&&(S=O)}!d||"number"!==m&&"auto"===b||(E=dR(A,g,"category"))}else S=d?rz(0,C):s&&s[k]&&s[k].hasStack&&"number"===m?"expand"===h?[0,1]:MR(s[k].stackGroups,o,l):mR(A,r.filter(function(e){var t=i in e.props?e.props[i]:e.type.defaultProps[i],n="hide"in e.props?e.props.hide:e.type.defaultProps.hide;return t===k&&(w||!n)}),m,c,!0);if("number"===m)S=wU(u,S,k,a,v),T&&(S=OR(T,S,y));else if("category"===m&&T){var P=T;S.every(function(e){return P.indexOf(e)>=0})&&(S=P)}}return QU(QU({},t),{},JU({},k,QU(QU({},f),{},{axisType:a,domain:S,categoricalDomain:E,duplicateDomain:N,originalDomain:null!==(p=f.domain)&&void 0!==p?p:j,isCategorical:d,layout:c})))},{})},uW=function(e,t){var n=t.axisType,r=void 0===n?"xAxis":n,a=t.AxisComp,i=t.graphicalItems,s=t.stackGroups,o=t.dataStartIndex,l=t.dataEndIndex,c=e.children,u="".concat(r,"Id"),h=Bx(c,a),d={};return h&&h.length?d=cW(e,{axes:h,graphicalItems:i,axisType:r,axisIdKey:u,stackGroups:s,dataStartIndex:o,dataEndIndex:l}):i&&i.length&&(d=function(e,t){var n=t.graphicalItems,r=t.Axis,a=t.axisType,i=t.axisIdKey,s=t.stackGroups,o=t.dataStartIndex,l=t.dataEndIndex,c=e.layout,u=e.children,h=iW(e.data,{graphicalItems:n,dataStartIndex:o,dataEndIndex:l}),d=h.length,p=gR(c,a),f=-1;return n.reduce(function(e,t){var m,g=(void 0!==t.type.defaultProps?QU(QU({},t.type.defaultProps),t.props):t.props)[i],y=sW("number");return e[g]?e:(f++,p?m=rz(0,d):s&&s[g]&&s[g].hasStack?(m=MR(s[g].stackGroups,o,l),m=wU(u,m,g,a)):(m=OR(y,mR(h,n.filter(function(e){var t,n,r=i in e.props?e.props[i]:null===(t=e.type.defaultProps)||void 0===t?void 0:t[i],a="hide"in e.props?e.props.hide:null===(n=e.type.defaultProps)||void 0===n?void 0:n.hide;return r===g&&!a}),"number",c),r.defaultProps.allowDataOverflow),m=wU(u,m,g,a)),QU(QU({},e),{},JU({},g,QU(QU({axisType:a},r.defaultProps),{},{hide:!0,orientation:Gy(tW,"".concat(a,".").concat(f%2),null),domain:m,originalDomain:y,isCategorical:p,layout:c}))))},{})}(e,{Axis:a,graphicalItems:i,axisType:r,axisIdKey:u,stackGroups:s,dataStartIndex:o,dataEndIndex:l})),d},hW=function(e){var t=e.children,n=e.defaultShowTooltip,r=Hx(t,Ez),a=0,i=0;return e.data&&0!==e.data.length&&(i=e.data.length-1),r&&r.props&&(r.props.startIndex>=0&&(a=r.props.startIndex),r.props.endIndex>=0&&(i=r.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:i,activeTooltipIndex:-1,isTooltipActive:Boolean(n)}},dW=function(e){return"horizontal"===e?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:"vertical"===e?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:"centric"===e?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},pW=function(e,t){var n=e.props,r=(e.graphicalItems,e.xAxisMap),a=void 0===r?{}:r,i=e.yAxisMap,s=void 0===i?{}:i,o=n.width,l=n.height,c=n.children,u=n.margin||{},h=Hx(c,Ez),d=Hx(c,wE),p=Object.keys(s).reduce(function(e,t){var n=s[t],r=n.orientation;return n.mirror||n.hide?e:QU(QU({},e),{},JU({},r,e[r]+n.width))},{left:u.left||0,right:u.right||0}),f=Object.keys(a).reduce(function(e,t){var n=a[t],r=n.orientation;return n.mirror||n.hide?e:QU(QU({},e),{},JU({},r,Gy(e,"".concat(r))+n.height))},{top:u.top||0,bottom:u.bottom||0}),m=QU(QU({},f),p),g=m.bottom;h&&(m.bottom+=h.props.height||Ez.defaultProps.height),d&&t&&(m=function(e,t,n,r){var a=n.children,i=n.width,s=n.margin,o=i-(s.left||0)-(s.right||0),l=aR({children:a,legendWidth:o});if(l){var c=r||{},u=c.width,h=c.height,d=l.align,p=l.verticalAlign,f=l.layout;if(("vertical"===f||"horizontal"===f&&"middle"===p)&&"center"!==d&&gx(e[d]))return cR(cR({},e),{},uR({},d,e[d]+(u||0)));if(("horizontal"===f||"vertical"===f&&"center"===d)&&"middle"!==p&&gx(e[p]))return cR(cR({},e),{},uR({},p,e[p]+(h||0)))}return e}(m,0,n,t));var y=o-m.left-m.right,x=l-m.top-m.bottom;return QU(QU({brushBottom:g},m),{},{width:Math.max(y,0),height:Math.max(x,0)})},fW=function(e,t){return"xAxis"===t?e[t].width:"yAxis"===t?e[t].height:void 0},mW=function(e){var t=e.chartName,n=e.GraphicalChild,r=e.defaultTooltipEventType,a=void 0===r?"axis":r,i=e.validateTooltipEventTypes,s=void 0===i?["axis"]:i,o=e.axisComponents,l=e.legendContent,c=e.formatAxisMap,u=e.defaultProps,h=function(e,t){var n=t.graphicalItems,r=t.stackGroups,a=t.offset,i=t.updateId,s=t.dataStartIndex,l=t.dataEndIndex,c=e.barSize,u=e.layout,h=e.barGap,d=e.barCategoryGap,p=e.maxBarSize,f=dW(u),m=f.numericAxisName,g=f.cateAxisName,y=function(e){return!(!e||!e.length)&&e.some(function(e){var t=Fx(e&&e.type);return t&&t.indexOf("Bar")>=0})}(n),x=[];return n.forEach(function(n,f){var b=iW(e.data,{graphicalItems:[n],dataStartIndex:s,dataEndIndex:l}),v=void 0!==n.type.defaultProps?QU(QU({},n.type.defaultProps),n.props):n.props,w=v.dataKey,k=v.maxBarSize,S=v["".concat(m,"Id")],N=v["".concat(g,"Id")],E=o.reduce(function(e,n){var r=t["".concat(n.axisType,"Map")],a=v["".concat(n.axisType,"Id")];r&&r[a]||"zAxis"===n.axisType||DP();var i=r[a];return QU(QU({},e),{},JU(JU({},n.axisType,i),"".concat(n.axisType,"Ticks"),xR(i)))},{}),A=E[g],C=E["".concat(g,"Ticks")],j=r&&r[S]&&r[S].hasStack&&function(e,t){var n,r=(null!==(n=e.type)&&void 0!==n&&n.defaultProps?cR(cR({},e.type.defaultProps),e.props):e.props).stackId;if(yx(r)){var a=t[r];if(a){var i=a.items.indexOf(e);return i>=0?a.stackedData[i]:null}}return null}(n,r[S].stackGroups),M=Fx(n.type).indexOf("Bar")>=0,T=PR(A,C),I=[],O=y&&function(e){var t=e.barSize,n=e.totalSize,r=e.stackGroups,a=void 0===r?{}:r;if(!a)return{};for(var i={},s=Object.keys(a),o=0,l=s.length;o<l;o++)for(var c=a[s[o]].stackGroups,u=Object.keys(c),h=0,d=u.length;h<d;h++){var p=c[u[h]],f=p.items,m=p.cateAxisId,g=f.filter(function(e){return Fx(e.type).indexOf("Bar")>=0});if(g&&g.length){var y=g[0].type.defaultProps,x=void 0!==y?cR(cR({},y),g[0].props):g[0].props,b=x.barSize,v=x[m];i[v]||(i[v]=[]);var w=Xy(b)?t:b;i[v].push({item:g[0],stackList:g.slice(1),barSize:Xy(w)?void 0:vx(w,n,0)})}}return i}({barSize:c,stackGroups:r,totalSize:fW(E,g)});if(M){var P,R,_=Xy(k)?p:k,L=null!==(P=null!==(R=PR(A,C,!0))&&void 0!==R?R:_)&&void 0!==P?P:0;I=function(e){var t=e.barGap,n=e.barCategoryGap,r=e.bandSize,a=e.sizeList,i=void 0===a?[]:a,s=e.maxBarSize,o=i.length;if(o<1)return null;var l,c=vx(t,r,0,!0),u=[];if(i[0].barSize===+i[0].barSize){var h=!1,d=r/o,p=i.reduce(function(e,t){return e+t.barSize||0},0);(p+=(o-1)*c)>=r&&(p-=(o-1)*c,c=0),p>=r&&d>0&&(h=!0,p=o*(d*=.9));var f={offset:((r-p)/2|0)-c,size:0};l=i.reduce(function(e,t){var n={item:t.item,position:{offset:f.offset+f.size+c,size:h?d:t.barSize}},r=[].concat(sR(e),[n]);return f=r[r.length-1].position,t.stackList&&t.stackList.length&&t.stackList.forEach(function(e){r.push({item:e,position:f})}),r},u)}else{var m=vx(n,r,0,!0);r-2*m-(o-1)*c<=0&&(c=0);var g=(r-2*m-(o-1)*c)/o;g>1&&(g>>=0);var y=s===+s?Math.min(g,s):g;l=i.reduce(function(e,t,n){var r=[].concat(sR(e),[{item:t.item,position:{offset:m+(g+c)*n+(g-y)/2,size:y}}]);return t.stackList&&t.stackList.length&&t.stackList.forEach(function(e){r.push({item:e,position:r[r.length-1].position})}),r},u)}return l}({barGap:h,barCategoryGap:d,bandSize:L!==T?L:T,sizeList:O[N],maxBarSize:_}),L!==T&&(I=I.map(function(e){return QU(QU({},e),{},{position:QU(QU({},e.position),{},{offset:e.position.offset-L/2})})}))}var $,F,D=n&&n.type&&n.type.getComposedData;D&&x.push({props:QU(QU({},D(QU(QU({},E),{},{displayedData:b,props:e,dataKey:w,item:n,bandSize:T,barPosition:I,offset:a,stackedData:j,layout:u,dataStartIndex:s,dataEndIndex:l}))),{},JU(JU(JU({key:n.key||"item-".concat(f)},m,E[m]),g,E[g]),"animationId",i)),childIndex:($=n,F=e.children,Vx(F).indexOf($)),item:n})}),x},d=function(e,r){var a=e.props,i=e.dataStartIndex,s=e.dataEndIndex,l=e.updateId;if(!Ux({props:a}))return null;var u=a.children,d=a.layout,p=a.stackOffset,f=a.data,m=a.reverseStackOrder,g=dW(d),y=g.numericAxisName,x=g.cateAxisName,b=Bx(u,n),v=function(e,t,n,r,a,i){if(!e)return null;var s=(i?t.reverse():t).reduce(function(e,t){var a,i=null!==(a=t.type)&&void 0!==a&&a.defaultProps?cR(cR({},t.type.defaultProps),t.props):t.props,s=i.stackId;if(i.hide)return e;var o=i[n],l=e[o]||{hasStack:!1,stackGroups:{}};if(yx(s)){var c=l.stackGroups[s]||{numericAxisId:n,cateAxisId:r,items:[]};c.items.push(t),l.hasStack=!0,l.stackGroups[s]=c}else l.stackGroups[bx("_stackId_")]={numericAxisId:n,cateAxisId:r,items:[t]};return cR(cR({},e),{},uR({},o,l))},{});return Object.keys(s).reduce(function(t,i){var o=s[i];return o.hasStack&&(o.stackGroups=Object.keys(o.stackGroups).reduce(function(t,i){var s=o.stackGroups[i];return cR(cR({},t),{},uR({},i,{numericAxisId:n,cateAxisId:r,items:s.items,stackedData:ER(e,s.items,a)}))},{})),cR(cR({},t),{},uR({},i,o))},{})}(f,b,"".concat(y,"Id"),"".concat(x,"Id"),p,m),w=o.reduce(function(e,t){var n="".concat(t.axisType,"Map");return QU(QU({},e),{},JU({},n,uW(a,QU(QU({},t),{},{graphicalItems:b,stackGroups:t.axisType===y&&v,dataStartIndex:i,dataEndIndex:s}))))},{}),k=pW(QU(QU({},w),{},{props:a,graphicalItems:b}),null==r?void 0:r.legendBBox);Object.keys(w).forEach(function(e){w[e]=c(a,w[e],k,e.replace("Map",""),t)});var S,N,E=w["".concat(x,"Map")],A=(S=wx(E),{tooltipTicks:N=xR(S,!1,!0),orderedTooltipTicks:RE(N,function(e){return e.coordinate}),tooltipAxis:S,tooltipAxisBandSize:PR(S,N)}),C=h(a,QU(QU({},w),{},{dataStartIndex:i,dataEndIndex:s,updateId:l,graphicalItems:b,stackGroups:v,offset:k}));return QU(QU({formattedGraphicalItems:C,graphicalItems:b,offset:k,stackGroups:v},A),w)},p=function(){function e(n){var r,a,i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),JU(i=UU(this,e,[n]),"eventEmitterSymbol",Symbol("rechartsEventEmitter")),JU(i,"accessibilityManager",new MU),JU(i,"handleLegendBBoxUpdate",function(e){if(e){var t=i.state,n=t.dataStartIndex,r=t.dataEndIndex,a=t.updateId;i.setState(QU({legendBBox:e},d({props:i.props,dataStartIndex:n,dataEndIndex:r,updateId:a},QU(QU({},i.state),{},{legendBBox:e}))))}}),JU(i,"handleReceiveSyncEvent",function(e,t,n){if(i.props.syncId===e){if(n===i.eventEmitterSymbol&&"function"!=typeof i.props.syncMethod)return;i.applySyncEvent(t)}}),JU(i,"handleBrushChange",function(e){var t=e.startIndex,n=e.endIndex;if(t!==i.state.dataStartIndex||n!==i.state.dataEndIndex){var r=i.state.updateId;i.setState(function(){return QU({dataStartIndex:t,dataEndIndex:n},d({props:i.props,dataStartIndex:t,dataEndIndex:n,updateId:r},i.state))}),i.triggerSyncEvent({dataStartIndex:t,dataEndIndex:n})}}),JU(i,"handleMouseEnter",function(e){var t=i.getMouseInfo(e);if(t){var n=QU(QU({},t),{},{isTooltipActive:!0});i.setState(n),i.triggerSyncEvent(n);var r=i.props.onMouseEnter;ex(r)&&r(n,e)}}),JU(i,"triggeredAfterMouseMove",function(e){var t=i.getMouseInfo(e),n=t?QU(QU({},t),{},{isTooltipActive:!0}):{isTooltipActive:!1};i.setState(n),i.triggerSyncEvent(n);var r=i.props.onMouseMove;ex(r)&&r(n,e)}),JU(i,"handleItemMouseEnter",function(e){i.setState(function(){return{isTooltipActive:!0,activeItem:e,activePayload:e.tooltipPayload,activeCoordinate:e.tooltipPosition||{x:e.cx,y:e.cy}}})}),JU(i,"handleItemMouseLeave",function(){i.setState(function(){return{isTooltipActive:!1}})}),JU(i,"handleMouseMove",function(e){e.persist(),i.throttleTriggeredAfterMouseMove(e)}),JU(i,"handleMouseLeave",function(e){i.throttleTriggeredAfterMouseMove.cancel();var t={isTooltipActive:!1};i.setState(t),i.triggerSyncEvent(t);var n=i.props.onMouseLeave;ex(n)&&n(t,e)}),JU(i,"handleOuterEvent",function(e){var t,n=function(e){var t=e&&e.type;return t&&$x[t]?$x[t]:null}(e),r=Gy(i.props,"".concat(n));n&&ex(r)&&r(null!==(t=/.*touch.*/i.test(n)?i.getMouseInfo(e.changedTouches[0]):i.getMouseInfo(e))&&void 0!==t?t:{},e)}),JU(i,"handleClick",function(e){var t=i.getMouseInfo(e);if(t){var n=QU(QU({},t),{},{isTooltipActive:!0});i.setState(n),i.triggerSyncEvent(n);var r=i.props.onClick;ex(r)&&r(n,e)}}),JU(i,"handleMouseDown",function(e){var t=i.props.onMouseDown;ex(t)&&t(i.getMouseInfo(e),e)}),JU(i,"handleMouseUp",function(e){var t=i.props.onMouseUp;ex(t)&&t(i.getMouseInfo(e),e)}),JU(i,"handleTouchMove",function(e){null!=e.changedTouches&&e.changedTouches.length>0&&i.throttleTriggeredAfterMouseMove(e.changedTouches[0])}),JU(i,"handleTouchStart",function(e){null!=e.changedTouches&&e.changedTouches.length>0&&i.handleMouseDown(e.changedTouches[0])}),JU(i,"handleTouchEnd",function(e){null!=e.changedTouches&&e.changedTouches.length>0&&i.handleMouseUp(e.changedTouches[0])}),JU(i,"handleDoubleClick",function(e){var t=i.props.onDoubleClick;ex(t)&&t(i.getMouseInfo(e),e)}),JU(i,"handleContextMenu",function(e){var t=i.props.onContextMenu;ex(t)&&t(i.getMouseInfo(e),e)}),JU(i,"triggerSyncEvent",function(e){void 0!==i.props.syncId&&SU.emit(NU,i.props.syncId,e,i.eventEmitterSymbol)}),JU(i,"applySyncEvent",function(e){var t=i.props,n=t.layout,r=t.syncMethod,a=i.state.updateId,s=e.dataStartIndex,o=e.dataEndIndex;if(void 0!==e.dataStartIndex||void 0!==e.dataEndIndex)i.setState(QU({dataStartIndex:s,dataEndIndex:o},d({props:i.props,dataStartIndex:s,dataEndIndex:o,updateId:a},i.state)));else if(void 0!==e.activeTooltipIndex){var l=e.chartX,c=e.chartY,u=e.activeTooltipIndex,h=i.state,p=h.offset,f=h.tooltipTicks;if(!p)return;if("function"==typeof r)u=r(f,e);else if("value"===r){u=-1;for(var m=0;m<f.length;m++)if(f[m].value===e.activeLabel){u=m;break}}var g=QU(QU({},p),{},{x:p.left,y:p.top}),y=Math.min(l,g.x+g.width),x=Math.min(c,g.y+g.height),b=f[u]&&f[u].value,v=oW(i.state,i.props.data,u),w=f[u]?{x:"horizontal"===n?f[u].coordinate:y,y:"horizontal"===n?x:f[u].coordinate}:rW;i.setState(QU(QU({},e),{},{activeLabel:b,activeCoordinate:w,activePayload:v,activeTooltipIndex:u}))}else i.setState(e)}),JU(i,"renderCursor",function(e){var n,r=i.state,a=r.isTooltipActive,s=r.activeCoordinate,o=r.activePayload,l=r.offset,c=r.activeTooltipIndex,u=r.tooltipAxisBandSize,h=i.getTooltipEventType(),d=null!==(n=e.props.active)&&void 0!==n?n:a,p=i.props.layout,f=e.key||"_recharts-cursor";return P.createElement(LU,{key:f,activeCoordinate:s,activePayload:o,activeTooltipIndex:c,chartName:t,element:e,isActive:d,layout:p,offset:l,tooltipAxisBandSize:u,tooltipEventType:h})}),JU(i,"renderPolarAxis",function(e,t,n){var r=Gy(e,"type.axisType"),a=Gy(i.state,"".concat(r,"Map")),s=e.type.defaultProps,o=void 0!==s?QU(QU({},s),e.props):e.props,l=a&&a[o["".concat(r,"Id")]];return O.cloneElement(e,QU(QU({},l),{},{className:Lt(r,l.className),key:e.key||"".concat(t,"-").concat(n),ticks:xR(l,!0)}))}),JU(i,"renderPolarGrid",function(e){var t=e.props,n=t.radialLines,r=t.polarAngles,a=t.polarRadius,s=i.state,o=s.radiusAxisMap,l=s.angleAxisMap,c=wx(o),u=wx(l),h=u.cx,d=u.cy,p=u.innerRadius,f=u.outerRadius;return O.cloneElement(e,{polarAngles:Array.isArray(r)?r:xR(u,!0).map(function(e){return e.coordinate}),polarRadius:Array.isArray(a)?a:xR(c,!0).map(function(e){return e.coordinate}),cx:h,cy:d,innerRadius:p,outerRadius:f,key:e.key||"polar-grid",radialLines:n})}),JU(i,"renderLegend",function(){var e=i.state.formattedGraphicalItems,t=i.props,n=t.children,r=t.width,a=t.height,s=i.props.margin||{},o=r-(s.left||0)-(s.right||0),c=aR({children:n,formattedGraphicalItems:e,legendWidth:o,legendContent:l});if(!c)return null;var u=c.item,h=BU(c,$U);return O.cloneElement(u,QU(QU({},h),{},{chartWidth:r,chartHeight:a,margin:s,onBBoxUpdate:i.handleLegendBBoxUpdate}))}),JU(i,"renderTooltip",function(){var e,t=i.props,n=t.children,r=t.accessibilityLayer,a=Hx(n,IA);if(!a)return null;var s=i.state,o=s.isTooltipActive,l=s.activeCoordinate,c=s.activePayload,u=s.activeLabel,h=s.offset,d=null!==(e=a.props.active)&&void 0!==e?e:o;return O.cloneElement(a,{viewBox:QU(QU({},h),{},{x:h.left,y:h.top}),active:d,label:u,payload:d?c:[],coordinate:l,accessibilityLayer:r})}),JU(i,"renderBrush",function(e){var t=i.props,n=t.margin,r=t.data,a=i.state,s=a.offset,o=a.dataStartIndex,l=a.dataEndIndex,c=a.updateId;return O.cloneElement(e,{key:e.key||"_recharts-brush",onChange:vR(i.handleBrushChange,e.props.onChange),data:r,x:gx(e.props.x)?e.props.x:s.left,y:gx(e.props.y)?e.props.y:s.top+s.height+s.brushBottom-(n.bottom||0),width:gx(e.props.width)?e.props.width:s.width,startIndex:o,endIndex:l,updateId:"brush-".concat(c)})}),JU(i,"renderReferenceElement",function(e,t,n){if(!e)return null;var r=i.clipPathId,a=i.state,s=a.xAxisMap,o=a.yAxisMap,l=a.offset,c=e.type.defaultProps||{},u=e.props,h=u.xAxisId,d=void 0===h?c.xAxisId:h,p=u.yAxisId,f=void 0===p?c.yAxisId:p;return O.cloneElement(e,{key:e.key||"".concat(t,"-").concat(n),xAxis:s[d],yAxis:o[f],viewBox:{x:l.left,y:l.top,width:l.width,height:l.height},clipPathId:r})}),JU(i,"renderActivePoints",function(t){var n=t.item,r=t.activePoint,a=t.basePoint,i=t.childIndex,s=t.isRange,o=[],l=n.props.key,c=void 0!==n.item.type.defaultProps?QU(QU({},n.item.type.defaultProps),n.item.props):n.item.props,u=c.activeDot,h=QU(QU({index:i,dataKey:c.dataKey,cx:r.x,cy:r.y,r:4,fill:pR(n.item),strokeWidth:2,stroke:"#fff",payload:r.payload,value:r.value},Gx(u,!1)),Ix(u));return o.push(e.renderActiveDot(u,h,"".concat(l,"-activePoint-").concat(i))),a?o.push(e.renderActiveDot(u,QU(QU({},h),{},{cx:a.x,cy:a.y}),"".concat(l,"-basePoint-").concat(i))):s&&o.push(null),o}),JU(i,"renderGraphicChild",function(e,t,n){var r=i.filterFormatItem(e,t,n);if(!r)return null;var a=i.getTooltipEventType(),s=i.state,o=s.isTooltipActive,l=s.tooltipAxis,c=s.activeTooltipIndex,u=s.activeLabel,h=Hx(i.props.children,IA),d=r.props,p=d.points,f=d.isRange,m=d.baseLine,g=void 0!==r.item.type.defaultProps?QU(QU({},r.item.type.defaultProps),r.item.props):r.item.props,y=g.activeDot,x=g.hide,b=g.activeBar,v=g.activeShape,w=Boolean(!x&&o&&h&&(y||b||v)),k={};"axis"!==a&&h&&"click"===h.props.trigger?k={onClick:vR(i.handleItemMouseEnter,e.props.onClick)}:"axis"!==a&&(k={onMouseLeave:vR(i.handleItemMouseLeave,e.props.onMouseLeave),onMouseEnter:vR(i.handleItemMouseEnter,e.props.onMouseEnter)});var S=O.cloneElement(e,QU(QU({},r.props),k));if(w){if(!(c>=0)){var N,E=(null!==(N=i.getItemByXY(i.state.activeCoordinate))&&void 0!==N?N:{graphicalItem:S}).graphicalItem,A=E.item,C=void 0===A?e:A,j=E.childIndex,M=QU(QU(QU({},r.props),k),{},{activeIndex:j});return[O.cloneElement(C,M),null,null]}var T,I;if(l.dataKey&&!l.allowDuplicatedCategory){var P="function"==typeof l.dataKey?function(e){return"function"==typeof l.dataKey?l.dataKey(e.payload):null}:"payload.".concat(l.dataKey.toString());T=Sx(p,P,u),I=f&&m&&Sx(m,P,u)}else T=null==p?void 0:p[c],I=f&&m&&m[c];if(v||b){var R=void 0!==e.props.activeIndex?e.props.activeIndex:c;return[O.cloneElement(e,QU(QU(QU({},r.props),k),{},{activeIndex:R})),null,null]}if(!Xy(T))return[S].concat(KU(i.renderActivePoints({item:r,activePoint:T,basePoint:I,childIndex:c,isRange:f})))}return f?[S,null,null]:[S,null]}),JU(i,"renderCustomized",function(e,t,n){return O.cloneElement(e,QU(QU({key:"recharts-customized-".concat(n)},i.props),i.state))}),JU(i,"renderMap",{CartesianGrid:{handler:aW,once:!0},ReferenceArea:{handler:i.renderReferenceElement},ReferenceLine:{handler:aW},ReferenceDot:{handler:i.renderReferenceElement},XAxis:{handler:aW},YAxis:{handler:aW},Brush:{handler:i.renderBrush,once:!0},Bar:{handler:i.renderGraphicChild},Line:{handler:i.renderGraphicChild},Area:{handler:i.renderGraphicChild},Radar:{handler:i.renderGraphicChild},RadialBar:{handler:i.renderGraphicChild},Scatter:{handler:i.renderGraphicChild},Pie:{handler:i.renderGraphicChild},Funnel:{handler:i.renderGraphicChild},Tooltip:{handler:i.renderCursor,once:!0},PolarGrid:{handler:i.renderPolarGrid,once:!0},PolarAngleAxis:{handler:i.renderPolarAxis},PolarRadiusAxis:{handler:i.renderPolarAxis},Customized:{handler:i.renderCustomized}}),i.clipPathId="".concat(null!==(r=n.id)&&void 0!==r?r:bx("recharts"),"-clip"),i.throttleTriggeredAfterMouseMove=_A(i.triggeredAfterMouseMove,null!==(a=n.throttleDelay)&&void 0!==a?a:1e3/60),i.state={},i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&GU(e,t)}(e,O.Component),HU(e,[{key:"componentDidMount",value:function(){var e,t;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:null!==(e=this.props.margin.left)&&void 0!==e?e:0,top:null!==(t=this.props.margin.top)&&void 0!==t?t:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var e=this.props,t=e.children,n=e.data,r=e.height,a=e.layout,i=Hx(t,IA);if(i){var s=i.props.defaultIndex;if(!("number"!=typeof s||s<0||s>this.state.tooltipTicks.length-1)){var o=this.state.tooltipTicks[s]&&this.state.tooltipTicks[s].value,l=oW(this.state,n,s,o),c=this.state.tooltipTicks[s].coordinate,u=(this.state.offset.top+r)/2,h="horizontal"===a?{x:c,y:u}:{y:c,x:u},d=this.state.formattedGraphicalItems.find(function(e){return"Scatter"===e.item.type.name});d&&(h=QU(QU({},h),d.props.points[s].tooltipPosition),l=d.props.points[s].tooltipPayload);var p={activeTooltipIndex:s,isTooltipActive:!0,activeLabel:o,activePayload:l,activeCoordinate:h};this.setState(p),this.renderCursor(i),this.accessibilityManager.setIndex(s)}}}},{key:"getSnapshotBeforeUpdate",value:function(e,t){if(!this.props.accessibilityLayer)return null;var n,r;(this.state.tooltipTicks!==t.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==e.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==e.margin)&&this.accessibilityManager.setDetails({offset:{left:null!==(n=this.props.margin.left)&&void 0!==n?n:0,top:null!==(r=this.props.margin.top)&&void 0!==r?r:0}});return null}},{key:"componentDidUpdate",value:function(e){Kx([Hx(e.children,IA)],[Hx(this.props.children,IA)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var e=Hx(this.props.children,IA);if(e&&"boolean"==typeof e.props.shared){var t=e.props.shared?"axis":"item";return s.indexOf(t)>=0?t:a}return a}},{key:"getMouseInfo",value:function(e){if(!this.container)return null;var t,n=this.container,r=n.getBoundingClientRect(),a={top:(t=r).top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft},i={chartX:Math.round(e.pageX-a.left),chartY:Math.round(e.pageY-a.top)},s=r.width/n.offsetWidth||1,o=this.inRange(i.chartX,i.chartY,s);if(!o)return null;var l=this.state,c=l.xAxisMap,u=l.yAxisMap,h=this.getTooltipEventType(),d=lW(this.state,this.props.data,this.props.layout,o);if("axis"!==h&&c&&u){var p=wx(c).scale,f=wx(u).scale,m=p&&p.invert?p.invert(i.chartX):null,g=f&&f.invert?f.invert(i.chartY):null;return QU(QU({},i),{},{xValue:m,yValue:g},d)}return d?QU(QU({},i),d):null}},{key:"inRange",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=this.props.layout,a=e/n,i=t/n;if("horizontal"===r||"vertical"===r){var s=this.state.offset;return a>=s.left&&a<=s.left+s.width&&i>=s.top&&i<=s.top+s.height?{x:a,y:i}:null}var o=this.state,l=o.angleAxisMap,c=o.radiusAxisMap;if(l&&c){var u=wx(l);return GR({x:a,y:i},u)}return null}},{key:"parseEventsOfWrapper",value:function(){var e=this.props.children,t=this.getTooltipEventType(),n=Hx(e,IA),r={};return n&&"axis"===t&&(r="click"===n.props.trigger?{onClick:this.handleClick}:{onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu}),QU(QU({},Ix(this.props,this.handleOuterEvent)),r)}},{key:"addListener",value:function(){SU.on(NU,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){SU.removeListener(NU,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(e,t,n){for(var r=this.state.formattedGraphicalItems,a=0,i=r.length;a<i;a++){var s=r[a];if(s.item===e||s.props.key===e.key||t===Fx(s.item.type)&&n===s.childIndex)return s}return null}},{key:"renderClipPath",value:function(){var e=this.clipPathId,t=this.state.offset,n=t.left,r=t.top,a=t.height,i=t.width;return P.createElement("defs",null,P.createElement("clipPath",{id:e},P.createElement("rect",{x:n,y:r,height:a,width:i})))}},{key:"getXScales",value:function(){var e=this.state.xAxisMap;return e?Object.entries(e).reduce(function(e,t){var n=VU(t,2),r=n[0],a=n[1];return QU(QU({},e),{},JU({},r,a.scale))},{}):null}},{key:"getYScales",value:function(){var e=this.state.yAxisMap;return e?Object.entries(e).reduce(function(e,t){var n=VU(t,2),r=n[0],a=n[1];return QU(QU({},e),{},JU({},r,a.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(e){var t;return null===(t=this.state.xAxisMap)||void 0===t||null===(t=t[e])||void 0===t?void 0:t.scale}},{key:"getYScaleByAxisId",value:function(e){var t;return null===(t=this.state.yAxisMap)||void 0===t||null===(t=t[e])||void 0===t?void 0:t.scale}},{key:"getItemByXY",value:function(e){var t=this.state,n=t.formattedGraphicalItems,r=t.activeItem;if(n&&n.length)for(var a=0,i=n.length;a<i;a++){var s=n[a],o=s.props,l=s.item,c=void 0!==l.type.defaultProps?QU(QU({},l.type.defaultProps),l.props):l.props,u=Fx(l.type);if("Bar"===u){var h=(o.data||[]).find(function(t){return P$(e,t)});if(h)return{graphicalItem:s,payload:h}}else if("RadialBar"===u){var d=(o.data||[]).find(function(t){return GR(e,t)});if(d)return{graphicalItem:s,payload:d}}else if(ED(s,r)||AD(s,r)||CD(s,r)){var p=ID({graphicalItem:s,activeTooltipItem:r,itemData:c.data}),f=void 0===c.activeIndex?p:c.activeIndex;return{graphicalItem:QU(QU({},s),{},{childIndex:f}),payload:CD(s,r)?c.data[p]:s.props.data[p]}}}return null}},{key:"render",value:function(){var e=this;if(!Ux(this))return null;var t,n,r=this.props,a=r.children,i=r.className,s=r.width,o=r.height,l=r.style,c=r.compact,u=r.title,h=r.desc,d=BU(r,FU),p=Gx(d,!1);if(c)return P.createElement(DV,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},P.createElement(eb,zU({},p,{width:s,height:o,title:u,desc:h}),this.renderClipPath(),Xx(a,this.renderMap)));this.props.accessibilityLayer&&(p.tabIndex=null!==(t=this.props.tabIndex)&&void 0!==t?t:0,p.role=null!==(n=this.props.role)&&void 0!==n?n:"application",p.onKeyDown=function(t){e.accessibilityManager.keyboardEvent(t)},p.onFocus=function(){e.accessibilityManager.focus()});var f=this.parseEventsOfWrapper();return P.createElement(DV,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},P.createElement("div",zU({className:Lt("recharts-wrapper",i),style:QU({position:"relative",cursor:"default",width:s,height:o},l)},f,{ref:function(t){e.container=t}}),P.createElement(eb,zU({},p,{width:s,height:o,title:u,desc:h,style:nW}),this.renderClipPath(),Xx(a,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}();JU(p,"displayName",t),JU(p,"defaultProps",QU({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},u)),JU(p,"getDerivedStateFromProps",function(e,t){var n=e.dataKey,r=e.data,a=e.children,i=e.width,s=e.height,o=e.layout,l=e.stackOffset,c=e.margin,u=t.dataStartIndex,h=t.dataEndIndex;if(void 0===t.updateId){var p=hW(e);return QU(QU(QU({},p),{},{updateId:0},d(QU(QU({props:e},p),{},{updateId:0}),t)),{},{prevDataKey:n,prevData:r,prevWidth:i,prevHeight:s,prevLayout:o,prevStackOffset:l,prevMargin:c,prevChildren:a})}if(n!==t.prevDataKey||r!==t.prevData||i!==t.prevWidth||s!==t.prevHeight||o!==t.prevLayout||l!==t.prevStackOffset||!Ex(c,t.prevMargin)){var f=hW(e),m={chartX:t.chartX,chartY:t.chartY,isTooltipActive:t.isTooltipActive},g=QU(QU({},lW(t,r,o)),{},{updateId:t.updateId+1}),y=QU(QU(QU({},f),m),g);return QU(QU(QU({},y),d(QU({props:e},y),t)),{},{prevDataKey:n,prevData:r,prevWidth:i,prevHeight:s,prevLayout:o,prevStackOffset:l,prevMargin:c,prevChildren:a})}if(!Kx(a,t.prevChildren)){var x,b,v,w,k=Hx(a,Ez),S=k&&null!==(x=null===(b=k.props)||void 0===b?void 0:b.startIndex)&&void 0!==x?x:u,N=k&&null!==(v=null===(w=k.props)||void 0===w?void 0:w.endIndex)&&void 0!==v?v:h,E=S!==u||N!==h,A=!Xy(r)&&!E?t.updateId:t.updateId+1;return QU(QU({updateId:A},d(QU(QU({props:e},t),{},{updateId:A,dataStartIndex:S,dataEndIndex:N}),t)),{},{prevChildren:a,dataStartIndex:S,dataEndIndex:N})}return null}),JU(p,"renderActiveDot",function(e,t,n){var r;return r=O.isValidElement(e)?O.cloneElement(e,t):ex(e)?e(t):P.createElement(W$,t),P.createElement(vb,{className:"recharts-active-dot",key:n},r)});var f=O.forwardRef(function(e,t){return P.createElement(p,zU({},e,{ref:t}))});return f.displayName=p.displayName,f},gW=mW({chartName:"LineChart",GraphicalChild:PH,axisComponents:[{axisType:"xAxis",AxisComp:sU},{axisType:"yAxis",AxisComp:yU}],formatAxisMap:yV}),yW=mW({chartName:"BarChart",GraphicalChild:uV,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:sU},{axisType:"yAxis",AxisComp:yU}],formatAxisMap:yV}),xW=mW({chartName:"RadarChart",GraphicalChild:ez,axisComponents:[{axisType:"angleAxis",AxisComp:YF},{axisType:"radiusAxis",AxisComp:PF}],formatAxisMap:function(e,t,n,r,a){var i=e.width,s=e.height,o=e.startAngle,l=e.endAngle,c=vx(e.cx,i,i/2),u=vx(e.cy,s,s/2),h=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(n.left||0)-(n.right||0)),Math.abs(t-(n.top||0)-(n.bottom||0)))/2}(i,s,n),d=vx(e.innerRadius,h,0),p=vx(e.outerRadius,h,.8*h);return Object.keys(t).reduce(function(e,n){var i,s=t[n],h=s.domain,f=s.reversed;if(Xy(s.range))"angleAxis"===r?i=[o,l]:"radiusAxis"===r&&(i=[d,p]),f&&(i=[i[1],i[0]]);else{var m=zR(i=s.range,2);o=m[0],l=m[1]}var g=wR(s,a),y=g.realScaleType,x=g.scale;x.domain(h).range(i),SR(x);var b=AR(x,FR(FR({},s),{},{realScaleType:y})),v=FR(FR(FR({},s),b),{},{range:i,radius:p,realScaleType:y,scale:x,cx:c,cy:u,innerRadius:d,outerRadius:p,startAngle:o,endAngle:l});return FR(FR({},e),{},DR({},n,v))},{})},defaultProps:{layout:"centric",startAngle:90,endAngle:-270,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),bW=mW({chartName:"AreaChart",GraphicalChild:qH,axisComponents:[{axisType:"xAxis",AxisComp:sU},{axisType:"yAxis",AxisComp:yU}],formatAxisMap:yV});function vW(e){return e}var wW=1e-6;function kW(e){return"translate("+e+",0)"}function SW(e){return"translate(0,"+e+")"}function NW(e){return t=>+e(t)}function EW(e,t){return t=Math.max(0,e.bandwidth()-2*t)/2,e.round()&&(t=Math.round(t)),n=>+e(n)+t}function AW(){return!this.__axis}function CW(e,t){var n=[],r=null,a=null,i=6,s=6,o=3,l="undefined"!=typeof window&&window.devicePixelRatio>1?0:.5,c=1===e||4===e?-1:1,u=4===e||2===e?"x":"y",h=1===e||3===e?kW:SW;function d(d){var p=null==r?t.ticks?t.ticks.apply(t,n):t.domain():r,f=null==a?t.tickFormat?t.tickFormat.apply(t,n):vW:a,m=Math.max(i,0)+o,g=t.range(),y=+g[0]+l,x=+g[g.length-1]+l,b=(t.bandwidth?EW:NW)(t.copy(),l),v=d.selection?d.selection():d,w=v.selectAll(".domain").data([null]),k=v.selectAll(".tick").data(p,t).order(),S=k.exit(),N=k.enter().append("g").attr("class","tick"),E=k.select("line"),A=k.select("text");w=w.merge(w.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),k=k.merge(N),E=E.merge(N.append("line").attr("stroke","currentColor").attr(u+"2",c*i)),A=A.merge(N.append("text").attr("fill","currentColor").attr(u,c*m).attr("dy",1===e?"0em":3===e?"0.71em":"0.32em")),d!==v&&(w=w.transition(d),k=k.transition(d),E=E.transition(d),A=A.transition(d),S=S.transition(d).attr("opacity",wW).attr("transform",function(e){return isFinite(e=b(e))?h(e+l):this.getAttribute("transform")}),N.attr("opacity",wW).attr("transform",function(e){var t=this.parentNode.__axis;return h((t&&isFinite(t=t(e))?t:b(e))+l)})),S.remove(),w.attr("d",4===e||2===e?s?"M"+c*s+","+y+"H"+l+"V"+x+"H"+c*s:"M"+l+","+y+"V"+x:s?"M"+y+","+c*s+"V"+l+"H"+x+"V"+c*s:"M"+y+","+l+"H"+x),k.attr("opacity",1).attr("transform",function(e){return h(b(e)+l)}),E.attr(u+"2",c*i),A.attr(u,c*m).text(f),v.filter(AW).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",2===e?"start":4===e?"end":"middle"),v.each(function(){this.__axis=b})}return d.scale=function(e){return arguments.length?(t=e,d):t},d.ticks=function(){return n=Array.from(arguments),d},d.tickArguments=function(e){return arguments.length?(n=null==e?[]:Array.from(e),d):n.slice()},d.tickValues=function(e){return arguments.length?(r=null==e?null:Array.from(e),d):r&&r.slice()},d.tickFormat=function(e){return arguments.length?(a=e,d):a},d.tickSize=function(e){return arguments.length?(i=s=+e,d):i},d.tickSizeInner=function(e){return arguments.length?(i=+e,d):i},d.tickSizeOuter=function(e){return arguments.length?(s=+e,d):s},d.tickPadding=function(e){return arguments.length?(o=+e,d):o},d.offset=function(e){return arguments.length?(l=+e,d):l},d}var jW={value:()=>{}};function MW(){for(var e,t=0,n=arguments.length,r={};t<n;++t){if(!(e=arguments[t]+"")||e in r||/[\s.]/.test(e))throw new Error("illegal type: "+e);r[e]=[]}return new TW(r)}function TW(e){this._=e}function IW(e,t){for(var n,r=0,a=e.length;r<a;++r)if((n=e[r]).name===t)return n.value}function OW(e,t,n){for(var r=0,a=e.length;r<a;++r)if(e[r].name===t){e[r]=jW,e=e.slice(0,r).concat(e.slice(r+1));break}return null!=n&&e.push({name:t,value:n}),e}TW.prototype=MW.prototype={constructor:TW,on:function(e,t){var n,r,a=this._,i=(r=a,(e+"").trim().split(/^|\s+/).map(function(e){var t="",n=e.indexOf(".");if(n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),e&&!r.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:t}})),s=-1,o=i.length;if(!(arguments.length<2)){if(null!=t&&"function"!=typeof t)throw new Error("invalid callback: "+t);for(;++s<o;)if(n=(e=i[s]).type)a[n]=OW(a[n],e.name,t);else if(null==t)for(n in a)a[n]=OW(a[n],e.name,null);return this}for(;++s<o;)if((n=(e=i[s]).type)&&(n=IW(a[n],e.name)))return n},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new TW(e)},call:function(e,t){if((n=arguments.length-2)>0)for(var n,r,a=new Array(n),i=0;i<n;++i)a[i]=arguments[i+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(i=0,n=(r=this._[e]).length;i<n;++i)r[i].value.apply(t,a)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],a=0,i=r.length;a<i;++a)r[a].value.apply(t,n)}};var PW="http://www.w3.org/1999/xhtml";const RW={svg:"http://www.w3.org/2000/svg",xhtml:PW,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function _W(e){var t=e+="",n=t.indexOf(":");return n>=0&&"xmlns"!==(t=e.slice(0,n))&&(e=e.slice(n+1)),RW.hasOwnProperty(t)?{space:RW[t],local:e}:e}function LW(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===PW&&t.documentElement.namespaceURI===PW?t.createElement(e):t.createElementNS(n,e)}}function $W(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function FW(e){var t=_W(e);return(t.local?$W:LW)(t)}function DW(){}function zW(e){return null==e?DW:function(){return this.querySelector(e)}}function VW(){return[]}function BW(e){return null==e?VW:function(){return this.querySelectorAll(e)}}function HW(e){return function(){return null==(t=e.apply(this,arguments))?[]:Array.isArray(t)?t:Array.from(t);var t}}function UW(e){return function(){return this.matches(e)}}function WW(e){return function(t){return t.matches(e)}}var ZW=Array.prototype.find;function GW(){return this.firstElementChild}var KW=Array.prototype.filter;function qW(){return Array.from(this.children)}function XW(e){return new Array(e.length)}function YW(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}function QW(e,t,n,r,a,i){for(var s,o=0,l=t.length,c=i.length;o<c;++o)(s=t[o])?(s.__data__=i[o],r[o]=s):n[o]=new YW(e,i[o]);for(;o<l;++o)(s=t[o])&&(a[o]=s)}function JW(e,t,n,r,a,i,s){var o,l,c,u=new Map,h=t.length,d=i.length,p=new Array(h);for(o=0;o<h;++o)(l=t[o])&&(p[o]=c=s.call(l,l.__data__,o,t)+"",u.has(c)?a[o]=l:u.set(c,l));for(o=0;o<d;++o)c=s.call(e,i[o],o,i)+"",(l=u.get(c))?(r[o]=l,l.__data__=i[o],u.delete(c)):n[o]=new YW(e,i[o]);for(o=0;o<h;++o)(l=t[o])&&u.get(p[o])===l&&(a[o]=l)}function eZ(e){return e.__data__}function tZ(e){return"object"==typeof e&&"length"in e?e:Array.from(e)}function nZ(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function rZ(e){return function(){this.removeAttribute(e)}}function aZ(e){return function(){this.removeAttributeNS(e.space,e.local)}}function iZ(e,t){return function(){this.setAttribute(e,t)}}function sZ(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function oZ(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttribute(e):this.setAttribute(e,n)}}function lZ(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function cZ(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function uZ(e){return function(){this.style.removeProperty(e)}}function hZ(e,t,n){return function(){this.style.setProperty(e,t,n)}}function dZ(e,t,n){return function(){var r=t.apply(this,arguments);null==r?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function pZ(e,t){return e.style.getPropertyValue(t)||cZ(e).getComputedStyle(e,null).getPropertyValue(t)}function fZ(e){return function(){delete this[e]}}function mZ(e,t){return function(){this[e]=t}}function gZ(e,t){return function(){var n=t.apply(this,arguments);null==n?delete this[e]:this[e]=n}}function yZ(e){return e.trim().split(/^|\s+/)}function xZ(e){return e.classList||new bZ(e)}function bZ(e){this._node=e,this._names=yZ(e.getAttribute("class")||"")}function vZ(e,t){for(var n=xZ(e),r=-1,a=t.length;++r<a;)n.add(t[r])}function wZ(e,t){for(var n=xZ(e),r=-1,a=t.length;++r<a;)n.remove(t[r])}function kZ(e){return function(){vZ(this,e)}}function SZ(e){return function(){wZ(this,e)}}function NZ(e,t){return function(){(t.apply(this,arguments)?vZ:wZ)(this,e)}}function EZ(){this.textContent=""}function AZ(e){return function(){this.textContent=e}}function CZ(e){return function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}}function jZ(){this.innerHTML=""}function MZ(e){return function(){this.innerHTML=e}}function TZ(e){return function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}}function IZ(){this.nextSibling&&this.parentNode.appendChild(this)}function OZ(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function PZ(){return null}function RZ(){var e=this.parentNode;e&&e.removeChild(this)}function _Z(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function LZ(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function $Z(e){return function(){var t=this.__on;if(t){for(var n,r=0,a=-1,i=t.length;r<i;++r)n=t[r],e.type&&n.type!==e.type||n.name!==e.name?t[++a]=n:this.removeEventListener(n.type,n.listener,n.options);++a?t.length=a:delete this.__on}}}function FZ(e,t,n){return function(){var r,a=this.__on,i=function(e){return function(t){e.call(this,t,this.__data__)}}(t);if(a)for(var s=0,o=a.length;s<o;++s)if((r=a[s]).type===e.type&&r.name===e.name)return this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=i,r.options=n),void(r.value=t);this.addEventListener(e.type,i,n),r={type:e.type,name:e.name,value:t,listener:i,options:n},a?a.push(r):this.__on=[r]}}function DZ(e,t,n){var r=cZ(e),a=r.CustomEvent;"function"==typeof a?a=new a(t,n):(a=r.document.createEvent("Event"),n?(a.initEvent(t,n.bubbles,n.cancelable),a.detail=n.detail):a.initEvent(t,!1,!1)),e.dispatchEvent(a)}function zZ(e,t){return function(){return DZ(this,e,t)}}function VZ(e,t){return function(){return DZ(this,e,t.apply(this,arguments))}}YW.prototype={constructor:YW,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}},bZ.prototype={add:function(e){this._names.indexOf(e)<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};var BZ=[null];function HZ(e,t){this._groups=e,this._parents=t}function UZ(){return new HZ([[document.documentElement]],BZ)}function WZ(e){return"string"==typeof e?new HZ([[document.querySelector(e)]],[document.documentElement]):new HZ([[e]],BZ)}HZ.prototype=UZ.prototype={constructor:HZ,select:function(e){"function"!=typeof e&&(e=zW(e));for(var t=this._groups,n=t.length,r=new Array(n),a=0;a<n;++a)for(var i,s,o=t[a],l=o.length,c=r[a]=new Array(l),u=0;u<l;++u)(i=o[u])&&(s=e.call(i,i.__data__,u,o))&&("__data__"in i&&(s.__data__=i.__data__),c[u]=s);return new HZ(r,this._parents)},selectAll:function(e){e="function"==typeof e?HW(e):BW(e);for(var t=this._groups,n=t.length,r=[],a=[],i=0;i<n;++i)for(var s,o=t[i],l=o.length,c=0;c<l;++c)(s=o[c])&&(r.push(e.call(s,s.__data__,c,o)),a.push(s));return new HZ(r,a)},selectChild:function(e){return this.select(null==e?GW:function(e){return function(){return ZW.call(this.children,e)}}("function"==typeof e?e:WW(e)))},selectChildren:function(e){return this.selectAll(null==e?qW:function(e){return function(){return KW.call(this.children,e)}}("function"==typeof e?e:WW(e)))},filter:function(e){"function"!=typeof e&&(e=UW(e));for(var t=this._groups,n=t.length,r=new Array(n),a=0;a<n;++a)for(var i,s=t[a],o=s.length,l=r[a]=[],c=0;c<o;++c)(i=s[c])&&e.call(i,i.__data__,c,s)&&l.push(i);return new HZ(r,this._parents)},data:function(e,t){if(!arguments.length)return Array.from(this,eZ);var n,r=t?JW:QW,a=this._parents,i=this._groups;"function"!=typeof e&&(n=e,e=function(){return n});for(var s=i.length,o=new Array(s),l=new Array(s),c=new Array(s),u=0;u<s;++u){var h=a[u],d=i[u],p=d.length,f=tZ(e.call(h,h&&h.__data__,u,a)),m=f.length,g=l[u]=new Array(m),y=o[u]=new Array(m);r(h,d,g,y,c[u]=new Array(p),f,t);for(var x,b,v=0,w=0;v<m;++v)if(x=g[v]){for(v>=w&&(w=v+1);!(b=y[w])&&++w<m;);x._next=b||null}}return(o=new HZ(o,a))._enter=l,o._exit=c,o},enter:function(){return new HZ(this._enter||this._groups.map(XW),this._parents)},exit:function(){return new HZ(this._exit||this._groups.map(XW),this._parents)},join:function(e,t,n){var r=this.enter(),a=this,i=this.exit();return"function"==typeof e?(r=e(r))&&(r=r.selection()):r=r.append(e+""),null!=t&&(a=t(a))&&(a=a.selection()),null==n?i.remove():n(i),r&&a?r.merge(a).order():a},merge:function(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,a=n.length,i=r.length,s=Math.min(a,i),o=new Array(a),l=0;l<s;++l)for(var c,u=n[l],h=r[l],d=u.length,p=o[l]=new Array(d),f=0;f<d;++f)(c=u[f]||h[f])&&(p[f]=c);for(;l<a;++l)o[l]=n[l];return new HZ(o,this._parents)},selection:function(){return this},order:function(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r,a=e[t],i=a.length-1,s=a[i];--i>=0;)(r=a[i])&&(s&&4^r.compareDocumentPosition(s)&&s.parentNode.insertBefore(r,s),s=r);return this},sort:function(e){function t(t,n){return t&&n?e(t.__data__,n.__data__):!t-!n}e||(e=nZ);for(var n=this._groups,r=n.length,a=new Array(r),i=0;i<r;++i){for(var s,o=n[i],l=o.length,c=a[i]=new Array(l),u=0;u<l;++u)(s=o[u])&&(c[u]=s);c.sort(t)}return new HZ(a,this._parents).order()},call:function(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],a=0,i=r.length;a<i;++a){var s=r[a];if(s)return s}return null},size:function(){let e=0;for(const t of this)++e;return e},empty:function(){return!this.node()},each:function(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var a,i=t[n],s=0,o=i.length;s<o;++s)(a=i[s])&&e.call(a,a.__data__,s,i);return this},attr:function(e,t){var n=_W(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==t?n.local?aZ:rZ:"function"==typeof t?n.local?lZ:oZ:n.local?sZ:iZ)(n,t))},style:function(e,t,n){return arguments.length>1?this.each((null==t?uZ:"function"==typeof t?dZ:hZ)(e,t,null==n?"":n)):pZ(this.node(),e)},property:function(e,t){return arguments.length>1?this.each((null==t?fZ:"function"==typeof t?gZ:mZ)(e,t)):this.node()[e]},classed:function(e,t){var n=yZ(e+"");if(arguments.length<2){for(var r=xZ(this.node()),a=-1,i=n.length;++a<i;)if(!r.contains(n[a]))return!1;return!0}return this.each(("function"==typeof t?NZ:t?kZ:SZ)(n,t))},text:function(e){return arguments.length?this.each(null==e?EZ:("function"==typeof e?CZ:AZ)(e)):this.node().textContent},html:function(e){return arguments.length?this.each(null==e?jZ:("function"==typeof e?TZ:MZ)(e)):this.node().innerHTML},raise:function(){return this.each(IZ)},lower:function(){return this.each(OZ)},append:function(e){var t="function"==typeof e?e:FW(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})},insert:function(e,t){var n="function"==typeof e?e:FW(e),r=null==t?PZ:"function"==typeof t?t:zW(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})},remove:function(){return this.each(RZ)},clone:function(e){return this.select(e?LZ:_Z)},datum:function(e){return arguments.length?this.property("__data__",e):this.node().__data__},on:function(e,t,n){var r,a,i=function(e){return e.trim().split(/^|\s+/).map(function(e){var t="",n=e.indexOf(".");return n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),{type:e,name:t}})}(e+""),s=i.length;if(!(arguments.length<2)){for(o=t?FZ:$Z,r=0;r<s;++r)this.each(o(i[r],t,n));return this}var o=this.node().__on;if(o)for(var l,c=0,u=o.length;c<u;++c)for(r=0,l=o[c];r<s;++r)if((a=i[r]).type===l.type&&a.name===l.name)return l.value},dispatch:function(e,t){return this.each(("function"==typeof t?VZ:zZ)(e,t))},[Symbol.iterator]:function*(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r,a=e[t],i=0,s=a.length;i<s;++i)(r=a[i])&&(yield r)}};var ZZ,GZ,KZ=0,qZ=0,XZ=0,YZ=0,QZ=0,JZ=0,eG="object"==typeof performance&&performance.now?performance:Date,tG="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function nG(){return QZ||(tG(rG),QZ=eG.now()+JZ)}function rG(){QZ=0}function aG(){this._call=this._time=this._next=null}function iG(e,t,n){var r=new aG;return r.restart(e,t,n),r}function sG(){QZ=(YZ=eG.now())+JZ,KZ=qZ=0;try{!function(){nG(),++KZ;for(var e,t=ZZ;t;)(e=QZ-t._time)>=0&&t._call.call(void 0,e),t=t._next;--KZ}()}finally{KZ=0,function(){var e,t,n=ZZ,r=1/0;for(;n;)n._call?(r>n._time&&(r=n._time),e=n,n=n._next):(t=n._next,n._next=null,n=e?e._next=t:ZZ=t);GZ=e,lG(r)}(),QZ=0}}function oG(){var e=eG.now(),t=e-YZ;t>1e3&&(JZ-=t,YZ=e)}function lG(e){KZ||(qZ&&(qZ=clearTimeout(qZ)),e-QZ>24?(e<1/0&&(qZ=setTimeout(sG,e-eG.now()-JZ)),XZ&&(XZ=clearInterval(XZ))):(XZ||(YZ=eG.now(),XZ=setInterval(oG,1e3)),KZ=1,tG(sG)))}function cG(e,t,n){var r=new aG;return t=null==t?0:+t,r.restart(n=>{r.stop(),e(n+t)},t,n),r}aG.prototype=iG.prototype={constructor:aG,restart:function(e,t,n){if("function"!=typeof e)throw new TypeError("callback is not a function");n=(null==n?nG():+n)+(null==t?0:+t),this._next||GZ===this||(GZ?GZ._next=this:ZZ=this,GZ=this),this._call=e,this._time=n,lG()},stop:function(){this._call&&(this._call=null,this._time=1/0,lG())}};var uG=MW("start","end","cancel","interrupt"),hG=[];function dG(e,t,n,r,a,i){var s=e.__transition;if(s){if(n in s)return}else e.__transition={};!function(e,t,n){var r,a=e.__transition;function i(e){n.state=1,n.timer.restart(s,n.delay,n.time),n.delay<=e&&s(e-n.delay)}function s(i){var c,u,h,d;if(1!==n.state)return l();for(c in a)if((d=a[c]).name===n.name){if(3===d.state)return cG(s);4===d.state?(d.state=6,d.timer.stop(),d.on.call("interrupt",e,e.__data__,d.index,d.group),delete a[c]):+c<t&&(d.state=6,d.timer.stop(),d.on.call("cancel",e,e.__data__,d.index,d.group),delete a[c])}if(cG(function(){3===n.state&&(n.state=4,n.timer.restart(o,n.delay,n.time),o(i))}),n.state=2,n.on.call("start",e,e.__data__,n.index,n.group),2===n.state){for(n.state=3,r=new Array(h=n.tween.length),c=0,u=-1;c<h;++c)(d=n.tween[c].value.call(e,e.__data__,n.index,n.group))&&(r[++u]=d);r.length=u+1}}function o(t){for(var a=t<n.duration?n.ease.call(null,t/n.duration):(n.timer.restart(l),n.state=5,1),i=-1,s=r.length;++i<s;)r[i].call(e,a);5===n.state&&(n.on.call("end",e,e.__data__,n.index,n.group),l())}function l(){for(var r in n.state=6,n.timer.stop(),delete a[t],a)return;delete e.__transition}a[t]=n,n.timer=iG(i,0,n.time)}(e,n,{name:t,index:r,group:a,on:uG,tween:hG,time:i.time,delay:i.delay,duration:i.duration,ease:i.ease,timer:null,state:0})}function pG(e,t){var n=mG(e,t);if(n.state>0)throw new Error("too late; already scheduled");return n}function fG(e,t){var n=mG(e,t);if(n.state>3)throw new Error("too late; already running");return n}function mG(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function gG(e,t){var n,r;return function(){var a=fG(this,e),i=a.tween;if(i!==n)for(var s=0,o=(r=n=i).length;s<o;++s)if(r[s].name===t){(r=r.slice()).splice(s,1);break}a.tween=r}}function yG(e,t,n){var r,a;if("function"!=typeof n)throw new Error;return function(){var i=fG(this,e),s=i.tween;if(s!==r){a=(r=s).slice();for(var o={name:t,value:n},l=0,c=a.length;l<c;++l)if(a[l].name===t){a[l]=o;break}l===c&&a.push(o)}i.tween=a}}function xG(e,t,n){var r=e._id;return e.each(function(){var e=fG(this,r);(e.value||(e.value={}))[t]=n.apply(this,arguments)}),function(e){return mG(e,r).value[t]}}function bG(e,t){var n;return("number"==typeof t?Hj:t instanceof vj?Dj:(n=vj(t))?(t=n,Dj):Gj)(e,t)}function vG(e){return function(){this.removeAttribute(e)}}function wG(e){return function(){this.removeAttributeNS(e.space,e.local)}}function kG(e,t,n){var r,a,i=n+"";return function(){var s=this.getAttribute(e);return s===i?null:s===r?a:a=t(r=s,n)}}function SG(e,t,n){var r,a,i=n+"";return function(){var s=this.getAttributeNS(e.space,e.local);return s===i?null:s===r?a:a=t(r=s,n)}}function NG(e,t,n){var r,a,i;return function(){var s,o,l=n(this);if(null!=l)return(s=this.getAttribute(e))===(o=l+"")?null:s===r&&o===a?i:(a=o,i=t(r=s,l));this.removeAttribute(e)}}function EG(e,t,n){var r,a,i;return function(){var s,o,l=n(this);if(null!=l)return(s=this.getAttributeNS(e.space,e.local))===(o=l+"")?null:s===r&&o===a?i:(a=o,i=t(r=s,l));this.removeAttributeNS(e.space,e.local)}}function AG(e,t){var n,r;function a(){var a=t.apply(this,arguments);return a!==r&&(n=(r=a)&&function(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}(e,a)),n}return a._value=t,a}function CG(e,t){var n,r;function a(){var a=t.apply(this,arguments);return a!==r&&(n=(r=a)&&function(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}(e,a)),n}return a._value=t,a}function jG(e,t){return function(){pG(this,e).delay=+t.apply(this,arguments)}}function MG(e,t){return t=+t,function(){pG(this,e).delay=t}}function TG(e,t){return function(){fG(this,e).duration=+t.apply(this,arguments)}}function IG(e,t){return t=+t,function(){fG(this,e).duration=t}}var OG=UZ.prototype.constructor;function PG(e){return function(){this.style.removeProperty(e)}}var RG=0;function _G(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function LG(){return++RG}var $G=UZ.prototype;_G.prototype={constructor:_G,select:function(e){var t=this._name,n=this._id;"function"!=typeof e&&(e=zW(e));for(var r=this._groups,a=r.length,i=new Array(a),s=0;s<a;++s)for(var o,l,c=r[s],u=c.length,h=i[s]=new Array(u),d=0;d<u;++d)(o=c[d])&&(l=e.call(o,o.__data__,d,c))&&("__data__"in o&&(l.__data__=o.__data__),h[d]=l,dG(h[d],t,n,d,h,mG(o,n)));return new _G(i,this._parents,t,n)},selectAll:function(e){var t=this._name,n=this._id;"function"!=typeof e&&(e=BW(e));for(var r=this._groups,a=r.length,i=[],s=[],o=0;o<a;++o)for(var l,c=r[o],u=c.length,h=0;h<u;++h)if(l=c[h]){for(var d,p=e.call(l,l.__data__,h,c),f=mG(l,n),m=0,g=p.length;m<g;++m)(d=p[m])&&dG(d,t,n,m,p,f);i.push(p),s.push(l)}return new _G(i,s,t,n)},selectChild:$G.selectChild,selectChildren:$G.selectChildren,filter:function(e){"function"!=typeof e&&(e=UW(e));for(var t=this._groups,n=t.length,r=new Array(n),a=0;a<n;++a)for(var i,s=t[a],o=s.length,l=r[a]=[],c=0;c<o;++c)(i=s[c])&&e.call(i,i.__data__,c,s)&&l.push(i);return new _G(r,this._parents,this._name,this._id)},merge:function(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,a=n.length,i=Math.min(r,a),s=new Array(r),o=0;o<i;++o)for(var l,c=t[o],u=n[o],h=c.length,d=s[o]=new Array(h),p=0;p<h;++p)(l=c[p]||u[p])&&(d[p]=l);for(;o<r;++o)s[o]=t[o];return new _G(s,this._parents,this._name,this._id)},selection:function(){return new OG(this._groups,this._parents)},transition:function(){for(var e=this._name,t=this._id,n=LG(),r=this._groups,a=r.length,i=0;i<a;++i)for(var s,o=r[i],l=o.length,c=0;c<l;++c)if(s=o[c]){var u=mG(s,t);dG(s,e,n,c,o,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new _G(r,this._parents,e,n)},call:$G.call,nodes:$G.nodes,node:$G.node,size:$G.size,empty:$G.empty,each:$G.each,on:function(e,t){var n=this._id;return arguments.length<2?mG(this.node(),n).on.on(e):this.each(function(e,t,n){var r,a,i=function(e){return(e+"").trim().split(/^|\s+/).every(function(e){var t=e.indexOf(".");return t>=0&&(e=e.slice(0,t)),!e||"start"===e})}(t)?pG:fG;return function(){var s=i(this,e),o=s.on;o!==r&&(a=(r=o).copy()).on(t,n),s.on=a}}(n,e,t))},attr:function(e,t){var n=_W(e),r="transform"===n?nM:bG;return this.attrTween(e,"function"==typeof t?(n.local?EG:NG)(n,r,xG(this,"attr."+e,t)):null==t?(n.local?wG:vG)(n):(n.local?SG:kG)(n,r,t))},attrTween:function(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==t)return this.tween(n,null);if("function"!=typeof t)throw new Error;var r=_W(e);return this.tween(n,(r.local?AG:CG)(r,t))},style:function(e,t,n){var r="transform"==(e+="")?tM:bG;return null==t?this.styleTween(e,function(e,t){var n,r,a;return function(){var i=pZ(this,e),s=(this.style.removeProperty(e),pZ(this,e));return i===s?null:i===n&&s===r?a:a=t(n=i,r=s)}}(e,r)).on("end.style."+e,PG(e)):"function"==typeof t?this.styleTween(e,function(e,t,n){var r,a,i;return function(){var s=pZ(this,e),o=n(this),l=o+"";return null==o&&(this.style.removeProperty(e),l=o=pZ(this,e)),s===l?null:s===r&&l===a?i:(a=l,i=t(r=s,o))}}(e,r,xG(this,"style."+e,t))).each(function(e,t){var n,r,a,i,s="style."+t,o="end."+s;return function(){var l=fG(this,e),c=l.on,u=null==l.value[s]?i||(i=PG(t)):void 0;c===n&&a===u||(r=(n=c).copy()).on(o,a=u),l.on=r}}(this._id,e)):this.styleTween(e,function(e,t,n){var r,a,i=n+"";return function(){var s=pZ(this,e);return s===i?null:s===r?a:a=t(r=s,n)}}(e,r,t),n).on("end.style."+e,null)},styleTween:function(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==t)return this.tween(r,null);if("function"!=typeof t)throw new Error;return this.tween(r,function(e,t,n){var r,a;function i(){var i=t.apply(this,arguments);return i!==a&&(r=(a=i)&&function(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}(e,i,n)),r}return i._value=t,i}(e,t,null==n?"":n))},text:function(e){return this.tween("text","function"==typeof e?function(e){return function(){var t=e(this);this.textContent=null==t?"":t}}(xG(this,"text",e)):function(e){return function(){this.textContent=e}}(null==e?"":e+""))},textTween:function(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(null==e)return this.tween(t,null);if("function"!=typeof e)throw new Error;return this.tween(t,function(e){var t,n;function r(){var r=e.apply(this,arguments);return r!==n&&(t=(n=r)&&function(e){return function(t){this.textContent=e.call(this,t)}}(r)),t}return r._value=e,r}(e))},remove:function(){return this.on("end.remove",(e=this._id,function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}));var e},tween:function(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r,a=mG(this.node(),n).tween,i=0,s=a.length;i<s;++i)if((r=a[i]).name===e)return r.value;return null}return this.each((null==t?gG:yG)(n,e,t))},delay:function(e){var t=this._id;return arguments.length?this.each(("function"==typeof e?jG:MG)(t,e)):mG(this.node(),t).delay},duration:function(e){var t=this._id;return arguments.length?this.each(("function"==typeof e?TG:IG)(t,e)):mG(this.node(),t).duration},ease:function(e){var t=this._id;return arguments.length?this.each(function(e,t){if("function"!=typeof t)throw new Error;return function(){fG(this,e).ease=t}}(t,e)):mG(this.node(),t).ease},easeVarying:function(e){if("function"!=typeof e)throw new Error;return this.each(function(e,t){return function(){var n=t.apply(this,arguments);if("function"!=typeof n)throw new Error;fG(this,e).ease=n}}(this._id,e))},end:function(){var e,t,n=this,r=n._id,a=n.size();return new Promise(function(i,s){var o={value:s},l={value:function(){0===--a&&i()}};n.each(function(){var n=fG(this,r),a=n.on;a!==e&&((t=(e=a).copy())._.cancel.push(o),t._.interrupt.push(o),t._.end.push(l)),n.on=t}),0===a&&i()})},[Symbol.iterator]:$G[Symbol.iterator]};var FG={time:null,delay:0,duration:250,ease:function(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}};function DG(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function zG(e,t,n){this.k=e,this.x=t,this.y=n}UZ.prototype.interrupt=function(e){return this.each(function(){!function(e,t){var n,r,a,i=e.__transition,s=!0;if(i){for(a in t=null==t?null:t+"",i)(n=i[a]).name===t?(r=n.state>2&&n.state<5,n.state=6,n.timer.stop(),n.on.call(r?"interrupt":"cancel",e,e.__data__,n.index,n.group),delete i[a]):s=!1;s&&delete e.__transition}}(this,e)})},UZ.prototype.transition=function(e){var t,n;e instanceof _G?(t=e._id,e=e._name):(t=LG(),(n=FG).time=nG(),e=null==e?null:e+"");for(var r=this._groups,a=r.length,i=0;i<a;++i)for(var s,o=r[i],l=o.length,c=0;c<l;++c)(s=o[c])&&dG(s,e,t,c,o,n||DG(s,t));return new _G(r,this._parents,e,t)},zG.prototype={constructor:zG,scale:function(e){return 1===e?this:new zG(this.k*e,this.x,this.y)},translate:function(e,t){return 0===e&0===t?this:new zG(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}},zG.prototype;const VG=[{id:"heston",title:"Heston Option Pricing Engine",description:"Advanced options pricing engine implementing the Heston stochastic volatility model for European options",details:["Implemented Heston model with mean-reverting volatility process","Built Monte Carlo simulation engine for option valuation","Calculated option Greeks (Delta, Gamma, Vega) for risk management","Compared results against Black-Scholes benchmark pricing"],technologies:["Python","NumPy","SciPy","Pandas","Matplotlib"],category:"quant",icon:Na,githubUrl:"https://github.com/buraq-hs51/heston-option-pricing-engine",visualization:function(){const e=(()=>{const e=[];for(let t=80;t<=120;t+=2){const n=Math.max(0,100-t+(t<100?8:-3)),r=Math.max(0,100-t+(t<100?6:-2));e.push({strike:t,"Heston Model":parseFloat(n.toFixed(2)),"Black-Scholes":parseFloat(r.toFixed(2))})}return e})();return u.jsxs(gm,{className:"p-6 bg-card/80 border-border/30",children:[u.jsx("h4",{className:"text-sm font-semibold mb-4 text-foreground/90",children:"Call Option Prices: Heston vs Black-Scholes"}),u.jsx(BA,{width:"100%",height:250,children:u.jsxs(gW,{data:e,margin:{top:5,right:20,left:-20,bottom:5},children:[u.jsx(gH,{strokeDasharray:"3 3",stroke:"oklch(0.25 0.03 250 / 0.2)"}),u.jsx(sU,{dataKey:"strike",stroke:"oklch(0.60 0.01 250)",tick:{fill:"oklch(0.60 0.01 250)",fontSize:12},label:{value:"Strike Price",position:"insideBottom",offset:-5,fill:"oklch(0.60 0.01 250)"}}),u.jsx(yU,{stroke:"oklch(0.60 0.01 250)",tick:{fill:"oklch(0.60 0.01 250)",fontSize:12},label:{value:"Option Price",angle:-90,position:"insideLeft",fill:"oklch(0.60 0.01 250)"}}),u.jsx(IA,{contentStyle:{backgroundColor:"oklch(0.16 0.02 250)",border:"1px solid oklch(0.25 0.03 250)",borderRadius:"8px",color:"oklch(0.85 0.01 250)"}}),u.jsx(wE,{wrapperStyle:{paddingTop:"10px"}}),u.jsx(PH,{type:"monotone",dataKey:"Heston Model",stroke:"oklch(0.75 0.15 200)",strokeWidth:2.5,dot:{fill:"oklch(0.75 0.15 200)",r:3},activeDot:{r:5}}),u.jsx(PH,{type:"monotone",dataKey:"Black-Scholes",stroke:"oklch(0.72 0.12 85)",strokeWidth:2,strokeDasharray:"5 5",dot:{fill:"oklch(0.72 0.12 85)",r:2}})]})}),u.jsx("p",{className:"text-xs text-muted-foreground mt-3 text-center",children:"Stochastic volatility model captures smile effect vs constant volatility assumption"})]})}},{id:"regime",title:"Regime-Based Asset Allocation",description:"Dynamic portfolio allocation strategy using Hidden Markov Models to identify market regime shifts",details:["Implemented HMM for market regime detection (Bull/Bear/Sideways)","Developed regime-dependent asset allocation strategies","Backtested strategy performance across multiple market cycles","Analyzed risk-adjusted returns and drawdown metrics"],technologies:["Python","Pandas","NumPy","hmmlearn","yfinance"],category:"quant",icon:Na,githubUrl:"https://github.com/buraq-hs51/regime-allocation-strategy",visualization:function(){const e=[{period:"Jan-Mar",returns:2.3,regime:"Bull",allocation:"70/30"},{period:"Apr-Jun",returns:-1.2,regime:"Bear",allocation:"30/70"},{period:"Jul-Sep",returns:.5,regime:"Sideways",allocation:"50/50"},{period:"Oct-Dec",returns:3.1,regime:"Bull",allocation:"70/30"}],t=e=>{switch(e){case"Bull":return"oklch(0.70 0.15 140)";case"Bear":return"oklch(0.60 0.22 25)";case"Sideways":return"oklch(0.72 0.12 85)";default:return"oklch(0.75 0.15 200)"}};return u.jsxs(gm,{className:"p-6 bg-card/80 border-border/30",children:[u.jsx("h4",{className:"text-sm font-semibold mb-4 text-foreground/90",children:"Regime-Based Returns & Asset Allocation"}),u.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[u.jsx(xm,{className:"bg-[oklch(0.70_0.15_140)] text-white",children:"Bull Market"}),u.jsx(xm,{className:"bg-[oklch(0.60_0.22_25)] text-white",children:"Bear Market"}),u.jsx(xm,{className:"bg-[oklch(0.72_0.12_85)] text-accent-foreground",children:"Sideways"})]}),u.jsx(BA,{width:"100%",height:250,children:u.jsxs(bW,{data:e,margin:{top:5,right:20,left:-20,bottom:5},children:[u.jsx("defs",{children:e.map((e,n)=>u.jsxs("linearGradient",{id:`colorReturns${n}`,x1:"0",y1:"0",x2:"0",y2:"1",children:[u.jsx("stop",{offset:"5%",stopColor:t(e.regime),stopOpacity:.8}),u.jsx("stop",{offset:"95%",stopColor:t(e.regime),stopOpacity:.1})]},n))}),u.jsx(gH,{strokeDasharray:"3 3",stroke:"oklch(0.25 0.03 250 / 0.2)"}),u.jsx(sU,{dataKey:"period",stroke:"oklch(0.60 0.01 250)",tick:{fill:"oklch(0.60 0.01 250)",fontSize:12}}),u.jsx(yU,{stroke:"oklch(0.60 0.01 250)",tick:{fill:"oklch(0.60 0.01 250)",fontSize:12},label:{value:"Returns (%)",angle:-90,position:"insideLeft",fill:"oklch(0.60 0.01 250)"}}),u.jsx(IA,{contentStyle:{backgroundColor:"oklch(0.16 0.02 250)",border:"1px solid oklch(0.25 0.03 250)",borderRadius:"8px",color:"oklch(0.85 0.01 250)"},formatter:(e,t,n)=>"returns"===t?[`${e}%`,"Returns"]:e,labelFormatter:(e,t)=>t&&t[0]?`${e} (${t[0].payload.regime} - ${t[0].payload.allocation})`:e}),u.jsx(aB,{y:0,stroke:"oklch(0.60 0.01 250)",strokeDasharray:"3 3"}),u.jsx(qH,{type:"monotone",dataKey:"returns",stroke:"oklch(0.75 0.15 200)",strokeWidth:2,fill:"url(#colorReturns0)"})]})}),u.jsx("p",{className:"text-xs text-muted-foreground mt-3 text-center",children:"Dynamic allocation adjusted based on HMM-detected market regimes"})]})}},{id:"dl-trading",title:"Deep Learning Trading Signals",description:"LSTM neural network for predicting intraday price movements using TensorFlow and technical indicators",details:["Built LSTM models with TensorFlow for time series forecasting","Engineered features from market microstructure data and order flow","Implemented attention mechanisms for multi-horizon predictions","Backtested signals with transaction costs and slippage modeling"],technologies:["TensorFlow","Python","Keras","Pandas","NumPy"],category:"ml",icon:da,githubUrl:"https://github.com/buraq-hs51/deep-learning-trading-signals",visualization:function(){const e=[{metric:"Latency",value:92,fullMark:100},{metric:"Accuracy",value:88,fullMark:100},{metric:"Throughput",value:85,fullMark:100},{metric:"Reliability",value:95,fullMark:100},{metric:"Scalability",value:90,fullMark:100}];return u.jsxs(gm,{className:"p-6 bg-card/80 border-border/30",children:[u.jsx("h4",{className:"text-sm font-semibold mb-4 text-foreground/90",children:"ML Microservice Performance Metrics"}),u.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[u.jsx(xm,{variant:"outline",className:"text-xs",children:"FastAPI"}),u.jsx(xm,{variant:"outline",className:"text-xs",children:"Docker"}),u.jsx(xm,{variant:"outline",className:"text-xs",children:"Redis Cache"}),u.jsx(xm,{variant:"outline",className:"text-xs",children:"Load Balanced"})]}),u.jsx(BA,{width:"100%",height:250,children:u.jsxs(xW,{data:e,children:[u.jsx(fF,{stroke:"oklch(0.25 0.03 250 / 0.3)"}),u.jsx(YF,{dataKey:"metric",tick:{fill:"oklch(0.60 0.01 250)",fontSize:12}}),u.jsx(PF,{angle:90,domain:[0,100],tick:{fill:"oklch(0.60 0.01 250)",fontSize:10}}),u.jsx(ez,{name:"Performance Score",dataKey:"value",stroke:"oklch(0.75 0.15 200)",fill:"oklch(0.75 0.15 200)",fillOpacity:.4,strokeWidth:2}),u.jsx(IA,{contentStyle:{backgroundColor:"oklch(0.16 0.02 250)",border:"1px solid oklch(0.25 0.03 250)",borderRadius:"8px",color:"oklch(0.85 0.01 250)"},formatter:e=>[`${e}/100`,"Score"]})]})}),u.jsx("p",{className:"text-xs text-muted-foreground mt-3 text-center",children:"Production-ready API performance across key operational metrics"})]})}},{id:"nlp-sentiment",title:"Financial News Sentiment Analysis",description:"NLP pipeline for extracting market sentiment from financial news and social media for trading signals",details:["Built NLP pipeline using transformers for sentiment classification","Processed real-time news feeds and social media data streams","Correlated sentiment scores with asset price movements","Developed sentiment-based trading signals with risk controls"],technologies:["Python","TensorFlow","Hugging Face","NLTK","spaCy"],category:"ml",icon:da,githubUrl:"https://github.com/buraq-hs51/financial-sentiment-nlp"},{id:"data-pipeline",title:"High-Throughput Market Data Pipeline",description:"Distributed data engineering pipeline processing 200TB+ daily market data using Spark and Kafka",details:["Architected Spark ETL pipelines on AWS EMR for tick data processing","Built real-time Kafka streaming layer for market data aggregation","Optimized data lake storage with partitioning and compression","Reduced processing time by 60% through distributed compute optimization"],technologies:["Apache Spark","Kafka","AWS EMR","Python","Parquet"],category:"data",icon:Fa,githubUrl:"https://github.com/buraq-hs51/market-data-pipeline"},{id:"fx-volatility",title:"FX Volatility Surface Analysis",description:"Construction and analysis of implied volatility surfaces for foreign exchange options",details:["Built volatility surface from FX option market data","Implemented smile interpolation and extrapolation methods","Analyzed volatility term structure and skew patterns","Visualized 3D volatility surfaces across strikes and maturities"],technologies:["Python","Pandas","NumPy","Matplotlib","SciPy"],category:"quant",icon:Na,githubUrl:"https://github.com/buraq-hs51/FX-Volatility-Project",visualization:function(){const e=O.useRef(null);return O.useEffect(()=>{if(!e.current)return;const t=(()=>{const e=[],t=["1M","3M","6M","1Y"],n=[1,3,6,12];return[90,95,100,105,110].forEach((r,a)=>{t.forEach((t,a)=>{const i=20+.3*Math.abs(r-100)+2*Math.sqrt(n[a])-(r>100?2:0);e.push({strike:r,maturity:t,maturityValue:n[a],volatility:i})})}),e})(),n=WZ(e.current);n.selectAll("*").remove();const r=20,a=80,i=50,s=400-i-a,o=250-r-40,l=n.attr("width",400).attr("height",250).append("g").attr("transform",`translate(${i},${r})`),c=Array.from(new Set(t.map(e=>e.strike))),u=Array.from(new Set(t.map(e=>e.maturityValue))),h=JC().domain(c.map(String)).range([0,s]).padding(.1),d=JC().domain(u.map(String)).range([o,0]).padding(.1),p=hO(Dj("oklch(0.70 0.15 200)","oklch(0.60 0.22 25)")).domain([18,32]);var f;l.selectAll("rect").data(t).enter().append("rect").attr("x",e=>h(String(e.strike))||0).attr("y",e=>d(String(e.maturityValue))||0).attr("width",h.bandwidth()).attr("height",d.bandwidth()).attr("fill",e=>p(e.volatility)).attr("rx",4).on("mouseenter",function(e,t){WZ(this).attr("opacity",.8),x.style("opacity",1).html(`Strike: ${t.strike}<br/>Maturity: ${t.maturity}<br/>Vol: ${t.volatility.toFixed(1)}%`).style("left",e.pageX+10+"px").style("top",e.pageY-28+"px")}).on("mouseleave",function(){WZ(this).attr("opacity",1),x.style("opacity",0)}),l.selectAll(".vol-text").data(t).enter().append("text").attr("class","vol-text").attr("x",e=>(h(String(e.strike))||0)+h.bandwidth()/2).attr("y",e=>(d(String(e.maturityValue))||0)+d.bandwidth()/2).attr("text-anchor","middle").attr("dominant-baseline","middle").attr("fill","oklch(0.98 0 0)").attr("font-size","11px").attr("font-weight","600").text(e=>e.volatility.toFixed(1)),l.append("g").attr("transform",`translate(0,${o})`).call((f=h,CW(3,f))).attr("color","oklch(0.60 0.01 250)").selectAll("text").attr("font-size","11px"),l.append("g").call(function(e){return CW(4,e)}(d)).attr("color","oklch(0.60 0.01 250)").selectAll("text").attr("font-size","11px"),l.append("text").attr("x",s/2).attr("y",o+35).attr("text-anchor","middle").attr("fill","oklch(0.60 0.01 250)").attr("font-size","12px").text("Strike Price"),l.append("text").attr("transform","rotate(-90)").attr("x",-o/2).attr("y",-35).attr("text-anchor","middle").attr("fill","oklch(0.60 0.01 250)").attr("font-size","12px").text("Maturity (Months)");const m=o,g=function(e){return CW(2,e)}(MM().domain([18,32]).range([m,0])).ticks(5).tickFormat(e=>e+"%"),y=n.append("g").attr("transform",`translate(${400-a+10},${r})`);n.append("defs").append("linearGradient").attr("id","vol-gradient").attr("x1","0%").attr("y1","100%").attr("x2","0%").attr("y2","0%").selectAll("stop").data([{offset:"0%",color:"oklch(0.70 0.15 200)"},{offset:"100%",color:"oklch(0.60 0.22 25)"}]).enter().append("stop").attr("offset",e=>e.offset).attr("stop-color",e=>e.color),y.append("rect").attr("width",20).attr("height",m).style("fill","url(#vol-gradient)").attr("rx",4),y.append("g").attr("transform","translate(20, 0)").call(g).attr("color","oklch(0.60 0.01 250)").selectAll("text").attr("font-size","10px");const x=WZ("body").append("div").attr("class","d3-tooltip").style("position","absolute").style("opacity",0).style("background-color","oklch(0.16 0.02 250)").style("border","1px solid oklch(0.25 0.03 250)").style("border-radius","8px").style("padding","8px").style("font-size","12px").style("color","oklch(0.85 0.01 250)").style("pointer-events","none").style("z-index","1000");return()=>{x.remove()}},[]),u.jsxs(gm,{className:"p-6 bg-card/80 border-border/30",children:[u.jsx("h4",{className:"text-sm font-semibold mb-4 text-foreground/90",children:"FX Implied Volatility Surface Heatmap"}),u.jsx("div",{className:"flex justify-center",children:u.jsx("svg",{ref:e})}),u.jsx("p",{className:"text-xs text-muted-foreground mt-3 text-center",children:"Volatility smile and term structure visualization (%, hover for details)"})]})}},{id:"alpha-signals",title:"Alpha Signal Regression Analysis",description:"Statistical analysis of alpha factors using regression techniques to identify predictive signals",details:["Developed multiple alpha factors from market microstructure data","Applied regression analysis to test factor significance","Performed feature selection and multicollinearity analysis","Evaluated factor performance and predictive power"],technologies:["Python","Pandas","NumPy","scikit-learn","statsmodels"],category:"quant",icon:Na,githubUrl:"https://github.com/buraq-hs51/alpha-signals-regression",visualization:function(){const e=[{factor:"Momentum",tStat:3.2,pValue:.001,significant:!0},{factor:"Reversal",tStat:-2.1,pValue:.035,significant:!0},{factor:"Volume",tStat:1.8,pValue:.072,significant:!1},{factor:"Volatility",tStat:-2.8,pValue:.005,significant:!0},{factor:"Spread",tStat:2.5,pValue:.012,significant:!0},{factor:"Trend",tStat:.9,pValue:.368,significant:!1}];return u.jsxs(gm,{className:"p-6 bg-card/80 border-border/30",children:[u.jsx("h4",{className:"text-sm font-semibold mb-4 text-foreground/90",children:"Alpha Factor T-Statistics (Significance Test)"}),u.jsx(BA,{width:"100%",height:250,children:u.jsxs(yW,{data:e,margin:{top:5,right:20,left:-20,bottom:20},children:[u.jsx(gH,{strokeDasharray:"3 3",stroke:"oklch(0.25 0.03 250 / 0.2)"}),u.jsx(sU,{dataKey:"factor",stroke:"oklch(0.60 0.01 250)",tick:{fill:"oklch(0.60 0.01 250)",fontSize:11},angle:-15,textAnchor:"end",height:60}),u.jsx(yU,{stroke:"oklch(0.60 0.01 250)",tick:{fill:"oklch(0.60 0.01 250)",fontSize:12},label:{value:"t-Statistic",angle:-90,position:"insideLeft",fill:"oklch(0.60 0.01 250)"}}),u.jsx(IA,{contentStyle:{backgroundColor:"oklch(0.16 0.02 250)",border:"1px solid oklch(0.25 0.03 250)",borderRadius:"8px",color:"oklch(0.85 0.01 250)"},formatter:(e,t,n)=>"tStat"===t?[u.jsxs(u.Fragment,{children:[u.jsxs("div",{children:["t-Stat: ",e.toFixed(2)]}),u.jsxs("div",{children:["p-value: ",n.payload.pValue.toFixed(3)]}),u.jsx("div",{children:n.payload.significant?" Significant":" Not Significant"})]}),""]:e}),u.jsx(aB,{y:0,stroke:"oklch(0.60 0.01 250)",strokeWidth:1}),u.jsx(aB,{y:1.96,stroke:"oklch(0.72 0.12 85)",strokeDasharray:"3 3",label:{value:"=0.05",fill:"oklch(0.72 0.12 85)",fontSize:10}}),u.jsx(aB,{y:-1.96,stroke:"oklch(0.72 0.12 85)",strokeDasharray:"3 3"}),u.jsx(uV,{dataKey:"tStat",radius:[4,4,0,0],children:e.map((e,t)=>u.jsx(HA,{fill:e.significant?e.tStat>0?"oklch(0.70 0.15 140)":"oklch(0.60 0.22 25)":"oklch(0.40 0.01 250)"},`cell-${t}`))})]})}),u.jsx("p",{className:"text-xs text-muted-foreground mt-3 text-center",children:"Statistical significance of predictive factors (|t| > 1.96 indicates p < 0.05)"})]})}},{id:"ml-api",title:"ML Microservice API",description:"Production-ready microservice architecture for deploying machine learning models via REST API",details:["Built containerized ML inference service with FastAPI","Implemented model versioning and A/B testing framework","Added monitoring, logging, and error handling","Deployed with Docker and orchestrated scaling strategies"],technologies:["Python","FastAPI","Docker","scikit-learn","Redis"],category:"ml",icon:da,githubUrl:"https://github.com/buraq-hs51/ML-Microservice-API"}],BG=[{id:"all",label:"All Projects"},{id:"quant",label:"Quantitative Finance"},{id:"ml",label:"Machine Learning"},{id:"data",label:"Data Engineering"}];function HG(){const[e,t]=O.useState("all"),[n,r]=O.useState(null),{t:a,isRTL:i}=wf(),s="all"===e?VG:VG.filter(t=>t.category===e);return u.jsx("section",{id:"projects",className:"py-24 px-6 bg-secondary/30",dir:i?"rtl":"ltr",children:u.jsxs("div",{className:"max-w-6xl mx-auto",children:[u.jsxs(nf.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},className:"mb-12",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[u.jsx(Ta,{size:32,className:"text-accent",weight:"duotone"}),u.jsx("h2",{className:"text-4xl md:text-5xl font-semibold tracking-tight",children:a("Projects")})]}),u.jsx("p",{className:"text-lg text-muted-foreground mb-8",children:a("Quantitative finance, machine learning, and data engineering projects demonstrating end-to-end technical capabilities")}),u.jsx("div",{className:"flex flex-wrap gap-2",children:BG.map(n=>u.jsx("button",{onClick:()=>t(n.id),className:"px-4 py-2 rounded-md text-sm font-medium transition-all "+(e===n.id?"bg-accent text-accent-foreground":"bg-muted/50 text-foreground/70 hover:bg-muted"),children:a(n.label)},n.id))})]}),u.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:s.map((e,t)=>{const i=e.icon,s=e.visualization,o=n===e.id;return u.jsx(nf.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:.1*t,duration:.6},children:u.jsxs(gm,{className:"h-full p-6 border-border/50 bg-card/50 backdrop-blur hover:border-accent/30 transition-all duration-300 group flex flex-col",children:[u.jsxs("div",{className:"mb-4",children:[u.jsx(i,{size:40,className:"text-accent mb-4 group-hover:scale-110 transition-transform",weight:"duotone"}),u.jsx("h3",{className:"text-xl font-semibold mb-2 group-hover:text-accent transition-colors",children:a(e.title)}),u.jsx("p",{className:"text-muted-foreground mb-4",children:a(e.description)})]}),u.jsx("ul",{className:"space-y-2 mb-6 flex-grow",children:e.details.map((e,t)=>u.jsxs("li",{className:"flex gap-2 text-sm text-card-foreground/80 leading-relaxed",children:[u.jsx("span",{className:"text-accent mt-1 shrink-0 text-xs",children:""}),u.jsx("span",{children:a(e)})]},t))}),s&&u.jsxs("div",{className:"mb-4",children:[u.jsxs(nr,{variant:"ghost",size:"sm",onClick:()=>r(o?null:e.id),className:"w-full text-accent hover:text-accent hover:bg-accent/10 mb-3",children:[u.jsx(ka,{className:"mr-2",weight:"duotone"}),a(o?"Hide Visualization":"Show Results Visualization")]}),u.jsx(nf.div,{initial:!1,animate:{height:o?"auto":0,opacity:o?1:0},transition:{duration:.3},style:{overflow:"hidden"},children:o&&u.jsx(s,{})})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsx("div",{className:"flex flex-wrap gap-2",children:e.technologies.map((e,t)=>u.jsx(xm,{variant:"outline",className:"text-xs border-accent/30 text-foreground/70",children:e},t))}),u.jsx(nr,{asChild:!0,variant:"outline",size:"sm",className:"w-full border-accent/50 text-accent hover:bg-accent/10",children:u.jsxs("a",{href:e.githubUrl,target:"_blank",rel:"noopener noreferrer",children:[u.jsx(Xa,{className:"mr-2",weight:"fill"}),a("View on GitHub")]})})]})]})},e.id)})})]})})}const UG=[{degree:"Master of Science",field:"Financial Engineering",institution:"WorldQuant University",location:"Online",period:"Aug 2024 - Present",status:"ongoing",coursework:["Financial Markets","Financial Data","Financial Econometrics","Derivative Pricing","Stochastic Modeling","Machine Learning in Finance"]},{degree:"Master of Technology",field:"Software Engineering",institution:"Birla Institute of Technology and Science, Pilani, India",location:"Online",period:"Aug 2022 - Jul 2024",status:"completed",coursework:[]},{degree:"Bachelor of Technology",field:"Chemical Engineering",institution:"National Institute of Technology, India",location:"India",period:"Jun 2017 - Apr 2021",status:"completed",coursework:[]}];function WG(){const{t:e,isRTL:t}=wf();return u.jsx("section",{id:"education",className:"py-24 px-6",dir:t?"rtl":"ltr",children:u.jsxs("div",{className:"max-w-6xl mx-auto",children:[u.jsxs(nf.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},className:"mb-12",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[u.jsx(ni,{size:32,className:"text-accent",weight:"duotone"}),u.jsx("h2",{className:"text-4xl md:text-5xl font-semibold tracking-tight",children:e("Education")})]}),u.jsx("p",{className:"text-lg text-muted-foreground",children:e("MS Financial Engineering candidate with interdisciplinary background in software and chemical engineering")})]}),u.jsx("div",{className:"grid lg:grid-cols-2 gap-8",children:UG.map((t,n)=>u.jsx(nf.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:.2*n,duration:.6},children:u.jsxs(gm,{className:"h-full p-8 border-border/50 bg-card/50 backdrop-blur hover:border-accent/30 transition-all duration-300 relative overflow-hidden",children:["ongoing"===t.status&&u.jsx("div",{className:"absolute top-4 right-4",children:u.jsx("span",{className:"px-3 py-1 text-xs font-medium uppercase tracking-wide bg-gold/20 text-gold border border-gold/30 rounded-full glow-gold",children:e("In Progress")})}),u.jsxs("div",{className:"mb-6",children:[u.jsx("h3",{className:"text-2xl font-semibold mb-2",children:e(t.degree)}),u.jsx("p",{className:"text-xl text-accent mb-3",children:e(t.field)}),u.jsx("p",{className:"text-muted-foreground mb-1",children:e(t.institution)}),t.location&&u.jsx("p",{className:"text-sm text-muted-foreground/80 mb-1",children:e(t.location)}),u.jsx("p",{className:"text-sm uppercase tracking-wide text-muted-foreground",children:t.period})]}),u.jsxs("div",{children:[u.jsx("h4",{className:"text-sm font-medium uppercase tracking-wide text-muted-foreground mb-3",children:e("Relevant Coursework")}),u.jsx("ul",{className:"space-y-2",children:t.coursework.map((t,n)=>u.jsxs("li",{className:"flex gap-2 text-card-foreground/80 leading-relaxed",children:[u.jsx("span",{className:"text-accent mt-1.5 shrink-0",children:""}),u.jsx("span",{children:e(t)})]},n))})]})]})},n))})]})})}const ZG=[{title:"Software Engineering & Systems",icon:Ta,skills:["C++","Go","Python","SQL","Microservices (MCP)","Distributed Systems","Event-Driven Architecture","Lock-Free Queues","UDP Multicast","Concurrency","Thread Safety"]},{title:"Data Engineering & Big Data",icon:Fa,skills:["Python (PySpark, Pandas)","SQL (PostgreSQL, Redshift)","Apache Spark","Kafka Streaming","High-Throughput Pipelines (200TB+)","AWS (ECS, EMR, Redshift)","ETL/ELT Workflows","Real-Time Data Processing","Data Lake Architecture","Redis","QuestDB"]},{title:"Machine Learning & AI",icon:da,skills:["Python (TensorFlow, scikit-learn)","Deep Learning Models","NLP (Natural Language Processing)","Time Series Forecasting","Feature Engineering","Model Deployment","ML in Finance","Predictive Modeling","PyTorch"]},{title:"Quantitative Finance",icon:Na,skills:["Python (NumPy, QuantLib)","Derivatives Pricing","Black-Scholes & Greeks","Stochastic Volatility Models","Statistical Arbitrage","Cointegration Testing","Monte Carlo Simulation","Time Series Analysis","Risk Management","Portfolio Optimization","Backtesting Frameworks"]}];function GG(){const{t:e,isRTL:t}=wf();return u.jsx("section",{id:"skills",className:"py-24 px-6 bg-secondary/30",dir:t?"rtl":"ltr",children:u.jsxs("div",{className:"max-w-6xl mx-auto",children:[u.jsxs(nf.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},className:"mb-12",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[u.jsx(La,{size:32,className:"text-accent",weight:"duotone"}),u.jsx("h2",{className:"text-4xl md:text-5xl font-semibold tracking-tight",children:e("Technical Skills")})]}),u.jsx("p",{className:"text-lg text-muted-foreground",children:e("Comprehensive expertise spanning software engineering, data engineering, machine learning, and quantitative financeoptimized for building production-grade trading systems")})]}),u.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:ZG.map((t,n)=>{const r=t.icon;return u.jsx(nf.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:.1*n,duration:.6},children:u.jsxs(gm,{className:"p-6 border-border/50 bg-card/50 backdrop-blur hover:border-accent/30 transition-all duration-300",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[u.jsx(r,{size:28,className:"text-accent",weight:"duotone"}),u.jsx("h3",{className:"text-xl font-semibold",children:e(t.title)})]}),u.jsx("div",{className:"flex flex-wrap gap-2",children:t.skills.map((t,n)=>u.jsx(xm,{variant:"secondary",className:"bg-muted/50 text-foreground/80 border border-border/30 hover:border-accent/50 hover:text-accent transition-all cursor-default",children:e(t)},n))})]})},n)})}),u.jsx(nf.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:.4,duration:.6},className:"mt-8",children:u.jsxs(gm,{className:"p-6 border-border/50 bg-card/50 backdrop-blur",children:[u.jsx("h3",{className:"text-lg font-semibold mb-4",children:e("Additional Expertise")}),u.jsx("div",{className:"flex flex-wrap gap-2",children:["Order Management Systems","Market Data Feeds","Real-Time OHLCV Aggregation","WebSocket","FIX Protocol","Kubernetes","Docker","Terraform","Prometheus","Grafana","Financial Modeling","Algorithmic Trading","Market Microstructure","Quantitative Research","Performance Optimization","System Design"].map((t,n)=>u.jsx(xm,{variant:"outline",className:"border-accent/30 text-foreground/70",children:e(t)},n))})]})})]})})}function KG(){const{t:e,isRTL:t}=wf();return u.jsx("section",{id:"contact",className:"py-24 px-6",dir:t?"rtl":"ltr",children:u.jsxs("div",{className:"max-w-4xl mx-auto",children:[u.jsxs(nf.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},className:"text-center mb-12",children:[u.jsx("h2",{className:"text-4xl md:text-5xl font-semibold tracking-tight mb-4",children:e("Let's Connect")}),u.jsx("p",{className:"text-lg text-muted-foreground max-w-2xl mx-auto",children:e("Actively seeking quantitative developer roles globally. Open to opportunities in derivatives pricing, trading systems engineering, and quantitative research. Willing to relocate for the right opportunity.")})]}),u.jsx(nf.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:.2,duration:.6},children:u.jsx(gm,{className:"p-8 border-border/50 bg-card/50 backdrop-blur",children:u.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[u.jsxs("div",{className:"space-y-6",children:[u.jsx("h3",{className:"text-xl font-semibold mb-4",children:e("Contact Information")}),u.jsxs("a",{href:"mailto:shadaab.ah17@gmail.com",className:"flex items-center gap-3 text-card-foreground/80 hover:text-accent transition-colors group",children:[u.jsx("div",{className:"p-3 bg-accent/10 rounded-xl group-hover:bg-accent/20 group-hover:scale-110 transition-all duration-300",children:u.jsx(Ba,{size:28,className:"text-accent",weight:"duotone"})}),u.jsx("span",{className:"font-medium",children:"shadaab.ah17@gmail.com"})]}),u.jsxs("div",{className:"flex items-center gap-5 pt-4",children:[u.jsxs("a",{href:"https://www.linkedin.com/in/shadaabah",target:"_blank",rel:"noopener noreferrer",className:"group relative",title:"LinkedIn",children:[u.jsx("div",{className:"p-4 bg-[#0077B5]/10 rounded-xl hover:bg-[#0077B5]/25 hover:scale-110 hover:shadow-[0_0_25px_rgba(0,119,181,0.4)] transition-all duration-300 cursor-pointer",children:u.jsx(fi,{size:32,className:"text-[#0077B5] group-hover:drop-shadow-[0_0_8px_rgba(0,119,181,0.8)]",weight:"fill"})}),u.jsx("span",{className:"absolute -bottom-8 left-1/2 -translate-x-1/2 text-xs text-muted-foreground opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap",children:"LinkedIn"})]}),u.jsxs("a",{href:"https://github.com/buraq-hs51",target:"_blank",rel:"noopener noreferrer",className:"group relative",title:"GitHub",children:[u.jsx("div",{className:"p-4 bg-accent/10 rounded-xl hover:bg-accent/25 hover:scale-110 hover:shadow-[0_0_25px_oklch(0.75_0.18_190_/_0.4)] transition-all duration-300 cursor-pointer",children:u.jsx(Xa,{size:32,className:"text-accent group-hover:drop-shadow-[0_0_8px_oklch(0.75_0.18_190)]",weight:"fill"})}),u.jsx("span",{className:"absolute -bottom-8 left-1/2 -translate-x-1/2 text-xs text-muted-foreground opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap",children:"GitHub"})]}),u.jsxs("a",{href:"https://leetcode.com/u/ShAh-25/",target:"_blank",rel:"noopener noreferrer",className:"group relative",title:"LeetCode",children:[u.jsx("div",{className:"p-4 bg-[#FFA116]/10 rounded-xl hover:bg-[#FFA116]/25 hover:scale-110 hover:shadow-[0_0_25px_rgba(255,161,22,0.4)] transition-all duration-300 cursor-pointer",children:u.jsx(Ta,{size:32,className:"text-[#FFA116] group-hover:drop-shadow-[0_0_8px_rgba(255,161,22,0.8)]",weight:"bold"})}),u.jsx("span",{className:"absolute -bottom-8 left-1/2 -translate-x-1/2 text-xs text-muted-foreground opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap",children:"LeetCode"})]}),u.jsxs("a",{href:"https://www.kickresume.com/cv/4W3LxK/",target:"_blank",rel:"noopener noreferrer",className:"group relative",title:"Resume",children:[u.jsx("div",{className:"p-4 bg-green-500/10 rounded-xl hover:bg-green-500/25 hover:scale-110 hover:shadow-[0_0_25px_rgba(34,197,94,0.4)] transition-all duration-300 cursor-pointer",children:u.jsx(Ua,{size:32,className:"text-green-500 group-hover:drop-shadow-[0_0_8px_rgba(34,197,94,0.8)]",weight:"duotone"})}),u.jsx("span",{className:"absolute -bottom-8 left-1/2 -translate-x-1/2 text-xs text-muted-foreground opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap",children:"Resume"})]})]})]}),u.jsxs("div",{className:"flex flex-col justify-center space-y-4",children:[u.jsx(nr,{asChild:!0,size:"lg",className:"w-full bg-accent text-accent-foreground hover:bg-accent/90 hover:shadow-[0_0_30px_oklch(0.75_0.18_190_/_0.5)] transition-all duration-300",children:u.jsxs("a",{href:"https://www.kickresume.com/cv/4W3LxK/",target:"_blank",rel:"noopener noreferrer",children:[u.jsx(Ua,{className:"mr-2",weight:"duotone"}),e("View Resume")]})}),u.jsx(nr,{asChild:!0,size:"lg",variant:"outline",className:"w-full border-accent/50 text-accent hover:bg-accent/10",children:u.jsxs("a",{href:"mailto:shadaab.ah17@gmail.com",children:[u.jsx(Ba,{className:"mr-2"}),e("Send Email")]})})]})]})})}),u.jsx(nf.div,{initial:{opacity:0},whileInView:{opacity:1},viewport:{once:!0},transition:{delay:.4,duration:.6},className:"mt-12 text-center",children:u.jsxs("div",{className:"inline-flex flex-wrap items-center justify-center gap-6 p-6 rounded-lg bg-muted/30 backdrop-blur",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:e("Current Status")}),u.jsx("p",{className:"font-medium text-accent",children:e("Actively Seeking Opportunities")})]}),u.jsx("div",{className:"h-8 w-px bg-border hidden sm:block"}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:e("Location")}),u.jsx("p",{className:"font-medium",children:e("Open to Global Relocation")})]}),u.jsx("div",{className:"h-8 w-px bg-border hidden sm:block"}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:e("Availability")}),u.jsx("p",{className:"font-medium",children:e("Immediate / Flexible")})]})]})})]})})}var qG=(e,t,n,r,a,i,s,o)=>{let l=document.documentElement,c=["light","dark"];function u(t){(Array.isArray(e)?e:[e]).forEach(e=>{let n="class"===e,r=n&&i?a.map(e=>i[e]||e):a;n?(l.classList.remove(...r),l.classList.add(i&&i[t]?i[t]:t)):l.setAttribute(e,t)}),function(e){o&&c.includes(e)&&(l.style.colorScheme=e)}(t)}if(r)u(r);else try{let e=localStorage.getItem(t)||n;u(s&&"system"===e?window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":e)}catch(h){}},XG=O.createContext(void 0),YG={setTheme:e=>{},themes:[]};O.memo(({forcedTheme:e,storageKey:t,attribute:n,enableSystem:r,enableColorScheme:a,defaultTheme:i,value:s,themes:o,nonce:l,scriptProps:c})=>{let u=JSON.stringify([n,t,i,e,o,s,r,a]).slice(1,-1);return O.createElement("script",{...c,suppressHydrationWarning:!0,nonce:"undefined"==typeof window?l:"",dangerouslySetInnerHTML:{__html:`(${qG.toString()})(${u})`}})});const QG=Array(12).fill(0),JG=({visible:e,className:t})=>P.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},P.createElement("div",{className:"sonner-spinner"},QG.map((e,t)=>P.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${t}`})))),eK=P.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},P.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),tK=P.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},P.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),nK=P.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},P.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),rK=P.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},P.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),aK=P.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},P.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),P.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}));let iK=1;const sK=new class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;const{message:n,...r}=e,a="number"==typeof(null==e?void 0:e.id)||(null==(t=e.id)?void 0:t.length)>0?e.id:iK++,i=this.toasts.find(e=>e.id===a),s=void 0===e.dismissible||e.dismissible;return this.dismissedToasts.has(a)&&this.dismissedToasts.delete(a),i?this.toasts=this.toasts.map(t=>t.id===a?(this.publish({...t,...e,id:a,title:n}),{...t,...e,id:a,dismissible:s,title:n}):t):this.addToast({title:n,...r,dismissible:s,id:a}),a},this.dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame(()=>this.subscribers.forEach(t=>t({id:e,dismiss:!0})))):this.toasts.forEach(e=>{this.subscribers.forEach(t=>t({id:e.id,dismiss:!0}))}),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let n;void 0!==t.loading&&(n=this.create({...t,promise:e,type:"loading",message:t.loading,description:"function"!=typeof t.description?t.description:void 0}));const r=Promise.resolve(e instanceof Function?e():e);let a,i=void 0!==n;const s=r.then(async e=>{a=["resolve",e];if(P.isValidElement(e))i=!1,this.create({id:n,type:"default",message:e});else if(oK(e)&&!e.ok){i=!1;const r="function"==typeof t.error?await t.error(`HTTP error! status: ${e.status}`):t.error,a="function"==typeof t.description?await t.description(`HTTP error! status: ${e.status}`):t.description,s="object"==typeof r&&!P.isValidElement(r)?r:{message:r};this.create({id:n,type:"error",description:a,...s})}else if(e instanceof Error){i=!1;const r="function"==typeof t.error?await t.error(e):t.error,a="function"==typeof t.description?await t.description(e):t.description,s="object"==typeof r&&!P.isValidElement(r)?r:{message:r};this.create({id:n,type:"error",description:a,...s})}else if(void 0!==t.success){i=!1;const r="function"==typeof t.success?await t.success(e):t.success,a="function"==typeof t.description?await t.description(e):t.description,s="object"==typeof r&&!P.isValidElement(r)?r:{message:r};this.create({id:n,type:"success",description:a,...s})}}).catch(async e=>{if(a=["reject",e],void 0!==t.error){i=!1;const r="function"==typeof t.error?await t.error(e):t.error,a="function"==typeof t.description?await t.description(e):t.description,s="object"==typeof r&&!P.isValidElement(r)?r:{message:r};this.create({id:n,type:"error",description:a,...s})}}).finally(()=>{i&&(this.dismiss(n),n=void 0),null==t.finally||t.finally.call(t)}),o=()=>new Promise((e,t)=>s.then(()=>"reject"===a[0]?t(a[1]):e(a[1])).catch(t));return"string"!=typeof n&&"number"!=typeof n?{unwrap:o}:Object.assign(n,{unwrap:o})},this.custom=(e,t)=>{const n=(null==t?void 0:t.id)||iK++;return this.create({jsx:e(n),id:n,...t}),n},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},oK=e=>e&&"object"==typeof e&&"ok"in e&&"boolean"==typeof e.ok&&"status"in e&&"number"==typeof e.status,lK=(e,t)=>{const n=(null==t?void 0:t.id)||iK++;return sK.addToast({title:e,...t,id:n}),n};function cK(e){return void 0!==e.label}Object.assign(lK,{success:sK.success,info:sK.info,warning:sK.warning,error:sK.error,custom:sK.custom,message:sK.message,promise:sK.promise,dismiss:sK.dismiss,loading:sK.loading},{getHistory:()=>sK.toasts,getToasts:()=>sK.getActiveToasts()}),function(e){if("undefined"==typeof document)return;let t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");const uK=3,hK=14;function dK(...e){return e.filter(Boolean).join(" ")}const pK=e=>{var t,n,r,a,i,s,o,l,c;const{invert:u,toast:h,unstyled:d,interacting:p,setHeights:f,visibleToasts:m,heights:g,index:y,toasts:x,expanded:b,removeToast:v,defaultRichColors:w,closeButton:k,style:S,cancelButtonStyle:N,actionButtonStyle:E,className:A="",descriptionClassName:C="",duration:j,position:M,gap:T,expandByDefault:I,classNames:O,icons:R,closeButtonAriaLabel:_="Close toast"}=e,[L,$]=P.useState(null),[F,D]=P.useState(null),[z,V]=P.useState(!1),[B,H]=P.useState(!1),[U,W]=P.useState(!1),[Z,G]=P.useState(!1),[K,q]=P.useState(!1),[X,Y]=P.useState(0),[Q,J]=P.useState(0),ee=P.useRef(h.duration||j||4e3),te=P.useRef(null),ne=P.useRef(null),re=0===y,ae=y+1<=m,ie=h.type,se=!1!==h.dismissible,oe=h.className||"",le=h.descriptionClassName||"",ce=P.useMemo(()=>g.findIndex(e=>e.toastId===h.id)||0,[g,h.id]),ue=P.useMemo(()=>{var e;return null!=(e=h.closeButton)?e:k},[h.closeButton,k]),he=P.useMemo(()=>h.duration||j||4e3,[h.duration,j]),de=P.useRef(0),pe=P.useRef(0),fe=P.useRef(0),me=P.useRef(null),[ge,ye]=M.split("-"),xe=P.useMemo(()=>g.reduce((e,t,n)=>n>=ce?e:e+t.height,0),[g,ce]),be=(()=>{const[e,t]=P.useState(document.hidden);return P.useEffect(()=>{const e=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",e),()=>window.removeEventListener("visibilitychange",e)},[]),e})(),ve=h.invert||u,we="loading"===ie;pe.current=P.useMemo(()=>ce*T+xe,[ce,xe]),P.useEffect(()=>{ee.current=he},[he]),P.useEffect(()=>{V(!0)},[]),P.useEffect(()=>{const e=ne.current;if(e){const t=e.getBoundingClientRect().height;return J(t),f(e=>[{toastId:h.id,height:t,position:h.position},...e]),()=>f(e=>e.filter(e=>e.toastId!==h.id))}},[f,h.id]),P.useLayoutEffect(()=>{if(!z)return;const e=ne.current,t=e.style.height;e.style.height="auto";const n=e.getBoundingClientRect().height;e.style.height=t,J(n),f(e=>e.find(e=>e.toastId===h.id)?e.map(e=>e.toastId===h.id?{...e,height:n}:e):[{toastId:h.id,height:n,position:h.position},...e])},[z,h.title,h.description,f,h.id,h.jsx,h.action,h.cancel]);const ke=P.useCallback(()=>{H(!0),Y(pe.current),f(e=>e.filter(e=>e.toastId!==h.id)),setTimeout(()=>{v(h)},200)},[h,v,f,pe]);P.useEffect(()=>{if(h.promise&&"loading"===ie||h.duration===1/0||"loading"===h.type)return;let e;return b||p||be?(()=>{if(fe.current<de.current){const e=(new Date).getTime()-de.current;ee.current=ee.current-e}fe.current=(new Date).getTime()})():ee.current!==1/0&&(de.current=(new Date).getTime(),e=setTimeout(()=>{null==h.onAutoClose||h.onAutoClose.call(h,h),ke()},ee.current)),()=>clearTimeout(e)},[b,p,h,ie,be,ke]),P.useEffect(()=>{h.delete&&(ke(),null==h.onDismiss||h.onDismiss.call(h,h))},[ke,h.delete]);const Se=h.icon||(null==R?void 0:R[ie])||(e=>{switch(e){case"success":return eK;case"info":return nK;case"warning":return tK;case"error":return rK;default:return null}})(ie);var Ne,Ee,Ae,Ce;return P.createElement("li",{tabIndex:0,ref:ne,className:dK(A,oe,null==O?void 0:O.toast,null==h||null==(t=h.classNames)?void 0:t.toast,null==O?void 0:O.default,null==O?void 0:O[ie],null==h||null==(n=h.classNames)?void 0:n[ie]),"data-sonner-toast":"","data-rich-colors":null!=(Ne=h.richColors)?Ne:w,"data-styled":!Boolean(h.jsx||h.unstyled||d),"data-mounted":z,"data-promise":Boolean(h.promise),"data-swiped":K,"data-removed":B,"data-visible":ae,"data-y-position":ge,"data-x-position":ye,"data-index":y,"data-front":re,"data-swiping":U,"data-dismissible":se,"data-type":ie,"data-invert":ve,"data-swipe-out":Z,"data-swipe-direction":F,"data-expanded":Boolean(b||I&&z),"data-testid":h.testId,style:{"--index":y,"--toasts-before":y,"--z-index":x.length-y,"--offset":`${B?X:pe.current}px`,"--initial-height":I?"auto":`${Q}px`,...S,...h.style},onDragEnd:()=>{W(!1),$(null),me.current=null},onPointerDown:e=>{2!==e.button&&!we&&se&&(te.current=new Date,Y(pe.current),e.target.setPointerCapture(e.pointerId),"BUTTON"!==e.target.tagName&&(W(!0),me.current={x:e.clientX,y:e.clientY}))},onPointerUp:()=>{var e,t,n;if(Z||!se)return;me.current=null;const r=Number((null==(e=ne.current)?void 0:e.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),a=Number((null==(t=ne.current)?void 0:t.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),i=(new Date).getTime()-(null==(n=te.current)?void 0:n.getTime()),s="x"===L?r:a,o=Math.abs(s)/i;if(Math.abs(s)>=45||o>.11)return Y(pe.current),null==h.onDismiss||h.onDismiss.call(h,h),D("x"===L?r>0?"right":"left":a>0?"down":"up"),ke(),void G(!0);var l,c;null==(l=ne.current)||l.style.setProperty("--swipe-amount-x","0px"),null==(c=ne.current)||c.style.setProperty("--swipe-amount-y","0px"),q(!1),W(!1),$(null)},onPointerMove:t=>{var n,r,a;if(!me.current||!se)return;if((null==(n=window.getSelection())?void 0:n.toString().length)>0)return;const i=t.clientY-me.current.y,s=t.clientX-me.current.x;var o;const l=null!=(o=e.swipeDirections)?o:function(e){const[t,n]=e.split("-"),r=[];return t&&r.push(t),n&&r.push(n),r}(M);!L&&(Math.abs(s)>1||Math.abs(i)>1)&&$(Math.abs(s)>Math.abs(i)?"x":"y");let c={x:0,y:0};const u=e=>1/(1.5+Math.abs(e)/20);if("y"===L){if(l.includes("top")||l.includes("bottom"))if(l.includes("top")&&i<0||l.includes("bottom")&&i>0)c.y=i;else{const e=i*u(i);c.y=Math.abs(e)<Math.abs(i)?e:i}}else if("x"===L&&(l.includes("left")||l.includes("right")))if(l.includes("left")&&s<0||l.includes("right")&&s>0)c.x=s;else{const e=s*u(s);c.x=Math.abs(e)<Math.abs(s)?e:s}(Math.abs(c.x)>0||Math.abs(c.y)>0)&&q(!0),null==(r=ne.current)||r.style.setProperty("--swipe-amount-x",`${c.x}px`),null==(a=ne.current)||a.style.setProperty("--swipe-amount-y",`${c.y}px`)}},ue&&!h.jsx&&"loading"!==ie?P.createElement("button",{"aria-label":_,"data-disabled":we,"data-close-button":!0,onClick:we||!se?()=>{}:()=>{ke(),null==h.onDismiss||h.onDismiss.call(h,h)},className:dK(null==O?void 0:O.closeButton,null==h||null==(r=h.classNames)?void 0:r.closeButton)},null!=(Ee=null==R?void 0:R.close)?Ee:aK):null,(ie||h.icon||h.promise)&&null!==h.icon&&(null!==(null==R?void 0:R[ie])||h.icon)?P.createElement("div",{"data-icon":"",className:dK(null==O?void 0:O.icon,null==h||null==(a=h.classNames)?void 0:a.icon)},h.promise||"loading"===h.type&&!h.icon?h.icon||((null==R?void 0:R.loading)?P.createElement("div",{className:dK(null==O?void 0:O.loader,null==h||null==(Ce=h.classNames)?void 0:Ce.loader,"sonner-loader"),"data-visible":"loading"===ie},R.loading):P.createElement(JG,{className:dK(null==O?void 0:O.loader,null==h||null==(Ae=h.classNames)?void 0:Ae.loader),visible:"loading"===ie})):null,"loading"!==h.type?Se:null):null,P.createElement("div",{"data-content":"",className:dK(null==O?void 0:O.content,null==h||null==(i=h.classNames)?void 0:i.content)},P.createElement("div",{"data-title":"",className:dK(null==O?void 0:O.title,null==h||null==(s=h.classNames)?void 0:s.title)},h.jsx?h.jsx:"function"==typeof h.title?h.title():h.title),h.description?P.createElement("div",{"data-description":"",className:dK(C,le,null==O?void 0:O.description,null==h||null==(o=h.classNames)?void 0:o.description)},"function"==typeof h.description?h.description():h.description):null),P.isValidElement(h.cancel)?h.cancel:h.cancel&&cK(h.cancel)?P.createElement("button",{"data-button":!0,"data-cancel":!0,style:h.cancelButtonStyle||N,onClick:e=>{cK(h.cancel)&&se&&(null==h.cancel.onClick||h.cancel.onClick.call(h.cancel,e),ke())},className:dK(null==O?void 0:O.cancelButton,null==h||null==(l=h.classNames)?void 0:l.cancelButton)},h.cancel.label):null,P.isValidElement(h.action)?h.action:h.action&&cK(h.action)?P.createElement("button",{"data-button":!0,"data-action":!0,style:h.actionButtonStyle||E,onClick:e=>{cK(h.action)&&(null==h.action.onClick||h.action.onClick.call(h.action,e),e.defaultPrevented||ke())},className:dK(null==O?void 0:O.actionButton,null==h||null==(c=h.classNames)?void 0:c.actionButton)},h.action.label):null)};function fK(){if("undefined"==typeof window)return"ltr";if("undefined"==typeof document)return"ltr";const e=document.documentElement.getAttribute("dir");return"auto"!==e&&e?e:window.getComputedStyle(document.documentElement).direction}function mK(e,t){const n={};return[e,t].forEach((e,t)=>{const r=1===t,a=r?"--mobile-offset":"--offset",i=r?"16px":"24px";function s(e){["top","right","bottom","left"].forEach(t=>{n[`${a}-${t}`]="number"==typeof e?`${e}px`:e})}"number"==typeof e||"string"==typeof e?s(e):"object"==typeof e?["top","right","bottom","left"].forEach(t=>{void 0===e[t]?n[`${a}-${t}`]=i:n[`${a}-${t}`]="number"==typeof e[t]?`${e[t]}px`:e[t]}):s(i)}),n}const gK=P.forwardRef(function(e,t){const{id:n,invert:r,position:a="bottom-right",hotkey:i=["altKey","KeyT"],expand:s,closeButton:o,className:l,offset:c,mobileOffset:u,theme:h="light",richColors:d,duration:p,style:f,visibleToasts:m=uK,toastOptions:g,dir:y=fK(),gap:x=hK,icons:b,containerAriaLabel:v="Notifications"}=e,[w,k]=P.useState([]),S=P.useMemo(()=>n?w.filter(e=>e.toasterId===n):w.filter(e=>!e.toasterId),[w,n]),N=P.useMemo(()=>Array.from(new Set([a].concat(S.filter(e=>e.position).map(e=>e.position)))),[S,a]),[E,A]=P.useState([]),[C,j]=P.useState(!1),[M,T]=P.useState(!1),[I,O]=P.useState("system"!==h?h:"undefined"!=typeof window&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),R=P.useRef(null),_=i.join("+").replace(/Key/g,"").replace(/Digit/g,""),L=P.useRef(null),$=P.useRef(!1),F=P.useCallback(e=>{k(t=>{var n;return(null==(n=t.find(t=>t.id===e.id))?void 0:n.delete)||sK.dismiss(e.id),t.filter(({id:t})=>t!==e.id)})},[]);return P.useEffect(()=>sK.subscribe(e=>{e.dismiss?requestAnimationFrame(()=>{k(t=>t.map(t=>t.id===e.id?{...t,delete:!0}:t))}):setTimeout(()=>{Et.flushSync(()=>{k(t=>{const n=t.findIndex(t=>t.id===e.id);return-1!==n?[...t.slice(0,n),{...t[n],...e},...t.slice(n+1)]:[e,...t]})})})}),[w]),P.useEffect(()=>{if("system"!==h)return void O(h);if("system"===h&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?O("dark"):O("light")),"undefined"==typeof window)return;const e=window.matchMedia("(prefers-color-scheme: dark)");try{e.addEventListener("change",({matches:e})=>{O(e?"dark":"light")})}catch(t){e.addListener(({matches:e})=>{try{O(e?"dark":"light")}catch(ATe){console.error(ATe)}})}},[h]),P.useEffect(()=>{w.length<=1&&j(!1)},[w]),P.useEffect(()=>{const e=e=>{var t;var n;i.every(t=>e[t]||e.code===t)&&(j(!0),null==(n=R.current)||n.focus());"Escape"!==e.code||document.activeElement!==R.current&&!(null==(t=R.current)?void 0:t.contains(document.activeElement))||j(!1)};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[i]),P.useEffect(()=>{if(R.current)return()=>{L.current&&(L.current.focus({preventScroll:!0}),L.current=null,$.current=!1)}},[R.current]),P.createElement("section",{ref:t,"aria-label":`${v} ${_}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},N.map((t,n)=>{var a;const[i,h]=t.split("-");return S.length?P.createElement("ol",{key:t,dir:"auto"===y?fK():y,tabIndex:-1,ref:R,className:l,"data-sonner-toaster":!0,"data-sonner-theme":I,"data-y-position":i,"data-x-position":h,style:{"--front-toast-height":`${(null==(a=E[0])?void 0:a.height)||0}px`,"--width":"356px","--gap":`${x}px`,...f,...mK(c,u)},onBlur:e=>{$.current&&!e.currentTarget.contains(e.relatedTarget)&&($.current=!1,L.current&&(L.current.focus({preventScroll:!0}),L.current=null))},onFocus:e=>{e.target instanceof HTMLElement&&"false"===e.target.dataset.dismissible||$.current||($.current=!0,L.current=e.relatedTarget)},onMouseEnter:()=>j(!0),onMouseMove:()=>j(!0),onMouseLeave:()=>{M||j(!1)},onDragEnd:()=>j(!1),onPointerDown:e=>{e.target instanceof HTMLElement&&"false"===e.target.dataset.dismissible||T(!0)},onPointerUp:()=>T(!1)},S.filter(e=>!e.position&&0===n||e.position===t).map((n,a)=>{var i,l;return P.createElement(pK,{key:n.id,icons:b,index:a,toast:n,defaultRichColors:d,duration:null!=(i=null==g?void 0:g.duration)?i:p,className:null==g?void 0:g.className,descriptionClassName:null==g?void 0:g.descriptionClassName,invert:r,visibleToasts:m,closeButton:null!=(l=null==g?void 0:g.closeButton)?l:o,interacting:M,position:t,style:null==g?void 0:g.style,unstyled:null==g?void 0:g.unstyled,classNames:null==g?void 0:g.classNames,cancelButtonStyle:null==g?void 0:g.cancelButtonStyle,actionButtonStyle:null==g?void 0:g.actionButtonStyle,closeButtonAriaLabel:null==g?void 0:g.closeButtonAriaLabel,removeToast:F,toasts:S.filter(e=>e.position==n.position),heights:E.filter(e=>e.position==n.position),setHeights:A,expandByDefault:s,gap:x,expanded:C,swipeDirections:e.swipeDirections})})):null}))}),yK=({...e})=>{const{theme:t="system"}=null!=(n=O.useContext(XG))?n:YG;var n;return u.jsx(gK,{theme:t,className:"toaster group",style:{"--normal-bg":"var(--popover)","--normal-text":"var(--popover-foreground)","--normal-border":"var(--border)"},...e})};function xK({title:e,titleId:t,...n},r){return O.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?O.createElement("title",{id:t},e):null,O.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18"}))}const bK=O.forwardRef(xK);function vK({title:e,titleId:t,...n},r){return O.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?O.createElement("title",{id:t},e):null,O.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 12c0-1.232-.046-2.453-.138-3.662a4.006 4.006 0 0 0-3.7-3.7 48.678 48.678 0 0 0-7.324 0 4.006 4.006 0 0 0-3.7 3.7c-.017.22-.032.441-.046.662M19.5 12l3-3m-3 3-3-3m-12 3c0 1.232.046 2.453.138 3.662a4.006 4.006 0 0 0 3.7 3.7 48.656 48.656 0 0 0 7.324 0 4.006 4.006 0 0 0 3.7-3.7c.017-.22.032-.441.046-.662M4.5 12l3 3m-3-3-3 3"}))}const wK=O.forwardRef(vK);function kK({title:e,titleId:t,...n},r){return O.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?O.createElement("title",{id:t},e):null,O.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"}))}const SK=O.forwardRef(kK);function NK({title:e,titleId:t,...n},r){return O.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?O.createElement("title",{id:t},e):null,O.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 6 9 12.75l4.286-4.286a11.948 11.948 0 0 1 4.306 6.43l.776 2.898m0 0 3.182-5.511m-3.182 5.51-5.511-3.181"}))}const EK=O.forwardRef(NK);function AK({title:e,titleId:t,...n},r){return O.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?O.createElement("title",{id:t},e):null,O.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 18 9 11.25l4.306 4.306a11.95 11.95 0 0 1 5.814-5.518l2.74-1.22m0 0-5.94-2.281m5.94 2.28-2.28 5.941"}))}const CK=O.forwardRef(AK);function jK({title:e,titleId:t,...n},r){return O.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?O.createElement("title",{id:t},e):null,O.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.75 3.104v5.714a2.25 2.25 0 0 1-.659 1.591L5 14.5M9.75 3.104c-.251.023-.501.05-.75.082m.75-.082a24.301 24.301 0 0 1 4.5 0m0 0v5.714c0 .597.237 1.17.659 1.591L19.8 15.3M14.25 3.104c.251.023.501.05.75.082M19.8 15.3l-1.57.393A9.065 9.065 0 0 1 12 15a9.065 9.065 0 0 0-6.23-.693L5 14.5m14.8.8 1.402 1.402c1.232 1.232.65 3.318-1.067 3.611A48.309 48.309 0 0 1 12 21c-2.773 0-5.491-.235-8.135-.687-1.718-.293-2.3-2.379-1.067-3.61L5 14.5"}))}const MK=O.forwardRef(jK);function TK({title:e,titleId:t,...n},r){return O.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?O.createElement("title",{id:t},e):null,O.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m3.75 13.5 10.5-11.25L12 10.5h8.25L9.75 21.75 12 13.5H3.75Z"}))}const IK=O.forwardRef(TK);function OK({title:e,titleId:t,...n},r){return O.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?O.createElement("title",{id:t},e):null,O.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7.5 14.25v2.25m3-4.5v4.5m3-6.75v6.75m3-9v9M6 20.25h12A2.25 2.25 0 0 0 20.25 18V6A2.25 2.25 0 0 0 18 3.75H6A2.25 2.25 0 0 0 3.75 6v12A2.25 2.25 0 0 0 6 20.25Z"}))}const PK=O.forwardRef(OK);function RK({title:e,titleId:t,...n},r){return O.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?O.createElement("title",{id:t},e):null,O.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 0 1 3 19.875v-6.75ZM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V8.625ZM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V4.125Z"}))}const _K=O.forwardRef(RK);function LK({title:e,titleId:t,...n},r){return O.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?O.createElement("title",{id:t},e):null,O.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const $K=O.forwardRef(LK);function FK({title:e,titleId:t,...n},r){return O.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?O.createElement("title",{id:t},e):null,O.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m19.5 8.25-7.5 7.5-7.5-7.5"}))}const DK=O.forwardRef(FK);function zK({title:e,titleId:t,...n},r){return O.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?O.createElement("title",{id:t},e):null,O.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 15.75 7.5-7.5 7.5 7.5"}))}const VK=O.forwardRef(zK);function BK({title:e,titleId:t,...n},r){return O.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?O.createElement("title",{id:t},e):null,O.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const HK=O.forwardRef(BK);function UK({title:e,titleId:t,...n},r){return O.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?O.createElement("title",{id:t},e):null,O.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 15a4.5 4.5 0 0 0 4.5 4.5H18a3.75 3.75 0 0 0 1.332-7.257 3 3 0 0 0-3.758-3.848 5.25 5.25 0 0 0-10.233 2.33A4.502 4.502 0 0 0 2.25 15Z"}))}const WK=O.forwardRef(UK);function ZK({title:e,titleId:t,...n},r){return O.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?O.createElement("title",{id:t},e):null,O.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 3v1.5M4.5 8.25H3m18 0h-1.5M4.5 12H3m18 0h-1.5m-15 3.75H3m18 0h-1.5M8.25 19.5V21M12 3v1.5m0 15V21m3.75-18v1.5m0 15V21m-9-1.5h10.5a2.25 2.25 0 0 0 2.25-2.25V6.75a2.25 2.25 0 0 0-2.25-2.25H6.75A2.25 2.25 0 0 0 4.5 6.75v10.5a2.25 2.25 0 0 0 2.25 2.25Zm.75-12h9v9h-9v-9Z"}))}const GK=O.forwardRef(ZK);function KK({title:e,titleId:t,...n},r){return O.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?O.createElement("title",{id:t},e):null,O.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 7.5-9-5.25L3 7.5m18 0-9 5.25m9-5.25v9l-9 5.25M3 7.5l9 5.25M3 7.5v9l9 5.25m0-9v9"}))}const qK=O.forwardRef(KK);function XK({title:e,titleId:t,...n},r){return O.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?O.createElement("title",{id:t},e):null,O.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v12m-3-2.818.879.659c1.171.879 3.07.879 4.242 0 1.172-.879 1.172-2.303 0-3.182C13.536 12.219 12.768 12 12 12c-.725 0-1.45-.22-2.003-.659-1.106-.879-1.106-2.303 0-3.182s2.9-.879 4.006 0l.415.33M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const YK=O.forwardRef(XK);function QK({title:e,titleId:t,...n},r){return O.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?O.createElement("title",{id:t},e):null,O.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"}))}const JK=O.forwardRef(QK);function eq({title:e,titleId:t,...n},r){return O.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?O.createElement("title",{id:t},e):null,O.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m11.25 11.25.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z"}))}const tq=O.forwardRef(eq);function nq({title:e,titleId:t,...n},r){return O.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?O.createElement("title",{id:t},e):null,O.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 12h14"}))}const rq=O.forwardRef(nq);function aq({title:e,titleId:t,...n},r){return O.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?O.createElement("title",{id:t},e):null,O.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.25 5.653c0-.856.917-1.398 1.667-.986l11.54 6.347a1.125 1.125 0 0 1 0 1.972l-11.54 6.347a1.125 1.125 0 0 1-1.667-.986V5.653Z"}))}const iq=O.forwardRef(aq);function sq({title:e,titleId:t,...n},r){return O.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?O.createElement("title",{id:t},e):null,O.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 3v11.25A2.25 2.25 0 0 0 6 16.5h2.25M3.75 3h-1.5m1.5 0h16.5m0 0h1.5m-1.5 0v11.25A2.25 2.25 0 0 1 18 16.5h-2.25m-7.5 0h7.5m-7.5 0-1 3m8.5-3 1 3m0 0 .5 1.5m-.5-1.5h-9.5m0 0-.5 1.5m.75-9 3-3 2.148 2.148A12.061 12.061 0 0 1 16.5 7.605"}))}const oq=O.forwardRef(sq);function lq({title:e,titleId:t,...n},r){return O.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?O.createElement("title",{id:t},e):null,O.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3v17.25m0 0c-1.472 0-2.882.265-4.185.75M12 20.25c1.472 0 2.882.265 4.185.75M18.75 4.97A48.416 48.416 0 0 0 12 4.5c-2.291 0-4.545.16-6.75.47m13.5 0c1.01.143 2.01.317 3 .52m-3-.52 2.62 10.726c.122.499-.106 1.028-.589 1.202a5.988 5.988 0 0 1-2.031.352 5.988 5.988 0 0 1-2.031-.352c-.483-.174-.711-.703-.59-1.202L18.75 4.971Zm-16.5.52c.99-.203 1.99-.377 3-.52m0 0 2.62 10.726c.122.499-.106 1.028-.589 1.202a5.989 5.989 0 0 1-2.031.352 5.989 5.989 0 0 1-2.031-.352c-.483-.174-.711-.703-.59-1.202L5.25 4.971Z"}))}const cq=O.forwardRef(lq);function uq({title:e,titleId:t,...n},r){return O.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?O.createElement("title",{id:t},e):null,O.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.75 17.25v-.228a4.5 4.5 0 0 0-.12-1.03l-2.268-9.64a3.375 3.375 0 0 0-3.285-2.602H7.923a3.375 3.375 0 0 0-3.285 2.602l-2.268 9.64a4.5 4.5 0 0 0-.12 1.03v.228m19.5 0a3 3 0 0 1-3 3H5.25a3 3 0 0 1-3-3m19.5 0a3 3 0 0 0-3-3H5.25a3 3 0 0 0-3 3m16.5 0h.008v.008h-.008v-.008Zm-3 0h.008v.008h-.008v-.008Z"}))}const hq=O.forwardRef(uq);function dq({title:e,titleId:t,...n},r){return O.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?O.createElement("title",{id:t},e):null,O.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.813 15.904 9 18.75l-.813-2.846a4.5 4.5 0 0 0-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 0 0 3.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 0 0 3.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 0 0-3.09 3.09ZM18.259 8.715 18 9.75l-.259-1.035a3.375 3.375 0 0 0-2.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 0 0 2.455-2.456L18 2.25l.259 1.035a3.375 3.375 0 0 0 2.456 2.456L21.75 6l-1.035.259a3.375 3.375 0 0 0-2.456 2.456ZM16.894 20.567 16.5 21.75l-.394-1.183a2.25 2.25 0 0 0-1.423-1.423L13.5 18.75l1.183-.394a2.25 2.25 0 0 0 1.423-1.423l.394-1.183.394 1.183a2.25 2.25 0 0 0 1.423 1.423l1.183.394-1.183.394a2.25 2.25 0 0 0-1.423 1.423Z"}))}const pq=O.forwardRef(dq);function fq({title:e,titleId:t,...n},r){return O.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?O.createElement("title",{id:t},e):null,O.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6A2.25 2.25 0 0 1 6 3.75h2.25A2.25 2.25 0 0 1 10.5 6v2.25a2.25 2.25 0 0 1-2.25 2.25H6a2.25 2.25 0 0 1-2.25-2.25V6ZM3.75 15.75A2.25 2.25 0 0 1 6 13.5h2.25a2.25 2.25 0 0 1 2.25 2.25V18a2.25 2.25 0 0 1-2.25 2.25H6A2.25 2.25 0 0 1 3.75 18v-2.25ZM13.5 6a2.25 2.25 0 0 1 2.25-2.25H18A2.25 2.25 0 0 1 20.25 6v2.25A2.25 2.25 0 0 1 18 10.5h-2.25a2.25 2.25 0 0 1-2.25-2.25V6ZM13.5 15.75a2.25 2.25 0 0 1 2.25-2.25H18a2.25 2.25 0 0 1 2.25 2.25V18A2.25 2.25 0 0 1 18 20.25h-2.25A2.25 2.25 0 0 1 13.5 18v-2.25Z"}))}const mq=O.forwardRef(fq),gq="d5ck2f1r01qgl5onjgagd5ck2f1r01qgl5onjgb0",yq="https://finnhub.io/api/v1",xq="https://api.binance.com/api/v3",bq={stocks:["AAPL","MSFT","GOOGL","NVDA","TSLA","AMZN","META","JPM","GS","AMD"],etfs:["SPY","QQQ","IWM","DIA","EEM","XLF","XLE","GLD","TLT","VXX"],crypto:["BTCUSDT","ETHUSDT","BNBUSDT","SOLUSDT","XRPUSDT","ADAUSDT","AVAXUSDT","DOGEUSDT","LINKUSDT","MATICUSDT"],indices:["SPY","QQQ","DIA","IWM"]},vq={assets:new Map,lastFetch:0,isFetching:!1};let wq=null;async function kq(e){try{const t=await fetch(`${yq}/quote?symbol=${e}&token=${gq}`);if(!t.ok)return 429===t.status&&console.warn(` ML Rate limited on ${e}`),null;const n=await t.json();return n.c&&0!==n.c?{currentPrice:n.c,priceChange24h:n.d||0,priceChangePercent24h:n.dp||0,high24h:n.h||n.c,low24h:n.l||n.c,isLive:!0}:null}catch(t){return console.warn(`ML: Failed to fetch ${e}:`,t),null}}async function Sq(e,t=10){try{const n=Math.floor(Date.now()/1e3),r=n-24*t*60*60,a=await fetch(`${yq}/stock/candle?symbol=${e}&resolution=D&from=${r}&to=${n}&token=${gq}`);if(!a.ok)return[];const i=await a.json();if("ok"!==i.s||!i.c||0===i.c.length)return[];const s=[];for(let e=0;e<i.c.length;e++)s.push({timestamp:1e3*i.t[e],open:i.o[e],high:i.h[e],low:i.l[e],close:i.c[e],volume:i.v[e]});return s}catch(n){return console.warn(`ML: Failed to fetch candles for ${e}:`,n),[]}}async function Nq(e){try{const t=await fetch(`${xq}/ticker/24hr?symbol=${e}`);if(!t.ok)return null;const n=await t.json();return{currentPrice:parseFloat(n.lastPrice),priceChange24h:parseFloat(n.priceChange),priceChangePercent24h:parseFloat(n.priceChangePercent),high24h:parseFloat(n.highPrice),low24h:parseFloat(n.lowPrice),volume24h:parseFloat(n.quoteVolume),isLive:!0}}catch(t){return console.warn(`ML: Failed to fetch Binance ticker ${e}:`,t),null}}async function Eq(e,t=10){try{const n=await fetch(`${xq}/klines?symbol=${e}&interval=1d&limit=${t}`);if(!n.ok)return[];return(await n.json()).map(e=>({timestamp:e[0],open:parseFloat(e[1]),high:parseFloat(e[2]),low:parseFloat(e[3]),close:parseFloat(e[4]),volume:parseFloat(e[5])}))}catch(n){return console.warn(`ML: Failed to fetch Binance klines ${e}:`,n),[]}}async function Aq(e){const t=function(e){return e.endsWith("USDT")?"crypto":bq.etfs.includes(e)?"etf":bq.indices.includes(e)?"index":"stock"}(e),n="crypto"===t,[r,a]=await Promise.all([n?Nq(e):kq(e),n?Eq(e,10):Sq(e,10)]);if(!r||!r.currentPrice)return null;let i=a;return i.length<5&&(i=function(e,t){const n=[];let r=e;const a=Date.now(),i=.02;for(let s=t-1;s>=0;s--){const t=a-24*s*60*60*1e3,o=(Math.random()-.5)*i*2,l=r*i*(.5+Math.random()),c=r*(1+(Math.random()-.5)*i*.5),u=0===s?e:r*(1+o),h=Math.max(c,u)+.3*l,d=Math.min(c,u)-.3*l;n.push({timestamp:t,open:c,high:h,low:d,close:u,volume:1e6+1e7*Math.random()}),s>0&&(r=u)}return n}(r.currentPrice,10)),{symbol:e,assetClass:t,currentPrice:r.currentPrice,priceChange24h:r.priceChange24h||0,priceChangePercent24h:r.priceChangePercent24h||0,high24h:r.high24h||r.currentPrice,low24h:r.low24h||r.currentPrice,volume24h:r.volume24h||0,historicalData:i,lastUpdated:Date.now(),isLive:!0}}async function Cq(){if(vq.isFetching&&wq)return await wq,vq.assets;return Date.now()-vq.lastFetch<6e4&&vq.assets.size>0?(console.log(" ML: Using cached data"),vq.assets):(vq.isFetching=!0,console.log(" ML: Fetching market data for predictions..."),wq=(async()=>{try{const e=[...bq.stocks,...bq.etfs],t=[...new Set(e)];for(let n=0;n<t.length;n+=10){const e=t.slice(n,n+10);(await Promise.all(e.map(e=>Aq(e)))).forEach(e=>{e&&vq.assets.set(e.symbol,e)}),n+10<t.length&&await new Promise(e=>setTimeout(e,200))}(await Promise.all(bq.crypto.map(e=>Aq(e)))).forEach(e=>{e&&vq.assets.set(e.symbol,e)}),vq.lastFetch=Date.now(),console.log(` ML: Cached ${vq.assets.size} assets for predictions`)}catch(e){console.error("ML: Data refresh failed:",e)}finally{vq.isFetching=!1,wq=null}})(),await wq,vq.assets)}let jq=null;function Mq(e,t){if(e.length<t)return e[e.length-1]||0;return e.slice(-t).reduce((e,t)=>e+t,0)/t}function Tq(e,t){if(0===e.length)return 0;if(1===e.length)return e[0];const n=2/(t+1);let r=e[0];for(let a=1;a<e.length;a++)r=e[a]*n+r*(1-n);return r}function Iq(e){if(e.length<2)return 0;const t=e.reduce((e,t)=>e+t,0)/e.length,n=e.map(e=>Math.pow(e-t,2));return Math.sqrt(n.reduce((e,t)=>e+t,0)/(e.length-1))}function Oq(e,t){if(e.length<t+1)return 50;const n=[];for(let l=1;l<e.length;l++)n.push(e[l]-e[l-1]);const r=n.slice(-t),a=r.filter(e=>e>0),i=r.filter(e=>e<0).map(e=>Math.abs(e)),s=a.length>0?a.reduce((e,t)=>e+t,0)/t:0,o=i.length>0?i.reduce((e,t)=>e+t,0)/t:0;if(0===o)return 100;if(0===s)return 0;return 100-100/(1+s/o)}function Pq(e,t,n){return Math.max(e-t,Math.abs(e-n),Math.abs(t-n))}function Rq(e,t,n,r){if(e.length<r+1)return 0;const a=[];for(let i=1;i<e.length;i++)a.push(Pq(e[i],t[i],n[i-1]));return Mq(a.slice(-r),r)}function _q(e){if(e.length<3)return 0;const t=e.length,n=e.reduce((e,t)=>e+t,0)/t,r=Iq(e);if(0===r)return 0;return e.map(e=>Math.pow((e-n)/r,3)).reduce((e,t)=>e+t,0)/t}function Lq(e){if(e.length<4)return 0;const t=e.length,n=e.reduce((e,t)=>e+t,0)/t,r=Iq(e);if(0===r)return 0;return e.map(e=>Math.pow((e-n)/r,4)).reduce((e,t)=>e+t,0)/t-3}function $q(e){const{historicalData:t,symbol:n,currentPrice:r}=e;if(!t||t.length<5)return console.warn(`Insufficient data for ${n}`),null;t.map(e=>e.open);const a=t.map(e=>e.high),i=t.map(e=>e.low),s=t.map(e=>e.close),o=t.map(e=>e.volume);s[s.length-1]!==r&&s.push(r);const l=[],c=[];for(let D=1;D<s.length;D++){const e=(s[D]-s[D-1])/s[D-1];l.push(e),c.push(Math.log(s[D]/s[D-1]))}const u=Mq(s,5),h=Mq(s,10),d=Tq(s,5),p=Tq(s,10),f=function(e,t=20,n=2){const r=Mq(e.slice(-t),t),a=Iq(e.slice(-t)),i=r+n*a,s=r-n*a,o=e[e.length-1];return{upper:i,middle:r,lower:s,width:(i-s)/r,position:i!==s?(o-s)/(i-s):.5}}(s,Math.min(20,s.length)),m=function(e){if(e.length<26)return{macd:0,signal:0,histogram:0};const t=Tq(e,12)-Tq(e,26),n=[];for(let a=26;a<=e.length;a++){const t=Tq(e.slice(0,a),12),r=Tq(e.slice(0,a),26);n.push(t-r)}const r=n.length>=9?Tq(n,9):t;return{macd:t,signal:r,histogram:t-r}}(s),g=Rq(a,i,s,5),y=Rq(a,i,s,10),x=Mq(o,5),b=o[o.length-1]||x,v=function(e,t){if(e.length!==t.length||e.length<2)return[0];const n=[0];for(let r=1;r<e.length;r++)e[r]>e[r-1]?n.push(n[n.length-1]+t[r]):e[r]<e[r-1]?n.push(n[n.length-1]-t[r]):n.push(n[n.length-1]);return n}(s,o),w=v.length>=2?(v[v.length-1]-v[v.length-2])/(Math.abs(v[v.length-2])||1):0,k=t[t.length-1],S=Math.abs(k.close-k.open),N=k.high-k.low,E=N>0?S/N:0,A=N>0?(k.high-Math.max(k.open,k.close))/N:0,C=N>0?(Math.min(k.open,k.close)-k.low)/N:0,j=t.length>=2&&t[t.length-1].high>t[t.length-2].high?1:0,M=t.length>=2&&t[t.length-1].low<t[t.length-2].low?1:0,T=Iq(l.slice(-5))*Math.sqrt(252),I=Iq(l.slice(-10))*Math.sqrt(252),O=l.reduce((e,t)=>e+t,0)/l.length,P=Iq(l),R=P>0?(l[l.length-1]-O)/P:0,_=I<.15?"low":I<.3?"medium":"high",L=Oq(s,14),$=L<40?"bearish":L>60?"bullish":"neutral",F=Math.abs(u-h)/h;return{symbol:n,timestamp:Date.now(),returns_1d:l.length>=1?l[l.length-1]:0,returns_5d:l.length>=5?l.slice(-5).reduce((e,t)=>e+t,0):0,returns_10d:l.length>=10?l.slice(-10).reduce((e,t)=>e+t,0):0,log_returns_1d:c.length>=1?c[c.length-1]:0,sma_5:u,sma_10:h,ema_5:d,ema_10:p,price_to_sma5:u>0?r/u:1,price_to_sma10:h>0?r/h:1,sma_crossover:h>0?u/h:1,rsi_7:Oq(s,7),rsi_14:L,momentum_5:s.length>=5?s[s.length-1]-s[s.length-5]:0,momentum_10:s.length>=10?s[s.length-1]-s[s.length-10]:0,roc_5:s.length>=5&&s[s.length-5]>0?(s[s.length-1]-s[s.length-5])/s[s.length-5]*100:0,roc_10:s.length>=10&&s[s.length-10]>0?(s[s.length-1]-s[s.length-10])/s[s.length-10]*100:0,volatility_5d:T,volatility_10d:I,atr_5:g,atr_10:y,bollinger_position:f.position,bollinger_width:f.width,volume_sma_5:x,volume_ratio:x>0?b/x:1,obv_change:w,higher_high:j,lower_low:M,body_ratio:E,upper_shadow:A,lower_shadow:C,macd:m.macd,macd_signal:m.signal,macd_histogram:m.histogram,adx:100*F,skewness:_q(l),kurtosis:Lq(l),zscore:R,trend_strength:F,volatility_regime:_,momentum_regime:$}}function Fq(e,t){const n=t.split("").reduce((e,t)=>e+t.charCodeAt(0),0),r=[];for(let a=0;a<8*e;a++){const e=1e4*Math.sin(n*(a+1)*.1);r.push(2*(e-Math.floor(e))-1)}return r}function Dq(e){const t=[];for(let n=0;n<e;n++)t.push(.1*(Math.random()-.5));return t}let zq={models:[{id:"lgbm-v4.6.0",name:"LightGBM Gradient Boosting",version:"4.6.0",type:"lightgbm",config:{type:"lightgbm",hyperparameters:{num_leaves:31,max_depth:7,learning_rate:.05,n_estimators:500,min_child_samples:20,subsample:.8,colsample_bytree:.8,reg_alpha:.1,reg_lambda:.1},featureCount:55,trainingDataStart:"2005-01-01",trainingDataEnd:"2024-12-31",testDataStart:"2025-01-01",testDataEnd:"2025-12-31"},metrics:{accuracy:.5194,precision:.528,recall:.733,f1Score:.614,sharpeRatio:.3,maxDrawdown:-.999,winRate:.52,profitFactor:1.06,totalTrades:39480,avgReturn:5e-4,volatility:.443,calmarRatio:.13,sortinoRatio:.37},createdAt:"2026-01-04T00:00:00Z",trainedAt:"2026-01-04T01:30:00Z",status:"active",rank:2,weights:Fq(55,"lgbm"),biases:Dq(8)},{id:"xgb-v3.1.2",name:"XGBoost Extreme Gradient Boosting",version:"3.1.2",type:"xgboost",config:{type:"xgboost",hyperparameters:{max_depth:6,learning_rate:.05,n_estimators:400,subsample:.8,colsample_bytree:.8,min_child_weight:5,gamma:.1,reg_alpha:.1,reg_lambda:1},featureCount:55,trainingDataStart:"2005-01-01",trainingDataEnd:"2024-12-31",testDataStart:"2025-01-01",testDataEnd:"2025-12-31"},metrics:{accuracy:.5102,precision:.518,recall:.721,f1Score:.603,sharpeRatio:.23,maxDrawdown:-.999,winRate:.511,profitFactor:1.04,totalTrades:39480,avgReturn:4e-4,volatility:.451,calmarRatio:.1,sortinoRatio:.28},createdAt:"2026-01-04T00:00:00Z",trainedAt:"2026-01-04T01:30:00Z",status:"active",rank:3,weights:Fq(55,"xgb"),biases:Dq(8)},{id:"catboost-v1.2.8",name:"CatBoost Gradient Boosting",version:"1.2.8",type:"catboost",config:{type:"catboost",hyperparameters:{iterations:500,depth:6,learning_rate:.05,l2_leaf_reg:3,border_count:128,bootstrap_type:"Bernoulli",subsample:.8},featureCount:55,trainingDataStart:"2005-01-01",trainingDataEnd:"2024-12-31",testDataStart:"2025-01-01",testDataEnd:"2025-12-31"},metrics:{accuracy:.5216,precision:.528,recall:.514,f1Score:.521,sharpeRatio:.14,maxDrawdown:-.092,winRate:.518,profitFactor:1.18,totalTrades:2612,avgReturn:.0016,volatility:.156,calmarRatio:1.52,sortinoRatio:.21},createdAt:"2026-01-04T00:00:00Z",trainedAt:"2026-01-04T01:30:00Z",status:"active",rank:1,weights:Fq(55,"catboost"),biases:Dq(8)},{id:"randomforest-v1.0.0",name:"Random Forest Classifier",version:"1.0.0",type:"randomforest",config:{type:"randomforest",hyperparameters:{n_estimators:200,max_depth:10,min_samples_split:5,min_samples_leaf:2,max_features:"sqrt",bootstrap:!0,n_jobs:-1},featureCount:55,trainingDataStart:"2005-01-01",trainingDataEnd:"2024-12-31",testDataStart:"2025-01-01",testDataEnd:"2025-12-31"},metrics:{accuracy:.5118,precision:.518,recall:.506,f1Score:.512,sharpeRatio:.14,maxDrawdown:-.098,winRate:.508,profitFactor:1.12,totalTrades:2689,avgReturn:.0014,volatility:.161,calmarRatio:1.43,sortinoRatio:.18},createdAt:"2026-01-04T00:00:00Z",trainedAt:"2026-01-04T01:30:00Z",status:"active",rank:4,weights:Fq(55,"randomforest"),biases:Dq(8)}],activeModelId:"lgbm-v3.2.1",lastUpdated:(new Date).toISOString(),ensembleWeights:{lightgbm:.3,xgboost:.3,catboost:.25,randomforest:.15}};function Vq(e=3){return zq.models.filter(e=>"active"===e.status||"staging"===e.status).sort((e,t)=>e.rank-t.rank).slice(0,e)}function Bq(){return{...zq.ensembleWeights}}function Hq(e){const t=(n=e,zq.models.find(e=>e.id===n)||null);var n;return t?{weights:t.weights,biases:t.biases}:null}!function(){try{const e=localStorage.getItem("ml_model_registry");if(e){const t=JSON.parse(e);t.models&&t.models.length>0&&(zq={...zq,...t})}}catch(e){console.warn("Failed to load model registry from localStorage:",e)}}();class Uq{constructor(e,t){this.backend=e,this.dataMover=t,this.data=new WeakMap,this.dataIdsCount=0}get(e){return this.data.has(e)||this.dataMover.moveData(this.backend,e),this.data.get(e)}set(e,t){this.dataIdsCount++,this.data.set(e,t)}has(e){return this.data.has(e)}delete(e){return this.dataIdsCount--,this.data.delete(e)}numDataIds(){return this.dataIdsCount}}class Wq{refCount(e){return Zq("refCount")}incRef(e){return Zq("incRef")}timerAvailable(){return!0}time(e){return Zq("time")}read(e){return Zq("read")}readSync(e){return Zq("readSync")}readToGPU(e,t){return Zq("readToGPU")}numDataIds(){return Zq("numDataIds")}disposeData(e,t){return Zq("disposeData")}write(e,t,n){return Zq("write")}move(e,t,n,r,a){return Zq("move")}createTensorFromGPUData(e,t,n){return Zq("createTensorFromGPUData")}memory(){return Zq("memory")}floatPrecision(){return Zq("floatPrecision")}epsilon(){return 32===this.floatPrecision()?1e-7:1e-4}dispose(){return Zq("dispose")}}function Zq(e){throw new Error(`'${e}' not yet implemented or not found in the registry. This kernel may not be supported by the tfjs backend you have chosen`)}function Gq(e){let t=e.length,n=0;for(;t>0;)n=Math.random()*t|0,t--,Xq(e,t,n)}function Kq(e,t,n){return Math.max(e,Math.min(t,n))}function qq(e){return e%2==0?e:e+1}function Xq(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function Yq(e,t){if(!e)throw new Error("string"==typeof t?t:t())}function Qq(e,t,n=""){Yq(tX(e,t),()=>n+` Shapes ${e} and ${t} must match`)}function Jq(e){Yq(null!=e,()=>"The input to the tensor constructor must be a non-null value.")}function eX(e){if(0===e.length)return 1;let t=e[0];for(let n=1;n<e.length;n++)t*=e[n];return t}function tX(e,t){if(e===t)return!0;if(null==e||null==t)return!1;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function nX(e){return e%1==0}function rX(e){const t=Math.ceil(Math.sqrt(e));return[t,Math.ceil(e/t)]}function aX(e,t){return t<=e.length?e:e+" ".repeat(t-e.length)}function iX(e,t=e=>0,n,r){return new Promise((a,i)=>{let s=0;const o=()=>{if(e())return void a();s++;const l=t(s);null!=n&&s>=n?i():null!=r?r(o,l):setTimeout(o,l)};o()})}function sX(e,t){let n=1,r=-1;for(let i=0;i<e.length;++i)if(e[i]>=0)n*=e[i];else if(-1===e[i]){if(-1!==r)throw Error(`Shapes can only have 1 implicit size. Found -1 at dim ${r} and dim ${i}`);r=i}else if(e[i]<0)throw Error(`Shapes can not be < 0. Found ${e[i]} at dim ${i}`);if(-1===r){if(t>0&&t!==n)throw Error(`Size(${t}) must match the product of shape ${e}`);return e}if(0===n)throw Error(`Cannot infer the missing size in [${e}] when there are 0 elements`);if(t%n!==0)throw Error(`The implicit shape can't be a fractional number. Got ${t} / ${n}`);const a=e.slice();return a[r]=t/n,a}function oX(e,t){const n=t.length;return Yq((e=null==e?t.map((e,t)=>t):[].concat(e)).every(e=>e>=-n&&e<n),()=>`All values in axis param must be in range [-${n}, ${n}) but got axis ${e}`),Yq(e.every(e=>nX(e)),()=>`All values in axis param must be integers but got axis ${e}`),e.map(e=>e<0?n+e:e)}function lX(e,t){const n=[],r=[],a=null!=t&&Array.isArray(t)&&0===t.length,i=null==t||a?null:oX(t,e).sort();let s=0;for(let o=0;o<e.length;++o){if(null!=i){if(i[s]===o&&1!==e[o])throw new Error(`Can't squeeze axis ${o} since its dim '${e[o]}' is not 1`);(null==i[s]||i[s]>o)&&1===e[o]&&(n.push(e[o]),r.push(o)),i[s]<=o&&s++}1!==e[o]&&(n.push(e[o]),r.push(o))}return{newShape:n,keptDims:r}}function cX(e,t){return uX(e,t)}function uX(e,t){let n=null;if(null==e||"float32"===e)n=new Float32Array(t);else if("int32"===e)n=new Int32Array(t);else if("bool"===e)n=new Uint8Array(t);else{if("string"!==e)throw new Error(`Unknown data type ${e}`);n=new Array(t)}return n}function hX(e,t){return"complex64"!==t&&(("float32"!==t||"complex64"===e)&&(("int32"!==t||"float32"===e||"complex64"===e)&&("bool"!==t||"bool"!==e)))}function dX(e){if("float32"===e||"int32"===e)return 4;if("complex64"===e)return 8;if("bool"===e)return 1;throw new Error(`Unknown dtype ${e}`)}function pX(e){return"string"==typeof e||e instanceof String}function fX(e){return"number"==typeof e}function mX(e){return Array.isArray(e)?mX(e[0]):e instanceof Float32Array?"float32":e instanceof Int32Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray?"int32":fX(e)?"float32":pX(e)?"string":"boolean"==typeof e?"bool":"float32"}function gX(e){return!!(e&&e.constructor&&e.call&&e.apply)}function yX(e,t){for(let n=t;n<e;++n)if(e%n===0)return n;return e}function xX(e){const t=e.length;if(t<2)return[];const n=new Array(t-1);n[t-2]=e[t-1];for(let r=t-3;r>=0;--r)n[r]=n[r+1]*e[r+1];return n}function bX(e,t,n,r=!1){const a=new Array;if(1===t.length){const i=t[0]*(r?2:1);for(let t=0;t<i;t++)a[t]=n[e+t]}else{const i=t[0],s=t.slice(1),o=s.reduce((e,t)=>e*t)*(r?2:1);for(let t=0;t<i;t++)a[t]=bX(e+t*o,s,n,r)}return a}function vX(e,t,n=!1){if(0===e.length)return t[0];const r=e.reduce((e,t)=>e*t)*(n?2:1);if(0===r)return[];if(r!==t.length)throw new Error(`[${e}] does not match the input size ${t.length}${n?" for a complex tensor":""}.`);return bX(0,e,t,n)}function wX(e,t){const n=kX(e,t);for(let r=0;r<n.length;r++)n[r]=1;return n}function kX(e,t){if(null==t||"float32"===t||"complex64"===t)return new Float32Array(e);if("int32"===t)return new Int32Array(e);if("bool"===t)return new Uint8Array(e);throw new Error(`Unknown data type ${t}`)}function SX(e,t){const n=e.reduce((e,t)=>e*t,1);if(null==t||"float32"===t)return vX(e,new Float32Array(n));if("int32"===t)return vX(e,new Int32Array(n));if("bool"===t)return vX(e,new Uint8Array(n));throw new Error(`Unknown data type ${t}`)}function NX(e){e.forEach(t=>{Yq(Number.isInteger(t)&&t>=0,()=>`Tensor must have a shape comprised of positive integers but got shape [${e}].`)})}function EX(e,t,n){if(0===t)return 0;if(1===t)return e[0];let r=e[e.length-1];for(let a=0;a<e.length-1;++a)r+=n[a]*e[a];return r}function AX(e,t,n){if(0===t)return[];if(1===t)return[e];const r=new Array(t);for(let a=0;a<r.length-1;++a)r[a]=Math.floor(e/n[a]),e-=r[a]*n[a];return r[r.length-1]=e,r}function CX(e){return e&&e.then&&"function"==typeof e.then}const jX="tfjsflags";class MX{constructor(e){this.global=e,this.flags={},this.flagRegistry={},this.urlFlags={},this.getQueryParams=TX,this.populateURLFlags()}setPlatform(e,t){null!=this.platform&&(IX().getBool("IS_TEST")||IX().getBool("PROD")||console.warn(`Platform ${this.platformName} has already been set. Overwriting the platform with ${e}.`)),this.platformName=e,this.platform=t}registerFlag(e,t,n){if(this.flagRegistry[e]={evaluationFn:t,setHook:n},null!=this.urlFlags[e]){const t=this.urlFlags[e];IX().getBool("IS_TEST")||IX().getBool("PROD")||console.warn(`Setting feature override from URL ${e}: ${t}.`),this.set(e,t)}}async getAsync(e){return e in this.flags||(this.flags[e]=await this.evaluateFlag(e)),this.flags[e]}get(e){if(e in this.flags)return this.flags[e];const t=this.evaluateFlag(e);if(CX(t))throw new Error(`Flag ${e} cannot be synchronously evaluated. Please use getAsync() instead.`);return this.flags[e]=t,this.flags[e]}getNumber(e){return this.get(e)}getBool(e){return this.get(e)}getString(e){return this.get(e)}getFlags(){return this.flags}get features(){return this.flags}set(e,t){if(null==this.flagRegistry[e])throw new Error(`Cannot set flag ${e} as it has not been registered.`);this.flags[e]=t,null!=this.flagRegistry[e].setHook&&this.flagRegistry[e].setHook(t)}evaluateFlag(e){if(null==this.flagRegistry[e])throw new Error(`Cannot evaluate flag '${e}': no evaluation function found.`);return this.flagRegistry[e].evaluationFn()}setFlags(e){this.flags=Object.assign({},e)}reset(){this.flags={},this.urlFlags={},this.populateURLFlags()}populateURLFlags(){if(void 0===this.global||void 0===this.global.location||void 0===this.global.location.search)return;const e=this.getQueryParams(this.global.location.search);if(jX in e){e[jX].split(",").forEach(e=>{const[t,n]=e.split(":");this.urlFlags[t]=function(e,t){const n=t.toLowerCase();return"true"===n||"false"===n?"true"===n:""+ +n===n?+n:t}(0,n)})}}}function TX(e){const t={};return e.replace(/[?&]([^=?&]+)(?:=([^&]*))?/g,(e,...n)=>(function(e,t,n){e[decodeURIComponent(t)]=decodeURIComponent(n||"")}(t,n[0],n[1]),n.join("="))),t}function IX(){return PX}let OX,PX=null;function RX(){if(null==OX){let e;if("undefined"!=typeof window)e=window;else if("undefined"!=typeof global)e=global;else if("undefined"!=typeof process)e=process;else{if("undefined"==typeof self)throw new Error("Could not find a global object");e=self}OX=e}return OX}function _X(e,t){const n=function(){const e=RX();return null==e._tfGlobals&&(e._tfGlobals=new Map),e._tfGlobals}();if(n.has(e))return n.get(e);{const r=t();return n.set(e,r),n.get(e)}}const LX="Abs",$X="Acos",FX="Acosh",DX="Add",zX="AddN",VX="All",BX="Any",HX="ArgMax",UX="ArgMin",WX="Asin",ZX="Asinh",GX="Atan",KX="Atanh",qX="Atan2",XX="AvgPool",YX="AvgPoolGrad",QX="AvgPool3D",JX="AvgPool3DGrad",eY="BatchMatMul",tY="BatchToSpaceND",nY="Bincount",rY="BitwiseAnd",aY="BroadcastArgs",iY="Cast",sY="Ceil",oY="ClipByValue",lY="Complex",cY="ComplexAbs",uY="Concat",hY="Conv2D",dY="Conv2DBackpropFilter",pY="Conv2DBackpropInput",fY="Conv3D",mY="Conv3DBackpropFilterV2",gY="Conv3DBackpropInputV2",yY="Cos",xY="Cosh",bY="Cumprod",vY="Cumsum",wY="CropAndResize",kY="DenseBincount",SY="DepthToSpace",NY="DepthwiseConv2dNative",EY="DepthwiseConv2dNativeBackpropFilter",AY="DepthwiseConv2dNativeBackpropInput",CY="Diag",jY="Dilation2D",MY="Dilation2DBackpropInput",TY="Dilation2DBackpropFilter",IY="RealDiv",OY="Einsum",PY="Elu",RY="EluGrad",_Y="Erf",LY="Equal",$Y="Exp",FY="ExpandDims",DY="Expm1",zY="FFT",VY="Fill",BY="FlipLeftRight",HY="Floor",UY="FloorDiv",WY="FusedBatchNorm",ZY="GatherV2",GY="GatherNd",KY="Greater",qY="GreaterEqual",XY="Identity",YY="IFFT",QY="Imag",JY="IsFinite",eQ="IsInf",tQ="IsNan",nQ="LeakyRelu",rQ="Less",aQ="LessEqual",iQ="LinSpace",sQ="Log",oQ="Log1p",lQ="LogicalAnd",cQ="LogicalNot",uQ="LogicalOr",hQ="LRN",dQ="LRNGrad",pQ="Max",fQ="Maximum",mQ="MaxPool",gQ="MaxPoolGrad",yQ="MaxPool3D",xQ="MaxPool3DGrad",bQ="MaxPoolWithArgmax",vQ="Mean",wQ="Min",kQ="Minimum",SQ="MirrorPad",NQ="Mod",EQ="Multinomial",AQ="Multiply",CQ="Neg",jQ="NotEqual",MQ="NonMaxSuppressionV3",TQ="NonMaxSuppressionV4",IQ="NonMaxSuppressionV5",OQ="OnesLike",PQ="OneHot",RQ="Pack",_Q="PadV2",LQ="Pow",$Q="Prelu",FQ="Prod",DQ="RaggedGather",zQ="RaggedRange",VQ="RaggedTensorToTensor",BQ="Range",HQ="Real",UQ="Reciprocal",WQ="Relu",ZQ="Reshape",GQ="ResizeNearestNeighbor",KQ="ResizeNearestNeighborGrad",qQ="ResizeBilinear",XQ="ResizeBilinearGrad",YQ="Relu6",QQ="Reverse",JQ="Round",eJ="Rsqrt",tJ="ScatterNd",nJ="TensorScatterUpdate",rJ="SearchSorted",aJ="Select",iJ="Selu",sJ="Slice",oJ="Sin",lJ="Sinh",cJ="Sign",uJ="Sigmoid",hJ="Softplus",dJ="Sqrt",pJ="Sum",fJ="SpaceToBatchND",mJ="SplitV",gJ="Softmax",yJ="SparseFillEmptyRows",xJ="SparseReshape",bJ="SparseSegmentMean",vJ="SparseSegmentSum",wJ="SparseToDense",kJ="SquaredDifference",SJ="Square",NJ="StaticRegexReplace",EJ="StridedSlice",AJ="StringNGrams",CJ="StringSplit",jJ="StringToHashBucketFast",MJ="Sub",TJ="Tan",IJ="Tanh",OJ="Tile",PJ="TopK",RJ="Transform",_J="Transpose",LJ="Unique",$J="Unpack",FJ="UnsortedSegmentSum",DJ="ZerosLike",zJ="Step",VJ="RotateWithOffset",BJ="_FusedMatMul",HJ="FusedConv2D",UJ="FusedDepthwiseConv2D";function WJ(...e){IX().getBool("IS_TEST")||IX().getBool("PROD")||console.warn(...e)}const ZJ=_X("kernelRegistry",()=>new Map),GJ=_X("gradRegistry",()=>new Map);function KJ(e,t){const n=JJ(e,t);return ZJ.get(n)}function qJ(e){return GJ.get(e)}function XJ(e){const t=ZJ.entries(),n=[];for(;;){const{done:r,value:a}=t.next();if(r)break;const[i,s]=a,[o]=i.split("_");o===e&&n.push(s)}return n}function YJ(e){const{kernelName:t,backendName:n}=e,r=JJ(t,n);ZJ.has(r)&&WJ(`The kernel '${t}' for backend '${n}' is already registered`),ZJ.set(r,e)}function QJ(e){const{kernelName:t}=e;GJ.has(t)&&IX().getBool("DEBUG")&&WJ(`Overriding the gradient for '${t}'`),GJ.set(t,e)}function JJ(e,t){return`${t}_${e}`}function e0(e){return e instanceof Float32Array||e instanceof Int32Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray}var t0,n0;var r0=function(){if(n0)return t0;n0=1,t0=t;var e=null;try{e=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(ATe){}function t(e,t,n){this.low=0|e,this.high=0|t,this.unsigned=!!n}function n(e){return!0===(e&&e.__isLong__)}t.prototype.__isLong__,Object.defineProperty(t.prototype,"__isLong__",{value:!0}),t.isLong=n;var r={},a={};function i(e,t){var n,i,s;return t?(s=0<=(e>>>=0)&&e<256)&&(i=a[e])?i:(n=o(e,(0|e)<0?-1:0,!0),s&&(a[e]=n),n):(s=-128<=(e|=0)&&e<128)&&(i=r[e])?i:(n=o(e,e<0?-1:0,!1),s&&(r[e]=n),n)}function s(e,t){if(isNaN(e))return t?g:m;if(t){if(e<0)return g;if(e>=d)return w}else{if(e<=-p)return k;if(e+1>=p)return v}return e<0?s(-e,t).neg():o(e%h|0,e/h|0,t)}function o(e,n,r){return new t(e,n,r)}t.fromInt=i,t.fromNumber=s,t.fromBits=o;var l=Math.pow;function c(e,t,n){if(0===e.length)throw Error("empty string");if("NaN"===e||"Infinity"===e||"+Infinity"===e||"-Infinity"===e)return m;if("number"==typeof t?(n=t,t=!1):t=!!t,(n=n||10)<2||36<n)throw RangeError("radix");var r;if((r=e.indexOf("-"))>0)throw Error("interior hyphen");if(0===r)return c(e.substring(1),t,n).neg();for(var a=s(l(n,8)),i=m,o=0;o<e.length;o+=8){var u=Math.min(8,e.length-o),h=parseInt(e.substring(o,o+u),n);if(u<8){var d=s(l(n,u));i=i.mul(d).add(s(h))}else i=(i=i.mul(a)).add(s(h))}return i.unsigned=t,i}function u(e,t){return"number"==typeof e?s(e,t):"string"==typeof e?c(e,t):o(e.low,e.high,"boolean"==typeof t?t:e.unsigned)}t.fromString=c,t.fromValue=u;var h=4294967296,d=h*h,p=d/2,f=i(1<<24),m=i(0);t.ZERO=m;var g=i(0,!0);t.UZERO=g;var y=i(1);t.ONE=y;var x=i(1,!0);t.UONE=x;var b=i(-1);t.NEG_ONE=b;var v=o(-1,2147483647,!1);t.MAX_VALUE=v;var w=o(-1,-1,!0);t.MAX_UNSIGNED_VALUE=w;var k=o(0,-2147483648,!1);t.MIN_VALUE=k;var S=t.prototype;return S.toInt=function(){return this.unsigned?this.low>>>0:this.low},S.toNumber=function(){return this.unsigned?(this.high>>>0)*h+(this.low>>>0):this.high*h+(this.low>>>0)},S.toString=function(e){if((e=e||10)<2||36<e)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(k)){var t=s(e),n=this.div(t),r=n.mul(t).sub(this);return n.toString(e)+r.toInt().toString(e)}return"-"+this.neg().toString(e)}for(var a=s(l(e,6),this.unsigned),i=this,o="";;){var c=i.div(a),u=(i.sub(c.mul(a)).toInt()>>>0).toString(e);if((i=c).isZero())return u+o;for(;u.length<6;)u="0"+u;o=""+u+o}},S.getHighBits=function(){return this.high},S.getHighBitsUnsigned=function(){return this.high>>>0},S.getLowBits=function(){return this.low},S.getLowBitsUnsigned=function(){return this.low>>>0},S.getNumBitsAbs=function(){if(this.isNegative())return this.eq(k)?64:this.neg().getNumBitsAbs();for(var e=0!=this.high?this.high:this.low,t=31;t>0&&!(e&1<<t);t--);return 0!=this.high?t+33:t+1},S.isZero=function(){return 0===this.high&&0===this.low},S.eqz=S.isZero,S.isNegative=function(){return!this.unsigned&&this.high<0},S.isPositive=function(){return this.unsigned||this.high>=0},S.isOdd=function(){return!(1&~this.low)},S.isEven=function(){return!(1&this.low)},S.equals=function(e){return n(e)||(e=u(e)),(this.unsigned===e.unsigned||this.high>>>31!=1||e.high>>>31!=1)&&(this.high===e.high&&this.low===e.low)},S.eq=S.equals,S.notEquals=function(e){return!this.eq(e)},S.neq=S.notEquals,S.ne=S.notEquals,S.lessThan=function(e){return this.comp(e)<0},S.lt=S.lessThan,S.lessThanOrEqual=function(e){return this.comp(e)<=0},S.lte=S.lessThanOrEqual,S.le=S.lessThanOrEqual,S.greaterThan=function(e){return this.comp(e)>0},S.gt=S.greaterThan,S.greaterThanOrEqual=function(e){return this.comp(e)>=0},S.gte=S.greaterThanOrEqual,S.ge=S.greaterThanOrEqual,S.compare=function(e){if(n(e)||(e=u(e)),this.eq(e))return 0;var t=this.isNegative(),r=e.isNegative();return t&&!r?-1:!t&&r?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1},S.comp=S.compare,S.negate=function(){return!this.unsigned&&this.eq(k)?k:this.not().add(y)},S.neg=S.negate,S.add=function(e){n(e)||(e=u(e));var t=this.high>>>16,r=65535&this.high,a=this.low>>>16,i=65535&this.low,s=e.high>>>16,l=65535&e.high,c=e.low>>>16,h=0,d=0,p=0,f=0;return p+=(f+=i+(65535&e.low))>>>16,d+=(p+=a+c)>>>16,h+=(d+=r+l)>>>16,h+=t+s,o((p&=65535)<<16|(f&=65535),(h&=65535)<<16|(d&=65535),this.unsigned)},S.subtract=function(e){return n(e)||(e=u(e)),this.add(e.neg())},S.sub=S.subtract,S.multiply=function(t){if(this.isZero())return m;if(n(t)||(t=u(t)),e)return o(e.mul(this.low,this.high,t.low,t.high),e.get_high(),this.unsigned);if(t.isZero())return m;if(this.eq(k))return t.isOdd()?k:m;if(t.eq(k))return this.isOdd()?k:m;if(this.isNegative())return t.isNegative()?this.neg().mul(t.neg()):this.neg().mul(t).neg();if(t.isNegative())return this.mul(t.neg()).neg();if(this.lt(f)&&t.lt(f))return s(this.toNumber()*t.toNumber(),this.unsigned);var r=this.high>>>16,a=65535&this.high,i=this.low>>>16,l=65535&this.low,c=t.high>>>16,h=65535&t.high,d=t.low>>>16,p=65535&t.low,g=0,y=0,x=0,b=0;return x+=(b+=l*p)>>>16,y+=(x+=i*p)>>>16,x&=65535,y+=(x+=l*d)>>>16,g+=(y+=a*p)>>>16,y&=65535,g+=(y+=i*d)>>>16,y&=65535,g+=(y+=l*h)>>>16,g+=r*p+a*d+i*h+l*c,o((x&=65535)<<16|(b&=65535),(g&=65535)<<16|(y&=65535),this.unsigned)},S.mul=S.multiply,S.divide=function(t){if(n(t)||(t=u(t)),t.isZero())throw Error("division by zero");var r,a,i;if(e)return this.unsigned||-2147483648!==this.high||-1!==t.low||-1!==t.high?o((this.unsigned?e.div_u:e.div_s)(this.low,this.high,t.low,t.high),e.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?g:m;if(this.unsigned){if(t.unsigned||(t=t.toUnsigned()),t.gt(this))return g;if(t.gt(this.shru(1)))return x;i=g}else{if(this.eq(k))return t.eq(y)||t.eq(b)?k:t.eq(k)?y:(r=this.shr(1).div(t).shl(1)).eq(m)?t.isNegative()?y:b:(a=this.sub(t.mul(r)),i=r.add(a.div(t)));if(t.eq(k))return this.unsigned?g:m;if(this.isNegative())return t.isNegative()?this.neg().div(t.neg()):this.neg().div(t).neg();if(t.isNegative())return this.div(t.neg()).neg();i=m}for(a=this;a.gte(t);){r=Math.max(1,Math.floor(a.toNumber()/t.toNumber()));for(var c=Math.ceil(Math.log(r)/Math.LN2),h=c<=48?1:l(2,c-48),d=s(r),p=d.mul(t);p.isNegative()||p.gt(a);)p=(d=s(r-=h,this.unsigned)).mul(t);d.isZero()&&(d=y),i=i.add(d),a=a.sub(p)}return i},S.div=S.divide,S.modulo=function(t){return n(t)||(t=u(t)),e?o((this.unsigned?e.rem_u:e.rem_s)(this.low,this.high,t.low,t.high),e.get_high(),this.unsigned):this.sub(this.div(t).mul(t))},S.mod=S.modulo,S.rem=S.modulo,S.not=function(){return o(~this.low,~this.high,this.unsigned)},S.and=function(e){return n(e)||(e=u(e)),o(this.low&e.low,this.high&e.high,this.unsigned)},S.or=function(e){return n(e)||(e=u(e)),o(this.low|e.low,this.high|e.high,this.unsigned)},S.xor=function(e){return n(e)||(e=u(e)),o(this.low^e.low,this.high^e.high,this.unsigned)},S.shiftLeft=function(e){return n(e)&&(e=e.toInt()),0==(e&=63)?this:e<32?o(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):o(0,this.low<<e-32,this.unsigned)},S.shl=S.shiftLeft,S.shiftRight=function(e){return n(e)&&(e=e.toInt()),0==(e&=63)?this:e<32?o(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):o(this.high>>e-32,this.high>=0?0:-1,this.unsigned)},S.shr=S.shiftRight,S.shiftRightUnsigned=function(e){if(n(e)&&(e=e.toInt()),0===(e&=63))return this;var t=this.high;return e<32?o(this.low>>>e|t<<32-e,t>>>e,this.unsigned):o(32===e?t:t>>>e-32,0,this.unsigned)},S.shru=S.shiftRightUnsigned,S.shr_u=S.shiftRightUnsigned,S.toSigned=function(){return this.unsigned?o(this.low,this.high,!1):this},S.toUnsigned=function(){return this.unsigned?this:o(this.low,this.high,!0)},S.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()},S.toBytesLE=function(){var e=this.high,t=this.low;return[255&t,t>>>8&255,t>>>16&255,t>>>24,255&e,e>>>8&255,e>>>16&255,e>>>24]},S.toBytesBE=function(){var e=this.high,t=this.low;return[e>>>24,e>>>16&255,e>>>8&255,255&e,t>>>24,t>>>16&255,t>>>8&255,255&t]},t.fromBytes=function(e,n,r){return r?t.fromBytesLE(e,n):t.fromBytesBE(e,n)},t.fromBytesLE=function(e,n){return new t(e[0]|e[1]<<8|e[2]<<16|e[3]<<24,e[4]|e[5]<<8|e[6]<<16|e[7]<<24,n)},t.fromBytesBE=function(e,n){return new t(e[4]<<24|e[5]<<16|e[6]<<8|e[7],e[0]<<24|e[1]<<16|e[2]<<8|e[3],n)},t0}();const a0=n(r0),i0=a0||e({__proto__:null,default:a0},[r0]);function s0(e){return i0.fromString(e,!0,16)}const o0=s0("c3a5c85c97cb3127"),l0=s0("b492b66fbe98f273"),c0=s0("9ae16a3b2f90404f");function u0(e){return e.xor(e.shru(47))}function h0(e,t,n){const r=e.slice(t,t+n);return i0.fromBytes(Array.from(r),!0,!0)}function d0(e,t){return h0(e,t,8)}function p0(e,t){return h0(e,t,4)}function f0(e,t){return 0===t?e:e.shru(t).or(e.shl(64-t))}function m0(e,t,n=s0("9ddfea08eb382d69")){let r=e.xor(t).mul(n);r=r.xor(r.shru(47));let a=t.xor(r).mul(n);return a=a.xor(a.shru(47)),a=a.mul(n),a}function g0(e,t,n,r){return function(e,t,n,r,a,i){a=a.add(e),i=f0(i.add(a).add(r),21);const s=a;return a=(a=a.add(t)).add(n),i=i.add(f0(a,44)),[a.add(r),i.add(s)]}(d0(e,t),d0(e,t+8),d0(e,t+16),d0(e,t+24),n,r)}function y0(e,t=e.length){const n=i0.fromNumber(81,!0);if(t<=32)return t<=16?function(e,t=e.length){if(t>=8){const n=c0.add(2*t),r=d0(e,0).add(c0),a=d0(e,t-8);return m0(f0(a,37).mul(n).add(r),f0(r,25).add(a).mul(n),n)}if(t>=4){const n=c0.add(2*t);return m0(p0(e,0).shl(3).add(t),p0(e,t-4),n)}if(t>0){const n=e[0]+(e[t>>1]<<8),r=t+(e[t-1]<<2);return u0(c0.mul(n).xor(o0.mul(r))).mul(c0)}return c0}(e,t):function(e,t=e.length){const n=c0.add(2*t),r=d0(e,0).mul(l0),a=d0(e,8),i=d0(e,t-8).mul(n),s=d0(e,t-16).mul(c0);return m0(f0(r.add(a),43).add(f0(i,30)).add(s),r.add(f0(a.add(c0),18)).add(i),n)}(e,t);if(t<=64)return function(e,t=e.length){const n=c0.add(2*t),r=d0(e,0).mul(c0),a=d0(e,8),i=d0(e,t-8).mul(n),s=d0(e,t-16).mul(c0),o=f0(r.add(a),43).add(f0(i,30)).add(s),l=m0(o,r.add(f0(a.add(c0),18)).add(i),n),c=d0(e,16).mul(n),u=d0(e,24),h=o.add(d0(e,t-32)).mul(n),d=l.add(d0(e,t-24)).mul(n);return m0(f0(c.add(u),43).add(f0(h,30)).add(d),c.add(f0(u.add(r),18)).add(h),n)}(e,t);let r=n,a=n.mul(l0).add(113),i=u0(a.mul(c0).add(113)).mul(c0),s=[i0.UZERO,i0.UZERO],o=[i0.UZERO,i0.UZERO];r=r.mul(c0).add(d0(e,0));let l=0;const c=64*(t-1>>6),u=c+(t-1&63)-63;do{r=f0(r.add(a).add(s[0]).add(d0(e,l+8)),37).mul(l0),a=f0(a.add(s[1]).add(d0(e,l+48)),42).mul(l0),r=r.xor(o[1]),a=a.add(s[0]).add(d0(e,l+40)),i=f0(i.add(o[0]),33).mul(l0),s=g0(e,l,s[1].mul(l0),r.add(o[0])),o=g0(e,l+32,i.add(o[1]),a.add(d0(e,l+16))),[i,r]=[r,i],l+=64}while(l!==c);const h=l0.add(i.and(255).shl(1));return l=u,o[0]=o[0].add(t-1&63),s[0]=s[0].add(o[0]),o[0]=o[0].add(s[0]),r=f0(r.add(a).add(s[0]).add(d0(e,l+8)),37).mul(h),a=f0(a.add(s[1]).add(d0(e,l+48)),42).mul(h),r=r.xor(o[1].mul(9)),a=a.add(s[0].mul(9).add(d0(e,l+40))),i=f0(i.add(o[0]),33).mul(h),s=g0(e,l,s[1].mul(h),r.add(o[0])),o=g0(e,l+32,i.add(o[1]),a.add(d0(e,l+16))),[i,r]=[r,i],m0(m0(s[0],o[0],h).add(u0(a).mul(o0)).add(i),m0(s[1],o[1],h).add(r),h)}function x0(e,t){return"string"===t?w0(e):b0([e],t)}function b0(e,t){if("string"===t)throw new Error("Cannot convert a string[] to a TypedArray");if(Array.isArray(e)&&(e=N0(e)),IX().getBool("DEBUG")&&function(e,t){for(let n=0;n<e.length;n++){const r=e[n];if(isNaN(r)||!isFinite(r))throw Error(`A tensor of type ${t} being uploaded contains ${r}.`)}}(e,t),function(e,t){return e instanceof Float32Array&&"float32"===t||e instanceof Int32Array&&"int32"===t||e instanceof Uint8Array&&"bool"===t}(e,t))return e;if(null==t||"float32"===t||"complex64"===t)return new Float32Array(e);if("int32"===t)return new Int32Array(e);if("bool"===t){const t=new Uint8Array(e.length);for(let n=0;n<t.length;++n)0!==Math.round(e[n])&&(t[n]=1);return t}throw new Error(`Unknown data type ${t}`)}function v0(){return IX().platform.now()}function w0(e,t="utf-8"){return t=t||"utf-8",IX().platform.encode(e,t)}function k0(e,t="utf-8"){return t=t||"utf-8",IX().platform.decode(e,t)}function S0(e){return null!=IX().platform.isTypedArray?IX().platform.isTypedArray(e):e0(e)}function N0(e,t=[],n=!1){if(null==t&&(t=[]),"boolean"==typeof e||"number"==typeof e||"string"==typeof e||CX(e)||null==e||S0(e)&&n)t.push(e);else if(Array.isArray(e)||S0(e))for(let r=0;r<e.length;++r)N0(e[r],t,n);else{let r=-1;for(const t of Object.keys(e))/^([1-9]+[0-9]*|0)$/.test(t)&&(r=Math.max(r,Number(t)));for(let a=0;a<=r;a++)N0(e[a],t,n)}return t}class E0{constructor(e,t){this.backendTimer=e,this.logger=t,null==t&&(this.logger=new C0)}profileKernel(e,t,n){let r;const a=()=>{r=n()};let i;const s=v0();if(this.backendTimer.timerAvailable())i=this.backendTimer.time(a);else{a();for(const e of r)e.dataSync();i=Promise.resolve({kernelMs:v0()-s})}if(IX().getBool("CHECK_COMPUTATION_FOR_ERRORS"))for(let o=0;o<r.length;o++){const t=r[o];t.data().then(n=>{A0(n,t.dtype,e)})}return{kernelName:e,outputs:r,inputs:t,timeMs:i.then(e=>e.kernelMs),extraInfo:i.then(e=>null!=e.getExtraProfileInfo?e.getExtraProfileInfo():"")}}logKernelProfile(e){const{kernelName:t,outputs:n,timeMs:r,inputs:a,extraInfo:i}=e;n.forEach(e=>{Promise.all([e.data(),r,i]).then(n=>{this.logger.logKernelProfile(t,e,n[0],n[1],a,n[2])})})}}function A0(e,t,n){if("float32"!==t)return!1;for(let r=0;r<e.length;r++){const t=e[r];if(isNaN(t)||!isFinite(t))return console.warn(`Found ${t} in the result of '${n}'`),!0}return!1}class C0{logKernelProfile(e,t,n,r,a,i){const s="number"==typeof r?aX(`${r}ms`,9):r.error,o=aX(e,25),l=t.rank,c=t.size,u=aX(t.shape.toString(),14);let h="";for(const d in a){const e=a[d];if(null!=e){const n=e.shape||t.shape,r=n.length;h+=`${d}: ${r}D ${r>0?n:""} `}}console.log(`%c${o}\t%c${s}\t%c${l}D ${u}\t%c${c}\t%c${h}\t%c${i}`,"font-weight:bold","color:red","color:blue","color: orange","color: green","color: steelblue")}}function j0(e,t,n,r){const a=xX(t),i=function(e,t,n,r){const a=eX(t),i=r[r.length-1],s=new Array(i).fill(0),o=t.length,l="complex64"===n?O0(e):e;if(o>1)for(let c=0;c<a/i;c++){const e=c*i;for(let t=0;t<i;t++)s[t]=Math.max(s[t],M0(l[e+t],0,n).length)}return s}(e,t,n,a),s=t.length,o=I0(e,t,n,a,i),l=["Tensor"];return r&&(l.push(`  dtype: ${n}`),l.push(`  rank: ${s}`),l.push(`  shape: [${t}]`),l.push("  values:")),l.push(o.map(e=>"    "+e).join("\n")),l.join("\n")}function M0(e,t,n){let r;return r=Array.isArray(e)?`${parseFloat(e[0].toFixed(7))} + ${parseFloat(e[1].toFixed(7))}j`:pX(e)?`'${e}'`:"bool"===n?T0(e):parseFloat(e.toFixed(7)).toString(),aX(r,t)}function T0(e){return 0===e?"false":"true"}function I0(e,t,n,r,a,i=!0){const s="complex64"===n?2:1,o=t[0],l=t.length;if(0===l){if("complex64"===n){return[M0(O0(e)[0],0,n)]}return"bool"===n?[T0(e[0])]:[e[0].toString()]}if(1===l){if(o>20){const t=3*s;let r=Array.from(e.slice(0,t)),i=Array.from(e.slice((o-3)*s,o*s));return"complex64"===n&&(r=O0(r),i=O0(i)),["["+r.map((e,t)=>M0(e,a[t],n)).join(", ")+", ..., "+i.map((e,t)=>M0(e,a[o-3+t],n)).join(", ")+"]"]}return["["+("complex64"===n?O0(e):Array.from(e)).map((e,t)=>M0(e,a[t],n)).join(", ")+"]"]}const c=t.slice(1),u=r.slice(1),h=r[0]*s,d=[];if(o>20){for(let t=0;t<3;t++){const r=t*h,i=r+h;d.push(...I0(e.slice(r,i),c,n,u,a,!1))}d.push("...");for(let t=o-3;t<o;t++){const r=t*h,i=r+h;d.push(...I0(e.slice(r,i),c,n,u,a,t===o-1))}}else for(let m=0;m<o;m++){const t=m*h,r=t+h;d.push(...I0(e.slice(t,r),c,n,u,a,m===o-1))}const p=2===l?",":"";d[0]="["+(o>0?d[0]+p:"");for(let m=1;m<d.length-1;m++)d[m]=" "+d[m]+p;let f=",\n";for(let m=2;m<l;m++)f+="\n";return d[d.length-1]=" "+d[d.length-1]+"]"+(i?"":f),d}function O0(e){const t=[];for(let n=0;n<e.length;n+=2)t.push([e[n],e[n+1]]);return t}class P0{constructor(e,t,n){if(this.dtype=t,this.shape=e.slice(),this.size=eX(e),null!=n){const e=n.length;Yq(e===this.size,()=>`Length of values '${e}' does not match the size inferred by the shape '${this.size}'.`)}if("complex64"===t)throw new Error("complex64 dtype TensorBuffers are not supported. Please create a TensorBuffer for the real and imaginary parts separately and call tf.complex(real, imag).");this.values=n||uX(t,this.size),this.strides=xX(e)}set(e,...t){0===t.length&&(t=[0]),Yq(t.length===this.rank,()=>`The number of provided coordinates (${t.length}) must match the rank (${this.rank})`);const n=this.locToIndex(t);this.values[n]=e}get(...e){0===e.length&&(e=[0]);let t=0;for(const r of e){if(r<0||r>=this.shape[t]){const t=`Requested out of range element at ${e}.   Buffer shape=${this.shape}`;throw new Error(t)}t++}let n=e[e.length-1];for(let r=0;r<e.length-1;++r)n+=this.strides[r]*e[r];return this.values[n]}locToIndex(e){if(0===this.rank)return 0;if(1===this.rank)return e[0];let t=e[e.length-1];for(let n=0;n<e.length-1;++n)t+=this.strides[n]*e[n];return t}indexToLoc(e){if(0===this.rank)return[];if(1===this.rank)return[e];const t=new Array(this.shape.length);for(let n=0;n<t.length-1;++n)t[n]=Math.floor(e/this.strides[n]),e-=t[n]*this.strides[n];return t[t.length-1]=e,t}get rank(){return this.shape.length}toTensor(){return R0().makeTensor(this.values,this.shape,this.dtype)}}let R0=null,_0=null;class L0{constructor(e,t,n,r){this.kept=!1,this.isDisposedInternal=!1,this.shape=e.slice(),this.dtype=t||"float32",this.size=eX(e),this.strides=xX(e),this.dataId=n,this.id=r,this.rankType=this.rank<5?this.rank.toString():"higher"}get rank(){return this.shape.length}async buffer(){const e=await this.data();return _0.buffer(this.shape,this.dtype,e)}bufferSync(){return _0.buffer(this.shape,this.dtype,this.dataSync())}async array(){const e=await this.data();return vX(this.shape,e,"complex64"===this.dtype)}arraySync(){return vX(this.shape,this.dataSync(),"complex64"===this.dtype)}async data(){this.throwIfDisposed();const e=R0().read(this.dataId);if("string"===this.dtype){const n=await e;try{return n.map(e=>k0(e))}catch(t){throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}}return e}dataToGPU(e){return this.throwIfDisposed(),R0().readToGPU(this.dataId,e)}dataSync(){this.throwIfDisposed();const e=R0().readSync(this.dataId);if("string"===this.dtype)try{return e.map(e=>k0(e))}catch(t){throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}return e}async bytes(){this.throwIfDisposed();const e=await R0().read(this.dataId);return"string"===this.dtype?e:new Uint8Array(e.buffer)}dispose(){this.isDisposed||(this.kerasMask&&this.kerasMask.dispose(),R0().disposeTensor(this),this.isDisposedInternal=!0)}get isDisposed(){return this.isDisposedInternal}throwIfDisposed(){if(this.isDisposed)throw new Error("Tensor is disposed.")}print(e=!1){return _0.print(this,e)}clone(){return this.throwIfDisposed(),_0.clone(this)}toString(e=!1){return j0(this.dataSync(),this.shape,this.dtype,e)}cast(e){return this.throwIfDisposed(),_0.cast(this,e)}variable(e=!0,t,n){return this.throwIfDisposed(),R0().makeVariable(this,e,t,n)}}function $0(){return _X("Tensor",()=>L0)}Object.defineProperty(L0,Symbol.hasInstance,{value:e=>!!e&&null!=e.data&&null!=e.dataSync&&null!=e.throwIfDisposed}),$0();class F0 extends L0{constructor(e,t,n,r){super(e.shape,e.dtype,e.dataId,r),this.trainable=t,this.name=n}assign(e){if(e.dtype!==this.dtype)throw new Error(`dtype of the new value (${e.dtype}) and previous value (${this.dtype}) must match`);if(!tX(e.shape,this.shape))throw new Error(`shape of the new value (${e.shape}) and previous value (${this.shape}) must match`);R0().disposeTensor(this),this.dataId=e.dataId,R0().incRef(this,null)}dispose(){R0().disposeVariable(this),this.isDisposedInternal=!0}}var D0,z0,V0,B0,H0,U0,W0,Z0,G0,K0;Object.defineProperty(F0,Symbol.hasInstance,{value:e=>e instanceof L0&&null!=e.assign&&e.assign instanceof Function}),(z0=D0||(D0={})).R0="R0",z0.R1="R1",z0.R2="R2",z0.R3="R3",z0.R4="R4",z0.R5="R5",z0.R6="R6",(B0=V0||(V0={})).float32="float32",B0.int32="int32",B0.bool="int32",B0.complex64="complex64",(U0=H0||(H0={})).float32="float32",U0.int32="int32",U0.bool="bool",U0.complex64="complex64",(Z0=W0||(W0={})).float32="float32",Z0.int32="float32",Z0.bool="float32",Z0.complex64="complex64",(K0=G0||(G0={})).float32="complex64",K0.int32="complex64",K0.bool="complex64",K0.complex64="complex64";const q0={float32:W0,int32:V0,bool:H0,complex64:G0};function X0(e,t){if("string"===e||"string"===t){if("string"===e&&"string"===t)return"string";throw new Error(`Can not upcast ${e} with ${t}`)}return q0[e][t]}function Y0(e){return X0(e,"int32")}function Q0(e){return null!=e&&"object"==typeof e&&"texture"in e&&e.texture instanceof WebGLTexture}function J0(e){return"undefined"!=typeof GPUBuffer&&null!=e&&"object"==typeof e&&"buffer"in e&&e.buffer instanceof GPUBuffer}function e1(e,t){if(e.dtype===t.dtype)return[e,t];const n=X0(e.dtype,t.dtype);return[e.cast(n),t.cast(n)]}function t1(e){const t=[];return n1(e,t,new Set),t}function n1(e,t,n){if(null==e)return;if(e instanceof L0)return void t.push(e);if(r=e,!Array.isArray(r)&&"object"!=typeof r)return;var r;const a=e;for(const i in a){const e=a[i];n.has(e)||(n.add(e),n1(e,t,n))}}function r1(e){return null!=e.kernelName}class a1{constructor(){this.registeredVariables={},this.nextTapeNodeId=0,this.numBytes=0,this.numTensors=0,this.numStringTensors=0,this.numDataBuffers=0,this.gradientDepth=0,this.kernelDepth=0,this.scopeStack=[],this.numDataMovesStack=[],this.nextScopeId=0,this.tensorInfo=new WeakMap,this.profiling=!1,this.activeProfile={newBytes:0,newTensors:0,peakBytes:0,kernels:[],result:null,get kernelNames(){return Array.from(new Set(this.kernels.map(e=>e.name)))}}}dispose(){for(const e in this.registeredVariables)this.registeredVariables[e].dispose()}}class i1{constructor(e){this.ENV=e,this.registry={},this.registryFactory={},this.pendingBackendInitId=0,this.state=new a1}async ready(){if(null!=this.pendingBackendInit)return this.pendingBackendInit.then(()=>{});if(null!=this.backendInstance)return;const e=this.getSortedBackends();for(let t=0;t<e.length;t++){const n=e[t];if(await this.initializeBackend(n).success)return void(await this.setBackend(n))}throw new Error("Could not initialize any backends, all backend initializations failed.")}get backend(){if(null!=this.pendingBackendInit)throw new Error(`Backend '${this.backendName}' has not yet been initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods`);if(null==this.backendInstance){const{name:e,asyncInit:t}=this.initializeBackendsAndReturnBest();if(t)throw new Error(`The highest priority backend '${e}' has not yet been initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods`);this.setBackend(e)}return this.backendInstance}backendNames(){return Object.keys(this.registryFactory)}findBackend(e){if(!(e in this.registry)){if(!(e in this.registryFactory))return null;{const{asyncInit:t}=this.initializeBackend(e);if(t)return null}}return this.registry[e]}findBackendFactory(e){return e in this.registryFactory?this.registryFactory[e].factory:null}registerBackend(e,t,n=1){return e in this.registryFactory?(WJ(`${e} backend was already registered. Reusing existing backend factory.`),!1):(this.registryFactory[e]={factory:t,priority:n},!0)}async setBackend(e){if(null==this.registryFactory[e])throw new Error(`Backend name '${e}' not found in registry`);if(this.backendName=e,null==this.registry[e]){this.backendInstance=null;const{success:t,asyncInit:n}=this.initializeBackend(e);if(!(n?await t:t))return!1}return this.backendInstance=this.registry[e],this.setupRegisteredKernels(),this.profiler=new E0(this.backendInstance),!0}setupRegisteredKernels(){XJ(this.backendName).forEach(e=>{null!=e.setupFunc&&e.setupFunc(this.backendInstance)})}disposeRegisteredKernels(e){XJ(e).forEach(t=>{null!=t.disposeFunc&&t.disposeFunc(this.registry[e])})}initializeBackend(e){const t=this.registryFactory[e];if(null==t)throw new Error(`Cannot initialize backend ${e}, no registration found.`);try{const n=t.factory();if(!n||n instanceof Wq||"function"!=typeof n.then)return this.registry[e]=n,{success:!0,asyncInit:!1};{const t=++this.pendingBackendInitId,r=n.then(n=>!(t<this.pendingBackendInitId)&&(this.registry[e]=n,this.pendingBackendInit=null,!0)).catch(n=>(t<this.pendingBackendInitId||(this.pendingBackendInit=null,WJ(`Initialization of backend ${e} failed`),WJ(n.stack||n.message)),!1));return this.pendingBackendInit=r,{success:r,asyncInit:!0}}}catch(n){return WJ(`Initialization of backend ${e} failed`),WJ(n.stack||n.message),{success:!1,asyncInit:!1}}}removeBackend(e){if(!(e in this.registryFactory))throw new Error(`${e} backend not found in registry`);this.backendName===e&&null!=this.pendingBackendInit&&this.pendingBackendInitId++,e in this.registry&&(this.disposeRegisteredKernels(e),this.registry[e].dispose(),delete this.registry[e]),delete this.registryFactory[e],this.backendName===e&&(this.pendingBackendInit=null,this.backendName=null,this.backendInstance=null)}getSortedBackends(){if(0===Object.keys(this.registryFactory).length)throw new Error("No backend found in registry.");return Object.keys(this.registryFactory).sort((e,t)=>this.registryFactory[t].priority-this.registryFactory[e].priority)}initializeBackendsAndReturnBest(){const e=this.getSortedBackends();for(let t=0;t<e.length;t++){const n=e[t],{success:r,asyncInit:a}=this.initializeBackend(n);if(a||r)return{name:n,asyncInit:a}}throw new Error("Could not initialize any backends, all backend initializations failed.")}moveData(e,t){const n=this.state.tensorInfo.get(t),r=n.backend,a=this.readSync(t),i=r.refCount(t);r.disposeData(t,!0),n.backend=e,e.move(t,a,n.shape,n.dtype,i),this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack[this.state.numDataMovesStack.length-1]++}tidy(e,t){let n,r=null;if(null==t){if("function"!=typeof e)throw new Error("Please provide a function to tidy()");t=e}else{if("string"!=typeof e&&!(e instanceof String))throw new Error("When calling with two arguments, the first argument to tidy() must be a string");if("function"!=typeof t)throw new Error("When calling with two arguments, the 2nd argument to tidy() must be a function");r=e}return this.scopedRun(()=>this.startScope(r),()=>this.endScope(n),()=>(n=t(),n instanceof Promise&&console.error("Cannot return a Promise inside of tidy."),n))}scopedRun(e,t,n){e();try{const e=n();return t(),e}catch(r){throw t(),r}}nextTensorId(){return i1.nextTensorId++}nextVariableId(){return i1.nextVariableId++}clone(e){const t=o1.runKernel(XY,{x:e}),n={x:e};return this.addTapeNode(this.state.activeScope.name,n,[t],e=>({x:()=>{const t={x:e},n={dtype:"float32"};return o1.runKernel(iY,t,n)}}),[],{}),t}runKernel(e,t,n){null==this.backendName&&this.backend;if(!(null!=KJ(e,this.backendName)))throw new Error(`Kernel '${e}' not registered for backend '${this.backendName}'`);return this.runKernelFunc({kernelName:e,inputs:t,attrs:n})}shouldCheckForMemLeaks(){return this.ENV.getBool("IS_TEST")}checkKernelForMemLeak(e,t,n){const r=this.backend.numDataIds();let a=0;n.forEach(e=>{a+="complex64"===e.dtype?3:1});const i=this.state.numDataMovesStack[this.state.numDataMovesStack.length-1],s=r-t-a-i;if(s>0)throw new Error(`Backend '${this.backendName}' has an internal memory leak (${s} data ids) after running '${e}'`)}runKernelFunc(e){let t,n=[];const r=this.isTapeOn(),a=this.state.numBytes,i=this.state.numTensors;let s,o;this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack.push(0),null==this.backendName&&this.backend;const l=r1(e)?e.kernelName:null!=this.state.activeScope?this.state.activeScope.name:"";if(r1(e)){const{kernelName:t,inputs:a,attrs:i}=e;null==this.backendName&&this.backend;const l=KJ(t,this.backendName);Yq(null!=l,()=>`Cannot find registered kernel '${t}' for backend '${this.backendName}'`),s=()=>{const e=this.backend.numDataIds();o=l.kernelFunc({inputs:a,attrs:i,backend:this.backend});const s=Array.isArray(o)?o:[o];this.shouldCheckForMemLeaks()&&this.checkKernelForMemLeak(t,e,s);const c=s.map(e=>null!=e.rank?e:this.makeTensorFromTensorInfo(e));if(r){const e=this.getTensorsForGradient(t,a,c);n=this.saveTensorsForBackwardMode(e)}return c}}else{const{forwardFunc:t}=e,a=e=>{r&&(n=e.map(e=>this.keep(this.clone(e))))};s=()=>{const e=this.backend.numDataIds();o=this.tidy(()=>t(this.backend,a));const n=Array.isArray(o)?o:[o];return this.shouldCheckForMemLeaks()&&this.checkKernelForMemLeak(l,e,n),n}}const{inputs:c,attrs:u}=e,h=r1(e)?null:e.backwardsFunc;let d;return this.scopedRun(()=>this.state.kernelDepth++,()=>this.state.kernelDepth--,()=>{this.ENV.getBool("DEBUG")||this.state.profiling?(d=this.profiler.profileKernel(l,c,()=>s()),this.ENV.getBool("DEBUG")&&this.profiler.logKernelProfile(d),t=d.outputs):t=s()}),r&&this.addTapeNode(l,c,t,h,n,u),this.state.profiling&&this.state.activeProfile.kernels.push({name:l,bytesAdded:this.state.numBytes-a,totalBytesSnapshot:this.state.numBytes,tensorsAdded:this.state.numTensors-i,totalTensorsSnapshot:this.state.numTensors,inputShapes:Object.keys(c).map(e=>null!=c[e]?c[e].shape:null),outputShapes:t.map(e=>e.shape),kernelTimeMs:d.timeMs,extraInfo:d.extraInfo}),Array.isArray(o)?t:t[0]}saveTensorsForBackwardMode(e){return e.map(e=>this.keep(this.clone(e)))}getTensorsForGradient(e,t,n){const r=qJ(e);if(null!=r){const e=r.inputsToSave||[],a=r.outputsToSave||[];let i;r.saveAllInputs?(Yq(Array.isArray(t),()=>"saveAllInputs is true, expected inputs to be an array."),i=Object.keys(t).map(e=>t[e])):i=e.map(e=>t[e]);const s=n.filter((e,t)=>a[t]);return i.concat(s)}return[]}makeTensor(e,t,n,r){if(null==e)throw new Error("Values passed to engine.makeTensor() are null");n=n||"float32",r=r||this.backend;let a=e;"string"===n&&pX(e[0])&&(a=e.map(e=>w0(e)));const i=r.write(a,t,n),s=new L0(t,n,i,this.nextTensorId());if(this.trackTensor(s,r),"string"===n){const e=this.state.tensorInfo.get(i),t=function(e){if(null==e)return 0;let t=0;return e.forEach(e=>t+=e.length),t}(a);this.state.numBytes+=t-e.bytes,e.bytes=t}return s}makeTensorFromDataId(e,t,n,r){const a={dataId:e,shape:t,dtype:n=n||"float32"};return this.makeTensorFromTensorInfo(a,r)}makeTensorFromTensorInfo(e,t){const{dataId:n,shape:r,dtype:a}=e,i=new L0(r,a,n,this.nextTensorId());return this.trackTensor(i,t),i}makeVariable(e,t=!0,n,r){n=n||this.nextVariableId().toString(),null!=r&&r!==e.dtype&&(e=e.cast(r));const a=new F0(e,t,n,this.nextTensorId());if(null!=this.state.registeredVariables[a.name])throw new Error(`Variable with name ${a.name} was already registered`);return this.state.registeredVariables[a.name]=a,this.incRef(a,this.backend),a}trackTensor(e,t){this.state.numTensors++,"string"===e.dtype&&this.state.numStringTensors++;let n=0;"complex64"!==e.dtype&&"string"!==e.dtype&&(n=e.size*dX(e.dtype)),this.state.numBytes+=n,this.state.tensorInfo.has(e.dataId)||(this.state.numDataBuffers++,this.state.tensorInfo.set(e.dataId,{backend:t||this.backend,dtype:e.dtype,shape:e.shape,bytes:n})),e instanceof F0||this.track(e)}incRef(e,t){this.trackTensor(e,t),this.backend.incRef(e.dataId)}removeDataId(e,t){this.state.tensorInfo.has(e)&&this.state.tensorInfo.get(e).backend===t&&(this.state.tensorInfo.delete(e),this.state.numDataBuffers--)}disposeTensor(e){if(!this.state.tensorInfo.has(e.dataId))return;const t=this.state.tensorInfo.get(e.dataId);if(this.state.numTensors--,"string"===e.dtype&&(this.state.numStringTensors--,this.state.numBytes-=t.bytes),"complex64"!==e.dtype&&"string"!==e.dtype){const t=e.size*dX(e.dtype);this.state.numBytes-=t}t.backend.disposeData(e.dataId)&&this.removeDataId(e.dataId,t.backend)}disposeVariables(){for(const e in this.state.registeredVariables){const t=this.state.registeredVariables[e];this.disposeVariable(t)}}disposeVariable(e){this.disposeTensor(e),null!=this.state.registeredVariables[e.name]&&delete this.state.registeredVariables[e.name]}memory(){const e=this.backend.memory();return e.numTensors=this.state.numTensors,e.numDataBuffers=this.state.numDataBuffers,e.numBytes=this.state.numBytes,this.state.numStringTensors>0&&(e.unreliable=!0,null==e.reasons&&(e.reasons=[]),e.reasons.push("Memory usage by string tensors is approximate (2 bytes per character)")),e}async profile(e){this.state.profiling=!0;const t=this.state.numBytes,n=this.state.numTensors;this.state.activeProfile.kernels=[],this.state.activeProfile.result=await e(),this.state.profiling=!1,this.state.activeProfile.peakBytes=Math.max(...this.state.activeProfile.kernels.map(e=>e.totalBytesSnapshot)),this.state.activeProfile.newBytes=this.state.numBytes-t,this.state.activeProfile.newTensors=this.state.numTensors-n;for(const r of this.state.activeProfile.kernels)r.kernelTimeMs=await r.kernelTimeMs,r.extraInfo=await r.extraInfo;return this.state.activeProfile}isTapeOn(){return this.state.gradientDepth>0&&0===this.state.kernelDepth}addTapeNode(e,t,n,r,a,i){const s={id:this.state.nextTapeNodeId++,kernelName:e,inputs:t,outputs:n,saved:a},o=qJ(e);null!=o&&(r=o.gradFunc),null!=r&&(s.gradient=e=>(e=e.map((e,t)=>{if(null==e){const e=n[t],r=kX(e.size,e.dtype);return this.makeTensor(r,e.shape,e.dtype)}return e}),r(e.length>1?e:e[0],a,i))),this.state.activeTape.push(s)}keep(e){return e.kept=!0,e}startTape(){0===this.state.gradientDepth&&(this.state.activeTape=[]),this.state.gradientDepth++}endTape(){this.state.gradientDepth--}startScope(e){const t={track:[],name:"unnamed scope",id:this.state.nextScopeId++};e&&(t.name=e),this.state.scopeStack.push(t),this.state.activeScope=t}endScope(e){const t=t1(e),n=new Set(t.map(e=>e.id));for(let a=0;a<this.state.activeScope.track.length;a++){const e=this.state.activeScope.track[a];e.kept||n.has(e.id)||e.dispose()}const r=this.state.scopeStack.pop();this.state.activeScope=0===this.state.scopeStack.length?null:this.state.scopeStack[this.state.scopeStack.length-1],t.forEach(e=>{e.kept||e.scopeId!==r.id||this.track(e)})}gradients(e,t,n,r=!1){if(Yq(t.length>0,()=>"gradients() received an empty list of xs."),null!=n&&"float32"!==n.dtype)throw new Error(`dy must have 'float32' dtype, but has '${n.dtype}'`);const a=this.scopedRun(()=>this.startTape(),()=>this.endTape(),()=>this.tidy("forward",e));Yq(a instanceof L0,()=>"The result y returned by f() must be a tensor.");const i=function(e,t,n){const r={},a={};for(let l=0;l<t.length;l++)r[t[l].id]=!0;for(let l=0;l<e.length;l++){const n=e[l],i=n.inputs;for(const e in i){const s=i[e];let o=!1;for(let e=0;e<t.length;e++)if(r[s.id]){n.outputs.forEach(e=>r[e.id]=!0),o=!0,a[n.id]=!0;break}if(o)break}}const i={};i[n.id]=!0;const s={};for(let l=e.length-1;l>=0;l--){const t=e[l],n=t.inputs;for(let e=0;e<t.outputs.length;e++)if(i[t.outputs[e].id]){for(const e in n)i[n[e].id]=!0,s[t.id]=!0;break}}const o=[];for(let l=0;l<e.length;l++){const t=e[l];if(a[t.id]&&s[t.id]){const e={};for(const a in t.inputs){const n=t.inputs[a];r[n.id]&&(e[a]=n)}const n=Object.assign({},t);n.inputs=e,n.outputs=t.outputs,o.push(n)}}return o}(this.state.activeTape,t,a);if(!r&&0===i.length&&t.length>0)throw new Error("Cannot compute gradient of y=f(x) with respect to x. Make sure that the f you passed encloses all operations that lead from x to y.");return this.tidy("backward",()=>{const e={};e[a.id]=null==n?function(e){const t=wX(eX(e),"float32");return o1.makeTensor(t,e,"float32")}(a.shape):n,function(e,t,n,r){for(let a=t.length-1;a>=0;a--){const i=t[a],s=[];if(i.outputs.forEach(t=>{const n=e[t.id];null!=n?s.push(n):s.push(null)}),null==i.gradient)throw new Error(`Cannot compute gradient: gradient function not found for ${i.kernelName}.`);const o=i.gradient(s);for(const t in i.inputs){if(!(t in o))throw new Error(`Cannot backprop through input ${t}. Available gradients found: ${Object.keys(o)}.`);const a=n(()=>o[t]());if("float32"!==a.dtype)throw new Error(`Error in gradient for op ${i.kernelName}. The gradient of input ${t} must have 'float32' dtype, but has '${a.dtype}'`);const s=i.inputs[t];if(!tX(a.shape,s.shape))throw new Error(`Error in gradient for op ${i.kernelName}. The gradient of input '${t}' has shape '${a.shape}', which does not match the shape of the input '${s.shape}'`);if(null==e[s.id])e[s.id]=a;else{const t=e[s.id];e[s.id]=r(t,a),t.dispose()}}}}(e,i,e=>this.tidy(e),l1);const r=t.map(t=>e[t.id]);return 0===this.state.gradientDepth&&(this.state.activeTape.forEach(e=>{for(const t of e.saved)t.dispose()}),this.state.activeTape=null),{value:a,grads:r}})}customGrad(e){return Yq(gX(e),()=>"The f passed in customGrad(f) must be a function."),(...t)=>{let n;Yq(t.every(e=>e instanceof L0),()=>"The args passed in customGrad(f)(x1, x2,...) must all be tensors");const r={};t.forEach((e,t)=>{r[t]=e});return this.runKernelFunc({forwardFunc:(r,a)=>(n=e(...t,a),Yq(n.value instanceof L0,()=>"The function f passed in customGrad(f) must return an object where `obj.value` is a tensor"),Yq(gX(n.gradFunc),()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function."),n.value),backwardsFunc:(e,r)=>{const a=n.gradFunc(e,r),i=Array.isArray(a)?a:[a];Yq(i.length===t.length,()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns the same number of tensors as inputs passed to f(...)."),Yq(i.every(e=>e instanceof L0),()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns a list of only tensors.");const s={};return i.forEach((e,t)=>{s[t]=()=>e}),s},inputs:r})}}readSync(e){return this.state.tensorInfo.get(e).backend.readSync(e)}read(e){return this.state.tensorInfo.get(e).backend.read(e)}readToGPU(e,t){return this.state.tensorInfo.get(e).backend.readToGPU(e,t)}async time(e){const t=v0(),n=await this.backend.time(e);return n.wallMs=v0()-t,n}track(e){return null!=this.state.activeScope&&(e.scopeId=this.state.activeScope.id,this.state.activeScope.track.push(e)),e}get registeredVariables(){return this.state.registeredVariables}reset(){this.pendingBackendInitId++,this.state.dispose(),this.ENV.reset(),this.state=new a1;for(const e in this.registry)this.disposeRegisteredKernels(e),this.registry[e].dispose(),delete this.registry[e];this.backendName=null,this.backendInstance=null,this.pendingBackendInit=null}}function s1(){const e=RX();if(null==e._tfengine){const t=new MX(e);e._tfengine=new i1(t)}var t;return t=e._tfengine.ENV,PX=t,R0=()=>e._tfengine,e._tfengine}i1.nextTensorId=0,i1.nextVariableId=0;const o1=s1();function l1(e,t){const n={a:e,b:t};return o1.runKernel(DX,n)}function c1(e){if(e||"undefined"!=typeof navigator&&null!=navigator){if(e||(e=navigator),"ReactNative"===e.product)return!0;const t=e.userAgent||e.vendor||("undefined"!=typeof window?window.opera:"");if(!t){const t=e;return t.userAgentData&&t.userAgentData.mobile}return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4))}return!1}function u1(){return"undefined"!=typeof window&&null!=window.document||"undefined"!=typeof WorkerGlobalScope}const h1=IX();function d1(e,t){let n=e;if(S0(e))return"string"===t?[]:[e.length];if(Q0(e)){const t=e.channels||"RGBA";return[e.height,e.width*t.length]}if(J0(e))return[e.buffer.size/(null==t?4:dX(t))];if(!Array.isArray(e))return[];const r=[];for(;Array.isArray(n)||S0(n)&&"string"!==t;)r.push(n.length),n=n[0];return Array.isArray(e)&&IX().getBool("TENSORLIKE_CHECK_SHAPE_CONSISTENCY")&&p1(e,r,[]),r}function p1(e,t,n){if(n=n||[],!Array.isArray(e)&&!S0(e))return void Yq(0===t.length,()=>`Element arr[${n.join("][")}] is a primitive, but should be an array/TypedArray of ${t[0]} elements`);Yq(t.length>0,()=>`Element arr[${n.join("][")}] should be a primitive, but is an array of ${e.length} elements`),Yq(e.length===t[0],()=>`Element arr[${n.join("][")}] should have ${t[0]} elements, but has ${e.length} elements`);const r=t.slice(1);for(let a=0;a<e.length;++a)p1(e[a],r,n.concat(a))}function f1(e,t,n,r){if("string_or_numeric"!==e){if(null==e)throw new Error("Expected dtype cannot be null.");if("numeric"!==e&&e!==t||"numeric"===e&&"string"===t)throw new Error(`Argument '${n}' passed to '${r}' must be ${e} tensor, but got ${t} tensor`)}}function m1(e,t,n,r="numeric"){if(e instanceof $0())return f1(r,e.dtype,t,n),e;let a=mX(e);if("string"!==a&&["bool","int32","float32"].indexOf(r)>=0&&(a=r),f1(r,a,t,n),null==e||!S0(e)&&!Array.isArray(e)&&"number"!=typeof e&&"boolean"!=typeof e&&"string"!=typeof e){const r=null==e?"null":e.constructor.name;throw new Error(`Argument '${t}' passed to '${n}' must be a Tensor or TensorLike, but got '${r}'`)}const i=d1(e,a);S0(e)||Array.isArray(e)||(e=[e]);const s="string"!==a?b0(e,a):N0(e,[],!0);return o1.makeTensor(s,i,a)}function g1(e,t,n,r="numeric"){if(!Array.isArray(e))throw new Error(`Argument ${t} passed to ${n} must be a \`Tensor[]\` or \`TensorLike[]\``);return e.map((e,a)=>m1(e,`${t}[${a}]`,n,r))}h1.registerFlag("DEBUG",()=>!1,e=>{e&&console.warn("Debugging mode is ON. The output of every math call will be downloaded to CPU and checked for NaNs. This significantly impacts performance.")}),h1.registerFlag("IS_BROWSER",()=>u1()),h1.registerFlag("IS_NODE",()=>"undefined"!=typeof process&&void 0!==process.versions&&void 0!==process.versions.node),h1.registerFlag("IS_CHROME",()=>"undefined"!=typeof navigator&&null!=navigator&&null!=navigator.userAgent&&/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)),h1.registerFlag("IS_SAFARI",()=>"undefined"!=typeof navigator&&null!=navigator&&null!=navigator.userAgent&&/Safari/.test(navigator.userAgent)&&/Apple/.test(navigator.vendor)),h1.registerFlag("PROD",()=>!1),h1.registerFlag("TENSORLIKE_CHECK_SHAPE_CONSISTENCY",()=>h1.getBool("DEBUG")),h1.registerFlag("DEPRECATION_WARNINGS_ENABLED",()=>!0),h1.registerFlag("IS_TEST",()=>!1),h1.registerFlag("CHECK_COMPUTATION_FOR_ERRORS",()=>h1.getBool("DEBUG")),h1.registerFlag("WRAP_TO_IMAGEBITMAP",()=>!1),h1.registerFlag("CANVAS2D_WILL_READ_FREQUENTLY_FOR_GPU",()=>!1),h1.registerFlag("USE_SETTIMEOUTCUSTOM",()=>!1);function y1(e){const t=Object.keys(e);if(1!==t.length)throw new Error(`Please provide an object with a single key (operation name) mapping to a function. Got an object with ${t.length} keys.`);let n=t[0];const r=e[n];n.endsWith("_")&&(n=n.substring(0,n.length-1)),n+="__op";const a=(...e)=>{o1.startScope(n);try{const t=r(...e);return CX(t)&&console.error("Cannot return a Promise inside of tidy."),o1.endScope(t),t}catch(t){throw o1.endScope(null),t}};return Object.defineProperty(a,"name",{value:n,configurable:!0}),a}const x1=y1({complex_:function(e,t){const n=m1(e,"real","complex"),r=m1(t,"imag","complex");Qq(n.shape,r.shape,`real and imag shapes, ${n.shape} and ${r.shape}, must match in call to tf.complex().`);const a={real:n,imag:r};return o1.runKernel(lY,a)}});function b1(e,t,n,r){if(null==r)r=mX(e);else if("complex64"===r)throw new Error("Cannot construct a complex64 tensor directly. Please use tf.complex(real, imag).");if(J0(e)||Q0(e)){if("float32"!==r&&"int32"!==r)throw new Error(`Creating tensor from GPU data only supports 'float32'|'int32' dtype, while the dtype is ${r}.`);return o1.backend.createTensorFromGPUData(e,t||n,r)}if(!S0(e)&&!Array.isArray(e)&&"number"!=typeof e&&"boolean"!=typeof e&&"string"!=typeof e)throw new Error("values passed to tensor(values) must be a number/boolean/string or an array of numbers/booleans/strings, or a TypedArray");if(null!=t){NX(t);const e=eX(t),r=eX(n);Yq(e===r,()=>`Based on the provided shape, [${t}], the tensor should have ${e} values but has ${r}`);for(let a=0;a<n.length;++a){const e=n[a],r=a!==n.length-1||e!==eX(t.slice(a));Yq(n[a]===t[a]||!r,()=>`Error creating a new Tensor. Inferred shape (${n}) does not match the provided shape (${t}). `)}}return S0(e)||Array.isArray(e)||(e=[e]),t=t||n,e="string"!==r?b0(e,r):N0(e,[],!0),o1.makeTensor(e,t,r)}function v1(e,t,n){return b1(e,t,d1(e,n),n)}const w1={float32:4,float16:2,int32:4,uint16:2,uint8:1,bool:1,complex64:8};class k1{static join(e){return new k1(e).slice()}constructor(e){if(this.shards=[],this.previousShardIndex=0,null==e)return;if(e instanceof Array||(e=[e]),0===(e=e.map(e=>S0(e)?e.buffer:e)).length)return;this.bufferUniformSize=e[0].byteLength;let t=0;for(let n=0;n<e.length;n++){const r=e[n];n!==e.length-1&&r.byteLength!==this.bufferUniformSize&&(this.bufferUniformSize=void 0);const a=t+r.byteLength;this.shards.push({buffer:r,start:t,end:a}),t=a}0===this.shards.length&&(this.byteLength=0),this.byteLength=this.shards[this.shards.length-1].end}slice(e=0,t=this.byteLength){if(0===this.shards.length)return new ArrayBuffer(0);if(e=isNaN(Number(e))?0:e,t=isNaN(Number(t))?0:t,e=Math.max(0,e),(t=Math.min(this.byteLength,t))<=e)return new ArrayBuffer(0);const n=this.findShardForByte(e);if(-1===n)throw new Error(`Could not find start shard for byte ${e}`);const r=new ArrayBuffer(t-e),a=new Uint8Array(r);let i=0;for(let s=n;s<this.shards.length;s++){const n=this.shards[s],r=e+i-n.start,o=i,l=Math.min(t,n.end)-n.start,c=new Uint8Array(n.buffer,r,l-r);if(a.set(c,o),i+=c.length,t<n.end)break}return r}findShardForByte(e){if(0===this.shards.length||e<0||e>=this.byteLength)return-1;if(null!=this.bufferUniformSize)return this.previousShardIndex=Math.floor(e/this.bufferUniformSize),this.previousShardIndex;function t(t){return e<t.start?-1:e>=t.end?1:0}if(0===t(this.shards[this.previousShardIndex]))return this.previousShardIndex;const n=function(e,t){let n=0,r=e.length;for(;n<=r;){const a=Math.floor((r-n)/2)+n,i=t(e[a]);if(0===i)return a;i<0?r=a:n=a+1}return-1}(this.shards,t);return-1===n?-1:(this.previousShardIndex=n,this.previousShardIndex)}}function S1(){return o1}function N1(){return o1.memory()}function E1(e,t){return o1.tidy(e,t)}function A1(e){t1(e).forEach(e=>e.dispose())}function C1(e){return o1.keep(e)}function j1(e){return o1.setBackend(e)}function M1(e,t,n=1){return o1.registerBackend(e,t,n)}async function T1(e,t){const n=[],r=[],a=Array.isArray(e)?e.map(e=>e.name):Object.keys(e);for(let i=0;i<a.length;++i){const s=a[i],o=Array.isArray(e)?e[i].tensor:e[s];if("float32"!==o.dtype&&"int32"!==o.dtype&&"bool"!==o.dtype&&"string"!==o.dtype&&"complex64"!==o.dtype)throw new Error(`Unsupported dtype in weight '${s}': ${o.dtype}`);const l={name:s,shape:o.shape,dtype:o.dtype};if("string"===o.dtype){const e=new Promise(async e=>{const t=await o.bytes(),n=t.reduce((e,t)=>e+t.length,0)+4*t.length,r=new Uint8Array(n);let a=0;for(let i=0;i<t.length;i++){const e=t[i],n=new Uint8Array(new Uint32Array([e.length]).buffer);r.set(n,a),a+=4,r.set(e,a),a+=e.length}e(r)});r.push(e)}else r.push(o.data());null!=t&&(l.group=t),n.push(l)}return{data:P1(await Promise.all(r)),specs:n}}function I1(e,t){const n=eX(e.shape);let r;if("quantization"in e){const t=e.quantization;r=w1[t.dtype]}else{if("string"===e.dtype){let e=0;for(let r=0;r<n;r++)e+=4+new Uint32Array(t(e,e+4))[0];return e}r=w1[e.dtype]}return n*r}function O1(e,t){const n=e.name,r=e.dtype,a=e.shape,i=eX(a);let s,o=0;if("quantization"in e){const a=e.quantization;if("uint8"===a.dtype||"uint16"===a.dtype){if(!("min"in a)||!("scale"in a))throw new Error(`Weight ${e.name} with quantization ${a.dtype} doesn't have corresponding metadata min and scale.`)}else{if("float16"!==a.dtype)throw new Error(`Weight ${e.name} has unknown quantization dtype ${a.dtype}. Supported quantization dtypes are: 'uint8', 'uint16', and 'float16'.`);if("float32"!==r)throw new Error(`Weight ${e.name} is quantized with ${a.dtype} which only supports weights of type float32 not ${r}.`)}const l=w1[a.dtype],c="uint8"===a.dtype?new Uint8Array(t):new Uint16Array(t);if("float32"===r)if("uint8"===a.dtype||"uint16"===a.dtype){s=new Float32Array(c.length);for(let e=0;e<c.length;e++){const t=c[e];s[e]=t*a.scale+a.min}}else{if("float16"!==a.dtype)throw new Error(`Unsupported quantization type ${a.dtype} for weight type float32.`);{const e=function(){const e=function(){const e=e=>{let t=e<<13,n=0;for(;!(8388608&t);)n-=8388608,t<<=1;return t&=-8388609,n+=947912704,t|n},t=new Uint32Array(2048);t[0]=0;for(let n=1;n<1024;n++)t[n]=e(n);for(let n=1024;n<2048;n++)t[n]=939524096+(n-1024<<13);return t}(),t=function(){const e=new Uint32Array(64);e[0]=0,e[31]=1199570944,e[32]=2147483648,e[63]=3347054592;for(let t=1;t<31;t++)e[t]=t<<23;for(let t=33;t<63;t++)e[t]=2147483648+(t-32<<23);return e}(),n=function(){const e=new Uint32Array(64);for(let t=0;t<64;t++)e[t]=1024;return e[0]=e[32]=0,e}();return r=>{const a=new ArrayBuffer(4*r.length),i=new Uint32Array(a);for(let s=0;s<r.length;s++){const a=r[s],o=e[n[a>>10]+(1023&a)]+t[a>>10];i[s]=o}return new Float32Array(a)}}();s=e(c)}}else{if("int32"!==r)throw new Error(`Unsupported dtype in weight '${n}': ${r}`);if("uint8"!==a.dtype&&"uint16"!==a.dtype)throw new Error(`Unsupported quantization type ${a.dtype} for weight type int32.`);s=new Int32Array(c.length);for(let e=0;e<c.length;e++){const t=c[e];s[e]=Math.round(t*a.scale+a.min)}}o+=i*l}else if("string"===r){const n=eX(e.shape);s=[];for(let e=0;e<n;e++){const e=new Uint32Array(t.slice(o,o+4))[0];o+=4;const n=new Uint8Array(t.slice(o,o+e));s.push(n),o+=e}}else{const e=w1[r];if("float32"===r)s=new Float32Array(t);else if("int32"===r)s=new Int32Array(t);else{if("bool"!==r){if("complex64"===r){s=new Float32Array(t);const e=new Float32Array(s.length/2),n=new Float32Array(s.length/2);for(let t=0;t<e.length;t++)e[t]=s[2*t],n[t]=s[2*t+1];const r=v1(e,a,"float32"),i=v1(n,a,"float32"),o=x1(r,i);return r.dispose(),i.dispose(),o}throw new Error(`Unsupported dtype in weight '${n}': ${r}`)}s=new Uint8Array(t)}o+=i*e}return v1(s,a,r)}function P1(e){if(null===e)throw new Error(`Invalid input value: ${JSON.stringify(e)}`);let t=0;const n=[];e.forEach(e=>{if(t+=e.byteLength,n.push(e.byteLength===e.buffer.byteLength?e:new e.constructor(e)),!(e instanceof Float32Array||e instanceof Int32Array||e instanceof Uint8Array))throw new Error(`Unsupported TypedArray subtype: ${e.constructor.name}`)});const r=new Uint8Array(t);let a=0;return n.forEach(e=>{r.set(new Uint8Array(e.buffer),a),a+=e.byteLength}),r.buffer}const R1="undefined"!=typeof Buffer&&("undefined"==typeof Blob||"undefined"==typeof atob||"undefined"==typeof btoa);function _1(e){return R1?Buffer.byteLength(e,"utf8"):new Blob([e]).size}async function L1(e,t){let n,r;return null!=e.weightsManifest&&([n,r]=await t(e.weightsManifest)),function(e,t,n){const r={modelTopology:e.modelTopology,format:e.format,generatedBy:e.generatedBy,convertedBy:e.convertedBy};if(null!=e.trainingConfig&&(r.trainingConfig=e.trainingConfig),null!=e.weightsManifest){if(!t)throw new Error("modelJSON has weightsManifest but weightSpecs is null");if(!n)throw new Error("modelJSON has weightsManifest but weightData is null");r.weightSpecs=t,r.weightData=n}return null!=e.signature&&(r.signature=e.signature),null!=e.userDefinedMetadata&&(r.userDefinedMetadata=e.userDefinedMetadata),null!=e.modelInitializer&&(r.modelInitializer=e.modelInitializer),null!=e.initializerSignature&&(r.initializerSignature=e.initializerSignature),r}(e,n,r)}function $1(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("Expected JSON model topology, received ArrayBuffer.");return{dateSaved:new Date,modelTopologyType:"JSON",modelTopologyBytes:null==e.modelTopology?0:_1(JSON.stringify(e.modelTopology)),weightSpecsBytes:null==e.weightSpecs?0:_1(JSON.stringify(e.weightSpecs)),weightDataBytes:null==e.weightData?0:new k1(e.weightData).byteLength}}function F1(e){const t=[];for(const n of e)t.push(...n.weights);return t}class D1{constructor(){this.saveRouters=[],this.loadRouters=[]}static getInstance(){return null==D1.instance&&(D1.instance=new D1),D1.instance}static registerSaveRouter(e){D1.getInstance().saveRouters.push(e)}static registerLoadRouter(e){D1.getInstance().loadRouters.push(e)}static getSaveHandlers(e){return D1.getHandlers(e,"save")}static getLoadHandlers(e,t){return D1.getHandlers(e,"load",t)}static getHandlers(e,t,n){const r=[];return("load"===t?D1.getInstance().loadRouters:D1.getInstance().saveRouters).forEach(t=>{const a=t(e,n);null!==a&&r.push(a)}),r}}const z1="tensorflowjs",V1="models_store",B1="model_info_store";function H1(){if(!IX().getBool("IS_BROWSER"))throw new Error("Failed to obtain IndexedDB factory because the current environmentis not a web browser.");const e="undefined"==typeof window?self:window,t=e.indexedDB||e.mozIndexedDB||e.webkitIndexedDB||e.msIndexedDB||e.shimIndexedDB;if(null==t)throw new Error("The current browser does not appear to support IndexedDB.");return t}function U1(e){const t=e.result;t.createObjectStore(V1,{keyPath:"modelPath"}),t.createObjectStore(B1,{keyPath:"modelPath"})}class W1{constructor(e){if(this.indexedDB=H1(),null==e||!e)throw new Error("For IndexedDB, modelPath must not be null, undefined or empty.");this.modelPath=e}async save(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");return this.databaseAction(this.modelPath,e)}async load(){return this.databaseAction(this.modelPath)}databaseAction(e,t){return new Promise((e,n)=>{const r=this.indexedDB.open(z1,1);r.onupgradeneeded=()=>U1(r),r.onsuccess=()=>{const a=r.result;if(null==t){const t=a.transaction(V1,"readonly"),r=t.objectStore(V1).get(this.modelPath);r.onsuccess=()=>{if(null==r.result)return a.close(),n(new Error(`Cannot find model with path '${this.modelPath}' in IndexedDB.`));e(r.result.modelArtifacts)},r.onerror=e=>(a.close(),n(r.error)),t.oncomplete=()=>a.close()}else{t.weightData=k1.join(t.weightData);const r=$1(t),s=a.transaction(B1,"readwrite");let o,l,c=s.objectStore(B1);try{o=c.put({modelPath:this.modelPath,modelArtifactsInfo:r})}catch(i){return n(i)}o.onsuccess=()=>{l=a.transaction(V1,"readwrite");const o=l.objectStore(V1);let u;try{u=o.put({modelPath:this.modelPath,modelArtifacts:t,modelArtifactsInfo:r})}catch(i){return n(i)}u.onsuccess=()=>e({modelArtifactsInfo:r}),u.onerror=e=>{c=s.objectStore(B1);const t=c.delete(this.modelPath);t.onsuccess=()=>(a.close(),n(u.error)),t.onerror=e=>(a.close(),n(u.error))}},o.onerror=e=>(a.close(),n(o.error)),s.oncomplete=()=>{null==l?a.close():l.oncomplete=()=>a.close()}}},r.onerror=e=>n(r.error)})}}W1.URL_SCHEME="indexeddb://";const Z1=e=>{return IX().getBool("IS_BROWSER")&&!Array.isArray(e)&&e.startsWith(W1.URL_SCHEME)?(t=e.slice(W1.URL_SCHEME.length),new W1(t)):null;var t};D1.registerSaveRouter(Z1),D1.registerLoadRouter(Z1);class G1{constructor(){this.indexedDB=H1()}async listModels(){return new Promise((e,t)=>{const n=this.indexedDB.open(z1,1);n.onupgradeneeded=()=>U1(n),n.onsuccess=()=>{const r=n.result,a=r.transaction(B1,"readonly"),i=a.objectStore(B1).getAll();i.onsuccess=()=>{const t={};for(const e of i.result)t[e.modelPath]=e.modelArtifactsInfo;e(t)},i.onerror=e=>(r.close(),t(i.error)),a.oncomplete=()=>r.close()},n.onerror=e=>t(n.error)})}async removeModel(e){var t;return e=(t=e).startsWith(W1.URL_SCHEME)?t.slice(W1.URL_SCHEME.length):t,new Promise((t,n)=>{const r=this.indexedDB.open(z1,1);r.onupgradeneeded=()=>U1(r),r.onsuccess=()=>{const a=r.result,i=a.transaction(B1,"readwrite"),s=i.objectStore(B1),o=s.get(e);let l;o.onsuccess=()=>{if(null==o.result)return a.close(),n(new Error(`Cannot find model with path '${e}' in IndexedDB.`));{const r=s.delete(e),i=()=>{l=a.transaction(V1,"readwrite");const r=l.objectStore(V1).delete(e);r.onsuccess=()=>t(o.result.modelArtifactsInfo),r.onerror=e=>n(o.error)};r.onsuccess=i,r.onerror=e=>(i(),a.close(),n(o.error))}},o.onerror=e=>(a.close(),n(o.error)),i.oncomplete=()=>{null==l?a.close():l.oncomplete=()=>a.close()}},r.onerror=e=>n(r.error)})}}const K1="/",q1="tensorflowjs_models",X1="info",Y1="model_topology",Q1="weight_specs",J1="weight_data",e2="model_metadata";function t2(e){return{info:[q1,e,X1].join(K1),topology:[q1,e,Y1].join(K1),weightSpecs:[q1,e,Q1].join(K1),weightData:[q1,e,J1].join(K1),modelMetadata:[q1,e,e2].join(K1)}}function n2(e){for(const t of Object.values(e))window.localStorage.removeItem(t)}function r2(e){const t=e.split(K1);if(t.length<3)throw new Error(`Invalid key format: ${e}`);return t.slice(1,t.length-1).join(K1)}class a2{constructor(e){if(!IX().getBool("IS_BROWSER")||"undefined"==typeof window||void 0===window.localStorage)throw new Error("The current environment does not support local storage.");if(this.LS=window.localStorage,null==e||!e)throw new Error("For local storage, modelPath must not be null, undefined or empty.");this.modelPath=e,this.keys=t2(this.modelPath)}async save(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");{const n=JSON.stringify(e.modelTopology),r=JSON.stringify(e.weightSpecs),a=$1(e),i=k1.join(e.weightData);try{this.LS.setItem(this.keys.info,JSON.stringify(a)),this.LS.setItem(this.keys.topology,n),this.LS.setItem(this.keys.weightSpecs,r),this.LS.setItem(this.keys.weightData,function(e){if(R1)return Buffer.from(e).toString("base64");const t=new Uint8Array(e);let n="";for(let r=0,a=t.length;r<a;r++)n+=String.fromCharCode(t[r]);return btoa(n)}(i));const t={format:e.format,generatedBy:e.generatedBy,convertedBy:e.convertedBy,signature:null!=e.signature?e.signature:void 0,userDefinedMetadata:null!=e.userDefinedMetadata?e.userDefinedMetadata:void 0,modelInitializer:null!=e.modelInitializer?e.modelInitializer:void 0,initializerSignature:null!=e.initializerSignature?e.initializerSignature:void 0,trainingConfig:null!=e.trainingConfig?e.trainingConfig:void 0};return this.LS.setItem(this.keys.modelMetadata,JSON.stringify(t)),{modelArtifactsInfo:a}}catch(t){throw n2(this.keys),new Error(`Failed to save model '${this.modelPath}' to local storage: size quota being exceeded is a possible cause of this failure: modelTopologyBytes=${a.modelTopologyBytes}, weightSpecsBytes=${a.weightSpecsBytes}, weightDataBytes=${a.weightDataBytes}.`)}}}async load(){const e=JSON.parse(this.LS.getItem(this.keys.info));if(null==e)throw new Error(`In local storage, there is no model with name '${this.modelPath}'`);if("JSON"!==e.modelTopologyType)throw new Error("BrowserLocalStorage does not support loading non-JSON model topology yet.");const t={},n=JSON.parse(this.LS.getItem(this.keys.topology));if(null==n)throw new Error(`In local storage, the topology of model '${this.modelPath}' is missing.`);t.modelTopology=n;const r=JSON.parse(this.LS.getItem(this.keys.weightSpecs));if(null==r)throw new Error(`In local storage, the weight specs of model '${this.modelPath}' are missing.`);t.weightSpecs=r;const a=this.LS.getItem(this.keys.modelMetadata);if(null!=a){const e=JSON.parse(a);t.format=e.format,t.generatedBy=e.generatedBy,t.convertedBy=e.convertedBy,null!=e.signature&&(t.signature=e.signature),null!=e.userDefinedMetadata&&(t.userDefinedMetadata=e.userDefinedMetadata),null!=e.modelInitializer&&(t.modelInitializer=e.modelInitializer),null!=e.initializerSignature&&(t.initializerSignature=e.initializerSignature),null!=e.trainingConfig&&(t.trainingConfig=e.trainingConfig)}const i=this.LS.getItem(this.keys.weightData);if(null==i)throw new Error(`In local storage, the binary weight values of model '${this.modelPath}' are missing.`);return t.weightData=function(e){if(R1){const t=Buffer.from(e,"base64");return t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength)}const t=atob(e),n=new Uint8Array(t.length);for(let r=0;r<t.length;++r)n.set([t.charCodeAt(r)],r);return n.buffer}(i),t}}a2.URL_SCHEME="localstorage://";const i2=e=>{return IX().getBool("IS_BROWSER")&&!Array.isArray(e)&&e.startsWith(a2.URL_SCHEME)?(t=e.slice(a2.URL_SCHEME.length),new a2(t)):null;var t};D1.registerSaveRouter(i2),D1.registerLoadRouter(i2);class s2{constructor(){Yq(IX().getBool("IS_BROWSER"),()=>"Current environment is not a web browser"),Yq("undefined"==typeof window||void 0!==window.localStorage,()=>"Current browser does not appear to support localStorage"),this.LS=window.localStorage}async listModels(){const e={},t=q1+K1,n=K1+X1;for(let r=0;r<this.LS.length;++r){const a=this.LS.key(r);if(a.startsWith(t)&&a.endsWith(n)){e[r2(a)]=JSON.parse(this.LS.getItem(a))}}return e}async removeModel(e){var t;const n=t2(e=(t=e).startsWith(a2.URL_SCHEME)?t.slice(a2.URL_SCHEME.length):t);if(null==this.LS.getItem(n.info))throw new Error(`Cannot find model at path '${e}'`);const r=JSON.parse(this.LS.getItem(n.info));return n2(n),r}}class o2{constructor(){this.managers={}}static getInstance(){return null==o2.instance&&(o2.instance=new o2),o2.instance}static registerManager(e,t){Yq(null!=e,()=>"scheme must not be undefined or null."),e.endsWith("://")&&(e=e.slice(0,e.indexOf("://"))),Yq(e.length>0,()=>"scheme must not be an empty string.");const n=o2.getInstance();Yq(null==n.managers[e],()=>`A model store manager is already registered for scheme '${e}'.`),n.managers[e]=t}static getManager(e){const t=o2.getInstance().managers[e];if(null==t)throw new Error(`Cannot find model manager for scheme '${e}'`);return t}static getSchemes(){return Object.keys(o2.getInstance().managers)}}class l2{constructor(){this.messageName="setTimeoutCustom",this.functionRefs=[],this.handledMessageCount=0,this.hasEventListener=!1}fetch(e,t){return fetch(e,t)}now(){return performance.now()}encode(e,t){if("utf-8"!==t&&"utf8"!==t)throw new Error(`Browser's encoder only supports utf-8, but got ${t}`);return null==this.textEncoder&&(this.textEncoder=new TextEncoder),this.textEncoder.encode(e)}decode(e,t){return new TextDecoder(t).decode(e)}setTimeoutCustom(e,t){"undefined"!=typeof window&&IX().getBool("USE_SETTIMEOUTCUSTOM")?(this.functionRefs.push(e),setTimeout(()=>{window.postMessage({name:this.messageName,index:this.functionRefs.length-1},"*")},t),this.hasEventListener||(this.hasEventListener=!0,window.addEventListener("message",e=>{if(e.source===window&&e.data.name===this.messageName){e.stopPropagation();(0,this.functionRefs[e.data.index])(),this.handledMessageCount++,this.handledMessageCount===this.functionRefs.length&&(this.functionRefs=[],this.handledMessageCount=0)}},!0))):setTimeout(e,t)}isTypedArray(e){return e0(e)}}if(IX().get("IS_BROWSER")){IX().setPlatform("browser",new l2);try{o2.registerManager(a2.URL_SCHEME,new s2)}catch(CTe){}try{o2.registerManager(W1.URL_SCHEME,new G1)}catch(CTe){}}const c2=()=>require("node-fetch");let u2;class h2{constructor(){this.util=require("util"),this.textEncoder=new this.util.TextEncoder}fetch(e,t){return null!=IX().global.fetch?IX().global.fetch(e,t):(null==u2&&(u2=c2()),u2(e,t))}now(){const e=process.hrtime();return 1e3*e[0]+e[1]/1e6}encode(e,t){if("utf-8"!==t&&"utf8"!==t)throw new Error(`Node built-in encoder only supports utf-8, but got ${t}`);return this.textEncoder.encode(e)}decode(e,t){return 0===e.length?"":new this.util.TextDecoder(t).decode(e)}isTypedArray(e){return this.util.types.isFloat32Array(e)||this.util.types.isInt32Array(e)||this.util.types.isUint8Array(e)||this.util.types.isUint8ClampedArray(e)}}function d2(e,t="float32",n){return t=t||"float32",NX(e),new P0(e,t,n)}IX().get("IS_NODE")&&!IX().get("IS_BROWSER")&&IX().setPlatform("node",new h2);const p2=y1({cast_:function(e,t){const n=m1(e,"x","cast");if(!function(e){return"bool"===e||"complex64"===e||"float32"===e||"int32"===e||"string"===e}(t))throw new Error(`Failed to cast to unknown dtype ${t}`);if("string"===t&&"string"!==n.dtype||"string"!==t&&"string"===n.dtype)throw new Error("Only strings can be casted to strings");const r={x:n},a={dtype:t};return o1.runKernel(iY,r,a)}});const f2=y1({clone_:function(e){const t={x:m1(e,"x","clone","string_or_numeric")};return o1.runKernel(XY,t)}});s1();_0={buffer:d2,cast:p2,clone:f2,print:function(e,t=!1){console.log(e.toString(t))}};const m2=y1({add_:function(e,t){let n=m1(e,"a","add"),r=m1(t,"b","add");[n,r]=e1(n,r);const a={a:n,b:r};return o1.runKernel(DX,a)}});const g2=y1({floorDiv_:function(e,t){let n=m1(e,"a","floorDiv"),r=m1(t,"b","floorDiv");[n,r]=e1(n,r);const a={a:n,b:r};return o1.runKernel(UY,a)}});const y2=y1({div_:function(e,t){let n=m1(e,"a","div"),r=m1(t,"b","div");if([n,r]=e1(n,r),"int32"===n.dtype&&"int32"===r.dtype)return g2(n,r);const a={a:n,b:r};return o1.runKernel(IY,a,{})}});const x2=y1({mul_:function(e,t){let n=m1(e,"a","mul"),r=m1(t,"b","mul");[n,r]=e1(n,r);const a={a:n,b:r};return o1.runKernel(AQ,a)}});const b2=y1({abs_:function(e){const t=m1(e,"x","abs");if("complex64"===t.dtype){const e={x:t};return o1.runKernel(cY,e)}{const e={x:t};return o1.runKernel(LX,e)}}});const v2=y1({acos_:function(e){const t={x:m1(e,"x","acos")};return o1.runKernel($X,t)}});const w2=y1({acosh_:function(e){const t={x:m1(e,"x","acosh")};return o1.runKernel(FX,t)}});const k2=y1({all_:function(e,t=null,n=!1){const r={x:m1(e,"x","all","bool")},a={axis:t,keepDims:n};return o1.runKernel(VX,r,a)}});const S2=y1({any_:function(e,t=null,n=!1){const r={x:m1(e,"x","any","bool")},a={axis:t,keepDims:n};return o1.runKernel(BX,r,a)}});const N2=y1({argMax_:function(e,t=0){const n={x:m1(e,"x","argMax")},r={axis:t};return o1.runKernel(HX,n,r)}});const E2=y1({argMin_:function(e,t=0){const n={x:m1(e,"x","argMin")},r={axis:t};return o1.runKernel(UX,n,r)}});const A2=y1({asin_:function(e){const t={x:m1(e,"x","asin")};return o1.runKernel(WX,t)}});const C2=y1({asinh_:function(e){const t={x:m1(e,"x","asinh")};return o1.runKernel(ZX,t)}});const j2=y1({atan_:function(e){const t={x:m1(e,"x","atan")};return o1.runKernel(GX,t)}});const M2=y1({atan2_:function(e,t){let n=m1(e,"a","atan2"),r=m1(t,"b","atan2");[n,r]=e1(n,r);const a={a:n,b:r};return o1.runKernel(qX,a)}});const T2=y1({atanh_:function(e){const t={x:m1(e,"x","atanh")};return o1.runKernel(KX,t)}});function I2(e,t,n,r,a="NHWC",i){return R2(e,[...t,e[3]],n,i,r,null,null,U2(a))}function O2(e,t,n,r,a,i,s="channelsLast"){const[o,l]=$2(t);let c;if("channelsLast"===s)c=[o,l,e[3],e[3]];else{if("channelsFirst"!==s)throw new Error(`Unknown dataFormat ${s}`);c=[o,l,e[1],e[1]]}return R2(e,c,n,r,a,i,!1,s)}function P2(e,t,n,r,a,i,s="NDHWC"){const[o,l,c]=F2(t);let u,h;if("NDHWC"===s)h="channelsLast",u=[o,l,c,e[4],e[4]];else{if("NCDHW"!==s)throw new Error(`Unknown dataFormat ${s}`);h="channelsFirst",u=[o,l,c,e[1],e[1]]}return _2(e,u,n,r,a,!1,h,i)}function R2(e,t,n,r,a,i,s=!1,o="channelsLast"){let[l,c,u,h]=[-1,-1,-1,-1];if("channelsLast"===o)[l,c,u,h]=e;else{if("channelsFirst"!==o)throw new Error(`Unknown dataFormat ${o}`);[l,h,c,u]=e}const[d,p,,f]=t,[m,g]=$2(n),[y,x]=$2(r),b=D2(d,y),v=D2(p,x),{padInfo:w,outHeight:k,outWidth:S}=function(e,t,n,r,a,i,s,o,l){let c,u,h;if("number"==typeof e){c={top:e,bottom:e,left:e,right:e,type:0===e?"VALID":"NUMBER"};const a=function(e,t,n,r,a){null==r&&(r=L2(e,t,n));const i=e[0],s=e[1],o=z2((i-t+2*r)/n+1,a),l=z2((s-t+2*r)/n+1,a);return[o,l]}([t,n],i,r,e,o);u=a[0],h=a[1]}else if("same"===e){u=Math.ceil(t/r),h=Math.ceil(n/a);const e=Math.max(0,(u-1)*r+i-t),o=Math.max(0,(h-1)*a+s-n),l=Math.floor(e/2),d=e-l,p=Math.floor(o/2);c={top:l,bottom:d,left:p,right:o-p,type:"SAME"}}else if("valid"===e)c={top:0,bottom:0,left:0,right:0,type:"VALID"},u=Math.ceil((t-i+1)/r),h=Math.ceil((n-s+1)/a);else{if("object"!=typeof e)throw Error(`Unknown padding parameter: ${e}`);{const d="channelsLast"===l?e[1][0]:e[2][0],p="channelsLast"===l?e[1][1]:e[2][1],f="channelsLast"===l?e[2][0]:e[3][0],m="channelsLast"===l?e[2][1]:e[3][1];c={top:d,bottom:p,left:f,right:m,type:0===d&&0===p&&0===f&&0===m?"VALID":"EXPLICIT"},u=z2((t-i+d+p)/r+1,o),h=z2((n-s+f+m)/a+1,o)}}return{padInfo:c,outHeight:u,outWidth:h}}(a,c,u,m,g,b,v,i,o),N=s?f*h:f;let E;return"channelsFirst"===o?E=[l,N,k,S]:"channelsLast"===o&&(E=[l,k,S,N]),{batchSize:l,dataFormat:o,inHeight:c,inWidth:u,inChannels:h,outHeight:k,outWidth:S,outChannels:N,padInfo:w,strideHeight:m,strideWidth:g,filterHeight:d,filterWidth:p,effectiveFilterHeight:b,effectiveFilterWidth:v,dilationHeight:y,dilationWidth:x,inShape:e,outShape:E,filterShape:t}}function _2(e,t,n,r,a,i=!1,s="channelsLast",o){let[l,c,u,h,d]=[-1,-1,-1,-1,-1];if("channelsLast"===s)[l,c,u,h,d]=e;else{if("channelsFirst"!==s)throw new Error(`Unknown dataFormat ${s}`);[l,d,c,u,h]=e}const[p,f,m,,g]=t,[y,x,b]=F2(n),[v,w,k]=F2(r),S=D2(p,v),N=D2(f,w),E=D2(m,k),{padInfo:A,outDepth:C,outHeight:j,outWidth:M}=function(e,t,n,r,a,i,s,o,l,c,u){let h,d,p,f;"valid"===e&&(e=0);if("number"==typeof e){h={top:e,bottom:e,left:e,right:e,front:e,back:e,type:0===e?"VALID":"NUMBER"};const m=function(e,t,n,r,a,i){null==a&&(a=L2(e,t[0],r[0]));const s=[0,0,0,n];for(let o=0;o<3;o++)e[o]+2*a>=t[o]&&(s[o]=z2((e[o]-t[o]+2*a)/r[o]+1,i));return s}([t,n,r,1],[o,l,c],1,[a,i,s],e,u);d=m[0],p=m[1],f=m[2]}else{if("same"!==e)throw Error(`Unknown padding parameter: ${e}`);{d=Math.ceil(t/a),p=Math.ceil(n/i),f=Math.ceil(r/s);const e=(d-1)*a+o-t,u=(p-1)*i+l-n,m=(f-1)*s+c-r,g=Math.floor(e/2),y=e-g,x=Math.floor(u/2),b=u-x,v=Math.floor(m/2);h={top:x,bottom:b,left:v,right:m-v,front:g,back:y,type:"SAME"}}}return{padInfo:h,outDepth:d,outHeight:p,outWidth:f}}(a,c,u,h,y,x,b,S,N,E,o),T=i?g*d:g;let I;return"channelsFirst"===s?I=[l,T,C,j,M]:"channelsLast"===s&&(I=[l,C,j,M,T]),{batchSize:l,dataFormat:s,inDepth:c,inHeight:u,inWidth:h,inChannels:d,outDepth:C,outHeight:j,outWidth:M,outChannels:T,padInfo:A,strideDepth:y,strideHeight:x,strideWidth:b,filterDepth:p,filterHeight:f,filterWidth:m,effectiveFilterDepth:S,effectiveFilterHeight:N,effectiveFilterWidth:E,dilationDepth:v,dilationHeight:w,dilationWidth:k,inShape:e,outShape:I,filterShape:t}}function L2(e,t,n,r=1){const a=D2(t,r);return Math.floor((e[0]*(n-1)-n+a)/2)}function $2(e){return"number"==typeof e?[e,e,e]:2===e.length?[e[0],e[1],1]:e}function F2(e){return"number"==typeof e?[e,e,e]:e}function D2(e,t){return t<=1?e:e+(e-1)*(t-1)}function z2(e,t){if(!t)return Math.trunc(e);switch(t){case"round":return Math.round(e);case"ceil":return Math.ceil(e);case"floor":return Math.floor(e);default:throw new Error(`Unknown roundingMode ${t}`)}}function V2(e){const[t,n,r]=$2(e);return 1===t&&1===n&&1===r}function B2(e,t){return V2(e)||V2(t)}function H2(e){return $2(e).every(e=>e>0)}function U2(e){if("NHWC"===e)return"channelsLast";if("NCHW"===e)return"channelsFirst";throw new Error(`Unknown dataFormat ${e}`)}function W2(e,t,n){if(null!=n){if("string"==typeof t)throw Error(`Error in ${e}: pad must be an integer when using dimRoundingMode ${n} but got pad ${t}.`);if("number"==typeof t)Yq(nX(t),()=>`Error in ${e}: pad must be an integer when using dimRoundingMode ${n} but got pad ${t}.`);else{if("object"!=typeof t)throw Error(`Error in ${e}: Unknown padding parameter: ${t}`);t.forEach(t=>{t.forEach(t=>{Yq(nX(t),()=>`Error in ${e}: pad must be an integer when using dimRoundingMode ${n} but got pad ${t}.`)})})}}}const Z2=y1({reshape_:function(e,t){const n={x:m1(e,"x","reshape","string_or_numeric")},r={shape:t};return o1.runKernel(ZQ,n,r)}});const G2=y1({avgPool_:function(e,t,n,r,a){const i=m1(e,"x","avgPool","float32");Yq(B2(n,1),()=>`Error in avgPool: Either strides or dilations must be 1. Got strides ${n} and dilations '1'`);let s=i,o=!1;3===i.rank&&(o=!0,s=Z2(i,[1,i.shape[0],i.shape[1],i.shape[2]])),Yq(4===s.rank,()=>`Error in avgPool: x must be rank 4 but got rank ${s.rank}.`),W2("avgPool",r,a);const l={x:s},c={filterSize:t,strides:n,pad:r,dimRoundingMode:a};let u=o1.runKernel(XX,l,c);return u=p2(u,i.dtype),o?Z2(u,[u.shape[1],u.shape[2],u.shape[3]]):u}});const K2=y1({avgPool3d_:function(e,t,n,r,a,i="NDHWC"){const s=m1(e,"x","avgPool3d","float32");let o=s,l=!1;4===s.rank&&(l=!0,o=Z2(s,[1,s.shape[0],s.shape[1],s.shape[2],s.shape[3]])),Yq(5===o.rank,()=>`Error in avgPool3d: x must be rank 5 but got rank ${o.rank}.`),Yq("NDHWC"===i,()=>`Error in avgPool3d: Only NDHWC is currently supported, but got dataFormat of ${i}`),Yq("number"==typeof n&&n>0||Array.isArray(n)&&n[0]>0&&n[1]>0&&n[2]>0,()=>`Error in avgPool3d: Stride must be > 0, but got '${n}'`),W2("avgPool3d",r,a);const c={x:o},u={filterSize:t,strides:n,pad:r,dimRoundingMode:a,dataFormat:i};let h=o1.runKernel(QX,c,u);return h=p2(h,o.dtype),l?Z2(h,[h.shape[1],h.shape[2],h.shape[3],h.shape[4]]):h}});const q2=y1({concat_:function(e,t=0){Yq(e.length>=1,()=>"Pass at least one tensor to concat");const n=g1(e,"tensors","concat","string_or_numeric");if("complex64"===n[0].dtype&&n.forEach(e=>{if("complex64"!==e.dtype)throw new Error(`Cannot concatenate complex64 tensors with a tensor\n          with dtype ${e.dtype}. `)}),1===n.length)return f2(n[0]);const r=n,a={axis:t};return o1.runKernel(uY,r,a)}});const X2=y1({matMul_:function(e,t,n=!1,r=!1){let a=m1(e,"a","matMul"),i=m1(t,"b","matMul");[a,i]=e1(a,i);const s={a:a,b:i},o={transposeA:n,transposeB:r};return o1.runKernel(eY,s,o)}});const Y2=y1({sigmoid_:function(e){const t={x:m1(e,"x","sigmoid","float32")};return o1.runKernel(uJ,t)}});const Q2=y1({slice_:function(e,t,n){const r=m1(e,"x","slice","string_or_numeric");if(0===r.rank)throw new Error("Slicing scalar is not possible");const a={x:r},i={begin:t,size:n};return o1.runKernel(sJ,a,i)}});const J2=y1({tanh_:function(e){const t={x:m1(e,"x","tanh","float32")};return o1.runKernel(IJ,t)}});const e4=y1({batchToSpaceND_:function(e,t,n){const r=m1(e,"x","batchToSpaceND"),a=t.reduce((e,t)=>e*t);Yq(r.rank>=1+t.length,()=>`input rank is ${r.rank} but should be > than blockShape.length ${t.length}`),Yq(n.length===t.length,()=>`crops.length is ${n.length} but should be equal to blockShape.length  ${t.length}`),Yq(r.shape[0]%a===0,()=>`input tensor batch is ${r.shape[0]} but is not divisible by the product of the elements of blockShape ${t.join(" * ")} === ${a}`);const i={x:r},s={blockShape:t,crops:n};return o1.runKernel(tY,i,s)}});const t4=y1({batchNorm_:function(e,t,n,r,a,i){null==i&&(i=.001);const s=m1(e,"x","batchNorm"),o=m1(t,"mean","batchNorm"),l=m1(n,"variance","batchNorm");let c,u;null!=a&&(c=m1(a,"scale","batchNorm")),null!=r&&(u=m1(r,"offset","batchNorm")),Yq(o.rank===l.rank,()=>"Batch normalization gradient requires mean and variance to have equal ranks."),Yq(null==u||o.rank===u.rank,()=>"Batch normalization gradient requires mean and offset to have equal ranks."),Yq(null==c||o.rank===c.rank,()=>"Batch normalization gradient requires mean and scale to have equal ranks.");const h={x:function(e){let t;return t=0===e.rank||1===e.rank?Z2(e,[1,1,1,e.size]):2===e.rank?Z2(e,[1,1,e.shape[0],e.shape[1]]):3===e.rank?Z2(e,[1,e.shape[0],e.shape[1],e.shape[2]]):e,t}(s),scale:c,offset:u,mean:o,variance:l},d={varianceEpsilon:i},p=o1.runKernel(WY,h,d);return Z2(p,s.shape)}});const n4=y1({batchNorm2d_:function(e,t,n,r,a,i){const s=m1(e,"x","batchNorm"),o=m1(t,"mean","batchNorm"),l=m1(n,"variance","batchNorm");let c,u;return null!=a&&(c=m1(a,"scale","batchNorm")),null!=r&&(u=m1(r,"offset","batchNorm")),Yq(2===s.rank,()=>`Error in batchNorm2D: x must be rank 2 but got rank ${s.rank}.`),Yq(2===o.rank||1===o.rank,()=>`Error in batchNorm2D: mean must be rank 2 or rank 1 but got rank ${o.rank}.`),Yq(2===l.rank||1===l.rank,()=>`Error in batchNorm2D: variance must be rank 2 or rank 1 but got rank ${l.rank}.`),null!=c&&Yq(2===c.rank||1===c.rank,()=>`Error in batchNorm2D: scale must be rank 2 or rank 1 but got rank ${c.rank}.`),null!=u&&Yq(2===u.rank||1===u.rank,()=>`Error in batchNorm2D: offset must be rank 2 or rank 1 but got rank ${u.rank}.`),t4(s,o,l,u,c,i)}});const r4=y1({batchNorm3d_:function(e,t,n,r,a,i){const s=m1(e,"x","batchNorm"),o=m1(t,"mean","batchNorm"),l=m1(n,"variance","batchNorm");let c,u;return null!=a&&(c=m1(a,"scale","batchNorm")),null!=r&&(u=m1(r,"offset","batchNorm")),Yq(3===s.rank,()=>`Error in batchNorm3D: x must be rank 3 but got rank ${s.rank}.`),Yq(3===o.rank||1===o.rank,()=>`Error in batchNorm3D: mean must be rank 3 or rank 1 but got rank ${o.rank}.`),Yq(3===l.rank||1===l.rank,()=>`Error in batchNorm3D: variance must be rank 3 or rank 1 but got rank ${l.rank}.`),null!=c&&Yq(3===c.rank||1===c.rank,()=>`Error in batchNorm3D: scale must be rank 3 or rank 1 but got rank ${c.rank}.`),null!=u&&Yq(3===u.rank||1===u.rank,()=>`Error in batchNorm3D: offset must be rank 3 or rank 1 but got rank ${u.rank}.`),t4(s,o,l,u,c,i)}});const a4=y1({batchNorm4d_:function(e,t,n,r,a,i){const s=m1(e,"x","batchNorm"),o=m1(t,"mean","batchNorm"),l=m1(n,"variance","batchNorm");let c,u;return null!=a&&(c=m1(a,"scale","batchNorm")),null!=r&&(u=m1(r,"offset","batchNorm")),Yq(4===s.rank,()=>`Error in batchNorm4D: x must be rank 4 but got rank ${s.rank}.`),Yq(4===o.rank||1===o.rank,()=>`Error in batchNorm4D: mean must be rank 4 or rank 1 but got rank ${o.rank}.`),Yq(4===l.rank||1===l.rank,()=>`Error in batchNorm4D: variance must be rank 4 or rank 1 but got rank ${l.rank}.`),null!=c&&Yq(4===c.rank||1===c.rank,()=>`Error in batchNorm4D: scale must be rank 4 or rank 1 but got rank ${c.rank}.`),null!=u&&Yq(4===u.rank||1===u.rank,()=>`Error in batchNorm4D: offset must be rank 4 or rank 1 but got rank ${u.rank}.`),t4(s,o,l,u,c,i)}});const i4=y1({bincount_:function(e,t,n){const r=m1(e,"x","bincount"),a=m1(t,"weights","bincount");Yq("int32"===r.dtype,()=>`Error in bincount: input dtype must be int32, but got ${r.dtype}`),Yq(n>=0,()=>`size must be non-negative, but got ${n}.`),Yq(a.size===r.size||0===a.size,()=>`Error in bincount: weights must have the same size as input or0-length, but got input shape: ${r.shape}, weights shape: ${a.shape}.`);const i={x:r,weights:a},s={size:n};return o1.runKernel(nY,i,s)}});const s4=y1({broadcastTo_:function(e,t){let n=m1(e,"broadcastTo","x");const r=n.shape;if(NX(t),t.length<n.rank)throw new Error(`broadcastTo(): shape.length=${t.length} < input.rank=${n.rank}.`);if(t.length>n.rank){const e=n.shape.slice();for(;e.length<t.length;)e.unshift(1);n=Z2(n,e)}const a=n.shape,i=Array.from(t);for(let l=t.length-1;l>=0;l--)if(a[l]===t[l])i[l]=1;else if(1!==n.shape[l])throw new Error(`broadcastTo(): [${r}] cannot be broadcast to [${t}].`);if(0===i.map((e,t)=>e>1?t:-1).filter(e=>e>=0).length)return f2(n);const s={x:n},o={reps:i};return o1.runKernel(OJ,s,o)}});const o4=y1({ceil_:function(e){const t={x:m1(e,"x","ceil","float32")};return o1.runKernel(sY,t)}});function l4(e,t,n){NX(e);const r={shape:e,value:t,dtype:n=n||mX(t)};return o1.runKernel(VY,{},r)}const c4=y1({clipByValue_:function(e,t,n){const r=m1(e,"x","clipByValue");if(Yq(t<=n,()=>`Error in clip: min (${t}) must be less than or equal to max (${n}).`),t===n)return l4(r.shape,t,r.dtype);const a={x:r},i={clipValueMin:t,clipValueMax:n};return o1.runKernel(oY,a,i)}});const u4=y1({concat1d_:function(e){return q2(e,0)}});const h4=y1({concat2d_:function(e,t){return q2(e,t)}});const d4=y1({concat3d_:function(e,t){return q2(e,t)}});const p4=y1({concat4d_:function(e,t){return q2(e,t)}});const f4=y1({conv2d_:function(e,t,n,r,a="NHWC",i=[1,1],s){const o=m1(e,"x","conv2d","float32"),l=m1(t,"filter","conv2d","float32");let c=o,u=!1;3===o.rank&&(u=!0,c=Z2(o,[1,o.shape[0],o.shape[1],o.shape[2]])),Yq(4===c.rank,()=>`Error in conv2d: input must be rank 4, but got rank ${c.rank}.`),Yq(4===l.rank,()=>`Error in conv2d: filter must be rank 4, but got rank ${l.rank}.`),W2("conv2d",r,s);const h="NHWC"===a?c.shape[3]:c.shape[1];Yq(h===l.shape[2],()=>`Error in conv2d: depth of input (${h}) must match input depth for filter ${l.shape[2]}.`),Yq(B2(n,i),()=>`Error in conv2D: Either strides or dilations must be 1. Got strides ${n} and dilations '${i}'`),Yq(H2(i),()=>"Error in conv2D: Dilated rates should be larger than 0."),Yq(H2(n),()=>"Error in conv2D: Strides should be larger than 0.");const d={x:c,filter:l},p={strides:n,pad:r,dataFormat:a,dilations:i,dimRoundingMode:s},f=o1.runKernel(hY,d,p);return u?Z2(f,[f.shape[1],f.shape[2],f.shape[3]]):f}});const m4=y1({conv1d_:function(e,t,n,r,a="NWC",i=1,s){const o=m1(e,"x","conv1d"),l=m1(t,"filter","conv1d");let c=o,u=!1;2===o.rank&&(u=!0,c=Z2(o,[1,o.shape[0],o.shape[1]])),Yq(3===c.rank,()=>`Error in conv1d: input must be rank 3, but got rank ${c.rank}.`),Yq(3===l.rank,()=>`Error in conv1d: filter must be rank 3, but got rank ${l.rank}.`),W2("conv1d",r,s),Yq(c.shape[2]===l.shape[1],()=>`Error in conv1d: depth of input (${c.shape[2]}) must match input depth for filter ${l.shape[1]}.`),Yq(B2(n,i),()=>`Error in conv1D: Either stride or dilation must be 1. Got stride ${n} and dilation '${i}'`),Yq(H2(i),()=>"Error in conv1D: Dilated rates should be larger than 0."),Yq(H2(n),()=>"Error in conv1D: Stride should be larger than 0."),Yq("NWC"===a,()=>`Error in conv1d: got dataFormat of ${a} but only NWC is currently supported.`);const h=Z2(l,[1,l.shape[0],l.shape[1],l.shape[2]]),d=Z2(c,[c.shape[0],1,c.shape[1],c.shape[2]]),p=f4(d,h,[1,n],r,"NHWC",[1,i],s);return Z2(p,u?[p.shape[2],p.shape[3]]:[p.shape[0],p.shape[2],p.shape[3]])}});const g4=y1({conv2DBackpropInput_:function(e,t,n,r,a,i="NHWC",s){Yq(e.length===t.rank,()=>`Length of inShape (${e.length}) and rank of dy (${t.rank}) must match`);let o=e,l=t,c=!1;3===t.rank&&(c=!0,l=Z2(t,[1,t.shape[0],t.shape[1],t.shape[2]]),o=[1,e[0],e[1],e[2]]),Yq(4===o.length,()=>`Error in conv2dDerInput: inShape must be length 4, but got length ${o.length}.`),Yq(4===l.rank,()=>`Error in conv2dDerInput: dy must be rank 4, but got rank ${l.rank}`),Yq(4===n.rank,()=>`Error in conv2dDerInput: filter must be rank 4, but got rank ${n.rank}`);const u="NHWC"===i?o[3]:o[1],h="NHWC"===i?l.shape[3]:l.shape[1];Yq(u===n.shape[2],()=>`Error in conv2dDerInput: depth of input (${u}) must match input depth for filter ${n.shape[2]}.`),Yq(h===n.shape[3],()=>`Error in conv2dDerInput: depth of output (${h}) must match output depth for filter ${n.shape[3]}.`),W2("conv2dDerInput",a,s);const d={dy:l,filter:n},p={strides:r,pad:a,dataFormat:i,dimRoundingMode:s,inputShape:o},f=o1.runKernel(pY,d,p);return c?Z2(f,[f.shape[1],f.shape[2],f.shape[3]]):f}});const y4=y1({conv2dTranspose_:function(e,t,n,r,a,i){const s=m1(e,"x","conv2dTranspose"),o=m1(t,"filter","conv2dTranspose");return g4(n,s,o,r,a,"NHWC",i)}});const x4=y1({conv3d_:function(e,t,n,r,a="NDHWC",i=[1,1,1]){const s=m1(e,"x","conv3d"),o=m1(t,"filter","conv3d");let l=s,c=!1;4===s.rank&&(c=!0,l=Z2(s,[1,s.shape[0],s.shape[1],s.shape[2],s.shape[3]])),Yq(5===l.rank,()=>`Error in conv3d: input must be rank 5, but got rank ${l.rank}.`),Yq(5===o.rank,()=>`Error in conv3d: filter must be rank 5, but got rank ${o.rank}.`),Yq(l.shape[4]===o.shape[3],()=>`Error in conv3d: depth of input (${l.shape[4]}) must match input depth for filter ${o.shape[3]}.`),Yq(B2(n,i),()=>`Error in conv3D: Either strides or dilations must be 1. Got strides ${n} and dilations '${i}'`),Yq("NDHWC"===a,()=>`Error in conv3d: got dataFormat of ${a} but only NDHWC is currently supported.`),Yq(H2(i),()=>"Error in conv3D: Dilated rates should be larger than 0."),Yq(H2(n),()=>"Error in conv3D: Strides should be larger than 0.");const u={x:l,filter:o},h={strides:n,pad:r,dataFormat:a,dilations:i},d=o1.runKernel(fY,u,h);return c?Z2(d,[d.shape[1],d.shape[2],d.shape[3],d.shape[4]]):d}});const b4=y1({conv3DBackpropInput_:function(e,t,n,r,a){Yq(e.length===t.rank,()=>`Length of inShape (${e.length}) and rank of dy (${t.rank}) must match`);let i=e,s=t,o=!1;4===t.rank&&(o=!0,s=Z2(t,[1,t.shape[0],t.shape[1],t.shape[2],t.shape[3]]),i=[1,e[0],e[1],e[2],e[3]]);const l=i[4],c=s.shape[4];Yq(5===i.length,()=>`Error in conv3dDerInput: inShape must be length 5, but got length ${i.length}.`),Yq(5===s.rank,()=>`Error in conv3dDerInput: dy must be rank 5, but got rank ${s.rank}`),Yq(5===n.rank,()=>`Error in conv3dDerInput: filter must be rank 5, but got rank ${n.rank}`),Yq(l===n.shape[3],()=>`Error in conv3dDerInput: depth of input (${l}) must match input depth for filter ${n.shape[3]}.`),Yq(c===n.shape[4],()=>`Error in conv3dDerInput: depth of output (${c}) must match output depth for filter ${n.shape[4]}.`);const u={dy:s,filter:n},h={pad:a,strides:r,inputShape:i},d=o1.runKernel(gY,u,h);return o?Z2(d,[d.shape[1],d.shape[2],d.shape[3],d.shape[4]]):d}});const v4=y1({conv3dTranspose_:function(e,t,n,r,a){const i=m1(e,"x","conv3dTranspose"),s=m1(t,"filter","conv3dTranspose");return b4(n,i,s,r,a)}});const w4=y1({cos_:function(e){const t={x:m1(e,"x","cos","float32")};return o1.runKernel(yY,t)}});const k4=y1({cosh_:function(e){const t={x:m1(e,"x","cosh","float32")};return o1.runKernel(xY,t)}});const S4=y1({cumprod_:function(e,t=0,n=!1,r=!1){const a={x:m1(e,"x","cumprod")},i={axis:t,exclusive:n,reverse:r};return o1.runKernel(bY,a,i)}});const N4=y1({cumsum_:function(e,t=0,n=!1,r=!1){const a={x:m1(e,"x","cumsum")},i={axis:t,exclusive:n,reverse:r};return o1.runKernel(vY,a,i)}});const E4=y1({denseBincount_:function(e,t,n,r=!1){const a=m1(e,"x","denseBincount"),i=m1(t,"weights","denseBincount");Yq("int32"===a.dtype,()=>`Error in denseBincount: input dtype must be int32, but got ${a.dtype}`),Yq(a.rank<=2,()=>`Error in denseBincount: input must be at most rank 2, but got rank ${a.rank}.`),Yq(n>=0,()=>`size must be non-negative, but got ${n}.`),Yq(i.size===a.size||0===i.size,()=>`Error in denseBincount: weights must have the same shape as x or 0-length, but got x shape: ${a.shape}, weights shape: ${i.shape}.`);const s={x:a,weights:i},o={size:n,binaryOutput:r};return o1.runKernel(kY,s,o)}});const A4=y1({depthToSpace_:function(e,t,n="NHWC"){const r=m1(e,"x","depthToSpace","float32"),a="NHWC"===n?r.shape[1]:r.shape[2],i="NHWC"===n?r.shape[2]:r.shape[3],s="NHWC"===n?r.shape[3]:r.shape[1];Yq(t>1,()=>`blockSize should be > 1 for depthToSpace, but was: ${t}`),Yq(a*t>=0,()=>`Negative dimension size caused by overflow when multiplying\n    ${a} and ${t}  for depthToSpace with input shape\n    ${r.shape}`),Yq(i*t>=0,()=>`Negative dimension size caused by overflow when multiplying\n    ${i} and ${t} for depthToSpace with input shape\n        ${r.shape}`),Yq(s%(t*t)===0,()=>`Dimension size must be evenly divisible by ${t*t} but is ${s} for depthToSpace with input shape ${r.shape}`);const o={x:r},l={blockSize:t,dataFormat:n};return o1.runKernel(SY,o,l)}});const C4=y1({depthwiseConv2d_:function(e,t,n,r,a="NHWC",i=[1,1],s){const o=m1(e,"x","depthwiseConv2d","float32"),l=m1(t,"filter","depthwiseConv2d","float32");let c=o,u=!1;3===o.rank&&(u=!0,c=Z2(o,[1,o.shape[0],o.shape[1],o.shape[2]])),Yq(4===c.rank,()=>`Error in depthwiseConv2d: input must be rank 4, but got rank ${c.rank}.`),Yq(4===l.rank,()=>`Error in depthwiseConv2d: filter must be rank 4, but got rank ${l.rank}.`);const h="NHWC"===a?c.shape[3]:c.shape[1];Yq(h===l.shape[2],()=>`Error in depthwiseConv2d: number of input channels (${h}) must match the inChannels dimension in filter ${l.shape[2]}.`),W2("depthwiseConv2d",r,s);const d={x:c,filter:l},p={strides:n,pad:r,dataFormat:a,dilations:i,dimRoundingMode:s},f=o1.runKernel(NY,d,p);return u?Z2(f,[f.shape[1],f.shape[2],f.shape[3]]):f}});const j4=y1({dilation2d_:function(e,t,n,r,a=[1,1],i="NHWC"){const s=m1(e,"x","dilation2d"),o=m1(t,"filter","dilation2d");Yq(3===s.rank||4===s.rank,()=>`Error in dilation2d: input must be rank 3 or 4, but got rank ${s.rank}.`),Yq(3===o.rank,()=>`Error in dilation2d: filter must be rank 3, but got rank ${o.rank}.`),Yq("NHWC"===i,()=>`Error in dilation2d: Only NHWC is currently supported, but got dataFormat of ${i}`);let l=s,c=!1;3===s.rank&&(l=Z2(s,[1,s.shape[0],s.shape[1],s.shape[2]]),c=!0),Yq(l.shape[3]===o.shape[2],()=>`Error in dilation2d:  input and filter must have the same depth: ${l.shape[3]} vs ${o.shape[2]}`);const u={x:l,filter:o},h={strides:n,pad:r,dilations:a},d=o1.runKernel(jY,u,h);return c?Z2(d,[d.shape[1],d.shape[2],d.shape[3]]):d}});function M4(e,t){const n=e.length,r=[];for(let a=0;a<n;a++){const i=n-1-a,s=e[i]||1;(t[t.length-1-a]||1)>1&&1===s&&r.unshift(i)}return r}function T4(e,t){const n=[];for(let r=0;r<t.length;r++){const a=e[e.length-r-1],i=t.length-r-1,s=t[i];(null==a||1===a&&s>1)&&n.unshift(i)}return n}function I4(e,t){const n=Math.max(e.length,t.length),r=new Array(n);for(let a=0;a<n;a++){let i=e[e.length-a-1];null==i&&(i=1);let s=t[t.length-a-1];if(null==s&&(s=1),1===i)r[n-a-1]=s;else if(1===s)r[n-a-1]=i;else{if(i!==s){throw Error(`Operands could not be broadcast together with shapes ${e} and ${t}.`)}r[n-a-1]=i}}return r}const O4=y1({equal_:function(e,t){let n=m1(e,"a","equal","string_or_numeric"),r=m1(t,"b","equal","string_or_numeric");[n,r]=e1(n,r),I4(n.shape,r.shape);const a={a:n,b:r};return o1.runKernel(LY,a)}});const P4=y1({where_:function(e,t,n){const r=m1(t,"a","where"),a=m1(n,"b","where"),i=m1(e,"condition","where","bool"),s=I4(I4(i.shape,r.shape),a.shape),o={condition:s4(i,s),t:s4(r,s),e:s4(a,s)};return o1.runKernel(aJ,o)}});const R4=y1({zerosLike_:function(e){const t={x:m1(e,"x","zerosLike")};return o1.runKernel(DJ,t)}});const _4=y1({divNoNan_:function(e,t){let n=m1(e,"a","div"),r=m1(t,"b","div");[n,r]=e1(n,r);const a=y2(n,r),i=R4(a),s=O4(r,i);return P4(s,i,a)}});const L4=y1({dot_:function(e,t){const n=m1(e,"t1","dot"),r=m1(t,"t2","dot");Yq(!(1!==n.rank&&2!==n.rank||1!==r.rank&&2!==r.rank),()=>`Error in dot: inputs must all be rank 1 or 2, but got ranks ${n.rank} and ${r.rank}.`);const a=1===n.rank?n.size:n.shape[1],i=1===r.rank?r.size:r.shape[0];if(Yq(a===i,()=>`Error in dot: inner dimensions of inputs must match, but got ${a} and ${i}.`),1===n.rank&&1===r.rank){const e=Z2(n,[1,-1]),t=Z2(r,[-1,1]),a=X2(e,t);return Z2(a,[])}if(1===n.rank&&2===r.rank){const e=Z2(n,[1,-1]),t=Z2(r,[r.shape[0],r.shape[1]]),a=X2(e,t);return Z2(a,[a.size])}if(2===n.rank&&1===r.rank){const e=Z2(r,[-1,1]),t=X2(n,e);return Z2(t,[t.size])}{const e=Z2(r,[r.shape[0],r.shape[1]]);return X2(n,e)}}});const $4=y1({einsum_:function(e,...t){const n=t.map((e,t)=>m1(e,`tensors${t}`,"einsum")),r={equation:e};return o1.runKernel(OY,n,r)}});const F4=y1({elu_:function(e){const t={x:m1(e,"x","elu","float32")};return o1.runKernel(PY,t)}});const D4=y1({erf_:function(e){let t=m1(e,"x","erf");Yq("int32"===t.dtype||"float32"===t.dtype,()=>"Input dtype must be `int32` or `float32`."),"int32"===t.dtype&&(t=p2(t,"float32"));const n={x:t};return o1.runKernel(_Y,n)}});function z4(e,t){for(let n=0;n<e.length;++n)if(e[e.length-n-1]!==t-1-n)return!1;return!0}function V4(e,t,n){const r=e.length+t.length,a=[];let i=0,s=0;for(let o=0;o<r;o++)-1===n.indexOf(o)?a.push(e[i++]):a.push(t[s++]);return a}function B4(e,t){const n=[],r=e.length;for(let a=0;a<r;a++)-1===t.indexOf(a)&&n.push(e[a]);return[n,t.map(t=>e[t])]}function H4(e,t){return V4(e,t.map(e=>1),t)}function U4(e,t,n){Yq(z4(t,n),()=>`${e} supports only inner-most axes for now. Got axes ${t} and rank-${n} input.`)}function W4(e,t){if(z4(e,t))return null;const n=[];for(let r=0;r<t;++r)-1===e.indexOf(r)&&n.push(r);return e.forEach(e=>n.push(e)),n}function Z4(e){return e.map((e,t)=>[t,e]).sort((e,t)=>e[1]-t[1]).map(e=>e[0])}function G4(e,t){const n=[];for(let r=t-e;r<t;++r)n.push(r);return n}const K4=y1({max_:function(e,t=null,n=!1){const r={x:m1(e,"x","max")},a={reductionIndices:t,keepDims:n};return o1.runKernel(pQ,r,a)}});const q4=y1({min_:function(e,t=null,n=!1){const r={x:m1(e,"x","min")},a={axis:t,keepDims:n};return o1.runKernel(wQ,r,a)}});const X4=y1({pow_:function(e,t){let n=m1(e,"base","pow"),r=m1(t,"exp","pow");[n,r]=e1(n,r);const a={a:n,b:r};return o1.runKernel(LQ,a)}});function Y4(e,t){if((S0(e)&&"string"!==t||Array.isArray(e))&&"complex64"!==t)throw new Error("Error creating a new Scalar: value must be a primitive (number|boolean|string)");if("string"===t&&S0(e)&&!(e instanceof Uint8Array))throw new Error("When making a scalar from encoded string, the value must be `Uint8Array`.");return b1(e,[],[],t)}const Q4=y1({sqrt_:function(e){const t={x:m1(e,"x","sqrt","float32")};return o1.runKernel(dJ,t)}});const J4=y1({square_:function(e){const t=m1(e,"x","square");return o1.runKernel("Square",{x:t},{})}});const e8=y1({sum_:function(e,t=null,n=!1){let r=m1(e,"x","sum");"bool"===r.dtype&&(r=p2(r,"int32"));const a={x:r},i={axis:t,keepDims:n};return o1.runKernel(pJ,a,i)}});function t8(e,t,n=null){if(0===e.rank)return b2(e);if(1!==e.rank&&null===n)return t8(Z2(e,[-1]),t,n);if(1===e.rank||"number"==typeof n||Array.isArray(n)&&1===n.length){if(1===t)return e8(b2(e),n);if(t===1/0)return K4(b2(e),n);if(t===-1/0)return q4(b2(e),n);if("euclidean"===t||2===t)return Q4(e8(X4(b2(e),Y4(2,"int32")),n));throw new Error(`Error in norm: invalid ord value: ${t}`)}if(Array.isArray(n)&&2===n.length){if(1===t)return K4(e8(b2(e),n[0]),n[1]-1);if(t===1/0)return K4(e8(b2(e),n[1]),n[0]);if(t===-1/0)return q4(e8(b2(e),n[1]),n[0]);if("fro"===t||"euclidean"===t)return Q4(e8(J4(e),n));throw new Error(`Error in norm: invalid ord value: ${t}`)}throw new Error(`Error in norm: invalid axis: ${n}`)}const n8=y1({norm_:function(e,t="euclidean",n=null,r=!1){const a=t8(e=m1(e,"x","norm"),t,n);let i=a.shape;if(r){const t=oX(n,e.shape);i=H4(a.shape,t)}return Z2(a,i)}});const r8=y1({euclideanNorm_:function(e,t=null,n=!1){return n8(e,"euclidean",t,n)}});const a8=y1({exp_:function(e){const t={x:m1(e,"x","exp")};return o1.runKernel($Y,t)}});const i8=y1({expandDims_:function(e,t=0){const n=m1(e,"x","expandDims","string_or_numeric");Yq(t<=n.rank,()=>"Axis must be <= rank of the tensor");const r={input:n},a={dim:t};return o1.runKernel(FY,r,a)}});const s8=y1({expm1_:function(e){const t={x:m1(e,"x","expm1")};return o1.runKernel(DY,t)}});const o8=y1({tile_:function(e,t){const n=m1(e,"x","tile","string_or_numeric");Yq(n.rank===t.length,()=>`Error in transpose: rank of input ${n.rank} must match length of reps ${t}.`);const r={x:n},a={reps:t};return o1.runKernel(OJ,r,a)}});const l8=y1({eye_:function(e,t,n,r="float32"){null==t&&(t=e);const a=d2([e,t],r),i=e<=t?e:t;for(let o=0;o<i;++o)a.set(1,o,o);const s=Z2(a.toTensor(),[e,t]);if(null==n)return s;if(1===n.length)return o8(i8(s,0),[n[0],1,1]);if(2===n.length)return o8(i8(i8(s,0),0),[n[0],n[1],1,1]);if(3===n.length)return o8(i8(i8(i8(s,0),0),0),[n[0],n[1],n[2],1,1]);throw new Error(`eye() currently supports only 1D and 2D batchShapes, but received ${n.length}D.`)}});const c8=y1({floor_:function(e){const t={x:m1(e,"x","floor","float32")};return o1.runKernel(HY,t)}});const u8=y1({gather_:function(e,t,n=0,r=0){const a={x:m1(e,"x","gather"),indices:m1(t,"indices","gather","int32")},i={axis:n,batchDims:r};return o1.runKernel(ZY,a,i)}});const h8=y1({greater_:function(e,t){let n=m1(e,"a","greater","string_or_numeric"),r=m1(t,"b","greater","string_or_numeric");[n,r]=e1(n,r),I4(n.shape,r.shape);const a={a:n,b:r};return o1.runKernel(KY,a)}});const d8=y1({greaterEqual_:function(e,t){let n=m1(e,"a","greaterEqual","string_or_numeric"),r=m1(t,"b","greaterEqual","string_or_numeric");[n,r]=e1(n,r),I4(n.shape,r.shape);const a={a:n,b:r};return o1.runKernel(qY,a)}});const p8=y1({imag_:function(e){const t={input:m1(e,"input","imag")};return o1.runKernel(QY,t)}});const f8=y1({isFinite_:function(e){const t={x:m1(e,"x","isFinite")};return o1.runKernel(JY,t)}});const m8=y1({isInf_:function(e){const t={x:m1(e,"x","isInf")};return o1.runKernel(eQ,t)}});const g8=y1({isNaN_:function(e){const t={x:m1(e,"x","isNaN")};return o1.runKernel(tQ,t)}});const y8=y1({leakyRelu_:function(e,t=.2){const n={x:m1(e,"x","leakyRelu")},r={alpha:t};return o1.runKernel(nQ,n,r)}});const x8=y1({less_:function(e,t){let n=m1(e,"a","less","string_or_numeric"),r=m1(t,"b","less","string_or_numeric");[n,r]=e1(n,r),I4(n.shape,r.shape);const a={a:n,b:r};return o1.runKernel(rQ,a)}});const b8=y1({lessEqual_:function(e,t){let n=m1(e,"a","lessEqual","string_or_numeric"),r=m1(t,"b","lessEqual","string_or_numeric");[n,r]=e1(n,r),I4(n.shape,r.shape);const a={a:n,b:r};return o1.runKernel(aQ,a)}});const v8=y1({localResponseNormalization_:function(e,t=5,n=1,r=1,a=.5){const i=m1(e,"x","localResponseNormalization");Yq(4===i.rank||3===i.rank,()=>`Error in localResponseNormalization: x must be rank 3 or 4 but got\n               rank ${i.rank}.`),Yq(nX(t),()=>`Error in localResponseNormalization: depthRadius must be an integer but got depthRadius ${t}.`);let s=i,o=!1;3===i.rank&&(o=!0,s=Z2(i,[1,i.shape[0],i.shape[1],i.shape[2]]));const l={x:s},c={depthRadius:t,bias:n,alpha:r,beta:a},u=o1.runKernel(hQ,l,c);return o?Z2(u,[u.shape[1],u.shape[2],u.shape[3]]):u}});const w8=y1({log_:function(e){const t={x:m1(e,"x","log","float32")};return o1.runKernel(sQ,t)}});const k8=y1({log1p_:function(e){const t={x:m1(e,"x","log1p")};return o1.runKernel(oQ,t)}});function S8(e){return o1.customGrad(e)}const N8=y1({neg_:function(e){const t={x:m1(e,"x","neg")};return o1.runKernel(CQ,t)}});const E8=y1({softplus_:function(e){const t={x:m1(e,"x","softplus")};return o1.runKernel(hJ,t)}});const A8=y1({logSigmoid_:function(e){const t=m1(e,"x","logSigmoid");return S8(e=>({value:N8(E8(N8(e))),gradFunc:t=>x2(t,Y2(N8(e)))}))(t)}});const C8=y1({sub_:function(e,t){let n=m1(e,"a","sub"),r=m1(t,"b","sub");[n,r]=e1(n,r);const a={a:n,b:r};return o1.runKernel(MJ,a)}});const j8=y1({logSoftmax_:function(e,t=-1){const n=m1(e,"logits","logSoftmax");if(-1===t&&(t=n.rank-1),t!==n.rank-1)throw Error(`Log Softmax along a non-last dimension is not yet supported. Logits was rank ${n.rank} and axis was ${t}`);return S8((e,n)=>{const r=K4(e,t,!0),a=C8(e,r),i=C8(p2(a,"float32"),w8(e8(a8(a),t,!0)));n([i]);return{value:i,gradFunc:(e,n)=>{const[r]=n,a=a8(r);return C8(e,x2(e8(e,t,!0),a))}}})(n)}});const M8=y1({logSumExp_:function(e,t=null,n=!1){const r=m1(e,"x","logSumExp"),a=oX(t,r.shape),i=K4(r,a,!0),s=C8(r,i),o=a8(s),l=e8(o,a),c=w8(l),u=m2(Z2(i,c.shape),c);if(n){const e=H4(u.shape,a);return Z2(u,e)}return u}});const T8=y1({logicalAnd_:function(e,t){const n=m1(e,"a","logicalAnd","bool"),r=m1(t,"b","logicalAnd","bool");I4(n.shape,r.shape);const a={a:n,b:r};return o1.runKernel(lQ,a)}});const I8=y1({logicalNot_:function(e){const t={x:m1(e,"x","logicalNot","bool")};return o1.runKernel(cQ,t)}});const O8=y1({logicalOr_:function(e,t){const n=m1(e,"a","logicalOr","bool"),r=m1(t,"b","logicalOr","bool");I4(n.shape,r.shape);const a={a:n,b:r};return o1.runKernel(uQ,a)}});const P8=y1({logicalXor_:function(e,t){const n=m1(e,"a","logicalXor","bool"),r=m1(t,"b","logicalXor","bool");return I4(n.shape,r.shape),T8(O8(e,t),I8(T8(e,t)))}});const R8=y1({maxPool_:function(e,t,n,r,a){const i=m1(e,"x","maxPool");let s=i,o=!1;3===i.rank&&(o=!0,s=Z2(i,[1,i.shape[0],i.shape[1],i.shape[2]])),Yq(4===s.rank,()=>`Error in maxPool: input must be rank 4 but got rank ${s.rank}.`),Yq(B2(n,1),()=>`Error in maxPool: Either strides or dilations must be 1. Got strides ${n} and dilations '1'`),W2("maxPool",r,a);const l={x:s},c={filterSize:t,strides:n,pad:r,dimRoundingMode:a},u=o1.runKernel(mQ,l,c);return o?Z2(u,[u.shape[1],u.shape[2],u.shape[3]]):u}});const _8=y1({maxPool3d_:function(e,t=[1,1,1],n,r,a,i="NDHWC"){const s=m1(e,"x","maxPool3d");let o=s,l=!1;4===s.rank&&(l=!0,o=Z2(s,[1,s.shape[0],s.shape[1],s.shape[2],s.shape[3]])),Yq(5===o.rank,()=>`Error in maxPool3d: x must be rank 5 but got rank ${o.rank}.`),Yq("NDHWC"===i,()=>`Error in maxPool3d: Only NDHWC is currently supported, but got dataFormat of ${i}`),W2("maxPool3d",r,a);const c={x:o},u={filterSize:t,strides:n,pad:r,dimRoundingMode:a,dataFormat:i},h=o1.runKernel(yQ,c,u);return l?Z2(h,[h.shape[1],h.shape[2],h.shape[3],h.shape[4]]):h}});const L8=y1({maximum_:function(e,t){let n=m1(e,"a","maximum"),r=m1(t,"b","maximum");[n,r]=e1(n,r),"bool"===n.dtype&&(n=p2(n,"int32"),r=p2(r,"int32")),I4(n.shape,r.shape);const a={a:n,b:r};return o1.runKernel(fQ,a)}});const $8=y1({mean_:function(e,t=null,n=!1){const r={x:m1(e,"x","mean")},a={axis:t,keepDims:n};return o1.runKernel(vQ,r,a)}});function F8(e,t="float32"){if(NX(e),"complex64"===t){const t=F8(e,"float32"),n=F8(e,"float32");return x1(t,n)}const n=kX(eX(e),t);return o1.makeTensor(n,e,t)}function D8(e,t="float32"){if(NX(e),"complex64"===t){const t=D8(e,"float32"),n=F8(e,"float32");return x1(t,n)}const n=wX(eX(e),t);return o1.makeTensor(n,e,t)}const z8=y1({minimum_:function(e,t){let n=m1(e,"a","minimum"),r=m1(t,"b","minimum");[n,r]=e1(n,r),"bool"===n.dtype&&(n=p2(n,"int32"),r=p2(r,"int32")),I4(n.shape,r.shape);const a={a:n,b:r};return o1.runKernel(kQ,a)}});const V8=y1({mirrorPad_:function(e,t,n){Yq("reflect"===n||"symmetric"===n,()=>`Invalid mode. Mode must be either reflect or symmetric. Got ${n}.`);const r=m1(e,"x","mirrorPad");if(0===r.rank)throw new Error("mirrorPad(scalar) is not defined. Pass non-scalar to mirrorPad");Yq(t.length===r.rank,()=>`Padding doesn't match input. Must be ${r.rank}. Got ${t.length}.`);const a="reflect"===n?1:0;for(let o=0;o<r.rank;o++)Yq(2===t[o].length,()=>"Invalid number of paddings. Must be length of 2 each."),Yq(t[o][0]>=0&&t[o][0]<=r.shape[o]-a&&t[o][1]>=0&&t[o][1]<=r.shape[o]-a,()=>`Padding in dimension ${o} cannot be greater than or equal to ${r.shape[o]-a} or less than 0 for input of shape ${r.shape}`);const i={paddings:t,mode:n},s={x:r};return o1.runKernel(SQ,s,i)}});const B8=y1({mod_:function(e,t){let n=m1(e,"a","mod"),r=m1(t,"b","mod");[n,r]=e1(n,r);const a={a:n,b:r};return o1.runKernel(NQ,a)}});const H8=y1({moments_:function(e,t=null,n=!1){const r=oX(t,(e=m1(e,"x","moments")).shape),a=$8(e,r,n);let i=a.shape;n||(i=H4(a.shape,r));const s=J4(C8(p2(e,"float32"),Z2(a,i)));return{mean:a,variance:$8(s,r,n)}}});const U8=y1({notEqual_:function(e,t){let n=m1(e,"a","notEqual","string_or_numeric"),r=m1(t,"b","notEqual","string_or_numeric");[n,r]=e1(n,r),I4(n.shape,r.shape);const a={a:n,b:r};return o1.runKernel(jQ,a)}});const W8=y1({oneHot_:function(e,t,n=1,r=0,a="int32"){if(t<2)throw new Error(`Error in oneHot: depth must be >=2, but it is ${t}`);const i={indices:m1(e,"indices","oneHot","int32")},s={dtype:a,depth:t,onValue:n,offValue:r};return o1.runKernel(PQ,i,s)}});const Z8=y1({onesLike_:function(e){const t={x:m1(e,"x","onesLike")};return o1.runKernel(OQ,t)}});const G8=y1({pad_:function(e,t,n=0){const r=m1(e,"x","pad");if(0===r.rank)throw new Error("pad(scalar) is not defined. Pass non-scalar to pad");const a={paddings:t,constantValue:n},i={x:r};return o1.runKernel(_Q,i,a)}});const K8=y1({spaceToBatchND_:function(e,t,n){const r=m1(e,"x","spaceToBatchND");Yq(r.rank>=1+t.length,()=>`input rank ${r.rank} should be > than [blockShape] ${t.length}`),Yq(n.length===t.length,()=>`paddings.shape[0] ${n.length} must be equal to [blockShape] ${t.length}`),Yq(r.shape.reduce((e,r,a)=>a>0&&a<=t.length?e&&(r+n[a-1][0]+n[a-1][1])%t[a-1]===0:e,!0),()=>`input spatial dimensions ${r.shape.slice(1)} with paddings ${n.toString()} must be divisible by blockShapes ${t.toString()}`);const a={x:r},i={blockShape:t,paddings:n};return o1.runKernel(fJ,a,i)}});const q8=y1({pool_:function(e,t,n,r,a,i,s){null==a&&(a=[1,1]),null==i&&(i=1),0===r&&(r="valid");const o=m1(e,"x","maxPool");let l=o,c=!1;3===o.rank&&(c=!0,l=Z2(o,[1,o.shape[0],o.shape[1],o.shape[2]])),Yq(B2(i,a),()=>`Error in pool: Either strides or dilations must be 1. Got strides ${i} and dilations '${a}'`);const u=O2(l.shape,t,i,a,r),h=[u.dilationHeight,u.dilationWidth];let d;d="same"===r?function(e,t){const n=e.map((e,n)=>e+(e-1)*(t[n]-1)),r=n.map(e=>e-1),a=r.map(e=>Math.floor(e/2)),i=r.map((e,t)=>e-a[t]);return r.map((e,t)=>[a[t],i[t]])}([u.filterHeight,u.filterWidth],h):[[0,0],[0,0]];const p=1===h[0]&&1===h[1],[f,m]=function(e,t,n){const r=n.map(e=>e[0]),a=n.map(e=>e[1]),i=e.concat(r,a),s=t.map((e,t)=>(e-i[t]%e)%e),o=a.map((e,t)=>e+s[t]),l=t.map((e,t)=>[r[t],o[t]]),c=t.map((e,t)=>[0,s[t]]);return[l,c]}([u.inHeight,u.inWidth],h,d),g=p?r:"valid",y=p?l:K8(l,h,f),x=("avg"===n?()=>G2(y,t,i,g,s):()=>R8(y,t,i,g,s))(),b=p?x:e4(x,h,m);return c?Z2(b,[b.shape[1],b.shape[2],b.shape[3]]):b}});const X8=y1({prelu_:function(e,t){const n={x:m1(e,"x","prelu"),alpha:m1(t,"alpha","prelu")};return o1.runKernel($Q,n)}});const Y8=y1({prod_:function(e,t=null,n=!1){let r=m1(e,"x","prod");"bool"===r.dtype&&(r=p2(r,"int32"));const a={x:r},i={axis:t,keepDims:n};return o1.runKernel(FQ,a,i)}});var Q8,J8={exports:{}};function e6(){return Q8||(Q8=1,function(e,t){function n(e){var t=this,n=function(){var e=4022871197,t=function(t){t=String(t);for(var n=0;n<t.length;n++){var r=.02519603282416938*(e+=t.charCodeAt(n));r-=e=r>>>0,e=(r*=e)>>>0,e+=4294967296*(r-=e)}return 2.3283064365386963e-10*(e>>>0)};return t}();t.next=function(){var e=2091639*t.s0+2.3283064365386963e-10*t.c;return t.s0=t.s1,t.s1=t.s2,t.s2=e-(t.c=0|e)},t.c=1,t.s0=n(" "),t.s1=n(" "),t.s2=n(" "),t.s0-=n(e),t.s0<0&&(t.s0+=1),t.s1-=n(e),t.s1<0&&(t.s1+=1),t.s2-=n(e),t.s2<0&&(t.s2+=1),n=null}function r(e,t){return t.c=e.c,t.s0=e.s0,t.s1=e.s1,t.s2=e.s2,t}function a(e,t){var a=new n(e),i=t&&t.state,s=a.next;return s.int32=function(){return 4294967296*a.next()|0},s.double=function(){return s()+11102230246251565e-32*(2097152*s()|0)},s.quick=s,i&&("object"==typeof i&&r(i,a),s.state=function(){return r(a,{})}),s}t&&t.exports?t.exports=a:this.alea=a}(0,J8)),J8.exports}var t6,n6={exports:{}};var r6,a6={exports:{}};var i6,s6={exports:{}};var o6,l6={exports:{}};var c6,u6={exports:{}};var h6={exports:{}};const d6=r(Object.freeze(Object.defineProperty({__proto__:null,default:{}},Symbol.toStringTag,{value:"Module"})));var p6,f6,m6,g6=h6.exports;function y6(){return p6||(p6=1,e=h6,function(t,n,r){var a,i=256,s="random",o=r.pow(i,6),l=r.pow(2,52),c=2*l,u=255;function h(e,u,h){var y=[],x=m(f((u=1==u?{entropy:!0}:u||{}).entropy?[e,g(n)]:null==e?function(){try{var e;return a&&(e=a.randomBytes)?e=e(i):(e=new Uint8Array(i),(t.crypto||t.msCrypto).getRandomValues(e)),g(e)}catch(ATe){var r=t.navigator,s=r&&r.plugins;return[+new Date,t,s,t.screen,g(n)]}}():e,3),y),b=new d(y),v=function(){for(var e=b.g(6),t=o,n=0;e<l;)e=(e+n)*i,t*=i,n=b.g(1);for(;e>=c;)e/=2,t/=2,n>>>=1;return(e+n)/t};return v.int32=function(){return 0|b.g(4)},v.quick=function(){return b.g(4)/4294967296},v.double=v,m(g(b.S),n),(u.pass||h||function(e,t,n,a){return a&&(a.S&&p(a,b),e.state=function(){return p(b,{})}),n?(r[s]=e,t):e})(v,x,"global"in u?u.global:this==r,u.state)}function d(e){var t,n=e.length,r=this,a=0,s=r.i=r.j=0,o=r.S=[];for(n||(e=[n++]);a<i;)o[a]=a++;for(a=0;a<i;a++)o[a]=o[s=u&s+e[a%n]+(t=o[a])],o[s]=t;(r.g=function(e){for(var t,n=0,a=r.i,s=r.j,o=r.S;e--;)t=o[a=u&a+1],n=n*i+o[u&(o[a]=o[s=u&s+t])+(o[s]=t)];return r.i=a,r.j=s,n})(i)}function p(e,t){return t.i=e.i,t.j=e.j,t.S=e.S.slice(),t}function f(e,t){var n,r=[],a=typeof e;if(t&&"object"==a)for(n in e)try{r.push(f(e[n],t-1))}catch(ATe){}return r.length?r:"string"==a?e:e+"\0"}function m(e,t){for(var n,r=e+"",a=0;a<r.length;)t[u&a]=u&(n^=19*t[u&a])+r.charCodeAt(a++);return g(t)}function g(e){return String.fromCharCode.apply(0,e)}if(m(r.random(),n),e.exports){e.exports=h;try{a=d6}catch(y){}}else r["seed"+s]=h}("undefined"!=typeof self?self:g6,[],Math)),h6.exports;var e}var x6=function(){if(m6)return f6;m6=1;var e=e6(),t=(t6||(t6=1,function(e,t){function n(e){var t=this,n="";t.x=0,t.y=0,t.z=0,t.w=0,t.next=function(){var e=t.x^t.x<<11;return t.x=t.y,t.y=t.z,t.z=t.w,t.w^=t.w>>>19^e^e>>>8},e===(0|e)?t.x=e:n+=e;for(var r=0;r<n.length+64;r++)t.x^=0|n.charCodeAt(r),t.next()}function r(e,t){return t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t}function a(e,t){var a=new n(e),i=t&&t.state,s=function(){return(a.next()>>>0)/4294967296};return s.double=function(){do{var e=((a.next()>>>11)+(a.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},s.int32=a.next,s.quick=s,i&&("object"==typeof i&&r(i,a),s.state=function(){return r(a,{})}),s}t&&t.exports?t.exports=a:this.xor128=a}(0,n6)),n6.exports),n=(r6||(r6=1,function(e,t){function n(e){var t=this,n="";t.next=function(){var e=t.x^t.x>>>2;return t.x=t.y,t.y=t.z,t.z=t.w,t.w=t.v,(t.d=t.d+362437|0)+(t.v=t.v^t.v<<4^e^e<<1)|0},t.x=0,t.y=0,t.z=0,t.w=0,t.v=0,e===(0|e)?t.x=e:n+=e;for(var r=0;r<n.length+64;r++)t.x^=0|n.charCodeAt(r),r==n.length&&(t.d=t.x<<10^t.x>>>4),t.next()}function r(e,t){return t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t.v=e.v,t.d=e.d,t}function a(e,t){var a=new n(e),i=t&&t.state,s=function(){return(a.next()>>>0)/4294967296};return s.double=function(){do{var e=((a.next()>>>11)+(a.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},s.int32=a.next,s.quick=s,i&&("object"==typeof i&&r(i,a),s.state=function(){return r(a,{})}),s}t&&t.exports?t.exports=a:this.xorwow=a}(0,a6)),a6.exports),r=(i6||(i6=1,function(e,t){function n(e){var t=this;t.next=function(){var e,n,r=t.x,a=t.i;return e=r[a],n=(e^=e>>>7)^e<<24,n^=(e=r[a+1&7])^e>>>10,n^=(e=r[a+3&7])^e>>>3,n^=(e=r[a+4&7])^e<<7,e=r[a+7&7],n^=(e^=e<<13)^e<<9,r[a]=n,t.i=a+1&7,n},function(e,t){var n,r=[];if(t===(0|t))r[0]=t;else for(t=""+t,n=0;n<t.length;++n)r[7&n]=r[7&n]<<15^t.charCodeAt(n)+r[n+1&7]<<13;for(;r.length<8;)r.push(0);for(n=0;n<8&&0===r[n];++n);for(8==n?r[7]=-1:r[n],e.x=r,e.i=0,n=256;n>0;--n)e.next()}(t,e)}function r(e,t){return t.x=e.x.slice(),t.i=e.i,t}function a(e,t){null==e&&(e=+new Date);var a=new n(e),i=t&&t.state,s=function(){return(a.next()>>>0)/4294967296};return s.double=function(){do{var e=((a.next()>>>11)+(a.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},s.int32=a.next,s.quick=s,i&&(i.x&&r(i,a),s.state=function(){return r(a,{})}),s}t&&t.exports?t.exports=a:this.xorshift7=a}(0,s6)),s6.exports),a=(o6||(o6=1,function(e,t){function n(e){var t=this;t.next=function(){var e,n,r=t.w,a=t.X,i=t.i;return t.w=r=r+1640531527|0,n=a[i+34&127],e=a[i=i+1&127],n^=n<<13,e^=e<<17,n^=n>>>15,e^=e>>>12,n=a[i]=n^e,t.i=i,n+(r^r>>>16)|0},function(e,t){var n,r,a,i,s,o=[],l=128;for(t===(0|t)?(r=t,t=null):(t+="\0",r=0,l=Math.max(l,t.length)),a=0,i=-32;i<l;++i)t&&(r^=t.charCodeAt((i+32)%t.length)),0===i&&(s=r),r^=r<<10,r^=r>>>15,r^=r<<4,r^=r>>>13,i>=0&&(s=s+1640531527|0,a=0==(n=o[127&i]^=r+s)?a+1:0);for(a>=128&&(o[127&(t&&t.length||0)]=-1),a=127,i=512;i>0;--i)r=o[a+34&127],n=o[a=a+1&127],r^=r<<13,n^=n<<17,r^=r>>>15,n^=n>>>12,o[a]=r^n;e.w=s,e.X=o,e.i=a}(t,e)}function r(e,t){return t.i=e.i,t.w=e.w,t.X=e.X.slice(),t}function a(e,t){null==e&&(e=+new Date);var a=new n(e),i=t&&t.state,s=function(){return(a.next()>>>0)/4294967296};return s.double=function(){do{var e=((a.next()>>>11)+(a.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},s.int32=a.next,s.quick=s,i&&(i.X&&r(i,a),s.state=function(){return r(a,{})}),s}t&&t.exports?t.exports=a:this.xor4096=a}(0,l6)),l6.exports),i=(c6||(c6=1,function(e,t){function n(e){var t=this,n="";t.next=function(){var e=t.b,n=t.c,r=t.d,a=t.a;return e=e<<25^e>>>7^n,n=n-r|0,r=r<<24^r>>>8^a,a=a-e|0,t.b=e=e<<20^e>>>12^n,t.c=n=n-r|0,t.d=r<<16^n>>>16^a,t.a=a-e|0},t.a=0,t.b=0,t.c=-1640531527,t.d=1367130551,e===Math.floor(e)?(t.a=e/4294967296|0,t.b=0|e):n+=e;for(var r=0;r<n.length+20;r++)t.b^=0|n.charCodeAt(r),t.next()}function r(e,t){return t.a=e.a,t.b=e.b,t.c=e.c,t.d=e.d,t}function a(e,t){var a=new n(e),i=t&&t.state,s=function(){return(a.next()>>>0)/4294967296};return s.double=function(){do{var e=((a.next()>>>11)+(a.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},s.int32=a.next,s.quick=s,i&&("object"==typeof i&&r(i,a),s.state=function(){return r(a,{})}),s}t&&t.exports?t.exports=a:this.tychei=a}(0,u6)),u6.exports),s=y6();return s.alea=e,s.xor128=t,s.xorwow=n,s.xorshift7=r,s.xor4096=a,s.tychei=i,f6=s}();class b6{constructor(e,t,n,r,a){this.mean=e,this.stdDev=t,this.dtype=n,this.nextVal=NaN,this.truncated=r,this.truncated&&(this.upper=this.mean+2*this.stdDev,this.lower=this.mean-2*this.stdDev);const i=a||Math.random();this.random=x6.alea(i.toString())}nextValue(){if(!isNaN(this.nextVal)){const e=this.nextVal;return this.nextVal=NaN,e}let e,t,n=!1;for(;!n;){let r,a,i;do{r=2*this.random()-1,a=2*this.random()-1,i=r*r+a*a}while(i>=1||0===i);const s=Math.sqrt(-2*Math.log(i)/i);e=this.mean+this.stdDev*r*s,t=this.mean+this.stdDev*a*s,this.truncated&&!this.isValidTruncated(e)||(n=!0)}return this.truncated&&!this.isValidTruncated(t)||(this.nextVal=this.convertValue(t)),this.convertValue(e)}convertValue(e){return null==this.dtype||"float32"===this.dtype?e:Math.round(e)}isValidTruncated(e){return e<=this.upper&&e>=this.lower}}class v6{constructor(e=0,t=1,n,r){if(this.canReturnFloat=()=>null==this.dtype||"float32"===this.dtype,this.min=e,this.range=t-e,this.dtype=n,null==r&&(r=Math.random()),"number"==typeof r&&(r=r.toString()),!this.canReturnFloat()&&this.range<=1)throw new Error(`The difference between ${e} - ${t} <= 1 and dtype is not float`);this.random=x6.alea(r)}convertValue(e){return this.canReturnFloat()?e:Math.round(e)}nextValue(){return this.convertValue(this.min+this.range*this.random())}}const w6=y1({randomNormal_:function(e,t=0,n=1,r,a){if(NX(e),null!=r&&"bool"===r)throw new Error(`Unsupported data type ${r}`);const i=new b6(t,n,r,!1,a),s=d2(e,r);for(let o=0;o<s.values.length;o++)s.values[o]=i.nextValue();return s.toTensor()}});const k6=y1({randomUniform_:function(e,t=0,n=1,r="float32",a){NX(e);const i=d2(e,r),s=new v6(t,n,null,a);for(let o=0;o<i.values.length;o++)i.values[o]=s.nextValue();return i.toTensor()}});function S6(e,t,n=1,r="float32"){if(0===n)throw new Error("Cannot have a step of zero");const a={start:e,stop:t,step:n,dtype:r};return o1.runKernel(BQ,{},a)}const N6=y1({real_:function(e){const t={input:m1(e,"input","real")};return o1.runKernel(HQ,t)}});const E6=y1({reciprocal_:function(e){const t={x:m1(e,"x","reciprocal")};return o1.runKernel(UQ,t)}});const A6=y1({relu_:function(e){const t={x:m1(e,"x","relu")};return o1.runKernel(WQ,t)}});const C6=y1({relu6_:function(e){const t={x:m1(e,"x","relu6")};return o1.runKernel(YQ,t)}});const j6=y1({reverse_:function(e,t){const n={x:m1(e,"x","reverse")},r={dims:t};return o1.runKernel(QQ,n,r)}});const M6=y1({round_:function(e){const t={x:m1(e,"x","round")};return o1.runKernel(JQ,t)}});const T6=y1({rsqrt_:function(e){const t={x:m1(e,"x","rsqrt","float32")};return o1.runKernel(eJ,t)}});const I6=y1({selu_:function(e){const t={x:m1(e,"x","selu")};return o1.runKernel(iJ,t)}});const O6=y1({separableConv2d_:function(e,t,n,r,a,i=[1,1],s="NHWC"){const o=m1(e,"x","separableConv2d"),l=m1(t,"depthwiseFilter","separableConv2d"),c=m1(n,"pointwiseFilter","separableConv2d");let u=o,h=!1;if(3===o.rank&&(h=!0,u=Z2(o,[1,o.shape[0],o.shape[1],o.shape[2]])),"NCHW"===s)throw new Error("separableConv2d currently does not support dataFormat NCHW; only NHWC is supported");Yq(4===u.rank,()=>`Error in separableConv2d: input must be rank 4, but got rank ${u.rank}.`),Yq(4===l.rank,()=>`Error in separableConv2d: depthwise filter must be rank 4, but got rank ${l.rank}.`),Yq(4===c.rank,()=>`Error in separableConv2d: pointwise filter must be rank 4, but got rank ${l.rank}.`),Yq(1===c.shape[0],()=>`Error in separableConv2d: the first dimension of pointwise filter  must be 1, but got ${c.shape[0]}.`),Yq(1===c.shape[1],()=>`Error in separableConv2d: the second dimension of pointwise filter must be 1, but got ${c.shape[1]}.`);const d=l.shape[2],p=l.shape[3];Yq(c.shape[2]===d*p,()=>`Error in separableConv2d: the third dimension of pointwise filter must be ${d*p}, but got ${c.shape[2]}.`);const f=C4(u,l,r,a,s,i),m=f4(f,c,1,"valid",s);return h?Z2(m,[m.shape[1],m.shape[2],m.shape[3]]):m}});const P6=y1({sign_:function(e){const t={x:m1(e,"x","sign")};return o1.runKernel(cJ,t)}});const R6=y1({sin_:function(e){const t={x:m1(e,"x","sin","float32")};return o1.runKernel(oJ,t)}});const _6=y1({sinh_:function(e){const t={x:m1(e,"x","sinh")};return o1.runKernel(lJ,t)}});const L6=y1({slice1d_:function(e,t,n){const r=m1(e,"x","slice1d");return Yq(1===r.rank,()=>`slice1d expects a rank-1 tensor, but got a rank-${r.rank} tensor`),Q2(r,[t],[n])}});const $6=y1({slice2d_:function(e,t,n){const r=m1(e,"x","slice2d");return Yq(2===r.rank,()=>`slice2d expects a rank-2 tensor, but got a rank-${r.rank} tensor`),Q2(r,t,n)}});const F6=y1({slice3d_:function(e,t,n){const r=m1(e,"x","slice3d");return Yq(3===r.rank,()=>`slice3d expects a rank-3 tensor, but got a rank-${r.rank} tensor`),Q2(r,t,n)}});const D6=y1({slice4d_:function(e,t,n){const r=m1(e,"x","slice4d");return Yq(4===r.rank,()=>`slice4d expects a rank-4 tensor, but got a rank-${r.rank} tensor`),Q2(r,t,n)}});const z6=y1({softmax_:function(e,t=-1){const n=m1(e,"logits","softmax","float32");if(-1===t&&(t=n.rank-1),t!==n.rank-1)throw Error(`Softmax along a non-last dimension is not yet supported. Logits was rank ${n.rank} and dim was ${t}`);const r={logits:n},a={dim:t};return o1.runKernel(gJ,r,a)}});const V6=y1({fft_:function(e){Yq("complex64"===e.dtype,()=>`The dtype for tf.spectral.fft() must be complex64 but got ${e.dtype}.`);const t={input:e};return o1.runKernel(zY,t)}});const B6=y1({ifft_:function(e){Yq("complex64"===e.dtype,()=>`The dtype for tf.spectral.ifft() must be complex64 but got ${e.dtype}.`);const t={input:e};return o1.runKernel(YY,t)}});const H6=y1({irfft_:function(e){const t=e.shape[e.shape.length-1],n=e.size/t;let r;if(t<=2){const a=Z2(e,[n,t]);r=B6(a)}else{const a=[n,2*(t-1)],i=Z2(N6(e),[n,t]),s=Z2(p8(e),[n,t]),o=j6(Q2(i,[0,1],[n,t-2]),1),l=x2(j6(Q2(s,[0,1],[n,t-2]),1),Y4(-1)),c=q2([i,o],1),u=q2([s,l],1),h=Z2(x1(c,u),[a[0],a[1]]);r=B6(h)}if(r=N6(r),3===e.rank&&0!==e.shape[0]){const t=r,n=e.shape[0];r=Z2(r,[n,r.shape[0]/n,r.shape[1]]),t.dispose()}return r}});const U6=y1({split_:function(e,t,n=0){const r={x:m1(e,"x","split")},a={numOrSizeSplits:t,axis:n};return o1.runKernel(mJ,r,a)}});const W6=y1({rfft_:function(e,t){Yq("float32"===e.dtype,()=>`The dtype for rfft() must be real value but got ${e.dtype}`);let n=e.shape[e.shape.length-1];const r=e.size/n;let a;if(null!=t&&t<n){const r=e.shape.map(e=>0),i=e.shape.map(e=>e);i[e.shape.length-1]=t,a=Q2(e,r,i),n=t}else if(null!=t&&t>n){const r=e.shape.map(e=>e);r[e.shape.length-1]=t-n,a=q2([e,F8(r)],e.shape.length-1),n=t}else a=e;const i=R4(a),s=Z2(x1(a,i),[r,n]),o=V6(s),l=Math.floor(n/2)+1,c=N6(o),u=p8(o),h=U6(c,[l,n-l],c.shape.length-1),d=U6(u,[l,n-l],u.shape.length-1),p=a.shape.slice();return p[a.shape.length-1]=l,Z2(x1(h[0],d[0]),p)}});const Z6=y1({squaredDifference_:function(e,t){let n=m1(e,"a","squaredDifference"),r=m1(t,"b","squaredDifference");[n,r]=e1(n,r),I4(n.shape,r.shape);const a={a:n,b:r};return o1.runKernel(kJ,a,{})}});const G6=y1({squeeze_:function(e,t){const n=m1(e,"x","squeeze","string_or_numeric");return Z2(n,lX(n.shape,t).newShape)}});const K6=y1({stack_:function(e,t=0){const n=g1(e,"tensors","stack","string_or_numeric");Yq(n.length>=1,()=>"Pass at least one tensor to tf.stack"),n.length>0&&Yq(t<=n[0].rank,()=>"Axis must be <= rank of the tensor");const r=n,a={axis:t};return o1.runKernel(RQ,r,a)}});const q6=y1({step_:function(e,t=0){const n={x:m1(e,"x","step")},r={alpha:t};return o1.runKernel(zJ,n,r)}});const X6=y1({stridedSlice_:function(e,t,n,r,a=0,i=0,s=0,o=0,l=0){const c={x:m1(e,"x","stridedSlice","string_or_numeric")},u={begin:t,end:n,strides:r,beginMask:a,endMask:i,ellipsisMask:s,newAxisMask:o,shrinkAxisMask:l};return o1.runKernel(EJ,c,u)}});const Y6=y1({tan_:function(e){const t={x:m1(e,"x","tan","float32")};return o1.runKernel(TJ,t)}});function Q6(e,t){Jq(e);const n=d1(e,t);if(1!==n.length)throw new Error("tensor1d() requires values to be a flat/TypedArray");return b1(e,null,n,t)}function J6(e,t,n){if(Jq(e),null!=t&&2!==t.length)throw new Error("tensor2d() requires shape to have two numbers");const r=d1(e,n);if(2!==r.length&&1!==r.length)throw new Error("tensor2d() requires values to be number[][] or flat/TypedArray");if(1===r.length&&null==t)throw new Error("tensor2d() requires shape to be provided when `values` are a flat/TypedArray");return b1(e,t,r,n)}function e3(e,t,n){const r=t.rank>1?t.shape[t.rank-1]:1,a=t.rank>1?t.rank-1:1,i=`Must have updates.shape = indices.shape[:batchDim] + shape[sliceDim:], got updates.shape: ${n.shape}, indices.shape: ${t.shape}, shape: ${e}, sliceDim: ${r}, and batchDim: ${a}.`;if(n.rank<a)throw new Error(i+` update.rank < ${a}. `);if(e.length<r+(n.rank-a))throw new Error(i+` Output shape length < ${r+(n.rank-a)}`);if(n.rank!==a+e.length-r)throw new Error(i+" update.rank != "+(a+e.length-r));for(let s=0;s<a;++s)if(n.shape[s]!==t.shape[s])throw new Error(i+` updates.shape[${s}] (${n.shape[s]}) != indices.shape[${s}] (${t.shape[s]}).`);for(let s=0;s<n.rank-a;++s)if(n.shape[s+a]!==e[s+r])throw new Error(i+` updates.shape[${s+a}] (${n.shape[s+a]}) != shape[${s+a}] (${e[s+a]})`)}function t3(e,t,n){const r=t.shape.length,a=r>1?t.shape[r-1]:1,i=n.length;let s=1;for(let l=a;l<i;++l)s*=n[l];const o=a<1?1:a;return{sliceRank:a,numUpdates:eX(t.shape)/o,sliceSize:s,strides:[...xX(n.slice(0,a)),1],outputSize:eX(n)}}const n3=y1({topk_:function(e,t=1,n=!0){const r=m1(e,"x","topk");if(0===r.rank)throw new Error("topk() expects the input to be of rank 1 or higher");const a=r.shape[r.shape.length-1];if(t<0)throw new Error(`'k' passed to topk() must be >= 0 but got ${t}`);if(t>a)throw new Error(`'k' passed to topk() must be <= the last dimension (${a}) but got ${t}`);const i={x:r},s={k:t,sorted:n},[o,l]=o1.runKernel(PJ,i,s);return{values:o,indices:l}}});const r3=y1({truncatedNormal_:function(e,t=0,n=1,r,a){if(NX(e),null!=r&&"bool"===r)throw new Error("Unsupported data type $ { dtype }");const i=new b6(t,n,r,!0,a),s=d2(e,r);for(let o=0;o<s.values.length;o++)s.values[o]=i.nextValue();return s.toTensor()}});const a3=y1({unique_:function(e,t=0){const n=m1(e,"x","unique","string_or_numeric");Yq(n.rank>0,()=>"The input tensor must be at least 1D");const r={x:n},a={axis:t},[i,s]=o1.runKernel(LJ,r,a);return{values:i,indices:s}}});const i3=y1({unsortedSegmentSum_:function(e,t,n){const r=m1(e,"x","unsortedSegmentSum"),a=m1(t,"segmentIds","unsortedSegmentSum","int32");Yq(nX(n),()=>"numSegments must be of dtype int");const i={x:r,segmentIds:a},s={numSegments:n};return o1.runKernel(FJ,i,s)}});const s3=y1({unstack_:function(e,t=0){const n=m1(e,"x","unstack","string_or_numeric");Yq(t>=-n.shape.length&&t<n.shape.length,()=>`Axis = ${t} is not in [-${n.shape.length}, ${n.shape.length})`);const r={value:n},a={axis:t};return o1.runKernel($J,r,a)}});function o3(e,t){const n=[];for(let i=0;i<t.length;i++)t[i]&&n.push(i);const r=d2(e,"int32"),a=d2([n.length,e.length],"int32");for(let i=0;i<n.length;i++){const t=r.indexToLoc(n[i]),s=i*e.length;a.values.set(t,s)}return a.toTensor()}const l3=y1({transpose_:function(e,t,n){const r=m1(e,"x","transpose");if(null==t&&(t=r.shape.map((e,t)=>t).reverse()),Yq(r.rank===t.length,()=>`Error in transpose: rank of input ${r.rank} must match length of perm ${t}.`),t.forEach(e=>{Yq(e>=0&&e<r.rank,()=>`All entries in 'perm' must be between 0 and ${r.rank-1} but got ${t}`)}),r.rank<=1)return r.clone();const a={x:r},i={perm:t};return"complex64"===r.dtype?E1(()=>{let e=N6(r),t=p8(r);return e=o1.runKernel(_J,{x:e},i),t=o1.runKernel(_J,{x:t},i),n&&(t=N8(t)),x1(e,t)}):o1.runKernel(_J,a,i)}});const c3=y1({dropout_:function(e,t,n,r){const a=m1(e,"x","dropout");if(Yq("float32"===a.dtype,()=>`x has to be a floating point tensor since it's going to be scaled, but got a ${a.dtype} tensor instead.`),Yq(t>=0&&t<1,()=>`rate must be a float in the range [0, 1), but got ${t}.`),0===t)return e instanceof L0?a.clone():a;const i=function(e,t){if(null==t)return e.shape.slice();if(tX(e.shape,t))return t;if(e.shape.length===t.length){const n=[];for(let r=0;r<e.shape.length;r++)null==t[r]&&null!=e.shape[r]?n.push(e.shape[r]):n.push(t[r]);return n}return t}(a,n),s=1-t,o=y2(c8(m2(k6(i,0,1,"float32",r),s)),s);return x2(a,o)}});const u3=y1({conv2DBackpropFilter_:function(e,t,n,r,a,i="NHWC",s){let o=e;3===e.rank&&(o=Z2(e,[1,e.shape[0],e.shape[1],e.shape[2]]));let l=t;3===l.rank&&(l=Z2(t,[1,t.shape[0],t.shape[1],t.shape[2]])),Yq(4===o.rank,()=>`Error in conv2dDerFilter: input must be rank 4, but got shape ${o.shape}.`),Yq(4===l.rank,()=>`Error in conv2dDerFilter: dy must be rank 4, but got shape ${l.shape}.`),Yq(4===n.length,()=>`Error in conv2dDerFilter: filterShape must be length 4, but got ${n}.`);const c="NHWC"===i?o.shape[3]:o.shape[1],u="NHWC"===i?l.shape[3]:l.shape[1];Yq(c===n[2],()=>`Error in conv2dDerFilter: depth of input ${c}) must match input depth in filter (${n[2]}.`),Yq(u===n[3],()=>`Error in conv2dDerFilter: depth of dy (${u}) must match output depth for filter (${n[3]}).`),W2("conv2dDerFilter",a,s);const h={x:o,dy:l},d={strides:r,pad:a,dataFormat:i,dimRoundingMode:s,filterShape:n};return o1.runKernel(dY,h,d)}});function h3(e,t,n){if(null==n||"linear"===n)return e;if("relu"===n)return x2(e,q6(t));throw new Error(`Cannot compute gradient for fused activation ${n}.`)}function d3(e,t){let n=t;const r=T4(e.shape,t.shape);return r.length>0&&(n=e8(n,r)),Z2(n,e.shape)}function p3(e,t,n,r){if("linear"===t)return e;if("relu"===t)return A6(e);if("elu"===t)return F4(e);if("relu6"===t)return C6(e);if("prelu"===t)return X8(e,n);if("leakyrelu"===t)return y8(e,r);if("sigmoid"===t)return Y2(e);throw new Error(`Unknown fused activation ${t}.`)}const f3=(e,t)=>!(e>0)||"linear"===t;const m3=y1({fusedConv2d_:function({x:e,filter:t,strides:n,pad:r,dataFormat:a="NHWC",dilations:i=[1,1],dimRoundingMode:s,bias:o,activation:l="linear",preluActivationWeights:c,leakyreluAlpha:u}){if(l=l||"linear",!1===f3(o1.state.gradientDepth,l)){Yq("NHWC"===a,()=>`Error in fused conv2d: got dataFormat of ${a} but only NHWC is currently supported for the case of gradient depth is 0 and the activation is not linear.`);let h=f4(e,t,n,r,a,i,s);return null!=o&&(h=m2(h,o)),p3(h,l,c,u)}const h=m1(e,"x","conv2d","float32"),d=m1(t,"filter","conv2d","float32");let p=h,f=!1;3===h.rank&&(f=!0,p=Z2(h,[1,h.shape[0],h.shape[1],h.shape[2]])),Yq(4===p.rank,()=>`Error in fused conv2d: input must be rank 4, but got rank ${p.rank}.`),Yq(4===d.rank,()=>`Error in fused conv2d: filter must be rank 4, but got rank ${d.rank}.`),W2("fused conv2d",r,s);const m="NHWC"===a?p.shape[3]:p.shape[1];Yq(d.shape[2]===m,()=>`Error in conv2d: depth of input (${m}) must match input depth for filter ${d.shape[2]}.`),Yq(B2(n,i),()=>`Error in conv2D: Either strides or dilations must be 1. Got strides ${n} and dilations '${i}'`);const g=R2(p.shape,d.shape,n,i,r,s);let y,x;if(null!=o&&(y=m1(o,"bias","fused conv2d"),[y]=e1(y,h),"NHWC"===a?I4(g.outShape,y.shape):(Yq(y.shape.length<=1,()=>`Error in fused conv2d: only supports scalar or 1-D Tensor bias for NCHW format but got the bias of rank-${y.shape.length}.`),Yq(0===y.shape.length||y.shape[0]===g.outChannels||1===y.shape[0],()=>`Error in fused conv2d: bias shape (${y.shape}) is not compatible with the number of output channels (${g.outChannels})`))),null!=c){const e=c.shape;if(Yq(e.length<=1||3===e.length,()=>`Error in fused conv2d: only supports scalar, 1-D Tensor or 3-D Tensor PReLU activation weights but got a tensor of rank-${e.length}.`),1===e.length)Yq(1===e[0]||e[0]===g.outChannels,()=>`Error in fused conv2d: PReLU activation weights (${e}) is not compatible with the number of output channels (${g.outChannels}).`);else if(3===e.length)try{I4(e,g.outShape)}catch(ATe){const n=`Error in fused conv2d: PReLU activation weights (${e}) is not compatible with the output shape of the conv2d (${g.outShape}).`;throw Error(n)}x=m1(c,"prelu weights","fused conv2d")}const b=(e,t)=>{Yq("NHWC"===a,()=>`Error in gradient of fused conv2D: got dataFormat of ${a} but only NHWC is currently supported.`);const[s,o,c,u]=t,h=h3(e,c,l);Yq(V2(i),()=>`Error in gradient of fused conv2D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '${i}'`);const d=[g4(o.shape,h,s,n,r),u3(o,h,s.shape,n,r)];if(null!=u){const e=d3(u,h);d.push(e)}return d},v={x:p,filter:d,bias:y,preluActivationWeights:x},w={strides:n,pad:r,dataFormat:a,dilations:i,dimRoundingMode:s,activation:l,leakyreluAlpha:u};if(null==o){return S8((e,t,n)=>{let r=o1.runKernel(HJ,v,w);return n([t,e,r]),f&&(r=Z2(r,[r.shape[1],r.shape[2],r.shape[3]])),{value:r,gradFunc:b}})(p,d)}return S8((e,t,n,r)=>{let a=o1.runKernel(HJ,v,w);return r([t,e,a,n]),f&&(a=Z2(a,[a.shape[1],a.shape[2],a.shape[3]])),{value:a,gradFunc:b}})(p,d,y)}});const g3=y1({depthwiseConv2dNativeBackpropFilter_:function(e,t,n,r,a,i=[1,1],s){let o=e;3===e.rank&&(o=Z2(e,[1,e.shape[0],e.shape[1],e.shape[2]]));let l=t;3===l.rank&&(l=Z2(t,[1,t.shape[0],t.shape[1],t.shape[2]]));const c={x:o,dy:l},u={strides:r,pad:a,dimRoundingMode:s,dilations:i,filterShape:n};return o1.runKernel(EY,c,u)}});const y3=y1({depthwiseConv2dNativeBackpropInput_:function(e,t,n,r,a,i=[1,1],s){let o=t,l=!1;3===t.rank&&(l=!0,o=Z2(t,[1,t.shape[0],t.shape[1],t.shape[2]]));const c={dy:o,filter:n},u={strides:r,pad:a,dimRoundingMode:s,dilations:i,inputShape:e},h=o1.runKernel(AY,c,u);return l?Z2(h,[h.shape[1],h.shape[2],h.shape[3]]):h}});const x3=y1({fusedMatMul_:function({a:e,b:t,transposeA:n=!1,transposeB:r=!1,bias:a,activation:i="linear",preluActivationWeights:s,leakyreluAlpha:o=.2}){if(!1===f3(o1.state.gradientDepth,i)){let l=X2(e,t,n,r);return null!=a&&(l=m2(l,a)),p3(l,i,s,o)}let l=m1(e,"a","fused matMul"),c=m1(t,"b","fused matMul");[l,c]=e1(l,c);const u=n?l.shape[l.rank-2]:l.shape[l.rank-1],h=r?c.shape[c.rank-1]:c.shape[c.rank-2],d=n?l.shape[l.rank-1]:l.shape[l.rank-2],p=r?c.shape[c.rank-2]:c.shape[c.rank-1],f=l.shape.slice(0,-2),m=c.shape.slice(0,-2),g=eX(f),y=eX(m);Yq(u===h,()=>`Error in fused matMul: inner shapes (${u}) and (${h}) of Tensors with shapes ${l.shape} and ${c.shape} and transposeA=${n} and transposeB=${r} must match.`);const x=I4(l.shape.slice(0,-2),c.shape.slice(0,-2)).concat([d,p]),b=Z2(l,n?[g,u,d]:[g,d,u]),v=Z2(c,r?[y,p,h]:[y,h,p]);let w,k;null!=a&&(w=m1(a,"bias","fused matMul"),[w]=e1(w,l),I4(x,w.shape)),null!=s&&(k=m1(s,"prelu weights","fused matMul"));const S=(e,t)=>{const[s,o,l,c]=t,u=h3(Z2(e,l.shape),l,i);let h,d;if(n||r?!n&&r?(h=X2(u,o,!1,!1),d=X2(u,s,!0,!1)):n&&!r?(h=X2(o,u,!1,!0),d=X2(s,u,!1,!1)):(h=X2(o,u,!0,!0),d=X2(u,s,!0,!0)):(h=X2(u,o,!1,!0),d=X2(s,u,!0,!1)),null!=a){return[h,d,d3(c,u)]}return[h,d]},N={a:b,b:v,bias:w,preluActivationWeights:k},E={transposeA:n,transposeB:r,activation:i,leakyreluAlpha:o};if(null==a){return S8((e,t,n)=>{const r=o1.runKernel(BJ,N,E);return n([e,t,r]),{value:Z2(r,x),gradFunc:S}})(b,v)}return S8((e,t,n,r)=>{const a=o1.runKernel(BJ,N,E);return r([e,t,a,n]),{value:Z2(a,x),gradFunc:S}})(b,v,w)}});const b3=y1({cropAndResize_:function(e,t,n,r,a="bilinear",i=0){const s=m1(e,"image","cropAndResize"),o=m1(t,"boxes","cropAndResize","float32"),l=m1(n,"boxInd","cropAndResize","int32"),c=o.shape[0];Yq(4===s.rank,()=>`Error in cropAndResize: image must be rank 4,but got rank ${s.rank}.`),Yq(2===o.rank&&4===o.shape[1],()=>`Error in cropAndResize: boxes must be have size [${c},4] but had shape ${o.shape}.`),Yq(1===l.rank&&l.shape[0]===c,()=>`Error in cropAndResize: boxInd must be have size [${c}] but had shape ${o.shape}.`),Yq(2===r.length,()=>`Error in cropAndResize: cropSize must be of length 2, but got length ${r.length}.`),Yq(r[0]>=1&&r[1]>=1,()=>`cropSize must be atleast [1,1], but was ${r}`),Yq("bilinear"===a||"nearest"===a,()=>`method must be bilinear or nearest, but was ${a}`);const u={image:s,boxes:o,boxInd:l},h={method:a,extrapolationValue:i,cropSize:r};return o1.runKernel(wY,u,h)}});const v3=y1({flipLeftRight_:function(e){const t=m1(e,"image","flipLeftRight","float32");Yq(4===t.rank,()=>`Error in flipLeftRight: image must be rank 4,but got rank ${t.rank}.`);const n={image:t};return o1.runKernel(BY,n,{})}});const w3=y1({grayscaleToRGB_:function(e){const t=m1(e,"image","grayscaleToRGB"),n=t.rank-1,r=t.shape[n];Yq(t.rank>=2,()=>`Error in grayscaleToRGB: images must be at least rank 2, but got rank ${t.rank}.`),Yq(1===r,()=>`Error in grayscaleToRGB: last dimension of a grayscale image should be size 1, but got size ${r}.`);const a=new Array(t.rank);return a.fill(1,0,n),a[n]=3,o8(t,a)}});const k3=y1({rgbToGrayscale_:function(e){const t=m1(e,"image","RGBToGrayscale"),n=t.rank-1,r=t.shape[n];Yq(t.rank>=2,()=>`Error in RGBToGrayscale: images must be at least rank 2, but got rank ${t.rank}.`),Yq(3===r,()=>`Error in RGBToGrayscale: last dimension of an RGB image should be size 3, but got size ${r}.`);const a=t.dtype,i=p2(t,"float32"),s=Q6([.2989,.587,.114]);let o;switch(t.rank){case 2:o=$4("ij,j->i",i,s);break;case 3:o=$4("ijk,k->ij",i,s);break;case 4:o=$4("ijkl,l->ijk",i,s);break;case 5:o=$4("ijklm,m->ijkl",i,s);break;case 6:o=$4("ijklmn,n->ijklm",i,s);break;default:throw new Error("Not a valid tensor rank.")}return o=i8(o,-1),p2(o,a)}});const S3=y1({rotateWithOffset_:function(e,t,n=0,r=.5){const a=m1(e,"image","rotateWithOffset","float32");Yq(4===a.rank,()=>`Error in rotateWithOffset: image must be rank 4,but got rank ${a.rank}.`);const i={image:a},s={radians:t,fillValue:n,center:r};return o1.runKernel(VJ,i,s)}});function N3(e,t,n,r,a,i){null==r&&(r=.5),null==a&&(a=Number.NEGATIVE_INFINITY),null==i&&(i=0);const s=e.shape[0];return n=Math.min(n,s),Yq(0<=r&&r<=1,()=>`iouThreshold must be in [0, 1], but was '${r}'`),Yq(2===e.rank,()=>`boxes must be a 2D tensor, but was of rank '${e.rank}'`),Yq(4===e.shape[1],()=>`boxes must have 4 columns, but 2nd dimension was ${e.shape[1]}`),Yq(1===t.rank,()=>"scores must be a 1D tensor"),Yq(t.shape[0]===s,()=>`scores has incompatible shape with boxes. Expected ${s}, but was ${t.shape[0]}`),Yq(0<=i&&i<=1,()=>`softNmsSigma must be in [0, 1], but was '${i}'`),{maxOutputSize:n,iouThreshold:r,scoreThreshold:a,softNmsSigma:i}}const E3=y1({nonMaxSuppression_:function(e,t,n,r=.5,a=Number.NEGATIVE_INFINITY){const i=m1(e,"boxes","nonMaxSuppression","float32"),s=m1(t,"scores","nonMaxSuppression","float32"),o=N3(i,s,n,r,a),l={maxOutputSize:n=o.maxOutputSize,iouThreshold:r=o.iouThreshold,scoreThreshold:a=o.scoreThreshold};return o1.runKernel(MQ,{boxes:i,scores:s},l)}});function A3(e,t,n){const r=function(e,t,n){return function(e,t,n){let r=0,a=e.length,i=0,s=!1;for(;r<a;){i=r+(a-r>>>1);const o=n(t,e[i]);o>0?r=i+1:(a=i,s=!o)}return s?r:-r-1}(e,t,n||C3)}(e,t,n),a=r<0?-(r+1):r;e.splice(a,0,t)}function C3(e,t){return e>t?1:e<t?-1:0}function j3(e,t,n,r,a){return I3(e,t,n,r,a,0)}function M3(e,t,n,r,a,i){return I3(e,t,n,r,a,0,!1,i,!0)}function T3(e,t,n,r,a,i){return I3(e,t,n,r,a,i,!0)}function I3(e,t,n,r,a,i,s=!1,o=!1,l=!1){const c=[];for(let g=0;g<t.length;g++)t[g]>a&&c.push({score:t[g],boxIndex:g,suppressBeginIndex:0});c.sort(R3);const u=i>0?-.5/i:0,h=[],d=[];for(;h.length<n&&c.length>0;){const t=c.pop(),{score:n,boxIndex:i,suppressBeginIndex:s}=t;if(n<a)break;let o=!1;for(let l=h.length-1;l>=s;--l){const n=O3(e,i,h[l]);if(n>=r){o=!0;break}if(t.score=t.score*P3(r,u,n),t.score<=a)break}t.suppressBeginIndex=h.length,o||(t.score===n?(h.push(i),d.push(t.score)):t.score>a&&A3(c,t,R3))}const p=h.length,f=n-p;o&&f>0&&(h.push(...new Array(f).fill(0)),d.push(...new Array(f).fill(0)));const m={selectedIndices:h};return s&&(m.selectedScores=d),l&&(m.validOutputs=p),m}function O3(e,t,n){const r=e.subarray(4*t,4*t+4),a=e.subarray(4*n,4*n+4),i=Math.min(r[0],r[2]),s=Math.min(r[1],r[3]),o=Math.max(r[0],r[2]),l=Math.max(r[1],r[3]),c=Math.min(a[0],a[2]),u=Math.min(a[1],a[3]),h=Math.max(a[0],a[2]),d=Math.max(a[1],a[3]),p=(o-i)*(l-s),f=(h-c)*(d-u);if(p<=0||f<=0)return 0;const m=Math.max(i,c),g=Math.max(s,u),y=Math.min(o,h),x=Math.min(l,d),b=Math.max(y-m,0)*Math.max(x-g,0);return b/(p+f-b)}function P3(e,t,n){const r=Math.exp(t*n*n);return n<=e?r:0}function R3(e,t){return e.score-t.score||e.score===t.score&&t.boxIndex-e.boxIndex}const _3=async function(e,t,n,r=.5,a=Number.NEGATIVE_INFINITY){const i=m1(e,"boxes","nonMaxSuppressionAsync"),s=m1(t,"scores","nonMaxSuppressionAsync"),o=N3(i,s,n,r,a);n=o.maxOutputSize,r=o.iouThreshold,a=o.scoreThreshold;const l=await Promise.all([i.data(),s.data()]),c=l[0],u=l[1],{selectedIndices:h}=j3(c,u,n,r,a);return i!==e&&i.dispose(),s!==t&&s.dispose(),Q6(h,"int32")};const L3=y1({nonMaxSuppressionWithScore_:function(e,t,n,r=.5,a=Number.NEGATIVE_INFINITY,i=0){const s=m1(e,"boxes","nonMaxSuppression"),o=m1(t,"scores","nonMaxSuppression"),l=N3(s,o,n,r,a,i),c={boxes:s,scores:o},u={maxOutputSize:n=l.maxOutputSize,iouThreshold:r=l.iouThreshold,scoreThreshold:a=l.scoreThreshold,softNmsSigma:i=l.softNmsSigma},h=o1.runKernel(IQ,c,u);return{selectedIndices:h[0],selectedScores:h[1]}}});const $3=async function(e,t,n,r=.5,a=Number.NEGATIVE_INFINITY,i=0){const s=m1(e,"boxes","nonMaxSuppressionAsync"),o=m1(t,"scores","nonMaxSuppressionAsync"),l=N3(s,o,n,r,a,i);n=l.maxOutputSize,r=l.iouThreshold,a=l.scoreThreshold,i=l.softNmsSigma;const c=await Promise.all([s.data(),o.data()]),u=c[0],h=c[1],{selectedIndices:d,selectedScores:p}=T3(u,h,n,r,a,i);return s!==e&&s.dispose(),o!==t&&o.dispose(),{selectedIndices:Q6(d,"int32"),selectedScores:Q6(p)}};const F3=y1({nonMaxSuppressionPadded_:function(e,t,n,r=.5,a=Number.NEGATIVE_INFINITY,i=!1){const s=m1(e,"boxes","nonMaxSuppression"),o=m1(t,"scores","nonMaxSuppression"),l=N3(s,o,n,r,a,null),c={boxes:s,scores:o},u={maxOutputSize:l.maxOutputSize,iouThreshold:l.iouThreshold,scoreThreshold:l.scoreThreshold,padToMaxOutputSize:i},h=o1.runKernel(TQ,c,u);return{selectedIndices:h[0],validOutputs:h[1]}}});const D3=async function(e,t,n,r=.5,a=Number.NEGATIVE_INFINITY,i=!1){const s=m1(e,"boxes","nonMaxSuppressionAsync"),o=m1(t,"scores","nonMaxSuppressionAsync"),l=N3(s,o,n,r,a,null),c=l.maxOutputSize,u=l.iouThreshold,h=l.scoreThreshold,[d,p]=await Promise.all([s.data(),o.data()]),{selectedIndices:f,validOutputs:m}=M3(d,p,c,u,h,i);return s!==e&&s.dispose(),o!==t&&o.dispose(),{selectedIndices:Q6(f,"int32"),validOutputs:Y4(m,"int32")}};const z3=y1({resizeBilinear_:function(e,t,n=!1,r=!1){const a=m1(e,"images","resizeBilinear");Yq(3===a.rank||4===a.rank,()=>`Error in resizeBilinear: x must be rank 3 or 4, but got rank ${a.rank}.`),Yq(2===t.length,()=>`Error in resizeBilinear: new shape must 2D, but got shape ${t}.`),Yq(!1===r||!1===n,()=>"Error in resizeBilinear: If halfPixelCenters is true, alignCorners must be false.");let i=a,s=!1;3===a.rank&&(s=!0,i=Z2(a,[1,a.shape[0],a.shape[1],a.shape[2]]));const o={images:i},l={alignCorners:n,halfPixelCenters:r,size:t},c=o1.runKernel(qQ,o,l);return s?Z2(c,[c.shape[1],c.shape[2],c.shape[3]]):c}});const V3=y1({resizeNearestNeighbor_:function(e,t,n=!1,r=!1){const a=m1(e,"images","resizeNearestNeighbor");Yq(3===a.rank||4===a.rank,()=>`Error in resizeNearestNeighbor: x must be rank 3 or 4, but got rank ${a.rank}.`),Yq(2===t.length,()=>`Error in resizeNearestNeighbor: new shape must 2D, but got shape ${t}.`),Yq("float32"===a.dtype||"int32"===a.dtype,()=>"`images` must have `int32` or `float32` as dtype"),Yq(!1===r||!1===n,()=>"Error in resizeNearestNeighbor: If halfPixelCenters is true, alignCorners must be false.");let i=a,s=!1;3===a.rank&&(s=!0,i=Z2(a,[1,a.shape[0],a.shape[1],a.shape[2]]));const o={images:i},l={alignCorners:n,halfPixelCenters:r,size:t},c=o1.runKernel(GQ,o,l);return s?Z2(c,[c.shape[1],c.shape[2],c.shape[3]]):c}});function B3(e,t=!1){return o1.tidy(()=>{Yq(2===e.shape.length,()=>`qr2d() requires a 2D Tensor, but got a ${e.shape.length}D Tensor.`);const n=e.shape[0],r=e.shape[1];let a=l8(n),i=f2(e);const s=J6([[1]],[1,1]);let o=f2(s);const l=n>=r?r:n;for(let e=0;e<l;++e){const t=i,l=o,c=a;[o,i,a]=o1.tidy(()=>{const t=Q2(i,[e,e],[n-e,1]),l=n8(t),c=Q2(i,[e,e],[1,1]),u=P4(h8(c,0),J6([[-1]]),J6([[1]])),h=C8(c,x2(u,l)),d=y2(t,h);o=1===d.shape[0]?f2(s):q2([s,Q2(d,[1,0],[d.shape[0]-1,d.shape[1]])],0);const p=N8(y2(X2(u,h),l)),f=Q2(i,[e,0],[n-e,r]),m=x2(p,o),g=l3(o);if(0===e)i=C8(f,X2(m,X2(g,f)));else{const t=C8(f,X2(m,X2(g,f)));i=q2([Q2(i,[0,0],[e,r]),t],0)}const y=l3(m),x=Q2(a,[0,e],[n,a.shape[1]-e]);if(0===e)a=C8(x,X2(X2(x,o),y));else{const t=C8(x,X2(X2(x,o),y));a=q2([Q2(a,[0,0],[n,e]),t],1)}return[o,i,a]}),A1([t,l,c])}return!t&&n>r&&(a=Q2(a,[0,0],[n,r]),i=Q2(i,[0,0],[r,r])),[a,i]})}const H3={flipLeftRight:v3,grayscaleToRGB:w3,resizeNearestNeighbor:V3,resizeBilinear:z3,rgbToGrayscale:k3,rotateWithOffset:S3,cropAndResize:b3,nonMaxSuppression:E3,nonMaxSuppressionAsync:_3,nonMaxSuppressionWithScore:L3,nonMaxSuppressionWithScoreAsync:$3,nonMaxSuppressionPadded:F3,nonMaxSuppressionPaddedAsync:D3,threshold:y1({threshold_:function(e,t="binary",n=!1,r=.5){const a=m1(e,"image","threshold"),i=a.shape[0]*a.shape[1];let s,o,l,c,u=x2(Q6([r]),255);if(Yq(3===a.rank,()=>`Error in threshold: image must be rank 3,but got rank ${a.rank}.`),Yq(3===a.shape[2]||1===a.shape[2],()=>`Error in threshold: image color channel must be equal to 3 or 1but got ${a.shape[2]}.`),Yq("int32"===a.dtype||"float32"===a.dtype,()=>`Error in dtype: image dtype must be int32 or float32,but got dtype ${a.dtype}.`),Yq("otsu"===t||"binary"===t,()=>`Method must be binary or otsu, but was ${t}`),3===a.shape[2]){[s,o,l]=U6(a,[1,1,1],-1);const e=x2(s,.2989),t=x2(o,.587),n=x2(l,.114);c=m2(m2(e,t),n)}else c=e;if("otsu"===t){u=function(e,t){let n,r,a,i,s,o,l=Q6([-1]),c=Q6([0]),u=Q6([0]);for(let h=0;h<e.size-1;h++){n=Q2(e,0,h+1),r=Q2(e,h+1),s=y2(e8(n),t),o=y2(e8(r),t);const d=e8(x2(n,S6(0,n.size)));a=y2(d,e8(n));const p=l4(r.shape,n.size),f=m2(S6(0,r.size),p),m=x2(r,f);i=y2(e8(m),e8(r));const g=C8(a,i),y=C8(a,i),x=x2(s,o);u=x2(x2(x,g),y);const b=h8(u,c);c=P4(b,u,c),l=P4(b,Q6([h]),l)}return l}(i4(p2(M6(c),"int32"),v1([]),256),i)}const h=n?b8(c,u):h8(c,u);return p2(x2(h,255),"int32")}}),transform:y1({transform_:function(e,t,n="nearest",r="constant",a=0,i){const s=m1(e,"image","transform","float32"),o=m1(t,"transforms","transform","float32");Yq(4===s.rank,()=>`Error in transform: image must be rank 4,but got rank ${s.rank}.`),Yq(2===o.rank&&(o.shape[0]===s.shape[0]||1===o.shape[0])&&8===o.shape[1],()=>"Error in transform: Input transform should be batch x 8 or 1 x 8"),Yq(null==i||2===i.length,()=>`Error in transform: outputShape must be [height, width] or null, but got ${i}.`);const l={image:s,transforms:o},c={interpolation:n,fillMode:r,fillValue:a,outputShape:i};return o1.runKernel(RJ,l,c)}})},U3={bandPart:y1({bandPart_:function(e,t,n){const r=m1(e,"a","bandPart");Yq(r.rank>=2,()=>`bandPart(): Rank must be at least 2, got ${r.rank}.`);const a=r.shape,[i,s]=r.shape.slice(-2);let o,l;"number"==typeof t?(Yq(t%1==0,()=>`bandPart(): numLower must be an integer, got ${t}.`),Yq(t<=i,()=>`bandPart(): numLower (${t}) must not be greater than the number of rows (${i}).`),o=m1(t<0?i:t,"numLower","bandPart")):(Yq("int32"===t.dtype,()=>"bandPart(): numLower's dtype must be an int32."),o=P4(x8(t,0),i,z8(t,i))),"number"==typeof n?(Yq(n%1==0,()=>`bandPart(): numUpper must be an integer, got ${n}.`),Yq(n<=s,()=>`bandPart(): numUpper (${n}) must not be greater than the number of columns (${s}).`),l=m1(n<0?s:n,"numUpper","bandPart")):(Yq("int32"===n.dtype,()=>"bandPart(): numUpper's dtype must be an int32."),l=P4(x8(n,0),s,z8(n,s)));const c=Z2(S6(0,i,1,"int32"),[-1,1]),u=S6(0,s,1,"int32"),h=C8(c,u),d=T8(b8(h,o),d8(h,N8(l))),p=F8([i,s],r.dtype);return Z2(K6(s3(Z2(r,[-1,i,s])).map(e=>P4(d,e,p))),a)}}),gramSchmidt:y1({gramSchmidt_:function(e){let t;if(Array.isArray(e)){t=!1,Yq(null!=e&&e.length>0,()=>"Gram-Schmidt process: input must not be null, undefined, or empty");const n=e[0].shape[0];for(let t=1;t<e.length;++t)Yq(e[t].shape[0]===n,()=>`Gram-Schmidt: Non-unique lengths found in the input vectors: (${e[t].shape[0]} vs. ${n})`)}else t=!0,e=U6(e,e.shape[0],0).map(e=>G6(e,[0]));Yq(e.length<=e[0].shape[0],()=>`Gram-Schmidt: Number of vectors (${e.length}) exceeds number of dimensions (${e[0].shape[0]}).`);const n=[],r=e;for(let a=0;a<e.length;++a)n.push(o1.tidy(()=>{let e=r[a];if(a>0)for(let t=0;t<a;++t){const r=x2(e8(x2(n[t],e)),n[t]);e=C8(e,r)}return y2(e,n8(e,"euclidean"))}));return t?K6(n,0):n}}),qr:y1({qr_:function(e,t=!1){if(Yq(e.rank>=2,()=>`qr() requires input tensor to have a rank >= 2, but got rank ${e.rank}`),2===e.rank)return B3(e,t);{const n=e.shape.slice(0,e.shape.length-2).reduce((e,t)=>e*t),r=s3(Z2(e,[n,e.shape[e.shape.length-2],e.shape[e.shape.length-1]]),0),a=[],i=[];r.forEach(e=>{const[n,r]=B3(e,t);a.push(n),i.push(r)});return[Z2(K6(a,0),e.shape),Z2(K6(i,0),e.shape)]}}})},W3=new Map,Z3=new Map;class G3{getClassName(){return this.constructor.className}static fromConfig(e,t){return new e(t)}}class K3{constructor(){this.classNameMap={}}static getMap(){return null==K3.instance&&(K3.instance=new K3),K3.instance}static register(e){K3.getMap().classNameMap[e.className]=[e,e.fromConfig]}}function q3(e,t,n){Yq(null!=e.className,()=>"Class being registered does not have the static className property defined."),Yq("string"==typeof e.className,()=>"className is required to be a string, but got type "+typeof e.className),Yq(e.className.length>0,()=>"Class being registered has an empty-string as its className, which is disallowed."),void 0===t&&(t="Custom"),void 0===n&&(n=e.className);const r=t+">"+n;return K3.register(e),W3.set(r,e),Z3.set(e,r),e}class X3 extends G3{minimize(e,t=!1,n){const{value:r,grads:a}=this.computeGradients(e,n);if(null!=n){const e=n.map(e=>({name:e.name,tensor:a[e.name]}));this.applyGradients(e)}else this.applyGradients(a);return A1(a),t?r:(r.dispose(),null)}get iterations(){return null==this.iterations_&&(this.iterations_=0),this.iterations_}incrementIterations(){this.iterations_=this.iterations+1}computeGradients(e,t){return function(e,t){Yq(gX(e),()=>"The f passed in variableGrads(f) must be a function"),Yq(null==t||Array.isArray(t)&&t.every(e=>e instanceof F0),()=>"The varList passed in variableGrads(f, varList) must be an array of variables");const n=null!=t;if(!n){t=[];for(const e in o1.registeredVariables)t.push(o1.registeredVariables[e])}const r=n?t.filter(e=>!e.trainable):null,a=t.length;Yq((t=t.filter(e=>e.trainable)).length>0,()=>`variableGrads() expects at least one of the input variables to be trainable, but none of the ${a} variables is trainable.`);const{value:i,grads:s}=o1.gradients(e,t,null,!0);Yq(s.some(e=>null!=e),()=>"Cannot find a connection between any variable and the result of the loss function y=f(x). Please make sure the operations that use variables are inside the function f passed to minimize()."),Yq(0===i.rank,()=>`The f passed in variableGrads(f) must return a scalar, but it returned a rank-${i.rank} tensor`);const o={};return t.forEach((e,t)=>{null!=s[t]&&(o[e.name]=s[t])}),null!=r&&r.forEach(e=>o[e.name]=null),{value:i,grads:o}}(e,t)}dispose(){null!=this.iterations_&&A1(this.iterations_)}async saveIterations(){return null==this.iterations_&&(this.iterations_=0),{name:"iter",tensor:Y4(this.iterations_,"int32")}}async getWeights(){throw new Error("getWeights() is not implemented for this optimizer yet.")}async setWeights(e){throw new Error(`setWeights() is not implemented for this optimizer class ${this.getClassName()}`)}async extractIterations(e){return this.iterations_=(await e[0].tensor.data())[0],e.slice(1)}}Object.defineProperty(X3,Symbol.hasInstance,{value:e=>null!=e.minimize&&null!=e.computeGradients&&null!=e.applyGradients});class Y3 extends X3{static get className(){return"Adadelta"}constructor(e,t,n=null){super(),this.learningRate=e,this.rho=t,this.epsilon=n,this.accumulatedGrads=[],this.accumulatedUpdates=[],null==n&&(this.epsilon=o1.backend.epsilon())}applyGradients(e){(Array.isArray(e)?e.map(e=>e.name):Object.keys(e)).forEach((t,n)=>{const r=o1.registeredVariables[t],a=!1;null==this.accumulatedGrads[n]&&(this.accumulatedGrads[n]={originalName:`${t}/accum_grad`,variable:E1(()=>R4(r).variable(a))}),null==this.accumulatedUpdates[n]&&(this.accumulatedUpdates[n]={originalName:`${t}/accum_var`,variable:E1(()=>R4(r).variable(a))});const i=Array.isArray(e)?e[n].tensor:e[t];if(null==i)return;const s=this.accumulatedGrads[n].variable,o=this.accumulatedUpdates[n].variable;E1(()=>{const e=m2(x2(s,this.rho),x2(J4(i),1-this.rho)),t=x2(y2(Q4(m2(o,this.epsilon)),Q4(m2(s,this.epsilon))),i),n=m2(x2(o,this.rho),x2(J4(t),1-this.rho));s.assign(e),o.assign(n);const a=m2(x2(t,-this.learningRate),r);r.assign(a)})}),this.incrementIterations()}dispose(){null!=this.accumulatedUpdates&&(A1(this.accumulatedGrads.map(e=>e.variable)),A1(this.accumulatedUpdates.map(e=>e.variable)))}async getWeights(){const e=[...this.accumulatedGrads,...this.accumulatedUpdates];return[await this.saveIterations()].concat(e.map(e=>({name:e.originalName,tensor:e.variable})))}async setWeights(e){const t=(e=await this.extractIterations(e)).length/2,n=!1;this.accumulatedGrads=e.slice(0,t).map(e=>({originalName:e.name,variable:e.tensor.variable(n)})),this.accumulatedUpdates=e.slice(t,2*t).map(e=>({originalName:e.name,variable:e.tensor.variable(n)}))}getConfig(){return{learningRate:this.learningRate,rho:this.rho,epsilon:this.epsilon}}static fromConfig(e,t){return new e(t.learningRate,t.rho,t.epsilon)}}class Q3 extends X3{static get className(){return"Adagrad"}constructor(e,t=.1){super(),this.learningRate=e,this.initialAccumulatorValue=t,this.accumulatedGrads=[]}applyGradients(e){(Array.isArray(e)?e.map(e=>e.name):Object.keys(e)).forEach((t,n)=>{const r=o1.registeredVariables[t];if(null==this.accumulatedGrads[n]){const e=!1;this.accumulatedGrads[n]={originalName:`${t}/accumulator`,variable:E1(()=>l4(r.shape,this.initialAccumulatorValue).variable(e))}}const a=Array.isArray(e)?e[n].tensor:e[t];if(null==a)return;const i=this.accumulatedGrads[n].variable;E1(()=>{const e=m2(i,J4(a));i.assign(e);const t=m2(x2(y2(a,Q4(m2(e,o1.backend.epsilon()))),-this.learningRate),r);r.assign(t)})}),this.incrementIterations()}dispose(){null!=this.accumulatedGrads&&A1(this.accumulatedGrads.map(e=>e.variable))}async getWeights(){return[await this.saveIterations()].concat(this.accumulatedGrads.map(e=>({name:e.originalName,tensor:e.variable})))}async setWeights(e){e=await this.extractIterations(e);this.accumulatedGrads=e.map(e=>({originalName:e.name,variable:e.tensor.variable(false)}))}getConfig(){return{learningRate:this.learningRate,initialAccumulatorValue:this.initialAccumulatorValue}}static fromConfig(e,t){return new e(t.learningRate,t.initialAccumulatorValue)}}class J3 extends X3{static get className(){return"Adam"}constructor(e,t,n,r=null){super(),this.learningRate=e,this.beta1=t,this.beta2=n,this.epsilon=r,this.accumulatedFirstMoment=[],this.accumulatedSecondMoment=[],E1(()=>{this.accBeta1=Y4(t).variable(),this.accBeta2=Y4(n).variable()}),null==r&&(this.epsilon=o1.backend.epsilon())}applyGradients(e){const t=Array.isArray(e)?e.map(e=>e.name):Object.keys(e);E1(()=>{const n=C8(1,this.accBeta1),r=C8(1,this.accBeta2);t.forEach((t,a)=>{const i=o1.registeredVariables[t],s=!1;null==this.accumulatedFirstMoment[a]&&(this.accumulatedFirstMoment[a]={originalName:`${t}/m`,variable:E1(()=>R4(i).variable(s))}),null==this.accumulatedSecondMoment[a]&&(this.accumulatedSecondMoment[a]={originalName:`${t}/v`,variable:E1(()=>R4(i).variable(s))});const o=Array.isArray(e)?e[a].tensor:e[t];if(null==o)return;const l=this.accumulatedFirstMoment[a].variable,c=this.accumulatedSecondMoment[a].variable,u=m2(x2(l,this.beta1),x2(o,1-this.beta1)),h=m2(x2(c,this.beta2),x2(J4(o),1-this.beta2)),d=y2(u,n),p=y2(h,r);l.assign(u),c.assign(h);const f=m2(x2(y2(d,m2(Q4(p),this.epsilon)),-this.learningRate),i);i.assign(f)}),this.accBeta1.assign(x2(this.accBeta1,this.beta1)),this.accBeta2.assign(x2(this.accBeta2,this.beta2))}),this.incrementIterations()}dispose(){this.accBeta1.dispose(),this.accBeta2.dispose(),null!=this.accumulatedFirstMoment&&A1(this.accumulatedFirstMoment.map(e=>e.variable)),null!=this.accumulatedSecondMoment&&A1(this.accumulatedSecondMoment.map(e=>e.variable))}async getWeights(){const e=[...this.accumulatedFirstMoment,...this.accumulatedSecondMoment];return[await this.saveIterations()].concat(e.map(e=>({name:e.originalName,tensor:e.variable})))}async setWeights(e){e=await this.extractIterations(e),E1(()=>{this.accBeta1.assign(X4(this.beta1,this.iterations_+1)),this.accBeta2.assign(X4(this.beta2,this.iterations_+1))});const t=e.length/2,n=!1;this.accumulatedFirstMoment=e.slice(0,t).map(e=>({originalName:e.name,variable:e.tensor.variable(n)})),this.accumulatedSecondMoment=e.slice(t,2*t).map(e=>({originalName:e.name,variable:e.tensor.variable(n)}))}getConfig(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon}}static fromConfig(e,t){return new e(t.learningRate,t.beta1,t.beta2,t.epsilon)}}class e5 extends X3{static get className(){return"Adamax"}constructor(e,t,n,r=null,a=0){super(),this.learningRate=e,this.beta1=t,this.beta2=n,this.epsilon=r,this.decay=a,this.accumulatedFirstMoment=[],this.accumulatedWeightedInfNorm=[],E1(()=>{this.iteration=Y4(0).variable(),this.accBeta1=Y4(t).variable()}),null==r&&(this.epsilon=o1.backend.epsilon())}applyGradients(e){const t=Array.isArray(e)?e.map(e=>e.name):Object.keys(e);E1(()=>{const n=C8(1,this.accBeta1),r=y2(-this.learningRate,m2(x2(this.iteration,this.decay),1));t.forEach((t,a)=>{const i=o1.registeredVariables[t],s=!1;null==this.accumulatedFirstMoment[a]&&(this.accumulatedFirstMoment[a]={originalName:`${t}/m`,variable:R4(i).variable(s)}),null==this.accumulatedWeightedInfNorm[a]&&(this.accumulatedWeightedInfNorm[a]={originalName:`${t}/v`,variable:R4(i).variable(s)});const o=Array.isArray(e)?e[a].tensor:e[t];if(null==o)return;const l=this.accumulatedFirstMoment[a].variable,c=this.accumulatedWeightedInfNorm[a].variable,u=m2(x2(l,this.beta1),x2(o,1-this.beta1)),h=x2(c,this.beta2),d=b2(o),p=L8(h,d);l.assign(u),c.assign(p);const f=m2(x2(y2(r,n),y2(u,m2(p,this.epsilon))),i);i.assign(f)}),this.iteration.assign(m2(this.iteration,1)),this.accBeta1.assign(x2(this.accBeta1,this.beta1))}),this.incrementIterations()}dispose(){this.accBeta1.dispose(),this.iteration.dispose(),null!=this.accumulatedFirstMoment&&A1(this.accumulatedFirstMoment.map(e=>e.variable)),null!=this.accumulatedWeightedInfNorm&&A1(this.accumulatedWeightedInfNorm.map(e=>e.variable))}async getWeights(){throw new Error("getWeights() is not implemented for Adamax yet.")}async setWeights(e){throw new Error("setWeights() is not implemented for Adamax yet.")}getConfig(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon,decay:this.decay}}static fromConfig(e,t){return new e(t.learningRate,t.beta1,t.beta2,t.epsilon,t.decay)}}class t5 extends X3{static get className(){return"SGD"}constructor(e){super(),this.learningRate=e,this.setLearningRate(e)}applyGradients(e){(Array.isArray(e)?e.map(e=>e.name):Object.keys(e)).forEach((t,n)=>{const r=Array.isArray(e)?e[n].tensor:e[t];if(null==r)return;const a=o1.registeredVariables[t];E1(()=>{const e=m2(x2(this.c,r),a);a.assign(e)})}),this.incrementIterations()}setLearningRate(e){this.learningRate=e,null!=this.c&&this.c.dispose(),this.c=C1(Y4(-e))}dispose(){this.c.dispose()}async getWeights(){return[await this.saveIterations()]}async setWeights(e){if(0!==(e=await this.extractIterations(e)).length)throw new Error("SGD optimizer does not have settable weights.")}getConfig(){return{learningRate:this.learningRate}}static fromConfig(e,t){return new e(t.learningRate)}}class n5 extends t5{static get className(){return"Momentum"}constructor(e,t,n=!1){super(e),this.learningRate=e,this.momentum=t,this.useNesterov=n,this.accumulations=[],this.m=Y4(this.momentum)}applyGradients(e){(Array.isArray(e)?e.map(e=>e.name):Object.keys(e)).forEach((t,n)=>{const r=o1.registeredVariables[t];if(null==this.accumulations[n]){const e=!1;this.accumulations[n]={originalName:`${t}/momentum`,variable:E1(()=>R4(r).variable(e))}}const a=this.accumulations[n].variable,i=Array.isArray(e)?e[n].tensor:e[t];null!=i&&E1(()=>{let e;const t=m2(x2(this.m,a),i);e=this.useNesterov?m2(x2(this.c,m2(i,x2(t,this.m))),r):m2(x2(this.c,t),r),a.assign(t),r.assign(e)})}),this.incrementIterations()}dispose(){this.m.dispose(),null!=this.accumulations&&A1(this.accumulations.map(e=>e.variable))}setMomentum(e){this.momentum=e}async getWeights(){return[await this.saveIterations()].concat(this.accumulations.map(e=>({name:e.originalName,tensor:e.variable})))}async setWeights(e){e=await this.extractIterations(e);this.accumulations=e.map(e=>({originalName:e.name,variable:e.tensor.variable(false)}))}getConfig(){return{learningRate:this.learningRate,momentum:this.momentum,useNesterov:this.useNesterov}}static fromConfig(e,t){return new e(t.learningRate,t.momentum,t.useNesterov)}}class r5 extends X3{static get className(){return"RMSProp"}constructor(e,t=.9,n=0,r=null,a=!1){if(super(),this.learningRate=e,this.decay=t,this.momentum=n,this.epsilon=r,this.accumulatedMeanSquares=[],this.accumulatedMoments=[],this.accumulatedMeanGrads=[],this.centered=a,null==r&&(this.epsilon=o1.backend.epsilon()),null==e)throw new Error("learningRate for RMSPropOptimizer must be defined.")}applyGradients(e){(Array.isArray(e)?e.map(e=>e.name):Object.keys(e)).forEach((t,n)=>{const r=o1.registeredVariables[t],a=!1;null==this.accumulatedMeanSquares[n]&&(this.accumulatedMeanSquares[n]={originalName:`${t}/rms`,variable:E1(()=>R4(r).variable(a))}),null==this.accumulatedMoments[n]&&(this.accumulatedMoments[n]={originalName:`${t}/momentum`,variable:E1(()=>R4(r).variable(a))}),null==this.accumulatedMeanGrads[n]&&this.centered&&(this.accumulatedMeanGrads[n]={originalName:`${t}/mg`,variable:E1(()=>R4(r).variable(a))});const i=Array.isArray(e)?e[n].tensor:e[t];if(null==i)return;const s=this.accumulatedMeanSquares[n].variable,o=this.accumulatedMoments[n].variable;E1(()=>{const e=m2(x2(s,this.decay),x2(J4(i),1-this.decay));if(this.centered){const t=this.accumulatedMeanGrads[n].variable,a=m2(x2(t,this.decay),x2(i,1-this.decay)),l=y2(x2(i,this.learningRate),Q4(C8(e,m2(J4(a),this.epsilon)))),c=m2(x2(o,this.momentum),l);s.assign(e),t.assign(a),o.assign(c);const u=C8(r,c);r.assign(u)}else{const e=m2(x2(s,this.decay),x2(J4(i),1-this.decay)),t=m2(x2(o,this.momentum),y2(x2(i,this.learningRate),Q4(m2(e,this.epsilon))));s.assign(e),o.assign(t);const n=C8(r,t);r.assign(n)}})}),this.incrementIterations()}dispose(){null!=this.accumulatedMeanSquares&&A1(this.accumulatedMeanSquares.map(e=>e.variable)),null!=this.accumulatedMeanGrads&&this.centered&&A1(this.accumulatedMeanGrads.map(e=>e.variable)),null!=this.accumulatedMoments&&A1(this.accumulatedMoments.map(e=>e.variable))}async getWeights(){const e=[...this.accumulatedMeanSquares,...this.accumulatedMoments];return this.centered&&e.push(...this.accumulatedMeanGrads),[await this.saveIterations()].concat(e.map(e=>({name:e.originalName,tensor:e.variable})))}async setWeights(e){e=await this.extractIterations(e);const t=this.centered?e.length/3:e.length/2,n=!1;this.accumulatedMeanSquares=e.slice(0,t).map(e=>({originalName:e.name,variable:e.tensor.variable(n)})),this.accumulatedMoments=e.slice(t,2*t).map(e=>({originalName:e.name,variable:e.tensor.variable(n)})),this.centered&&(this.accumulatedMeanGrads=e.slice(2*t,3*t).map(e=>({originalName:e.name,variable:e.tensor.variable(n)})))}getConfig(){return{learningRate:this.learningRate,decay:this.decay,momentum:this.momentum,epsilon:this.epsilon,centered:this.centered}}static fromConfig(e,t){return new e(t.learningRate,t.decay,t.momentum,t.epsilon,t.centered)}}const a5=[Y3,Q3,J3,e5,n5,r5,t5];function i5(e,t,n,r){var a,i,s;Yq(null!=(a=e)&&Array.isArray(a)&&a.length>0,()=>"promises must be a none empty array"),s=r=null==r?1:r,Yq((i=n=null==n?0:n)>=0&&i<=1,()=>`Progress fraction must be in range [0, 1], but got startFraction ${i}`),Yq(s>=0&&s<=1,()=>`Progress fraction must be in range [0, 1], but got endFraction ${s}`),Yq(s>=i,()=>`startFraction must be no more than endFraction, but got startFraction ${i} and endFraction ${s}`);let o=0;return Promise.all(e.map(a=>(a.then(a=>{const i=n+ ++o/e.length*(r-n);return t(i),a}),a)))}class s5{constructor(e,t){if(this.DEFAULT_METHOD="POST",null==t&&(t={}),this.weightPathPrefix=t.weightPathPrefix,this.weightUrlConverter=t.weightUrlConverter,null!=t.fetchFunc?(Yq("function"==typeof t.fetchFunc,()=>"Must pass a function that matches the signature of `fetch` (see https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API)"),this.fetch=t.fetchFunc):this.fetch=IX().platform.fetch,Yq(null!=e&&e.length>0,()=>"URL path for http must not be null, undefined or empty."),Array.isArray(e)&&Yq(2===e.length,()=>`URL paths for http must have a length of 2, (actual length is ${e.length}).`),this.path=e,null!=t.requestInit&&null!=t.requestInit.body)throw new Error("requestInit is expected to have no pre-existing body, but has one.");this.requestInit=t.requestInit||{},this.loadOptions=t}async save(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserHTTPRequest.save() does not support saving model topology in binary formats yet.");const t=Object.assign({method:this.DEFAULT_METHOD},this.requestInit);t.body=new FormData;const n=function(e,t){const n={modelTopology:e.modelTopology,format:e.format,generatedBy:e.generatedBy,convertedBy:e.convertedBy,weightsManifest:t};return null!=e.signature&&(n.signature=e.signature),null!=e.userDefinedMetadata&&(n.userDefinedMetadata=e.userDefinedMetadata),null!=e.modelInitializer&&(n.modelInitializer=e.modelInitializer),null!=e.initializerSignature&&(n.initializerSignature=e.initializerSignature),null!=e.trainingConfig&&(n.trainingConfig=e.trainingConfig),n}(e,[{paths:["./model.weights.bin"],weights:e.weightSpecs}]);if(t.body.append("model.json",new Blob([JSON.stringify(n)],{type:"application/json"}),"model.json"),null!=e.weightData){const n=k1.join(e.weightData);t.body.append("model.weights.bin",new Blob([n],{type:"application/octet-stream"}),"model.weights.bin")}const r=await this.fetch(this.path,t);if(r.ok)return{modelArtifactsInfo:$1(e),responses:[r]};throw new Error(`BrowserHTTPRequest.save() failed due to HTTP response status ${r.status}.`)}async loadModelJSON(){const e=await this.fetch(this.path,this.requestInit);if(!e.ok)throw new Error(`Request to ${this.path} failed with status code ${e.status}. Please verify this URL points to the model JSON of the model to load.`);let t;try{t=await e.json()}catch(ATe){let t=`Failed to parse model JSON of response from ${this.path}.`;throw this.path.endsWith(".pb")?t+=" Your path contains a .pb file extension. Support for .pb models have been removed in TensorFlow.js 1.0 in favor of .json models. You can re-convert your Python TensorFlow model using the TensorFlow.js 1.0 conversion scripts or you can convert your.pb models with the 'pb2json'NPM script in the tensorflow/tfjs-converter repository.":t+=" Please make sure the server is serving valid JSON for this request.",new Error(t)}const n=t.modelTopology,r=t.weightsManifest;if(null==n&&null==r)throw new Error(`The JSON from HTTP path ${this.path} contains neither model topology or manifest for weights.`);return t}async load(){if(this.loadOptions.streamWeights)return this.loadStream();return L1(await this.loadModelJSON(),e=>this.loadWeights(e))}async loadStream(){const e=await this.loadModelJSON(),t=await this.getWeightUrls(e.weightsManifest),n=F1(e.weightsManifest);return Object.assign(Object.assign({},e),{weightSpecs:n,getWeightStream:()=>function(e,t){var n;const r=null==t.fetchFunc?IX().platform.fetch:t.fetchFunc;let a,i=0;return null===(n=t.onProgress)||void 0===n||n.call(t,0),new ReadableStream({pull:async n=>{for(var s;i<e.length;){if(!a){const n=(await r(e[i],t.requestInit,{isBinary:!0})).body;a=n.getReader()}const{done:o,value:l}=await a.read();if(!o)return void n.enqueue(l);i++,a=void 0,null===(s=t.onProgress)||void 0===s||s.call(t,i/e.length)}n.close()}})}(t,this.loadOptions)})}async getWeightUrls(e){const t=Array.isArray(this.path)?this.path[1]:this.path,[n,r]=function(e){const t=e.lastIndexOf("/"),n=e.lastIndexOf("?"),r=e.substring(0,t),a=n>t?e.substring(n):"";return[r+"/",a]}(t),a=this.weightPathPrefix||n,i=[],s=[];for(const o of e)for(const e of o.paths)null!=this.weightUrlConverter?s.push(this.weightUrlConverter(e)):i.push(a+e+r);return this.weightUrlConverter&&i.push(...await Promise.all(s)),i}async loadWeights(e){const t=await this.getWeightUrls(e),n=F1(e),r=await async function(e,t){null==t&&(t={});const n=null==t.fetchFunc?IX().platform.fetch:t.fetchFunc,r=e.map(e=>n(e,t.requestInit,{isBinary:!0})),a=(null==t.onProgress?await Promise.all(r):await i5(r,t.onProgress,0,.5)).map(e=>e.arrayBuffer());return null==t.onProgress?await Promise.all(a):await i5(a,t.onProgress,.5,1)}(t,this.loadOptions);return[n,r]}}function o5(e){return null!=e.match(s5.URL_SCHEME_REGEX)}s5.URL_SCHEME_REGEX=/^https?:\/\//;const l5=(e,t)=>{if("undefined"==typeof fetch&&(null==t||null==t.fetchFunc))return null;{let n=!0;if(n=Array.isArray(e)?e.every(e=>o5(e)):o5(e),n)return c5(e,t)}return null};function c5(e,t){return new s5(e,t)}function u5(e,t){const n=e.shape.length,r=t.shape.length;if(n<1)throw new Error(`tf.gatherND() expects the input to be rank 1 or higher, but the rank was ${n}.`);if(r<1)throw new Error(`tf.gatherND() expects the indices to be rank 1 or higher, but the rank was ${r}.`);if("int32"!==t.dtype)throw new Error(`tf.gatherND() expects the indices to be int32 type, but the dtype was ${t.dtype}.`);if(t.shape[r-1]>n)throw new Error(`index innermost dimension length must be <= tensor rank; saw: ${t.shape[r-1]} vs. ${n}`);if(0===eX(e.shape))throw new Error(`Requested more than 0 entries, but input is empty. Input shape: ${e.shape}.`);const a=t.shape,i=a[a.length-1];let s=1;for(let h=0;h<a.length-1;++h)s*=a[h];const o=e.shape,l=a.slice();l.pop();let c=1;for(let h=i;h<n;++h)c*=o[h],l.push(o[h]);const u=[...xX(e.shape).map(e=>e/c),1].slice(0,i);return[l,s,c,u]}D1.registerSaveRouter(l5),D1.registerLoadRouter(l5);function h5(e,t,n){const r=e.shape.length;Yq(r===t.length,()=>`Error in slice${r}D: Length of begin ${t} must match the rank of the array (${r}).`),Yq(r===n.length,()=>`Error in slice${r}D: Length of size ${n} must match the rank of the array (${r}).`);for(let a=0;a<r;++a)Yq(t[a]+n[a]<=e.shape[a],()=>`Error in slice${r}D: begin[${a}] + size[${a}] (${t[a]+n[a]}) would overflow input.shape[${a}] (${e.shape[a]})`)}function d5(e,t,n){const r=[];for(let a=0;a<e.length;a++)r[a]=Math.ceil((t[a]-e[a])/n[a]);return r}function p5(e,t,n,r){const a=[...e];for(let i=a.length;i<r.length;i++)a.push(1);for(let i=0;i<n;i++)0===i?a[t]=1:(a.splice(t,0,1),a.pop());return a}function f5(e,t,n){return n<=e?n:n-(t-1)}function m5(e,t){const n=[];for(let r=0;r<e;r++)n.push(t+r);return n}function g5(e,t,n,r,a){const i=[...a],s=m5(n,t);for(let o=0;o<i.length;o++)if(s.indexOf(o)>-1)i[o]=0;else{const a=f5(t,n,o);let s=r[a];e&1<<a&&(s=0),i[o]=s}return i}function y5(e,t,n,r,a){const i=[...a],s=m5(n,t);for(let o=0;o<i.length;o++)if(s.indexOf(o)>-1)i[o]=Number.MAX_SAFE_INTEGER;else{const a=f5(t,n,o);let s=r[a];e&1<<a&&(s=Number.MAX_SAFE_INTEGER),i[o]=s}for(let o=0;o<i.length;o++){const e=a[o];i[o]<0&&(i[o]+=e),i[o]=Kq(0,i[o],a[o])}return i}function x5(e,t,n){let r=e[t];return(n&1<<t||null==r)&&(r=1),r}function b5(e,t,n,r,a,i){let s=t[a];const o=n[a]||1;(e&1<<a||i&1<<a||null==s)&&(s=o>0?Number.MIN_SAFE_INTEGER:Number.MAX_SAFE_INTEGER);const l=r[a];return s<0&&(s+=l),s=Kq(0,s,l-1),s}function v5(e,t,n,r,a,i){let s=t[a];const o=n[a]||1;(e&1<<a||i&1<<a||null==s)&&(s=o>0?Number.MAX_SAFE_INTEGER:Number.MIN_SAFE_INTEGER);const l=r[a];return s<0&&(s+=l),s=o>0?Kq(0,s,l):Kq(-1,s,l-1),s}function w5(e,t,n){let r=n.length;for(let a=0;a<n.length;a++)if(n[a]>1){r=a;break}for(let a=r+1;a<n.length;a++)if(t[a]>0||n[a]!==e[a])return!1;return!0}function k5(e,t){let n=e.length>0?e[e.length-1]:1;for(let r=0;r<e.length-1;r++)n+=e[r]*t[r];return n}function S5(e,t,n){let r;const a=e.shape.length;let i;return r="number"==typeof t?[t,...new Array(a-1).fill(0)]:t.length<a?t.concat(new Array(a-t.length).fill(0)):t.slice(),r.forEach(e=>{Yq(-1!==e,()=>"slice() does not support negative begin indexing.")}),i=null==n?new Array(a).fill(-1):"number"==typeof n?[n,...new Array(a-1).fill(-1)]:n.length<a?n.concat(new Array(a-n.length).fill(-1)):n,i=i.map((t,n)=>t>=0?t:(Yq(-1===t,()=>`Negative size values should be exactly -1 but got ${t} for the slice() size at index ${n}.`),e.shape[n]-r[n])),[r,i]}function N5(e,t,n,r,a,i,s,o,l){let c;if(null==r?(c=new Array(t.length),c.fill(1)):c=r,null!=s&&s&s-1)throw new Error("Multiple ellipses in slice is not allowed.");let u=!1;const h={dims:c.length,numAddAxisAfterEllipsis:0,begin:t.slice(),end:n.slice(),strides:c.slice(),beginMask:a,endMask:i,ellipsisMask:s,newAxisMask:o,shrinkAxisMask:l};for(let x=0;x<h.dims;x++)u&&1<<x&o&&h.numAddAxisAfterEllipsis++,1<<x&s&&(u=!0);u||(h.ellipsisMask|=1<<h.dims,h.dims++);const d={dims:e.length,beginMask:0,endMask:0,beginValid:!1,endValid:!1};!function(e,t){t.beginMask=0,t.endMask=0,t.shrinkAxisMask=0;let n=0;t.beginValid=null!=e.begin,t.endValid=null!=e.end,t.begin=new Array(t.dims),t.end=new Array(t.dims),t.strides=new Array(t.dims),t.finalShapeGatherIndices=[],t.finalShapeGatherIndicesSparse=[],t.inputShapeGatherIndicesSparse=new Array(t.dims);for(let r=0;r<e.dims;r++)if(1<<r&e.ellipsisMask){const a=Math.min(t.dims-(e.dims-r)+1+e.numAddAxisAfterEllipsis,t.dims);for(;n<a;n++)t.begin[n]=0,t.end[n]=0,t.strides[n]=1,t.beginMask|=1<<n,t.endMask|=1<<n,t.finalShapeGatherIndices.push(n),t.finalShapeGatherIndicesSparse.push(-1),t.inputShapeGatherIndicesSparse[n]=r}else if(1<<r&e.newAxisMask)t.finalShapeGatherIndices.push(-2),t.finalShapeGatherIndicesSparse.push(-1);else{if(n===t.begin.length)throw Error(`Index out of range using input dim ${n}; input has only ${t.dims} dims, ${t.begin.length}.`);null!=e.begin&&(t.begin[n]=e.begin[r]),null!=e.end&&(t.end[n]=e.end[r]),t.strides[n]=e.strides[r],e.beginMask&1<<r&&(t.beginMask|=1<<n),e.endMask&1<<r&&(t.endMask|=1<<n),e.shrinkAxisMask&1<<r?(t.finalShapeGatherIndices.push(-1),t.finalShapeGatherIndicesSparse.push(-1),t.shrinkAxisMask|=1<<n):(t.finalShapeGatherIndices.push(n),t.finalShapeGatherIndicesSparse.push(r)),t.inputShapeGatherIndicesSparse[n]=r,n++}}(h,d);let p=!0,f=!0,m=!0;const g=[],y=[];for(let x=0;x<e.length;++x){if(0===d.strides[x])throw Error(`strides[${x}] must be non-zero`);const t=!!(d.shrinkAxisMask&1<<x),n=e[x];if(-1===n){g.push(t?1:-1);continue}const r=[d.beginMask&1<<x,d.endMask&1<<x],a=[d.strides[x]>0?0:-1,d.strides[x]>0?n:n-1];if(t&&d.strides[x]<=0)throw Error("only stride 1 allowed on non-range indexing.");m=m&&1===d.strides[x];const i=!!(d.beginMask&1<<x&&d.endMask&1<<x);if(d.beginValid&&d.endValid){if(t){const e=d.begin[x]<0?n+d.begin[x]:d.begin[x];if(d.begin[x]=e,d.end[x]=d.begin[x]+1,e<0||e>=n)throw Error(`slice index ${d.begin[x]} of dimension ${x} out of bounds.`)}else d.begin[x]=E5(d.begin[x],0,d.strides[x],n,r,a),d.end[x]=E5(d.end[x],1,d.strides[x],n,r,a);const e=1===d.strides[x]&&0===d.begin[x]&&d.end[x]===n;p=p&&e,f=f&&(0===x&&1===d.strides[x]||e)}else p=p&&1===d.strides[x]&&i,f=f&&(0===x&&1===d.strides[x]||i);let s,o=!1;if(d.beginValid&&d.endValid?(s=d.end[x]-d.begin[x],o=!0):t?(s=1,o=!0):i&&n>=0&&(s=d.strides[x]<0?-n:n,o=!0),o){let e;e=0===s||s<0!=d.strides[x]<0?0:Math.trunc(s/d.strides[x])+(s%d.strides[x]!==0?1:0),g.push(e)}else g.push(-1)}for(let x=0;x<d.finalShapeGatherIndices.length;++x){const e=d.finalShapeGatherIndices[x];e>=0?y.push(g[e]):-2===e&&y.push(1)}return{finalShapeSparse:y.filter((e,t)=>-2!==d.finalShapeGatherIndices[t]),finalShape:y,isIdentity:p,sliceDim0:f,isSimpleSlice:m,begin:d.begin,end:d.end,strides:d.strides}}function E5(e,t,n,r,a,i){if(a[t])return n>0?i[t]:i[t+1&1];{const t=e<0?r+e:e;return t<i[0]?i[0]:t>i[1]?i[1]:t}}const A5=Object.freeze(Object.defineProperty({__proto__:null,assertParamsValid:h5,computeFlatOffset:k5,computeOutShape:d5,getNormalizedAxes:function(e,t,n,r,a,i,s,o,l){const c=e.length;let u=new Array(c),h=new Array(c),d=new Array(c);if(t.length&&n>0){const l=t[0],c=n+1;u=g5(s,l,c,r,e),h=y5(o,l,c,a,e),d=p5(i,l,c,e)}else for(let p=0;p<c;p++)u[p]=b5(s,r,i,e,p,l),h[p]=v5(o,a,i,e,p,l),d[p]=x5(i,p,l);return{begin:u,end:h,strides:d}},isSliceContinous:w5,maskToAxes:function(e){const t=[];let n=0;for(;e>0;)1&e&&t.push(n),e/=2,n++;return t},parseSliceParams:S5,sliceInfo:N5,startForAxis:b5,startIndicesWithElidedDims:g5,stopForAxis:v5,stopIndicesWithElidedDims:y5,stridesForAxis:x5,stridesWithElidedDims:p5},Symbol.toStringTag,{value:"Module"}));const C5=class{static sgd(e){return new t5(e)}static momentum(e,t,n=!1){return new n5(e,t,n)}static rmsprop(e,t=.9,n=0,r=null,a=!1){return new r5(e,t,n,r,a)}static adam(e=.001,t=.9,n=.999,r=null){return new J3(e,t,n,r)}static adadelta(e=.001,t=.95,n=null){return new Y3(e,t,n)}static adamax(e=.002,t=.9,n=.999,r=null,a=0){return new e5(e,t,n,r,a)}static adagrad(e,t=.1){return new Q3(e,t)}},j5="undefined"!=typeof requestAnimationFrame?requestAnimationFrame:"undefined"!=typeof setImmediate?setImmediate:e=>e();function M5(){return new Promise(e=>j5(()=>e()))}function T5(e,t){const n=e[0].length;e.forEach((e,t)=>{Yq(e.length===n,()=>`Error in concat${n}D: rank of tensors[${t}] must be the same as the rank of the rest (${n})`)}),Yq(t>=0&&t<n,()=>`Error in concat${n}D: axis must be between 0 and ${n-1}.`);const r=e[0];e.forEach((e,a)=>{for(let i=0;i<n;i++)Yq(i===t||e[i]===r[i],()=>`Error in concat${n}D: Shape of tensors[${a}] (${e}) does not match the shape of the rest (${r}) along the non-concatenated axis ${a}.`)})}function I5(e,t){const n=e[0].slice();for(let r=1;r<e.length;r++)n[t]+=e[r][t];return n}var O5,P5;function R5(e,t,n){let r=new Array;if(null==n&&null==t)return r;if(null==t)for(;r.length<e+n.length;)r.push(-1);else r=t.slice();if(null==n)return r;if(e+n.length!==r.length)throw new Error(`rt input.shape and shape=${t} are incompatible: rt input.rank = ${e+n.length}, but shape.rank = ${r.length}`);for(let a=1;a<n.length;++a){const i=n[a],s=r[r.length-n.length+a],o=r[s];if(i>=0)if(o>=0){if(o!==i)throw new Error(`rt input.shape and shape=${t} are incompatible: rt input.shape[${a+e}] = ${i} but shape[${a+e}] = ${o}`)}else r[s]=i}return r}function _5(e){const t={FIRST_DIM_SIZE:O5.FIRST_DIM_SIZE,VALUE_ROWIDS:O5.VALUE_ROWIDS,ROW_LENGTHS:O5.ROW_LENGTHS,ROW_SPLITS:O5.ROW_SPLITS,ROW_LIMITS:O5.ROW_LIMITS,ROW_STARTS:O5.ROW_STARTS},n=[];for(const r of e){if(!(r in t))break;n.push(t[r])}return n}function L5(e){return 0===e.length?0:e[0]===O5.FIRST_DIM_SIZE?e.length-1:e.length}function $5(e,t){if(null==e||null==t)return;const n=e.length,r=t.length;if(n>=r)throw new Error(`defaultValue.shape=${e} and ragged tensor flatValues.shape=${t}, are incompatible: defaultValue.rank = ${n} must be less than ragged tensor input flatValues.rank = ${r})`);for(let a=0;a<Math.min(n,r-1);++a){const n=e[a],r=t[a+1];if(n>=0&&r>=0&&1!==n&&n!==r)throw new Error(`defaultValue.shape=${e}, and ragged tensor input flatValues.shape=${t} are incompatible: defaultValue.shape[${a-e.length}] = ${n} but ragged tensor input.flatValues.shape[${a-e.length}] = ${r}`)}}(P5=O5||(O5={}))[P5.FIRST_DIM_SIZE=0]="FIRST_DIM_SIZE",P5[P5.VALUE_ROWIDS=1]="VALUE_ROWIDS",P5[P5.ROW_LENGTHS=2]="ROW_LENGTHS",P5[P5.ROW_SPLITS=3]="ROW_SPLITS",P5[P5.ROW_LIMITS=4]="ROW_LIMITS",P5[P5.ROW_STARTS=5]="ROW_STARTS";function F5(e){return e<=30?e:yX(e,Math.floor(Math.sqrt(e)))}function D5(e,t,n){return[n*("number"==typeof e?e:e[0]),t*("number"==typeof e?e:e[1])]}function z5(e,t,n,r=!0){let a=[];if(r)a=a.concat(t.slice(0)),a.push(e[0]/n),a=a.concat(e.slice(1));else{a=a.concat(e[0]);const n=t.length;for(let r=0;r<n;++r)a=a.concat([e[r+1]/t[r],t[r]]);a=a.concat(e.slice(n+1))}return a}function V5(e,t,n=!0){const r=[];if(n){r.push(t);for(let n=t+1;n<e;++n)n<=2*t?(r.push(n),r.push(n-(t+1))):r.push(n)}else{const n=[],a=[];for(let r=1;r<e;++r)r>=2*t+1||r%2==1?a.push(r):n.push(r);r.push(...n),r.push(0),r.push(...a)}return r}function B5(e,t,n,r=!0){const a=[];r?a.push(e[0]/n):a.push(e[0]*n);for(let i=1;i<e.length;++i)i<=t.length?r?a.push(t[i-1]*e[i]):a.push(e[i]/t[i-1]):a.push(e[i]);return a}function H5(e,t){const n=[0];for(let r=0;r<t;++r)n.push(e[r][0]);return n}function U5(e,t,n){const r=e.slice(0,1);for(let a=0;a<n;++a)r.push(e[a+1]-t[a][0]-t[a][1]);return r}const W5=1.7580993408473768,Z5=1.0507009873554805,G5=.3275911,K5=.254829592,q5=-.284496736,X5=1.421413741,Y5=-1.453152027,Q5=1.061405429;function J5(e,t){if(e.length!==t.length)throw new Error(`Cannot merge real and imag arrays of different lengths. real:${e.length}, imag: ${t.length}.`);const n=new Float32Array(2*e.length);for(let r=0;r<n.length;r+=2)n[r]=e[r/2],n[r+1]=t[r/2];return n}function e9(e){const t=new Float32Array(e.length/2),n=new Float32Array(e.length/2);for(let r=0;r<e.length;r+=2)t[r/2]=e[r],n[r/2]=e[r+1];return{real:t,imag:n}}function t9(e){const t=Math.ceil(e.length/4),n=new Float32Array(t),r=new Float32Array(t);for(let a=0;a<e.length;a+=4)n[Math.floor(a/4)]=e[a],r[Math.floor(a/4)]=e[a+1];return{real:n,imag:r}}function n9(e){const t=Math.floor(e.length/4),n=new Float32Array(t),r=new Float32Array(t);for(let a=2;a<e.length;a+=4)n[Math.floor(a/4)]=e[a],r[Math.floor(a/4)]=e[a+1];return{real:n,imag:r}}function r9(e,t){return{real:e[2*t],imag:e[2*t+1]}}function a9(e,t,n,r){e[2*r]=t,e[2*r+1]=n}function i9(e,t){const n=new Float32Array(e/2),r=new Float32Array(e/2);for(let a=0;a<Math.ceil(e/2);a++){const i=(t?2:-2)*Math.PI*(a/e);n[a]=Math.cos(i),r[a]=Math.sin(i)}return{real:n,imag:r}}function s9(e,t,n){const r=(n?2:-2)*Math.PI*(e/t);return{real:Math.cos(r),imag:Math.sin(r)}}const o9="->",l9=/->/g;function c9(e,t){const n=((e=e.replace(/\s/g,"")).length-e.replace(l9,"").length)/2;if(n<1)throw new Error("Equations without an arrow are not supported.");if(n>1)throw new Error(`Equation must contain exactly one arrow ("${o9}").`);const[r,a]=e.split(o9);Yq(-1===r.indexOf("..."),()=>'The ellipsis notation ("...") is not supported yet.');const i=r.split(","),s=i.length;if(t!==s)throw new Error(`Expected ${s} input tensors, received ${t}`);if(s>2)throw new Error("Support for more than 2 input tensors is not implemented yet.");const o=[];for(let h=0;h<a.length;++h){const e=a[h];if(!i.some(t=>-1!==t.indexOf(e)))throw new Error(`Output subscripts contain the label ${e} not present in the input subscripts.`);-1===o.indexOf(e)&&o.push(e)}for(let h=0;h<r.length;++h){const e=r[h];-1===o.indexOf(e)&&","!==e&&o.push(e)}const l=new Array(i.length);for(let h=0;h<s;++h){if(new Set(i[h].split("")).size!==i[h].length)throw new Error(`Found duplicate axes in input component ${i[h]}. Support for duplicate axes in input is not implemented yet.`);l[h]=[];for(let e=0;e<i[h].length;++e)l[h].push(o.indexOf(i[h][e]))}const c=o.length,u=[];for(let h=a.length;h<c;++h)u.push(h);return{allDims:o,summedDims:u,idDims:l}}function u9(e,t){let n=new Array(e);n.fill(-1);for(let a=0;a<t.length;++a)n[t[a]]=a;const r=[];for(let a=0;a<e;++a)-1===n[a]&&r.push(a);return n=n.filter(e=>-1!==e),{permutationIndices:n,expandDims:r}}function h9(e,t,n){const r=new Array(e);for(let a=0;a<n.length;++a){const e=n[a].shape;for(let n=0;n<t[a].length;++n)void 0===r[t[a][n]]?r[t[a][n]]=e[n]:Yq(r[t[a][n]]===e[n],()=>`Expected dimension ${r[t[a][n]]} at axis ${n} of input shaped ${JSON.stringify(e)}, but got dimension ${e[n]}`)}}function d9(e,t){const n=e,r=[];let a=0;0===e.length&&n.push(-1),a=e.length+1;for(let s=0;s<a;++s)r.push([]);const i=[];for(let s=0;s<n.length;++s){const e=f9(t,n[s]);for(const t of e)-1===i.indexOf(t)&&(r[s].push(t),i.push(t))}return{path:n,steps:r}}function p9(e){return e.every((e,t)=>e===t)}function f9(e,t){const n=[];for(let r=0;r<e.length;++r)0!==e[r].length&&-1===e[r].indexOf(t)&&-1!==t||n.push(r);return n}function m9(e,t,n=0){let r=[];if("number"==typeof t)Yq(e.shape[n]%t===0,()=>"Number of splits must evenly divide the axis."),r=new Array(t).fill(e.shape[n]/t);else{Yq(t.reduce((e,t)=>(-1===t&&(e+=1),e),0)<=1,()=>"There should be only one negative value in split array.");const a=t.indexOf(-1);if(-1!==a){const r=t.reduce((e,t)=>t>0?e+t:e);t[a]=e.shape[n]-r}Yq(e.shape[n]===t.reduce((e,t)=>e+t),()=>"The sum of sizes must match the size of the axis dimension."),r=t}return r}function g9(e){return`Received SparseTensor with denseShape[0] = 0 but\n  indices.shape[0] = ${e}`}function y9(e,t){return`indices(${e}, 0) is invalid: ${t} < 0`}function x9(e,t,n){return`indices(${e}, 0) is invalid: ${t} >= ${n}`}function b9(e,t){return`only one output dimension may be -1, not both ${e} and ${t}`}function v9(e,t){return`size ${e} must be non-negative, not ${t}`}function w9(){return"reshape cannot infer the missing input size for an empty tensor unless all specified input sizes are non-zero"}function k9(e,t){return`Input to reshape is a SparseTensor with ${eX(e)}\n  dense values, but the requested shape requires a multiple of ${eX(t)}. inputShape=${e} outputShape= ${t}`}function S9(e,t){return`Input to reshape is a tensor with ${eX(e)} dense values, but the requested shape has ${eX(t)}. inputShape=${e} outputShape=${t}`}function N9(){return"segment ids must be >= 0"}function E9(){return"segment ids are not increasing"}function A9(e,t){return`Segment id ${e} out of range [0, ${t}), possibly because segmentIds input is not sorted.`}function C9(e,t,n){return`Bad: indices[${e}] == ${t} out of range [0, ${n})`}function j9(e,t){let n,r=!1;for(e<=30?(n=e,r=!0):n=yX(e,Math.floor(Math.sqrt(e)));!r;)n>t||n===e?r=!0:n=yX(e,n+1);return n}function M9(e,t,n){const r=[],a=e.length;for(let i=0;i<a;i++)i!==t?r.push(e[i]):r.push(n);return r}function T9(e,t,n,r){const a=t.shape.length,i=e.shape.length;if(0!==r&&(r<-a||r>a))throw new Error(`Expect batchDims in the range of [-${a}, ${a}], but got ${r}`);if(r<0&&(r+=a),r>i)throw new Error(`batchDims (${r}) must be less than rank(x) (\n    ${i}).`);if(n<r)throw new Error(`batchDims (${r}) must be less than or equal to axis (${n}).`);for(let h=0;h<r;++h)if(e.shape[h]!==t.shape[h])throw new Error(`x.shape[${h}]: ${e.shape[h]} should be equal to indices.shape[${h}]: ${t.shape[h]}.`);const s=e.shape[n],o=[];let l=1,c=1,u=1;for(let h=0;h<r;++h)o.push(e.shape[h]),l*=e.shape[h];for(let h=r;h<n;h++)o.push(e.shape[h]),c*=e.shape[h];for(let h=r;h<a;h++)o.push(t.shape[h]);for(let h=n+1;h<i;h++)o.push(e.shape[h]),u*=e.shape[h];return{batchSize:l,sliceSize:u,outerSize:c,dimSize:s,outputShape:o}}const I9=Object.freeze(Object.defineProperty({__proto__:null,collectGatherOpShapeInfo:T9,computeOutShape:M9,segOpComputeOptimalWindowSize:j9},Symbol.toStringTag,{value:"Module"}));function O9(e){try{return e.map(e=>k0(e))}catch(CTe){throw new Error(`Failed to decode encoded string bytes into utf-8, error: ${CTe}`)}}function P9(e){return e.map(e=>w0(e))}const R9=Object.freeze(Object.defineProperty({__proto__:null,ERF_A1:K5,ERF_A2:q5,ERF_A3:X5,ERF_A4:Y5,ERF_A5:Q5,ERF_P:G5,PARALLELIZE_THRESHOLD:30,get RowPartitionType(){return O5},SELU_SCALE:Z5,SELU_SCALEALPHA:W5,applyActivation:p3,assertAndGetBroadcastShape:I4,assertAxesAreInnerMostDims:U4,assertParamsConsistent:T5,assignToTypedArray:a9,axesAreInnerMostDims:z4,calculateShapes:t3,checkEinsumDimSizes:h9,checkPadOnDimRoundingMode:W2,combineLocations:V4,combineRaggedTensorToTensorShapes:R5,complexWithEvenIndex:t9,complexWithOddIndex:n9,computeConv2DInfo:R2,computeConv3DInfo:_2,computeDefaultPad:L2,computeDilation2DInfo:I2,computeOptimalWindowSize:F5,computeOutAndReduceShapes:B4,computeOutShape:I5,computePool2DInfo:O2,computePool3DInfo:P2,convertConv2DDataFormat:U2,decodeEinsumEquation:c9,eitherStridesOrDilationsAreOne:B2,expandShapeToKeepDim:H4,exponent:s9,exponents:i9,fromStringArrayToUint8:P9,fromUint8ToStringArray:O9,getAxesPermutation:W4,getBroadcastDims:M4,getComplexWithIndex:r9,getEinsumComputePath:d9,getEinsumPermutation:u9,getFusedBiasGradient:d3,getFusedDyActivation:h3,getImageCenter:D5,getInnerMostAxes:G4,getPermuted:V5,getRaggedRank:L5,getReductionAxes:T4,getReshaped:z5,getReshapedPermuted:B5,getRowPartitionTypesHelper:_5,getSliceBeginCoords:H5,getSliceSize:U5,getSparseFillEmptyRowsIndicesDenseShapeMismatch:g9,getSparseFillEmptyRowsNegativeIndexErrorMessage:y9,getSparseFillEmptyRowsOutOfRangeIndexErrorMessage:x9,getSparseReshapeEmptyTensorZeroOutputDimErrorMessage:w9,getSparseReshapeInputOutputMismatchErrorMessage:S9,getSparseReshapeInputOutputMultipleErrorMessage:k9,getSparseReshapeMultipleNegativeOneOutputDimErrorMessage:b9,getSparseReshapeNegativeOutputDimErrorMessage:v9,getSparseSegmentReductionIndicesOutOfRangeErrorMessage:C9,getSparseSegmentReductionNegativeSegmentIdsErrorMessage:N9,getSparseSegmentReductionNonIncreasingSegmentIdsErrorMessage:E9,getSparseSegmentReductionSegmentIdOutOfRangeErrorMessage:A9,getUndoAxesPermutation:Z4,isIdentityPermutation:p9,log:function(...e){IX().getBool("IS_TEST")||IX().getBool("PROD")||console.log(...e)},mergeRealAndImagArrays:J5,prepareAndValidate:u5,prepareSplitSize:m9,segment_util:I9,shouldFuse:f3,slice_util:A5,splitRealAndImagArrays:e9,stridesOrDilationsArePositive:H2,tupleValuesAreOne:V2,upcastType:X0,validateDefaultValueShape:$5,validateInput:function(e,t,n){if(t.rank<1)throw new Error(`tf.scatterND() expects the indices to be rank 1 or higher, but the rank was ${t.rank}.`);if(e.rank<1)throw new Error(`tf.scatterND() expects the updates to be rank 1 or higher, but the rank was ${e.rank}.`);if("int32"!==t.dtype)throw new Error(`The dtype of 'indices' should be int32, but got dtype: ${t.dtype}`);if(n.length<1)throw new Error(`Output rank must be greater or equal to 1, but got shape: ${n}`);if(0===n.length){if(0===t.size)throw new Error(`Indices specified for empty output. indices shape: ${t.shape}`);if(0===e.size)throw new Error(`Updates specified for empty output. updates shape: ${e.shape}`)}e3(n,t,e)},validateUpdateShape:e3,warn:WJ},Symbol.toStringTag,{value:"Module"}));!function(){for(const e of a5)q3(e)}();const _9={kernelName:LX,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>x2(e,q6(p2(n,"float32"),-1))}}},L9={kernelName:$X,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>{const t=J4(p2(n,"float32")),r=Q4(C8(Y4(1),t));return N8(y2(e,r))}}}},$9={kernelName:FX,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>{const t=Q4(C8(J4(p2(n,"float32")),1));return y2(e,t)}}}},F9={kernelName:DX,inputsToSave:["a","b"],gradFunc:(e,t)=>{const[n,r]=t,a=I4(n.shape,r.shape);return{a:()=>{let t=e;const r=T4(n.shape,a);return r.length>0&&(t=e8(t,r)),Z2(t,n.shape)},b:()=>{let t=e;const n=T4(r.shape,a);return n.length>0&&(t=e8(t,n)),Z2(t,r.shape)}}}},D9={kernelName:zX,saveAllInputs:!0,gradFunc:(e,t)=>{const n={};return t.forEach((t,r)=>{n[r]=()=>e.clone()}),n}},z9={kernelName:HX,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>R4(n)}}},V9={kernelName:UX,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>R4(n)}}},B9={kernelName:WX,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>y2(e,Q4(C8(Y4(1),J4(p2(n,"float32")))))}}},H9={kernelName:ZX,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>{const t=Q4(m2(Y4(1),J4(p2(n,"float32"))));return y2(e,t)}}}},U9={kernelName:qX,inputsToSave:["a","b"],gradFunc:(e,t)=>{const[n,r]=t,a=I4(n.shape,r.shape);return{a:()=>{const t=m2(J4(n),J4(r));let i=x2(e,y2(r,t));const s=T4(n.shape,a);return s.length>0&&(i=e8(i,s)),Z2(i,n.shape)},b:()=>{const t=m2(J4(n),J4(r));let i=N8(x2(e,y2(n,t)));const s=T4(r.shape,a);return s.length>0&&(i=e8(i,s)),Z2(i,r.shape)}}}},W9={kernelName:GX,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>y2(e,m2(J4(p2(n,"float32")),1))}}},Z9={kernelName:KX,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>y2(e,C8(Y4(1),J4(p2(n,"float32"))))}}};const G9=y1({avgPool3dGrad_:function(e,t,n,r,a,i){const s=m1(e,"dy","avgPool3dGrad"),o=m1(t,"input","avgPool3dGrad");let l=s,c=o,u=!1;4===o.rank&&(u=!0,l=Z2(s,[1,s.shape[0],s.shape[1],s.shape[2],s.shape[3]]),c=Z2(o,[1,o.shape[0],o.shape[1],o.shape[2],o.shape[3]])),Yq(5===l.rank,()=>`Error in avgPool3dGrad: dy must be rank 5 but got rank ${l.rank}.`),Yq(5===c.rank,()=>`Error in avgPool3dGrad: input must be rank 5 but got rank ${c.rank}.`),W2("avgPool3dGrad",a,i);const h={dy:l,input:c},d={filterSize:n,strides:r,pad:a,dimRoundingMode:i},p=o1.runKernel(JX,h,d);return u?Z2(p,[p.shape[1],p.shape[2],p.shape[3],p.shape[4]]):p}}),K9={kernelName:QX,inputsToSave:["x"],gradFunc:(e,t,n)=>{const[r]=t,{filterSize:a,strides:i,pad:s,dimRoundingMode:o}=n;return{x:()=>G9(e,r,a,i,s,o)}}};const q9=y1({avgPoolGrad_:function(e,t,n,r,a){const i=m1(e,"dy","avgPoolGrad"),s=m1(t,"input","avgPoolGrad");Yq(s.rank===i.rank,()=>`Rank of input (${s.rank}) does not match rank of dy (${i.rank})`);let o=s,l=i,c=!1;3===s.rank&&(c=!0,o=Z2(s,[1,s.shape[0],s.shape[1],s.shape[2]]),l=Z2(i,[1,i.shape[0],i.shape[1],i.shape[2]])),Yq(4===l.rank,()=>`Error in avgPoolGrad: dy must be rank 4 but got rank ${l.rank}.`),Yq(4===o.rank,()=>`Error in avgPoolGrad: input must be rank 4 but got rank ${o.rank}.`);const u={dy:l,input:o},h={filterSize:n,strides:r,pad:a},d=o1.runKernel(YX,u,h);return c?Z2(d,[d.shape[1],d.shape[2],d.shape[3]]):d}}),X9={kernelName:XX,inputsToSave:["x"],gradFunc:(e,t,n)=>{const[r]=t,{filterSize:a,strides:i,pad:s}=n;return{x:()=>q9(e,r,a,i,s)}}},Y9={kernelName:eY,inputsToSave:["a","b"],gradFunc:(e,t,n)=>{const[r,a]=t,{transposeA:i,transposeB:s}=n;return i||s?!i&&s?{a:()=>X2(e,a,!1,!1),b:()=>X2(e,r,!0,!1)}:i&&!s?{a:()=>X2(a,e,!1,!0),b:()=>X2(r,e,!1,!1)}:{a:()=>X2(a,e,!0,!0),b:()=>X2(e,r,!0,!0)}:{a:()=>X2(e,a,!1,!0),b:()=>X2(r,e,!0,!1)}}},Q9={kernelName:tY,gradFunc:(e,t,n)=>{const{blockShape:r,crops:a}=n;return{x:()=>K8(e,r,a)}}},J9={kernelName:"BroadcastTo",gradFunc:(e,t,n)=>{const r=n,a=r.inputShape,i=r.shape,s=Array.from(i);for(let l=a.length-1;l>=0;l--)if(a[l]===i[l])s[l]=1;else if(1!==a[l])throw new Error(`broadcastTo(): [${a}] cannot be broadcast to [${i}].`);const o=[];for(let l=0;l<s.length;l++)s[l]>1&&o.push(l);return{x:()=>e8(e,o,!0)}}},e7={kernelName:iY,gradFunc:e=>({x:()=>e.clone()})},t7={kernelName:sY,gradFunc:e=>({x:()=>R4(e)})},n7={kernelName:oY,inputsToSave:["x"],gradFunc:(e,t,n)=>{const[r]=t,{clipValueMin:a,clipValueMax:i}=n;return{x:()=>P4(T8(d8(r,a),b8(r,i)),e,R4(e))}}},r7={kernelName:cY,inputsToSave:["x"],gradFunc:_9.gradFunc},a7={kernelName:uY,saveAllInputs:!0,gradFunc:(e,t,n)=>{const r=t.map(e=>e.shape),{axis:a}=n,i=oX(a,t[0].shape)[0],s=r.map(e=>e[i]);return U6(e,s,i).map(e=>()=>e)}},i7={kernelName:hY,inputsToSave:["x","filter"],gradFunc:(e,t,n)=>{const[r,a]=t,{dilations:i,strides:s,pad:o,dataFormat:l}=n;return Yq(V2(i),()=>`Error in gradient of conv2D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '${i}'`),{x:()=>g4(r.shape,e,a,s,o,l),filter:()=>u3(r,e,a.shape,s,o,l)}}},s7={kernelName:pY,inputsToSave:["dy","filter"],gradFunc:(e,t,n)=>{const[r,a]=t,{strides:i,pad:s,dataFormat:o,dimRoundingMode:l}=n;return{dy:()=>f4(e,a,i,s,o,1,l),filter:()=>u3(e,r,a.shape,i,s,o,l)}}};const o7=y1({conv3DBackpropFilter_:function(e,t,n,r,a){let i=e;4===e.rank&&(i=Z2(e,[1,e.shape[0],e.shape[1],e.shape[2],e.shape[3]]));let s=t;4===s.rank&&(s=Z2(t,[1,t.shape[0],t.shape[1],t.shape[2],t.shape[3]])),Yq(5===i.rank,()=>`Error in conv3dDerFilter: input must be rank 5, but got shape ${i.shape}.`),Yq(5===s.rank,()=>`Error in conv3dDerFilter: dy must be rank 5, but got shape ${s.shape}.`),Yq(5===n.length,()=>`Error in conv3dDerFilter: filterShape must be length 5, but got ${n}.`),Yq(i.shape[4]===n[3],()=>`Error in conv3dDerFilter: depth of input ${i.shape[4]}) must match input depth in filter (${n[3]}.`),Yq(s.shape[4]===n[4],()=>`Error in conv3dDerFilter: depth of dy (${s.shape[4]}) must match output depth for filter (${n[4]}).`);const o={x:i,dy:s},l={strides:r,pad:a,filterShape:n};return o1.runKernel(mY,o,l)}}),l7={kernelName:fY,inputsToSave:["x","filter"],gradFunc:(e,t,n)=>{const{dilations:r,strides:a,pad:i}=n;Yq(V2(r),()=>`Error in gradient of conv3D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '${r}'`);const[s,o]=t;return{x:()=>b4(s.shape,e,o,a,i),filter:()=>o7(s,e,o.shape,a,i)}}},c7={kernelName:yY,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>x2(N8(R6(p2(n,"float32"))),e)}}},u7={kernelName:xY,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>x2(_6(p2(n,"float32")),e)}}},h7={kernelName:vY,inputsToSave:["x"],gradFunc:(e,t,n)=>{const[r]=t,{axis:a,exclusive:i,reverse:s}=n;return{x:()=>{const t=W4([a],r.rank);let n=N4(e,a,i,!s);return null!=t&&(n=l3(n,t)),n}}}},d7={kernelName:NY,inputsToSave:["x","filter"],gradFunc:(e,t,n)=>{const{dilations:r,strides:a,pad:i,dimRoundingMode:s}=n,o=null==r?[1,1]:r;Yq(V2(o),()=>`Error in gradient of depthwiseConv2dNative: dilation rates greater than 1 are not yet supported. Got dilations '${o}'`);const[l,c]=t;return Yq(4===l.rank,()=>`Error in gradient of depthwiseConv2dNative: input must be rank 4, but got rank ${l.rank}.`),Yq(4===c.rank,()=>`Error in gradient of depthwiseConv2dNative: filter must be rank 4, but got rank ${c.rank}.`),Yq(l.shape[3]===c.shape[2],()=>`Error in gradient of depthwiseConv2d: number of input channels (${l.shape[3]}) must match the inChannels dimension in filter ${c.shape[2]}.`),Yq(B2(a,o),()=>`Error in gradient of depthwiseConv2d: Either strides or dilations must be  1. Got strides ${a} and dilations '${o}'.`),W2("depthwiseConv2d",i,s),{x:()=>y3(l.shape,e,c,a,i,o,s),filter:()=>g3(l,e,c.shape,a,i,o,s)}}},p7={kernelName:jY,inputsToSave:["x","filter"],gradFunc:(e,t,n)=>{const[r,a]=t,i={x:r,filter:a,dy:e},s={x:r,filter:a,dy:e};return{x:()=>o1.runKernel(MY,i,n),filter:()=>o1.runKernel(TY,s,n)}}},f7={kernelName:PY,outputsToSave:[!0],gradFunc:(e,t)=>{const[n]=t,r={dy:e,y:n};return{x:()=>o1.runKernel(RY,r)}}},m7={kernelName:_Y,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t,r=x2(a8(N8(J4(n))),2/Math.sqrt(Math.PI));return{x:()=>x2(e,r)}}},g7={kernelName:$Y,outputsToSave:[!0],gradFunc:(e,t)=>{const[n]=t;return{x:()=>x2(e,n)}}},y7={kernelName:FY,inputsToSave:["input"],gradFunc:(e,t)=>{const[n]=t;return{input:()=>Z2(e,n.shape)}}},x7={kernelName:DY,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>x2(e,a8(n))}}},b7={kernelName:HY,gradFunc:e=>({x:()=>R4(e)})},v7={kernelName:UY,inputsToSave:["a","b"],gradFunc:(e,t)=>{const[n,r]=t,a=I4(n.shape,r.shape);return{a:()=>{const t=y2(e,p2(r,"float32")),i=T4(n.shape,a);return i.length>0?Z2(e8(t,i),n.shape):t},b:()=>{let t=x2(e,p2(n,"float32"));const i=T4(r.shape,a);i.length>0&&(t=Z2(e8(t,i),r.shape));const s=J4(r);return N8(y2(t,p2(s,"float32")))}}}},w7={kernelName:WY,inputsToSave:["x","mean","variance","scale"],gradFunc:(e,t,n)=>{const{varianceEpsilon:r}=n,[a,i,s,o]=t,l=null==o?Y4(1):o,c=T4(i.shape,a.shape),u=[];if(1===i.rank){for(let e=0;e<a.shape.length-1;++e)u.push(a.shape[e]);u.push(1)}const h=C8(a,i),d=x2(e,l),p=T6(m2(s,Y4(r))),f=x2(x2(x2(p,p),p),Y4(-.5));return{x:()=>1===i.rank?Z2(x2(x2(e,o8(Z2(p,[1,1,1,i.shape[0]]),u)),l),a.shape):Z2(x2(x2(e,p),l),a.shape),mean:()=>{let e=x2(x2(p,Y4(-1)),d);return 1===i.rank&&(e=e8(e,c)),Z2(e,i.shape)},variance:()=>{let e=x2(x2(f,h),d);return 1===i.rank&&(e=e8(e,c)),Z2(e,i.shape)},scale:()=>{const t=x2(h,p);let n=x2(e,t);return 1===i.rank&&(n=e8(n,c)),Z2(n,i.shape)},offset:()=>{let t=e;return 1===i.rank&&(t=e8(t,c)),Z2(t,i.shape)}}}},k7={kernelName:ZY,inputsToSave:["x","indices"],gradFunc:(e,t,n)=>{const[r,a]=t,{axis:i,batchDims:s}=n,o=oX(i,r.shape)[0],l=(e,t,n)=>()=>{const r=e.shape,a=t.size,s=r.slice(0,o),l=s.length,c=r.slice(i,r.length).slice(1),u=c.length,h=S7(0,l),d=S7(l+1,l+1+u),p=N7([s,[a],c]),f=Z2(n,p),m=Z2(t,[a]),g=N7([[l],h,d]),y=l3(f,g);let x=i3(y,m,e.shape[o]);const b=Z4(g);return x=l3(x,b),x};if(1===s){const t=r.shape[0],n=r.split(t,0);return{x:()=>K6(n.map((t,n)=>l(t,a.slice(n,1),e.slice(n,1))())).reshape(r.shape),indices:()=>a}}return{x:l(r,a,e),indices:()=>a}}};function S7(e,t){const n=[];for(let r=e;r<t;++r)n.push(r);return n}function N7(e){const t=[];for(let n=0;n<e.length;++n)for(let r=0;r<e[n].length;++r)t.push(e[n][r]);return t}const E7={kernelName:qY,inputsToSave:["a","b"],gradFunc:(e,t)=>{const[n,r]=t;return{a:()=>R4(n),b:()=>R4(r)}}},A7={kernelName:XY,gradFunc:e=>({x:()=>p2(e,"float32")})},C7={kernelName:JY,gradFunc:e=>({x:()=>R4(e)})},j7={kernelName:eQ,gradFunc:e=>({x:()=>R4(e)})},M7={kernelName:tQ,gradFunc:e=>({x:()=>R4(e)})},T7={kernelName:nQ,inputsToSave:["x"],gradFunc:(e,t,n)=>{const[r]=t,{alpha:a}=n,i=h8(r,0);return{x:()=>P4(i,e,x2(e,a))}}},I7={kernelName:oQ,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>y2(e,m2(n,1))}}},O7={kernelName:sQ,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>y2(e,p2(n,"float32"))}}},P7={kernelName:"LogSoftmax",inputsToSave:[],outputsToSave:[!0],gradFunc:(e,t,n)=>{const[r]=t,{axis:a}=n;return{logits:()=>{const t=a8(r);return C8(e,x2(e8(e,a,!0),t))}}}};const R7=y1({localResponseNormalizationBackprop_:function(e,t,n,r=5,a=1,i=1,s=.5){const o={x:e,y:t,dy:n},l={depthRadius:r,bias:a,alpha:i,beta:s};return o1.runKernel(dQ,o,l)}}),_7={kernelName:hQ,inputsToSave:["x"],outputsToSave:[!0],gradFunc:(e,t,n)=>{const[r,a]=t,{depthRadius:i,bias:s,alpha:o,beta:l}=n;return{x:()=>R7(r,a,e,i,s,o,l)}}};function L7(e,t,n,r){return t.rank<n.rank&&(t=Z2(t,H4(t.shape,r))),e.rank<n.rank&&(e=Z2(e,H4(e.shape,r))),{x:()=>x2(e,p2(O4(n,t),e.dtype))}}const $7={kernelName:pQ,inputsToSave:["x"],outputsToSave:[!0],gradFunc:(e,t,n)=>{const r=n,{reductionIndices:a}=r,i=t[0],s=L7(e,t[1],i,oX(a,i.shape));return{x:()=>s.x()}}},F7={kernelName:fQ,inputsToSave:["a","b"],gradFunc:(e,t)=>{const[n,r]=t;return{a:()=>x2(e,p2(d8(n,r),"float32")),b:()=>x2(e,p2(x8(n,r),"float32"))}}};const D7=y1({maxPool3dGrad_:function(e,t,n,r,a,i,s){const o=m1(e,"dy","maxPool3dGrad"),l=m1(t,"input","maxPool3dGrad"),c=m1(n,"output","maxPool3dGrad");let u=o,h=l,d=c,p=!1;4===l.rank&&(p=!0,u=Z2(o,[1,o.shape[0],o.shape[1],o.shape[2],o.shape[3]]),h=Z2(l,[1,l.shape[0],l.shape[1],l.shape[2],l.shape[3]]),d=Z2(c,[1,c.shape[0],c.shape[1],c.shape[2],c.shape[3]])),Yq(5===u.rank,()=>`Error in maxPool3dGrad: dy must be rank 5 but got rank ${u.rank}.`),Yq(5===h.rank,()=>`Error in maxPool3dGrad: input must be rank 5 but got rank ${h.rank}.`),Yq(5===d.rank,()=>`Error in maxPool3dGrad: output must be rank 5 but got rank ${d.rank}.`),W2("maxPool3dGrad",i,s);const f={dy:u,input:h,output:d},m={filterSize:r,strides:a,pad:i,dimRoundingMode:s},g=o1.runKernel(xQ,f,m);return p?Z2(g,[g.shape[1],g.shape[2],g.shape[3],g.shape[4]]):g}}),z7={kernelName:yQ,inputsToSave:["x"],outputsToSave:[!0],gradFunc:(e,t,n)=>{const[r,a]=t,{filterSize:i,strides:s,pad:o,dimRoundingMode:l}=n;return{x:()=>D7(e,r,a,i,s,o,l)}}};const V7=y1({maxPoolGrad_:function(e,t,n,r,a,i,s){const o=m1(e,"dy","maxPoolGrad"),l=m1(t,"input","maxPoolGrad"),c=m1(n,"output","maxPoolGrad");Yq(l.rank===o.rank,()=>`Rank of input (${l.rank}) does not match rank of dy (${o.rank})`),Yq(4===o.rank,()=>`Error in maxPoolGrad: dy must be rank 4 but got rank ${o.rank}.`),Yq(4===l.rank,()=>`Error in maxPoolGrad: input must be rank 4 but got rank ${l.rank}.`),W2("maxPoolGrad",i,s);const u={dy:o,input:l,output:c},h={filterSize:r,strides:a,pad:i,dimRoundingMode:s};return o1.runKernel(gQ,u,h)}}),B7={kernelName:RQ,saveAllInputs:!0,gradFunc:(e,t,n)=>{const{axis:r}=n;return s3(e,r).map(e=>()=>e)}},H7={kernelName:_Q,inputsToSave:["x"],gradFunc:(e,t,n)=>{const r=t[0],{paddings:a}=n,i=a.map(e=>e[0]);return{x:()=>Q2(e,i,r.shape)}}};function U7(e,t,n){const r=e.shape.length,a=r-n.length,i=W4(n,r);let s=e;null!=i&&(s=l3(e,i));const o=s.shape.slice(),l=o.splice(r-n.length,n.length).reduce((e,t)=>e*t,1);o.push(l);let c=function(e,t,n){const r=e.shape.slice();r[n]=1;const a=Z2(t,r),i=S4(e,n,!0,!1),s=S4(e,n,!0,!0),o=x2(i,s);return x2(a,o)}(s.reshape(o),t,a);if(c=c.reshape(s.shape),null!=i){const e=Z4(i);c=l3(c,e)}return c}const W7={kernelName:fJ,gradFunc:(e,t,n)=>{const{blockShape:r,paddings:a}=n;return{x:()=>e4(e,r,a)}}},Z7={kernelName:mJ,gradFunc:(e,t,n)=>{const{axis:r}=n;return{x:()=>q2(e,r)}}};const G7=[_9,L9,$9,F9,D9,z9,V9,B9,H9,U9,W9,Z9,K9,X9,Y9,Q9,J9,e7,t7,n7,r7,a7,s7,i7,l7,c7,u7,h7,d7,p7,{kernelName:IY,inputsToSave:["a","b"],gradFunc:(e,t)=>{const[n,r]=t,a=I4(n.shape,r.shape);return{a:()=>{const t=y2(e,p2(r,"float32")),i=T4(n.shape,a);return i.length>0?Z2(e8(t,i),n.shape):t},b:()=>{let t=x2(e,p2(n,"float32"));const i=T4(r.shape,a);i.length>0&&(t=Z2(e8(t,i),r.shape));const s=J4(r);return N8(y2(t,p2(s,"float32")))}}}},f7,m7,g7,y7,x7,v7,b7,w7,k7,E7,A7,C7,j7,M7,T7,I7,O7,P7,_7,$7,$7,F7,z7,{kernelName:mQ,inputsToSave:["x"],outputsToSave:[!0],gradFunc:(e,t,n)=>{const[r,a]=t,{filterSize:i,strides:s,pad:o}=n;return{x:()=>V7(e,r,a,i,s,o)}}},{kernelName:vQ,inputsToSave:["x"],gradFunc:(e,t,n)=>{const[r]=t,{axis:a}=n,i=oX(a,r.shape),s=eX(B4(r.shape,i)[1]);return{x:()=>{const t=r.shape.slice();i.forEach(e=>{t[e]=1});const n=Z2(e,t);return y2(x2(n,D8(r.shape,"float32")),s)}}}},{kernelName:wQ,inputsToSave:["x"],outputsToSave:[!0],gradFunc:(e,t,n)=>{const r=n,{axis:a}=r,[i,s]=t,o=L7(e,s,i,oX(a,i.shape));return{x:()=>o.x()}}},{kernelName:kQ,inputsToSave:["a","b"],gradFunc:(e,t)=>{const[n,r]=t;return{a:()=>x2(e,p2(b8(n,r),"float32")),b:()=>x2(e,p2(h8(n,r),"float32"))}}},{kernelName:SQ,inputsToSave:["x"],gradFunc:(e,t,n)=>{const r=t[0],{paddings:a}=n,i=a.map(e=>e[0]);return{x:()=>Q2(e,i,r.shape)}}},{kernelName:NQ,inputsToSave:["a","b"],gradFunc:(e,t)=>{const[n,r]=t,a=I4(n.shape,r.shape);return{a:()=>{const t=T4(n.shape,a);return t.length>0?Z2(e8(e,t),n.shape):e},b:()=>{const t=x2(e,N8(c8(y2(n,r)))),i=T4(r.shape,a);return i.length>0?Z2(e8(t,i),r.shape):t}}}},{kernelName:AQ,inputsToSave:["a","b"],gradFunc:(e,t)=>{const[n,r]=t,a=I4(n.shape,r.shape);return{a:()=>{const t=x2(e,p2(r,"float32")),i=T4(n.shape,a);return i.length>0?Z2(e8(t,i),n.shape):t},b:()=>{const t=x2(e,p2(n,"float32")),i=T4(r.shape,a);return i.length>0?Z2(e8(t,i),r.shape):t}}}},{kernelName:CQ,gradFunc:e=>({x:()=>N8(e)})},{kernelName:PQ,inputsToSave:["indices"],gradFunc:(e,t)=>{const n=t[0];return{indices:()=>F8(n.shape,"float32")}}},{kernelName:OQ,gradFunc:e=>({x:()=>R4(e)})},B7,H7,H7,{kernelName:LQ,inputsToSave:["a","b"],outputsToSave:[!0],gradFunc:(e,t)=>{const[n,r,a]=t,i=n,s=r,o=I4(i.shape,s.shape);return{a:()=>{const t=p2(s,"float32");let n=x2(e,x2(t,X4(i,C8(t,Y4(1)))));const r=T4(i.shape,o);return r.length>0&&(n=e8(n,r)),Z2(n,i.shape)},b:()=>{const t=h8(i,0),n=P4(t,w8(i),R4(i));let r=x2(e,x2(a,n));const l=T4(s.shape,o);return l.length>0&&(r=e8(r,l)),Z2(r,s.shape)}}}},{kernelName:$Q,inputsToSave:["x","alpha"],gradFunc:(e,t)=>{const[n,r]=t,a=h8(n,0);return{x:()=>P4(a,e,x2(e,r)),alpha:()=>{let t=P4(a,R4(e),x2(e,n));const i=T4(r.shape,e.shape);return i.length>0&&(t=e8(t,i)),Z2(t,r.shape)}}}},{kernelName:FQ,inputsToSave:["x"],gradFunc:(e,t,n)=>{const[r]=t,{axis:a}=n;let i=[];return i=null==a?r.shape.map((e,t)=>t):"number"==typeof a?[a]:a,{x:()=>U7(r,e,i)}}},{kernelName:UQ,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>y2(e,N8(J4(n)))}}},{kernelName:YQ,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t,r=x2(b8(n,6),q6(n));return{x:()=>x2(e,p2(r,"float32"))}}},{kernelName:WQ,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>x2(e,p2(q6(n),"float32"))}}},{kernelName:ZQ,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>Z2(e,n.shape)}}},{kernelName:qQ,inputsToSave:["images"],gradFunc:(e,t,n)=>{const[r]=t,a={dy:e,images:r};return{images:()=>o1.runKernel(XQ,a,n)}}},{kernelName:GQ,inputsToSave:["images"],gradFunc:(e,t,n)=>{const[r]=t,a={dy:e,images:r};return{images:()=>o1.runKernel(KQ,a,n)}}},{kernelName:QQ,gradFunc:(e,t,n)=>{const{dims:r}=n,a=oX(r,e.shape);return{x:()=>j6(e,a)}}},{kernelName:JQ,gradFunc:e=>({x:()=>R4(e)})},{kernelName:eJ,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>N8(y2(e,x2(X4(n,1.5),2)))}}},{kernelName:aJ,inputsToSave:["condition"],gradFunc:(e,t)=>{const[n]=t;return{condition:()=>p2(R4(n),"float32"),t:()=>x2(e,p2(n,e.dtype)),e:()=>x2(e,p2(I8(n),e.dtype))}}},{kernelName:iJ,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>{const t=h8(n,Y4(0)),r=Y4(W5),a=Y4(Z5),i=x2(e,a),s=x2(x2(e,r),a8(p2(n,"float32")));return P4(t,i,s)}}}},{kernelName:uJ,outputsToSave:[!0],gradFunc:(e,t)=>{const[n]=t;return{x:()=>x2(e,x2(n,C8(Y4(1),n)))}}},{kernelName:cJ,gradFunc:e=>({x:()=>R4(e)})},{kernelName:oJ,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>x2(w4(p2(n,"float32")),e)}}},{kernelName:lJ,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>x2(k4(p2(n,"float32")),e)}}},{kernelName:sJ,inputsToSave:["x"],gradFunc:(e,t,n)=>{const[r]=t,{begin:a,size:i}=n,s=r.shape,[o,l]=S5(r,a,i),c=[];for(let u=0;u<e.rank;u++)c.push([o[u],s[u]-o[u]-l[u]]);return{x:()=>G8(e,c)}}},{kernelName:gJ,outputsToSave:[!0],gradFunc:(e,t,n)=>{const[r]=t,{dim:a}=n,i=x2(e,r);return{logits:()=>C8(i,x2(e8(i,[a],true),r))}}},{kernelName:hJ,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>x2(e,Y2(n))}}},W7,W7,Z7,Z7,{kernelName:dJ,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>y2(e,x2(Q4(p2(n,"float32")),2))}}},{kernelName:kJ,inputsToSave:["a","b"],gradFunc:(e,t)=>{const[n,r]=t,a=Y4(2);return{a:()=>x2(e,x2(a,C8(n,r))),b:()=>x2(e,x2(a,C8(r,n)))}}},{kernelName:SJ,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>x2(e,x2(p2(n,"float32"),2))}}},{kernelName:zJ,gradFunc:e=>({x:()=>R4(e)})},{kernelName:MJ,inputsToSave:["a","b"],gradFunc:(e,t)=>{const[n,r]=t,a=I4(n.shape,r.shape);return{a:()=>{let t=e;const r=T4(n.shape,a);return r.length>0&&(t=e8(t,r)),Z2(t,n.shape)},b:()=>{let t=e;const n=T4(r.shape,a);return n.length>0&&(t=e8(t,n)),Z2(N8(t),r.shape)}}}},{kernelName:pJ,inputsToSave:["x"],gradFunc:(e,t,n)=>{const[r]=t,a=r.shape.slice(),{axis:i}=n;oX(i,r.shape).forEach(e=>{a[e]=1});const s=Z2(e,a),o=x2(s,D8(r.shape,"float32"));return{x:()=>o}}},{kernelName:TJ,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>y2(e,J4(w4(n)))}}},{kernelName:IJ,outputsToSave:[!0],gradFunc:(e,t)=>{const[n]=t;return{x:()=>x2(C8(Y4(1),J4(n)),e)}}},{kernelName:OJ,inputsToSave:["x"],gradFunc:(e,t,n)=>{const[r]=t,{reps:a}=n;return{x:()=>{let t=R4(r);if(1===r.rank)for(let n=0;n<a[0];++n)t=m2(t,Q2(e,[n*r.shape[0]],[r.shape[0]]));else if(2===r.rank)for(let n=0;n<a[0];++n)for(let i=0;i<a[1];++i)t=m2(t,Q2(e,[n*r.shape[0],i*r.shape[1]],[r.shape[0],r.shape[1]]));else if(3===r.rank)for(let n=0;n<a[0];++n)for(let i=0;i<a[1];++i)for(let s=0;s<a[2];++s)t=m2(t,Q2(e,[n*r.shape[0],i*r.shape[1],s*r.shape[2]],[r.shape[0],r.shape[1],r.shape[2]]));else{if(4!==r.rank)throw new Error(`Gradient for tile operation is not implemented for rank-${r.rank} tensors yet.`);for(let n=0;n<a[0];++n)for(let i=0;i<a[1];++i)for(let s=0;s<a[2];++s)for(let o=0;o<a[3];++o)t=m2(t,Q2(e,[n*r.shape[0],i*r.shape[1],s*r.shape[2],o*r.shape[3]],[r.shape[0],r.shape[1],r.shape[2],r.shape[3]]))}return t}}}},{kernelName:_J,gradFunc:(e,t,n)=>{const r=n,{perm:a}=r,i=Z4(a);return{x:()=>l3(e,i)}}},{kernelName:$J,gradFunc:(e,t,n)=>{const r=n,{axis:a}=r;return{value:()=>K6(e,a)}}},{kernelName:FJ,inputsToSave:["segmentIds"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>function(e,t){const n=L8(t,R4(t)),r=u8(e,n);let a=d8(t,Y4(0,"int32"));const i=r.rank-a.rank;for(let o=0;o<i;++o)a=i8(a,o+1);a=T8(a,D8(r.shape,"bool"));const s=R4(r);return P4(a,r,s)}(e,n)}}},{kernelName:DJ,gradFunc:e=>({x:()=>R4(e)})}];for(const jTe of G7)QJ(jTe);$0().prototype.abs=function(){return this.throwIfDisposed(),b2(this)},$0().prototype.acos=function(){return this.throwIfDisposed(),v2(this)},$0().prototype.acosh=function(){return this.throwIfDisposed(),w2(this)},$0().prototype.add=function(e){return this.throwIfDisposed(),m2(this,e)},$0().prototype.all=function(e,t){return this.throwIfDisposed(),k2(this,e,t)},$0().prototype.any=function(e,t){return this.throwIfDisposed(),S2(this,e,t)},$0().prototype.argMax=function(e){return this.throwIfDisposed(),N2(this,e)},$0().prototype.argMin=function(e){return this.throwIfDisposed(),E2(this,e)},$0().prototype.asScalar=function(){return this.throwIfDisposed(),Yq(1===this.size,()=>"The array must have only 1 element."),Z2(this,[])},$0().prototype.asType=function(e){return this.throwIfDisposed(),p2(this,e)},$0().prototype.as1D=function(){return this.throwIfDisposed(),Z2(this,[this.size])},$0().prototype.as2D=function(e,t){return this.throwIfDisposed(),Z2(this,[e,t])},$0().prototype.as3D=function(e,t,n){return this.throwIfDisposed(),Z2(this,[e,t,n])},$0().prototype.as4D=function(e,t,n,r){return this.throwIfDisposed(),Z2(this,[e,t,n,r])},$0().prototype.as5D=function(e,t,n,r,a){return this.throwIfDisposed(),Z2(this,[e,t,n,r,a])},$0().prototype.asin=function(){return this.throwIfDisposed(),A2(this)},$0().prototype.asinh=function(){return this.throwIfDisposed(),C2(this)},$0().prototype.atan=function(){return this.throwIfDisposed(),j2(this)},$0().prototype.atan2=function(e){return this.throwIfDisposed(),M2(this,e)},$0().prototype.atanh=function(){return this.throwIfDisposed(),T2(this)},$0().prototype.avgPool=function(e,t,n,r){return this.throwIfDisposed(),G2(this,e,t,n,r)},$0().prototype.batchToSpaceND=function(e,t){return this.throwIfDisposed(),e4(this,e,t)},$0().prototype.batchNorm=function(e,t,n,r,a){return this.throwIfDisposed(),t4(this,e,t,n,r,a)},$0().prototype.broadcastTo=function(e){return this.throwIfDisposed(),s4(this,e)},$0().prototype.cast=function(e){return this.throwIfDisposed(),p2(this,e)},$0().prototype.ceil=function(){return this.throwIfDisposed(),o4(this)},$0().prototype.clipByValue=function(e,t){return this.throwIfDisposed(),c4(this,e,t)},$0().prototype.concat=function(e,t){return this.throwIfDisposed(),e instanceof L0&&(e=[e]),q2([this,...e],t)},$0().prototype.conv1d=function(e,t,n,r,a,i){return this.throwIfDisposed(),m4(this,e,t,n,r,a,i)},$0().prototype.conv2dTranspose=function(e,t,n,r,a){return this.throwIfDisposed(),y4(this,e,t,n,r,a)},$0().prototype.conv2d=function(e,t,n,r,a,i){return this.throwIfDisposed(),f4(this,e,t,n,r,a,i)},$0().prototype.cos=function(){return this.throwIfDisposed(),w4(this)},$0().prototype.cosh=function(){return this.throwIfDisposed(),k4(this)},$0().prototype.cumprod=function(e,t,n){return this.throwIfDisposed(),S4(this,e,t,n)},$0().prototype.cumsum=function(e,t,n){return this.throwIfDisposed(),N4(this,e,t,n)},$0().prototype.depthToSpace=function(e,t){return this.throwIfDisposed(),A4(this,e,t)},$0().prototype.depthwiseConv2d=function(e,t,n,r,a,i){return this.throwIfDisposed(),C4(this,e,t,n,r,a,i)},$0().prototype.dilation2d=function(e,t,n,r,a){return this.throwIfDisposed(),j4(this,e,t,n,r,a)},$0().prototype.divNoNan=function(e){return this.throwIfDisposed(),_4(this,e)},$0().prototype.div=function(e){return this.throwIfDisposed(),y2(this,e)},$0().prototype.dot=function(e){return this.throwIfDisposed(),L4(this,e)},$0().prototype.elu=function(){return this.throwIfDisposed(),F4(this)},$0().prototype.equal=function(e){return this.throwIfDisposed(),O4(this,e)},$0().prototype.erf=function(){return this.throwIfDisposed(),D4(this)},$0().prototype.euclideanNorm=function(e,t){return this.throwIfDisposed(),r8(this,e,t)},$0().prototype.exp=function(){return this.throwIfDisposed(),a8(this)},$0().prototype.expandDims=function(e){return this.throwIfDisposed(),i8(this,e)},$0().prototype.expm1=function(){return this.throwIfDisposed(),s8(this)},$0().prototype.fft=function(){return this.throwIfDisposed(),V6(this)},$0().prototype.flatten=function(){return this.throwIfDisposed(),Z2(this,[this.size])},$0().prototype.floor=function(){return this.throwIfDisposed(),c8(this)},$0().prototype.floorDiv=function(e){return this.throwIfDisposed(),g2(this,e)},$0().prototype.gather=function(e,t,n){return this.throwIfDisposed(),u8(this,e,t,n)},$0().prototype.greaterEqual=function(e){return this.throwIfDisposed(),d8(this,e)},$0().prototype.greater=function(e){return this.throwIfDisposed(),h8(this,e)},$0().prototype.ifft=function(){return this.throwIfDisposed(),B6(this)},$0().prototype.irfft=function(){return this.throwIfDisposed(),H6(this)},$0().prototype.isFinite=function(){return this.throwIfDisposed(),f8(this)},$0().prototype.isInf=function(){return this.throwIfDisposed(),m8(this)},$0().prototype.isNaN=function(){return this.throwIfDisposed(),g8(this)},$0().prototype.leakyRelu=function(e){return this.throwIfDisposed(),y8(this,e)},$0().prototype.lessEqual=function(e){return this.throwIfDisposed(),b8(this,e)},$0().prototype.less=function(e){return this.throwIfDisposed(),x8(this,e)},$0().prototype.localResponseNormalization=function(e,t,n,r){return this.throwIfDisposed(),v8(this,e,t,n,r)},$0().prototype.logSigmoid=function(){return this.throwIfDisposed(),A8(this)},$0().prototype.logSoftmax=function(e){return this.throwIfDisposed(),j8(this,e)},$0().prototype.logSumExp=function(e,t){return this.throwIfDisposed(),M8(this,e,t)},$0().prototype.log=function(){return this.throwIfDisposed(),w8(this)},$0().prototype.log1p=function(){return this.throwIfDisposed(),k8(this)},$0().prototype.logicalAnd=function(e){return this.throwIfDisposed(),T8(this,e)},$0().prototype.logicalNot=function(){return this.throwIfDisposed(),I8(this)},$0().prototype.logicalOr=function(e){return this.throwIfDisposed(),O8(this,e)},$0().prototype.logicalXor=function(e){return this.throwIfDisposed(),P8(this,e)},$0().prototype.matMul=function(e,t,n){return this.throwIfDisposed(),X2(this,e,t,n)},$0().prototype.maxPool=function(e,t,n,r){return this.throwIfDisposed(),R8(this,e,t,n,r)},$0().prototype.max=function(e,t){return this.throwIfDisposed(),K4(this,e,t)},$0().prototype.maximum=function(e){return this.throwIfDisposed(),L8(this,e)},$0().prototype.mean=function(e,t){return this.throwIfDisposed(),$8(this,e,t)},$0().prototype.min=function(e,t){return this.throwIfDisposed(),q4(this,e,t)},$0().prototype.minimum=function(e){return this.throwIfDisposed(),z8(this,e)},$0().prototype.mirrorPad=function(e,t){return this.throwIfDisposed(),V8(this,e,t)},$0().prototype.mod=function(e){return this.throwIfDisposed(),B8(this,e)},$0().prototype.mul=function(e){return this.throwIfDisposed(),x2(this,e)},$0().prototype.neg=function(){return this.throwIfDisposed(),N8(this)},$0().prototype.norm=function(e,t,n){return this.throwIfDisposed(),n8(this,e,t,n)},$0().prototype.notEqual=function(e){return this.throwIfDisposed(),U8(this,e)},$0().prototype.oneHot=function(e,t=1,n=0){return this.throwIfDisposed(),W8(this,e,t,n)},$0().prototype.onesLike=function(){return this.throwIfDisposed(),Z8(this)},$0().prototype.pad=function(e,t){return this.throwIfDisposed(),G8(this,e,t)},$0().prototype.pool=function(e,t,n,r,a,i){return this.throwIfDisposed(),q8(this,e,t,n,r,a,i)},$0().prototype.pow=function(e){return this.throwIfDisposed(),X4(this,e)},$0().prototype.prelu=function(e){return this.throwIfDisposed(),X8(this,e)},$0().prototype.prod=function(e,t){return this.throwIfDisposed(),Y8(this,e,t)},$0().prototype.reciprocal=function(){return this.throwIfDisposed(),E6(this)},$0().prototype.relu=function(){return this.throwIfDisposed(),A6(this)},$0().prototype.relu6=function(){return this.throwIfDisposed(),C6(this)},$0().prototype.reshapeAs=function(e){return this.throwIfDisposed(),Z2(this,e.shape)},$0().prototype.reshape=function(e){return this.throwIfDisposed(),Z2(this,e)},$0().prototype.resizeBilinear=function(e,t,n){return this.throwIfDisposed(),z3(this,e,t,n)},$0().prototype.resizeNearestNeighbor=function(e,t,n){return this.throwIfDisposed(),V3(this,e,t,n)},$0().prototype.reverse=function(e){return this.throwIfDisposed(),j6(this,e)},$0().prototype.rfft=function(){return this.throwIfDisposed(),W6(this)},$0().prototype.round=function(){return this.throwIfDisposed(),M6(this)},$0().prototype.rsqrt=function(){return this.throwIfDisposed(),T6(this)},$0().prototype.selu=function(){return this.throwIfDisposed(),I6(this)},$0().prototype.separableConv2d=function(e,t,n,r,a,i){return this.throwIfDisposed(),O6(this,e,t,n,r,a,i)},$0().prototype.sigmoid=function(){return this.throwIfDisposed(),Y2(this)},$0().prototype.sign=function(){return this.throwIfDisposed(),P6(this)},$0().prototype.sin=function(){return this.throwIfDisposed(),R6(this)},$0().prototype.sinh=function(){return this.throwIfDisposed(),_6(this)},$0().prototype.slice=function(e,t){return this.throwIfDisposed(),Q2(this,e,t)},$0().prototype.softmax=function(e){return this.throwIfDisposed(),z6(this,e)},$0().prototype.softplus=function(){return this.throwIfDisposed(),E8(this)},$0().prototype.spaceToBatchND=function(e,t){return this.throwIfDisposed(),K8(this,e,t)},$0().prototype.split=function(e,t){return this.throwIfDisposed(),U6(this,e,t)},$0().prototype.sqrt=function(){return this.throwIfDisposed(),Q4(this)},$0().prototype.square=function(){return this.throwIfDisposed(),J4(this)},$0().prototype.squaredDifference=function(e){return this.throwIfDisposed(),Z6(this,e)},$0().prototype.squeeze=function(e){return this.throwIfDisposed(),G6(this,e)},$0().prototype.stack=function(e,t){this.throwIfDisposed();const n=e instanceof L0?[this,e]:[this,...e];return K6(n,t)},$0().prototype.step=function(e){return this.throwIfDisposed(),q6(this,e)},$0().prototype.stridedSlice=function(e,t,n,r,a,i,s,o){return this.throwIfDisposed(),X6(this,e,t,n,r,a,i,s,o)},$0().prototype.sub=function(e){return this.throwIfDisposed(),C8(this,e)},$0().prototype.sum=function(e,t){return this.throwIfDisposed(),e8(this,e,t)},$0().prototype.tan=function(){return this.throwIfDisposed(),Y6(this)},$0().prototype.tanh=function(){return this.throwIfDisposed(),J2(this)},$0().prototype.tile=function(e){return this.throwIfDisposed(),o8(this,e)},$0().prototype.toBool=function(){return this.throwIfDisposed(),p2(this,"bool")},$0().prototype.toFloat=function(){return this.throwIfDisposed(),p2(this,"float32")},$0().prototype.toInt=function(){return this.throwIfDisposed(),p2(this,"int32")},$0().prototype.topk=function(e,t){return this.throwIfDisposed(),n3(this,e,t)},$0().prototype.transpose=function(e){return this.throwIfDisposed(),l3(this,e)},$0().prototype.unique=function(e){return this.throwIfDisposed(),a3(this,e)},$0().prototype.unsortedSegmentSum=function(e,t){return this.throwIfDisposed(),i3(this,e,t)},$0().prototype.unstack=function(e){return this.throwIfDisposed(),s3(this,e)},$0().prototype.where=function(e,t){return this.throwIfDisposed(),P4(e,this,t)},$0().prototype.zerosLike=function(){return this.throwIfDisposed(),R4(this)};class K7 extends Error{constructor(e){super(e),Object.setPrototypeOf(this,K7.prototype)}}class q7 extends Error{constructor(e){super(e),Object.setPrototypeOf(this,q7.prototype)}}class X7 extends Error{constructor(e){super(e),Object.setPrototypeOf(this,X7.prototype)}}class Y7 extends Error{constructor(e){super(e),Object.setPrototypeOf(this,Y7.prototype)}}class Q7 extends Error{constructor(e){super(e),Object.setPrototypeOf(this,Q7.prototype)}}class J7{constructor(e){this.maxEntries=e||100,this.cache=new Map}get(e){let t;return this.cache.has(e)&&(t=this.cache.get(e),this.cache.delete(e),this.cache.set(e,t)),t}put(e,t){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxEntries){const e=this.cache.keys().next().value;this.cache.delete(e)}this.cache.set(e,t)}getMaxEntries(){return this.maxEntries}setMaxEntries(e){if(e<0)throw new Error(`The maxEntries of LRU caches must be at least 0, but got ${e}.`);if(this.maxEntries>e)for(let t=0;t<this.maxEntries-e;t++){const e=this.cache.keys().next().value;this.cache.delete(e)}this.maxEntries=e}}function eee(e,t){if(Array.isArray(e)){let n=[];for(let r=0;r<t;r++)n=n.concat(e);return n}{const n=new Array(t);return n.fill(e),n}}function tee(e,t){if(!e)throw new Q7(t)}function nee(e,t){let n=0;for(const r of e)r===t&&n++;return n}function ree(e){return 1===e.length?e[0]:e}function aee(e){return Array.isArray(e)?e:[e]}function iee(e){const t=e.replace(/(.)([A-Z][a-z0-9]+)/g,"$1_$2").replace(/([a-z])([A-Z])/g,"$1_$2").toLowerCase();return"_"!==t[0]?t:"private"+t}function see(e){return e.length<=1||-1===e.indexOf("_")?e:e.replace(/[_]+(\w|$)/g,(e,t)=>t.toUpperCase())}let oee={};function lee(e){if(null==e)return null;const t={};return t.className=e.getClassName(),t.config=e.getConfig(),t}function cee(e){if(null!=e&&"object"==typeof e)if(Array.isArray(e))e.forEach(e=>cee(e));else{const t=Object.keys(e);for(const n of t){const t=e[n];null!=t&&"object"==typeof t&&(Array.isArray(t)||"ndarray"!==t.type||"number"!=typeof t.value?cee(t):e[n]=t.value)}}}function uee(e,t={},n={},r="object",a=!1){if("string"==typeof e){const a=e;let i;if(a in n)i=n[a];else if(a in oee)i=oee[a];else if(i=t[a],null==i)throw new X7(`Unknown ${r}: ${e}. This may be due to one of the following reasons:\n1. The ${r} is defined in Python, in which case it needs to be ported to TensorFlow.js or your JavaScript code.\n2. The custom ${r} is defined in JavaScript, but is not registered properly with tf.serialization.registerClass().`);return i}{const i=e;if(null==i.className||null==i.config)throw new X7(`${r}: Improper config format: ${JSON.stringify(i)}.\n'className' and 'config' must set.`);const s=i.className;let o,l;if(s in n?[o,l]=n[s]:s in oee?[o,l]=oee.className:s in t&&([o,l]=t[s]),null==o)throw new X7(`Unknown ${r}: ${s}. This may be due to one of the following reasons:\n1. The ${r} is defined in Python, in which case it needs to be ported to TensorFlow.js or your JavaScript code.\n2. The custom ${r} is defined in JavaScript, but is not registered properly with tf.serialization.registerClass().`);if(null!=l){const e={};for(const n of Object.keys(oee))e[n]=oee[n];for(const a of Object.keys(n))e[a]=n[a];i.config.customObjects=e;const t=Object.assign({},oee);for(const a of Object.keys(n))oee[a]=n[a];cee(i.config);const r=l(o,i.config,n,a);return oee=Object.assign({},t),r}{const e=Object.assign({},oee);for(const r of Object.keys(n))oee[r]=n[r];const t=new o(i.config);return oee=Object.assign({},e),t}}}function hee(e,t){return-1*function(e,t){return e<t?-1:e>t?1:0}(e,t)}function dee(e){if(null==e)return e;const t=[];for(const n of e)-1===t.indexOf(n)&&t.push(n);return t}function pee(e){if(null==e)throw new X7(`Invalid value in obj: ${JSON.stringify(e)}`);for(const t in e)if(e.hasOwnProperty(t))return!1;return!0}function fee(e,t,n){if(null!=n&&e.indexOf(n)<0)throw new X7(`${n} is not a valid ${t}.  Valid values are ${e} or null/undefined.`)}function mee(e,t,n=0,r=1/0){return tee(n>=0),tee(r>=n),Array.isArray(e)&&e.length>=n&&e.length<=r&&e.every(e=>typeof e===t)}function gee(e,t){Array.isArray(e)?(Yq(e.length>0,()=>`${t} is unexpectedly an empty array.`),e.forEach((e,n)=>gee(e,`element ${n+1} of ${t}`))):Yq(Number.isInteger(e)&&e>0,()=>`Expected ${t} to be a positive integer, but got ${yee(e)}.`)}function yee(e){return null===e?"null":Array.isArray(e)?"["+e.map(e=>yee(e)).join(",")+"]":"string"==typeof e?`"${e}"`:`${e}`}function xee(e){return"relu"===e?"relu":"linear"===e?"linear":"elu"===e?"elu":null}let bee=0;function vee(){return bee++}const wee={};function kee(e=""){return e in wee||(wee[e]=0),wee[e]+=1,e+wee[e].toString()}const See=["channelsFirst","channelsLast"],Nee=["nearest","bilinear"],Eee=["valid","same","causal"],Aee=["max","avg"],Cee=["sum","mul","concat","ave"],jee=new Map;function Mee(e){fee(See,"DataFormat",e)}function Tee(e){fee(Eee,"PaddingMode",e)}function Iee(e){fee(Aee,"PoolMode",e)}const Oee=[];function Pee(e,t){Oee.push(e);try{const e=t();return Oee.pop(),e}catch(ATe){throw Oee.pop(),ATe}}function Ree(e){if(!$ee(e))throw new Error("Not a valid tensor name: '"+e+"'");return(0===Oee.length?"":Oee.join("/")+"/")+e}function _ee(e){if(!$ee(e))throw new Error("Not a valid tensor name: '"+e+"'");jee.has(e)||jee.set(e,0);const t=jee.get(e);if(jee.set(e,jee.get(e)+1),t>0){const n=`${e}_${t}`;return jee.set(n,1),n}return e}const Lee=new RegExp(/^[A-Za-z0-9][-A-Za-z0-9\._\/]*$/);function $ee(e){return!!e.match(Lee)}function Fee(e){return e===parseInt(e.toString(),10)}function Dee(e,t,n){null==t&&(t=0),null==n&&(n=e.length);let r=1;for(let a=t;a<n;++a)r*=e[a];return r}function zee(e){if(0===e.length)return Number.NaN;let t=Number.POSITIVE_INFINITY;for(let n=0;n<e.length;n++){const r=e[n];r<t&&(t=r)}return t}function Vee(e){if(0===e.length)return Number.NaN;let t=Number.NEGATIVE_INFINITY;for(let n=0;n<e.length;n++){const r=e[n];r>t&&(t=r)}return t}function Bee(e,t){if(t<e)throw new X7(`end (${t}) < begin (${e}) is forbidden.`);const n=[];for(let r=e;r<t;++r)n.push(r);return n}let Hee;function Uee(){return null==Hee&&(Hee=o1.backend.epsilon()),Hee}function Wee(e,t){return p2(e,t)}function Zee(e,t=-1){const n=e.shape.slice();return t<0&&(t=n.length+t+1),n.splice(t,0,1),Z2(e,n)}function Gee(e,t,n){return E1(()=>{switch(e.rank){case 1:return L6(e,t,n);case 2:return $6(e,[t,0],[n,e.shape[1]]);case 3:return F6(e,[t,0,0],[n,e.shape[1],e.shape[2]]);case 4:return D6(e,[t,0,0,0],[n,e.shape[1],e.shape[2],e.shape[3]]);case 5:return Q2(e,[t,0,0,0,0],[n,e.shape[1],e.shape[2],e.shape[3],e.shape[4]]);case 6:return Q2(e,[t,0,0,0,0,0],[n,e.shape[1],e.shape[2],e.shape[3],e.shape[4],e.shape[5]]);default:throw new X7(`sliceAlongFirstAxis() received an unsupported tensor rank: ${e.rank}`)}})}function Kee(e,t,n){return E1(()=>{switch(e.rank){case 1:return L6(e,t,n);case 2:return $6(e,[0,t],[e.shape[0],n]);case 3:return F6(e,[0,0,t],[e.shape[0],e.shape[1],n]);case 4:return D6(e,[0,0,0,t],[e.shape[0],e.shape[1],e.shape[2],n]);default:throw new X7(`sliceAlongLastAxis() received an unsupported tensor rank: ${e.rank}`)}})}function qee(e,t,n,r){return E1(()=>{switch(e.rank){case 1:return L6(e,t,n);case 2:switch(r){case 1:return Gee(e,t,n);case 2:return Kee(e,t,n);default:throw new X7(`The axis is not within the rank of the tensor ${r}`)}case 3:switch(r){case 1:return Gee(e,t,n);case 2:return F6(e,[0,t,0],[e.shape[0],n,e.shape[2]]);case 3:return Kee(e,t,n);default:throw new X7(`The axis is not within the rank of the tensor ${r}`)}case 4:switch(r){case 1:return Gee(e,t,n);case 2:return D6(e,[0,t,0,0],[e.shape[0],n,e.shape[2],e.shape[3]]);case 3:return D6(e,[0,0,t,0],[e.shape[0],e.shape[1],n,e.shape[3]]);case 4:return Kee(e,t,n);default:throw new X7(`The axis is not within the rank of the tensor ${r}`)}default:throw new X7(`sliceAlongLastAxis() received an unsupported tensor rank: ${e.rank}`)}})}function Xee(e,t=-1){let n;return t<0&&(n=e[0].rank,t=0!==n?n:0),t===e[0].rank&&(t=-1),q2(e,t)}function Yee(e,t){switch(e.rank){case 1:return u4([e,t]);case 2:return h4([e,t],0);case 3:return d4([e,t],0);case 4:return p4([e,t],0);default:throw new X7(`concatAlongFirstAxis() received an unsupported tensor rank: ${e.rank}`)}}function Qee(e,t){if(Array.isArray(t)||(t=[t]),e.rank!==t.length)throw new X7(`The length of input n (${t.length}) does not match the number of dimensions in input x (${e.rank})`);return o8(e,t)}function Jee(e,t=0,n=1,r,a){return w6(e,t,n,r,a)}function ete(e,t,n,r){if(e.rank<2||t.rank<2)throw new Y7(`dot requires both inputs to be rank >= 2 but got x shape = ${e.shape} and y shape = ${t.shape}`);if(t.rank>=3){if(e.shape.slice(-1)[0]!==t.shape.slice(-2)[0])throw new Y7(`If rank y >= 3, then the second last dim of y must equal the last dim of x but got x shape = ${e.shape} and  y shape = ${t.shape}`)}if(2===e.rank&&2===t.rank){return x3({a:e,b:t,transposeA:!1,transposeB:!1,bias:r?rte(e.rank,r,"channelsLast"):null,activation:n})}{const a=e.shape.slice(),i=a.pop();e=Z2(e,[-1,i]);const s=t.shape.slice(),o=s.pop(),l=s.pop(),c=[...s,o],u=Array.from({length:t.rank},(e,n)=>0===n?t.rank-2:n<=t.rank-2?n-1:n);t=Z2(l3(t,u),[l,-1]);const h=[...a,...c];return Z2(x3({a:e,b:t,transposeA:!1,transposeB:!1,bias:r?rte(e.rank,r,"channelsLast"):null,activation:n}),h)}}function tte(e,t,n){return E1(()=>(t=Array.isArray(t)?Q6(t,"int32"):p2(t,"int32"),u8(e,t,n)))}function nte(e){return x2(e,e)}function rte(e,t,n){const r=t.shape;if(1!==t.rank&&t.rank!==e)throw new X7(`Unexpected bias dimensions: ${t.rank}; expected it to be 1 or ${e}`);if(5===e){if("channelsFirst"===n)return 1===r.length?Z2(t,[1,r[0],1,1,1]):Z2(t,[1,r[3],r[0],r[1],r[2]]);if("channelsLast"===n)return 1===r.length?Z2(t,[1,1,1,1,r[0]]):Z2(t,[1].concat(r))}else if(4===e){if("channelsFirst"===n)return 1===r.length?Z2(t,[1,r[0],1,1]):Z2(t,[1,r[2],r[0],r[1]]);if("channelsLast"===n)return 1===r.length?Z2(t,[1,1,1,r[0]]):Z2(t,[1].concat(r))}else if(3===e){if("channelsFirst"===n)return 1===r.length?Z2(t,[1,r[0],1]):Z2(t,[1,r[1],r[0]]);if("channelsLast"===n)return 1===r.length?Z2(t,[1,1,r[0]]):Z2(t,[1].concat(r))}else if(e<3)return t;throw new X7(`Unsupported input rank by biasAdd: ${t.rank}`)}function ate(e,t,n){return E1(()=>(null==n&&(n="channelsLast"),Mee(n),m2(e,rte(e.rank,t,n))))}function ite(e,t,n,r){return E1(()=>c3(e,t,n,r))}function ste(e,t,n=!1){return n?e():t()}const ote=["fanIn","fanOut","fanAvg"],lte=["normal","uniform","truncatedNormal"];class cte extends G3{fromConfigUsesCustomObjects(){return!1}getConfig(){return{}}}class ute extends cte{apply(e,t){return F8(e,t)}}ute.className="Zeros",q3(ute);class hte extends cte{apply(e,t){return D8(e,t)}}hte.className="Ones",q3(hte);class dte extends cte{constructor(e){if(super(),"object"!=typeof e)throw new X7(`Expected argument of type ConstantConfig but got ${e}`);if(void 0===e.value)throw new X7(`config must have value set but got ${e}`);this.value=e.value}apply(e,t){return E1(()=>x2(Y4(this.value),D8(e,t)))}getConfig(){return{value:this.value}}}dte.className="Constant",q3(dte);class pte extends cte{constructor(e){super(),this.DEFAULT_MINVAL=-.05,this.DEFAULT_MAXVAL=.05,this.minval=e.minval||this.DEFAULT_MINVAL,this.maxval=e.maxval||this.DEFAULT_MAXVAL,this.seed=e.seed}apply(e,t){return k6(e,this.minval,this.maxval,t,this.seed)}getConfig(){return{minval:this.minval,maxval:this.maxval,seed:this.seed}}}pte.className="RandomUniform",q3(pte);class fte extends cte{constructor(e){super(),this.DEFAULT_MEAN=0,this.DEFAULT_STDDEV=.05,this.mean=e.mean||this.DEFAULT_MEAN,this.stddev=e.stddev||this.DEFAULT_STDDEV,this.seed=e.seed}apply(e,t){if("float32"!==(t=t||"float32")&&"int32"!==t)throw new Y7(`randomNormal does not support dType ${t}.`);return Jee(e,this.mean,this.stddev,t,this.seed)}getConfig(){return{mean:this.mean,stddev:this.stddev,seed:this.seed}}}fte.className="RandomNormal",q3(fte);class mte extends cte{constructor(e){super(),this.DEFAULT_MEAN=0,this.DEFAULT_STDDEV=.05,this.mean=e.mean||this.DEFAULT_MEAN,this.stddev=e.stddev||this.DEFAULT_STDDEV,this.seed=e.seed}apply(e,t){if("float32"!==(t=t||"float32")&&"int32"!==t)throw new Y7(`truncatedNormal does not support dType ${t}.`);return r3(e,this.mean,this.stddev,t,this.seed)}getConfig(){return{mean:this.mean,stddev:this.stddev,seed:this.seed}}}mte.className="TruncatedNormal",q3(mte);class gte extends cte{constructor(e){super(),this.gain=null!=e.gain?e.gain:1}apply(e,t){return E1(()=>{if(2!==e.length||e[0]!==e[1])throw new X7("Identity matrix initializer can only be used for 2D square matrices.");return x2(this.gain,l8(e[0]))})}getConfig(){return{gain:this.gain}}}gte.className="Identity",q3(gte);class yte extends cte{constructor(e){if(super(),e.scale<0)throw new X7(`scale must be a positive float. Got: ${e.scale}`);var t;this.scale=null==e.scale?1:e.scale,this.mode=null==e.mode?"fanIn":e.mode,t=this.mode,fee(ote,"FanMode",t),this.distribution=null==e.distribution?"normal":e.distribution,function(e){fee(lte,"Distribution",e)}(this.distribution),this.seed=e.seed}apply(e,t){const n=function(e,t="channelsLast"){let n,r;if(Mee(t),2===e.length)n=e[0],r=e[1];else if(-1!==[3,4,5].indexOf(e.length)){if("channelsFirst"===t){const t=Dee(e,2);n=e[1]*t,r=e[0]*t}else if("channelsLast"===t){const t=Dee(e,0,e.length-2);n=e[e.length-2]*t,r=e[e.length-1]*t}}else{const t=Dee(e);n=Math.sqrt(t),r=Math.sqrt(t)}return[n,r]}(e),r=n[0],a=n[1];let i=this.scale;if("fanIn"===this.mode?i/=Math.max(1,r):"fanOut"===this.mode?i/=Math.max(1,a):i/=Math.max(1,(r+a)/2),"normal"===this.distribution){const n=Math.sqrt(i);if("float32"!==(t=t||"float32")&&"int32"!==t)throw new Y7(`${this.getClassName()} does not support dType ${t}.`);return r3(e,0,n,t,this.seed)}{const n=Math.sqrt(3*i);return k6(e,-n,n,t,this.seed)}}getConfig(){return{scale:this.scale,mode:this.mode,distribution:this.distribution,seed:this.seed}}}yte.className="VarianceScaling",q3(yte);class xte extends yte{constructor(e){super({scale:1,mode:"fanAvg",distribution:"uniform",seed:null==e?null:e.seed})}getClassName(){return yte.className}}xte.className="GlorotUniform",q3(xte);class bte extends yte{constructor(e){super({scale:1,mode:"fanAvg",distribution:"normal",seed:null==e?null:e.seed})}getClassName(){return yte.className}}bte.className="GlorotNormal",q3(bte);class vte extends yte{constructor(e){super({scale:2,mode:"fanIn",distribution:"normal",seed:null==e?null:e.seed})}getClassName(){return yte.className}}vte.className="HeNormal",q3(vte);class wte extends yte{constructor(e){super({scale:2,mode:"fanIn",distribution:"uniform",seed:null==e?null:e.seed})}getClassName(){return yte.className}}wte.className="HeUniform",q3(wte);class kte extends yte{constructor(e){super({scale:1,mode:"fanIn",distribution:"normal",seed:null==e?null:e.seed})}getClassName(){return yte.className}}kte.className="LeCunNormal",q3(kte);class Ste extends yte{constructor(e){super({scale:1,mode:"fanIn",distribution:"uniform",seed:null==e?null:e.seed})}getClassName(){return yte.className}}Ste.className="LeCunUniform",q3(Ste);class Nte extends cte{constructor(e){super(),this.DEFAULT_GAIN=1,this.ELEMENTS_WARN_SLOW=2e3,this.gain=null==e.gain?this.DEFAULT_GAIN:e.gain,this.seed=e.seed}apply(e,t){return E1(()=>{if(e.length<2)throw new Y7("Shape must be at least 2D.");if("int32"!==t&&"float32"!==t&&void 0!==t)throw new TypeError(`Unsupported data type ${t}.`);const n=eX(e.slice(0,-1)),r=e[e.length-1],a=n*r;a>this.ELEMENTS_WARN_SLOW&&console.warn(`Orthogonal initializer is being called on a matrix with more than ${this.ELEMENTS_WARN_SLOW} (${a}) elements: Slowness may result.`);const i=Jee([Math.max(r,n),Math.min(r,n)],0,1,t,this.seed),s=U3.qr(i,!1);let o=s[0];const l=s[1].flatten().stridedSlice([0],[Math.min(r,n)*Math.min(r,n)],[Math.min(r,n)+1]);return o=x2(o,l.sign()),n<r&&(o=o.transpose()),x2(Y4(this.gain),o.reshape(e))})}getConfig(){return{gain:this.gain,seed:this.seed}}}Nte.className="Orthogonal",q3(Nte);const Ete={constant:"Constant",glorotNormal:"GlorotNormal",glorotUniform:"GlorotUniform",heNormal:"HeNormal",heUniform:"HeUniform",identity:"Identity",leCunNormal:"LeCunNormal",leCunUniform:"LeCunUniform",ones:"Ones",orthogonal:"Orthogonal",randomNormal:"RandomNormal",randomUniform:"RandomUniform",truncatedNormal:"TruncatedNormal",varianceScaling:"VarianceScaling",zeros:"Zeros"};function Ate(e,t={}){return uee(e,K3.getMap().classNameMap,t,"initializer")}function Cte(e){return lee(e)}function jte(e){if("string"==typeof e){const t=e in Ete?Ete[e]:e;if("GlorotNormal"===t)return new bte;if("GlorotUniform"===t)return new xte;if("HeNormal"===t)return new vte;if("HeUniform"===t)return new wte;if("LeCunNormal"===t)return new kte;if("LeCunUniform"===t)return new Ste;{const e={};return e.className=t,e.config={},Ate(e)}}return e instanceof cte?e:Ate(e)}function Mte(e){return Array.isArray(e)&&Array.isArray(e[0])}function Tte(e){return 0===e.length?[]:Array.isArray(e[0])?e:[e]}function Ite(e){let t;if(Array.isArray(e)){if(1!==e.length)throw new X7(`Expected Tensor length to be 1; got ${e.length}`);t=e[0]}else t=e;return t}function Ote(e){if(Array.isArray(e)&&Array.isArray(e[0])){if(1===e.length)return e[0];throw new X7(`Expected exactly 1 Shape; got ${e.length}`)}return e}function Pte(e){let t=0;for(const n of e)0===n.shape.length?t+=1:t+=n.shape.reduce((e,t)=>e*t);return t}const Rte="Variable";class _te{constructor(e,t="float32",n=Rte,r=!0,a=null){this.dtype=null==t?"float32":t,this.shape=e.shape,this.id=vee(),n=null==n?Rte:n,this.originalName=Ree(n),this.name=_ee(this.originalName),this.trainable_=r,this.constraint=a,this.val=function(e,t=!0,n,r){return o1.makeVariable(e,t,n,r)}(e,this.trainable_,this.name,this.dtype)}read(){return this.assertNotDisposed(),this.val}write(e){return this.assertNotDisposed(),function(e,t){if(e.shape.toString()!==t.shape.toString())throw new Error("Shape mismatch: "+JSON.stringify(e.shape)+" vs. "+JSON.stringify(t.shape))}(this.val,e),this.val.id!==e.id&&(this.val.assign(e),null!=this.constraint&&this.val.assign(this.constraint.apply(this.val))),this}dispose(){this.assertNotDisposed(),this.val.dispose()}assertNotDisposed(){if(this.val.isDisposed)throw new Error(`LayersVariable ${this.name} is already disposed.`)}get trainable(){return this.trainable_}set trainable(e){this.trainable_=e,this.val.trainable=e}}function Lte(e){return e.map(e=>e.read())}function $te(e){e.forEach(e=>{e[0].write(e[1])})}class Fte{constructor(e){this.dtype=e.dtype,this.shape=e.shape,null!=e.shape?this.ndim=e.shape.length:this.ndim=e.ndim,this.maxNDim=e.maxNDim,this.minNDim=e.minNDim,this.axes=e.axes||{}}}class Dte{constructor(e,t,n,r,a,i,s){this.dtype=e,this.shape=t,this.sourceLayer=n,this.inputs=r,this.callArgs=a,this.outputTensorIndex=s,this.id=vee(),null!=i&&(this.originalName=Ree(i),this.name=_ee(this.originalName)),this.rank=t.length}}let zte=0;class Vte{constructor(e,t){this.callArgs=t,this.id=zte++,this.outboundLayer=e.outboundLayer,this.inboundLayers=e.inboundLayers,this.nodeIndices=e.nodeIndices,this.tensorIndices=e.tensorIndices,this.inputTensors=e.inputTensors,this.outputTensors=e.outputTensors,this.inputMasks=e.inputMasks,this.outputMasks=e.outputMasks,this.inputShapes=e.inputShapes,this.outputShapes=e.outputShapes;for(const n of e.inboundLayers)null!=n&&n.outboundNodes.push(this);e.outboundLayer.inboundNodes.push(this)}getConfig(){const e=[];for(const t of this.inboundLayers)null!=t?e.push(t.name):e.push(null);return{outboundLayer:this.outboundLayer?this.outboundLayer.name:null,inboundLayers:e,nodeIndices:this.nodeIndices,tensorIndices:this.tensorIndices}}}let Bte=0;class Hte extends G3{constructor(e={}){super(),this._callHook=null,this._addedWeightNames=[],this._stateful=!1,this.id=Bte++,this.activityRegularizer=null,this.inputSpec=null,this.supportsMasking=!1,this._trainableWeights=[],this._nonTrainableWeights=[],this._losses=[],this._updates=[],this._built=!1,this.inboundNodes=[],this.outboundNodes=[];let t=e.name;if(!t){const e=this.getClassName();t=iee(e)+"_"+kee(e)}if(this.name=t,this.trainable_=null==e.trainable||e.trainable,null!=e.inputShape||null!=e.batchInputShape){let t;if(null!=e.batchInputShape)t=e.batchInputShape;else if(null!=e.inputShape){let n=null;null!=e.batchSize&&(n=e.batchSize),t=[n].concat(e.inputShape)}this.batchInputShape=t;let n=e.dtype;null==n&&(n=e.inputDType),null==n&&(n="float32"),this.dtype=n}null!=e.weights?this.initialWeights=e.weights:this.initialWeights=null,this._refCount=null,this.fastWeightInitDuringBuild=!1}static nodeKey(e,t){return e.name+"_ib-"+t.toString()}getNodeAtIndex(e,t){if(0===this.inboundNodes.length)throw new q7(`The layer has never been called and thus has no defined ${t}.`);if(this.inboundNodes.length<=e)throw new X7(`Asked to get ${t} at node ${e}, but the layer has only ${this.inboundNodes.length} inbound nodes.`);return this.inboundNodes[e]}getInputAt(e){return ree(this.getNodeAtIndex(e,"input").inputTensors)}getOutputAt(e){return ree(this.getNodeAtIndex(e,"output").outputTensors)}get input(){if(this.inboundNodes.length>1)throw new K7(`Layer ${this.name} has multiple inbound nodes, hence the notion of "layer input" is ill-defined. Use \`getInputAt(nodeIndex)\` instead.`);if(0===this.inboundNodes.length)throw new K7(`Layer ${this.name} is not connected, no input to return.`);return ree(this.getNodeAtIndex(0,"input").inputTensors)}get output(){if(0===this.inboundNodes.length)throw new K7(`Layer ${this.name} has no inbound nodes.`);if(this.inboundNodes.length>1)throw new K7(`Layer ${this.name} has multiple inbound nodes, hence the notion of "layer output" is ill-defined. Use \`getOutputAt(nodeIndex)\` instead.`);return ree(this.getNodeAtIndex(0,"output").outputTensors)}get losses(){return this._losses}calculateLosses(){return this.losses.map(e=>e())}get updates(){return this._updates}get built(){return this._built}set built(e){this._built=e}get trainable(){return this.trainable_}set trainable(e){this._trainableWeights.forEach(t=>t.trainable=e),this.trainable_=e}get trainableWeights(){return this.trainable_?this._trainableWeights.filter(e=>e.trainable):[]}set trainableWeights(e){this._trainableWeights=e}get nonTrainableWeights(){return this.trainable?this._trainableWeights.filter(e=>!e.trainable).concat(this._nonTrainableWeights):this._trainableWeights.concat(this._nonTrainableWeights)}set nonTrainableWeights(e){this._nonTrainableWeights=e}get weights(){return this.trainableWeights.concat(this.nonTrainableWeights)}get stateful(){return this._stateful}resetStates(){if(!this.stateful)throw new Error("Cannot call the resetStates() method of a non-stateful Layer object.")}assertInputCompatibility(e){const t=aee(e);if(null==this.inputSpec||0===this.inputSpec.length)return;const n=aee(this.inputSpec);if(t.length!==n.length)throw new X7(`Layer ${this.name} expects ${n.length} inputs, but it received ${t.length} input tensors. Input received: ${e}`);for(let r=0;r<t.length;r++){const e=t[r],a=n[r];if(null==a)continue;const i=e.rank;if(null!=a.ndim&&i!==a.ndim)throw new X7(`Input ${r} is incompatible with layer ${this.name}: expected ndim=${a.ndim}, found ndim=${i}`);if(null!=a.maxNDim&&i>a.maxNDim)throw new X7(`Input ${r} is incompatible with layer ${this.name}: expected max_ndim=${a.maxNDim}, found ndim=${i}`);if(null!=a.minNDim&&i<a.minNDim)throw new X7(`Input ${r} is incompatible with layer ${this.name}: expected min_ndim=${a.minNDim}, found ndim=${i}.`);if(null!=a.dtype&&e.dtype!==a.dtype)throw new X7(`Input ${r} is incompatible with layer ${this.name} : expected dtype=${a.dtype}, found dtype=${e.dtype}.`);if(a.axes){const t=e.shape;for(const e in a.axes){const n=Number(e),i=a.axes[e],s=n>=0?t[n]:t[t.length+n];if(null!=i&&-1===[i,null].indexOf(s))throw new X7(`Input ${r} is incompatible with layer ${this.name}: expected axis ${n} of input shape to have value ${i} but got shape ${t}.`)}}if(null!=a.shape)for(let t=0;t<a.shape.length;++t){const n=a.shape[t],i=e.shape[t];if(null!=n&&null!=i&&n!==i)throw new X7(`Input ${r} is incompatible with layer ${this.name}: expected shape=${a.shape}, found shape=${e.shape}.`)}}}call(e,t){return e}invokeCallHook(e,t){null!=this._callHook&&this._callHook(e,t)}setCallHook(e){this._callHook=e}clearCallHook(){this._callHook=null}apply(e,t){t=t||{},this.assertNotDisposed();const n=aee(e),r=function(e){let t=!0;for(const n of aee(e))if(!(n instanceof Dte)){t=!1;break}return t}(e),a=function(e){let t=!0;for(const n of aee(e))if(n instanceof Dte){t=!1;break}return t}(e);if(r===a)throw new X7("Arguments to apply() must be all SymbolicTensors or all Tensors");return Pee(this.name,()=>{if(!this.built){this.assertInputCompatibility(e);const t=[];for(const n of aee(e))t.push(n.shape);this.build(ree(t)),this.built=!0,this.initialWeights&&this.setWeights(this.initialWeights),null===this._refCount&&a&&(this._refCount=1)}if(this.assertInputCompatibility(e),a){let r=this.call(e,t);this.supportsMasking&&this.setMaskMetadata(e,r);const a=aee(r),i=[];for(let e of a)-1!==n.indexOf(e)&&(e=e.clone()),i.push(e);if(r=ree(i),null!=this.activityRegularizer)throw new Y7("Layer invocation in the presence of activity regularizer(s) is not supported yet.");return r}{const n=function(e){e=aee(e);const t=[];for(const n of e)t.push(n.shape);return ree(t)}(e),r=this.computeOutputShape(n);let a;const i="float32";if(this.warnOnIncompatibleInputShape(Array.isArray(e)?n[0]:n),a=null!=r&&r.length>0&&Array.isArray(r[0])?r.map((n,r)=>new Dte(i,n,this,aee(e),t,this.name,r)):new Dte(i,r,this,aee(e),t,this.name),this.addInboundNode(e,a,null,null,n,r,t),this._refCount++,null!=this.activityRegularizer)throw new Y7("Layer invocation in the presence of activity regularizer(s) is not supported yet.");return a}})}warnOnIncompatibleInputShape(e){if(null!=this.batchInputShape)if(e.length!==this.batchInputShape.length)console.warn(`The rank of the input tensor provided (shape: ${JSON.stringify(e)}) does not match that of the batchInputShape (${JSON.stringify(this.batchInputShape)}) of the layer ${this.name}`);else{let t=!1;this.batchInputShape.forEach((n,r)=>{null!=n&&null!=e[r]&&e[r]!==n&&(t=!0)}),t&&console.warn(`The shape of the input tensor (${JSON.stringify(e)}) does not match the expectation of layer ${this.name}: ${JSON.stringify(this.batchInputShape)}`)}}get outputShape(){if(null==this.inboundNodes||0===this.inboundNodes.length)throw new K7(`The layer ${this.name} has never been called and thus has no defined output shape.`);const e=[];for(const t of this.inboundNodes){const n=JSON.stringify(t.outputShapes);-1===e.indexOf(n)&&e.push(n)}if(1===e.length){const e=this.inboundNodes[0].outputShapes;return Array.isArray(e)&&Array.isArray(e[0])&&1===e.length?e[0]:e}throw new K7(`The layer ${this.name} has multiple inbound nodes with different output shapes. Hence the notion of "output shape" is ill-defined for the layer.`)}countParams(){if(!this.built)throw new q7(`You tried to call countParams() on ${this.name}, but the layer is not built yet. Build it first by calling build(batchInputShape).`);return Pte(this.weights)}build(e){this.built=!0}getWeights(e=!1){return Lte(e?this.trainableWeights:this.weights)}setWeights(e){E1(()=>{const t=this.weights;if(t.length!==e.length)throw new X7(`You called setWeights(weights) on layer "${this.name}" with a weight list of length ${e.length}, but the layer was expecting ${t.length} weights. Provided weights: ${e}...`);if(0===t.length)return;const n=[],r=Lte(t);for(let a=0;a<r.length;++a){const i=r[a],s=t[a],o=e[a];if(!tX(i.shape,o.shape))throw new X7(`Layer weight shape ${i.shape} not compatible with provided weight shape ${o.shape}`);n.push([s,o])}$te(n)})}addWeight(e,t,n,r,a,i,s,o){if(-1!==this._addedWeightNames.indexOf(e))throw new X7(`Duplicate weight name ${e} for layer ${this.name}`);this._addedWeightNames.push(e),null==n&&(n="float32"),this.fastWeightInitDuringBuild&&(r=null!=o?o():jte("zeros"));const l=r.apply(t,n),c=new _te(l,n,e,i,s);return l.dispose(),null!=a&&this.addLoss(()=>a.apply(c.read())),null==i&&(i=!0),i?this._trainableWeights.push(c):this._nonTrainableWeights.push(c),c}setFastWeightInitDuringBuild(e){this.fastWeightInitDuringBuild=e}addLoss(e){null==e||Array.isArray(e)&&0===e.length||(e=aee(e),void 0!==this._losses&&null!==this._losses&&this.losses.push(...e))}computeOutputShape(e){return e}computeMask(e,t){if(!this.supportsMasking){if(null!=t){if(!Array.isArray(t))throw new TypeError(`Layer ${this.name} does not support masking, but was passed an inputMask.`);t.forEach(e=>{if(null!=e)throw new TypeError(`Layer ${this.name} does not support masking, but was passed an inputMask.`)})}return null}return t}setMaskMetadata(e,t,n){if(!this.supportsMasking)return;const r=this.computeMask(e,n),a=aee(t),i=aee(r);if(a.length!==i.length)throw new Error(`${this.name} outputs ${a.length} tensors but ${a.length} masks for those tensors`);for(let s=0;s<a.length;s++)a[s].kerasMask=i[s]}addInboundNode(e,t,n,r,a,i,s=null){const o=aee(e);t=aee(t),n=aee(n),r=aee(r),a=Tte(a),i=Tte(i);const l=[],c=[],u=[];for(const h of o)l.push(h.sourceLayer),c.push(h.nodeIndex),u.push(h.tensorIndex);new Vte({outboundLayer:this,inboundLayers:l,nodeIndices:c,tensorIndices:u,inputTensors:o,outputTensors:t,inputMasks:n,outputMasks:r,inputShapes:a,outputShapes:i},s);for(let h=0;h<t.length;h++)t[h].sourceLayer=this,t[h].nodeIndex=this.inboundNodes.length-1,t[h].tensorIndex=h}getConfig(){const e={name:this.name,trainable:this.trainable};return null!=this.batchInputShape&&(e.batchInputShape=this.batchInputShape),null!=this.dtype&&(e.dtype=this.dtype),e}disposeWeights(){return this.weights.forEach(e=>e.dispose()),this.weights.length}assertNotDisposed(){if(0===this._refCount)throw new Error(`Layer '${this.name}' is already disposed.`)}dispose(){if(!this.built)throw new Error(`Cannot dispose Layer ${this.name} because it has not been built yet.`);if(null===this._refCount)throw new Error(`Cannot dispose Layer ${this.name} because it has not been used yet.`);this.assertNotDisposed();let e=0;return 0===--this._refCount&&(e=this.disposeWeights()),{refCountAfterDispose:this._refCount,numDisposedVariables:e}}}function Ute(e,t,n){if((null==t||null!=n&&n>0)&&(t=e.sourceLayer,n=e.nodeIndex),0===t.inboundNodes.length)return[e];{const e=t.inboundNodes[n];if(0===e.inboundLayers.length)return e.inputTensors;{const t=[];for(let n=0;n<e.inboundLayers.length;n++){const r=Ute(e.inputTensors[n],e.inboundLayers[n],e.nodeIndices[n]);for(const e of r)-1===t.indexOf(e)&&t.push(e)}return t}}}class Wte extends Hte{constructor(e){if(super({dtype:e.dtype,name:null!=e.name?e.name:kee("input").toString()}),null==e.batchSize&&(e.batchSize=null),null==e.sparse&&(e.sparse=!1),this.trainable=!1,this.built=!0,this.sparse=e.sparse,null!=e.inputShape&&null!=e.batchInputShape)throw new X7("Only provide the inputShape OR batchInputShape argument to inputLayer, not both at the same time.");let t=e.batchInputShape;if(null==t){if(null==e.inputShape)throw new X7("An InputLayer should be passed either a `batchInputShape` or an `inputShape`.");t=[e.batchSize].concat(e.inputShape)}else if(null!=e.batchSize)throw new X7("Cannot specify batchSize if batchInputShape is specified when creating an InputLayer.");const n=e.dtype||"float32";this.batchInputShape=t,this.dtype=n,this.inputSpec=[{shape:t}];const r=new Dte(this.dtype,this.batchInputShape,this,[],{},this.name);r.nodeIndex=0,r.tensorIndex=0,new Vte({outboundLayer:this,inboundLayers:[],nodeIndices:[],tensorIndices:[],inputTensors:[r],outputTensors:[r],inputMasks:[null],outputMasks:[null],inputShapes:[t],outputShapes:[t]})}apply(e,t){throw new X7(`Cannot pass any input to an InputLayer's apply() method. InputLayer name: ${this.name}`)}dispose(){return{refCountAfterDispose:this._refCount,numDisposedVariables:0}}getConfig(){return{batchInputShape:this.batchInputShape,dtype:this.dtype,sparse:this.sparse,name:this.name}}}Wte.className="InputLayer",q3(Wte);class Zte{constructor(e){if(this.id2Value={},this.id2Mask={},this.name2Id={},e instanceof Zte)for(const t in e.id2Value)this.id2Value[t]=e.id2Value[t],t in e.id2Mask&&(this.id2Mask[t]=e.id2Mask[t]);else{if(null==e)return;for(const t of e)this.add(t.key,t.value)}}add(e,t,n){if(null!=this.id2Value[e.id])throw new X7(`Duplicate key: name=${e.name}, id=${e.id}`);return this.id2Value[e.id]=function(e,t){if(null==e.dtype||e.dtype===t.dtype)return t;try{return p2(t,e.dtype)}catch(CTe){throw new X7(`The dtype of the feed (${t.dtype}) can not be cast to the dtype of the key '${e.name}' (${e.dtype}).`)}}(e,t),this.name2Id[e.name]=e.id,null!=n&&(this.id2Mask[e.id]=n),this}addFeed(e){this.add(e.key,e.value)}hasKey(e){return null!=this.id2Value[e.id]}names(){return Object.keys(this.name2Id)}getValue(e){if(e instanceof Dte){if(null==this.id2Value[e.id])throw new X7(`Nonexistent key: ${e.name}`);return this.id2Value[e.id]}{const t=this.name2Id[e];if(null==t)throw new X7(`Feed dict has no SymbolicTensor name: ${e}`);return this.id2Value[t]}}getMask(e){if(e instanceof Dte){if(null==this.id2Value[e.id])throw new X7(`Nonexistent key: ${e.name}`);return this.id2Mask[e.id]}{const t=this.name2Id[e];if(null==t)throw new X7(`Feed dict has no SymbolicTensor name: ${e}`);return this.id2Mask[t]}}disposeMasks(){null!=this.id2Mask&&A1(this.id2Mask)}}const Gte=new J7,Kte=new J7;function qte(e,t,n,r){const a=null!=n&&n.training,i=Array.isArray(e),s=i?e:[e],o=s.map(e=>e.name),l=[],c=t.names();for(const f of o)-1!==c.indexOf(f)?l.push(t.getValue(f)):l.push(null);const u=o.join(",")+"|"+t.names().sort().join(",");let h,d=Gte.get(u);if(null==d){const e=function(e,t){Yq(null!=e&&e.length>0,()=>"Expected at least one fetch, got none");let n=[],r={};if(1===e.length){const a=Yte(e[0],t);n=a.sorted,r=a.recipientMap}else{const a=new Set;for(const i of e){const{sorted:e,recipientMap:s}=Yte(i,t);for(const t of e)a.has(t.name)||(n.push(t),a.add(t.name));for(const t in s)null==r[t]&&(r[t]=new Set),s[t].forEach(e=>r[t].add(e))}}return{sorted:n,recipientCounts:Xte(r)}}(s,t);d=e.sorted,h=e.recipientCounts,Gte.put(u,d),Kte.put(u,h)}h={},a||Object.assign(h,Kte.get(u));const p=new Zte(t);for(let f=0;f<d.length;++f){const e=d[f],r=e.sourceLayer;if(r instanceof Wte)continue;const i=[],s=[],c=[];let u=!1;for(const n of e.inputs){const e=p.getValue(n),r=p.getMask(n);i.push(e),s.push(r),null!=r&&(u=!0),a||(h[n.name]--,0!==h[n.name]||t.hasKey(n)||-1!==o.indexOf(n.name)||e.isDisposed||!0===n.sourceLayer.stateful||c.push(e))}u&&((n=n||{}).mask=s[0]);const m=aee(r.apply(i,n));let g=null;r.supportsMasking&&(g=r.computeMask(i,s));const y=Qte(e),x=Array.isArray(y)?y:[y];for(let t=0;t<x.length;++t){p.hasKey(x[t])||p.add(x[t],m[t],Array.isArray(g)?g[0]:g);const e=o.indexOf(x[t].name);-1!==e&&(l[e]=m[t])}a||A1(c)}return p.disposeMasks(),i?l:l[0]}function Xte(e){const t={};for(const n in e)t[n]=e[n].size;return t}function Yte(e,t){const n=new Set,r=[],a={};for(const o of t.names())n.add(o);const i=[],s=[];for(i.push(e);i.length>0;){const e=i[i.length-1];if(n.has(e.name)){i.pop();continue}const t=s[s.length-1]===i.length-1;if(0===e.inputs.length||t)i.pop(),r.push(e),n.add(e.name),t&&s.pop();else{s.push(i.length-1);for(const t of e.inputs)null==a[t.name]&&(a[t.name]=new Set),a[t.name].add(e.name),n.has(t.name)||i.push(t)}}return{sorted:r,recipientMap:a}}function Qte(e){let t;if(1===e.sourceLayer.inboundNodes.length)t=e.sourceLayer.output;else{let n=null;for(let t=0;t<e.sourceLayer.inboundNodes.length;++t)for(const r of e.sourceLayer.inboundNodes[t].outputTensors)if(r.id===e.id){n=t;break}t=e.sourceLayer.getOutputAt(n)}return t}function Jte(e,t){return E1(()=>Q4(e8(x2(e,e),t,!0)))}IX().registerFlag("TOPOLOGICAL_SORT_CACHE_MAX_ENTRIES",()=>100,function(e){null!=Gte&&Gte.setMaxEntries(e),null!=Kte&&Kte.setMaxEntries(e)});class ene extends G3{getConfig(){return{}}}class tne extends ene{constructor(e){super(),this.defaultMaxValue=2,this.defaultAxis=0,this.maxValue=null!=e.maxValue?e.maxValue:this.defaultMaxValue,this.axis=null!=e.axis?e.axis:this.defaultAxis}apply(e){return E1(()=>{const t=Jte(e,this.axis),n=c4(t,0,this.maxValue);return x2(e,y2(n,m2(Uee(),t)))})}getConfig(){return{maxValue:this.maxValue,axis:this.axis}}}tne.className="MaxNorm",q3(tne);class nne extends ene{constructor(e){super(),this.defaultAxis=0,this.axis=null!=e.axis?e.axis:this.defaultAxis}apply(e){return E1(()=>y2(e,m2(Uee(),Jte(e,this.axis))))}getConfig(){return{axis:this.axis}}}nne.className="UnitNorm",q3(nne);class rne extends ene{apply(e){return A6(e)}}rne.className="NonNeg",q3(rne);class ane extends ene{constructor(e){super(),this.defaultMinValue=0,this.defaultMaxValue=1,this.defaultRate=1,this.defaultAxis=0,this.minValue=null!=e.minValue?e.minValue:this.defaultMinValue,this.maxValue=null!=e.maxValue?e.maxValue:this.defaultMaxValue,this.rate=null!=e.rate?e.rate:this.defaultRate,this.axis=null!=e.axis?e.axis:this.defaultAxis}apply(e){return E1(()=>{const t=Jte(e,this.axis),n=m2(x2(this.rate,c4(t,this.minValue,this.maxValue)),x2(1-this.rate,t));return x2(e,y2(n,m2(Uee(),t)))})}getConfig(){return{minValue:this.minValue,maxValue:this.maxValue,rate:this.rate,axis:this.axis}}}ane.className="MinMaxNorm",q3(ane);const ine={maxNorm:"MaxNorm",minMaxNorm:"MinMaxNorm",nonNeg:"NonNeg",unitNorm:"UnitNorm"};function sne(e){return lee(e)}function one(e,t={}){return uee(e,K3.getMap().classNameMap,t,"constraint")}function lne(e){if(null==e)return null;if("string"==typeof e){return one({className:e in ine?ine[e]:e,config:{}})}return e instanceof ene?e:one(e)}async function cne(e){if(null==e)return;const t=[],n=[],r=[];for(const a in e){const i=e[a];if("number"!=typeof i){const e=i;t.push(e.data()),n.push(a),r.push(e)}}if(t.length>0){const a=await Promise.all(t);for(let t=0;t<a.length;++t)e[n[t]]=a[t][0];A1(r)}}function une(e){if(null!=e)for(const t in e){const n=e[t];"number"!=typeof n&&n.dispose()}}var hne,dne;(dne=hne||(hne={}))[dne.SILENT=0]="SILENT",dne[dne.VERBOSE=1]="VERBOSE";class pne{constructor(){this.validationData=null}setParams(e){this.params=e}async onEpochBegin(e,t){}async onEpochEnd(e,t){}async onBatchBegin(e,t){}async onBatchEnd(e,t){}async onTrainBegin(e){}async onTrainEnd(e){}setModel(e){}}class fne{constructor(e,t=10){null==e&&(e=[]),this.callbacks=e,this.queueLength=t}append(e){this.callbacks.push(e)}setParams(e){for(const t of this.callbacks)t.setParams(e)}setModel(e){for(const t of this.callbacks)t.setModel(e)}async onEpochBegin(e,t){null==t&&(t={});for(const n of this.callbacks)await n.onEpochBegin(e,t)}async onEpochEnd(e,t){null==t&&(t={});for(const n of this.callbacks)await n.onEpochEnd(e,t)}async onBatchBegin(e,t){null==t&&(t={});for(const n of this.callbacks)await n.onBatchBegin(e,t)}async onBatchEnd(e,t){null==t&&(t={});for(const n of this.callbacks)await n.onBatchEnd(e,t)}async onTrainBegin(e){null==e&&(e={});for(const t of this.callbacks)await t.onTrainBegin(e)}async onTrainEnd(e){null==e&&(e={});for(const t of this.callbacks)await t.onTrainEnd(e)}}class mne extends pne{constructor(){super()}async onEpochBegin(e){this.seen=0,this.totals={}}async onBatchEnd(e,t){null==t&&(t={});const n=null==t.size?0:t.size;this.seen+=n;for(const r in t){const e=t[r];if("number"==typeof e)this.totals.hasOwnProperty(r)||(this.totals[r]=0),this.totals[r]=this.totals[r]+e*n;else{let t;r in this.totals?t=this.totals[r]:this.totals[r]=0;const a=E1(()=>m2(this.totals[r],x2(e,n)));this.totals[r]=a,null!=t&&t.dispose()}}}async onEpochEnd(e,t){if(null!=t)for(const n of this.params.metrics)null!=this.totals[n]&&("number"==typeof this.totals[n]?t[n]=this.totals[n]/this.seen:E1(()=>{const e=x2(y2(1,this.seen),this.totals[n]);t[n]=e,this.totals[n].dispose(),C1(t[n])}))}}class gne extends pne{async onTrainBegin(e){this.epoch=[],this.history={}}async onEpochEnd(e,t){null==t&&(t={}),this.epoch.push(e);for(const n in t)null==this.history[n]&&(this.history[n]=[]),this.history[n].push(t[n])}async syncData(){const e=[],t=[],n=[];for(const a in this.history){const r=this.history[a];for(let i=0;i<r.length;++i)if("number"!=typeof r[i]){const s=r[i];e.push(s.data()),t.push(a),n.push(i)}}const r=await Promise.all(e);for(let a=0;a<r.length;++a){this.history[t[a]][n[a]].dispose(),this.history[t[a]][n[a]]=r[a][0]}}}class yne extends pne{constructor(e,t){if(super(),this.currentEpoch=0,this.nowFunc=e.nowFunc,this.nextFrameFunc=e.nextFrameFunc||M5,this.yieldEvery=t||"auto","auto"===this.yieldEvery&&(this.yieldEvery=125),"never"===this.yieldEvery&&null!=e.onYield)throw new Error("yieldEvery is `never` but you provided an `onYield` callback. Either change `yieldEvery` or remove the callback");fX(this.yieldEvery)&&(this.maybeWait=function(e,t,n){let r,a=null!=n?n():v0();return(...i)=>{const s=null!=n?n():v0();return s-a<t||(a=s,r=e(...i)),r}}(this.maybeWait.bind(this),this.yieldEvery,this.nowFunc)),this.trainBegin=e.onTrainBegin,this.trainEnd=e.onTrainEnd,this.epochBegin=e.onEpochBegin,this.epochEnd=e.onEpochEnd,this.batchBegin=e.onBatchBegin,this.batchEnd=e.onBatchEnd,this.yield=e.onYield}async maybeWait(e,t,n){const r=[];null!=this.yield&&(await cne(n),r.push(this.yield(e,t,n))),r.push(this.nextFrameFunc()),await Promise.all(r)}async onEpochBegin(e,t){this.currentEpoch=e,null!=this.epochBegin&&(await cne(t),await this.epochBegin(e,t))}async onEpochEnd(e,t){const n=[];null!=this.epochEnd&&(await cne(t),n.push(this.epochEnd(e,t))),"epoch"===this.yieldEvery&&n.push(this.nextFrameFunc()),await Promise.all(n)}async onBatchBegin(e,t){null!=this.batchBegin&&(await cne(t),await this.batchBegin(e,t))}async onBatchEnd(e,t){const n=[];null!=this.batchEnd&&(await cne(t),n.push(this.batchEnd(e,t))),"batch"===this.yieldEvery?n.push(this.nextFrameFunc()):fX(this.yieldEvery)&&n.push(this.maybeWait(this.currentEpoch,e,t)),await Promise.all(n)}async onTrainBegin(e){null!=this.trainBegin&&(await cne(e),await this.trainBegin(e))}async onTrainEnd(e){null!=this.trainEnd&&(await cne(e),await this.trainEnd(e))}}function xne(e,t){if(null==e&&(e={}),e instanceof pne)return[e];if(Array.isArray(e)&&e[0]instanceof pne)return e;return aee(e).map(e=>new yne(e,t))}class bne{constructor(){}static registerCallbackConstructor(e,t){Yq(e>=0&&Number.isInteger(e),()=>`Verbosity level is expected to be an integer >= 0, but got ${e}`),bne.checkForDuplicate(t),null==bne.constructors[e]&&(bne.constructors[e]=[]),bne.constructors[e].push(t)}static checkForDuplicate(e){for(const t in bne.constructors){bne.constructors[+t].forEach(t=>{if(t===e)throw new X7("Duplicate callback constructor.")})}}static clear(){bne.constructors={}}static createCallbacks(e){const t=[];for(const n in bne.constructors){const r=+n;e>=r&&t.push(...bne.constructors[r])}return t.map(e=>new e)}}function vne(e,t,n,r,a,i,s,o,l){const c=new gne,u=[new mne,...bne.createCallbacks(t)];null!=e&&u.push(...e),u.push(c);const h=new fne(u);return h.setParams({epochs:n,initialEpoch:r,samples:a,steps:i,batchSize:s,verbose:t,doValidation:o,metrics:l}),{callbackList:h,history:c}}function wne(e,t={},n=!1){return uee(e,K3.getMap().classNameMap,t,"layer",n)}function kne(e,t){return E1(()=>{"float32"!==e.dtype&&(e=p2(e,"float32"));const n=e8(nte(e),t,!0),r=l4(n.shape,Uee()),a=Q4(L8(n,r));return y2(e,a)})}function Sne(e,t){return E1(()=>$8(nte(C8(t,e)),-1))}function Nne(e,t){return E1(()=>$8(b2(C8(t,e)),-1))}function Ene(e,t){return E1(()=>{const n=C8(e,t),r=c4(b2(e),Uee(),Number.MAX_VALUE),a=b2(y2(n,r));return x2(100,$8(a,-1))})}function Ane(e,t,n=!1){return E1(()=>{if(n)t=z6(t);else{const e=e8(t,t.shape.length-1,!0);t=y2(t,e)}return t=c4(t,Uee(),1-Uee()),N8(e8(x2(p2(e,"float32"),w8(t)),t.shape.length-1))})}function Cne(e,t,n=!1){return E1(()=>{const r=p2(c8(function(e){const t=[Dee(e.shape)];return Z2(e,t)}(e)),"int32"),a=(t=c4(t,Uee(),1-Uee())).shape;return Ane(Z2(W8(r,a[a.length-1]),a),t,n)})}function jne(e,t){return E1(()=>{let n;return n=c4(t,Uee(),1-Uee()),n=w8(y2(n,C8(1,n))),$8(function(e,t){if(!tX(e.shape,t.shape))throw new X7(`logits and labels must have the same shape, but got shapes ${JSON.stringify(e.shape)} and ${JSON.stringify(t.shape)}`);return E1(()=>{const n=A6(t),r=N8(b2(t));return m2(C8(n,x2(t,e)),k8(a8(r)))})}(e,n),-1)})}function Mne(e,t){return E1(()=>{const n=kne(e,-1),r=kne(t,-1),a=x2(n,r);return N8(e8(a,-1))})}bne.constructors={};const Tne={meanSquaredError:Sne,meanAbsoluteError:Nne,meanAbsolutePercentageError:Ene,meanSquaredLogarithmicError:function(e,t){return E1(()=>{const n=c4(t,Uee(),Number.MAX_VALUE),r=w8(m2(1,n)),a=c4(e,Uee(),Number.MAX_VALUE),i=w8(m2(1,a));return $8(nte(C8(r,i)),-1)})},squaredHinge:function(e,t){return E1(()=>{const n=L8(0,C8(1,x2(e,t)));return $8(nte(n),-1)})},hinge:function(e,t){return E1(()=>{const n=L8(0,C8(1,x2(e,t)));return $8(n,-1)})},categoricalHinge:function(e,t){return E1(()=>{const n=e8(x2(e,t),-1),r=K4(x2(C8(1,e),t),-1);return L8(0,m2(1,C8(r,n)))})},logcosh:function(e,t){return E1(()=>{const n=Math.log(2),r=C8(t,e),a=C8(m2(r,E8(x2(-2,r))),n);return $8(a,-1)})},categoricalCrossentropy:Ane,sparseCategoricalCrossentropy:Cne,binaryCrossentropy:jne,kullbackLeiblerDivergence:function(e,t){return E1(()=>{const n=c4(e,Uee(),1),r=c4(t,Uee(),1);return e8(x2(e,w8(y2(n,r))),-1)})},poisson:function(e,t){return E1(()=>{const n=w8(m2(Uee(),t));return $8(C8(t,x2(e,n)),-1)})},cosineProximity:Mne};function Ine(e){if("string"==typeof e){if(e in Tne)return Tne[e];let t=`Unknown loss ${e}`;throw e.toLowerCase().includes("softmaxcrossentropy")&&(t=`Unknown loss ${e}. Use "categoricalCrossentropy" as the string name for tf.losses.softmaxCrossEntropy`),new X7(t)}return e}function One(e,t){return E1(()=>{const n=x2(.5,Z8(t)),r=Wee(h8(t,n),e.dtype);return $8(O4(e,r),-1)})}function Pne(e,t){return E1(()=>Wee(O4(N2(e,-1),N2(t,-1)),"float32"))}function Rne(e,t){return jne(e,t)}function _ne(e,t){return e.rank===t.rank&&(e=G6(e,[e.rank-1])),(t=N2(t,-1)).dtype!==e.dtype&&(t=p2(t,e.dtype)),p2(O4(e,t),"float32")}const Lne=Ane,$ne=Cne,Fne={binaryAccuracy:One,categoricalAccuracy:Pne,precision:function(e,t){return E1(()=>{const n=function(e,t){return E1(()=>p2(e8(T8(O4(e,1),O4(t,1))),"float32"))}(e,t),r=function(e,t){return E1(()=>p2(e8(T8(O4(e,0),O4(t,1))),"float32"))}(e,t),a=m2(n,r);return p2(P4(h8(a,0),y2(n,a),0),"float32")})},categoricalCrossentropy:Lne,sparseCategoricalCrossentropy:$ne,mse:Sne,MSE:Sne,mae:Nne,MAE:Nne,mape:Ene,MAPE:Ene,cosine:Mne};function Dne(e){if("string"==typeof e&&e in Fne)return Fne[e];if("string"!=typeof e&&null!=e)return e;throw new X7(`Unknown metric ${e}`)}function zne(e){if(tee(null!==e,`Unknown LossOrMetricFn ${e}`),"string"==typeof e)return e;{let t;for(const n of Object.keys(Tne))if(Tne[n]===e){t=n;break}if(void 0!==t)return t;for(const n of Object.keys(Fne))if(Fne[n]===e){t=n;break}return void 0!==t?t:e.name}}const Vne=1048576;function Bne(e,t,n=!1){if(null==e||"object"!=typeof e||Object.getPrototypeOf(e)!==Object.prototype||!Hne(e))throw new Error("User-defined metadata is expected to be a JSON object, but is not.");if(n){const n=JSON.stringify(e);n.length>Vne&&console.warn(`User-defined metadata of model "${t}" is too large in size (length=${n.length} when serialized). It is not recommended to store such large objects in user-defined metadata. Please make sure its serialized length is <= 1048576.`)}}function Hne(e){if(null===e)return!0;if("object"==typeof e){if(Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);for(const n of t){if("string"!=typeof n)return!1;if(!Hne(e[n]))return!1}return!0}if(Array.isArray(e)){for(const t of e)if(!Hne(t))return!1;return!0}return!1}{const t=typeof e;return"string"===t||"number"===t||"boolean"===t}}function Une(e,t,n,r=console.log){const a=function(e){let t=!0;const n=[],r=[];for(const a in e.nodesByDepth)n.push(e.nodesByDepth[a]);for(const a of n){if(a.length>1||1===a.length&&a[0].inboundLayers.length>1){t=!1;break}r.push(...a)}if(t)for(const a of e.layers){let e=!1;for(const n of a.inboundNodes)if(-1!==r.indexOf(n)){if(e){t=!1;break}e=!0}if(!t)break}return t}(e),i=["Layer (type)","Input Shape","Output shape","Param #"];let s;if(a?(t=t||90,n=n||[.32,.61,.89,1]):(t=t||115,n=n||[.24,.48,.7,.8,1]),n[n.length-1]<=1&&(n=n.map(e=>Math.floor(t*e))),!a){i.push("Receives inputs"),s=[];for(const t in e.nodesByDepth)s.push(...e.nodesByDepth[t])}r("_".repeat(t)),Wne(i,n,r),r("=".repeat(t));const o=e.layers;for(let u=0;u<o.length;++u)a?Zne(o[u],n,r):Gne(o[u],n,s,r),r((u===o.length-1?"=":"_").repeat(t));e.checkTrainableWeightsConsistency();const l=function(e){let t;t=null!=e.collectedTrainableWeights?Pte(e.collectedTrainableWeights):Pte(e.trainableWeights);return t}(e),c=Pte(e.nonTrainableWeights);r(`Total params: ${l+c}`),r(`Trainable params: ${l}`),r(`Non-trainable params: ${c}`),r("_".repeat(t))}function Wne(e,t,n=console.log){let r="";for(let a=0;a<e.length;++a)a>0&&(r=r.slice(0,r.length-1)+" "),r+=e[a],r=r.slice(0,t[a]),r+=" ".repeat(t[a]-r.length);n(r)}function Zne(e,t,n){let r,a;try{a=e.inboundNodes.map(e=>JSON.stringify(e.inputShapes)).join(",")}catch(CTe){a="multiple"}try{r=JSON.stringify(e.outputShape)}catch(CTe){r="multiple"}Wne([`${e.name} (${e.getClassName()})`,a,r,e.countParams().toString()],t,n)}function Gne(e,t,n,r){let a,i;try{i=e.inboundNodes.map(e=>JSON.stringify(e.inputShapes)).join(",")}catch(CTe){i="multiple"}try{a=JSON.stringify(e.outputShape)}catch(CTe){a="multiple"}const s=[];for(const u of e.inboundNodes)if(!(null!=n&&n.length>0&&-1===n.indexOf(u)))for(let e=0;e<u.inboundLayers.length;++e){const t=u.inboundLayers[e].name,n=u.nodeIndices[e],r=u.tensorIndices[e];s.push(`${t}[${n}][${r}]`)}const o=e.name,l=e.getClassName(),c=0===s.length?"":s[0];Wne([`${o} (${l})`,i,a,e.countParams().toString(),c],t,r);for(let u=1;u<s.length;++u)Wne(["","","","",s[u]],t,r)}function Kne(e,t,n){return("inboundNodes"===e||"outputLayers"===e||"inputLayers"===e)&&0===t&&"string"==typeof n}function qne(e,t){if(null===e)return null;if("string"==typeof e)return see(e);if("number"==typeof e||"boolean"==typeof e)return e;if(e instanceof Array){const n=[],r=e.length;for(let a=0;a<r;++a){const r=e[a];Kne(t,a,r)?n.push(r):n.push(qne(r,t))}return n}{const t={};for(const n of Object.keys(e)){const r=e[n];if("name"===n&&"string"==typeof r)t[n]=r;else{const e=see(n);t[e]=qne(r,e)}}return t}}function Xne(e,t){if(null==e)return null;if("string"==typeof e)return iee(e);if("number"==typeof e||"boolean"==typeof e)return e;if(e instanceof Array){const n=[],r=e.length;for(let a=0;a<r;++a){const r=e[a];Kne(t,a,r)?n.push(r):n.push(Xne(r,t))}return n}{const t={};for(const n of Object.keys(e)){const r=e[n],a=iee(n);t[a]="name"!==n&&"className"!==n||"string"!=typeof r?Xne(r,n):r}return t}}const Yne="4.22.0";class Qne extends Hte{constructor(e){if(super({}),this.containerNodes=new Set,this.name=e.name,null==this.name){const e=this.getClassName().toLowerCase();this.name=kee(e)}if(this.supportsMasking=!1,this.trainable_=!0,Array.isArray(e.inputs)?this.inputs=e.inputs.slice():this.inputs=[e.inputs],Array.isArray(e.outputs)?this.outputs=e.outputs.slice():this.outputs=[e.outputs],dee(this.inputs).length!==this.inputs.length)throw new X7(`The list of inputs passed to the model is redundant. All inputs should only appear once. Found: ${this.inputs.map(e=>e.name)}`);dee(this.outputs).length!==this.outputs.length&&console.warn(`The list of outputs passed to the model is redundant. All outputs should only appear once. Found: ${this.outputs.map(e=>e.name)}`),this.inputLayers=[],this.inputLayersNodeIndices=[],this.inputLayersTensorIndices=[],this.outputLayers=[],this.outputLayersNodeIndices=[],this.outputLayersTensorIndices=[],this.layers=[],this.internalContainerRefs=[];for(const y of this.outputs){const e=y.sourceLayer,t=y.nodeIndex,n=y.tensorIndex;this.outputLayers.push(e),this.outputLayersNodeIndices.push(t),this.outputLayersTensorIndices.push(n)}for(const y of this.inputs){const e=y.sourceLayer,t=y.nodeIndex,n=y.tensorIndex;tee(0===t,"input layer has >1 nodes"),tee(0===n,"input layer has >1 tensors"),this.inputLayers.push(e),this.inputLayersNodeIndices.push(t),this.inputLayersTensorIndices.push(n)}this.inputNames=[],this.outputNames=[],this.feedInputShapes=[],this.feedInputNames=[],this.feedOutputNames=[];for(let y=0;y<this.inputLayers.length;y++){const t=this.inputLayers[y];if(!(t instanceof Wte))throw new TypeError(`Input layers to a LayersModel must be InputLayer objects. Received inputs: ${e.inputs}. Input ${y} (0-based) originates from layer type ${t.getClassName()}.`);this.inputNames.push(t.name),this.feedInputShapes.push(t.batchInputShape),this.feedInputNames.push(t.name)}for(const y of this.outputLayers)this.outputNames.push(y.name);this.internalInputShapes=this.inputs.map(e=>e.shape),this.internalOutputShapes=this.outputs.map(e=>e.shape);const t={},n={},r={},a={},i={},s=[],o=(e,t,n,r,a,l)=>{null!=r&&null!=a&&null!=l||(r=e.sourceLayer,a=e.nodeIndex,l=e.tensorIndex);const c=r.inboundNodes[a];if(-1!==n.indexOf(c))throw new q7(`The tensor ${e.name} at layer "${r.name}" is part of a cycle.`);if(-1!==t.indexOf(c))return;this.containerNodes.add(Qne.nodeKey(r,a)),r.id in i||(i[r.id]=Object.keys(i).length),-1===n.indexOf(c)&&n.push(c);const u=c.inboundLayers.length;for(let i=0;i<u;i++){const e=c.inputTensors[i],r=c.inboundLayers[i],a=c.nodeIndices[i],s=c.tensorIndices[i];o(e,t,n,r,a,s)}for(t.push(c);n.indexOf(c)>=0;)n.splice(n.indexOf(c),1);s.push(c)},l=[],c=[];for(const y of this.outputs)o(y,l,c);const u=s.slice().reverse();for(const y of u){n[y.id]=y,y.id in t||(t[y.id]=0);let e=t[y.id];const i=null==r[y.outboundLayer.id]?0:r[y.outboundLayer.id];e=Math.max(e,i),r[y.outboundLayer.id]=e,a[y.outboundLayer.id]=y.outboundLayer,t[y.id]=e;for(let r=0;r<y.inboundLayers.length;r++){const a=y.inboundLayers[r],i=y.nodeIndices[r],s=a.inboundNodes[i],o=null==t[s.id]?0:t[s.id];t[s.id]=Math.max(e+1,o),n[s.id]=s}}const h={};for(const y in t){const e=t[y];e in h||(h[e]=[]),h[e].push(n[y])}const d={};for(const y in r){const e=r[y];e in d||(d[e]=[]),d[e].push(a[y])}let p=Object.keys(d).map(e=>parseInt(e,10)).sort(hee);this.layers=[];for(const y of p){const e=d[y];e.sort((e,t)=>{const n=i[e.id],r=i[t.id];return n<r?-1:n>r?1:0});for(const t of e)t instanceof Qne&&this.internalContainerRefs.push(t),this.layers.push(t)}this.layersByDepth=d,p=Object.keys(h).map(e=>parseInt(e,10)).sort(hee);const f=this.inputs.slice(),m=[];for(const y of p)for(const e of h[y]){const t=e.outboundLayer;if(null!=t){for(const n of e.inputTensors)if(-1===f.indexOf(n))throw new q7(`Graph disconnected: cannot obtain value for tensor ${n} at layer "${t.name}". The following previous layers were accessed without issue: ${m}`);for(const t of e.outputTensors)f.push(t);m.push(t.name)}}this.nodesByDepth=h;const g=this.layers.map(e=>e.name);for(const y of g){const e=g.filter(e=>e===y).length;if(1!==e)throw new q7(`The name "${y}" is used ${e} times in the model. All layer names should be unique. Layer names: `+JSON.stringify(g))}this.outboundNodes=[],this.inboundNodes=[],new Vte({outboundLayer:this,inboundLayers:[],nodeIndices:[],tensorIndices:[],inputTensors:this.inputs,outputTensors:this.outputs,inputMasks:this.inputs.map(e=>null),outputMasks:this.outputs.map(e=>null),inputShapes:this.inputs.map(e=>e.shape),outputShapes:this.outputs.map(e=>e.shape)}),this.built=!0,this._refCount=1}assertNotDisposed(){if(0===this._refCount)throw new Error(`Container '${this.name}' is already disposed.`)}dispose(){this.assertNotDisposed();const e={refCountAfterDispose:null,numDisposedVariables:0};if(0===--this._refCount){for(const t of this.layers)e.numDisposedVariables+=t.dispose().numDisposedVariables;for(const t of this.internalContainerRefs)e.numDisposedVariables+=t.dispose().numDisposedVariables}return e.refCountAfterDispose=this._refCount,e}get trainable(){return this.trainable_}set trainable(e){this.layers.forEach(t=>{t._trainableWeights.forEach(t=>t.trainable=e)}),this.trainable_=e}get trainableWeights(){if(this._trainableWeights.length>0)throw new X7("Container instance unexpectedly contains _trainableWeights.The trainable weights of a Container are a union of the trainable weights of its consituent Layers. Its own _trainableWeights must remain an empty Array.");if(!this.trainable)return[];let e=[];for(const t of this.layers)e=e.concat(t.trainableWeights);return e}get nonTrainableWeights(){const e=[];for(const t of this.layers)e.push(...t.nonTrainableWeights);if(!this.trainable){const t=[];for(const e of this.layers)t.push(...e.trainableWeights);return t.concat(e)}return e}get weights(){return this.trainableWeights.concat(this.nonTrainableWeights)}loadWeights(e,t=!0){const n={};let r=0;const a=(e=>{const t=Object.keys(e);if(0===t.length)return!1;const n=t[0].split("/");return!isNaN(parseInt(n[n.length-1],10))})(e);a&&this.parseWeights(e);for(const s of this.layers)for(const[e,t]of s.weights.entries()){const i=a?`${t.name.split("/").slice(0,-1).join("/")+"/"}${e}`:t.originalName;if(null!=n[i])throw new X7(`Duplicate weight name: ${i}`);n[i]=t,r++}const i=[];for(const s in e){let r=s;if(null==n[s]){const e=s.split("/");r=e.slice(0,-2).concat([e[e.length-1]]).join("/")}if(null!=n[r])i.push([n[r],e[s]]);else if(t)throw new X7(`Provided weight data has no target variable: ${s}`);delete n[r]}if(t){const e=[];for(const t in n)e.push(t);if(e.length>0)throw new X7(`${e.length} of ${r} weights are not set: ${e}`)}$te(i)}parseWeights(e){for(const t in Object.keys(e)){const n=t.split("/"),r=["vars","layer_checkpoint_dependencies"],a=n.map(e=>e.startsWith("_")?e.slice(1):e).filter(e=>!r.includes(e)).join("/");a!==t&&(e[a]=e[t],delete e[t])}}updatedConfig(){const e=this.getConfig(),t={};return t.className=this.getClassName(),t.config=e,t.kerasVersion=`tfjs-layers ${Yne}`,t.backend="TensorFlow.js",t}toJSON(e,t=!0){const n=Xne(this.updatedConfig());return t?JSON.stringify(n):n}call(e,t){return E1(()=>{e=aee(e);const n=new Zte;for(let t=0;t<this.inputs.length;++t)n.add(this.inputs[t],e[t]);return qte(this.outputs,n,t)})}computeMask(e,t){return E1(()=>{let n;return e=aee(e),n=null==t?eee(null,e.length):aee(t),this.runInternalGraph(e,n)[1]})}computeOutputShape(e){const t=Tte(e);if(t.length!==this.inputLayers.length)throw new X7(`Invalid inputShape argument ${e}: model has ${this.inputLayers.length} tensor inputs.`);const n={};for(let s=0;s<t.length;s++){const e=this.inputLayers[s],r=t[s];n[e.name+"_0_0"]=r}const r=Object.keys(this.nodesByDepth).map(e=>parseInt(e,10)).sort(hee);if(r.length>1)for(const s of r){const e=this.nodesByDepth[s];for(const t of e){const e=t.outboundLayer;if(-1!==this.inputLayers.map(e=>e.id).indexOf(e.id))continue;const r=[];for(let s=0;s<t.inboundLayers.length;s++){const e=t.inboundLayers[s],a=t.nodeIndices[s],i=t.tensorIndices[s],o=n[`${e.name}_${a}_${i}`];r.push(o)}const a=Tte(e.computeOutputShape(ree(r))),i=e.inboundNodes.indexOf(t);for(let t=0;t<a.length;t++){n[`${e.name}_${i}_${t}`]=a[t]}}}const a=[],i=[];for(let s=0;s<this.outputLayers.length;s++){const e=this.outputLayers[s],t=this.outputLayersNodeIndices[s],n=this.outputLayersTensorIndices[s],r=`${e.name}_${t}_${n}`;i.push(r)}for(let s=0;s<i.length;s++){const e=i[s];tee(e in n),a.push(n[e])}return ree(a)}runInternalGraph(e,t){null==t&&(t=eee(null,e.length));const n={};for(let o=0;o<this.inputs.length;++o){const r=this.inputs[o],a=e[o],i=t[o];n[r.id]=[a,i]}const r=Object.keys(this.nodesByDepth).map(e=>parseInt(e,10)).sort(hee);for(const o of r){const e=this.nodesByDepth[o];for(const t of e){const e=t.outboundLayer,r=t.inputTensors,a=t.outputTensors,i=new Array;for(const t of r)t.id in n&&i.push(n[t.id]);if(i.length===r.length){let r,s,o,l,c={};if(null!=t.callArgs&&(c=t.callArgs),1===i.length){const[t,n]=i[0];null==c.mask&&(c.mask=n),o=aee(e.call(t,c)),l=aee(e.computeMask(t,n)),r=[t],s=[n]}else r=i.map(e=>e[0]),s=i.map(e=>e[1]),null==c.mask&&(c.mask=s),o=aee(e.call(r,c)),l=aee(e.computeMask(r,s));if(e.activityRegularizer)throw new Y7("LayersModel invocation with concrete Tensor value(s) in the presence of activity regularizer(s) is not supported yet.");for(let e=0;e<a.length;++e){const t=a[e],r=o[e],i=l[e];n[t.id]=[r,i]}}}}const a=[],i=[],s=[];for(const o of this.outputs){tee(o.id in n,`Could not compute output ${o.name} : ${o.id}`);const[e,t]=n[o.id];s.push(e.shape),a.push(e),i.push(t)}return[a,i,s]}buildNodeConversionMap(e){const t={};let n;for(const r of this.layers){n=r instanceof Qne?1:0;for(let e=0;e<r.inboundNodes.length;e++){const a=Qne.nodeKey(r,e);this.containerNodes.has(a)&&(t[a]=n,n+=1)}}return t}getLayer(e,t){if(null!=t)return this.findLayer(t);if(null==e)throw new X7("Provide either a layer name or layer index");if("number"==typeof e)return this.findLayer(e);for(const n of this.layers)if(n.name===e)return n;throw new X7(`No such layer: ${e}`)}findLayer(e){if(this.layers.length<=e)throw new X7(`Was asked to retrieve layer at index ${e}, but model only has ${this.layers.length} layer(s).`);return this.layers[e]}calculateLosses(){return E1(()=>{const e=[];for(const t of this.layers)for(let n=0;n<t.inboundNodes.length;++n){const r=Qne.nodeKey(t,n);this.containerNodes.has(r)&&e.push(...t.calculateLosses())}return e})}getConfig(){const e={name:this.name},t=this.buildNodeConversionMap(this.layers),n=[];for(const i of this.layers){const e=i.getClassName(),r=i.getConfig(),a=[];for(let n=0;n<i.inboundNodes.length;n++){const e=i.inboundNodes[n],r=Qne.nodeKey(i,n);let s={};if(this.containerNodes.has(r)){if(e.callArgs)try{JSON.stringify(e.callArgs),s=e.callArgs}catch(CTe){console.warn(`Layer ${i.name} was passed non-serializable keyword arguments: ${e.callArgs}. They will not be included in the serialized model (and thus will be missing at deserialization time).`),s={}}if(e.inboundLayers.length>0){const n=[];for(let r=0;r<e.inboundLayers.length;r++){const a=e.inboundLayers[r],i=e.nodeIndices[r],o=e.tensorIndices[r];let l=t[Qne.nodeKey(a,i)];null==l&&(l=0),n.push([a.name,l,o,s])}a.push(n)}}}const s={};s.name=i.name,s.className=e,s.config=r,s.inboundNodes=a,n.push(s)}e.layers=n;const r=[];for(let i=0;i<this.inputLayers.length;i++){const e=this.inputLayers[i],n=this.inputLayersNodeIndices[i],a=Qne.nodeKey(e,n);if(!this.containerNodes.has(a))continue;let s=t[a];null==s&&(s=0);const o=this.inputLayersTensorIndices[i];r.push([e.name,s,o])}e.inputLayers=r;const a=[];for(let i=0;i<this.outputLayers.length;i++){const e=this.outputLayers[i],n=this.outputLayersNodeIndices[i],r=Qne.nodeKey(e,n);if(!this.containerNodes.has(r))continue;let s=t[r];null==s&&(s=0);const o=this.outputLayersTensorIndices[i];a.push([e.name,s,o])}return e.outputLayers=a,e}static fromConfig(e,t,n={},r=!1){const a={},i={};function s(e,t){e.name in i?i[e.name].push(t):i[e.name]=[t]}function o(e,t){const n=[];let r;for(const i of t){const o=i[0],l=i[1],c=i[2];if(r=null==i[3]?{}:i[3],!(o in a))return void s(e,t);const u=a[o];if(u.inboundNodes.length<=l)return void s(e,t);const h=u.inboundNodes[l];n.push(h.outputTensors[c])}n.length>0&&e.apply(ree(n),r)}function l(e){const n=e.name,i=wne(e,null!=t.customObjects?t.customObjects:{});i.setFastWeightInitDuringBuild(r),a[n]=i;e.inboundNodes.forEach(e=>{if(!(e instanceof Array))throw new X7(`Corrupted configuration, expected array for nodeData: ${e}`);s(i,e)})}const c=t.name,u=t.layers;for(const m of u)l(m);for(;!pee(i);)for(const e of u){const t=a[e.name];if(t.name in i){const e=i[t.name];delete i[t.name];for(const n of e)o(t,n)}}const h=[],d=[],p=t.inputLayers;for(const m of p){const e=m[0],t=m[1],n=m[2];tee(e in a);const r=a[e].inboundNodes[t].outputTensors;h.push(r[n])}const f=t.outputLayers;for(const m of f){const e=m[0],t=m[1],n=m[2];tee(e in a);const r=a[e].inboundNodes[t].outputTensors;d.push(r[n])}return new e({inputs:h,outputs:d,name:c})}get stateful(){if(this._stateful)throw new X7("Container instance unexpectedly has _stateful = true. The statefulness of a Container is determined by the Layers it contains. Its _stateful property must remain the default false.");for(const e of this.layers)if(e.stateful)return!0;return!1}resetStates(){E1(()=>{this.layers.forEach(e=>{e.stateful&&e.resetStates()})})}}function Jne(e,t){return function(e,t,n){const r=t.length;if(null==e||Array.isArray(e)&&0===e.length)return t.map(e=>null);if(1===r)return Array.isArray(e)&&1===e.length?e:"object"==typeof e&&t[0]in e?[e[t[0]]]:[e];if(Array.isArray(e)){if(e.length!==r)throw new Error(`Provided ${n} is an array of ${e.length} element(s), but the model has ${r} outputs. Make sure a set of weights is provided for each model output.`);return e}if("object"==typeof e&&Object.keys(e).length>0&&"object"==typeof e[Object.keys(e)[0]]){const n=[];return t.forEach(t=>{t in e?n.push(e[t]):n.push(null)}),n}throw new Error(`The model has multiple (${r}) outputs, so ${n} must be either an array with ${r} elements or an object with ${t} keys. Provided ${n} not understood: ${JSON.stringify(e)}`)}(e,t,"classWeight")}async function ere(e,t,n,r){if(null!=n){const t=E1(()=>{if(1===e.shape.length)return f2(e);if(2===e.shape.length){if(e.shape[1]>1){return N2(e,1)}if(1===e.shape[1])return Z2(e,[e.shape[0]]);throw new Error(`Encountered unexpected last-dimension size (${e.shape[1]}) during handling of class weights. The size is expected to be >= 1.`)}throw new Error(`Unexpected rank of target (y) tensor (${e.rank}) during handling of class weights. The rank is expected to be 1 or 2.`)}),r=Array.from(await t.data());A1(t);const a=[];return r.forEach(e=>{if(null==n[e])throw new Error(`classWeight must contain all classes in the training data. The class ${e} exists in the data but not in classWeight`);a.push(n[e])}),Q6(a,"float32")}return null}function tre(e,t){return x2(e,t)}function nre(e,t){let n,r;const a=t;n=a.xs,r=a.ys,Yq(null!=n&&null!=r,()=>`A Dataset iterator for fitDataset() is expected to generate objects of the form \`{xs: xVal, ys: yVal}\`, where the two values may be \`tf.Tensor\`, an array of Tensors, or a map of string to Tensor.  The provided Dataset instead generates ${t}`);const i=rre("input",e.inputNames,n),s=rre("output",e.outputNames,r),o=i[0].shape[0];Yq(i.length===e.inputs.length,()=>`LayersModel has ${e.inputs.length} inputs, but the dataset provides ${i.length} inputs.  (Expected input keys: ${JSON.stringify(e.inputNames)})`),Yq(s.length===e.outputs.length,()=>`LayersModel has ${e.outputs.length} outputs, but the dataset provides ${s.length} outputs.  (Expected output keys: ${JSON.stringify(e.outputNames)})`);for(let l=0;l<i.length;l++)Yq(i[l].shape[0]===o,()=>`Batch size mismatch: input ${e.inputNames[l]} has ${i[l].shape[0]}; expected  ${o} based on input ${e.inputNames[0]}.`);for(let l=0;l<s.length;l++)Yq(s[l].shape[0]===o,()=>`Batch size mismatch: output ${e.outputNames[l]} has ${s[l].shape[0]}; expected  ${o} based on input ${e.inputNames[0]}.`);return{xs:i,ys:s}}function rre(e,t,n){if(n instanceof L0)return[n];if(Array.isArray(n))return Yq(n.length===t.length,()=>`Received an array of ${n.length} Tensors, but expected ${t.length} to match the ${e} keys ${t}.`),n;{const r=[];for(const a of t){if(null==n[a])throw new X7(`The feature data generated by the dataset lacks the required ${e} key '${a}'.`);r.push(n[a])}return r}}async function are(e,t,n){const r=null!=n.batchesPerEpoch;if(Yq(null!=e.optimizer,()=>"You must compile a model before training/testing. Use LayersModel.compile(modelCompileConfig)."),Yq(null!=n,()=>"For fitDataset(), the 2nd argument (config) is required, but it is not provided in this call."),Yq(null!=n.epochs&&n.epochs>0&&Number.isInteger(n.epochs),()=>`For fitDataset(), config.epochs is expected to be a positive integer, but got ${n.epochs}`),Yq(!r||n.batchesPerEpoch>0&&Number.isInteger(n.batchesPerEpoch),()=>`For fitDataset(), config.batchesPerEpoch is expected to be a positive integer if specified, but got ${n.batchesPerEpoch}`),Yq(null==n.validationSplit,()=>"`validationSplit` is not supported by `fitDataset()`. Use validationData instead."),e.isTraining)throw new Error("Cannot start training because another fit() call is ongoing.");e.isTraining=!0;try{const a=null!=n.validationData;let i,s;if(a)if(ire(n.validationData))Yq(null==n.validationBatches||n.validationBatches>0&&Number.isInteger(n.validationBatches),()=>`For fitDataset() with dataset-based validation, config.validationBatches is expected not to be provided, or to be a positive integer, but got ${n.validationBatches}`);else{const e=function(e){if(3===e.length)throw new Y7("Validation with sample weights is not implemented yet.");return{xs:e[0],ys:e[1]}}(n.validationData);i=e.xs,s=e.ys}const o=e.makeTrainFunction(),l=e.getDedupedMetricsNames();let c;c=a?l.slice().concat(l.map(e=>"val_"+e)):l.slice();const u=xne(n.callbacks,n.yieldEvery),h=null==n.verbose?1:n.verbose,{callbackList:d,history:p}=vne(u,h,n.epochs,null,null,function(e,t){let n=null;null!=t.batchesPerEpoch?n=t.batchesPerEpoch:Number.isFinite(e.size)&&(n=e.size);return n}(t,n),null,a,c);d.setModel(e),e.history=p,await d.onTrainBegin(),e.stopTraining_=!1;let f=null==n.initialEpoch?0:n.initialEpoch,m=await t.iterator();for(;f<n.epochs;){const c={};await d.onEpochBegin(f);let u=0,h=0;for(r||(m=await t.iterator());!r||u<n.batchesPerEpoch;){const t=await m.next();if(r&&t.done){console.warn(`You provided \`batchesPerEpoch\` as ${n.batchesPerEpoch}, but your dataset iterator ran out of data after ${u} batches; interrupting training. Make sure that your dataset can generate at least \`batchesPerEpoch * epochs\` batches (in this case, ${n.batchesPerEpoch*n.epochs} batches). You may need to use the repeat() function when building your dataset.`);break}if(null!=t.value){const{xs:r,ys:a}=nre(e,t.value),i={};i.batch=h,i.size=r[0].shape[0],await d.onBatchBegin(h,i);const s=[];if(null!=n.classWeight){const t=Jne(n.classWeight,e.outputNames);for(let e=0;e<t.length;++e)s.push(await ere(a[e],0,t[e]))}const c=r.concat(a).concat(s),p=o(c);A1(c);for(let e=0;e<l.length;++e){const t=l[e],n=p[e];i[t]=n,C1(n)}await d.onBatchEnd(h,i),une(i),h++,u++}if(r?u>=n.batchesPerEpoch:t.done){if(a){let t;t=ire(n.validationData)?aee(await e.evaluateDataset(n.validationData,{batches:n.validationBatches})):aee(e.evaluate(i,s,{batchSize:null==n.validationBatchSize?32:n.validationBatchSize,verbose:0}));for(let n=0;n<e.metricsNames.length;++n)c[`val_${e.metricsNames[n]}`]=t[n]}break}if(e.stopTraining_)break}if(await d.onEpochEnd(f,c),f++,e.stopTraining_)break}return await d.onTrainEnd(),await e.history.syncData(),e.history}finally{e.isTraining=!1}}function ire(e){return"function"==typeof e.iterator}function sre(e){Yq(e>0&&Number.isInteger(e),()=>`batchSize is required to be a positive integer, but got ${e}`)}function ore(e,t,n){return null==e?[null]:Array.isArray(e)?e.map(e=>Gee(e,t,n-t)):Gee(e,t,n-t)}function lre(e,t){return E1(()=>null==e?null:Array.isArray(e)?e.map(e=>lre(e,t)):tte(e,"int32"===t.dtype?t:p2(t,"int32")))}function cre(e,t){const n=[];let r=0,a=null;for(;r<e;)a=r+t,a>=e&&(a=e),n.push([r,a]),r=a;return n}function ure(e){const t=[];e instanceof L0&&(e=[e]);for(let n=0;n<e.length;++n){const r=e[n];if(1===r.rank)t.push(Zee(r,1));else{if(0===r.rank)throw new Error("Expected tensor to be at least 1D, but received a 0D tensor (scalar).");t.push(r)}}return t}function hre(e,t){if(null==e)return;const n=[];if(t instanceof L0)n.push(t.id);else if(Array.isArray(t))t.forEach(e=>n.push(e.id));else if(null!=t)for(const a in t){const e=t[a];n.push(e.id)}const r=[];if(e instanceof L0)-1===n.indexOf(e.id)&&r.push(e);else if(Array.isArray(e))e.forEach(e=>{-1===n.indexOf(e.id)&&r.push(e)});else if(null!=e)for(const a in e){const t=e[a];-1===n.indexOf(t.id)&&r.push(t)}r.forEach(e=>{e.isDisposed||e.dispose()})}function dre(e){return Array.isArray(e)}function pre(e){return!function(e){return e instanceof L0}(e)&&!dre(e)}function fre(e,t,n,r=!0,a=""){if(null==t||0===t.length){if(null!=e){let t=!1;if(dre(e)&&e.length>0)t=!0;else if(pre(e)){for(const n in e)if(e.hasOwnProperty(n)){t=!0;break}}else t=!0;if(t)throw new X7(`Error when checking model ${a} expected no data, but got ${e}`)}return[]}if(null==e)return t.map(e=>null);let i;if(pre(e)){i=[];for(const n of t){if(null==e[n])throw new X7(`No data provided for "${n}". Need data for each key in: ${t}`);i.push(e[n])}}else if(dre(e)){if(e.length!==t.length)throw new X7(`Error when checking model ${a}: the Array of Tensors that you are passing to your model is not the size the model expected. Expected to see ${t.length} Tensor(s), but instead got the following list of Tensor(s): ${e}`);i=e}else{if(t.length>1)throw new X7(`The model ${a} expects ${t.length} Tensor(s), but only received one Tensor. Found: Tensor with shape ${e.shape}`);i=[e]}if(i=ure(i),null!=n)for(let s=0;s<t.length;++s){if(null==n[s])continue;const e=i[s];if(e.shape.length!==n[s].length)throw new X7(`Error when checking ${a}: expected ${t[s]} to have ${n[s].length} dimension(s). but got array with shape ${e.shape}`);for(let t=0;t<n[s].length;++t){if(0===t&&!r)continue;const i=e.shape[t],o=n[s][t];if(null!=o&&o>=0&&i!==o)throw new X7(`${a} expected a batch of elements where each example has shape [${n[s].slice(1,n[s].length)}] (i.e.,tensor shape [*,${n[s].slice(1,n[s].length)}]) but the ${a} received an input with ${e.shape[0]} examples, each with shape [${e.shape.slice(1,e.shape.length)}] (tensor shape [${e.shape}])`)}}return i}function mre(e,t,n,r=!0,a=""){let i;if(Array.isArray(e)){if(e.length!==t.length)throw new X7(`Error when checking model ${a}: the Array of Tensors that you are passing to your model is not the size the the model expected. Expected to see ${t.length} Tensor(s), but instead got ${e.length} Tensors(s).`);i=e}else{if(t.length>1)throw new X7(`The model expects ${t.length} ${a} Tensors, but only received one Tensor. Found: array with shape ${JSON.stringify(e.shape)}.`);i=[e]}if(null!=n)for(let s=0;s<t.length;++s){if(null==n[s])continue;const e=i[s];if(e.shape.length!==n[s].length)throw new X7(`Error when checking ${a}: expected ${t[s]} to have ${n[s].length} dimension(s), but got array with shape ${JSON.stringify(e.shape)}`);for(let i=0;i<n[s].length;++i){if(0===i&&!r)continue;const o=e.shape[i],l=n[s][i];if(null!=l&&l!==o)throw new X7(`Error when checking ${a}: expected ${t[s]} to have shape ${JSON.stringify(n[s])} but got array with shape ${JSON.stringify(e.shape)}.`)}}}class gre extends Qne{constructor(e){super(e),this.isTraining=!1}summary(e,t,n=console.log){if(!this.built)throw new X7("This model has never been called, thus its weights have not been created yet. So no summary can be displayed. Build the model first (e.g., by calling it on some test data).");Une(this,e,t,n)}compile(e){if(null==e.loss&&(e.loss=[]),this.loss=e.loss,"string"==typeof e.optimizer)this.optimizer_=function(e){const t={Adagrad:()=>C5.adagrad(.01),Adadelta:()=>C5.adadelta(1,.95,Uee()),Adam:()=>C5.adam(.001,.9,.999,Uee()),Adamax:()=>C5.adamax(.002,.9,.999,Uee(),0),RMSProp:()=>C5.rmsprop(.001,.9,0,Uee()),SGD:()=>C5.sgd(.01)};if(t.adagrad=t.Adagrad,t.adadelta=t.Adadelta,t.adam=t.Adam,t.adamax=t.Adamax,t.rmsprop=t.RMSProp,t.sgd=t.SGD,e in t)return t[e]();throw new X7(`Unknown Optimizer ${e}`)}(e.optimizer),this.isOptimizerOwned=!0;else{if(!(e.optimizer instanceof X3))throw new X7("User-defined optimizer must be an instance of tf.Optimizer.");this.optimizer_=e.optimizer,this.isOptimizerOwned=!1}let t=[];if(Array.isArray(e.loss)||"string"==typeof e.loss||"function"==typeof e.loss)if(Array.isArray(e.loss)){if(e.loss.length!==this.outputs.length)throw new X7(`When passing an Array as loss, it should have one entry per model output. The model has ${this.outputs.length} output(s), but you passed loss=${e.loss}.`);const n=e.loss;t=n.map(e=>Ine(e))}else{const n=Ine(e.loss);this.outputs.forEach(e=>{t.push(n)})}else{e.loss=e.loss;for(const t in e.loss)if(-1===this.outputNames.indexOf(t))throw new X7(`Unknown entry in loss dictionary: "${t}". Only expected the following keys: ${this.outputNames}`);for(const n of this.outputNames)null==e.loss[n]&&console.warn(`Output "${n}" is missing from loss dictionary. We assume this was done on purpose, and we will not be expecting data to be passed to ${n} during training`),t.push(Ine(e.loss[n]))}this.lossFunctions=t,this.feedOutputNames=[],this.feedOutputShapes=[],this.feedLossFns=[];for(let i=0;i<this.outputs.length;++i){const e=this.internalOutputShapes[i],t=this.outputNames[i];this.feedOutputNames.push(t),this.feedOutputShapes.push(e),this.feedLossFns.push(this.lossFunctions[i])}const n=[];this.metrics=e.metrics,this.metricsNames=["loss"],this.metricsTensors=[],Pee("loss",()=>{for(let e=0;e<this.outputs.length;++e){if(-1!==n.indexOf(e))continue;const t=this.lossFunctions[e];this.outputs.length>1&&(this.metricsTensors.push([t,e]),this.metricsNames.push(this.outputNames[e]+"_loss"))}});const r=function(e,t){if(null==e||Array.isArray(e)&&0===e.length)return t.map(e=>[]);let n;if("string"==typeof e||"function"==typeof e)n=[e];else{if(!Array.isArray(e)&&"object"!=typeof e)throw new TypeError(`Type of metrics argument not understood. Expected an string,function, Array, or Object, found: ${e}`);n=e}if(Array.isArray(n))return t.map(e=>n);{const e=[];for(const r of t){let t=n.hasOwnProperty(r)?n[r]:[];Array.isArray(t)||(t=[t]),e.push(t)}return e}}(e.metrics,this.outputNames),a=(e,t,n)=>{this.outputNames.length>1&&(t=this.outputNames[e]+"_"+t),this.metricsNames.push(t),this.metricsTensors.push([n,e])};Pee("metric",()=>{for(let e=0;e<this.outputs.length;++e){if(-1!==n.indexOf(e))continue;(t=>{let n,r,i;for(const s of t){if("string"==typeof s&&-1!==["accuracy","acc","crossentropy","ce"].indexOf(s)){const t=this.internalOutputShapes[e];let a;1===t[t.length-1]||this.lossFunctions[e]===jne?-1!==["accuracy","acc"].indexOf(s)?r=One:-1!==["crossentropy","ce"].indexOf(s)&&(r=Rne):this.lossFunctions[e]===Cne?-1!==["accuracy","acc"].indexOf(s)?r=_ne:-1!==["crossentropy","ce"].indexOf(s)&&(r=$ne):-1!==["accuracy","acc"].indexOf(s)?r=Pne:-1!==["crossentropy","ce"].indexOf(s)&&(r=Lne),-1!==["accuracy","acc"].indexOf(s)?a="acc":-1!==["crossentropy","ce"].indexOf(s)&&(a="ce"),i=r,n=""+a}else{const e=Dne(s);i=e,n=""+zne(s)}let t;Pee(n,()=>{t=i}),a(e,n,t)}})(r[e])}}),this.collectedTrainableWeights=this.trainableWeights}checkTrainableWeightsConsistency(){null!=this.collectedTrainableWeights&&this.trainableWeights.length!==this.collectedTrainableWeights.length&&console.warn("Discrepancy between trainableweights and collected trainable weights. Did you set `model.trainable` without calling `model.compile()` afterwards?")}evaluate(e,t,n={}){const r=null==n.batchSize?32:n.batchSize;sre(r);const a=this.standardizeUserDataXY(e,t,!0,r);try{const e=a[0].concat(a[1]);this.makeTestFunction();const t=this.testFunction;return ree(this.testLoop(t,e,r,n.verbose,n.steps))}finally{hre(a[0],e),hre(a[1],t)}}async evaluateDataset(e,t){return this.makeTestFunction(),async function(e,t,n){const r=null!=(n=n||{}).batches,a=e.testFunction;let i=[];if(n.verbose>0)throw new Y7("Verbose mode is not implemented yet.");Yq(!r||n.batches>0&&Number.isInteger(n.batches),()=>`Test loop expects \`batches\` to be a positive integer, but received ${JSON.stringify(n.batches)}`);const s="function"==typeof t.next?t:await t.iterator();let o=0,l=0;for(;!r||l<n.batches;){const t=await s.next();if(i=E1(()=>{if(t.value){const{xs:n,ys:r}=nre(e,t.value),s=n.concat(r),c=E1(()=>a(s));if(A1(s),0===l)for(let e=0;e<c.length;++e)i.push(Y4(0));const u=s[0].shape[0];for(let e=0;e<c.length;++e){const t=c[e],n=i[e];i[e]=E1(()=>m2(i[e],x2(u,t))),l>0&&A1(n)}A1(c),o+=u,++l}return i}),t.done){r&&console.warn(`Your dataset iterator ran out of data during evaluateDataset(). Interrupting evalution. Make sure that your dataset can generate at least \`batches\` batches (in this case, ${n.batches} batches). You may need to use the repeat() function when building your dataset.`);break}}for(let c=0;c<i.length;++c){const e=i[c];i[c]=y2(i[c],o),A1(e)}return ree(i)}(this,e,t)}checkNumSamples(e,t,n,r="steps"){let a;if(null!=n){if(a=null,null!=t)throw new X7(`If ${r} is set, batchSize must be null or undefined.Got batchSize = ${t}`)}else{if(null==e)throw new X7(`Either the input data should have a defined shape, or ${r} shoud be specified.`);a=Array.isArray(e)?e[0].shape[0]:e.shape[0]}return a}execute(e,t){if(Array.isArray(t)&&0===t.length)throw new X7("`outputs` is an empty Array, which is not allowed.");const n=Array.isArray(t),r=n?t:[t],a=this.retrieveSymbolicTensors(r),i=new Zte;if(e instanceof L0&&(e=[e]),Array.isArray(e)){if(e.length!==this.inputs.length)throw new X7(`The number of inputs provided (${e.length}) does not match the number of inputs of this model (${this.inputs.length}).`);for(let t=0;t<this.inputs.length;++t)i.add(this.inputs[t],e[t])}else for(const o of this.inputs){const t=e[o.name];if(null==t)throw new X7(`No value is provided for the model's input ${o.name}`);i.add(o,t)}const s=qte(a,i);return n?s:s[0]}retrieveSymbolicTensors(e){const t=eee(null,e.length);let n=e.length;for(const r of this.layers){const a=Array.isArray(r.output)?r.output:[r.output],i=a.map(e=>e.name);for(let r=0;r<e.length;++r){const s=i.indexOf(e[r]);if(-1!==s&&(t[r]=a[s],n--),0===n)break}if(0===n)break}if(n>0){const n=[];throw t.forEach((t,r)=>{null==t&&n.push(e[r])}),new X7(`Cannot find SymbolicTensors for output name(s): ${JSON.stringify(n)}`)}return t}predictLoop(e,t=32,n=!1){return E1(()=>{const r=this.checkNumSamples(e);if(n)throw new Y7("Verbose predictLoop() is not implemented yet.");const a=cre(r,t),i=this.outputs.map(e=>[]);for(let t=0;t<a.length;++t){E1(()=>{const n=a[t][0],r=a[t][1],i=ore(e,n,r),s=[];if(Array.isArray(i))for(let e=0;e<i.length;++e)s.push({key:this.inputs[e],value:i[e]});else s.push({key:this.inputs[0],value:i});const o=new Zte(s);return qte(this.outputs,o)}).forEach((e,t)=>i[t].push(e))}return ree(i.map(e=>q2(e,0)))})}predict(e,t={}){const n=ure(e);mre(n,this.inputNames,this.feedInputShapes,!1);try{const e=null==t.batchSize?32:t.batchSize;return sre(e),this.predictLoop(n,e)}finally{hre(n,e)}}predictOnBatch(e){mre(e,this.inputNames,this.feedInputShapes,!0);const t=(Array.isArray(e)?e[0]:e).shape[0];return this.predictLoop(e,t)}standardizeUserDataXY(e,t,n=!0,r){if(null==this.optimizer_)throw new q7("You must compile a model before training/testing. Use LayersModel.compile(modelCompileArgs).");const a=[];for(let i=0;i<this.feedOutputShapes.length;++i){const e=this.feedOutputShapes[i];this.feedLossFns[i]===Cne?a.push(e.slice(0,e.length-1).concat([1])):a.push(e)}if(function(e,t){const n=dee(e.map(e=>e.shape[0]));n.sort();const r=dee(t.map(e=>e.shape[0]));if(r.sort(),n.length>1)throw new X7(`All input Tensors (x) should have the same number of samples. Got array shapes: ${JSON.stringify(e.map(e=>e.shape))}`);if(r.length>1)throw new X7(`All target Tensors (y) should have the same number of samples. Got array shapes: ${JSON.stringify(t.map(e=>e.shape))}`);if(n.length>0&&r.length>0&&!tX(n,r))throw new X7(`Input Tensors should have the same number of samples as target Tensors. Found ${n[0]} input sample(s) and ${r[0]} target sample(s).`)}(e=fre(e,this.feedInputNames,this.feedInputShapes,!1,"input"),t=fre(t,this.feedOutputNames,a,!1,"target")),function(e,t,n){const r=[Sne,jne,Ane];for(let a=0;a<e.length;++a){const i=e[a],s=t[a],o=n[a];if(null!=s){if(s===Ane&&1===i.shape[i.shape.length-1])throw new X7(`You are passing a target array of shape ${i.shape} while using a loss 'categorical_crossentropy'. 'categorical_crossentropy'expects targets to be binary matrices (1s and 0s) of shape [samples, classes].`);if(-1!==r.indexOf(s)){const e=i.shape.slice(1),t=o.slice(1);for(let n=0;n<e.length;++n){const r=e[n],a=t[n];if(null!=a&&r!==a)throw new X7(`A target Tensor with shape ${i.shape} was passed for an output of shape ${o}, while using a loss function that expects targets to have the same shape as the output.`)}}}}}(t,this.feedLossFns,this.feedOutputShapes),this.stateful&&null!=r&&r>0&&e[0].shape[0]%r!==0)throw new X7(`In a stateful network, you should only pass inputs with a number of samples that is divisible by the batch size ${r}. Found: ${e[0].shape[0]} sample(s).`);return[e,t]}async standardizeUserData(e,t,n,r,a=!0,i){const[s,o]=this.standardizeUserDataXY(e,t,a,i);if(null!=n)throw new Error("sample weight is not supported yet.");let l=null;if(null!=r){const e=Jne(r,this.outputNames);l=[];for(let t=0;t<e.length;++t)l.push(await ere(o[t],0,e[t]))}return[s,o,l]}testLoop(e,t,n,r=0,a){return E1(()=>{const i=this.checkNumSamples(t,n,a,"steps"),s=[];if(r>0)throw new Y7("Verbose mode is not implemented yet.");if(null!=a)throw new Y7("steps mode in testLoop() is not implemented yet");{const r=cre(i,n),a=Q6(Bee(0,i));for(let n=0;n<r.length;++n){const i=r[n][0],o=r[n][1],l=Gee(a,i,o-i),c=lre(t,l),u=e(c);if(0===n)for(let e=0;e<u.length;++e)s.push(Y4(0));for(let e=0;e<u.length;++e){const t=u[e];s[e]=m2(s[e],x2(o-i,t))}}for(let e=0;e<s.length;++e)s[e]=y2(s[e],i)}return s})}getDedupedMetricsNames(){const e=this.metricsNames,t=[];for(let n=0;n<e.length;++n){const r=e[n];let a=r;if(nee(e,r)>1){a+=`_${nee(e.slice(0,n),r)}`}t.push(a)}return t}makeTrainFunction(){return e=>{const t=[],n=e.slice(0,this.inputs.length),r=e.slice(this.inputs.length,this.inputs.length+this.outputs.length),a=e.slice(this.inputs.length+this.outputs.length,this.inputs.length+2*this.outputs.length),i=[],s=this.collectedTrainableWeights.map(e=>e.read());return[this.optimizer_.minimize(()=>{const e=[];for(let t=0;t<this.inputs.length;++t)e.push({key:this.inputs[t],value:n[t]});const s=new Zte(e),o=qte(this.outputs,s,{training:!0});let l;for(let n=0;n<this.lossFunctions.length;++n){let e=(0,this.lossFunctions[n])(r[n],o[n]);null!=a[n]&&(e=tre(e,a[n]));const i=$8(e);t.push(i),l=0===n?e:m2(l,e)}for(let n=0;n<this.metricsTensors.length;++n){let e;if(this.outputs.length>1&&n<this.outputs.length)e=t[n];else{const t=this.metricsTensors[n][0],a=this.metricsTensors[n][1];e=$8(t(r[a],o[a]))}C1(e),i.push(e)}return l=$8(l),this.calculateLosses().forEach(e=>{l=m2(l,e)}),l},!0,s)].concat(i)}}makeTestFunction(){this.testFunction=e=>E1(()=>{const t=[];let n;const r=e.slice(0,this.inputs.length),a=e.slice(this.inputs.length,this.inputs.length+this.outputs.length),i=[];for(let e=0;e<this.inputs.length;++e)i.push({key:this.inputs[e],value:r[e]});const s=new Zte(i),o=qte(this.outputs,s);for(let e=0;e<this.lossFunctions.length;++e){const r=this.lossFunctions[e],i=$8(r(a[e],o[e]));n=0===e?i:m2(n,i),t.push(n)}for(let e=0;e<this.metricsTensors.length;++e){const n=this.metricsTensors[e][0],r=this.metricsTensors[e][1],i=$8(n(a[r],o[r]));t.push(i)}return t})}async fit(e,t,n={}){if(this.isTraining)throw new Error("Cannot start training because another fit() call is ongoing.");let r,a,i,s,o,l,c,u,h;this.isTraining=!0;try{const d=null==n.batchSize?32:n.batchSize;sre(d);const p=!1,f=await this.standardizeUserData(e,t,n.sampleWeight,n.classWeight,p,d);r=f[0],a=f[1],h=f[2];let m,g=!1;if(null!=n.validationData&&n.validationData.length>0){if(g=!0,2!==n.validationData.length)throw 3===n.validationData.length?new Y7("validationData including sample weights is not supported yet."):new X7(`When passing validation data, it must contain 2 (valX, valY) or 3 (valX, valY, valSampleWeight) items; ${n.validationData} is invalid.`);o=n.validationData[0],l=n.validationData[1];const e=!0,t=await this.standardizeUserData(o,l,null,null,e,d);c=t[0],u=t[1],m=c.concat(u)}else if(null!=n.validationSplit&&n.validationSplit>0&&n.validationSplit<1){g=!0;const e=Math.floor(r[0].shape[0]*(1-n.validationSplit)),t=r[0].shape[0];c=ore(r,e,t),i=r,r=ore(r,0,e),u=ore(a,e,t),s=a,a=ore(a,0,e),m=c.concat(u)}else null!=n.validationSteps&&(g=!0);const y=r.concat(a).concat(h);this.checkTrainableWeightsConsistency();const x=this.makeTrainFunction(),b=this.getDedupedMetricsNames();let v,w;g?(this.makeTestFunction(),v=this.testFunction,w=b.slice().concat(b.map(e=>"val_"+e))):(v=null,m=[],w=b.slice());const k=xne(n.callbacks,n.yieldEvery);return await this.fitLoop(x,y,b,d,n.epochs,n.verbose,k,v,m,n.shuffle,w,n.initialEpoch,null,null)}finally{this.isTraining=!1,hre(r,e),hre(a,t),hre(i,e),hre(s,t),hre(c,o),hre(u,l),null!=h&&A1(h)}}async fitLoop(e,t,n,r,a,i,s,o,l,c,u,h,d,p){null==r&&(r=32),null==a&&(a=1),null==c&&(c=!0),null==h&&(h=0);let f=!1;if(null!=o&&null!=l&&(f=!0),null!=p&&(f=!0,null==d))throw new X7("Can only use `validationSteps` when doing step-wise training, i.e., `stepsPerEpoch` must be set.");const m=this.checkNumSamples(t,r,d,"steps_per_epoch");let g;null!=m&&(g=Bee(0,m)),null==i&&(i=1);const{callbackList:y,history:x}=vne(s,i,a,h,m,d,r,f,u);y.setModel(this),this.history=x,await y.onTrainBegin(),this.stopTraining_=!1;for(let b=h;b<a;++b){await y.onEpochBegin(b);const a={};if(null!=d)throw new Y7("stepsPerEpoch mode is not implemented yet.");{if("batch"===c)throw new Y7("batch shuffling is not implemneted yet");c&&Gq(g);const i=Q6(g),s=cre(m,r);for(let c=0;c<s.length;++c){const u={};if(await y.onBatchBegin(c,u),E1(()=>{const h=s[c][0],d=s[c][1],p=Gee(i,h,d-h);u.batch=c,u.size=d-h;const m=lre(t,p),g=e(m);for(let e=0;e<n.length;++e){const t=n[e],r=g[e];u[t]=r,C1(r)}if(c===s.length-1&&f){const e=this.testLoop(o,l,r);for(let t=0;t<n.length;++t){const r=n[t],i=e[t];C1(i),a["val_"+r]=i}}}),await y.onBatchEnd(c,u),une(u),this.stopTraining_)break}i.dispose()}if(await y.onEpochEnd(b,a),this.stopTraining_)break}return await y.onTrainEnd(),await this.history.syncData(),this.history}async fitDataset(e,t){return are(this,e,t)}async trainOnBatch(e,t){const n=await this.standardizeUserData(e,t),r=n[0],a=n[1],i=this.makeTrainFunction()(r.concat(a)),s=[];for(const o of i){const e=await o.data();s.push(e[0])}return A1(i),hre(n[0],e),hre(n[1],t),ree(s)}getNamedWeights(e){const t=[],n=null!=e&&e.trainableOnly,r=n?this.trainableWeights:this.weights,a=this.getWeights(n);for(let i=0;i<r.length;++i)n&&!r[i].trainable||t.push({name:r[i].originalName,tensor:a[i]});return t}set stopTraining(e){this.stopTraining_=e}get stopTraining(){return this.stopTraining_}get optimizer(){return this.optimizer_}set optimizer(e){this.optimizer_!==e&&(this.optimizer_=e,this.isOptimizerOwned=!1)}dispose(){const e=super.dispose();if(0===e.refCountAfterDispose&&null!=this.optimizer&&this.isOptimizerOwned){const t=N1().numTensors;this.optimizer_.dispose(),e.numDisposedVariables+=t-N1().numTensors}return e}getLossIdentifiers(){let e;if("string"==typeof this.loss)e=iee(this.loss);else if(Array.isArray(this.loss)){for(const e of this.loss)if("string"!=typeof e)throw new Error("Serialization of non-string loss is not supported.");e=this.loss.map(e=>iee(e))}else{const t=Object.keys(this.loss);e={};const n=this.loss;for(const r of t){if("string"!=typeof n[r])throw new Error("Serialization of non-string loss is not supported.");e[r]=iee(n[r])}}return e}getMetricIdentifiers(){if("string"==typeof this.metrics||"function"==typeof this.metrics)return[iee(zne(this.metrics))];if(Array.isArray(this.metrics))return this.metrics.map(e=>iee(zne(e)));{const e={};for(const t in this.metrics)e[t]=iee(zne(this.metrics[t]));return e}}getTrainingConfig(){return{loss:this.getLossIdentifiers(),metrics:this.getMetricIdentifiers(),optimizer_config:{class_name:this.optimizer.getClassName(),config:this.optimizer.getConfig()}}}loadTrainingConfig(e){if(null!=e.weighted_metrics)throw new Error("Loading weight_metrics is not supported yet.");if(null!=e.loss_weights)throw new Error("Loading loss_weights is not supported yet.");if(null!=e.sample_weight_mode)throw new Error("Loading sample_weight_mode is not supported yet.");const t=wne(qne(e.optimizer_config));let n,r;if("string"==typeof e.loss)n=see(e.loss);else if(Array.isArray(e.loss))n=e.loss.map(e=>see(e));else if(null!=e.loss){n={};for(const t in e.loss)n[t]=see(e.loss[t])}if(Array.isArray(e.metrics))r=e.metrics.map(e=>see(e));else if(null!=e.metrics){r={};for(const t in e.metrics)r[t]=see(e.metrics[t])}this.compile({loss:n,metrics:r,optimizer:t})}async save(e,t){if("string"==typeof e){const t=(n=e,D1.getSaveHandlers(n));if(0===t.length)throw new X7(`Cannot find any save handlers for URL '${e}'`);if(t.length>1)throw new X7(`Found more than one (${t.length}) save handlers for URL '${e}'`);e=t[0]}var n;if(null==e.save)throw new X7("LayersModel.save() cannot proceed because the IOHandler provided does not have the `save` attribute defined.");const r=await T1(this.getNamedWeights(t)),a={modelTopology:this.toJSON(null,!1),format:"layers-model",generatedBy:`TensorFlow.js tfjs-layers v${Yne}`,convertedBy:null};if(null!=t&&t.includeOptimizer&&null!=this.optimizer){a.trainingConfig=this.getTrainingConfig();const e="optimizer",{data:t,specs:n}=await T1(await this.optimizer.getWeights(),e);r.specs.push(...n),r.data=(i=[r.data,t],k1.join(i))}var i;if(null!=this.userDefinedMetadata){const e=!0;Bne(this.userDefinedMetadata,this.name,e),a.userDefinedMetadata=this.userDefinedMetadata}return a.weightData=r.data,a.weightSpecs=r.specs,e.save(a)}setUserDefinedMetadata(e){Bne(e,this.name),this.userDefinedMetadata=e}getUserDefinedMetadata(){return this.userDefinedMetadata}}gre.className="Model",q3(gre);class yre extends gre{}async function xre(e,t){if(null==t&&(t={}),"string"==typeof e){const a=(n=e,r=t,D1.getLoadHandlers(n,r));if(0===a.length)a.push(function(e,t){return c5(e,t)}(e,t));else if(a.length>1)throw new X7(`Found more than one (${a.length}) load handlers for URL '${e}'`);e=a[0]}var n,r;return async function(e,t,n){null==n&&(n={});if(null==e.load)throw new X7("Cannot proceed with model loading because the IOHandler provided does not have the `load` method implemented.");const r=await e.load();let a=r.modelTopology;null!=a.model_config&&(a=a.model_config);const i=null==n.strict||n.strict,s=null!=r.weightData&&null!=r.weightSpecs&&i,o=wne(qne(a),t,s),l=r.trainingConfig;null!=l&&o.loadTrainingConfig(l);null!=r.userDefinedMetadata&&o.setUserDefinedMetadata(r.userDefinedMetadata);if(null!=r.weightData){if(null==r.weightSpecs)throw new X7("LayersModel artifacts contains weight data, but not weight specs. Therefore loading of weights cannot proceed.");const{modelWeights:e,optimizerWeights:t}=function(e,t){const n=function(e,t){const n=new k1(e),r={};let a=0;for(const i of t){const e=I1(i,(e,t)=>n.slice(a+e,a+t));r[i.name]=O1(i,n.slice(a,a+e)),a+=e}return r}(e,t),r={},a=[];return t.forEach(e=>{"optimizer"===e.group?a.push({name:e.name,tensor:n[e.name]}):r[e.name]=n[e.name]}),{modelWeights:r,optimizerWeights:a}}(r.weightData,r.weightSpecs);o.loadWeights(e,i),null!=o.optimizer&&t.length>0&&await o.optimizer.setWeights(t),A1(e),A1(t.map(e=>e.tensor))}return o}(e,void 0,t)}yre.className="Functional",q3(yre);class bre extends gre{constructor(e){if(super({inputs:[],outputs:[]}),e=e||{},this.trainable=!0,this.built=!1,this.name=null!=e.name?e.name:kee("sequential_"),null!=e.layers)for(const t of e.layers)this.add(t)}checkShape(e){if(e.inboundNodes[0].outputTensors[0].shape.some(e=>e<0))throw new X7(`Negative dimension size caused by adding layer ${e.name} with input shape [${e.inboundNodes[0].inputTensors[0].shape}]`)}add(e){const t=e instanceof bre||e instanceof gre;let n;if(t){if(n=e,1!==n.outputs.length)throw new X7("All layers in a Sequential model should have a single output tensor. For multi-output layers, use the functional API.");if(1!==n.inputs.length)throw new X7("All layers in a Sequential model should have a single input tensor. For multi-input layers, use the functional API.")}if(0===this.outputs.length){if(0===e.inboundNodes.length){if(null==e.batchInputShape)throw new X7("The first layer in a Sequential model must get an `inputShape` or `batchInputShape` argument.");const t=function(e){if(null==e.batchShape&&null==e.shape)throw new Error("Please provide to Input either a `shape` or a `batchShape` argument. Note that `shape` does not include the batch dimension.");if(null!=e.batchShape&&null!=e.shape)throw new X7("Please provide either a `shape` or `batchShape` argument to Input, but not both.");let t=e.batchShape;null!=e.shape&&null==t&&(t=[null].concat(e.shape));let n=e.dtype;return null==n&&(n="float32"),new Wte({batchInputShape:t,name:e.name,dtype:n,sparse:e.sparse}).inboundNodes[0].outputTensors[0]}({batchShape:e.batchInputShape,dtype:e.dtype,name:e.name+"_input"});e.apply(t)}if(t)this.outputs=n.outputs,this.inputs=n.inputs;else{if(1!==e.inboundNodes.length)throw new X7(`A layer added to a Sequential model must not already be connected somewhere else. LayersModel received layer ${e.name} which has ${e.inboundNodes.length} pre-existing inbound connections.`);if(1!==e.inboundNodes[0].outputTensors.length)throw new X7("All layers in a Sequential model should have a single output tensor. For multi-output layers, use the functional API.");this.checkShape(e),this.outputs=[e.inboundNodes[0].outputTensors[0]],this.inputs=Ute(this.outputs[0])}this.inboundNodes=[],new Vte({outboundLayer:this,inboundLayers:[],nodeIndices:[],tensorIndices:[],inputTensors:this.inputs,outputTensors:this.outputs,inputMasks:eee(null,this.inputs.length),outputMasks:[null],inputShapes:this.inputs.map(e=>e.shape),outputShapes:this.outputs[0].shape})}else{const t=e.apply(this.outputs[0]);if(Array.isArray(t))throw new TypeError("All layers in a Sequential model should have a single output tensor. For multi-output layers, use the functional API.");this.checkShape(e),this.outputs=[t],this.inboundNodes[0].outputTensors=this.outputs,this.inboundNodes[0].outputShapes=[this.outputs[0].shape]}this.layers.push(e),this.built=!1}pop(){if(0===this.layers.length)throw new TypeError("There are no layers in the model.");if(this.layers.pop(),0===this.layers.length)this.outputs=[],this.inboundNodes=[],this.outboundNodes=[];else{const e=this.layers.length-1;this.layers[e].outboundNodes=[],this.outputs=[this.layers[e].output],this.inboundNodes[0].outputTensors=this.outputs,this.inboundNodes[0].outputShapes=[this.outputs[0].shape]}}call(e,t){return null==this.model&&this.build(),this.model.call(e,t)}build(e){if(Ote(e),0===this.inputs.length||0===this.outputs.length)throw new TypeError("Sequential model cannot be built: model is empty. Add some layers first.");this.model=new gre({inputs:this.inputs,outputs:this.outputs[0],name:this.name+"_model"}),this.model.trainable=this.trainable,this.supportsMasking=this.model.supportsMasking,this.inputLayers=this.model.inputLayers,this.inputLayersNodeIndices=this.model.inputLayersNodeIndices,this.inputLayersTensorIndices=this.model.inputLayersTensorIndices,this.outputLayers=this.model.outputLayers,this.outputLayersNodeIndices=this.model.outputLayersNodeIndices,this.outputLayersTensorIndices=this.model.outputLayersTensorIndices,this.nodesByDepth=this.model.nodesByDepth,this.containerNodes=this.model.containerNodes,this.outputNames=this.model.outputNames,this.inputNames=this.model.inputNames,this.built=!0}countParams(){return this.built||this.build(),super.countParams()}summary(e,t,n=console.log){this.built||this.build(),super.summary(e,t,n)}setWeights(e){null==this.model&&this.build(),this.model.setWeights(e)}evaluate(e,t,n={}){if(!this.built)throw new q7("The model needs to be compiled before being used.");return this.model.evaluate(e,t,n)}async evaluateDataset(e,t){if(!this.built)throw new q7("The model needs to be compiled before being used.");return this.model.evaluateDataset(e,t)}predict(e,t={}){return null==this.model&&this.build(),this.model.predict(e,t)}predictOnBatch(e){return null==this.model&&this.build(),this.model.predictOnBatch(e)}compile(e){this.build(),this.model.compile(e),this.optimizer_=this.model.optimizer,this.isOptimizerOwned=this.model.isOptimizerOwned,this.loss=this.model.loss,this.metrics=this.model.metrics,this.metricsTensors=this.model.metricsTensors,this.metricsNames=this.model.metricsNames}get optimizer(){return null==this.model?void 0:this.model.optimizer}set optimizer(e){this.model.optimizer=e}async fit(e,t,n={}){if(!this.built)throw new q7("The model needs to be compiled before being used.");return this.model.fit(e,t,n)}async fitDataset(e,t){if(!this.built)throw new q7("The model needs to be compiled before being used.");return this.model.fitDataset(e,t)}async trainOnBatch(e,t){return this.model.trainOnBatch(e,t)}static fromConfig(e,t,n={},r=!1){let a,i={};if(t instanceof Array){if(null==t[0].className||"Merge"===t[0].className)throw new X7("Legacy serialization format not supported yet.");a=t}else Yq(null!=t.layers,()=>"When the config data for a Sequential model is not an Array, it must be an Object that contains the 'layers' field."),a=t.layers,delete t.layers,i=t;const s=new e(i);if(!(s instanceof bre))throw new Y7(`Sequential.fromConfig called on non-Sequential input: ${s}`);for(const o of a){const e=wne(o,void 0,r);r&&e.setFastWeightInitDuringBuild(!0),s.add(e)}return s}set stopTraining(e){if(null==this.model)throw new X7("Cannot set the stopTraining property of a sequential model before it is compiled.");this.model.stopTraining=e}get stopTraining(){if(null==this.model)throw new X7("Cannot get the stopTraining property of a sequential model before it is compiled.");return this.model.stopTraining}getConfig(){const e=[];for(const t of this.layers){const n={};n.className=t.getClassName(),n.config=t.getConfig(),e.push(n)}return{name:this.name,layers:e}}}bre.className="Sequential",q3(bre);let vre=class extends G3{getConfig(){return{}}};class wre extends vre{apply(e,t=1){return function(e,t=1){if(1!==t)throw new Y7(`Support for alpha values other than 1 (${t}) is not implemented yet.`);return F4(e)}(e,t)}}wre.className="elu",q3(wre);class kre extends vre{apply(e){return I6(e)}}kre.className="selu",q3(kre);class Sre extends vre{apply(e){return A6(e)}}Sre.className="relu",q3(Sre);class Nre extends vre{apply(e){return E1(()=>z8(6,A6(e)))}}Nre.className="relu6",q3(Nre);class Ere extends vre{apply(e){return e}}Ere.className="linear",q3(Ere);class Are extends vre{apply(e){return Y2(e)}}Are.className="sigmoid",q3(Are);class Cre extends vre{apply(e){return function(e){return E1(()=>{const t=m2(.5,x2(.2,e));return c4(t,0,1)})}(e)}}Cre.className="hardSigmoid",q3(Cre);class jre extends vre{apply(e){return E8(e)}}jre.className="softplus",q3(jre);class Mre extends vre{apply(e){return function(e){return E1(()=>y2(e,m2(b2(e),1)))}(e)}}Mre.className="softsign",q3(Mre);class Tre extends vre{apply(e){return J2(e)}}Tre.className="tanh",q3(Tre);let Ire=class extends vre{apply(e,t=-1){return z6(e,t)}};Ire.className="softmax",q3(Ire);class Ore extends vre{apply(e,t=-1){return j8(e,t)}}Ore.className="logSoftmax",q3(Ore);class Pre extends vre{apply(e){return E1(()=>E1(()=>{const t=Math.sqrt(2),n=x2(.5,m2(1,D4(y2(e,t))));return x2(e,n)}))}}Pre.className="gelu",q3(Pre);class Rre extends vre{apply(e){return E1(()=>x2(.5,x2(e,m2(1,J2(x2(Q4(y2(2,Math.PI)),m2(e,x2(.044715,X4(e,3)))))))))}}Rre.className="gelu_new",q3(Rre);class _re extends vre{apply(e){return E1(()=>x2(e,J2(E8(e))))}}_re.className="mish",q3(_re);class Lre extends vre{apply(e,t=1){return E1(()=>x2(Y2(x2(e,t)),e))}}function $re(e){return e.getClassName()}function Fre(e,t={}){return uee(e,K3.getMap().classNameMap,t,"activation")}function Dre(e){if(null==e){const e={className:"linear",config:{}};return Fre(e)}if("string"==typeof e){const t={};return t.className=e,t.config={},Fre(t)}return e instanceof vre?e:Fre(e)}Lre.className="swish",q3(Lre);class zre extends G3{}class Vre extends zre{constructor(e){super(),function(e){if(null!=e&&"object"!=typeof e)throw new Error(`Argument to L1L2 regularizer's constructor is expected to be an object, but received: ${e}`)}(e),this.l1=null==e||null==e.l1?.01:e.l1,this.l2=null==e||null==e.l2?.01:e.l2,this.hasL1=0!==this.l1,this.hasL2=0!==this.l2}apply(e){return E1(()=>{let t=F8([1]);return this.hasL1&&(t=m2(t,e8(x2(this.l1,b2(e))))),this.hasL2&&(t=m2(t,e8(x2(this.l2,nte(e))))),Z2(t,[])})}getConfig(){return{l1:this.l1,l2:this.l2}}static fromConfig(e,t){return new e({l1:t.l1,l2:t.l2})}}Vre.className="L1L2",q3(Vre);const Bre={l1l2:"L1L2"};function Hre(e){return lee(e)}function Ure(e,t={}){return uee(e,K3.getMap().classNameMap,t,"regularizer")}function Wre(e){if(null==e)return null;if("string"==typeof e){return Ure({className:e in Bre?Bre[e]:e,config:{}})}return e instanceof zre?e:Ure(e)}class Zre extends Hte{constructor(e){super(null==e?{}:e),this.supportsMasking=!0,null!=e&&(this.maxValue=e.maxValue)}call(e,t){e=Ite(e);let n=A6(e);return null!=this.maxValue&&(n=c4(n,0,this.maxValue)),n}computeOutputShape(e){return e}getConfig(){const e={maxValue:this.maxValue},t=super.getConfig();return Object.assign(e,t),e}}Zre.className="ReLU",q3(Zre);class Gre extends Hte{constructor(e){super(null==e?{}:e),this.DEFAULT_ALPHA=.3,null==e&&(e={}),this.alpha=null==e.alpha?this.DEFAULT_ALPHA:e.alpha}call(e,t){const n=Ite(e);return y8(n,this.alpha)}computeOutputShape(e){return e}getConfig(){const e={alpha:this.alpha},t=super.getConfig();return Object.assign(e,t),e}}Gre.className="LeakyReLU",q3(Gre);class Kre extends Hte{constructor(e){if(super(null==e?{}:e),this.DEFAULT_ALPHA_INITIALIZER="zeros",null==e&&(e={}),this.supportsMasking=!0,this.alphaInitializer=jte(e.alphaInitializer||this.DEFAULT_ALPHA_INITIALIZER),this.alphaRegularizer=Wre(e.alphaRegularizer),this.alphaConstraint=lne(e.alphaConstraint),null==e.sharedAxes)this.sharedAxes=null;else if(Array.isArray(e.sharedAxes))this.sharedAxes=e.sharedAxes;else{if("number"!=typeof e.sharedAxes)throw new X7(`Expected sharedAxes to be a number or an array of numbers, but got ${e.sharedAxes}`);this.sharedAxes=[e.sharedAxes]}}build(e){const t=(e=Ote(e)).slice(1);if(null!=this.sharedAxes)for(const r of this.sharedAxes)t[r-1]=1;this.alpha=this.addWeight("alpha",t,"float32",this.alphaInitializer,this.alphaRegularizer,!0,this.alphaConstraint);const n={};if(null!=this.sharedAxes)for(let r=1;r<e.length;++r)n[r]=e[r];this.inputSpec=[new Fte({ndim:e.length,axes:n})],this.built=!0}call(e,t){return e=Ite(e),X8(e,this.alpha.read())}getConfig(){const e={alphaInitializer:Cte(this.alphaInitializer),alphaRegularizer:Hre(this.alphaRegularizer),alphaConstraint:sne(this.alphaConstraint),sharedAxes:this.sharedAxes},t=super.getConfig();return Object.assign(e,t),e}}Kre.className="PReLU",q3(Kre);let qre=class extends Hte{constructor(e){if(super(null==e?{}:e),this.DEFAULT_ALPHA=1,null==e&&(e={}),null!=e.alpha&&e.alpha!==this.DEFAULT_ALPHA)throw new Y7(`Non-default alpha value (${e.alpha}) is not supported by the ELU layer yet.`);this.alpha=null==e.alpha?this.DEFAULT_ALPHA:e.alpha}call(e,t){const n=Ite(e);return F4(n)}computeOutputShape(e){return e}getConfig(){const e={alpha:this.alpha},t=super.getConfig();return Object.assign(e,t),e}};qre.className="ELU",q3(qre);class Xre extends Hte{constructor(e){super(null==e?{}:e),this.DEFAULT_THETA=1,null==e&&(e={}),this.theta=null==e.theta?this.DEFAULT_THETA:e.theta}call(e,t){const n=Ite(e);return x2(n,p2(h8(n,this.theta),"float32"))}computeOutputShape(e){return e}getConfig(){const e={theta:this.theta},t=super.getConfig();return Object.assign(e,t),e}}Xre.className="ThresholdedReLU",q3(Xre);class Yre extends Hte{constructor(e){super(null==e?{}:e),this.DEFAULT_AXIS=1,null==e&&(e={}),this.softmax=(new Ire).apply,this.axis=null==e.axis?this.DEFAULT_AXIS:e.axis}call(e,t){return E1(()=>{let n=Ite(e);const r=t.mask;if(null!=r){const e=x2(C8(D8(n.shape),p2(r,n.dtype)),Y4(-1e9));n=m2(n,e)}return this.axis instanceof Array?this.axis.length>1?a8(C8(n,M8(n,this.axis,!0))):this.softmax(n,this.axis[0]):this.softmax(n,this.axis)})}computeOutputShape(e){return e}getConfig(){const e={axis:this.axis},t=super.getConfig();return Object.assign(e,t),e}}function Qre(e,t,n){if("number"==typeof e)return eee(e,t);if(e.length!==t)throw new X7(`The ${n} argument must be an integer or tuple of ${t} integers. Received: ${e.length} elements.`);for(let r=0;r<t;++r){const a=e[r];if(!Fee(a))throw new X7(`The ${n} argument must be an integer or tuple of ${t} integers. Received: ${JSON.stringify(e)} including a non-integer number ${a}`)}return e}function Jre(e,t,n,r,a=1){if(null==e)return e;let i;return i="same"===n?e:e-(t+(t-1)*(a-1))+1,Math.floor((i+r-1)/r)}function eae(e,t,n,r){if(null==e)return null;if("valid"===r)e=e*t+Vee([n-t,0]);else{if("same"!==r)throw new X7(`Unsupport padding mode: ${r}.`);e*=t}return e}function tae(e,t){return E1(()=>(Mee(t),"channelsFirst"===t?l3(e,[0,2,3,1]):e))}function nae(e,t){return E1(()=>(Mee(t),"channelsFirst"===t?l3(e,[0,2,3,4,1]):e))}function rae(e,t,n,r=[1,1],a="valid",i,s,o=null){return E1(()=>{if(null==i&&(i="channelsLast"),Mee(i),3!==e.rank&&4!==e.rank)throw new X7(`conv2dWithBiasActivation expects input to be of rank 3 or 4, but received ${e.rank}.`);if(3!==t.rank&&4!==t.rank)throw new X7(`conv2dWithBiasActivation expects kernel to be of rank 3 or 4, but received ${e.rank}.`);let l=tae(e,i);if("causal"===a)throw new Y7("The support for CAUSAL padding mode in conv1dWithBias is not implemented yet.");return l=m3({x:l,filter:t,strides:r,pad:"same"===a?"same":"valid",dilations:s,dataFormat:"NHWC",bias:n,activation:o}),"channelsFirst"===i&&(l=l3(l,[0,3,1,2])),l})}Yre.className="Softmax",q3(Yre);class aae extends Hte{constructor(e,t){if(super(t),this.bias=null,this.DEFAULT_KERNEL_INITIALIZER="glorotNormal",this.DEFAULT_BIAS_INITIALIZER="zeros",aae.verifyArgs(t),this.rank=e,gee(this.rank,"rank"),1!==this.rank&&2!==this.rank&&3!==this.rank)throw new Y7(`Convolution layer for rank other than 1, 2, or 3 (${this.rank}) is not implemented yet.`);if(this.kernelSize=Qre(t.kernelSize,e,"kernelSize"),this.strides=Qre(null==t.strides?1:t.strides,e,"strides"),this.padding=null==t.padding?"valid":t.padding,Tee(this.padding),this.dataFormat=null==t.dataFormat?"channelsLast":t.dataFormat,Mee(this.dataFormat),this.activation=Dre(t.activation),this.useBias=null==t.useBias||t.useBias,this.biasInitializer=jte(t.biasInitializer||this.DEFAULT_BIAS_INITIALIZER),this.biasConstraint=lne(t.biasConstraint),this.biasRegularizer=Wre(t.biasRegularizer),this.activityRegularizer=Wre(t.activityRegularizer),this.dilationRate=Qre(null==t.dilationRate?1:t.dilationRate,e,"dilationRate"),1===this.rank&&Array.isArray(this.dilationRate)&&1!==this.dilationRate.length)throw new X7(`dilationRate must be a number or an array of a single number for 1D convolution, but received ${JSON.stringify(this.dilationRate)}`);if(2===this.rank){if("number"==typeof this.dilationRate)this.dilationRate=[this.dilationRate,this.dilationRate];else if(2!==this.dilationRate.length)throw new X7(`dilationRate must be a number or array of two numbers for 2D convolution, but received ${JSON.stringify(this.dilationRate)}`)}else if(3===this.rank)if("number"==typeof this.dilationRate)this.dilationRate=[this.dilationRate,this.dilationRate,this.dilationRate];else if(3!==this.dilationRate.length)throw new X7(`dilationRate must be a number or array of three numbers for 3D convolution, but received ${JSON.stringify(this.dilationRate)}`)}static verifyArgs(e){if(tee("kernelSize"in e,"required key 'kernelSize' not in config"),"number"!=typeof e.kernelSize&&!mee(e.kernelSize,"number",1,3))throw new X7(`BaseConv expects config.kernelSize to be number or number[] with length 1, 2, or 3, but received ${JSON.stringify(e.kernelSize)}.`)}getConfig(){const e={kernelSize:this.kernelSize,strides:this.strides,padding:this.padding,dataFormat:this.dataFormat,dilationRate:this.dilationRate,activation:$re(this.activation),useBias:this.useBias,biasInitializer:Cte(this.biasInitializer),biasRegularizer:Hre(this.biasRegularizer),activityRegularizer:Hre(this.activityRegularizer),biasConstraint:sne(this.biasConstraint)},t=super.getConfig();return Object.assign(e,t),e}}class iae extends aae{constructor(e,t){super(e,t),this.kernel=null,iae.verifyArgs(t),this.filters=t.filters,gee(this.filters,"filters"),this.kernelInitializer=jte(t.kernelInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.kernelConstraint=lne(t.kernelConstraint),this.kernelRegularizer=Wre(t.kernelRegularizer)}build(e){e=Ote(e);const t="channelsFirst"===this.dataFormat?1:e.length-1;if(null==e[t])throw new X7(`The channel dimension of the input should be defined. Found ${e[t]}`);const n=e[t],r=this.kernelSize.concat([n,this.filters]);this.kernel=this.addWeight("kernel",r,null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.useBias&&(this.bias=this.addWeight("bias",[this.filters],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint)),this.inputSpec=[{ndim:this.rank+2,axes:{[t]:n}}],this.built=!0}call(e,t){return E1(()=>{let t;e=Ite(e);const n=null==this.bias?null:this.bias.read(),r=xee(this.activation.getClassName());if(null!=r&&2===this.rank)t=rae(e,this.kernel.read(),n,this.strides,this.padding,this.dataFormat,this.dilationRate,r);else{if(1===this.rank)t=function(e,t,n,r=1,a="valid",i,s=1){return E1(()=>{if(null==i&&(i="channelsLast"),Mee(i),3!==e.shape.length)throw new X7(`The input of a conv1dWithBias operation should be 3, but is ${e.shape.length} instead.`);if(3!==t.shape.length)throw new X7(`The kernel for a conv1dWithBias operation should be 3, but is ${t.shape.length} instead`);if(null!=n&&1!==n.shape.length)throw new X7(`The bias for a conv1dWithBias operation should be 1, but is ${n.shape.length} instead`);if("channelsFirst"===i&&(e=l3(e,[0,2,1])),"causal"===a)throw new Y7("The support for CAUSAL padding mode in conv1dWithBias is not implemented yet.");let o=m4(e,t,r,"same"===a?"same":"valid","NWC",s);return null!=n&&(o=ate(o,n)),o})}(e,this.kernel.read(),n,this.strides[0],this.padding,this.dataFormat,this.dilationRate[0]);else if(2===this.rank)t=rae(e,this.kernel.read(),n,this.strides,this.padding,this.dataFormat,this.dilationRate);else{if(3!==this.rank)throw new Y7("convolutions greater than 3D are not implemented yet.");t=function(e,t,n,r=[1,1,1],a="valid",i,s){return E1(()=>{if(null==i&&(i="channelsLast"),Mee(i),4!==e.rank&&5!==e.rank)throw new X7(`conv3dWithBias expects input to be of rank 4 or 5, but received ${e.rank}.`);if(4!==t.rank&&5!==t.rank)throw new X7(`conv3dWithBias expects kernel to be of rank 4 or 5, but received ${e.rank}.`);let o=nae(e,i);if("causal"===a)throw new Y7("The support for CAUSAL padding mode in conv3dWithBias is not implemented yet.");return o=x4(o,t,r,"same"===a?"same":"valid","NDHWC",s),null!=n&&(o=ate(o,n)),"channelsFirst"===i&&(o=l3(o,[0,4,1,2,3])),o})}(e,this.kernel.read(),n,this.strides,this.padding,this.dataFormat,this.dilationRate)}null!=this.activation&&(t=this.activation.apply(t))}return t})}computeOutputShape(e){e=Ote(e);const t=[],n="channelsLast"===this.dataFormat?e.slice(1,e.length-1):e.slice(2);for(let a=0;a<n.length;++a){const e=Jre(n[a],this.kernelSize[a],this.padding,this.strides[a],"number"==typeof this.dilationRate?this.dilationRate:this.dilationRate[a]);t.push(e)}let r=[e[0]];return"channelsLast"===this.dataFormat?(r=r.concat(t),r.push(this.filters)):(r.push(this.filters),r=r.concat(t)),r}getConfig(){const e={filters:this.filters,kernelInitializer:Cte(this.kernelInitializer),kernelRegularizer:Hre(this.kernelRegularizer),kernelConstraint:sne(this.kernelConstraint)},t=super.getConfig();return Object.assign(e,t),e}static verifyArgs(e){if(!("filters"in e)||"number"!=typeof e.filters||e.filters<1)throw new X7(`Convolution layer expected config.filters to be a 'number' > 0 but got ${JSON.stringify(e.filters)}`)}}class sae extends iae{constructor(e){super(2,e),sae.verifyArgs(e)}getConfig(){const e=super.getConfig();return delete e.rank,e}static verifyArgs(e){if("number"!=typeof e.kernelSize&&!mee(e.kernelSize,"number",1,2))throw new X7(`Conv2D expects config.kernelSize to be number or number[] with length 1 or 2, but received ${JSON.stringify(e.kernelSize)}.`)}}sae.className="Conv2D",q3(sae);class oae extends iae{constructor(e){super(3,e),oae.verifyArgs(e)}getConfig(){const e=super.getConfig();return delete e.rank,e}static verifyArgs(e){if("number"!=typeof e.kernelSize&&(!Array.isArray(e.kernelSize)||1!==e.kernelSize.length&&3!==e.kernelSize.length))throw new X7(`Conv3D expects config.kernelSize to be number or [number, number, number], but received ${JSON.stringify(e.kernelSize)}.`)}}oae.className="Conv3D",q3(oae);class lae extends sae{constructor(e){if(super(e),this.inputSpec=[new Fte({ndim:4})],"same"!==this.padding&&"valid"!==this.padding)throw new X7(`Conv2DTranspose currently supports only padding modes 'same' and 'valid', but received padding mode ${this.padding}`)}build(e){if(4!==(e=Ote(e)).length)throw new X7("Input should have rank 4; Received input shape: "+JSON.stringify(e));const t="channelsFirst"===this.dataFormat?1:e.length-1;if(null==e[t])throw new X7("The channel dimension of the inputs should be defined. Found `None`.");const n=e[t],r=this.kernelSize.concat([this.filters,n]);this.kernel=this.addWeight("kernel",r,"float32",this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.useBias&&(this.bias=this.addWeight("bias",[this.filters],"float32",this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint)),this.inputSpec=[new Fte({ndim:4,axes:{[t]:n}})],this.built=!0}call(e,t){return E1(()=>{let t=Ite(e);if(4!==t.shape.length)throw new X7(`Conv2DTranspose.call() expects input tensor to be rank-4, but received a tensor of rank-${t.shape.length}`);const n=t.shape,r=n[0];let a,i;"channelsFirst"===this.dataFormat?(a=2,i=3):(a=1,i=2);const s=n[a],o=n[i],l=this.kernelSize[0],c=this.kernelSize[1],u=this.strides[0],h=this.strides[1],d=[r,eae(s,u,l,this.padding),eae(o,h,c,this.padding),this.filters];"channelsLast"!==this.dataFormat&&(t=l3(t,[0,2,3,1]));let p=y4(t,this.kernel.read(),d,this.strides,this.padding);return"channelsLast"!==this.dataFormat&&(p=l3(p,[0,3,1,2])),null!=this.bias&&(p=ate(p,this.bias.read(),this.dataFormat)),null!=this.activation&&(p=this.activation.apply(p)),p})}computeOutputShape(e){const t=(e=Ote(e)).slice();let n,r,a;"channelsFirst"===this.dataFormat?(n=1,r=2,a=3):(n=3,r=1,a=2);const i=this.kernelSize[0],s=this.kernelSize[1],o=this.strides[0],l=this.strides[1];return t[n]=this.filters,t[r]=eae(t[r],o,i,this.padding),t[a]=eae(t[a],l,s,this.padding),t}getConfig(){const e=super.getConfig();return delete e.dilationRate,e}}lae.className="Conv2DTranspose",q3(lae);class cae extends oae{constructor(e){if(super(e),this.inputSpec=[new Fte({ndim:5})],"same"!==this.padding&&"valid"!==this.padding)throw new X7(`Conv3DTranspose currently supports only padding modes 'same' and 'valid', but received padding mode ${this.padding}`)}build(e){if(5!==(e=Ote(e)).length)throw new X7("Input should have rank 5; Received input shape: "+JSON.stringify(e));const t="channelsFirst"===this.dataFormat?1:e.length-1;if(null==e[t])throw new X7("The channel dimension of the inputs should be defined. Found `None`.");const n=e[t],r=this.kernelSize.concat([this.filters,n]);this.kernel=this.addWeight("kernel",r,"float32",this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.useBias&&(this.bias=this.addWeight("bias",[this.filters],"float32",this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint)),this.inputSpec=[new Fte({ndim:5,axes:{[t]:n}})],this.built=!0}call(e,t){return E1(()=>{let t=Ite(e);if(5!==t.shape.length)throw new X7(`Conv3DTranspose.call() expects input tensor to be rank-4, but received a tensor of rank-${t.shape.length}`);const n=t.shape,r=n[0];let a,i,s;"channelsFirst"===this.dataFormat?(s=2,a=3,i=4):(s=1,a=2,i=3);const o=n[s],l=n[a],c=n[i],u=this.kernelSize[0],h=this.kernelSize[1],d=this.kernelSize[2],p=this.strides[0],f=this.strides[1],m=this.strides[2],g=[r,eae(o,p,u,this.padding),eae(l,f,h,this.padding),eae(c,m,d,this.padding),this.filters];"channelsLast"!==this.dataFormat&&(t=l3(t,[0,2,3,4,1]));let y=v4(t,this.kernel.read(),g,this.strides,this.padding);return"channelsLast"!==this.dataFormat&&(y=l3(y,[0,4,1,2,3])),null!==this.bias&&(y=ate(y,this.bias.read(),this.dataFormat)),null!==this.activation&&(y=this.activation.apply(y)),y})}computeOutputShape(e){const t=(e=Ote(e)).slice();let n,r,a,i;"channelsFirst"===this.dataFormat?(n=1,r=2,a=3,i=4):(n=4,r=1,a=2,i=3);const s=this.kernelSize[0],o=this.kernelSize[1],l=this.kernelSize[2],c=this.strides[0],u=this.strides[1],h=this.strides[2];return t[n]=this.filters,t[r]=eae(t[r],c,s,this.padding),t[a]=eae(t[a],u,o,this.padding),t[i]=eae(t[i],h,l,this.padding),t}getConfig(){const e=super.getConfig();return delete e.dilationRate,e}}cae.className="Conv3DTranspose",q3(cae);class uae extends iae{constructor(e,t){if(super(e,t),this.DEFAULT_DEPTHWISE_INITIALIZER="glorotUniform",this.DEFAULT_POINTWISE_INITIALIZER="glorotUniform",this.depthwiseKernel=null,this.pointwiseKernel=null,null==t.filters)throw new X7("The `filters` configuration field is required by SeparableConv, but is unspecified.");if(null!=t.kernelInitializer||null!=t.kernelRegularizer||null!=t.kernelConstraint)throw new X7("Fields kernelInitializer, kernelRegularizer and kernelConstraint are invalid for SeparableConv2D. Use depthwiseInitializer, depthwiseRegularizer, depthwiseConstraint, pointwiseInitializer, pointwiseRegularizer and pointwiseConstraint instead.");if(null!=t.padding&&"same"!==t.padding&&"valid"!==t.padding)throw new X7(`SeparableConv${this.rank}D supports only padding modes: 'same' and 'valid', but received ${JSON.stringify(t.padding)}`);this.depthMultiplier=null==t.depthMultiplier?1:t.depthMultiplier,this.depthwiseInitializer=jte(t.depthwiseInitializer||this.DEFAULT_DEPTHWISE_INITIALIZER),this.depthwiseRegularizer=Wre(t.depthwiseRegularizer),this.depthwiseConstraint=lne(t.depthwiseConstraint),this.pointwiseInitializer=jte(t.depthwiseInitializer||this.DEFAULT_POINTWISE_INITIALIZER),this.pointwiseRegularizer=Wre(t.pointwiseRegularizer),this.pointwiseConstraint=lne(t.pointwiseConstraint)}build(e){if((e=Ote(e)).length<this.rank+2)throw new X7(`Inputs to SeparableConv${this.rank}D should have rank ${this.rank+2}, but received input shape: ${JSON.stringify(e)}`);const t="channelsFirst"===this.dataFormat?1:e.length-1;if(null==e[t]||e[t]<0)throw new X7(`The channel dimension of the inputs should be defined, but found ${JSON.stringify(e[t])}`);const n=e[t],r=this.kernelSize.concat([n,this.depthMultiplier]),a=[];for(let s=0;s<this.rank;++s)a.push(1);a.push(n*this.depthMultiplier,this.filters);const i=!0;this.depthwiseKernel=this.addWeight("depthwise_kernel",r,"float32",this.depthwiseInitializer,this.depthwiseRegularizer,i,this.depthwiseConstraint),this.pointwiseKernel=this.addWeight("pointwise_kernel",a,"float32",this.pointwiseInitializer,this.pointwiseRegularizer,i,this.pointwiseConstraint),this.useBias?this.bias=this.addWeight("bias",[this.filters],"float32",this.biasInitializer,this.biasRegularizer,i,this.biasConstraint):this.bias=null,this.inputSpec=[new Fte({ndim:this.rank+2,axes:{[t]:n}})],this.built=!0}call(e,t){return E1(()=>{let t;if(e=Ite(e),1===this.rank)throw new Y7("1D separable convolution is not implemented yet.");return 2===this.rank&&("channelsFirst"===this.dataFormat&&(e=l3(e,[0,2,3,1])),t=O6(e,this.depthwiseKernel.read(),this.pointwiseKernel.read(),this.strides,this.padding,this.dilationRate,"NHWC")),this.useBias&&(t=ate(t,this.bias.read(),this.dataFormat)),null!=this.activation&&(t=this.activation.apply(t)),"channelsFirst"===this.dataFormat&&(t=l3(t,[0,3,1,2])),t})}getConfig(){const e=super.getConfig();return delete e.rank,delete e.kernelInitializer,delete e.kernelRegularizer,delete e.kernelConstraint,e.depthwiseInitializer=Cte(this.depthwiseInitializer),e.pointwiseInitializer=Cte(this.pointwiseInitializer),e.depthwiseRegularizer=Hre(this.depthwiseRegularizer),e.pointwiseRegularizer=Hre(this.pointwiseRegularizer),e.depthwiseConstraint=sne(this.depthwiseConstraint),e.pointwiseConstraint=sne(this.pointwiseConstraint),e}}uae.className="SeparableConv";class hae extends uae{constructor(e){super(2,e)}}hae.className="SeparableConv2D",q3(hae);class dae extends iae{constructor(e){super(1,e),dae.verifyArgs(e),this.inputSpec=[{ndim:3}]}getConfig(){const e=super.getConfig();return delete e.rank,delete e.dataFormat,e}static verifyArgs(e){if("number"!=typeof e.kernelSize&&!mee(e.kernelSize,"number",1,1))throw new X7(`Conv1D expects config.kernelSize to be number or number[] with length 1, but received ${JSON.stringify(e.kernelSize)}.`)}}dae.className="Conv1D",q3(dae);class pae extends Hte{constructor(e){super(e),"number"==typeof e.cropping?this.cropping=[[e.cropping,e.cropping],[e.cropping,e.cropping]]:"number"==typeof e.cropping[0]?this.cropping=[[e.cropping[0],e.cropping[0]],[e.cropping[1],e.cropping[1]]]:this.cropping=e.cropping,this.dataFormat=void 0===e.dataFormat?"channelsLast":e.dataFormat,this.inputSpec=[{ndim:4}]}computeOutputShape(e){return"channelsFirst"===this.dataFormat?[e[0],e[1],e[2]-this.cropping[0][0]-this.cropping[0][1],e[3]-this.cropping[1][0]-this.cropping[1][1]]:[e[0],e[1]-this.cropping[0][0]-this.cropping[0][1],e[2]-this.cropping[1][0]-this.cropping[1][1],e[3]]}call(e,t){return E1(()=>{if(e=Ite(e),"channelsLast"===this.dataFormat){const t=qee(e,this.cropping[0][0],e.shape[1]-this.cropping[0][0]-this.cropping[0][1],2);return qee(t,this.cropping[1][0],e.shape[2]-this.cropping[1][1]-this.cropping[1][0],3)}{const t=qee(e,this.cropping[0][0],e.shape[2]-this.cropping[0][0]-this.cropping[0][1],3);return qee(t,this.cropping[1][0],e.shape[3]-this.cropping[1][1]-this.cropping[1][0],4)}})}getConfig(){const e={cropping:this.cropping,dataFormat:this.dataFormat},t=super.getConfig();return Object.assign(e,t),e}}pae.className="Cropping2D",q3(pae);class fae extends Hte{constructor(e){var t;super(e),this.DEFAULT_SIZE=[2,2],this.inputSpec=[{ndim:4}],this.size=null==e.size?this.DEFAULT_SIZE:e.size,this.dataFormat=null==e.dataFormat?"channelsLast":e.dataFormat,Mee(this.dataFormat),this.interpolation=null==e.interpolation?"nearest":e.interpolation,t=this.interpolation,fee(Nee,"InterpolationFormat",t)}computeOutputShape(e){if("channelsFirst"===this.dataFormat){const t=null==e[2]?null:this.size[0]*e[2],n=null==e[3]?null:this.size[1]*e[3];return[e[0],e[1],t,n]}{const t=null==e[1]?null:this.size[0]*e[1],n=null==e[2]?null:this.size[1]*e[2];return[e[0],t,n,e[3]]}}call(e,t){return E1(()=>{let t=Ite(e);const n=t.shape;if("channelsFirst"===this.dataFormat){t=l3(t,[0,2,3,1]);const e=this.size[0]*n[2],r=this.size[1]*n[3],a="nearest"===this.interpolation?H3.resizeNearestNeighbor(t,[e,r]):H3.resizeBilinear(t,[e,r]);return l3(a,[0,3,1,2])}{const e=this.size[0]*n[1],r=this.size[1]*n[2];return"nearest"===this.interpolation?H3.resizeNearestNeighbor(t,[e,r]):H3.resizeBilinear(t,[e,r])}})}getConfig(){const e={size:this.size,dataFormat:this.dataFormat,interpolation:this.interpolation},t=super.getConfig();return Object.assign(e,t),e}}fae.className="UpSampling2D",q3(fae);class mae extends aae{constructor(e){super(2,e),this.depthwiseKernel=null,this.depthMultiplier=null==e.depthMultiplier?1:e.depthMultiplier,this.depthwiseInitializer=jte(e.depthwiseInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.depthwiseConstraint=lne(e.depthwiseConstraint),this.depthwiseRegularizer=Wre(e.depthwiseRegularizer)}build(e){if((e=Ote(e)).length<4)throw new X7(`Inputs to DepthwiseConv2D should have rank 4. Received input shape: ${JSON.stringify(e)}.`);const t="channelsFirst"===this.dataFormat?1:3;if(null==e[t]||e[t]<0)throw new X7(`The channel dimension of the inputs to DepthwiseConv2D should be defined, but is not (${e[t]}).`);const n=e[t],r=[this.kernelSize[0],this.kernelSize[1],n,this.depthMultiplier];this.depthwiseKernel=this.addWeight("depthwise_kernel",r,null,this.depthwiseInitializer,this.depthwiseRegularizer,!0,this.depthwiseConstraint),this.useBias?this.bias=this.addWeight("bias",[n*this.depthMultiplier],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint):this.bias=null,this.built=!0}call(e,t){return E1(()=>{let t=function(e,t,n=[1,1],r="valid",a,i){return E1(()=>{null==a&&(a="channelsLast"),Mee(a);let s=tae(e,a);if(4!==e.rank)throw new X7(`Input for depthwiseConv2d is required to be 4-D, but is instead ${e.rank}-D`);if(4!==t.rank)throw new X7(`depthwiseKernel is required to be 4-D, but is instead ${t.rank}-D`);return s=C4(s,t,n,"same"===r?"same":"valid","NHWC",i),"channelsFirst"===a&&(s=l3(s,[0,3,1,2])),s})}(e=Ite(e),this.depthwiseKernel.read(),this.strides,this.padding,this.dataFormat,null);return this.useBias&&(t=ate(t,this.bias.read(),this.dataFormat)),null!=this.activation&&(t=this.activation.apply(t)),t})}computeOutputShape(e){e=Ote(e);const t="channelsFirst"===this.dataFormat?e[2]:e[1],n="channelsFirst"===this.dataFormat?e[3]:e[2],r="channelsFirst"===this.dataFormat?e[1]*this.depthMultiplier:e[3]*this.depthMultiplier,a=Jre(t,this.kernelSize[0],this.padding,this.strides[0]),i=Jre(n,this.kernelSize[1],this.padding,this.strides[1]);return"channelsFirst"===this.dataFormat?[e[0],r,a,i]:[e[0],a,i,r]}getConfig(){const e=super.getConfig();return e.depthMultiplier=this.depthMultiplier,e.depthwiseInitializer=Cte(this.depthwiseInitializer),e.depthwiseRegularizer=Hre(this.depthwiseRegularizer),e.depthwiseConstraint=sne(this.depthwiseRegularizer),e}}function gae(e,t,n,r){if(Array.isArray(e)){if(null!=t||null!=n)throw new X7("When inputs is an array, neither initialState or constants should be provided");null!=r&&(n=e.slice(e.length-r,e.length),e=e.slice(0,e.length-r)),e.length>1&&(t=e.slice(1,e.length)),e=e[0]}function a(e){return null==e||Array.isArray(e)?e:[e]}return{inputs:e,initialState:t=a(t),constants:n=a(n)}}function yae(e,t,n,r=!1,a,i,s=!1,o=!1){return E1(()=>{const i=t.shape.length;if(i<3)throw new X7(`Input should be at least 3D, but is ${i}D.`);const l=[1,0].concat(Bee(2,i));t=l3(t,l),s&&console.warn("Backend rnn(): the unroll = true option is not applicable to the imperative deeplearn.js backend."),null!=a&&((a=p2(p2(a,"bool"),"float32")).rank===i-1&&(a=i8(a,-1)),a=l3(a,l)),r&&(t=j6(t,0),null!=a&&(a=j6(a,0)));const c=[];let u,h=n;const d=t.shape[0],p=s3(t);let f,m;null!=a&&(f=s3(a));for(let t=0;t<d;++t){const n=p[t],r=E1(()=>e(n,h));if(null==a)u=r[0],h=r[1];else{const e=E1(()=>{const e=f[t],n=C8(Z8(e),e);return{output:m2(x2(r[0],e),x2(h[0],n)),newStates:h.map((t,a)=>m2(x2(r[1][a],e),x2(t,n)))}});u=e.output,h=e.newStates}o&&c.push(u)}if(o){m=K6(c,1)}return[u,m,h]})}mae.className="DepthwiseConv2D",q3(mae);class xae extends Hte{constructor(e){let t;if(super(e),null==e.cell)throw new X7("cell property is missing for the constructor of RNN.");if(t=Array.isArray(e.cell)?new Aae({cells:e.cell}):e.cell,null==t.stateSize)throw new X7("The RNN cell should have an attribute `stateSize` (tuple of integers, one integer per RNN state).");this.cell=t,this.returnSequences=null!=e.returnSequences&&e.returnSequences,this.returnState=null!=e.returnState&&e.returnState,this.goBackwards=null!=e.goBackwards&&e.goBackwards,this._stateful=null!=e.stateful&&e.stateful,this.unroll=null!=e.unroll&&e.unroll,this.supportsMasking=!0,this.inputSpec=[new Fte({ndim:3})],this.stateSpec=null,this.states_=null,this.numConstants=null,this.keptStates=[]}getStates(){if(null==this.states_){return Bee(0,Array.isArray(this.cell.stateSize)?this.cell.stateSize.length:1).map(e=>null)}return this.states_}setStates(e){this.states_=e}computeOutputShape(e){Mte(e)&&(e=e[0]);let t=this.cell.stateSize;Array.isArray(t)||(t=[t]);const n=t[0];let r;if(r=this.returnSequences?[e[0],e[1],n]:[e[0],n],this.returnState){const n=[];for(const r of t)n.push([e[0],r]);return[r].concat(n)}return r}computeMask(e,t){return E1(()=>{Array.isArray(t)&&(t=t[0]);const e=this.returnSequences?t:null;if(this.returnState){const t=this.states.map(e=>null);return[e].concat(t)}return e})}get states(){if(null==this.states_){const e=Array.isArray(this.cell.stateSize)?this.cell.stateSize.length:1,t=[];for(let n=0;n<e;++n)t.push(null);return t}return this.states_}set states(e){this.states_=e}build(e){if(null!=this.numConstants)throw new Y7("Constants support is not implemented in RNN yet.");Mte(e)&&(e=e[0]);const t=this.stateful?e[0]:null,n=e.slice(2);this.inputSpec[0]=new Fte({shape:[t,null,...n]});const r=[e[0]].concat(e.slice(2));let a;if(this.cell.build(r),a=Array.isArray(this.cell.stateSize)?this.cell.stateSize:[this.cell.stateSize],null!=this.stateSpec){if(!tX(this.stateSpec.map(e=>e.shape[e.shape.length-1]),a))throw new X7(`An initialState was passed that is not compatible with cell.stateSize. Received stateSpec=${this.stateSpec}; However cell.stateSize is ${this.cell.stateSize}`)}else this.stateSpec=a.map(e=>new Fte({shape:[null,e]}));this.stateful&&this.resetStates()}resetStates(e,t=!1){E1(()=>{if(!this.stateful)throw new K7("Cannot call resetStates() on an RNN Layer that is not stateful.");const n=this.inputSpec[0].shape[0];if(null==n)throw new X7("If an RNN is stateful, it needs to know its batch size. Specify the batch size of your input tensors: \n- If using a Sequential model, specify the batch size by passing a `batchInputShape` option to your first layer.\n- If using the functional API, specify the batch size by passing a `batchShape` option to your Input layer.");if(null==this.states_)Array.isArray(this.cell.stateSize)?this.states_=this.cell.stateSize.map(e=>F8([n,e])):this.states_=[F8([n,this.cell.stateSize])];else if(null==e)A1(this.states_),null!=this.keptStates&&(A1(this.keptStates),this.keptStates=[]),Array.isArray(this.cell.stateSize)?this.states_=this.cell.stateSize.map(e=>F8([n,e])):this.states_[0]=F8([n,this.cell.stateSize]);else{if(Array.isArray(e)||(e=[e]),e.length!==this.states_.length)throw new X7(`Layer ${this.name} expects ${this.states_.length} state(s), but it received ${e.length} state value(s). Input received: ${e}`);!0===t?this.keptStates.push(this.states_.slice()):A1(this.states_);for(let t=0;t<this.states_.length;++t){const r=e[t],a=Array.isArray(this.cell.stateSize)?this.cell.stateSize[t]:this.cell.stateSize,i=[n,a];if(!tX(r.shape,i))throw new X7(`State ${t} is incompatible with layer ${this.name}: expected shape=${i}, received shape=${r.shape}`);this.states_[t]=r}}this.states_=this.states_.map(e=>C1(e.clone()))})}apply(e,t){let n=null==t?null:t.initialState,r=null==t?null:t.constants;null==t&&(t={});const a=gae(e,n,r,this.numConstants);e=a.inputs,n=a.initialState,r=a.constants;let i=[],s=[];if(null!=n){t.initialState=n,i=i.concat(n),this.stateSpec=[];for(const e of n)this.stateSpec.push(new Fte({shape:e.shape}));s=s.concat(this.stateSpec)}null!=r&&(t.constants=r,i=i.concat(r),this.numConstants=r.length);if(i[0]instanceof Dte){const n=[e].concat(i),r=this.inputSpec.concat(s),a=this.inputSpec;this.inputSpec=r;const o=super.apply(n,t);return this.inputSpec=a,o}return super.apply(e,t)}call(e,t){return E1(()=>{const n=null==t?null:t.mask,r=null==t?null:t.training;let a=null==t?null:t.initialState;e=Ite(e),null==a&&(a=this.stateful?this.states_:this.getInitialState(e));const i=Array.isArray(this.cell.stateSize)?this.cell.stateSize.length:1;if(a.length!==i)throw new X7(`RNN Layer has ${i} state(s) but was passed ${a.length} initial state(s).`);this.unroll&&console.warn("Ignoring unroll = true for RNN layer, due to imperative backend.");const s={training:r},o=yae((e,t)=>{const n=this.cell.call([e].concat(t),s);return[n[0],n.slice(1)]},e,a,this.goBackwards,n,0,this.unroll,this.returnSequences),l=o[0],c=o[1],u=o[2];this.stateful&&this.resetStates(u,r);const h=this.returnSequences?c:l;return this.returnState?[h].concat(u):h})}getInitialState(e){return E1(()=>{let t=F8(e.shape);return t=e8(t,[1,2]),t=Zee(t),Array.isArray(this.cell.stateSize)?this.cell.stateSize.map(e=>e>1?Qee(t,[1,e]):t):this.cell.stateSize>1?[Qee(t,[1,this.cell.stateSize])]:[t]})}get trainableWeights(){return this.trainable?this.cell.trainableWeights:[]}get nonTrainableWeights(){return this.trainable?this.cell.nonTrainableWeights:this.cell.weights}setFastWeightInitDuringBuild(e){super.setFastWeightInitDuringBuild(e),null!=this.cell&&this.cell.setFastWeightInitDuringBuild(e)}getConfig(){const e=super.getConfig(),t={returnSequences:this.returnSequences,returnState:this.returnState,goBackwards:this.goBackwards,stateful:this.stateful,unroll:this.unroll};null!=this.numConstants&&(t.numConstants=this.numConstants);const n=this.cell.getConfig();return this.getClassName()===xae.className&&(t.cell={className:this.cell.getClassName(),config:n}),Object.assign(Object.assign(Object.assign({},n),e),t)}static fromConfig(e,t,n={}){const r=wne(t.cell,n);return new e(Object.assign(t,{cell:r}))}}xae.className="RNN",q3(xae);class bae extends Hte{}class vae extends bae{constructor(e){super(e),this.DEFAULT_ACTIVATION="tanh",this.DEFAULT_KERNEL_INITIALIZER="glorotNormal",this.DEFAULT_RECURRENT_INITIALIZER="orthogonal",this.DEFAULT_BIAS_INITIALIZER="zeros",this.units=e.units,gee(this.units,"units"),this.activation=Dre(null==e.activation?this.DEFAULT_ACTIVATION:e.activation),this.useBias=null==e.useBias||e.useBias,this.kernelInitializer=jte(e.kernelInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.recurrentInitializer=jte(e.recurrentInitializer||this.DEFAULT_RECURRENT_INITIALIZER),this.biasInitializer=jte(e.biasInitializer||this.DEFAULT_BIAS_INITIALIZER),this.kernelRegularizer=Wre(e.kernelRegularizer),this.recurrentRegularizer=Wre(e.recurrentRegularizer),this.biasRegularizer=Wre(e.biasRegularizer),this.kernelConstraint=lne(e.kernelConstraint),this.recurrentConstraint=lne(e.recurrentConstraint),this.biasConstraint=lne(e.biasConstraint),this.dropout=zee([1,Vee([0,null==e.dropout?0:e.dropout])]),this.recurrentDropout=zee([1,Vee([0,null==e.recurrentDropout?0:e.recurrentDropout])]),this.dropoutFunc=e.dropoutFunc,this.stateSize=this.units,this.dropoutMask=null,this.recurrentDropoutMask=null}build(e){e=Ote(e),this.kernel=this.addWeight("kernel",[e[e.length-1],this.units],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.recurrentKernel=this.addWeight("recurrent_kernel",[this.units,this.units],null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint),this.useBias?this.bias=this.addWeight("bias",[this.units],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint):this.bias=null,this.built=!0}call(e,t){return E1(()=>{if(2!==e.length)throw new X7(`SimpleRNNCell expects 2 input Tensors, got ${e.length}.`);let n=e[1];e=e[0];const r=null!=t.training&&t.training;let a;0<this.dropout&&this.dropout<1&&null==this.dropoutMask&&(this.dropoutMask=Cae({ones:()=>Z8(e),rate:this.dropout,training:r,dropoutFunc:this.dropoutFunc})),0<this.recurrentDropout&&this.recurrentDropout<1&&null==this.recurrentDropoutMask&&(this.recurrentDropoutMask=Cae({ones:()=>Z8(n),rate:this.recurrentDropout,training:r,dropoutFunc:this.dropoutFunc}));const i=this.dropoutMask,s=this.recurrentDropoutMask;a=ete(null!=i?x2(e,i):e,this.kernel.read()),null!=this.bias&&(a=ate(a,this.bias.read())),null!=s&&(n=x2(n,s));let o=m2(a,ete(n,this.recurrentKernel.read()));return null!=this.activation&&(o=this.activation.apply(o)),[o,o]})}getConfig(){const e=super.getConfig(),t={units:this.units,activation:$re(this.activation),useBias:this.useBias,kernelInitializer:Cte(this.kernelInitializer),recurrentInitializer:Cte(this.recurrentInitializer),biasInitializer:Cte(this.biasInitializer),kernelRegularizer:Hre(this.kernelRegularizer),recurrentRegularizer:Hre(this.recurrentRegularizer),biasRegularizer:Hre(this.biasRegularizer),activityRegularizer:Hre(this.activityRegularizer),kernelConstraint:sne(this.kernelConstraint),recurrentConstraint:sne(this.recurrentConstraint),biasConstraint:sne(this.biasConstraint),dropout:this.dropout,recurrentDropout:this.recurrentDropout};return Object.assign(Object.assign({},e),t)}}vae.className="SimpleRNNCell",q3(vae);class wae extends xae{constructor(e){e.cell=new vae(e),super(e)}call(e,t){return E1(()=>{null!=this.cell.dropoutMask&&(A1(this.cell.dropoutMask),this.cell.dropoutMask=null),null!=this.cell.recurrentDropoutMask&&(A1(this.cell.recurrentDropoutMask),this.cell.recurrentDropoutMask=null);const n=null==t?null:t.mask,r=null==t?null:t.training,a=null==t?null:t.initialState;return super.call(e,{mask:n,training:r,initialState:a})})}static fromConfig(e,t){return new e(t)}}wae.className="SimpleRNN",q3(wae);class kae extends bae{constructor(e){if(super(e),this.DEFAULT_ACTIVATION="tanh",this.DEFAULT_RECURRENT_ACTIVATION="hardSigmoid",this.DEFAULT_KERNEL_INITIALIZER="glorotNormal",this.DEFAULT_RECURRENT_INITIALIZER="orthogonal",this.DEFAULT_BIAS_INITIALIZER="zeros",e.resetAfter)throw new X7("GRUCell does not support reset_after parameter set to true.");this.units=e.units,gee(this.units,"units"),this.activation=Dre(void 0===e.activation?this.DEFAULT_ACTIVATION:e.activation),this.recurrentActivation=Dre(void 0===e.recurrentActivation?this.DEFAULT_RECURRENT_ACTIVATION:e.recurrentActivation),this.useBias=null==e.useBias||e.useBias,this.kernelInitializer=jte(e.kernelInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.recurrentInitializer=jte(e.recurrentInitializer||this.DEFAULT_RECURRENT_INITIALIZER),this.biasInitializer=jte(e.biasInitializer||this.DEFAULT_BIAS_INITIALIZER),this.kernelRegularizer=Wre(e.kernelRegularizer),this.recurrentRegularizer=Wre(e.recurrentRegularizer),this.biasRegularizer=Wre(e.biasRegularizer),this.kernelConstraint=lne(e.kernelConstraint),this.recurrentConstraint=lne(e.recurrentConstraint),this.biasConstraint=lne(e.biasConstraint),this.dropout=zee([1,Vee([0,null==e.dropout?0:e.dropout])]),this.recurrentDropout=zee([1,Vee([0,null==e.recurrentDropout?0:e.recurrentDropout])]),this.dropoutFunc=e.dropoutFunc,this.implementation=e.implementation,this.stateSize=this.units,this.dropoutMask=null,this.recurrentDropoutMask=null}build(e){const t=(e=Ote(e))[e.length-1];this.kernel=this.addWeight("kernel",[t,3*this.units],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.recurrentKernel=this.addWeight("recurrent_kernel",[this.units,3*this.units],null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint),this.useBias?this.bias=this.addWeight("bias",[3*this.units],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint):this.bias=null,this.built=!0}call(e,t){return E1(()=>{if(2!==e.length)throw new X7(`GRUCell expects 2 input Tensors (inputs, h, c), got ${e.length}.`);const n=null!=t.training&&t.training;let r=e[1];e=e[0],0<this.dropout&&this.dropout<1&&null==this.dropoutMask&&(this.dropoutMask=Cae({ones:()=>Z8(e),rate:this.dropout,training:n,count:3,dropoutFunc:this.dropoutFunc})),0<this.recurrentDropout&&this.recurrentDropout<1&&null==this.recurrentDropoutMask&&(this.recurrentDropoutMask=Cae({ones:()=>Z8(r),rate:this.recurrentDropout,training:n,count:3,dropoutFunc:this.dropoutFunc}));const a=this.dropoutMask,i=this.recurrentDropoutMask;let s,o,l;0<this.dropout&&this.dropout<1&&(e=x2(e,a[0]));let c=ete(e,this.kernel.read());this.useBias&&(c=ate(c,this.bias.read())),0<this.recurrentDropout&&this.recurrentDropout<1&&(r=x2(r,i[0]));const u=this.recurrentKernel.read(),[h,d]=U6(u,[2*this.units,this.units],u.rank-1),p=ete(r,h),[f,m,g]=U6(c,3,c.rank-1),[y,x]=U6(p,2,p.rank-1);s=this.recurrentActivation.apply(m2(f,y)),o=this.recurrentActivation.apply(m2(m,x));const b=ete(x2(o,r),d);l=this.activation.apply(m2(g,b));const v=m2(x2(s,r),x2(m2(1,N8(s)),l));return[v,v]})}getConfig(){const e=super.getConfig(),t={units:this.units,activation:$re(this.activation),recurrentActivation:$re(this.recurrentActivation),useBias:this.useBias,kernelInitializer:Cte(this.kernelInitializer),recurrentInitializer:Cte(this.recurrentInitializer),biasInitializer:Cte(this.biasInitializer),kernelRegularizer:Hre(this.kernelRegularizer),recurrentRegularizer:Hre(this.recurrentRegularizer),biasRegularizer:Hre(this.biasRegularizer),activityRegularizer:Hre(this.activityRegularizer),kernelConstraint:sne(this.kernelConstraint),recurrentConstraint:sne(this.recurrentConstraint),biasConstraint:sne(this.biasConstraint),dropout:this.dropout,recurrentDropout:this.recurrentDropout,implementation:this.implementation,resetAfter:!1};return Object.assign(Object.assign({},e),t)}}kae.className="GRUCell",q3(kae);class Sae extends xae{constructor(e){0===e.implementation&&console.warn("`implementation=0` has been deprecated, and now defaults to `implementation=1`. Please update your layer call."),e.cell=new kae(e),super(e)}call(e,t){return E1(()=>{null!=this.cell.dropoutMask&&(A1(this.cell.dropoutMask),this.cell.dropoutMask=null),null!=this.cell.recurrentDropoutMask&&(A1(this.cell.recurrentDropoutMask),this.cell.recurrentDropoutMask=null);const n=null==t?null:t.mask,r=null==t?null:t.training,a=null==t?null:t.initialState;return super.call(e,{mask:n,training:r,initialState:a})})}static fromConfig(e,t){return 0===t.implmentation&&(t.implementation=1),new e(t)}}Sae.className="GRU",q3(Sae);class Nae extends bae{constructor(e){super(e),this.DEFAULT_ACTIVATION="tanh",this.DEFAULT_RECURRENT_ACTIVATION="hardSigmoid",this.DEFAULT_KERNEL_INITIALIZER="glorotNormal",this.DEFAULT_RECURRENT_INITIALIZER="orthogonal",this.DEFAULT_BIAS_INITIALIZER="zeros",this.units=e.units,gee(this.units,"units"),this.activation=Dre(void 0===e.activation?this.DEFAULT_ACTIVATION:e.activation),this.recurrentActivation=Dre(void 0===e.recurrentActivation?this.DEFAULT_RECURRENT_ACTIVATION:e.recurrentActivation),this.useBias=null==e.useBias||e.useBias,this.kernelInitializer=jte(e.kernelInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.recurrentInitializer=jte(e.recurrentInitializer||this.DEFAULT_RECURRENT_INITIALIZER),this.biasInitializer=jte(e.biasInitializer||this.DEFAULT_BIAS_INITIALIZER),this.unitForgetBias=e.unitForgetBias,this.kernelRegularizer=Wre(e.kernelRegularizer),this.recurrentRegularizer=Wre(e.recurrentRegularizer),this.biasRegularizer=Wre(e.biasRegularizer),this.kernelConstraint=lne(e.kernelConstraint),this.recurrentConstraint=lne(e.recurrentConstraint),this.biasConstraint=lne(e.biasConstraint),this.dropout=zee([1,Vee([0,null==e.dropout?0:e.dropout])]),this.recurrentDropout=zee([1,Vee([0,null==e.recurrentDropout?0:e.recurrentDropout])]),this.dropoutFunc=e.dropoutFunc,this.implementation=e.implementation,this.stateSize=[this.units,this.units],this.dropoutMask=null,this.recurrentDropoutMask=null}build(e){var t;const n=(e=Ote(e))[e.length-1];let r;if(this.kernel=this.addWeight("kernel",[n,4*this.units],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.recurrentKernel=this.addWeight("recurrent_kernel",[this.units,4*this.units],null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint),this.useBias){if(this.unitForgetBias){const e=this.biasInitializer,n=this.units;r=new((t=class extends cte{apply(t,r){const a=e.apply([n]),i=(new hte).apply([n]),s=e.apply([2*n]);return Yee(Yee(a,i),s)}}).className="CustomInit",t)}else r=this.biasInitializer;this.bias=this.addWeight("bias",[4*this.units],null,r,this.biasRegularizer,!0,this.biasConstraint)}else this.bias=null;this.built=!0}call(e,t){return E1(()=>{const n=null!=t.training&&t.training;if(3!==e.length)throw new X7(`LSTMCell expects 3 input Tensors (inputs, h, c), got ${e.length}.`);let r=e[1];const a=e[2];e=e[0],0<this.dropout&&this.dropout<1&&null==this.dropoutMask&&(this.dropoutMask=Cae({ones:()=>Z8(e),rate:this.dropout,training:n,count:4,dropoutFunc:this.dropoutFunc})),0<this.recurrentDropout&&this.recurrentDropout<1&&null==this.recurrentDropoutMask&&(this.recurrentDropoutMask=Cae({ones:()=>Z8(r),rate:this.recurrentDropout,training:n,count:4,dropoutFunc:this.dropoutFunc}));const i=this.dropoutMask,s=this.recurrentDropoutMask;let o,l,c,u;0<this.dropout&&this.dropout<1&&(e=x2(e,i[0]));let h=ete(e,this.kernel.read());0<this.recurrentDropout&&this.recurrentDropout<1&&(r=x2(r,s[0])),h=m2(h,ete(r,this.recurrentKernel.read())),this.useBias&&(h=ate(h,this.bias.read()));const[d,p,f,m]=U6(h,4,h.rank-1);o=this.recurrentActivation.apply(d),l=this.recurrentActivation.apply(p),c=m2(x2(l,a),x2(o,this.activation.apply(f))),u=this.recurrentActivation.apply(m);const g=x2(u,this.activation.apply(c));return[g,g,c]})}getConfig(){const e=super.getConfig(),t={units:this.units,activation:$re(this.activation),recurrentActivation:$re(this.recurrentActivation),useBias:this.useBias,kernelInitializer:Cte(this.kernelInitializer),recurrentInitializer:Cte(this.recurrentInitializer),biasInitializer:Cte(this.biasInitializer),unitForgetBias:this.unitForgetBias,kernelRegularizer:Hre(this.kernelRegularizer),recurrentRegularizer:Hre(this.recurrentRegularizer),biasRegularizer:Hre(this.biasRegularizer),activityRegularizer:Hre(this.activityRegularizer),kernelConstraint:sne(this.kernelConstraint),recurrentConstraint:sne(this.recurrentConstraint),biasConstraint:sne(this.biasConstraint),dropout:this.dropout,recurrentDropout:this.recurrentDropout,implementation:this.implementation};return Object.assign(Object.assign({},e),t)}}Nae.className="LSTMCell",q3(Nae);class Eae extends xae{constructor(e){0===e.implementation&&console.warn("`implementation=0` has been deprecated, and now defaults to `implementation=1`. Please update your layer call."),e.cell=new Nae(e),super(e)}call(e,t){return E1(()=>{null!=this.cell.dropoutMask&&(A1(this.cell.dropoutMask),this.cell.dropoutMask=null),null!=this.cell.recurrentDropoutMask&&(A1(this.cell.recurrentDropoutMask),this.cell.recurrentDropoutMask=null);const n=null==t?null:t.mask,r=null==t?null:t.training,a=null==t?null:t.initialState;return super.call(e,{mask:n,training:r,initialState:a})})}static fromConfig(e,t){return 0===t.implmentation&&(t.implementation=1),new e(t)}}Eae.className="LSTM",q3(Eae);class Aae extends bae{constructor(e){super(e),this.cells=e.cells}get stateSize(){const e=[];for(const t of this.cells.slice().reverse())Array.isArray(t.stateSize)?e.push(...t.stateSize):e.push(t.stateSize);return e}call(e,t){return E1(()=>{let n=e.slice(1);const r=[];for(const e of this.cells.slice().reverse())Array.isArray(e.stateSize)?r.push(n.splice(0,e.stateSize.length)):r.push(n.splice(0,1));r.reverse();const a=[];let i;for(let s=0;s<this.cells.length;++s){const o=this.cells[s];n=r[s],i=0===s?[e[0]].concat(n):[i[0]].concat(n),i=o.call(i,t),a.push(i.slice(1))}n=[];for(const e of a.slice().reverse())n.push(...e);return[i[0]].concat(n)})}build(e){let t;Mte(e)&&(e=e[0]),this.cells.forEach((n,r)=>{Pee(`RNNCell_${r}`,()=>{n.build(e),t=Array.isArray(n.stateSize)?n.stateSize[0]:n.stateSize,e=[e[0],t]})}),this.built=!0}getConfig(){const e=super.getConfig(),t={cells:this.cells.map(e=>({className:e.getClassName(),config:e.getConfig()}))};return Object.assign(Object.assign({},e),t)}static fromConfig(e,t,n={}){const r=[];for(const a of t.cells)r.push(wne(a,n));return new e({cells:r})}get trainableWeights(){if(!this.trainable)return[];const e=[];for(const t of this.cells)e.push(...t.trainableWeights);return e}get nonTrainableWeights(){const e=[];for(const t of this.cells)e.push(...t.nonTrainableWeights);if(!this.trainable){const t=[];for(const e of this.cells)t.push(...e.trainableWeights);return t.concat(e)}return e}getWeights(){const e=[];for(const t of this.cells)e.push(...t.weights);return Lte(e)}setWeights(e){const t=[];for(const n of this.cells){const r=n.weights.length,a=e.splice(r);for(let e=0;e<n.weights.length;++e)t.push([n.weights[e],a[e]])}$te(t)}}function Cae(e){const{ones:t,rate:n,training:r=!1,count:a=1,dropoutFunc:i}=e,s=()=>null!=i?i(t(),n):ite(t(),n),o=()=>ste(s,t,r);if(!a||a<=1)return C1(o().clone());return Array(a).fill(void 0).map(o).map(e=>C1(e.clone()))}Aae.className="StackedRNNCells",q3(Aae);class jae extends xae{constructor(e){if(e.unroll)throw new Y7("Unrolling is not possible with convolutional RNNs.");if(Array.isArray(e.cell))throw new Y7("It is not possible at the moment to stack convolutional cells.");super(e),this.inputSpec=[new Fte({ndim:5})]}call(e,t){return E1(()=>{if(null!=this.cell.dropoutMask&&(A1(this.cell.dropoutMask),this.cell.dropoutMask=null),null!=this.cell.recurrentDropoutMask&&(A1(this.cell.recurrentDropoutMask),this.cell.recurrentDropoutMask=null),t&&t.constants)throw new X7("ConvRNN2D cell does not support constants");const n=null==t?null:t.mask,r=null==t?null:t.training,a=null==t?null:t.initialState;return super.call(e,{mask:n,training:r,initialState:a})})}computeOutputShape(e){let t=this.computeSingleOutputShape(e);return this.returnSequences||(t=[t[0],...t.slice(2)]),this.returnState&&(t=[t,...Array(2).fill([e[0],...t.slice(-3)])]),t}getInitialState(e){return E1(()=>{const{stateSize:t}=this.cell,n=e.shape,r=this.computeSingleOutputShape(n),a=F8([r[0],...r.slice(2)]);return Array.isArray(t)?Array(t.length).fill(a):[a]})}resetStates(e,t=!1){E1(()=>{if(!this.stateful)throw new K7("Cannot call resetStates() on an RNN Layer that is not stateful.");const n=this.inputSpec[0].shape,r=this.computeSingleOutputShape(n),a=[r[0],...r.slice(2)];if(null==n[0])throw new X7("If an RNN is stateful, it needs to know its batch size. Specify the batch size of your input tensors: \n- If using a Sequential model, specify the batch size by passing a `batchInputShape` option to your first layer.\n- If using the functional API, specify the batch size by passing a `batchShape` option to your Input layer.");if(null==this.getStates())Array.isArray(this.cell.stateSize)?this.states_=this.cell.stateSize.map(()=>F8(a)):this.states_=[F8(a)];else if(null==e)A1(this.states_),null!=this.keptStates&&(A1(this.keptStates),this.keptStates=[]),Array.isArray(this.cell.stateSize)?this.states_=this.cell.stateSize.map(()=>F8(a)):this.states_[0]=F8(a);else{if(Array.isArray(e)||(e=[e]),e.length!==this.states_.length)throw new X7(`Layer ${this.name} expects ${this.states_.length} state(s), but it received ${e.length} state value(s). Input received: ${e}`);t?this.keptStates.push(this.states_.slice()):A1(this.states_);for(let t=0;t<this.states_.length;++t){const n=e[t],r=a;if(!tX(n.shape,r))throw new X7(`State ${t} is incompatible with layer ${this.name}: expected shape=${r}, received shape=${n.shape}`);this.states_[t]=n}}this.states_=this.states_.map(e=>C1(e.clone()))})}computeSingleOutputShape(e){const{dataFormat:t,filters:n,kernelSize:r,padding:a,strides:i,dilationRate:s}=this.cell,o="channelsFirst"===t,l=e[o?3:2],c=e[o?4:3],u=Jre(l,r[0],a,i[0],s[0]),h=Jre(c,r[1],a,i[1],s[1]);return[...e.slice(0,2),...o?[n,u,h]:[u,h,n]]}}jae.className="ConvRNN2D";class Mae extends Nae{constructor(e){const{filters:t,kernelSize:n,strides:r,padding:a,dataFormat:i,dilationRate:s}=e;super(Object.assign(Object.assign({},e),{units:t})),this.filters=t,gee(this.filters,"filters"),this.kernelSize=Qre(n,2,"kernelSize"),this.kernelSize.forEach(e=>gee(e,"kernelSize")),this.strides=Qre(r||1,2,"strides"),this.strides.forEach(e=>gee(e,"strides")),this.padding=a||"valid",Tee(this.padding),this.dataFormat=i||"channelsLast",Mee(this.dataFormat),this.dilationRate=Qre(s||1,2,"dilationRate"),this.dilationRate.forEach(e=>gee(e,"dilationRate"))}build(e){var t;e=Ote(e);const n="channelsFirst"===this.dataFormat?1:e.length-1;if(null==e[n])throw new X7(`The channel dimension of the input should be defined. Found ${e[n]}`);const r=e[n],a=this.kernelSize.concat([r,4*this.filters]);this.kernel=this.addWeight("kernel",a,null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint);const i=this.kernelSize.concat([this.filters,4*this.filters]);if(this.recurrentKernel=this.addWeight("recurrent_kernel",i,null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint),this.useBias){let e;if(this.unitForgetBias){const n=this.biasInitializer,r=this.filters;e=new((t=class extends cte{apply(e,t){return Xee([n.apply([r]),D8([r]),n.apply([2*r])])}}).className="CustomInit",t)}else e=this.biasInitializer;this.bias=this.addWeight("bias",[4*this.filters],null,e,this.biasRegularizer,!0,this.biasConstraint)}this.built=!0}call(e,t){return E1(()=>{if(3!==e.length)throw new X7(`ConvLSTM2DCell expects 3 input Tensors (inputs, h, c), got ${e.length}.`);const n=t.training||!1,r=e[0],a=e[1],i=e[2];0<this.dropout&&this.dropout<1&&null==this.dropoutMask&&(this.dropoutMask=Cae({ones:()=>Z8(r),rate:this.dropout,training:n,count:4,dropoutFunc:this.dropoutFunc}));const s=this.dropoutMask,o=(e,t,n)=>t&&t[n]?x2(t[n],e):e;let l=o(r,s,0),c=o(r,s,1),u=o(r,s,2),h=o(r,s,3);0<this.recurrentDropout&&this.recurrentDropout<1&&null==this.recurrentDropoutMask&&(this.recurrentDropoutMask=Cae({ones:()=>Z8(a),rate:this.recurrentDropout,training:n,count:4,dropoutFunc:this.dropoutFunc}));const d=this.recurrentDropoutMask;let p=o(a,d,0),f=o(a,d,1),m=o(a,d,2),g=o(a,d,3);const[y,x,b,v]=U6(this.kernel.read(),4,3),[w,k,S,N]=this.useBias?U6(this.bias.read(),4):[null,null,null,null];l=this.inputConv(l,y,w,this.padding),c=this.inputConv(c,x,k,this.padding),u=this.inputConv(u,b,S,this.padding),h=this.inputConv(h,v,N,this.padding);const[E,A,C,j]=U6(this.recurrentKernel.read(),4,3);p=this.recurrentConv(p,E),f=this.recurrentConv(f,A),m=this.recurrentConv(m,C),g=this.recurrentConv(g,j);const M=this.recurrentActivation.apply(m2(l,p)),T=this.recurrentActivation.apply(m2(c,f)),I=m2(x2(T,i),x2(M,this.activation.apply(m2(u,m)))),O=x2(this.recurrentActivation.apply(m2(h,g)),this.activation.apply(I));return[O,O,I]})}getConfig(){const e=super.getConfig(),{units:t}=e,n=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n}(e,["units"]),r={filters:this.filters,kernelSize:this.kernelSize,padding:this.padding,dataFormat:this.dataFormat,dilationRate:this.dilationRate,strides:this.strides};return Object.assign(Object.assign({},n),r)}inputConv(e,t,n,r){const a=f4(e,t,this.strides,r||"valid","channelsFirst"===this.dataFormat?"NCHW":"NHWC",this.dilationRate);return n?ate(a,n,this.dataFormat):a}recurrentConv(e,t){return f4(e,t,1,"same","channelsFirst"===this.dataFormat?"NCHW":"NHWC")}}Mae.className="ConvLSTM2DCell",q3(Mae);class Tae extends jae{constructor(e){const t=new Mae(e);super(Object.assign(Object.assign({},e),{cell:t}))}static fromConfig(e,t){return new e(t)}}Tae.className="ConvLSTM2D",q3(Tae);class Iae extends Hte{constructor(e){super(e),this.rate=Math.max(Math.min(e.rate,1),0),this.noiseShape=e.noiseShape,this.seed=e.seed,this.supportsMasking=!0}getNoiseShape(e){if(null==this.noiseShape)return this.noiseShape;const t=e.shape,n=[];for(let r=0;r<this.noiseShape.length;++r)n.push(null==this.noiseShape[r]?t[r]:this.noiseShape[r]);return n}call(e,t){return E1(()=>{this.invokeCallHook(e,t);const n=Ite(e);if(0<this.rate&&this.rate<1){const e=null!=t.training&&t.training,r=this.getNoiseShape(n);return ste(()=>ite(n,this.rate,r,this.seed),()=>n,e)}return e})}getConfig(){const e={rate:this.rate,noiseShape:this.noiseShape,seed:this.seed},t=super.getConfig();return Object.assign(e,t),e}dispose(){return super.dispose()}}Iae.className="Dropout",q3(Iae);class Oae extends Iae{constructor(e){super(e),this.inputSpec=[{ndim:3}]}getNoiseShape(e){const t=e.shape;return[t[0],1,t[2]]}}Oae.className="SpatialDropout1D",q3(Oae);class Pae extends Hte{constructor(e){if(super(e),this.activation=null,this.useBias=!0,this.kernel=null,this.bias=null,this.DEFAULT_KERNEL_INITIALIZER="glorotNormal",this.DEFAULT_BIAS_INITIALIZER="zeros",null==e.batchInputShape&&null==e.inputShape&&null!=e.inputDim){let t=null;null!=e.batchSize&&(t=e.batchSize),this.batchInputShape=[t,e.inputDim]}this.units=e.units,gee(this.units,"units"),this.activation=Dre(e.activation),null!=e.useBias&&(this.useBias=e.useBias),this.kernelInitializer=jte(e.kernelInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.biasInitializer=jte(e.biasInitializer||this.DEFAULT_BIAS_INITIALIZER),this.kernelConstraint=lne(e.kernelConstraint),this.biasConstraint=lne(e.biasConstraint),this.kernelRegularizer=Wre(e.kernelRegularizer),this.biasRegularizer=Wre(e.biasRegularizer),this.activityRegularizer=Wre(e.activityRegularizer),this.supportsMasking=!0,this.inputSpec=[{minNDim:2}]}build(e){const t=(e=Ote(e))[e.length-1];null==this.kernel&&(this.kernel=this.addWeight("kernel",[t,this.units],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.useBias&&(this.bias=this.addWeight("bias",[this.units],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint))),this.inputSpec=[{minNDim:2,axes:{[-1]:t}}],this.built=!0}computeOutputShape(e){const t=(e=Ote(e)).slice();return t[t.length-1]=this.units,t}call(e,t){return E1(()=>{this.invokeCallHook(e,t);const n=Ite(e),r=xee(this.activation.getClassName());let a;return null!=r?a=ete(n,this.kernel.read(),r,this.bias?this.bias.read():null):(a=ete(n,this.kernel.read()),null!=this.bias&&(a=ate(a,this.bias.read())),null!=this.activation&&(a=this.activation.apply(a))),a})}getConfig(){const e={units:this.units,activation:$re(this.activation),useBias:this.useBias,kernelInitializer:Cte(this.kernelInitializer),biasInitializer:Cte(this.biasInitializer),kernelRegularizer:Hre(this.kernelRegularizer),biasRegularizer:Hre(this.biasRegularizer),activityRegularizer:Hre(this.activityRegularizer),kernelConstraint:sne(this.kernelConstraint),biasConstraint:sne(this.biasConstraint)},t=super.getConfig();return Object.assign(e,t),e}}Pae.className="Dense",q3(Pae);class Rae extends Hte{constructor(e){super(e=e||{}),this.inputSpec=[{minNDim:3}],this.dataFormat=e.dataFormat}computeOutputShape(e){e=Ote(e);for(const t of e.slice(1))if(null==t)throw new X7(`The shape of the input to "Flatten" is not fully defined (got ${e.slice(1)}). Make sure to pass a complete "input_shape" or "batch_input_shape" argument to the first layer in your model.`);return[e[0],Dee(e,1)]}call(e,t){return E1(()=>{this.invokeCallHook(e,t);let n=Ite(e);if("channelsFirst"===this.dataFormat&&n.rank>1){const e=[0];for(let t=2;t<n.rank;++t)e.push(t);e.push(1),n=l3(n,e)}return function(e){if(e.rank<=1)throw new X7(`batchFlatten requires a minimum rank of 2. Got rank: ${e.rank}.`);const t=[e.shape[0],Dee(e.shape,1)];return Z2(e,t)}(n)})}getConfig(){const e={};null!=this.dataFormat&&(e.dataFormat=this.dataFormat);const t=super.getConfig();return Object.assign(e,t),e}}Rae.className="Flatten",q3(Rae);class _ae extends Hte{constructor(e){super(e),this.supportsMasking=!0,this.activation=Dre(e.activation)}call(e,t){return E1(()=>{this.invokeCallHook(e,t);const n=Ite(e);return this.activation.apply(n)})}getConfig(){const e={activation:$re(this.activation)},t=super.getConfig();return Object.assign(e,t),e}}_ae.className="Activation",q3(_ae);class Lae extends Hte{constructor(e){super(e),this.n=e.n,this.inputSpec=[{ndim:2}]}computeOutputShape(e){return[e[0],this.n,e[1]]}call(e,t){return E1(()=>{return e=Ite(e),t=e,n=this.n,E1(()=>{if(2!==t.shape.length)throw new X7(`repeat() expects a rank-2 tensor, but received a rank-${t.shape.length} tensor.`);return Qee(Zee(t,1),[1,n,1])});var t,n})}getConfig(){const e={n:this.n},t=super.getConfig();return Object.assign(e,t),e}}Lae.className="RepeatVector",q3(Lae);class $ae extends Hte{constructor(e){super(e),this.targetShape=e.targetShape;for(let t=0;t<this.targetShape.length;++t)this.isUnknown(this.targetShape[t])&&(this.targetShape[t]=null)}isUnknown(e){return e<0||null==e}fixUnknownDimension(e,t){const n="Total size of new array must be unchanged.",r=t.slice();let a=1,i=null;for(let o=0;o<r.length;++o){const e=r[o];if(this.isUnknown(e)){if(null!==i)throw new X7("Can only specifiy one unknown dimension.");i=o}else a*=e}const s=Dee(e);if(null!==i){if(0===a||s%a!==0)throw new X7(n);r[i]=s/a}else if(s!==a)throw new X7(n);return r}computeOutputShape(e){let t=!1;for(let n=0;n<e.length;++n)if(this.isUnknown(e[n])){t=!0;break}return t?e.slice(0,1).concat(this.targetShape):e.slice(0,1).concat(this.fixUnknownDimension(e.slice(1),this.targetShape))}call(e,t){return E1(()=>{this.invokeCallHook(e,t);const n=Ite(e),r=n.shape,a=r.slice(0,1).concat(this.fixUnknownDimension(r.slice(1),this.targetShape));return Z2(n,a)})}getConfig(){const e={targetShape:this.targetShape},t=super.getConfig();return Object.assign(e,t),e}}$ae.className="Reshape",q3($ae);class Fae extends Hte{constructor(e){if(super(e),null==e.dims)throw new Error("Required configuration field `dims` is missing during Permute constructor call.");if(!Array.isArray(e.dims))throw new Error(`Permute constructor requires \`dims\` to be an Array, but received ${e.dims} instead.`);const t=Bee(1,e.dims.length+1);if(!tX(e.dims.slice().sort(),t))throw new Error("Invalid permutation `dims`: "+JSON.stringify(e.dims)+" `dims` must contain consecutive integers starting from 1.");this.dims=e.dims,this.dimsIncludingBatch=[0].concat(this.dims),this.inputSpec=[new Fte({ndim:this.dims.length+1})]}computeOutputShape(e){const t=(e=Ote(e)).slice();return this.dims.forEach((n,r)=>{t[r+1]=e[n]}),t}call(e,t){return l3(Ite(e),this.dimsIncludingBatch)}getConfig(){const e={dims:this.dims},t=super.getConfig();return Object.assign(e,t),e}}Fae.className="Permute",q3(Fae);class Dae extends Hte{constructor(e){super(null==e?{}:e),this.supportsMasking=!0,this.maskValue=null!=e?null==e.maskValue?0:e.maskValue:0}computeOutputShape(e){return e}getConfig(){const e=super.getConfig(),t={maskValue:this.maskValue};return Object.assign(t,e),t}computeMask(e,t){const n=Ite(e);return S2(U8(n,this.maskValue),-1)}call(e,t){return E1(()=>{this.invokeCallHook(e,t);const n=Ite(e),r=S2(U8(n,this.maskValue),-1,!0);return x2(n,p2(r,n.dtype))})}}Dae.className="Masking",q3(Dae);class zae extends Hte{constructor(e){if(super(e),this.embeddings=null,this.DEFAULT_EMBEDDINGS_INITIALIZER="randomUniform",null==e.batchInputShape&&null==e.inputShape){let t=null;null!=e.batchSize&&(t=e.batchSize),null==e.inputLength?this.batchInputShape=[t,null]:this.batchInputShape=[t].concat(aee(e.inputLength))}this.inputDim=e.inputDim,gee(this.inputDim,"inputDim"),this.outputDim=e.outputDim,gee(this.outputDim,"outputDim"),this.embeddingsInitializer=jte(e.embeddingsInitializer||this.DEFAULT_EMBEDDINGS_INITIALIZER),this.embeddingsRegularizer=Wre(e.embeddingsRegularizer),this.activityRegularizer=Wre(e.activityRegularizer),this.embeddingsConstraint=lne(e.embeddingsConstraint),this.maskZero=e.maskZero,this.supportsMasking=e.maskZero,this.inputLength=e.inputLength}build(e){this.embeddings=this.addWeight("embeddings",[this.inputDim,this.outputDim],this.dtype,this.embeddingsInitializer,this.embeddingsRegularizer,!0,this.embeddingsConstraint),this.built=!0}warnOnIncompatibleInputShape(e){}computeMask(e,t){return E1(()=>this.maskZero?(e=Ite(e),U8(e,R4(e))):null)}computeOutputShape(e){if(e=Ote(e),null==this.inputLength)return[...e,this.outputDim];const t=aee(this.inputLength);if(t.length!==e.length-1)throw new X7(`"inputLength" is ${this.inputLength}, but received input shape has shape ${e}`);{let n=0;for(let r=0;r<t.length;++r){const a=t[r],i=e[r+1];if(null!=a&&null!=i&&a!==i)throw new X7(`"inputLength" is ${this.inputLength}, but received input shape has shape ${e}`);null==a&&(t[n]=i),n++}}return[e[0],...t,this.outputDim]}call(e,t){return E1(()=>{this.invokeCallHook(e,t);let n=Ite(e);"int32"!==n.dtype&&(n=Wee(n,"int32"));const r=tte(this.embeddings.read(),Z2(n,[n.size]));return Z2(r,Ote(this.computeOutputShape(n.shape)))})}getConfig(){const e={inputDim:this.inputDim,outputDim:this.outputDim,embeddingsInitializer:Cte(this.embeddingsInitializer),embeddingsRegularizer:Hre(this.embeddingsRegularizer),activityRegularizer:Hre(this.activityRegularizer),embeddingsConstraint:sne(this.embeddingsConstraint),maskZero:this.maskZero,inputLength:this.inputLength},t=super.getConfig();return Object.assign(e,t),e}}zae.className="Embedding",q3(zae);class Vae extends Hte{constructor(e){super(e||{}),this.supportsMasking=!0}mergeFunction(e){throw new Y7}computeElementwiseOpOutputShape(e,t){if(null==e||null==t)return null;if(e.length<t.length)return this.computeElementwiseOpOutputShape(t,e);if(0===t.length)return e;const n=e.slice(0,e.length-t.length);for(let r=0;r<t.length;++r){const a=e[e.length-t.length+r],i=t[r];if(null==a||null==i||a<0||i<0)n.push(null);else if(1===a)n.push(i);else if(1===i)n.push(a);else{if(a!==i)throw new X7("Operands could not be broadcast together with shapes "+JSON.stringify(e)+" "+JSON.stringify(t));n.push(a)}}return n}build(e){if(Array.isArray(e)&&!Array.isArray(e[0])&&(e=[Ote(e)]),e.length<2)throw new X7(`A merge layer should be called on an Array of at least 2 inputs. Got ${e.length} input(s).`);let t=[];for(const a of e)null!=a&&null!==a[0]&&t.push(a[0]);if(t=dee(t),t.length>1)throw new X7(`Can not merge tensors with different batch sizes. Got tensors with shapes: ${JSON.stringify(e)}.`);let n=null==e[0]?null:e[0].slice(1);for(let a=1;a<e.length;++a){const t=null==e[a]?null:e[a].slice(1);n=this.computeElementwiseOpOutputShape(n,t)}const r=e.map(e=>e.length);-1===e.indexOf(null)&&1===dee(r).length?this.reshapeRequired=!1:this.reshapeRequired=!0}call(e,t){return E1(()=>{if(this.reshapeRequired){const t=[],n=e.map(e=>e.rank);if(-1===n.indexOf(null)){const r=Vee(n);for(let n of e){const e=n.rank;for(let t=0;t<r-e;++t)n=Zee(n,1);t.push(n)}return this.mergeFunction(t)}{let n=!1;for(const i of e){const e=i.rank;if(null==e){const e=i.shape,r=e[0],a=e.slice(1).concat([r]);let s=Z2(i,[r].concat(Dee(e.slice(1))));s=l3(s,[1,0]),s=Z2(s,a),t.push(s),n=!0}else if(e>1){const r=Bee(1,e).concat([0]);t.push(l3(i,r)),n=!0}else t.push(i)}let r=this.mergeFunction(t);const a=r.rank;if(n)if(null==a){const e=r.shape,t=e[e.length-1],n=[t].concat(e.slice(0,e.length-1));r=Z2(l3(Z2(r,[-1,t]),[1,0]),n)}else if(a>1){const e=[a-1].concat(Bee(0,a-1));r=l3(r,e)}return r}}return this.mergeFunction(e)})}computeOutputShape(e){let t;t=null==e[0]?null:e[0].slice(1);for(let r=1;r<e.length;++r){const n=null==e[r]?null:e[r].slice(1);t=this.computeElementwiseOpOutputShape(t,n)}let n=[];for(const r of e)null!=r&&null!==r[0]&&n.push(r[0]);return n=dee(n),t=1===n.length?n.concat(t):[null].concat(t),t}computeMask(e,t){return E1(()=>{if(null==t)return null;if(!Array.isArray(t))throw new X7("`mask` should be an Array");if(!Array.isArray(e))throw new X7("`inputs` should be an Array");if(t.length!==e.length)throw new X7(`The Array 'inputs' and 'mask' are expected to have the same length, but have different lengths (${e.length} vs ${t.length})`);if(t.every(e=>null==e))return null;let n=(t=t.map(e=>null==e?e:i8(e,0)))[0];for(let e=1;e<t.length-1;++e)n=T8(n,t[e]);return n})}}class Bae extends Vae{constructor(e){super(e)}mergeFunction(e){return E1(()=>{let t=e[0].clone();for(let n=1;n<e.length;++n)t=m2(t,e[n]);return t})}}Bae.className="Add",q3(Bae);class Hae extends Vae{constructor(e){super(e)}mergeFunction(e){return E1(()=>{let t=e[0].clone();for(let n=1;n<e.length;++n)t=x2(t,e[n]);return t})}}Hae.className="Multiply",q3(Hae);class Uae extends Vae{constructor(e){super(e)}mergeFunction(e){return E1(()=>{let t=e[0].clone();for(let n=1;n<e.length;++n)t=m2(t,e[n]);return x2(1/e.length,t)})}}Uae.className="Average",q3(Uae);class Wae extends Vae{constructor(e){super(e)}mergeFunction(e){return E1(()=>{let t=e[0];for(let n=1;n<e.length;++n)t=L8(t,e[n]);return t})}}Wae.className="Maximum",q3(Wae);class Zae extends Vae{constructor(e){super(e)}mergeFunction(e){return E1(()=>{let t=e[0];for(let n=1;n<e.length;++n)t=z8(t,e[n]);return t})}}Zae.className="Minimum",q3(Zae);class Gae extends Vae{constructor(e){super(e),this.DEFAULT_AXIS=-1,null==e&&(e={}),this.axis=null==e.axis?this.DEFAULT_AXIS:e.axis,this.supportsMasking=!0,this.reshapeRequired=!1}build(e){if(!Array.isArray(e)||!Array.isArray(e[0])||1===e.length)throw new X7("A `Concatenate` layer should be called on a list of at least 2 inputs");let t=!0;for(const r of e)if(null!=r){t=!1;break}if(t)return;const n=[];for(let r=0;r<e.length;++r){const t=e[r].slice();t.splice(this.axis,1);let a=!1;for(const e of n)if(tX(e,t)){a=!0;break}a||n.push(t)}if(n.length>1)throw new X7("A `Concatenate` layer requires inputs with matching shapes except for the concat axis. Got input shapes: "+JSON.stringify(e))}mergeFunction(e){return E1(()=>Xee(e,this.axis))}computeOutputShape(e){if(!Array.isArray(e)||!Array.isArray(e[0]))throw new X7("A `Concatenate` layer should be called on a list of inputs.");const t=e,n=t[0].slice(),r=this.axis<0?n.length+this.axis:this.axis;for(const a of t.slice(1)){if(null==n[r]||null==a[r]){n[r]=null;break}n[r]+=a[r]}return n}computeMask(e,t){if(null==t)return null;if(!Array.isArray(t))throw new X7("`mask` should be an array for Concatenate");if(!Array.isArray(e))throw new X7("`inputs` should be an array for Concatenate");if(t.length!==e.length)throw new X7(`Mismatch in the length of mask (${t.length}) and the legnth of inputs (${e.length})`);return E1(()=>{let n=!0;if(t.forEach(e=>{null==e||(n=!1)}),n)return null;const r=[];for(let i=0;i<e.length;++i)null==t[i]?r.push(p2(Z8(e[i]),"bool")):t[i].rank<e[i].rank?r.push(i8(t[i],-1)):r.push(t[i]);const a=q2(r,this.axis);return k2(a,-1,!1)})}getConfig(){const e={axis:this.axis},t=super.getConfig();return Object.assign(e,t),e}}function Kae(e,t){for(;e<0;)e+=t;return e}Gae.className="Concatenate",q3(Gae);class qae extends Vae{constructor(e){super(e),this.axes=e.axes,this.normalize=null!=e.normalize&&e.normalize,this.supportsMasking=!0,this.reshapeRequired=!1}build(e){Yq(Array.isArray(e)&&2===e.length&&Array.isArray(e[0])&&Array.isArray(e[1]),()=>"A `Dot` layer should be called on a list of exactly 2 inputs.");const t=e[0],n=e[1];if(t.length>3||n.length>3)throw new Y7("Dot layer does not support tensors of 4D or higher rank yet.");const r=this.interpretAxes(t,n);if(t[r[0]]!==n[r[1]])throw new X7(`Dimension incompatibility: ${t[r[0]]} !== ${n[r[1]]}`)}mergeFunction(e){if(2!==e.length)throw new X7(`A \`Dot\` layer must be called on exactly 2 inputs, but received ${e.length} input(s).`);let t,n=e[0],r=e[1];return t=Array.isArray(this.axes)?this.axes.map((t,n)=>Kae(t,e[n].shape.length)):[Kae(this.axes,n.shape.length),Kae(this.axes,r.shape.length)],this.normalize&&(n=kne(n,t[0]),r=kne(r,t[1])),function(e,t,n){if(e.shape.length>3||t.shape.length>3)throw new Y7("batchDot is not implemented for tensors of 4D or higher rank yet");if(Yq(e.shape.length>=2,()=>`batchDot requires the rank of x to be >= 2, but got ${e.shape.length}`),Yq(e.shape.length>=2,()=>`batchDot requires the rank of y to be >= 2, but got ${t.shape.length}`),"number"==typeof n&&(n=[n,n]),"complex64"===e.dtype||"complex64"===t.dtype)throw new Y7("batchDot is not implemented for complex64-type Tensors yet.");const r=e.shape.length,a=t.shape.length;null==n&&(n=[r-1,a-2]);const i=n;return E1(()=>{let n,s;if(r>a){n=r-a;const e=[];for(let t=0;t<n;++t)e.push(1);t=Z2(t,t.shape.concat(e))}else if(a>r){n=a-r;const t=[];for(let e=0;e<n;++e)t.push(1);e=Z2(e,e.shape.concat(t))}else n=0;if(2===e.shape.length&&2===t.shape.length)s=i[0]===i[1]?e8(x2(e,t),i[0]):e8(x2(l3(e,[1,0]),t),i[1]);else{const n=i[0]!==e.shape.length-1,r=i[1]===t.shape.length-1;s=X2(e,t,n,r)}if(n>0){let e;e=r>a?r+a-3:r-1;const t=[];for(let r=e;r<e+n;++r)t.push(r);s=G6(s,t)}return 1===s.shape.length&&(s=i8(s,1)),s})}(n,r,t)}interpretAxes(e,t){let n;return n=Array.isArray(this.axes)?this.axes:[Kae(this.axes,e.length),Kae(this.axes,t.length)],n}computeOutputShape(e){Yq(Array.isArray(e)&&2===e.length&&Array.isArray(e[0])&&Array.isArray(e[1]),()=>"A `Dot` layer should be called on a list of exactly 2 inputs.");const t=e[0].slice(),n=e[1].slice();if(t.length>3||n.length>3)throw new Y7("Dot layer does not support tensors of 4D or higher rank yet.");const r=this.interpretAxes(t,n);t.splice(r[0],1),n.splice(r[1],1),n.splice(0,1);const a=t.concat(n);return 1===a.length&&a.push(1),a}computeMask(e,t){return null}getConfig(){const e={axes:this.axes,normalize:this.normalize},t=super.getConfig();return Object.assign(e,t),e}}qae.className="Dot",q3(qae);class Xae extends Hte{constructor(e){super(e),this.supportsMasking=!0,this.stddev=e.stddev}computeOutputShape(e){return e}getConfig(){const e=super.getConfig(),t={stddev:this.stddev};return Object.assign(t,e),t}call(e,t){return E1(()=>{this.invokeCallHook(e,t);const n=Ite(e);return ste(()=>m2(Jee(n.shape,0,this.stddev),n),()=>n,t.training||!1)})}}Xae.className="GaussianNoise",q3(Xae);class Yae extends Hte{constructor(e){super(e),this.supportsMasking=!0,this.rate=e.rate}computeOutputShape(e){return e}getConfig(){const e=super.getConfig(),t={rate:this.rate};return Object.assign(t,e),t}call(e,t){return E1(()=>{this.invokeCallHook(e,t);const n=Ite(e);if(this.rate>0&&this.rate<1){return ste(()=>{const e=Math.sqrt(this.rate/(1-this.rate));return x2(n,Jee(n.shape,1,e))},()=>n,t.training||!1)}return n})}}Yae.className="GaussianDropout",q3(Yae);class Qae extends Hte{constructor(e){super(e),this.supportsMasking=!0,this.rate=e.rate,this.noiseShape=e.noiseShape}_getNoiseShape(e){return this.noiseShape||Ite(e).shape}computeOutputShape(e){return e}getConfig(){const e=super.getConfig(),t={rate:this.rate};return Object.assign(t,e),t}call(e,t){return E1(()=>{if(this.rate<1&&this.rate>0){const n=this._getNoiseShape(e);return ste(()=>{const t=Ite(e),r=-1.7580993408473766;let a=d8(k6(n),this.rate);a=Wee(a,"float32");const i=((1-this.rate)*(1+this.rate*r**2))**-.5,s=-i*r*this.rate,o=m2(x2(t,a),x2(m2(a,-1),r));return m2(x2(o,i),s)},()=>Ite(e),t.training||!1)}return e})}}function Jae(e,t,n,r,a,i=.001){let s;if(2===e.rank)s=n4(e,t,n,r,a,i);else if(3===e.rank)s=r4(e,t,n,r,a,i);else{if(4!==e.rank)throw new Y7(`batchNormalization is not implemented for array of rank ${e.rank} yet`);s=a4(e,t,n,r,a,i)}return s}function eie(e,t,n,r,a=.001){return tX(r.slice().sort(),Bee(0,e.rank-1))?function(e,t,n,r,a=.001){return E1(()=>{const i=H8(e,r),s=i.mean,o=i.variance;return[Jae(e,s,o,n,t,a),s,o]})}(e,t,n,r,a):function(e,t,n,r,a=.001){return E1(()=>{const i=H8(e,r),s=i.mean,o=i.variance,l=[];for(const t of Bee(0,e.rank))-1!==r.indexOf(t)?l.push(1):l.push(e.shape[t]);const c=Z2(s,l),u=Z2(o,l),h=null==t?null:Z2(t,l),d=null==n?null:Z2(n,l);return[Jae(e,c,u,d,h,a),s,o]})}(e,t,n,r,a)}Qae.className="AlphaDropout",q3(Qae);class tie extends Hte{constructor(e){null==e&&(e={}),super(e),this.supportsMasking=!0,this.axis=null==e.axis?-1:e.axis,this.momentum=null==e.momentum?.99:e.momentum,this.epsilon=null==e.epsilon?.001:e.epsilon,this.center=null==e.center||e.center,this.scale=null==e.scale||e.scale,this.betaInitializer=jte(e.betaInitializer||"zeros"),this.gammaInitializer=jte(e.gammaInitializer||"ones"),this.movingMeanInitializer=jte(e.movingMeanInitializer||"zeros"),this.movingVarianceInitializer=jte(e.movingVarianceInitializer||"ones"),this.betaConstraint=lne(e.betaConstraint),this.gammaConstraint=lne(e.gammaConstraint),this.betaRegularizer=Wre(e.betaRegularizer),this.gammaRegularizer=Wre(e.gammaRegularizer)}build(e){e=Ote(e);const t=this.axis>=0?this.axis:this.axis+e.length,n=e[t];if(null==n)throw new X7(`Axis ${t} of input tensor should have a defined dimension but the layer received an input with shape ${JSON.stringify(e)}.`);this.inputSpec=[new Fte({ndim:e.length,axes:{[t]:n}})];const r=[n];this.scale&&(this.gamma=this.addWeight("gamma",r,null,this.gammaInitializer,this.gammaRegularizer,!0,this.gammaConstraint)),this.center&&(this.beta=this.addWeight("beta",r,null,this.betaInitializer,this.betaRegularizer,!0,this.betaConstraint)),this.movingMean=this.addWeight("moving_mean",r,null,this.movingMeanInitializer,null,!1),this.movingVariance=this.addWeight("moving_variance",r,null,this.movingVarianceInitializer,null,!1),this.built=!0}call(e,t){return E1(()=>{const n=null!=t.training&&t.training,r=Ite(e),a=r.shape,i=a.length,s=Bee(0,i),o=this.axis>=0?this.axis:this.axis+i;s.splice(o,1);const l=eee(1,i);l[o]=a[o];const c=s.slice();c.sort();const u=!tX(c,Bee(0,i).slice(0,i-1));if(!n)return(()=>{if(u){const e=Z2(this.movingMean.read(),l),t=Z2(this.movingVariance.read(),l),n=this.center?Z2(this.beta.read(),l):null,a=this.scale?Z2(this.gamma.read(),l):null;return Jae(r,e,t,n,a,this.epsilon)}return Jae(r,this.movingMean.read(),this.movingVariance.read(),null==this.beta?null:this.beta.read(),null==this.gamma?null:this.gamma.read(),this.epsilon)})();const[h,d,p]=eie(r,this.gamma.read(),this.beta.read(),s,this.epsilon),f=(e,t,n)=>{E1(()=>{const r=1-n,a=e.read(),i=x2(C8(a,t),r);e.write(C8(a,i))})};return(()=>{f(this.movingMean,d,this.momentum),f(this.movingVariance,p,this.momentum)})(),h})}getConfig(){const e={axis:this.axis,momentum:this.momentum,epsilon:this.epsilon,center:this.center,scale:this.scale,betaInitializer:Cte(this.betaInitializer),gammaInitializer:Cte(this.gammaInitializer),movingMeanInitializer:Cte(this.movingMeanInitializer),movingVarianceInitializer:Cte(this.movingVarianceInitializer),betaRegularizer:Hre(this.betaRegularizer),gammaRegularizer:Hre(this.gammaRegularizer),betaConstraint:sne(this.betaConstraint),gammaConstraint:sne(this.gammaConstraint)},t=super.getConfig();return Object.assign(e,t),e}}tie.className="BatchNormalization",q3(tie);class nie extends Hte{constructor(e){if(null==e&&(e={}),super(e),this.axis=null==e.axis?-1:e.axis,"number"==typeof this.axis){if(!Number.isInteger(this.axis))throw new Error(`Expected axis to be an integer, but received ${this.axis}`)}else{if(!Array.isArray(this.axis))throw new Error(`Expected axis to be an integer or an array of integers, but received ${JSON.stringify(this.axis)}`);for(const e of this.axis)if(!Number.isInteger(e))throw new Error(`Expected axis to be an array of integers, but received ${JSON.stringify(this.axis)}`)}this.epsilon=null==e.epsilon?.001:e.epsilon,this.center=null==e.center||e.center,this.scale=null==e.scale||e.scale,this.betaInitializer=jte(e.betaInitializer||"zeros"),this.gammaInitializer=jte(e.gammaInitializer||"ones"),this.betaRegularizer=Wre(e.betaRegularizer),this.gammaRegularizer=Wre(e.gammaRegularizer),this.supportsMasking=!0}build(e){const t=(e=Ote(e)).length;"number"==typeof this.axis&&(this.axis=[this.axis]);for(let a=0;a<this.axis.length;++a)this.axis[a]<0&&(this.axis[a]+=t);for(const a of this.axis)if(a<0||a>=t)throw new Error(`Invalid axis: ${a}`);if(this.axis.length!==dee(this.axis).length)throw new Error(`Found duplicate axes in: ${this.axis}`);const n=this.axis.map(t=>e[t]),r=!0;this.scale?this.gamma=this.addWeight("gamma",n,"float32",this.gammaInitializer,this.gammaRegularizer,r):this.gamma=null,this.center?this.beta=this.addWeight("beta",n,"float32",this.betaInitializer,this.betaRegularizer,r):this.beta=null,this.built=!0}call(e,t){const n=Ite(e),r=n.shape,a=r.length;return E1(()=>{let{mean:e,variance:t}=H8(n,this.axis,!0);const i=eee(1,a);for(const n of this.axis)i[n]=r[n];const s=e=>null!=e&&e.shape.length!==a?Z2(e,i):e;let o=this.scale?s(this.gamma.read()):null,l=this.center?s(this.beta.read()):null;const c=[],u=[];for(let n=0;n<a;++n)-1!==this.axis.indexOf(n)?(c.push(r[n]),u.push(1)):(c.push(1),u.push(r[n]));return e=o8(e,c),t=o8(t,c),null!=o&&(o=o8(o,u)),null!=l&&(l=o8(l,u)),Jae(n,e,t,l,o,this.epsilon)})}getConfig(){const e={axis:this.axis,epsilon:this.epsilon,center:this.center,scale:this.scale,betaInitializer:Cte(this.betaInitializer),gammaInitializer:Cte(this.gammaInitializer),betaRegularizer:Hre(this.betaRegularizer),gammaRegularizer:Hre(this.gammaRegularizer)},t=super.getConfig();return Object.assign(e,t),e}}nie.className="LayerNormalization",q3(nie);class rie extends Hte{constructor(e){if(null==e&&(e={}),super(e),this.dataFormat=null==e.dataFormat?"channelsLast":e.dataFormat,null==e.padding)this.padding=[[1,1],[1,1]];else if("number"==typeof e.padding)this.padding=[[e.padding,e.padding],[e.padding,e.padding]];else{if(e.padding=e.padding,2!==e.padding.length)throw new X7(`ZeroPadding2D expects padding to be a length-2 array, but received a length-${e.padding.length} array.`);let t,n;if("number"==typeof e.padding[0])t=[e.padding[0],e.padding[0]],n=[e.padding[1],e.padding[1]];else{if(e.padding=e.padding,2!==e.padding[0].length)throw new X7(`ZeroPadding2D expects height padding to be a length-2 array, but received a length-${e.padding[0].length} array.`);if(t=e.padding[0],2!==e.padding[1].length)throw new X7(`ZeroPadding2D expects width padding to be a length-2 array, but received a length-${e.padding[1].length} array.`);n=e.padding[1]}this.padding=[t,n]}this.inputSpec=[new Fte({ndim:4})]}computeOutputShape(e){let t,n;return e=Ote(e),"channelsFirst"===this.dataFormat?(t=null!=e[2]&&e[2]>=0?e[2]+this.padding[0][0]+this.padding[0][1]:null,n=null!=e[3]&&e[3]>=0?e[3]+this.padding[1][0]+this.padding[1][1]:null,[e[0],e[1],t,n]):(t=null!=e[1]&&e[1]>=0?e[1]+this.padding[0][0]+this.padding[0][1]:null,n=null!=e[2]&&e[2]>=0?e[2]+this.padding[1][0]+this.padding[1][1]:null,[e[0],t,n,e[3]])}call(e,t){return E1(()=>{return t=Ite(e),n=this.padding,r=this.dataFormat,E1(()=>{if(4!==t.rank)throw new X7(`temporalPadding expects input tensor to be 4-D, but received a ${t.rank}-D tensor.`);if(null==n&&(n=[[1,1],[1,1]]),2!==n.length||2!==n[0].length||2!==n[1].length)throw new X7("spatial2dPadding expects `padding` to be an Array of two Arrays, each of which is an Array of two integers.");if(null==r&&(r="channelsLast"),"channelsLast"!==r&&"channelsFirst"!==r)throw new X7(`Unknown data format: ${r}. Supported data formats are 'channelsLast' and 'channelsFirst.`);let e;return e="channelsFirst"===r?[[0,0],[0,0],n[0],n[1]]:[[0,0],n[0],n[1],[0,0]],G8(t,e)});var t,n,r})}getConfig(){const e={padding:this.padding,dataFormat:this.dataFormat},t=super.getConfig();return Object.assign(e,t),e}}function aie(e,t,n,r,a,i){return E1(()=>{let s;Mee(a),Iee(i),Tee(r),null==n&&(n=[1,1]),null==r&&(r="valid"),null==a&&(a="channelsLast"),null==i&&(i="max"),e=tae(e,a);const o="same"===r?"same":"valid";return s="max"===i?R8(e,t,n,o):G2(e,t,n,o),"channelsFirst"===a&&(s=l3(s,[0,3,1,2])),s})}function iie(e,t,n,r,a,i){return E1(()=>{let s;Mee(a),Iee(i),Tee(r),null==n&&(n=[1,1,1]),null==r&&(r="valid"),null==a&&(a="channelsLast"),null==i&&(i="max"),e=nae(e,a);const o="same"===r?"same":"valid";return s="max"===i?_8(e,t,n,o):K2(e,t,n,o),"channelsFirst"===a&&(s=l3(s,[0,4,1,2,3])),s})}rie.className="ZeroPadding2D",q3(rie);class sie extends Hte{constructor(e){if(null==e.poolSize&&(e.poolSize=2),super(e),"number"==typeof e.poolSize)this.poolSize=[e.poolSize];else{if(!Array.isArray(e.poolSize)||1!==e.poolSize.length||"number"!=typeof e.poolSize[0])throw new X7(`poolSize for 1D convolutional layer must be a number or an Array of a single number, but received ${JSON.stringify(e.poolSize)}`);this.poolSize=e.poolSize}if(gee(this.poolSize,"poolSize"),null==e.strides)this.strides=this.poolSize;else if("number"==typeof e.strides)this.strides=[e.strides];else{if(!Array.isArray(e.strides)||1!==e.strides.length||"number"!=typeof e.strides[0])throw new X7(`strides for 1D convolutional layer must be a number or an Array of a single number, but received ${JSON.stringify(e.strides)}`);this.strides=e.strides}gee(this.strides,"strides"),this.padding=null==e.padding?"valid":e.padding,Tee(this.padding),this.inputSpec=[new Fte({ndim:3})]}computeOutputShape(e){const t=Jre((e=Ote(e))[1],this.poolSize[0],this.padding,this.strides[0]);return[e[0],t,e[2]]}call(e,t){return E1(()=>{this.invokeCallHook(e,t),e=Zee(Ite(e),2);const n=this.poolingFunction(Ite(e),[this.poolSize[0],1],[this.strides[0],1],this.padding,"channelsLast");return G6(n,[2])})}getConfig(){const e={poolSize:this.poolSize,padding:this.padding,strides:this.strides},t=super.getConfig();return Object.assign(e,t),e}}class oie extends sie{constructor(e){super(e)}poolingFunction(e,t,n,r,a){return Mee(a),Tee(r),aie(e,t,n,r,a,"max")}}oie.className="MaxPooling1D",q3(oie);class lie extends sie{constructor(e){super(e)}poolingFunction(e,t,n,r,a){return Mee(a),Tee(r),aie(e,t,n,r,a,"avg")}}lie.className="AveragePooling1D",q3(lie);class cie extends Hte{constructor(e){if(null==e.poolSize&&(e.poolSize=[2,2]),super(e),this.poolSize=Array.isArray(e.poolSize)?e.poolSize:[e.poolSize,e.poolSize],null==e.strides)this.strides=this.poolSize;else if(Array.isArray(e.strides)){if(2!==e.strides.length)throw new X7(`If the strides property of a 2D pooling layer is an Array, it is expected to have a length of 2, but received length ${e.strides.length}.`);this.strides=e.strides}else this.strides=[e.strides,e.strides];gee(this.poolSize,"poolSize"),gee(this.strides,"strides"),this.padding=null==e.padding?"valid":e.padding,this.dataFormat=null==e.dataFormat?"channelsLast":e.dataFormat,Mee(this.dataFormat),Tee(this.padding),this.inputSpec=[new Fte({ndim:4})]}computeOutputShape(e){e=Ote(e);let t="channelsFirst"===this.dataFormat?e[2]:e[1],n="channelsFirst"===this.dataFormat?e[3]:e[2];return t=Jre(t,this.poolSize[0],this.padding,this.strides[0]),n=Jre(n,this.poolSize[1],this.padding,this.strides[1]),"channelsFirst"===this.dataFormat?[e[0],e[1],t,n]:[e[0],t,n,e[3]]}call(e,t){return E1(()=>(this.invokeCallHook(e,t),this.poolingFunction(Ite(e),this.poolSize,this.strides,this.padding,this.dataFormat)))}getConfig(){const e={poolSize:this.poolSize,padding:this.padding,strides:this.strides,dataFormat:this.dataFormat},t=super.getConfig();return Object.assign(e,t),e}}class uie extends cie{constructor(e){super(e)}poolingFunction(e,t,n,r,a){return Mee(a),Tee(r),aie(e,t,n,r,a,"max")}}uie.className="MaxPooling2D",q3(uie);class hie extends cie{constructor(e){super(e)}poolingFunction(e,t,n,r,a){return Mee(a),Tee(r),aie(e,t,n,r,a,"avg")}}hie.className="AveragePooling2D",q3(hie);class die extends Hte{constructor(e){if(null==e.poolSize&&(e.poolSize=[2,2,2]),super(e),this.poolSize=Array.isArray(e.poolSize)?e.poolSize:[e.poolSize,e.poolSize,e.poolSize],null==e.strides)this.strides=this.poolSize;else if(Array.isArray(e.strides)){if(3!==e.strides.length)throw new X7(`If the strides property of a 3D pooling layer is an Array, it is expected to have a length of 3, but received length ${e.strides.length}.`);this.strides=e.strides}else this.strides=[e.strides,e.strides,e.strides];gee(this.poolSize,"poolSize"),gee(this.strides,"strides"),this.padding=null==e.padding?"valid":e.padding,this.dataFormat=null==e.dataFormat?"channelsLast":e.dataFormat,Mee(this.dataFormat),Tee(this.padding),this.inputSpec=[new Fte({ndim:5})]}computeOutputShape(e){e=Ote(e);let t="channelsFirst"===this.dataFormat?e[2]:e[1],n="channelsFirst"===this.dataFormat?e[3]:e[2],r="channelsFirst"===this.dataFormat?e[4]:e[3];return t=Jre(t,this.poolSize[0],this.padding,this.strides[0]),n=Jre(n,this.poolSize[1],this.padding,this.strides[1]),r=Jre(r,this.poolSize[2],this.padding,this.strides[2]),"channelsFirst"===this.dataFormat?[e[0],e[1],t,n,r]:[e[0],t,n,r,e[4]]}call(e,t){return E1(()=>(this.invokeCallHook(e,t),this.poolingFunction(Ite(e),this.poolSize,this.strides,this.padding,this.dataFormat)))}getConfig(){const e={poolSize:this.poolSize,padding:this.padding,strides:this.strides,dataFormat:this.dataFormat},t=super.getConfig();return Object.assign(e,t),e}}class pie extends die{constructor(e){super(e)}poolingFunction(e,t,n,r,a){return Mee(a),Tee(r),iie(e,t,n,r,a,"max")}}pie.className="MaxPooling3D",q3(pie);class fie extends die{constructor(e){super(e)}poolingFunction(e,t,n,r,a){return Mee(a),Tee(r),iie(e,t,n,r,a,"avg")}}fie.className="AveragePooling3D",q3(fie);class mie extends Hte{constructor(e){super(e),this.inputSpec=[new Fte({ndim:3})]}computeOutputShape(e){return[e[0],e[2]]}call(e,t){throw new Y7}}class gie extends mie{constructor(e){super(e||{})}call(e,t){return E1(()=>{const t=Ite(e);return $8(t,1)})}}gie.className="GlobalAveragePooling1D",q3(gie);class yie extends mie{constructor(e){super(e||{})}call(e,t){return E1(()=>{const t=Ite(e);return K4(t,1)})}}yie.className="GlobalMaxPooling1D",q3(yie);class xie extends Hte{constructor(e){super(e),this.dataFormat=null==e.dataFormat?"channelsLast":e.dataFormat,Mee(this.dataFormat),this.inputSpec=[new Fte({ndim:4})]}computeOutputShape(e){return"channelsLast"===this.dataFormat?[e[0],e[3]]:[e[0],e[1]]}call(e,t){throw new Y7}getConfig(){const e={dataFormat:this.dataFormat},t=super.getConfig();return Object.assign(e,t),e}}class bie extends xie{call(e,t){return E1(()=>{const t=Ite(e);return"channelsLast"===this.dataFormat?$8(t,[1,2]):$8(t,[2,3])})}}bie.className="GlobalAveragePooling2D",q3(bie);class vie extends xie{call(e,t){return E1(()=>{const t=Ite(e);return"channelsLast"===this.dataFormat?K4(t,[1,2]):K4(t,[2,3])})}}vie.className="GlobalMaxPooling2D",q3(vie);class wie extends Hte{constructor(e){super(e),this.layer=e.layer}build(e){this.built=!0}get trainable(){return null!=this.layer&&this.layer.trainable}set trainable(e){null!=this.layer&&(this.layer.trainable=e)}get trainableWeights(){return this.layer.trainableWeights}get nonTrainableWeights(){return this.layer.nonTrainableWeights}get updates(){return this.layer._updates}get losses(){return this.layer.losses}getWeights(){return this.layer.getWeights()}setWeights(e){this.layer.setWeights(e)}getConfig(){const e={layer:{className:this.layer.getClassName(),config:this.layer.getConfig()}},t=super.getConfig();return Object.assign(e,t),e}setFastWeightInitDuringBuild(e){super.setFastWeightInitDuringBuild(e),null!=this.layer&&this.layer.setFastWeightInitDuringBuild(e)}static fromConfig(e,t,n={}){const r=wne(t.layer,n);delete t.layer;const a={layer:r};return Object.assign(a,t),new e(a)}}class kie extends wie{constructor(e){super(e),this.supportsMasking=!0}build(e){if((e=Ote(e)).length<3)throw new X7(`TimeDistributed layer expects an input shape >= 3D, but received input shape ${JSON.stringify(e)}`);this.inputSpec=[{shape:e}];const t=[e[0]].concat(e.slice(2));this.layer.built||(this.layer.build(t),this.layer.built=!0),super.build(e)}computeOutputShape(e){const t=[(e=Ote(e))[0]].concat(e.slice(2)),n=this.layer.computeOutputShape(t),r=e[1];return[n[0],r].concat(n.slice(1))}call(e,t){return E1(()=>yae((e,n)=>[Ite(this.layer.call(e,t)),[]],e=Ite(e),[],!1,null,0,!1,!0)[1])}}kie.className="TimeDistributed",q3(kie);class Sie extends wie{constructor(e){super(e);const t=e.layer.getConfig(),n={};n.className=e.layer.getClassName(),n.config=t,this.forwardLayer=wne(n),t.goBackwards=!0!==t.goBackwards;const r={};var a;if(r.className=e.layer.getClassName(),r.config=t,this.backwardLayer=wne(r),this.forwardLayer.name="forward_"+this.forwardLayer.name,this.backwardLayer.name="backward_"+this.backwardLayer.name,this.mergeMode=void 0===e.mergeMode?"concat":e.mergeMode,a=this.mergeMode,fee(Cee,"BidirectionalMergeMode",a),e.weights)throw new Y7("weights support is not implemented for Bidirectional layer yet.");this._stateful=e.layer.stateful,this.returnSequences=e.layer.returnSequences,this.returnState=e.layer.returnState,this.supportsMasking=!0,this._trainable=!0,this.inputSpec=e.layer.inputSpec,this.numConstants=null}get trainable(){return this._trainable}set trainable(e){this._trainable=e,null!=this.forwardLayer&&(this.forwardLayer.trainable=e),null!=this.backwardLayer&&(this.backwardLayer.trainable=e)}getWeights(){return this.forwardLayer.getWeights().concat(this.backwardLayer.getWeights())}setWeights(e){const t=e.length,n=Math.floor(t/2);this.forwardLayer.setWeights(e.slice(0,n)),this.backwardLayer.setWeights(e.slice(n))}computeOutputShape(e){let t,n,r,a=this.forwardLayer.computeOutputShape(e);return Array.isArray(a)&&Array.isArray(a[0])||(a=[a]),this.returnState?(r=a.slice(1),t=a[0]):t=a[0],"concat"===this.mergeMode?(t[t.length-1]*=2,n=[t]):n=null==this.mergeMode?[t,t.slice()]:[t],this.returnState?null==this.mergeMode?n.concat(r).concat(r.slice()):[t].concat(r).concat(r.slice()):ree(n)}apply(e,t){let n=null==t?null:t.initialState,r=null==t?null:t.constants;null==t&&(t={});const a=gae(e,n,r,this.numConstants);if(e=a.inputs,n=a.initialState,r=a.constants,Array.isArray(e)&&(n=e.slice(1),e=e[0]),(null==n||0===n.length)&&null==r)return super.apply(e,t);const i=[],s=[];if(null!=n){const e=n.length;if(e%2>0)throw new X7("When passing `initialState` to a Bidrectional RNN, the state should be an Array containing the states of the underlying RNNs.");t.initialState=n,i.push(...n);const r=n.map(e=>new Fte({shape:e.shape}));this.forwardLayer.stateSpec=r.slice(0,e/2),this.backwardLayer.stateSpec=r.slice(e/2),s.push(...r)}if(null!=r)throw new Y7("Support for constants in Bidirectional layers is not implemented yet.");const o=i[0]instanceof Dte;for(const l of i)if(l instanceof Dte!==o)throw new X7("The initial state of a Bidirectional layer cannot be specified as a mix of symbolic and non-symbolic tensors");if(o){const n=[e].concat(i),r=this.inputSpec.concat(s),a=this.inputSpec;this.inputSpec=r;const o=super.apply(n,t);return this.inputSpec=a,o}return super.apply(e,t)}call(e,t){return E1(()=>{const n=t.initialState;let r,a,i,s;if(null==n)r=this.forwardLayer.call(e,t),a=this.backwardLayer.call(e,t);else{const i=n.slice(0,n.length/2),s=n.slice(n.length/2);r=this.forwardLayer.call(e,Object.assign(t,{initialState:i})),a=this.backwardLayer.call(e,Object.assign(t,{initialState:s}))}return this.returnState&&(Array.isArray(r)&&(i=r.slice(1).concat(a.slice(1))),r=r[0],a=a[0]),this.returnSequences&&(a=j6(a,1)),"concat"===this.mergeMode?s=Xee([r,a]):"sum"===this.mergeMode?s=m2(r,a):"ave"===this.mergeMode?s=x2(.5,m2(r,a)):"mul"===this.mergeMode?s=x2(r,a):null==this.mergeMode&&(s=[r,a]),this.returnState?null==this.mergeMode?s.concat(i):[s].concat(i):s})}resetStates(e){this.forwardLayer.resetStates(),this.backwardLayer.resetStates()}build(e){Pee(this.forwardLayer.name,()=>{this.forwardLayer.build(e)}),Pee(this.backwardLayer.name,()=>{this.backwardLayer.build(e)}),this.built=!0}computeMask(e,t){let n;if(Array.isArray(t)&&(t=t[0]),n=this.returnSequences?null==this.mergeMode?[t,t]:t:null==this.mergeMode?[null,null]:null,this.returnState){const e=this.forwardLayer.states.map(e=>null);return Array.isArray(n)?n.concat(e).concat(e):[n].concat(e).concat(e)}return n}get trainableWeights(){return this.forwardLayer.trainableWeights.concat(this.backwardLayer.trainableWeights)}get nonTrainableWeights(){return this.forwardLayer.nonTrainableWeights.concat(this.backwardLayer.nonTrainableWeights)}setFastWeightInitDuringBuild(e){super.setFastWeightInitDuringBuild(e),null!=this.forwardLayer&&this.forwardLayer.setFastWeightInitDuringBuild(e),null!=this.backwardLayer&&this.backwardLayer.setFastWeightInitDuringBuild(e)}getConfig(){const e={mergeMode:this.mergeMode},t=super.getConfig();return Object.assign(e,t),e}static fromConfig(e,t){const n=wne(t.layer);if(delete t.layer,null!=t.numConstants)throw new Y7("Deserialization of a Bidirectional layer with numConstants present is not supported yet.");const r=t;return r.layer=n,new e(r)}}Sie.className="Bidirectional",q3(Sie);class Nie extends Hte{constructor(e){super(e),this.scale=e.scale,e.offset?this.offset=e.offset:this.offset=0}getConfig(){const e={scale:this.scale,offset:this.offset},t=super.getConfig();return Object.assign(e,t),e}call(e,t){return E1(()=>("float32"!==(e=Ite(e)).dtype&&(e=Wee(e,"float32")),m2(x2(e,this.scale),this.offset)))}}Nie.className="Rescaling",q3(Nie);const{resizeBilinear:Eie,cropAndResize:Aie}=H3;class Cie extends Hte{constructor(e){super(e),this.height=e.height,this.width=e.width}centerCrop(e,t,n,r,a,i,s,o){return E1(()=>{let l,c=!1;const u=[t/i,n/s,(r+t)/i,(a+n)/s],h=[];3===e.rank?(c=!0,l=K6([e])):l=e;for(let e=0;e<l.shape[0];e++)h.push(u);const d=v1(h,[h.length,4]),p=S6(0,h.length,1,"int32"),f=Aie(l,d,p,[r,a],"nearest");return Wee(c?Ite(s3(f)):f,o)})}upsize(e,t,n,r){return E1(()=>Wee(Eie(e,[t,n]),r))}call(e,t){return E1(()=>{const t=Ite(e),n=t.dtype,r=t.shape,a=r[r.length-3],i=r[r.length-2];let s=0;a!==this.height&&(s=Math.floor((a-this.height)/2));let o=0;return i!==this.width&&(o=Math.floor((i-this.width)/2),0===o&&(o=1)),s>=0&&o>=0?this.centerCrop(t,s,o,this.height,this.width,a,i,n):this.upsize(e,this.height,this.width,n)})}getConfig(){const e={height:this.height,width:this.width},t=super.getConfig();return Object.assign(e,t),e}computeOutputShape(e){const t=(e=Ote(e)).length-3,n=e.length-2;return e[t]=this.height,e[n]=this.width,e}}Cie.className="CenterCrop",q3(Cie);class jie extends Hte{constructor(e){super(e),this.numTokens=e.numTokens,e.outputMode?this.outputMode=e.outputMode:this.outputMode="multiHot"}getConfig(){const e={numTokens:this.numTokens,outputMode:this.outputMode},t=super.getConfig();return Object.assign(e,t),e}computeOutputShape(e){return null==(e=Ote(e))?[this.numTokens]:"oneHot"===this.outputMode&&1!==e[e.length-1]?(e.push(this.numTokens),e):(e[e.length-1]=this.numTokens,e)}call(e,t){return E1(()=>{let n;if("int32"!==(e=Ite(e)).dtype&&(e=Wee(e,"int32")),void 0!==t.countWeights){if("count"!==this.outputMode)throw new X7(`countWeights is not used when outputMode !== count.\n              Received countWeights=${t.countWeights}`);n=Ite(t.countWeights)}const r=K4(e),a=q4(e),i=h8(this.numTokens,r).bufferSync().get(0),s=d8(a,0).bufferSync().get(0);if(!i||!s)throw new X7(`Input values must be between 0 < values <= numTokens with numTokens=${this.numTokens}`);return function(e,t,n,r){let a=Ite(e);if("int32"!==a.dtype&&(a=Wee(a,"int32")),"int"===t)return a;const i=a.shape;if(0===a.rank&&(a=i8(a,-1)),"oneHot"===t&&1!==a.shape[a.shape.length-1]&&(a=i8(a,-1)),a.rank>2)throw new X7(`When outputMode is not int, maximum output rank is 2 Received outputMode ${t} and input shape ${i} which would result in output rank ${a.rank}.`);const s=["multiHot","oneHot"].includes(t);let o;if(o=E4(a,void 0!==r&&"count"===t?r:[],n,s),"tfIdf"!==t)return o;if(r)return x2(o,r);throw new X7("When outputMode is 'tfIdf', weights must be provided.")}(e,this.outputMode,this.numTokens,n)})}}jie.className="CategoryEncoding",q3(jie);const Mie=new Set(["bilinear","nearest"]);class Tie extends Hte{constructor(e){if(super(e),this.height=e.height,this.width=e.width,e.interpolation){if(!Mie.has(e.interpolation))throw new X7(`Invalid interpolation parameter: ${e.interpolation} is not implemented`);this.interpolation=e.interpolation}else this.interpolation="bilinear";this.cropToAspectRatio=Boolean(e.cropToAspectRatio)}computeOutputShape(e){const t=(e=Ote(e))[2];return[this.height,this.width,t]}getConfig(){const e={height:this.height,width:this.width,interpolation:this.interpolation,cropToAspectRatio:this.cropToAspectRatio},t=super.getConfig();return Object.assign(e,t),e}call(e,t){return E1(()=>{const t=[this.height,this.width];if("bilinear"===this.interpolation)return H3.resizeBilinear(e,t,!this.cropToAspectRatio);if("nearest"===this.interpolation)return H3.resizeNearestNeighbor(e,t,!this.cropToAspectRatio);throw new Error(`Interpolation is ${this.interpolation} but only ${[...Mie]} are supported`)})}}Tie.className="Resizing",q3(Tie);class Iie{constructor(e){this.seed=e}next(){if(void 0!==this.seed)return this.seed++}}Iie.className="RandomSeed";class Oie extends Hte{constructor(e){super(e),this.randomGenerator=new Iie(e.seed)}getConfig(){const e={seed:this.randomGenerator.seed},t=super.getConfig();return Object.assign(e,t),e}}Oie.className="BaseRandomLayer";const Pie=new Set(["bilinear","nearest"]);class Rie extends Oie{constructor(e){super(e);const{factor:t,interpolation:n="bilinear"}=e;if(this.factor=t,Array.isArray(this.factor)&&2===this.factor.length)this.widthLower=this.factor[0],this.widthUpper=this.factor[1];else{if(Array.isArray(this.factor)||!(this.factor>0))throw new X7(`Invalid factor: ${this.factor}. Must be positive number or tuple of 2 numbers`);this.widthLower=-this.factor,this.widthUpper=this.factor}if(this.widthLower<-1||this.widthUpper<-1)throw new X7(`factor must have values larger than -1. Got: ${this.factor}`);if(this.widthUpper<this.widthLower)throw new X7(`factor cannot have upper bound less than lower bound.\n        Got upper bound: ${this.widthUpper}.\n        Got lower bound: ${this.widthLower}\n      `);if(n){if(!Pie.has(n))throw new X7(`Invalid interpolation parameter: ${n} is not implemented`);this.interpolation=n}}getConfig(){const e={factor:this.factor,interpolation:this.interpolation},t=super.getConfig();return Object.assign(e,t),e}computeOutputShape(e){const t=(e=Ote(e))[2];return[this.imgHeight,-1,t]}call(e,t){return E1(()=>{const t=Ite(e);this.imgHeight=t.shape[t.shape.length-3];const n=t.shape[t.shape.length-2];this.widthFactor=k6([1],1+this.widthLower,1+this.widthUpper,"float32",this.randomGenerator.next());let r=this.widthFactor.dataSync()[0]*n;r=Math.round(r);const a=[this.imgHeight,r];switch(this.interpolation){case"bilinear":return H3.resizeBilinear(e,a);case"nearest":return H3.resizeNearestNeighbor(e,a);default:throw new Error(`Interpolation is ${this.interpolation}\n          but only ${[...Pie]} are supported`)}})}}Rie.className="RandomWidth",q3(Rie);var _ie,Lie,$ie,Fie,Die,zie,Vie;function Bie(e,t){Array.isArray(e)||(e=[e]),e.forEach(e=>{null!=e&&Yq("complex64"!==e.dtype,()=>`${t} does not support complex64 tensors in the CPU backend.`)})}IX().registerFlag("KEEP_INTERMEDIATE_TENSORS",()=>!1,e=>{e&&console.warn("Keep intermediate tensors is ON. This will print the values of all intermediate tensors during model inference. Not all models support this mode. For details, check e2e/benchmarks/ model_config.js. This significantly impacts performance.")}),(Lie=_ie||(_ie={}))[Lie.DT_INVALID=0]="DT_INVALID",Lie[Lie.DT_FLOAT=1]="DT_FLOAT",Lie[Lie.DT_DOUBLE=2]="DT_DOUBLE",Lie[Lie.DT_INT32=3]="DT_INT32",Lie[Lie.DT_UINT8=4]="DT_UINT8",Lie[Lie.DT_INT16=5]="DT_INT16",Lie[Lie.DT_INT8=6]="DT_INT8",Lie[Lie.DT_STRING=7]="DT_STRING",Lie[Lie.DT_COMPLEX64=8]="DT_COMPLEX64",Lie[Lie.DT_INT64=9]="DT_INT64",Lie[Lie.DT_BOOL=10]="DT_BOOL",Lie[Lie.DT_QINT8=11]="DT_QINT8",Lie[Lie.DT_QUINT8=12]="DT_QUINT8",Lie[Lie.DT_QINT32=13]="DT_QINT32",Lie[Lie.DT_BFLOAT16=14]="DT_BFLOAT16",Lie[Lie.DT_QINT16=15]="DT_QINT16",Lie[Lie.DT_QUINT16=16]="DT_QUINT16",Lie[Lie.DT_UINT16=17]="DT_UINT16",Lie[Lie.DT_COMPLEX128=18]="DT_COMPLEX128",Lie[Lie.DT_HALF=19]="DT_HALF",Lie[Lie.DT_RESOURCE=20]="DT_RESOURCE",Lie[Lie.DT_VARIANT=21]="DT_VARIANT",Lie[Lie.DT_UINT32=22]="DT_UINT32",Lie[Lie.DT_UINT64=23]="DT_UINT64",Lie[Lie.DT_FLOAT_REF=101]="DT_FLOAT_REF",Lie[Lie.DT_DOUBLE_REF=102]="DT_DOUBLE_REF",Lie[Lie.DT_INT32_REF=103]="DT_INT32_REF",Lie[Lie.DT_UINT8_REF=104]="DT_UINT8_REF",Lie[Lie.DT_INT16_REF=105]="DT_INT16_REF",Lie[Lie.DT_INT8_REF=106]="DT_INT8_REF",Lie[Lie.DT_STRING_REF=107]="DT_STRING_REF",Lie[Lie.DT_COMPLEX64_REF=108]="DT_COMPLEX64_REF",Lie[Lie.DT_INT64_REF=109]="DT_INT64_REF",Lie[Lie.DT_BOOL_REF=110]="DT_BOOL_REF",Lie[Lie.DT_QINT8_REF=111]="DT_QINT8_REF",Lie[Lie.DT_QUINT8_REF=112]="DT_QUINT8_REF",Lie[Lie.DT_QINT32_REF=113]="DT_QINT32_REF",Lie[Lie.DT_BFLOAT16_REF=114]="DT_BFLOAT16_REF",Lie[Lie.DT_QINT16_REF=115]="DT_QINT16_REF",Lie[Lie.DT_QUINT16_REF=116]="DT_QUINT16_REF",Lie[Lie.DT_UINT16_REF=117]="DT_UINT16_REF",Lie[Lie.DT_COMPLEX128_REF=118]="DT_COMPLEX128_REF",Lie[Lie.DT_HALF_REF=119]="DT_HALF_REF",Lie[Lie.DT_RESOURCE_REF=120]="DT_RESOURCE_REF",Lie[Lie.DT_VARIANT_REF=121]="DT_VARIANT_REF",Lie[Lie.DT_UINT32_REF=122]="DT_UINT32_REF",Lie[Lie.DT_UINT64_REF=123]="DT_UINT64_REF",Fie=$ie||($ie={}),(Die=Fie.CheckpointFormatVersion||(Fie.CheckpointFormatVersion={}))[Die.LEGACY=0]="LEGACY",Die[Die.V1=1]="V1",Die[Die.V2=2]="V2",(Vie=zie||(zie={}))[Vie.FAIL=0]="FAIL",Vie[Vie.SHORTEST=1]="SHORTEST",Vie[Vie.LONGEST=2]="LONGEST";const Hie=o3;class Uie extends Wq{nextDataId(){return Uie.nextDataId++}constructor(){super(),this.blockSize=48,this.firstUse=!0,this.data=new Uq(this,S1())}write(e,t,n){this.firstUse&&(this.firstUse=!1,IX().get("IS_NODE")&&WJ("\n============================\nHi, looks like you are running TensorFlow.js in Node.js. To speed things up dramatically, install our node backend, visit https://github.com/tensorflow/tfjs-node for more details. \n============================"));const r={id:this.nextDataId()};return this.data.set(r,{values:e,dtype:n,refCount:1}),r}makeTensorInfo(e,t,n){let r;if("string"===t&&null!=n&&n.length>0&&pX(n[0])){const a=n.map(e=>w0(e));r=this.write(a,e,t)}else r=this.write(n,e,t);return{dataId:r,shape:e,dtype:t}}refCount(e){if(this.data.has(e)){return this.data.get(e).refCount}return 0}incRef(e){this.data.get(e).refCount++}decRef(e){if(this.data.has(e)){this.data.get(e).refCount--}}move(e,t,n,r,a){this.data.set(e,{values:t,dtype:r,refCount:a})}numDataIds(){return this.data.numDataIds()}async read(e){return this.readSync(e)}readSync(e){const{dtype:t,complexTensorInfos:n}=this.data.get(e);if("complex64"===t){return J5(this.readSync(n.real.dataId),this.readSync(n.imag.dataId))}return function(e,t){if(Array.isArray(e))return e;if("float32"===t)return e instanceof Float32Array?e:new Float32Array(e);if("int32"===t)return e instanceof Int32Array?e:new Int32Array(e);if("bool"===t||"string"===t)return Uint8Array.from(new Int32Array(e));throw new Error(`Unknown dtype ${t}`)}(this.data.get(e).values,t)}bufferSync(e){const t=this.readSync(e.dataId);if("string"===e.dtype)try{const n=t.map(e=>k0(e));return d2(e.shape,e.dtype,n)}catch(n){throw new Error("Failed to decode encoded string bytes into utf-8")}return d2(e.shape,e.dtype,t)}makeOutput(e,t,n){return S1().makeTensorFromTensorInfo(this.makeTensorInfo(t,n,e),this)}disposeData(e,t=!1){if(this.data.has(e)){if(this.data.get(e).refCount--,!t&&this.data.get(e).refCount>0)return!1;const{complexTensorInfos:n}=this.data.get(e);null!=n&&(this.disposeData(n.real.dataId,!0),this.disposeData(n.imag.dataId,!0)),this.data.delete(e)}return!0}disposeIntermediateTensorInfo(e){this.disposeData(e.dataId)}async time(e){const t=v0();e();return{kernelMs:v0()-t}}memory(){return{unreliable:!0,reasons:["The reported memory is an upper bound. Due to automatic garbage collection, the true allocated memory may be less."]}}where(e){Bie([e],"where");const t=this.readSync(e.dataId);return Hie(e.shape,t)}dispose(){}floatPrecision(){return 32}epsilon(){return super.epsilon()}}function Wie(e){const t=new Float32Array(e.length);for(let n=0;n<e.length;++n)t[n]=Math.abs(e[n]);return t}Uie.nextDataId=0;const Zie={kernelName:LX,backendName:"cpu",kernelFunc:e=>{const{x:t}=e.inputs,n=e.backend;Bie(t,"abs");let r=new Float32Array(eX(t.shape));return r=Wie(n.data.get(t.dataId).values),n.makeOutput(r,t.shape,t.dtype)}};function Gie(e){return(t,n,r,a,i)=>{const s=I4(t,n),o=s.length,l=xX(s),c=cX(i,eX(s)),u=t.length,h=n.length,d=xX(t),p=xX(n),f=M4(t,s),m=M4(n,s);if(f.length+m.length===0)for(let g=0;g<c.length;++g)c[g]=e(r[g%r.length],a[g%a.length]);else for(let g=0;g<c.length;++g){const t=AX(g,o,l),n=t.slice(-u);f.forEach(e=>n[e]=0);const i=EX(n,u,d),s=t.slice(-h);m.forEach(e=>s[e]=0);const y=EX(s,h,p);c[g]=e(r[i],a[y])}return[c,s]}}function Kie(e){const{inputs:t,backend:n}=e,{real:r,imag:a}=t,i=n.data.get(r.dataId).values,s=n.data.get(a.dataId).values,o=n.makeTensorInfo(r.shape,"complex64");return n.data.get(o.dataId).complexTensorInfos={real:n.makeTensorInfo(r.shape,"float32",i),imag:n.makeTensorInfo(a.shape,"float32",s)},o}const qie={kernelName:lY,backendName:"cpu",kernelFunc:Kie};function Xie(e,t,n="float32"){if("complex64"===n){return Kie({inputs:{real:Xie(e,t,"float32"),imag:Xie(e,t,"float32")},backend:e})}const r=kX(eX(t),n);return e.makeTensorInfo(t,n,r)}function Yie(e){const{inputs:t,backend:n}=e,{x:r}=t;return n.incRef(r.dataId),{dataId:r.dataId,shape:r.shape,dtype:r.dtype}}const Qie={kernelName:XY,backendName:"cpu",kernelFunc:Yie};function Jie(e){const{inputs:t,backend:n}=e,{input:r}=t,a=n.data.get(r.dataId).complexTensorInfos.real,i=n.data.get(a.dataId).values;return n.makeTensorInfo(a.shape,a.dtype,i)}const ese={kernelName:HQ,backendName:"cpu",kernelFunc:Jie};function tse(e,t,n,r){if("int32"===r){return[t,"int32",Int32Array.from(e)]}if("bool"===r){const r=b0([0],n),[a,i]=Gie((e,t)=>e!==t?1:0)(t,[],e,r,"bool");return[i,"bool",a]}throw new Error(`Error in Cast: failed to cast ${n} to ${r}`)}function nse(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{dtype:i}=r;if("complex64"===i){if("complex64"===a.dtype)return Yie({inputs:{x:a},backend:n});const e=Xie(n,a.shape,a.dtype),t=nse({inputs:{x:a},backend:n,attrs:{dtype:"float32"}}),r=Kie({inputs:{real:t,imag:e},backend:n});return n.disposeIntermediateTensorInfo(e),n.disposeIntermediateTensorInfo(t),r}if("complex64"===a.dtype){const e=Jie({inputs:{input:a},backend:n}),t=nse({inputs:{x:e},backend:n,attrs:{dtype:i}});return n.disposeIntermediateTensorInfo(e),t}if(!hX(a.dtype,i)){const e=Yie({inputs:{x:a},backend:n});return{dataId:e.dataId,shape:e.shape,dtype:i}}const s=n.data.get(a.dataId).values,[o,l,c]=tse(s,a.shape,a.dtype,i);return n.makeTensorInfo(o,l,c)}const rse={kernelName:iY,backendName:"cpu",kernelFunc:nse};function ase(e,t,n,r){return null==n?({inputs:n,backend:a})=>{const{a:i,b:s}=n,o=a;Bie([i,s],e);const l=o.data.get(i.dataId).values,c=o.data.get(s.dataId).values,u="string"===i.dtype?O9(l):l,h="string"===i.dtype?O9(c):c,d=r||i.dtype,[p,f]=t(i.shape,s.shape,u,h,d);return o.makeTensorInfo(f,d,p)}:({inputs:e,backend:a})=>{const{a:i,b:s}=e,o=a;if("complex64"===i.dtype||"complex64"===s.dtype){const e=nse({inputs:{x:i},backend:o,attrs:{dtype:"complex64"}}),t=o.data.get(e.dataId),r=t.complexTensorInfos.real,a=t.complexTensorInfos.imag,l=o.data.get(r.dataId).values,c=o.data.get(a.dataId).values,u=nse({inputs:{x:s},backend:o,attrs:{dtype:"complex64"}}),h=o.data.get(u.dataId),d=h.complexTensorInfos.real,p=h.complexTensorInfos.imag,f=o.data.get(d.dataId).values,m=o.data.get(p.dataId).values,[g,y,x]=n(i.shape,s.shape,l,c,f,m),b=o.makeTensorInfo(x,"float32",g),v=o.makeTensorInfo(x,"float32",y),w=Kie({inputs:{real:b,imag:v},backend:o});return o.disposeIntermediateTensorInfo(e),o.disposeIntermediateTensorInfo(u),o.disposeIntermediateTensorInfo(b),o.disposeIntermediateTensorInfo(v),w}{const e=o.data.get(i.dataId).values,n=o.data.get(s.dataId).values,a=r||i.dtype,[l,c]=t(i.shape,s.shape,e,n,a);return o.makeTensorInfo(c,a,l)}}}function ise(e){return(t,n,r,a,i,s)=>{const o=I4(t,n),l=eX(o),c=o.length,u=xX(o),h=cX("float32",l),d=cX("float32",l),p=M4(t,o),f=M4(n,o),m=J5(r,a),g=J5(i,s),y=t.length,x=xX(t),b=n.length,v=xX(n);if(p.length+f.length===0)for(let w=0;w<h.length;w++){const t=w%m.length,n=w%g.length,r=e(m[2*t],m[2*t+1],g[2*n],g[2*n+1]);h[w]=r.real,d[w]=r.imag}else for(let w=0;w<h.length;w++){const t=AX(w,c,u),n=t.slice(-y);p.forEach(e=>n[e]=0);const r=EX(n,y,x),a=t.slice(-b);f.forEach(e=>a[e]=0);const i=EX(a,b,v),s=e(m[2*r],m[2*r+1],g[2*i],g[2*i+1]);h[w]=s.real,d[w]=s.imag}return[h,d,o]}}const sse=Gie((e,t)=>e+t),ose=ise((e,t,n,r)=>({real:e+n,imag:t+r})),lse=ase(DX,sse,ose),cse={kernelName:DX,backendName:"cpu",kernelFunc:lse};function use(e,t,n,r,a){const i=eX(r),s=kX(a,n);for(let o=0;o<e.length;o++){const n=e[o];if(n<0)throw new Error("Input x must be non-negative!");n>=a||(s[n]+=i>0?t[o]:1)}return s}function hse(e,t,n,r=!1){const a=e.shape[0],i=e.shape[1],s=d2([a,n],t.dtype);for(let o=0;o<a;o++)for(let a=0;a<i;a++){const i=e.get(o,a);if(i<0)throw new Error("Input x must be non-negative!");i>=n||(r?s.set(1,o,i):t.size>0?s.set(s.get(o,i)+t.get(o,a),o,i):s.set(s.get(o,i)+1,o,i))}return s}const dse=Gie((e,t)=>e&t),pse={kernelName:rY,backendName:"cpu",kernelFunc:ase(rY,dse)};function fse(e){return(t,n,r)=>{const a=uX(n,t.length);for(let i=0;i<t.length;++i)a[i]=e(t[i],r);return a}}function mse(e,t,n){return gse(e,fse(t),n)}function gse(e,t,n){return({inputs:r,attrs:a,backend:i})=>{const{x:s}=r;Bie(s,e);const o=i,l=o.data.get(s.dataId).values;let c;if("string"===s.dtype){if(!Array.isArray(l))throw new Error("String tensor's value was not an instance of Array");c=O9(l)}else c=l;const u=n||s.dtype,h=t(c,u,a);return o.makeTensorInfo(s.shape,u,h)}}const yse=fse(e=>Math.ceil(e)),xse=gse(sY,yse),bse={kernelName:sY,backendName:"cpu",kernelFunc:xse};function vse(e,t,n,r){const a=uX(n,eX(t));if(r&&"string"!==n){let t=0;e.forEach(e=>{const n=eX(e.shape);a.set(e.vals,t),t+=n})}else{let r=0;e.forEach(e=>{const i="string"===n?O9(e.vals):e.vals;let s=0;for(let n=0;n<e.shape[0];++n){const o=n*t[1]+r;for(let t=0;t<e.shape[1];++t)a[o+t]=i[s++]}r+=e.shape[1]})}return a}const wse=Gie((e,t)=>e===t?1:0),kse=ase(LY,wse,null,"bool"),Sse={kernelName:LY,backendName:"cpu",kernelFunc:kse},Nse=fse(e=>Math.exp(e)),Ese=gse($Y,Nse,"float32"),Ase={kernelName:$Y,backendName:"cpu",kernelFunc:Ese},Cse=fse(e=>Math.expm1(e)),jse=gse(DY,Cse),Mse={kernelName:DY,backendName:"cpu",kernelFunc:jse},Tse=fse(e=>Math.floor(e)),Ise=gse(HY,Tse),Ose={kernelName:HY,backendName:"cpu",kernelFunc:Ise},Pse=Gie((e,t)=>Math.floor(e/t)),Rse=ase(UY,Pse,null,"int32"),_se={kernelName:UY,backendName:"cpu",kernelFunc:Rse};function Lse(e,t,n,r,a,i,s,o,l){const c=d2([r,i],n);for(let u=0;u<r;u++){const n=[];let r=0;for(let t=0;t<a;t++){const i=e[u*a+t];r+=i*s[t],n.push(i)}if(r<0||r>=l/i)throw new Error(`Invalid indices: ${n} does not index into ${o}`);for(let e=0;e<i;e++)c.values[u*i+e]=t.get(...t.indexToLoc(r*i+e))}return c}function $se(e,t,n){const r=d2(n,e.dtype);for(let a=0;a<r.size;++a){const n=r.indexToLoc(a).slice(),i=n[0],s=n[2],o=t.locToIndex([i,s]);n[2]=t.values[o];const l=e.locToIndex(n);0<=l&&l<e.values.length&&(r.values[a]=e.values[l])}return r}const Fse=Gie((e,t)=>e>t?1:0),Dse=ase(KY,Fse,null,"bool"),zse={kernelName:KY,backendName:"cpu",kernelFunc:Dse},Vse=Gie((e,t)=>e>=t?1:0),Bse=ase(qY,Vse,null,"bool"),Hse={kernelName:qY,backendName:"cpu",kernelFunc:Bse},Use=Gie((e,t)=>e<t?1:0),Wse=ase(rQ,Use,null,"bool"),Zse={kernelName:rQ,backendName:"cpu",kernelFunc:Wse},Gse=Gie((e,t)=>e<=t?1:0),Kse=ase(aQ,Gse,null,"bool"),qse={kernelName:aQ,backendName:"cpu",kernelFunc:Kse};function Xse(e,t,n){const r=(t-e)/(n-1),a=kX(n,"float32");a[0]=e;for(let i=1;i<a.length;i++)a[i]=a[i-1]+r;return a}const Yse=fse(e=>Math.log(e)),Qse=gse(sQ,Yse),Jse={kernelName:sQ,backendName:"cpu",kernelFunc:Qse};function eoe(e,t,n,r){const a=cX(r,eX(n));for(let i=0;i<a.length;++i){const n=i*t;let r=e[n];for(let a=0;a<t;++a){const t=e[n+a];(Number.isNaN(t)||t>r)&&(r=t)}a[i]=r}return a}const toe=Gie((e,t)=>Math.max(e,t)),noe=ase(fQ,toe),roe={kernelName:fQ,backendName:"cpu",kernelFunc:noe},aoe=Gie((e,t)=>Math.min(e,t)),ioe=ase(kQ,aoe),soe={kernelName:kQ,backendName:"cpu",kernelFunc:ioe},ooe=Gie((e,t)=>e*t),loe=ise((e,t,n,r)=>({real:e*n-t*r,imag:e*r+t*n})),coe=ase(AQ,ooe,loe),uoe={kernelName:AQ,backendName:"cpu",kernelFunc:coe};function hoe(e,t,n){const r=x0(-1,n);return ooe([],t,r,e,n)}const doe={kernelName:CQ,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{x:r}=t;Bie(r,"neg");const a=n.data.get(r.dataId).values,[i,s]=hoe(a,r.shape,r.dtype);return n.makeTensorInfo(s,r.dtype,i)}},poe=Gie((e,t)=>e!==t?1:0),foe=ase(jQ,poe,null,"bool"),moe={kernelName:jQ,backendName:"cpu",kernelFunc:foe};function goe(e,t,n,r,a){const i=t.length,s=eX(t),o=xX(t),l=xX(a),c=cX(n,eX(a));for(let u=0;u<s;++u){const t=AX(u,i,o),n=new Array(t.length);for(let e=0;e<n.length;e++)n[e]=t[r[e]];c[EX(n,i,l)]=e[u]}return c}function yoe(e){const{inputs:t,attrs:n,backend:r}=e,{x:a}=t,{perm:i}=n;Bie(a,"transpose");const s=a.shape.length,o=new Array(s);for(let c=0;c<o.length;c++)o[c]=a.shape[i[c]];const l=goe(r.data.get(a.dataId).values,a.shape,a.dtype,i,o);return{dataId:r.write(l,o,a.dtype),shape:o,dtype:a.dtype}}const xoe={kernelName:_J,backendName:"cpu",kernelFunc:yoe};function boe(e,t,n,r){const[a,i]=B4(e,r),s=X0(t,"int32"),o=kX(eX(a),s),l=eX(i);for(let c=0;c<o.length;++c){const e=c*l;let t=1;for(let r=0;r<l;++r)t*=n[e+r];o[c]=t}return{outVals:o,outShape:a,outDtype:s}}const voe={kernelName:FQ,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{axis:i,keepDims:s}=r;Bie(a,"prod");const o=a.shape.length,l=oX(i,a.shape),c=W4(l,o);let u=l,h=a;const d=[];null!=c&&(h=yoe({inputs:{x:a},backend:n,attrs:{perm:c}}),d.push(h),u=G4(u.length,o));const p=n.data.get(h.dataId).values,{outVals:f,outShape:m,outDtype:g}=boe(h.shape,h.dtype,p,u);let y=m;return s&&(y=H4(m,l)),d.forEach(e=>n.disposeIntermediateTensorInfo(e)),n.makeTensorInfo(y,g,f)}};function woe(e,t,n,r){const a=[];let i=0;const s=t.length-1+n.length,o=new Array(s).fill(null).map(()=>[0]);!function(e,t){for(let n=0;n<e.length;++n){const r=e[n],a=n===e.length-1?t:e[n+1].length;if(0===r.length)throw new Error("Ragged splits may not be empty");if(r[0]<0)throw new Error("Ragged splits must be non-negative");if(r[r.length-1]>a)throw new Error("Ragged splits must not point past values");for(let e=1;e<r.length;++e)if(r[e-1]>r[e])throw new Error("Ragged splits must be sorted in ascending order")}}(n,r);let l=1;for(let c=0;c<t.length-1;++c){l*=t[c];const e=t[c+1];for(let t=1;t<l+1;++t)o[c].push(t*e)}for(let c=0;c<e.length;++c){let r=e[c],s=e[c]+1;for(let e=0;e<n.length;++e){const a=n[e],i=e+t.length-1;if(i>=0){const e=o[i],t=e[e.length-1]-a[r];for(let n=r;n<s;++n)o[i].push(a[n+1]+t)}r=a[r],s=a[s]}s!==r&&(a.push([r,s]),i+=s-r)}return{outSplits:o,valueSlices:a,numValues:i}}function koe(e,t){const n=e.slice(0,t);for(;n.length<t;)n.push(1);for(let r=t;r<e.length;r++)n[t-1]*=e[r];return n}function Soe(e,t,n,r,a){const i=t.slice();i[0]=a;const s=uX(n,eX(i)),o=e.length;return function(e,t,n,r,a,i){const s=koe(t,2)[1],o=koe(i,2)[1];let l=0;for(const c of n)for(let t=c[0];t<c[1];++t){for(let n=0;n<r;++n)a[l*o+n]=e[t*s+n];++l}}(e,t,r,0===o?0:o/t[0],s,i),[s,i]}function Noe(e,t,n,r,a,i,s,o){if(0===e.length)throw new Error("paramsNestedSplits must be non empty");if(0===t[0].length)throw new Error("Split tensors must not be scalars");if(function(e,t,n){e.forEach((e,r)=>{if(e<0||e>=n){const a=AX(r,t.length,xX(t)).join(",");throw new Error(`indices[${a}] = ${e} is not in [0, ${n})`)}})}(i,s,t[0][0]-1),0===r.length)throw new Error("params.rank must be nonzero");const l=r[0],{outSplits:c,valueSlices:u,numValues:h}=woe(i,s,e,l),d=function(e){const t=[];for(let n=0;n<e.length;++n){const r=uX("int32",e[n].length);t.push(r),e[n].forEach((e,t)=>r[t]=e)}return t}(c),p=Soe(n,r,a,u,h);return[d,p[0],p[1]]}const Eoe=2147483647;function Aoe(e,t,n,r,a,i,s){if(t.length>1)throw new Error("starts must be a scalar or vector");if(a.length>1)throw new Error("limits must be a scalar or vector");if(s.length>1)throw new Error("deltas must be a scalar or vector");const o=0===t.length,l=0===a.length,c=0===s.length,u=[];o||u.push(t[0]),l||u.push(a[0]),c||u.push(s[0]);for(let m=1;m<u.length;++m)if(u[m]!==u[m-1])throw new Error("starts, limits, and deltas must have the same shape");const h=0===u.length?1:u[0],d=uX("int32",h+1);d[0]=0;for(let m=0;m<h;++m){const t=o?e[0]:e[m],n=l?r[0]:r[m],a=c?i[0]:i[m];if(0===a)throw new Error("Requires delta != 0");let s;if(a>0&&n<t||a<0&&n>t)s=0;else if(s=Math.ceil(Math.abs((n-t)/a)),s>Eoe)throw new Error("Requires ((limit - start) / delta) <= 2147483647");d[m+1]=d[m]+s}const p=uX(n,d[h]);let f=0;for(let m=0;m<h;++m){const t=d[m+1]-d[m];let n=o?e[0]:e[m];const r=c?i[0]:i[m];for(let e=0;e<t;++e)p[f++]=n,n+=r}return[d,p]}var Coe=O5;class joe{constructor(e,t,n,r,a,i,s,o,l,c){this.shape=e,this.shapeShape=t,this.values=n,this.valuesShape=r,this.valuesDType=a,this.defaultValue=i,this.defaultValueShape=s,this.rowPartitionValues=o,this.rowPartitionValuesShapes=l,this.rowPartitionTypes=_5(c),this.raggedRank=L5(this.rowPartitionTypes)}getRowPartitionTypeByDimension(e){return this.rowPartitionTypes[0]===Coe.FIRST_DIM_SIZE?this.rowPartitionTypes[e+1]:this.rowPartitionTypes[e]}getRowPartitionTensor(e){return this.rowPartitionTypes[0]===Coe.FIRST_DIM_SIZE?this.rowPartitionValues[e+1]:this.rowPartitionValues[e]}getMaxWidth(e){const t=this.getRowPartitionTensor(e-1);switch(this.getRowPartitionTypeByDimension(e-1)){case Coe.VALUE_ROWIDS:return joe.getMaxWidthValueRowID(t);case Coe.ROW_SPLITS:return joe.getMaxWidthRowSplit(t);default:throw new Error(`Cannot handle partition type ${Coe[this.getRowPartitionTypeByDimension(e-1)]}`)}}static getMaxWidthRowSplit(e){const t=e.length;if(0===t||1===t)return 0;let n=0;for(let r=0;r<t-1;++r){const t=e[r+1]-e[r];t>n&&(n=t)}return n}static getMaxWidthValueRowID(e){const t=e.length;if(0===t)return 0;let n=0,r=e[0],a=0;for(let i=1;i<t;++i){const t=e[i];t!==r&&(r=t,a=Math.max(i-n,a),n=i)}return Math.max(t-n,a)}tensorShapeFromTensor(e,t,n=!0){if(0===t.length){if(-1===e[0])return[];throw new Error("The only valid scalar shape tensor is the fully unknown shape specified as -1.")}return Toe(e,n)}calculateOutputSize(e){const t=this.valuesShape;$5(this.defaultValueShape,t);const n=this.tensorShapeFromTensor(this.shape,this.shapeShape),r=R5(this.raggedRank,n,t);r[0]<0&&(r[0]=e);for(let a=1;a<=this.raggedRank;++a)r[a]<0&&(r[a]=this.getMaxWidth(a));return r}calculateFirstParentOutputIndex(e,t,n){const r=Math.min(e,n),a=[];let i=0;for(let s=0;s<r;++s,i+=t)a.push(i);for(let s=r;s<e;++s)a.push(-1);return Yq(a.length===e,()=>"Final length of result must be equal to firstDimension."),a}calculateOutputIndexRowSplit(e,t,n,r){const a=e.length,i=[];for(let s=0;s<a-1;++s){const a=e[s+1]-e[s];let o=Math.min(r,a),l=t[s];-1===l&&(o=0);for(let e=0;e<o;++e)i.push(l),l+=n;for(let e=0;e<a-o;++e)i.push(-1)}if(a>0&&i.length!==e[a-1])throw new Error("Invalid row split size.");return i}calculateOutputIndexValueRowID(e,t,n,r){const a=e.length,i=[];if(0===a)return[];let s=0,o=e[0];if(o>=t.length)throw new Error(`Got currentValueRowId=${o}, which is not less than ${t.length}`);let l=t[o];i.push(l);for(let c=1;c<a;++c){const a=e[c];if(a===o)l>=0&&(++s,s<r?l+=n:l=-1);else{if(s=0,o=a,a>=t.length)throw new Error(`Got nextValueRowId=${a} which is not less than ${t.length}`);l=t[a]}i.push(l)}if(i.length!==e.length)throw new Error("Invalid row ids.");return i}calculateOutputIndex(e,t,n,r){const a=this.getRowPartitionTensor(e),i=this.getRowPartitionTypeByDimension(e);switch(i){case Coe.VALUE_ROWIDS:return this.calculateOutputIndexValueRowID(a,t,n,r);case Coe.ROW_SPLITS:if(a.length-1>t.length)throw new Error(`Row partition size is greater than output size: ${a.length-1} > ${t.length}`);return this.calculateOutputIndexRowSplit(a,t,n,r);default:throw new Error(`Unsupported partition type: ${Coe[i]}`)}}getFirstDimensionSize(){const e=this.rowPartitionValues[0];if(0===this.rowPartitionTypes.length)throw new Error("No row_partition_types given.");const t=this.rowPartitionTypes[0];switch(t){case Coe.FIRST_DIM_SIZE:return e[0];case Coe.VALUE_ROWIDS:throw new Error("Cannot handle VALUE_ROWIDS in first dimension.");case Coe.ROW_SPLITS:return this.rowPartitionValuesShapes[0][0]-1;default:throw new Error(`Cannot handle type ${Coe[t]}`)}}compute(){if(this.rowPartitionValues[0].length<=0)throw new Error("Invalid first partition input. Tensor requires at least one element.");const e=this.getFirstDimensionSize(),t=this.calculateOutputSize(e),n=new Array(this.raggedRank+1);n[n.length-1]=1;for(let i=n.length-2;i>=0;--i)n[i]=n[i+1]*t[i+1];const r=Toe(t,!1),a=uX(this.valuesDType,eX(r));if(n[0]*t[0]>0){let i=this.calculateFirstParentOutputIndex(e,n[0],t[0]);for(let e=1;e<=this.raggedRank;++e){i=this.calculateOutputIndex(e-1,i,n[e],t[e])}this.setOutput(this.raggedRank,i,a,r)}return[r,a]}setOutput(e,t,n,r){if(0===n.length)return;const a=this.values,i=n;let s=r.slice();s=s.slice(e+1);const o=eX(s),l=t.length;let c=this.defaultValue;if(c.length!==o&&1!==c.length){const e=this.defaultValueShape;E1(()=>{const t=Z2(c,e),n=s4(t,s);c=n.dataSync()})}let u=0,h=0,d=0;for(let p=0;p<=l;++p){let e=p<l?t[p]:-1;if(e!==d){if(h<d){const e=a.subarray(u*o);Moe(i.subarray(h*o),e,(d-h)*o)}if(p>=l){const t=n.length;e=Math.floor(t/o)}if(e>d)if(1===this.defaultValue.length)i.subarray(d*o,e*o).fill(this.defaultValue[0]),d=e;else for(;e>d;){Moe(i.slice(d*o),c,o),++d}e<0?(u=p+1,h=d):(u=p,h=d,d=h+1)}else++d}}}function Moe(e,t,n){for(let r=0;r<n;r++)e[r]=t[r]}function Toe(e,t){const n=[];for(let r of e){if(r<0){if(!t)throw new Error(`Dimension ${r} must be >= 0`);if(r<-1)throw new Error(`Dimension ${r} must be >= -1`);r=-1}n.push(r)}return n}function Ioe(e,t,n,r,a,i,s,o,l,c){return new joe(e,t,n,r,a,i,s,o,l,c).compute()}function Ooe(e,t,n,r){if(e===t||e<t&&n<0||t<e&&n>1)return kX(0,r);const a=kX(Math.abs(Math.ceil((t-e)/n)),r);t<e&&1===n&&(n=-1),a[0]=e;for(let i=1;i<a.length;i++)a[i]=a[i-1]+n;return a}const Poe=fse(e=>1/Math.sqrt(e)),Roe=gse(eJ,Poe),_oe={kernelName:eJ,backendName:"cpu",kernelFunc:Roe};function Loe(e,t,n,r,a,i,s,o,l,c){const u=[r/a,a],h=e.values,d=t.values;if(0===r)return d2(n,t.dtype);const p=l instanceof P0?l:d2(u,t.dtype);"string"==typeof l||"number"==typeof l?p.values.fill(l):"boolean"==typeof l&&p.values.fill(+l);for(let f=0;f<i;f++){const e=[];let i=0;for(let t=0;t<s;t++){const n=h[f*s+t];e.push(n),i+=n*o[t]}if(i<0||i>=r/a)throw new Error(`Invalid indices: ${e} does not index into ${n}`);for(let n=0;n<a;n++)c?p.values[i*a+n]+=d[f*a+n]:p.values[i*a+n]=0===t.rank?d[0]:d[f*a+n]}return p}const $oe=fse(e=>1/(1+Math.exp(-e))),Foe=mse(uJ,e=>1/(1+Math.exp(-e))),Doe={kernelName:uJ,backendName:"cpu",kernelFunc:Foe};function zoe(e,t,n,r,a){const i=w5(r,t,n),s=eX(n),o=xX(r);if(i){const n=k5(t,o);return"string"===a?e.slice(n,n+s):e.subarray(n,n+s)}const l=d2(r,a,"string"===a?O9(e):e),c=d2(n,a);for(let u=0;u<c.size;++u){const e=c.indexToLoc(u),n=e.map((e,n)=>e+t[n]);c.set(l.get(...n),...e)}return"string"===a?P9(c.values):c.values}function Voe(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{begin:i,size:s}=r;Bie(a,"slice");const[o,l]=S5(a,i,s);h5(a,o,l);const c=zoe(n.data.get(a.dataId).values,o,l,a.shape,a.dtype);return n.makeTensorInfo(l,a.dtype,c)}const Boe={kernelName:sJ,backendName:"cpu",kernelFunc:Voe};function Hoe(e,t,n,r,a,i,s){const o=t[0],l=i[0],c=new Array(l),u=new Array(o),h=t[1];if(0===l){if(0!==o)throw new Error(g9(o));return[uX(n,0),[0,h],uX(a,0),c,u]}let d=!0,p=0;const f=new Array(l).fill(0);for(let g=0;g<o;++g){const t=e[g*h];if(t<0)throw new Error(y9(g,t));if(t>=l)throw new Error(x9(g,t,l));++f[t],d=d&&t>=p,p=t}let m=!0;for(let g=0;g<l;++g){const e=0===f[g];c[g]=e,m=m&&!e,f[g]=Math.max(f[g],1),g>0&&(f[g]+=f[g-1])}if(m&&d){const t=e,n=r;for(let e=0;e<o;++e)u[e]=e;return[t,[o,h],n,c,u]}{const t=f[l-1],i=uX(n,t*h),d=uX(a,t),p=new Array(l).fill(0);for(let n=0;n<o;++n){const t=e[n*h],a=p[t],s=(0===t?0:f[t-1])+a;p[t]++;for(let r=0;r<h;++r)i[s*h+r]=e[n*h+r];d[s]=r[n],u[n]=s}for(let e=0;e<l;++e){if(0===p[e]){const t=0===e?0:f[e-1];i[t*h+0]=e;for(let e=1;e<h;++e)i[t*h+e]=0;d[t]=s}}return[i,[t,h],d,c,u]}}function Uoe(e,t,n,r,a){const i=eX(r),s=t[0],o=a.length,l=[];let c=1,u=-1;for(let m=0;m<o;++m){const e=a[m];if(-1===e){if(-1!==u)throw new Error(b9(u,m));u=m,l.push(1)}else{if(e<0)throw new Error(v9(m,e));c*=e,l.push(e)}}if(-1!==u){if(c<=0)throw new Error("reshape cannot infer the missing input size for an empty tensor unless all specified input sizes are non-zero");const e=Math.trunc(i/c);if(c*e!==i)throw new Error(k9(r,l));l[u]=e}if(eX(l)!==i)throw new Error(S9(r,l));const h=r.length,d=[];if(h>0){d[h-1]=1;for(let e=h-2;e>=0;--e)d[e]=d[e+1]*r[e+1]}const p=[];if(o>0){p[o-1]=1;for(let e=o-2;e>=0;--e)p[e]=p[e+1]*l[e+1]}const f=uX(n,s*o);for(let m=0;m<s;++m){let t=0;for(let n=0;n<h;++n)t+=e[m*h+n]*d[n];for(let e=0;e<o;++e)f[m*o+e]=Math.trunc(t/p[e]),t%=p[e]}return[f,[s,o],l]}function Woe(e,t,n,r,a,i=!1,s=0){const o=r.length,l=[t[0],e.length/t[0]],c=l[1],u=o>0?a[o-1]+1:0;if(u<0)throw new Error("segment ids must be >= 0");const h=t.slice();h[0]=u;const d=uX(n,h.reduce((e,t)=>e*t,1));if(0===o)return u>0&&d.fill(s),[d,h];if(u<=0)throw new Error("segment ids must be >= 0");let p=0,f=1,m=0,g=a[p];for(;;){let t=0;if(f<o){if(t=a[f],g===t){++f;continue}if(g>=t)throw new Error(E9())}if(g<0||g>=u)throw new Error(A9(g,u));g>m&&d.fill(s,m*c,g*c);for(let n=p;n<f;++n){const t=r[n];if(t<0||t>=l[0])throw new Error(C9(n,r[n],l[0]));for(let n=0;n<c;n++)d[g*c+n]+=e[t*c+n]}if(i)for(let e=0;e<c;e++)d[g*c+e]/=f-p;if(p=f,++f,m=g+1,g=t,f>o)break}return m<u&&d.fill(s,m*c,u*c),[d,h]}const Zoe=fse(e=>Math.sqrt(e)),Goe=mse(dJ,e=>Math.sqrt(e)),Koe={kernelName:dJ,backendName:"cpu",kernelFunc:Goe},qoe=Gie((e,t)=>{const n=e-t;return n*n}),Xoe=ase(kJ,qoe),Yoe={kernelName:kJ,backendName:"cpu",kernelFunc:Xoe},Qoe=fse((e,t)=>{const{pattern:n,replaceGlobal:r,rewrite:a}=t;return e.replace(new RegExp(n,r?"g":""),a)}),Joe={kernelName:NJ,backendName:"cpu",kernelFunc:gse(NJ,Qoe)};function ele(e,t,n,r){const a=d2(e,t.dtype);for(let i=0;i<a.size;i++){const e=a.indexToLoc(i),s=new Array(e.length);for(let t=0;t<s.length;t++)s[t]=e[t]*n[t]+r[t];a.set(t.get(...s),...e)}return a}class tle{constructor(e,t,n,r,a,i){this.separator=w0(e),this.nGramWidths=t,this.leftPad=w0(n),this.rightPad=w0(r),this.padWidth=a,this.preserveShort=i}getPadWidth(e){return Math.min(this.padWidth<0?e-1:this.padWidth,e-1)}getNumNGrams(e,t){const n=this.getPadWidth(t);return Math.max(0,e+2*n-t+1)}createNGrams(e,t,n,r,a,i){for(let s=0;s<a;++s){const o=this.getPadWidth(i),l=Math.max(0,o-s),c=Math.max(0,o-(a-(s+1))),u=i-(l+c),h=t+(l>0?0:s-o);let d=0;d+=l*this.leftPad.length;for(let t=0;t<u;++t)d+=e[h+t].length;d+=c*this.rightPad.length;d+=(l+c+u-1)*this.separator.length,n[r+s]=new Uint8Array(d);const p=n[r+s];let f=0;const m=e=>e.forEach(e=>p[f++]=e);for(let e=0;e<l;++e)m(this.leftPad),m(this.separator);for(let t=0;t<u-1;++t)m(e[h+t]),m(this.separator);if(u>0){m(e[h+u-1]);for(let e=0;e<c;++e)m(this.separator),m(this.rightPad)}else{for(let e=0;e<c-1;++e)m(this.rightPad),m(this.separator);m(this.rightPad)}}}compute(e,t){const n=e.length,r=t.length;if(r>0){let e=t[0];if(0!==e)throw new Error(`First split value must be 0, got ${e}`);for(let a=1;a<r;++a){let r=t[a]>=e;if(r=r&&t[a]<=n,!r)throw new Error(`Invalid split value ${t[a]}, must be in [${e}, ${n}]`);e=t[a]}if(e!==n)throw new Error(`Last split value must be data size. Expected ${n}, got ${e}`)}const a=r-1,i=uX("int32",r);if(0===n||0===r){const e=new Array(n);for(let t=0;t<=a;++t)i[t]=0;return[e,i]}i[0]=0;for(let o=1;o<=a;++o){const e=t[o]-t[o-1];let n=0;this.nGramWidths.forEach(t=>{n+=this.getNumNGrams(e,t)}),this.preserveShort&&e>0&&0===n&&(n=1),i[o]=i[o-1]+n}const s=new Array(i[a]);for(let o=0;o<a;++o){const n=t[o];let r=i[o];if(this.nGramWidths.forEach(a=>{const i=t[o+1]-t[o],l=this.getNumNGrams(i,a);this.createNGrams(e,n,s,r,l,a),r+=l}),this.preserveShort&&r===i[o]){const a=t[o+1]-t[o];if(0===a)continue;const i=a+2*this.padWidth,l=1;this.createNGrams(e,n,s,r,l,i)}}return[s,i]}}function nle(e,t,n,r,a,i,s,o){return new tle(n,r,a,i,s,o).compute(e,t)}function rle(e,t,n,r){if(!e.length)return;if(0===t.length){for(let t=0;t<e.length;++t)r.push(e.subarray(t,t+1));return}if(1===t.length){const a=t[0];let i=e.indexOf(a);for(;-1!==i;){const t=e.subarray(0,i);n&&0===t.length||r.push(t),i=(e=e.subarray(i+1)).indexOf(a)}return void(n&&0===e.length||r.push(e))}let a=0;for(let i=0;i<e.length+1;i++)if(i===e.length||-1!==t.indexOf(e[i])){const t=e.subarray(a,i);n&&0===t.length||r.push(t),a=i+1}}function ale(e,t,n){const r=e.length,a=[];let i=0,s=0;const o=new Array(r);for(let d=0;d<r;++d){const r=a.length;rle(e[d],t,n,a);const l=a.length-r;o[d]=l,i+=l,s=Math.max(s,l)}const l=uX("int32",2*i),c=new Array(i),u=[r,s];let h=0;for(let d=0;d<r;++d)for(let e=0;e<o[d];++e)l[2*h]=d,l[2*h+1]=e,c[h]=a[h],++h;return[l,c,u]}function ile(e,t){const n=uX("int32",e.length);for(let r=0;r<e.length;++r)n[r]=y0(e[r]).modulo(t).getLowBitsUnsigned();return n}const sle=Gie((e,t)=>e-t),ole=ise((e,t,n,r)=>({real:e-n,imag:t-r})),lle=ase(MJ,sle,ole),cle={kernelName:MJ,backendName:"cpu",kernelFunc:lle};function ule(e,t){const n=new Array(e.rank);for(let a=0;a<n.length;a++)n[a]=e.shape[a]*t[a];const r=d2(n,e.dtype);for(let a=0;a<r.values.length;++a){const t=r.indexToLoc(a),n=new Array(e.rank);for(let r=0;r<n.length;r++)n[r]=t[r]%e.shape[r];const i=e.locToIndex(n);r.values[a]=e.values[i]}return r}const hle=(e,t)=>{const n=t.value-e.value;return 0===n?e.index-t.index:n};function dle(e,t,n=0,r=e.length-1){for(;r>n;){if(r-n>600){const a=r-n+1,i=t-n+1,s=Math.log(a),o=.5*Math.exp(2*s/3),l=.5*Math.sqrt(s*o*(a-o)/a)*Math.sign(i-a/2);dle(e,t,Math.max(n,Math.floor(t-i*o/a+l)),Math.min(r,Math.floor(t+(a-i)*o/a+l)))}const a=e[t];let i=n,s=r;for(Xq(e,n,t),hle(e[r],a)>0&&Xq(e,n,r);i<s;){for(Xq(e,i,s),i++,s--;hle(e[i],a)<0;)i+=1;for(;hle(e[s],a)>0;)s-=1}0===hle(e[n],a)?Xq(e,n,s):(s+=1,Xq(e,s,r)),s<=t&&(n=s+1),t<=s&&(r=s-1)}}function ple(e,t,n,r,a){const i=t[t.length-1],[s,o]=[e.length/i,i],l=cX(n,s*r),c=cX("int32",s*r);for(let h=0;h<s;h++){const t=h*o,n=e.subarray(t,t+o);let i=new Array(n.length);n.forEach((e,t)=>i[t]={value:e,index:t}),r<i.length&&(dle(i,r),i=i.slice(0,r)),a&&i.sort(hle);const s=h*r,u=l.subarray(s,s+r),d=c.subarray(s,s+r);for(let e=0;e<r;e++)u[e]=i[e].value,d[e]=i[e].index}const u=t.slice();return u[u.length-1]=r,[d2(u,n,l),d2(u,"int32",c)]}function fle(e,t,n,r){const a=oX(t,n)[0],i=[1,n[0],1];for(let f=0;f<a;f++)i[0]*=n[f];i[1]=n[a];for(let f=a+1;f<n.length;f++)i[2]*=n[f];const s=new Map,o=new Int32Array(n[a]),l=new P0(i,r,e),c=[],u=1===i[0]&&1===i[2];for(let f=0;f<n[a];f++){let t;if(u)t=e[f].toString();else{const e=[];for(let t=0;t<i[0];t++)for(let n=0;n<i[2];n++)e.push(l.get(t,f,n));t=e.join(",")}const n=s.get(t);if(null!=n)o[f]=n;else{const e=s.size;s.set(t,e),o[f]=e,c.push(f)}}const h=i.slice();h[1]=s.size;const d=new P0(h,r);c.forEach((e,t)=>{for(let n=0;n<i[0];n++)for(let r=0;r<i[2];r++)d.set(l.get(n,e,r),n,t,r)});const p=n.slice();return p[a]=h[1],{outputValues:d.values,outputShape:p,indices:o}}const mle=Object.freeze(Object.defineProperty({__proto__:null,addImpl:sse,bincountImpl:use,bincountReduceImpl:hse,bitwiseAndImpl:dse,castImpl:tse,ceilImpl:yse,concatImpl:vse,equalImpl:wse,expImpl:Nse,expm1Impl:Cse,floorDivImpl:Pse,floorImpl:Tse,gatherNdImpl:Lse,gatherV2Impl:$se,greaterEqualImpl:Vse,greaterImpl:Fse,lessEqualImpl:Gse,lessImpl:Use,linSpaceImpl:Xse,logImpl:Yse,maxImpl:eoe,maximumImpl:toe,minimumImpl:aoe,multiplyImpl:ooe,negImpl:hoe,notEqualImpl:poe,prodImpl:boe,raggedGatherImpl:Noe,raggedRangeImpl:Aoe,raggedTensorToTensorImpl:Ioe,rangeImpl:Ooe,rsqrtImpl:Poe,scatterImpl:Loe,sigmoidImpl:$oe,simpleAbsImpl:Wie,sliceImpl:zoe,sparseFillEmptyRowsImpl:Hoe,sparseReshapeImpl:Uoe,sparseSegmentReductionImpl:Woe,sqrtImpl:Zoe,squaredDifferenceImpl:qoe,staticRegexReplaceImpl:Qoe,stridedSliceImpl:ele,stringNGramsImpl:nle,stringSplitImpl:ale,stringToHashBucketFastImpl:ile,subImpl:sle,tileImpl:ule,topKImpl:ple,transposeImpl:goe,uniqueImpl:fle},Symbol.toStringTag,{value:"Module"}));M1("cpu",()=>new Uie,1);const gle=mse(PY,e=>e>=0?e:Math.exp(e)-1),yle={kernelName:PY,backendName:"cpu",kernelFunc:gle};function xle(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{alpha:i}=r;Bie([a],"leakyRelu");const s=eX(a.shape),o=n.data.get(a.dataId).values,l=cX("float32",s);for(let c=0;c<o.length;c++)l[c]=o[c]<0?i*o[c]:o[c];return n.makeTensorInfo(a.shape,"float32",l)}const ble={kernelName:nQ,backendName:"cpu",kernelFunc:xle},vle=Gie((e,t)=>e<0?t*e:e);function wle(e){const{inputs:t,backend:n}=e,{x:r,alpha:a}=t;Bie([r,a],"prelu");const i=n.data.get(r.dataId).values,s=n.data.get(a.dataId).values,[o,l]=vle(r.shape,a.shape,i,s,"float32");return n.makeTensorInfo(l,"float32",o)}const kle={kernelName:$Q,backendName:"cpu",kernelFunc:wle},Sle=mse(WQ,e=>Math.max(0,e)),Nle={kernelName:WQ,backendName:"cpu",kernelFunc:Sle},Ele=mse(YQ,e=>Math.min(Math.max(0,e),6)),Ale={kernelName:YQ,backendName:"cpu",kernelFunc:Ele};function Cle(e,t,n,r,a){if("linear"===n)return Yie({inputs:{x:t},backend:e});if("relu"===n)return Sle({inputs:{x:t},backend:e});if("elu"===n)return gle({inputs:{x:t},backend:e});if("relu6"===n)return Ele({inputs:{x:t},backend:e});if("prelu"===n)return wle({inputs:{x:t,alpha:r},backend:e});if("leakyrelu"===n)return xle({inputs:{x:t},backend:e,attrs:{alpha:a}});if("sigmoid"===n)return Foe({inputs:{x:t},backend:e});throw new Error(`Activation ${n} has not been implemented for the CPU backend.`)}function jle(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{shape:i}=r,s=eX(a.shape),o=sX(i,s),l=eX(o);Yq(s===l,()=>`The new shape (${o}) has ${l} elements and the old shape (${a.shape}) has ${s} elements. The new shape and old shape must have the same number of elements.`),n.incRef(a.dataId);const c=n.data.get(a.dataId);if(null!=c.complexTensorInfos){const e=c.complexTensorInfos.real,t=c.complexTensorInfos.imag;e.shape=o,t.shape=o}return{dataId:a.dataId,shape:o,dtype:a.dtype}}const Mle={kernelName:ZQ,backendName:"cpu",kernelFunc:jle};function Tle(e){const{inputs:t,backend:n,attrs:r}=e,{a:a,b:i}=t,{transposeA:s,transposeB:o}=r;Bie([a,i],"matMul");const l=a.shape.length,c=i.shape.length,u=s?a.shape[l-2]:a.shape[l-1],h=o?i.shape[c-1]:i.shape[c-2],d=s?a.shape[l-1]:a.shape[l-2],p=o?i.shape[c-2]:i.shape[c-1],f=a.shape.slice(0,-2),m=i.shape.slice(0,-2),g=eX(f),y=eX(m),x=I4(a.shape.slice(0,-2),i.shape.slice(0,-2)).concat([d,p]);Yq(u===h,()=>`Error in matMul: inner shapes (${u}) and (${h}) of Tensors with shapes ${a.shape} and ${i.shape} and transposeA=${s} and transposeB=${o} must match.`);const b=o?[y,p,h]:[y,h,p],v=jle({inputs:{x:a},backend:n,attrs:{shape:s?[g,u,d]:[g,d,u]}}),w=jle({inputs:{x:i},backend:n,attrs:{shape:b}}),k=s?v.shape[1]:v.shape[2],S=s?v.shape[2]:v.shape[1],N=o?w.shape[1]:w.shape[2],E=Math.max(g,y),A=n.data.get(v.dataId).values,C=n.data.get(w.dataId).values,j=xX(v.shape),M=xX(w.shape),[T,I,O]=s?[j[0],1,j[1]]:[j[0],j[1],1],[P,R,_]=o?[1,M[1],M[0]]:[M[1],1,M[0]],L=S*N,$=d2([E,S,N],v.dtype),F=$.values,D=n.blockSize;for(let z=0;z<E;z++){const e=z%g,t=z%y;for(let n=0;n<S;n+=D){const r=Math.min(n+D,S);for(let a=0;a<N;a+=D){const i=Math.min(a+D,N);for(let s=0;s<k;s+=D){const o=Math.min(s+D,k);for(let l=n;l<r;l++)for(let n=a;n<i;n++){let r=0;for(let a=s;a<o;a++){r+=A[e*T+l*I+a*O]*C[a*P+n*R+t*_]}F[z*L+(l*N+n)]+=r}}}}}return n.disposeIntermediateTensorInfo(v),n.disposeIntermediateTensorInfo(w),n.makeTensorInfo(x,$.dtype,$.values)}const Ile={kernelName:eY,backendName:"cpu",kernelFunc:Tle};const Ole={kernelName:BJ,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{a:a,b:i,bias:s,preluActivationWeights:o}=t,{transposeA:l,transposeB:c,activation:u,leakyreluAlpha:h}=r;let d,p,f;const m=[];d=Tle({inputs:{a:a,b:i},attrs:{transposeA:l,transposeB:c},backend:n}),s&&(p=lse({inputs:{a:d,b:s},backend:n}),m.push(d),d=p),u&&(f=Cle(n,d,u,o,h),m.push(d),d=f);for(const g of m)n.disposeIntermediateTensorInfo(g);return d}},Ple=mse($X,e=>Math.acos(e)),Rle={kernelName:$X,backendName:"cpu",kernelFunc:Ple},_le=mse(FX,e=>Math.acosh(e)),Lle={kernelName:FX,backendName:"cpu",kernelFunc:_le};const $le={kernelName:zX,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,r=t;Bie(t,"addN");const a=r.map(e=>n.data.get(e.dataId).values),i=d2(r[0].shape,r[0].dtype),s=i.values;for(let o=0;o<r.length;o++){const e=a[o];for(let t=0;t<s.length;t++)s[t]+=e[t]}return n.makeTensorInfo(i.shape,i.dtype,i.values)}};const Fle={kernelName:VX,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{axis:i,keepDims:s}=r;Bie(a,"all");const o=oX(i,a.shape);let l=o;const c=W4(l,a.shape.length);let u=a;null!=c&&(u=yoe({inputs:{x:a},backend:n,attrs:{perm:c}}),l=G4(l.length,a.shape.length)),U4("all",l,u.shape.length);const[h,d]=B4(u.shape,l),p=eX(d),f=kX(eX(h),u.dtype),m=n.data.get(u.dataId).values;for(let y=0;y<f.length;++y){const e=y*p;let t=m[e];for(let n=0;n<p;++n){const r=m[e+n];t=t&&r}f[y]=t}null!=c&&n.disposeIntermediateTensorInfo(u);const g=n.makeTensorInfo(h,u.dtype,f);if(s){const e=jle({inputs:{x:g},backend:n,attrs:{shape:H4(h,o)}});return n.disposeIntermediateTensorInfo(g),e}return g}};const Dle={kernelName:BX,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{axis:i,keepDims:s}=r;Bie(a,"any");const o=oX(i,a.shape);let l=o;const c=W4(l,a.shape.length);let u=a;null!=c&&(u=yoe({inputs:{x:a},backend:n,attrs:{perm:c}}),l=G4(l.length,a.shape.length)),U4("any",l,u.shape.length);const[h,d]=B4(u.shape,l),p=eX(d),f=kX(eX(h),u.dtype),m=n.data.get(u.dataId).values;for(let y=0;y<f.length;++y){const e=y*p;let t=m[e];for(let n=0;n<p;++n){const r=m[e+n];t=t||r}f[y]=t}null!=c&&n.disposeIntermediateTensorInfo(u);const g=n.makeTensorInfo(h,u.dtype,f);if(s){const e=jle({inputs:{x:g},backend:n,attrs:{shape:H4(h,o)}});return n.disposeIntermediateTensorInfo(g),e}return g}};const zle={kernelName:HX,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{axis:i}=r;Bie(a,"argMax");let s=oX(i,a.shape);const o=W4(s,a.shape.length);let l=a;const c=[];null!=o&&(l=yoe({inputs:{x:a},backend:n,attrs:{perm:o}}),c.push(l),s=G4(s.length,l.shape.length)),s=[s[0]],U4("argMax",s,l.shape.length);const[u,h]=B4(l.shape,s),d=kX(eX(u),"int32"),p=eX(h),f=n.data.get(l.dataId).values;for(let m=0;m<d.length;++m){const e=m*p;let t=f[e],n=0;for(let r=0;r<p;++r){const a=f[e+r];a>t&&(t=a,n=r)}d[m]=n}return c.forEach(e=>n.disposeIntermediateTensorInfo(e)),n.makeTensorInfo(u,"int32",d)}};const Vle={kernelName:UX,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{axis:i}=r;Bie(a,"argMin");let s=oX(i,a.shape);const o=W4(s,a.shape.length);let l=a;const c=[];null!=o&&(l=yoe({inputs:{x:a},backend:n,attrs:{perm:o}}),c.push(l),s=G4(s.length,l.shape.length)),s=[s[0]],U4("argMin",s,l.shape.length);const[u,h]=B4(l.shape,s),d=kX(eX(u),"int32"),p=eX(h),f=n.data.get(l.dataId).values;for(let m=0;m<d.length;++m){const e=m*p;let t=f[e],n=0;for(let r=0;r<p;++r){const a=f[e+r];a<t&&(t=a,n=r)}d[m]=n}return c.forEach(e=>n.disposeIntermediateTensorInfo(e)),n.makeTensorInfo(u,"int32",d)}},Ble=mse(WX,e=>Math.asin(e)),Hle={kernelName:WX,backendName:"cpu",kernelFunc:Ble},Ule=mse(ZX,e=>Math.asinh(e)),Wle={kernelName:ZX,backendName:"cpu",kernelFunc:Ule},Zle=mse(GX,e=>Math.atan(e)),Gle={kernelName:GX,backendName:"cpu",kernelFunc:Zle},Kle=Gie((e,t)=>Math.atan2(e,t)),qle=ase(qX,Kle),Xle={kernelName:qX,backendName:"cpu",kernelFunc:qle},Yle=mse(KX,e=>Math.atanh(e)),Qle={kernelName:KX,backendName:"cpu",kernelFunc:Yle};function Jle(e,t,n,r,a,i){const s=a.strideHeight,o=a.strideWidth,l=a.dilationHeight,c=a.dilationWidth,u=a.effectiveFilterHeight,h=a.effectiveFilterWidth,d=a.padInfo.top,p=a.padInfo.left,f="max"===i?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,m=d2(a.outShape,n),g=m.values,y=a.outShape[1]*a.outShape[2]*a.outShape[3],x=a.outShape[2]*a.outShape[3],b=a.outShape[3];for(let v=0;v<a.batchSize;++v){const t=v*y,n=v*r[0];for(let m=0;m<a.inChannels;++m)for(let y=0;y<a.outHeight;++y){const v=y*s-d,w=Math.max(0,v),k=Math.min(a.inHeight,u+v),S=t+y*x;for(let t=0;t<a.outWidth;++t){const s=t*o-p,u=Math.max(0,s),d=Math.min(a.inWidth,h+s);let y=f,x=0,v=0;for(let t=w;t<k;t+=l){const a=n+t*r[1];for(let t=u;t<d;t+=c){const n=e[a+t*r[2]+m];"max"===i&&n>y?y=n:"avg"===i&&(x+=n,v++)}if(isNaN(y))break}g[S+t*b+m]="avg"===i?x/v:y}}}return m}function ece(e,t,n,r,a=!1,i=!1){const s=d2(r.outShape,"int32"),o=r.strideHeight,l=r.strideWidth,c=r.dilationHeight,u=r.dilationWidth,h=r.effectiveFilterHeight,d=r.effectiveFilterWidth,p=r.padInfo.top,f=r.padInfo.left,m=d2(t,n,e);for(let g=0;g<r.batchSize;++g)for(let e=0;e<r.inChannels;++e)for(let t=0;t<r.outHeight;++t){const n=t*o-p;let y=n;for(;y<0;)y+=c;const x=Math.min(r.inHeight,h+n);for(let o=0;o<r.outWidth;++o){const h=o*l-f;let p=h;for(;p<0;)p+=u;const b=Math.min(r.inWidth,d+h);let v=Number.NEGATIVE_INFINITY,w=-1;for(let t=y;t<x;t+=c){const s=t-n;for(let n=p;n<b;n+=u){const o=n-h,l=m.get(g,t,n,e);l>v&&(v=l,w=a?i?((g*r.inHeight+t)*r.inWidth+n)*r.inChannels+e:(t*r.inWidth+n)*r.inChannels+e:s*d+o)}}s.set(w,g,t,o,e)}}return s}function tce(e,t,n,r,a,i){const s=a.strideDepth,o=a.strideHeight,l=a.strideWidth,c=a.dilationDepth,u=a.dilationHeight,h=a.dilationWidth,d=a.effectiveFilterDepth,p=a.effectiveFilterHeight,f=a.effectiveFilterWidth,m=a.padInfo.front,g=a.padInfo.top,y=a.padInfo.left,x="max"===i?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,b=d2(a.outShape,n),v=b.values,w=a.outShape[1]*a.outShape[2]*a.outShape[3]*a.outShape[4],k=a.outShape[2]*a.outShape[3]*a.outShape[4],S=a.outShape[3]*a.outShape[4],N=a.outShape[4];for(let E=0;E<a.batchSize;++E){const t=E*w,n=E*r[0];for(let b=0;b<a.inChannels;++b)for(let w=0;w<a.outDepth;++w){const E=w*s-m;let A=E;for(;A<0;)A+=c;const C=Math.min(a.inDepth,d+E),j=t+w*k;for(let t=0;t<a.outHeight;++t){const s=t*o-g;let d=s;for(;d<0;)d+=u;const m=Math.min(a.inHeight,p+s),w=j+t*S;for(let t=0;t<a.outWidth;++t){const s=t*l-y;let o=s;for(;o<0;)o+=h;const p=Math.min(a.inWidth,f+s),g=w+t*N;let k=x,S=0,E=0;for(let t=A;t<C;t+=c){const a=n+t*r[1];for(let t=d;t<m;t+=u){const n=a+t*r[2];for(let t=o;t<p;t+=h){const a=e[n+t*r[3]+b];if("max"===i&&a>k?k=a:"avg"===i&&(S+=a,E++),isNaN(k))break}if(isNaN(k))break}if(isNaN(k))break}v[g+b]="avg"===i?S/Math.max(E,1):k}}}}return b}const nce={kernelName:XX,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t;Bie(a,"avgPool");const{filterSize:i,strides:s,pad:o,dimRoundingMode:l}=r;Yq(B2(s,1),()=>`Error in avgPool: Either strides or dilations must be 1. Got strides ${s} and dilations '1'`);const c=O2(a.shape,i,s,1,o,l);let u;if(1===c.filterWidth&&1===c.filterHeight&&tX(c.inShape,c.outShape))u=Yie({inputs:{x:a},backend:n});else{const e=n.data.get(a.dataId).values,t=xX(a.shape),r=Jle(e,a.shape,a.dtype,t,c,"avg");u=n.makeTensorInfo(c.outShape,a.dtype,r.values)}return u}};const rce={kernelName:QX,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{filterSize:i,strides:s,pad:o,dimRoundingMode:l,dataFormat:c}=r;Bie(a,"avgPool3d");const u=P2(a.shape,i,s,1,o,l,c),h=tce(n.data.get(a.dataId).values,a.shape,a.dtype,xX(a.shape),u,"avg");return n.makeTensorInfo(h.shape,"float32",h.values)}};const ace={kernelName:JX,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{dy:a,input:i}=t,{filterSize:s,strides:o,pad:l,dimRoundingMode:c}=r;Bie([a,i],"avgPool3DGrad");const u=P2(i.shape,s,o,1,l,c),h=u.strideDepth,d=u.strideHeight,p=u.strideWidth,f=u.filterDepth,m=u.filterHeight,g=u.filterWidth,y=u.dilationDepth,x=u.dilationHeight,b=u.dilationWidth,v=u.effectiveFilterDepth,w=u.effectiveFilterHeight,k=u.effectiveFilterWidth,S=v-1-u.padInfo.front,N=k-1-u.padInfo.left,E=w-1-u.padInfo.top,A=d2(i.shape,"float32"),C=1/(f*m*g),j=n.bufferSync(a);for(let M=0;M<u.batchSize;++M)for(let e=0;e<u.inChannels;++e)for(let t=0;t<u.inDepth;++t)for(let n=0;n<u.inHeight;++n)for(let r=0;r<u.inWidth;++r){const a=t-S,i=n-E,s=r-N;let o=0;for(let t=0;t<v;t+=y){const n=(a+t)/h;if(!(n<0||n>=u.outDepth||Math.floor(n)!==n))for(let t=0;t<w;t+=x){const r=(i+t)/d;if(!(r<0||r>=u.outHeight||Math.floor(r)!==r))for(let t=0;t<k;t+=b){const a=(s+t)/p;if(a<0||a>=u.outWidth||Math.floor(a)!==a)continue;o+=j.get(M,n,r,a,e)}}}A.set(o*C,M,t,n,r,e)}return n.makeTensorInfo(A.shape,A.dtype,A.values)}};const ice={kernelName:YX,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{dy:a,input:i}=t,s=i;Bie([a,i],"avgPoolGrad");const{filterSize:o,strides:l,pad:c}=r,u=O2(s.shape,o,l,1,c),h=u.strideHeight,d=u.strideWidth,p=u.filterHeight,f=u.filterWidth,m=u.dilationHeight,g=u.dilationWidth,y=u.effectiveFilterHeight,x=u.effectiveFilterWidth,b=x-1-u.padInfo.left,v=y-1-u.padInfo.top,w=d2(s.shape,"float32"),k=1/(p*f),S=n.data.get(a.dataId).values,N=d2(a.shape,"float32",S);for(let E=0;E<u.batchSize;++E)for(let e=0;e<u.inChannels;++e)for(let t=0;t<u.inHeight;++t)for(let n=0;n<u.inWidth;++n){const r=t-v,a=n-b;let i=0;for(let t=0;t<y;t+=m){const n=(r+t)/h;if(!(n<0||n>=u.outHeight||Math.floor(n)!==n))for(let t=0;t<x;t+=g){const r=(a+t)/d;if(r<0||r>=u.outWidth||Math.floor(r)!==r)continue;i+=N.get(E,n,r,e)}}w.set(i*k,E,t,n,e)}return n.makeTensorInfo(w.shape,w.dtype,w.values)}};const sce={kernelName:WY,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a,scale:i,offset:s,mean:o,variance:l}=t;Yq(o.shape.length===l.shape.length,()=>"Batch normalization gradient requires mean and variance to have equal ranks."),Yq(null==s||o.shape.length===s.shape.length,()=>"Batch normalization gradient requires mean and offset to have equal ranks."),Yq(null==i||o.shape.length===i.shape.length,()=>"Batch normalization gradient requires mean and scale to have equal ranks."),Bie([a,o,l,i,s],"batchNorm");let{varianceEpsilon:c}=r;null==c&&(c=.001);const u=n.data.get(a.dataId).values,h=n.data.get(o.dataId).values,d=n.data.get(l.dataId).values,p=i?n.data.get(i.dataId).values:new Float32Array([1]),f=s?n.data.get(s.dataId).values:new Float32Array([0]),m=new Float32Array(u.length),g=f.length,y=p.length,x=d.length,b=h.length;let v=0,w=0,k=0,S=0;for(let N=0;N<u.length;++N)m[N]=f[v++]+(u[N]-h[w++])*p[k++]/Math.sqrt(d[S++]+c),v>=g&&(v=0),w>=b&&(w=0),k>=y&&(k=0),S>=x&&(S=0);return n.makeTensorInfo(a.shape,a.dtype,m)}};const oce={kernelName:tY,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{blockShape:i,crops:s}=r;Bie([a],"batchToSpaceND");const o=i.reduce((e,t)=>e*t),l=z5(a.shape,i,o),c=V5(l.length,i.length),u=B5(a.shape,i,o),h=H5(s,i.length),d=U5(u,s,i.length),p=jle({inputs:{x:a},backend:n,attrs:{shape:l}}),f=yoe({inputs:{x:p},backend:n,attrs:{perm:c}}),m=jle({inputs:{x:f},backend:n,attrs:{shape:u}}),g=Voe({inputs:{x:m},backend:n,attrs:{begin:h,size:d}});return n.disposeIntermediateTensorInfo(p),n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(m),g}};const lce={kernelName:nY,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a,weights:i}=t,{size:s}=r,o=use(n.data.get(a.dataId).values,n.data.get(i.dataId).values,i.dtype,i.shape,s);return n.makeTensorInfo([s],i.dtype,o)}};const cce={kernelName:aY,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{s0:r,s1:a}=t,i=n.data.get(r.dataId).values,s=n.data.get(a.dataId).values,o=I4(Array.from(i),Array.from(s));return n.makeTensorInfo([o.length],"int32",Int32Array.from(o))}},uce=mse(oY,(e,t)=>{const n=t;return e>n.clipValueMax?n.clipValueMax:e<n.clipValueMin?n.clipValueMin:e}),hce={kernelName:oY,backendName:"cpu",kernelFunc:uce},dce={kernelName:cY,backendName:"cpu",kernelFunc:e=>{const{x:t}=e.inputs,n=e.backend,r=new Float32Array(eX(t.shape)),a=n.data.get(t.dataId),i=a.complexTensorInfos.real,s=a.complexTensorInfos.imag,o=n.data.get(i.dataId).values,l=n.data.get(s.dataId).values;for(let c=0;c<o.length;c++){const e=o[c],t=l[c];r[c]=Math.hypot(e,t)}return n.makeOutput(r,t.shape,"float32")}};function pce(e){const{inputs:t,backend:n}=e,{input:r}=t,a=n.data.get(r.dataId).complexTensorInfos.imag,i=n.data.get(a.dataId).values;return n.makeTensorInfo(a.shape,a.dtype,i)}const fce={kernelName:QY,backendName:"cpu",kernelFunc:pce};function mce(e){const{inputs:t,backend:n,attrs:r}=e,{axis:a}=r,i=oX(a,t[0].shape)[0];T5(t.map(e=>e.shape),i);let s=I5(t.map(e=>e.shape),i);if(0===eX(s))return n.makeTensorInfo(s,t[0].dtype,[]);const o=t.filter(e=>eX(e.shape)>0);if(1===o.length)return Yie({inputs:{x:o[0]},backend:n});if("complex64"===o[0].dtype){const e=o.map(e=>Jie({inputs:{input:e},backend:n})),t=o.map(e=>pce({inputs:{input:e},backend:n})),r=mce({inputs:e,backend:n,attrs:{axis:i}}),a=mce({inputs:t,backend:n,attrs:{axis:i}}),s=Kie({inputs:{real:r,imag:a},backend:n});return e.forEach(e=>n.disposeIntermediateTensorInfo(e)),t.forEach(e=>n.disposeIntermediateTensorInfo(e)),n.disposeIntermediateTensorInfo(r),n.disposeIntermediateTensorInfo(a),s}const l=o.map(e=>{const t=eX(e.shape.slice(i));return jle({inputs:{x:e},backend:n,attrs:{shape:[-1,t]}})}),c=l.map(e=>({vals:n.data.get(e.dataId).values,shape:e.shape}));s=I5(l.map(e=>e.shape),1);const u=1===l[0].shape[0],h=vse(c,s,t[0].dtype,u),d=I5(o.map(e=>e.shape),i),p=n.makeTensorInfo(d,t[0].dtype,h);return l.forEach(e=>n.disposeIntermediateTensorInfo(e)),p}const gce={kernelName:uY,backendName:"cpu",kernelFunc:mce};function yce(e){const{inputs:t,backend:n,attrs:r}=e,{x:a,filter:i}=t,{strides:s,pad:o,dataFormat:l,dilations:c,dimRoundingMode:u}=r;Bie([a,i],"conv2d");const h=U2(l),d=R2(a.shape,i.shape,s,c,o,u,!1,h),p=d.filterHeight,f=d.filterWidth,m=d.dilationHeight,g=d.dilationWidth,y=d.padInfo.left,x=d.padInfo.top,b="channelsLast"===d.dataFormat,v=new P0(d.outShape,a.dtype),w=xX(a.shape),k=xX(i.shape),S=w[0],N=b?w[1]:w[2],E=b?w[2]:1,A=b?1:w[1],C=v.strides[0],j=b?v.strides[1]:v.strides[2],M=b?v.strides[2]:1,T=b?1:v.strides[1],I=n.data.get(a.dataId).values,O=n.data.get(i.dataId).values,P=v.values;for(let R=0;R<d.batchSize;++R){const e=R*S,t=R*C;for(let n=0;n<d.outHeight;++n){const r=t+n*j,a=n*d.strideHeight-x;for(let t=0;t<p;++t){const n=a+t*m;if(n<0||n>=d.inHeight)continue;const i=t*k[0],s=e+n*N;for(let e=0;e<d.outWidth;++e){const t=r+e*M,n=e*d.strideWidth-y;for(let e=0;e<f;++e){const r=n+e*g;if(r<0||r>=d.inWidth)continue;const a=s+r*E;let o=i+e*k[1];for(let e=0;e<d.inChannels;++e){const n=I[a+e*A];for(let e=0;e<d.outChannels;++e)P[t+e*T]+=n*O[o+e];o+=d.outChannels}}}}}}return n.makeTensorInfo(v.shape,v.dtype,P)}const xce={kernelName:hY,backendName:"cpu",kernelFunc:yce};const bce={kernelName:dY,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a,dy:i}=t,{strides:s,pad:o,dataFormat:l,dimRoundingMode:c,filterShape:u}=r;Bie([a,i],"conv2dBackpropFilter");const h=U2(l),d=R2(a.shape,u,s,1,o,c,!1,h),{strideHeight:p,strideWidth:f,filterHeight:m,filterWidth:g}=d,y="channelsLast"===d.dataFormat,x=new P0(d.filterShape,"float32"),b=d.padInfo.left,v=d.padInfo.top,w=n.data.get(a.dataId).values,k=n.data.get(i.dataId).values,S=new P0(a.shape,a.dtype,w),N=new P0(i.shape,i.dtype,k);for(let E=0;E<m;++E){const e=Math.max(0,Math.ceil((v-E)/p)),t=Math.min(d.outHeight,(d.inHeight+v-E)/p);for(let n=0;n<g;++n){const r=Math.max(0,Math.ceil((b-n)/f)),a=Math.min(d.outWidth,(d.inWidth+b-n)/f);for(let i=0;i<d.inChannels;++i)for(let s=0;s<d.outChannels;++s){let o=0;for(let l=0;l<d.batchSize;++l)for(let c=e;c<t;++c){const e=E+c*p-v;for(let t=r;t<a;++t){const r=n+t*f-b;o+=y?S.get(l,e,r,i)*N.get(l,c,t,s):S.get(l,i,e,r)*N.get(l,s,c,t)}}x.set(o,E,n,i,s)}}}return n.makeTensorInfo(x.shape,x.dtype,x.values)}};const vce={kernelName:pY,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{dy:a,filter:i}=t,{inputShape:s,strides:o,pad:l,dataFormat:c,dimRoundingMode:u}=r;Bie([a,i],"conv2dBackpropInput");const h=xX(i.shape),d=xX(a.shape);let p=U2(c);const f=R2(s,i.shape,o,1,l,u,!1,p),m=new P0(f.inShape,"float32"),g=m.values,y=n.data.get(a.dataId).values,x=n.data.get(i.dataId).values,[b,v,w]=h,{batchSize:k,filterHeight:S,filterWidth:N,inChannels:E,inHeight:A,inWidth:C,outChannels:j,outHeight:M,outWidth:T,strideHeight:I,strideWidth:O}=f;p=f.dataFormat;const P=S-1-f.padInfo.top,R=N-1-f.padInfo.left,_="channelsLast"===p,L=m.strides[0],$=_?m.strides[1]:m.strides[2],F=_?m.strides[2]:1,D=_?1:m.strides[1],z=d[0],V=_?d[1]:d[2],B=_?d[2]:1,H=_?1:d[1];for(let U=0;U<k;++U)for(let e=0;e<E;++e)for(let t=0;t<A;++t){const n=t-P,r=Math.max(0,Math.ceil(n/I)),a=Math.min(M,(S+n)/I);for(let i=0;i<C;++i){const s=i-R,o=Math.max(0,Math.ceil(s/O)),l=Math.min(T,(N+s)/O);let c=0;for(let t=r;t<a;++t){const r=t*I-n;for(let n=o;n<l;++n){const a=z*U+V*t+B*n,i=b*(S-1-r)+v*(N-1-(n*O-s))+w*e;for(let e=0;e<j;++e){c+=y[a+H*e]*x[i+e]}}}g[L*U+$*t+F*i+D*e]=c}}return n.makeTensorInfo(m.shape,m.dtype,m.values)}};const wce={kernelName:fY,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a,filter:i}=t,{strides:s,pad:o,dilations:l}=r;Bie([a,i],"conv3d");const c=_2(a.shape,i.shape,s,l,o),{filterDepth:u,filterHeight:h,filterWidth:d,dilationDepth:p,dilationHeight:f,dilationWidth:m,padInfo:g}=c,y=g.front,x=g.left,b=g.top,v=new P0(c.outShape,a.dtype),w=n.data.get(a.dataId).values,k=n.data.get(i.dataId).values,S=v.values,N=xX(a.shape),E=xX(i.shape);for(let A=0;A<c.batchSize;++A){const e=A*N[0],t=A*v.strides[0];for(let n=0;n<c.outDepth;++n){const r=t+n*v.strides[1],a=n*c.strideDepth-y;for(let t=0;t<u;++t){const n=a+t*p;if(n<0||n>=c.inDepth)continue;const i=t*E[0],s=e+n*N[1];for(let e=0;e<c.outHeight;++e){const t=r+e*v.strides[2],n=e*c.strideHeight-b;for(let e=0;e<h;++e){const r=n+e*f;if(r<0||r>=c.inHeight)continue;const a=i+e*E[1],o=s+r*N[2];for(let e=0;e<c.outWidth;++e){const n=t+e*c.outChannels,r=e*c.strideWidth-x;for(let e=0;e<d;++e){const t=r+e*m;if(t<0||t>=c.inWidth)continue;const i=a+e*E[2],s=o+t*c.inChannels;let l=i;for(let e=0;e<c.inChannels;++e){const t=w[s+e];for(let e=0;e<c.outChannels;++e)S[n+e]+=t*k[l+e];l+=c.outChannels}}}}}}}}return n.makeTensorInfo(v.shape,v.dtype,v.values)}};const kce={kernelName:mY,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a,dy:i}=t,{strides:s,pad:o,filterShape:l}=r;Bie([a,i],"conv3dBackpropFilterV2");const c=xX(a.shape),u=xX(i.shape),h=_2(a.shape,l,s,1,o),d=h.strideDepth,p=h.strideHeight,f=h.strideWidth,m=h.filterDepth,g=h.filterHeight,y=h.filterWidth,x=new P0(h.filterShape,"float32"),b=x.values,[v,w,k,S]=x.strides,N=n.data.get(i.dataId).values,[E,A,C,j]=u,M=n.data.get(a.dataId).values,[T,I,O,P]=c,R=h.padInfo.front,_=h.padInfo.left,L=h.padInfo.top;for(let $=0;$<m;++$){const e=Math.max(0,Math.ceil((R-$)/d)),t=Math.min(h.outDepth,(h.inDepth+R-$)/d),n=$*v;for(let r=0;r<g;++r){const a=Math.max(0,Math.ceil((L-r)/p)),i=Math.min(h.outHeight,(h.inHeight+L-r)/p),s=r*w+n;for(let n=0;n<y;++n){const o=Math.max(0,Math.ceil((_-n)/f)),l=Math.min(h.outWidth,(h.inWidth+_-n)/f),c=n*k+s;for(let s=0;s<h.inChannels;++s){const u=s*S+c;for(let c=0;c<h.outChannels;++c){let m=0;for(let u=0;u<h.batchSize;++u){const h=u*T,g=u*E;for(let u=e;u<t;++u){const e=($+u*d-R)*I+h,t=u*A+g;for(let u=a;u<i;++u){const a=(r+u*p-L)*O+e,i=u*C+t;for(let e=o;e<l;++e){const t=e*j+i;m+=M[(n+e*f-_)*P+a+s]*N[t+c]}}}}b[u+c]=m}}}}}return n.makeTensorInfo(x.shape,x.dtype,x.values)}};const Sce={kernelName:gY,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{dy:a,filter:i}=t,{pad:s,strides:o,inputShape:l}=r;Bie([a],"conv3dBackpropInputV2");const c=xX(a.shape),u=xX(i.shape),h=_2(l,i.shape,o,1,s),d=new P0(h.inShape,"float32"),p=d.values,[f,m,g,y]=d.strides,x=n.data.get(a.dataId).values,[b,v,w,k]=c,S=n.data.get(i.dataId).values,[N,E,A,C]=u,{batchSize:j,filterDepth:M,filterHeight:T,filterWidth:I,inChannels:O,inDepth:P,inHeight:R,inWidth:_,outChannels:L,outDepth:$,outHeight:F,outWidth:D,strideDepth:z,strideHeight:V,strideWidth:B}=h,H=M-1-h.padInfo.front,U=T-1-h.padInfo.top,W=I-1-h.padInfo.left;for(let Z=0;Z<j;++Z)for(let e=0;e<O;++e)for(let t=0;t<P;++t){const n=t-H,r=Math.max(0,Math.ceil(n/z)),a=Math.min($,(M+n)/z);for(let i=0;i<R;++i){const s=i-U,o=Math.max(0,Math.ceil(s/V)),l=Math.min(F,(T+s)/V);for(let c=0;c<_;++c){const u=c-W,h=Math.max(0,Math.ceil(u/B)),d=Math.min(D,(I+u)/B);let j=0;for(let t=r;t<a;++t){const r=t*z-n;for(let n=o;n<l;++n){const a=n*V-s;for(let i=h;i<d;++i){const s=b*Z+v*t+w*n+k*i,o=N*(M-1-r)+E*(T-1-a)+A*(I-1-(i*B-u))+C*e;for(let e=0;e<L;++e){j+=x[s+e]*S[o+e]}}}}p[f*Z+m*t+g*i+y*c+e]=j}}}return n.makeTensorInfo(d.shape,d.dtype,d.values)}},Nce=mse(yY,e=>Math.cos(e)),Ece={kernelName:yY,backendName:"cpu",kernelFunc:Nce},Ace=mse(xY,e=>Math.cosh(e)),Cce={kernelName:xY,backendName:"cpu",kernelFunc:Ace};const jce={kernelName:wY,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{image:a,boxes:i,boxInd:s}=t,{cropSize:o,method:l,extrapolationValue:c}=r,[u,h,d,p]=a.shape,f=i.shape[0],[m,g]=o,y=d2([f,m,g,p],"float32"),x=n.data.get(i.dataId).values,b=n.data.get(s.dataId).values,v=n.data.get(a.dataId).values,w=xX(a.shape),k=xX(y.shape);for(let S=0;S<f;S++){const e=4*S,t=x[e],n=x[e+1],r=x[e+2],a=x[e+3],i=b[S];if(i>=u)continue;const s=m>1?(r-t)*(h-1)/(m-1):0,o=g>1?(a-n)*(d-1)/(g-1):0;for(let u=0;u<m;u++){const e=m>1?t*(h-1)+u*s:.5*(t+r)*(h-1);if(e<0||e>h-1)for(let t=0;t<g;t++)for(let e=0;e<p;e++){const n=e+t*k[2]+u*k[1]+S*k[0];y.values[n]=c}else if("bilinear"===l){const t=Math.floor(e),r=Math.ceil(e),s=e-t;for(let e=0;e<g;e++){const l=g>1?n*(d-1)+e*o:.5*(n+a)*(d-1);if(l<0||l>d-1){for(let t=0;t<p;t++){const n=t+e*k[2]+u*k[1]+S*k[0];y.values[n]=c}continue}const h=Math.floor(l),f=Math.ceil(l),m=l-h;for(let n=0;n<p;n++){let a=n+h*w[2]+t*w[1]+i*w[0];const o=v[a];a=n+f*w[2]+t*w[1]+i*w[0];const l=v[a];a=n+h*w[2]+r*w[1]+i*w[0];const c=v[a];a=n+f*w[2]+r*w[1]+i*w[0];const d=o+(l-o)*m,p=c+(v[a]-c)*m;a=n+e*k[2]+u*k[1]+S*k[0],y.values[a]=d+(p-d)*s}}}else for(let t=0;t<g;++t){const r=g>1?n*(d-1)+t*o:.5*(n+a)*(d-1);if(r<0||r>d-1){for(let e=0;e<p;e++){const n=e+t*k[2]+u*k[1]+S*k[0];y.values[n]=c}continue}const s=Math.round(r),l=Math.round(e);for(let e=0;e<p;e++){const n=e+s*w[2]+l*w[1]+i*w[0],r=e+t*k[2]+u*k[1]+S*k[0];y.values[r]=v[n]}}}}return n.makeTensorInfo(y.shape,y.dtype,y.values)}};const Mce={kernelName:bY,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{axis:i,exclusive:s,reverse:o}=r;Bie(a,"cumprod");const l=W4([i],a.shape.length);let c=a;null!=l&&(c=yoe({inputs:{x:a},backend:n,attrs:{perm:l}}));const u=G4(1,a.shape.length)[0];if(u!==c.shape.length-1)throw new Error(`backend.cumprod in CPU expects an inner-most axis=${c.shape.length-1} but got axis=${u}`);const h=X0(c.dtype,"int32"),d=wX(eX(c.shape),h),p=n.data.get(c.dataId).values,f=c.shape[c.shape.length-1],m=o?(e,t)=>e+f-t-1:(e,t)=>e+t;for(let y=0;y<p.length;y+=f)for(let e=0;e<f;e++){const t=m(y,e);if(0===e)d[t]=s?1:p[t];else{const n=m(y,e-1);d[t]=s?p[n]*d[n]:p[t]*d[n]}}const g=n.makeTensorInfo(c.shape,h,d);if(null!=l){const e=yoe({inputs:{x:g},backend:n,attrs:{perm:Z4(l)}});return n.disposeIntermediateTensorInfo(g),n.disposeIntermediateTensorInfo(c),e}return g}};const Tce={kernelName:vY,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{axis:i,exclusive:s,reverse:o}=r;Bie(a,"cumsum");const l=W4([i],a.shape.length);let c=a;null!=l&&(c=yoe({inputs:{x:a},backend:n,attrs:{perm:l}}));const u=G4(1,a.shape.length)[0];if(u!==c.shape.length-1)throw new Error(`backend.cumsum in CPU expects an inner-most axis=${c.shape.length-1} but got axis=${u}`);const h=X0(c.dtype,"int32"),d=kX(eX(c.shape),h),p=n.data.get(c.dataId).values,f=c.shape[c.shape.length-1],m=o?(e,t)=>e+f-t-1:(e,t)=>e+t;for(let y=0;y<p.length;y+=f)for(let e=0;e<f;e++){const t=m(y,e);if(0===e)d[t]=s?0:p[t];else{const n=m(y,e-1);d[t]=s?p[n]+d[n]:p[t]+d[n]}}const g=n.makeTensorInfo(c.shape,h,d);if(null!=l){const e=yoe({inputs:{x:g},backend:n,attrs:{perm:Z4(l)}});return n.disposeIntermediateTensorInfo(g),n.disposeIntermediateTensorInfo(c),e}return g}};const Ice={kernelName:kY,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a,weights:i}=t,{size:s,binaryOutput:o}=r;if(1===a.shape.length){const e=use(n.data.get(a.dataId).values,n.data.get(i.dataId).values,i.dtype,i.shape,s);return n.makeTensorInfo([s],i.dtype,e)}if(2===a.shape.length){const e=hse(n.bufferSync(a),n.bufferSync(i),s,o);return n.makeTensorInfo(e.shape,i.dtype,e.values)}throw new Error(`Error in denseBincount: input must be at most rank 2, but got rank${a.shape.length}.`)}};const Oce={kernelName:SY,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{blockSize:i,dataFormat:s}=r;Yq("NHWC"===s,()=>`Only NHWC dataFormat supported on CPU for depthToSpace. Got ${s}`);const o=a.shape[0],l=a.shape[1],c=a.shape[2],u=a.shape[3],h=l*i,d=c*i,p=u/(i*i),f=n.data.get(a.dataId).values,m=new Float32Array(o*h*d*p);let g=0;for(let y=0;y<o;++y)for(let e=0;e<h;++e){const t=Math.floor(e/i),n=e%i;for(let e=0;e<d;++e){const r=Math.floor(e/i),a=(n*i+e%i)*p;for(let e=0;e<p;++e){const n=e+a+u*(r+c*(t+l*y));m[g++]=f[n]}}}return n.makeTensorInfo([o,h,d,p],a.dtype,m)}};function Pce(e){const{inputs:t,backend:n,attrs:r}=e,{x:a,filter:i}=t,{strides:s,pad:o,dilations:l,dimRoundingMode:c}=r;Bie([a,i],"depthwiseConv2DNative");const u=xX(a.shape),h=xX(i.shape);let d=l;null==d&&(d=[1,1]),Yq(B2(s,d),()=>`Error in depthwiseConv2d: Either strides or dilations must be 1. Got strides ${s} and dilations '${d}'`);const p=R2(a.shape,i.shape,s,d,o,c,!0),{filterHeight:f,filterWidth:m,dilationHeight:g,dilationWidth:y,padInfo:x}=p,b=x.left,v=x.top,w=p.outChannels/p.inChannels,k=new P0(p.outShape,a.dtype),S=n.data.get(a.dataId).values,N=n.data.get(i.dataId).values,E=k.values;for(let A=0;A<p.batchSize;++A){const e=A*u[0],t=A*k.strides[0];for(let n=0;n<p.outHeight;++n){const r=t+n*k.strides[1],a=n*p.strideHeight-v;for(let t=0;t<f;++t){const n=a+t*g;if(n<0||n>=p.inHeight)continue;const i=t*h[0],s=e+n*u[1];for(let e=0;e<p.outWidth;++e){const t=r+e*k.strides[2],n=e*p.strideWidth-b;for(let e=0;e<m;++e){const r=n+e*y;if(r<0||r>=p.inWidth)continue;const a=i+e*h[1],o=s+r*p.inChannels;let l=t,c=a;for(let e=0;e<p.inChannels;++e){const t=S[o+e];for(let e=0;e<w;++e)E[l+e]+=t*N[c+e];l+=w,c+=w}}}}}}return n.makeTensorInfo(k.shape,k.dtype,k.values)}const Rce={kernelName:NY,backendName:"cpu",kernelFunc:Pce};const _ce={kernelName:EY,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a,dy:i}=t,{strides:s,dilations:o,pad:l,dimRoundingMode:c,filterShape:u}=r;Bie([a,i],"depthwiseConv2dNativeBackpropFilter");const h=R2(a.shape,u,s,o,l,c,!0),{strideHeight:d,strideWidth:p,filterHeight:f,filterWidth:m}=h,g=new P0(h.filterShape,"float32"),y=h.padInfo.left,x=h.padInfo.top,b=h.outChannels/h.inChannels,v=n.data.get(a.dataId).values,w=new P0(a.shape,a.dtype,v),k=n.data.get(i.dataId).values,S=new P0(i.shape,i.dtype,k);for(let N=0;N<f;++N){const e=Math.max(0,Math.ceil((x-N)/d)),t=Math.min(h.outHeight,(h.inHeight+x-N)/d);for(let n=0;n<m;++n){const r=Math.max(0,Math.ceil((y-n)/p)),a=Math.min(h.outWidth,(h.inWidth+y-n)/p);for(let i=0;i<h.outChannels;++i){const s=Math.trunc(i/b),o=i%b;let l=0;for(let c=0;c<h.batchSize;++c)for(let o=e;o<t;++o){const e=N+o*d-x;for(let t=r;t<a;++t){const r=n+t*p-y;l+=w.get(c,e,r,s)*S.get(c,o,t,i)}}g.set(l,N,n,s,o)}}}return n.makeTensorInfo(g.shape,g.dtype,g.values)}};const Lce={kernelName:AY,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{dy:a,filter:i}=t,{strides:s,dilations:o,pad:l,dimRoundingMode:c,inputShape:u}=r;Bie([a,i],"depthwiseConv2DNativeBackpropInput");const h=xX(a.shape),d=xX(i.shape),p=R2(u,i.shape,s,o,l,c,!0),f=new P0(p.inShape,"float32"),m=f.values,[g,y,x]=f.strides,b=n.data.get(a.dataId).values,[v,w,k]=h,S=n.data.get(i.dataId).values,[N,E,A]=d,{batchSize:C,filterHeight:j,filterWidth:M,inChannels:T,inHeight:I,inWidth:O,outChannels:P,outHeight:R,outWidth:_,strideHeight:L,strideWidth:$}=p,F=j-1-p.padInfo.top,D=M-1-p.padInfo.left,z=P/T;for(let V=0;V<C;++V)for(let e=0;e<T;++e)for(let t=0;t<I;++t){const n=t-F,r=Math.max(0,Math.ceil(n/L)),a=Math.min(R,(j+n)/L);for(let i=0;i<O;++i){const s=i-D,o=Math.max(0,Math.ceil(s/$)),l=Math.min(_,(M+s)/$);let c=0;for(let t=r;t<a;++t){const r=t*L-n;for(let n=o;n<l;++n){const a=v*V+w*t+k*n,i=N*(j-1-r)+E*(M-1-(n*$-s))+A*e;for(let t=0;t<z;++t){c+=b[a+(e*z+t)]*S[i+t]}}}m[g*V+y*t+x*i+e]=c}}return n.makeTensorInfo(f.shape,f.dtype,f.values)}};const $ce={kernelName:CY,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{x:r}=t,a=eX(r.shape),i=n.data.get(r.dataId).values,s=d2([a,a],r.dtype),o=s.values;for(let c=0;c<i.length;c++)o[c*a+c]=i[c];const l=[...r.shape,...r.shape];return n.makeTensorInfo(l,s.dtype,s.values)}},Fce={kernelName:jY,backendName:"cpu",kernelFunc:({inputs:e,backend:t,attrs:n})=>{const{x:r,filter:a}=e,{strides:i,pad:s,dilations:o}=n,l=t,c=l.data.get(r.dataId).values,u=r.shape.length,h=l.data.get(a.dataId).values,d=a.shape.length,{batchSize:p,inHeight:f,inWidth:m,inChannels:g,outHeight:y,outWidth:x,padInfo:b,strideHeight:v,strideWidth:w,filterHeight:k,filterWidth:S,dilationHeight:N,dilationWidth:E,outShape:A}=I2(r.shape,a.shape,i,s,"NHWC",o),C=eX(A),j=A.length,M=uX(r.dtype,C);for(let T=0;T<p;++T)for(let e=0;e<y;++e){const t=e*v-b.top;for(let n=0;n<x;++n){const i=n*w-b.left;for(let s=0;s<g;++s){let o=Number.MIN_SAFE_INTEGER;for(let e=0;e<k;++e){const n=t+e*N;if(n>=0&&n<f)for(let t=0;t<S;++t){const l=i+t*E;if(l>=0&&l<m){const i=EX([T,n,l,s],u,xX(r.shape)),p=EX([e,t,s],d,xX(a.shape)),f=c[i]+h[p];f>o&&(o=f)}}}M[EX([T,e,n,s],j,xX(A))]=o}}}return{dataId:l.write(b0(M,r.dtype),A,r.dtype),shape:A,dtype:r.dtype}}},Dce={kernelName:TY,backendName:"cpu",kernelFunc:({inputs:e,backend:t,attrs:n})=>{const{x:r,filter:a,dy:i}=e,{strides:s,pad:o,dilations:l}=n,c=t,u=vX(r.shape,c.data.get(r.dataId).values),h=vX(a.shape,c.data.get(a.dataId).values),{batchSize:d,inHeight:p,inWidth:f,inChannels:m,outHeight:g,outWidth:y,padInfo:x,strideHeight:b,strideWidth:v,filterHeight:w,filterWidth:k,dilationHeight:S,dilationWidth:N,outShape:E}=I2(r.shape,a.shape,s,o,"NHWC",l);Yq(i.rank===E.length,()=>`Error in ${TY}, dy must have the same rank as output ${E.length}, but got ${i.rank}`);const A=vX(E,c.data.get(i.dataId).values),C=SX(a.shape,a.dtype);for(let j=0;j<d;++j)for(let e=0;e<g;++e){const t=e*b-x.top;for(let n=0;n<y;++n){const r=n*v-x.left;for(let a=0;a<m;++a){let i=Number.MIN_SAFE_INTEGER,s=0,o=0;for(let e=0;e<w;++e){const n=t+e*S;if(n>=0&&n<p)for(let t=0;t<k;++t){const l=r+t*N;if(l>=0&&l<f){const r=u[j][n][l][a]+h[e][t][a];r>i&&(i=r,s=e,o=t)}}}C[s][o][a]+=A[j][e][n][a]}}}return{dataId:c.write(b0(C,r.dtype),a.shape,a.dtype),shape:a.shape,dtype:a.dtype}}},zce={kernelName:MY,backendName:"cpu",kernelFunc:({inputs:e,backend:t,attrs:n})=>{const{x:r,filter:a,dy:i}=e,{strides:s,pad:o,dilations:l}=n,c=t,u=vX(r.shape,c.data.get(r.dataId).values),h=vX(a.shape,c.data.get(a.dataId).values),{batchSize:d,inHeight:p,inWidth:f,inChannels:m,outHeight:g,outWidth:y,padInfo:x,strideHeight:b,strideWidth:v,filterHeight:w,filterWidth:k,dilationHeight:S,dilationWidth:N,outShape:E}=I2(r.shape,a.shape,s,o,"NHWC",l);Yq(i.rank===E.length,()=>`Error in ${MY}, dy must have the same rank as output ${E.length}, but got ${i.rank}`);const A=vX(E,c.data.get(i.dataId).values),C=SX(r.shape,r.dtype);for(let j=0;j<d;++j)for(let e=0;e<g;++e){const t=e*b-x.top;for(let n=0;n<y;++n){const r=n*v-x.left;for(let a=0;a<m;++a){let i=Number.MIN_SAFE_INTEGER,s=t<0?0:t,o=r<0?0:r;for(let e=0;e<w;++e){const n=t+e*S;if(n>=0&&n<p)for(let t=0;t<k;++t){const l=r+t*N;if(l>=0&&l<f){const r=u[j][n][l][a]+h[e][t][a];r>i&&(i=r,s=n,o=l)}}}C[j][s][o][a]+=A[j][e][n][a]}}}return{dataId:c.write(b0(C,r.dtype),r.shape,r.dtype),shape:r.shape,dtype:r.dtype}}};const Vce={kernelName:"Draw",backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{image:a}=t,{canvas:i,options:s}=r,{contextOptions:o,imageOptions:l}=s||{},c=(null==l?void 0:l.alpha)||1,u=(null==o?void 0:o.contextType)||"2d";if("2d"!==u)throw new Error(`Context type ${o.contextType} is not supported by the CPU backend.`);const h=i.getContext(u,(null==o?void 0:o.contextAttributes)||{});if(null==h)throw new Error(`Could not get the context with ${u} type.`);const[d,p]=a.shape.slice(0,2),f=2===a.shape.length?1:a.shape[2],m=n.data.get(a.dataId).values,g="float32"===a.dtype?255:1,y=new Uint8ClampedArray(p*d*4);for(let b=0;b<d*p;++b){const e=[0,0,0,255*c];for(let n=0;n<f;n++){const t=m[b*f+n];if("float32"===a.dtype){if(t<0||t>1)throw new Error(`Tensor values for a float32 Tensor must be in the range [0 - 1] but encountered ${t}.`)}else if("int32"===a.dtype&&(t<0||t>255))throw new Error(`Tensor values for a int32 Tensor must be in the range [0 - 255] but encountered ${t}.`);1===f?(e[0]=t*g,e[1]=t*g,e[2]=t*g):e[n]=t*g}const t=4*b;y[t+0]=Math.round(e[0]),y[t+1]=Math.round(e[1]),y[t+2]=Math.round(e[2]),y[t+3]=Math.round(e[3])}i.width=p,i.height=d;const x=new ImageData(y,p,d);return h.putImageData(x,0,0),a}};function Bce(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{axis:i,keepDims:s}=r;let o;Bie(a,"sum"),o="bool"===a.dtype?nse({inputs:{x:a},backend:n,attrs:{dtype:"int32"}}):Yie({inputs:{x:a},backend:n});const l=o.shape.length,c=oX(i,o.shape),u=W4(c,l);let h=c,d=o;null!=u&&(d=yoe({inputs:{x:o},backend:n,attrs:{perm:u}}),h=G4(h.length,l)),U4("sum",h,d.shape.length);const[p,f]=B4(d.shape,h);let m=Xie(n,p,X0(d.dtype,"int32"));const g=eX(f),y=n.data.get(m.dataId).values,x=n.data.get(d.dataId).values;for(let b=0;b<y.length;++b){const e=b*g;let t=0;for(let n=0;n<g;++n)t+=x[e+n];y[b]=t}if(s){const e=m;m=jle({inputs:{x:m},backend:n,attrs:{shape:H4(m.shape,c)}}),n.disposeIntermediateTensorInfo(e)}return n.disposeIntermediateTensorInfo(o),null!=u&&n.disposeIntermediateTensorInfo(d),m}const Hce={kernelName:pJ,backendName:"cpu",kernelFunc:Bce};const Uce={kernelName:OY,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{equation:a}=r,i=t,{allDims:s,summedDims:o,idDims:l}=c9(a,i.length);h9(s.length,l,i);const{path:c,steps:u}=d9(o,l),h=u.length;let d=null,p=s.length;const f=[];for(let m=0;m<h;++m){for(const e of u[m]){const{permutationIndices:t,expandDims:r}=u9(p,l[e]);let a;p9(t)?a=i[e]:(a=yoe({inputs:{x:i[e]},backend:n,attrs:{perm:t}}),f.push(a));const s=a.shape.slice();for(let e=0;e<r.length;++e)s.splice(r[e],0,1);tX(a.shape,s)||(a=jle({inputs:{x:a},backend:n,attrs:{shape:s}}),f.push(a)),null===d?d=a:(d=coe({inputs:{a:a,b:d},backend:n}),f.push(d))}m<h-1&&(c[m]>=0&&(d=Bce({inputs:{x:d},backend:n,attrs:{axis:c[m]-(s.length-p),keepDims:!1}}),f.push(d)),p--)}for(const m of f)m!==d&&n.disposeIntermediateTensorInfo(m);return d}};const Wce={kernelName:RY,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{dy:r,y:a}=t;Bie([r,a],"eluGrad");const i=new Float32Array(eX(a.shape)),s=n.data.get(a.dataId).values,o=n.data.get(r.dataId).values;for(let l=0;l<s.length;++l){const e=s[l];i[l]=e>=0?o[l]:o[l]*(e+1)}return n.makeTensorInfo(a.shape,"float32",i)}},Zce=G5,Gce=K5,Kce=q5,qce=X5,Xce=Y5,Yce=Q5,Qce=mse(_Y,e=>{const t=Math.sign(e),n=Math.abs(e),r=1/(1+Zce*n);return t*(1-((((Yce*r+Xce)*r+qce)*r+Kce)*r+Gce)*r*Math.exp(-n*n))}),Jce={kernelName:_Y,backendName:"cpu",kernelFunc:Qce};function eue(e){const{inputs:t,backend:n,attrs:r}=e,{input:a}=t,{dim:i}=r,s=a.shape.length,o=a.shape.slice();let l=i;return i<0&&(Yq(-(s+1)<=i,()=>`Axis must be in the interval [${-(s+1)}, ${s}]`),l=s+i+1),o.splice(l,0,1),jle({inputs:{x:a},backend:n,attrs:{shape:o}})}const tue={kernelName:FY,backendName:"cpu",kernelFunc:eue},nue=Gie((e,t)=>e/t),rue=ase(IY,nue),aue={kernelName:IY,backendName:"cpu",kernelFunc:rue};function iue(e,t,n){const r=e.shape,a=r[0],i=r[1],s=n.data.get(e.dataId),o=s.complexTensorInfos.real,l=s.complexTensorInfos.imag,c=[a,i],u=eX(c),h=cX("float32",u),d=cX("float32",u);for(let g=0;g<a;g++){const e=Voe({inputs:{x:o},backend:n,attrs:{begin:[g,0],size:[1,i]}}),r=Voe({inputs:{x:l},backend:n,attrs:{begin:[g,0],size:[1,i]}}),a=Kie({inputs:{real:e,imag:r},backend:n}),{real:s,imag:c}=sue(a,t,n),u=J5(s,c);for(let t=0;t<i;t++){const e=r9(u,t);h[g*i+t]=e.real,d[g*i+t]=e.imag}n.disposeIntermediateTensorInfo(e),n.disposeIntermediateTensorInfo(r),n.disposeIntermediateTensorInfo(a)}const p=n.makeTensorInfo(c,"float32",h),f=n.makeTensorInfo(c,"float32",d),m=Kie({inputs:{real:p,imag:f},backend:n});return n.disposeIntermediateTensorInfo(p),n.disposeIntermediateTensorInfo(f),m}function sue(e,t,n){const r=eX(e.shape),a=n.data.get(e.dataId),i=n.data.get(a.complexTensorInfos.real.dataId).values,s=n.data.get(a.complexTensorInfos.imag.dataId).values;if((o=r)&o-1){const e=function(e,t,n){const r=new Float32Array(2*t);for(let a=0;a<t;a++){let i=0,s=0;for(let r=0;r<t;r++){const o=s9(a*r,t,n),l=r9(e,r);i+=l.real*o.real-l.imag*o.imag,s+=l.real*o.imag+l.imag*o.real}n&&(i/=t,s/=t),a9(r,i,s,a)}return r}(J5(i,s),r,t);return e9(e)}{const a=oue(i,s,r,t,n),o=[e.shape[0],e.shape[1]];if(t){const e=n.makeTensorInfo(o,"float32",a.real),t=n.makeTensorInfo(o,"float32",a.imag),i=n.makeTensorInfo([],"float32",x0(r,"float32")),s=Yie({inputs:{x:i},backend:n}),l=aue.kernelFunc({inputs:{a:e,b:i},backend:n}),c=aue.kernelFunc({inputs:{a:t,b:s},backend:n}),u=n.data.get(l.dataId).values,h=n.data.get(c.dataId).values;return n.disposeIntermediateTensorInfo(e),n.disposeIntermediateTensorInfo(t),n.disposeIntermediateTensorInfo(i),n.disposeIntermediateTensorInfo(s),n.disposeIntermediateTensorInfo(l),n.disposeIntermediateTensorInfo(c),{real:u,imag:h}}return a}var o}function oue(e,t,n,r,a){if(1===n)return{real:e,imag:t};const i=J5(e,t),s=n/2,o=t9(i),l=o.real,c=o.imag,u=[l.length],h=a.makeTensorInfo(u,"float32",l),d=a.makeTensorInfo(u,"float32",c),p=Kie({inputs:{real:h,imag:d},backend:a}),f=n9(i),m=f.real,g=f.imag,y=[m.length],x=a.makeTensorInfo(y,"float32",m),b=a.makeTensorInfo(y,"float32",g),v=Kie({inputs:{real:x,imag:b},backend:a}),w=oue(l,c,s,r,a),k=w.real,S=w.imag,N=[k.length],E=a.makeTensorInfo(N,"float32",k),A=a.makeTensorInfo(N,"float32",S),C=Kie({inputs:{real:E,imag:A},backend:a}),j=oue(m,g,s,r,a),M=j.real,T=j.imag,I=[M.length],O=a.makeTensorInfo(I,"float32",M),P=a.makeTensorInfo(I,"float32",T),R=Kie({inputs:{real:O,imag:P},backend:a}),_=i9(n,r),L=[_.real.length],$=a.makeTensorInfo(L,"float32",_.real),F=a.makeTensorInfo(L,"float32",_.imag),D=Kie({inputs:{real:$,imag:F},backend:a}),z=coe({inputs:{a:D,b:R},backend:a}),V=lse({inputs:{a:C,b:z},backend:a}),B=lle({inputs:{a:C,b:z},backend:a}),H=Jie({inputs:{input:V},backend:a}),U=Jie({inputs:{input:B},backend:a}),W=pce({inputs:{input:V},backend:a}),Z=pce({inputs:{input:B},backend:a}),G=mce({inputs:[H,U],backend:a,attrs:{axis:0}}),K=mce({inputs:[W,Z],backend:a,attrs:{axis:0}}),q=a.data.get(G.dataId).values,X=a.data.get(K.dataId).values;return a.disposeIntermediateTensorInfo(h),a.disposeIntermediateTensorInfo(d),a.disposeIntermediateTensorInfo(p),a.disposeIntermediateTensorInfo(x),a.disposeIntermediateTensorInfo(b),a.disposeIntermediateTensorInfo(v),a.disposeIntermediateTensorInfo(E),a.disposeIntermediateTensorInfo(A),a.disposeIntermediateTensorInfo(C),a.disposeIntermediateTensorInfo(O),a.disposeIntermediateTensorInfo(P),a.disposeIntermediateTensorInfo(R),a.disposeIntermediateTensorInfo($),a.disposeIntermediateTensorInfo(F),a.disposeIntermediateTensorInfo(D),a.disposeIntermediateTensorInfo(z),a.disposeIntermediateTensorInfo(V),a.disposeIntermediateTensorInfo(B),a.disposeIntermediateTensorInfo(H),a.disposeIntermediateTensorInfo(W),a.disposeIntermediateTensorInfo(U),a.disposeIntermediateTensorInfo(Z),a.disposeIntermediateTensorInfo(G),a.disposeIntermediateTensorInfo(K),{real:q,imag:X}}const lue={kernelName:zY,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{input:r}=t,a=eX(r.shape),i=r.shape[r.shape.length-1],s=jle({inputs:{x:r},backend:n,attrs:{shape:[a/i,i]}}),o=iue(s,!1,n),l=jle({inputs:{x:o},backend:n,attrs:{shape:r.shape}});return n.disposeIntermediateTensorInfo(s),n.disposeIntermediateTensorInfo(o),l}};function cue(e){const{backend:t,attrs:n}=e,{shape:r,value:a,dtype:i}=n,s=i||mX(a),o=uX(s,eX(r));return function(e,t){e.fill(t)}(o,a),t.makeTensorInfo(r,s,o)}const uue={kernelName:VY,backendName:"cpu",kernelFunc:cue};const hue={kernelName:BY,backendName:"cpu",kernelFunc:({inputs:e,attrs:t,backend:n})=>{const{image:r}=e,a=n,i=cX(r.dtype,eX(r.shape)),[s,o,l,c]=r.shape,u=a.data.get(r.dataId).values;for(let h=0;h<s;h++){const e=h*l*o*c;for(let t=0;t<o;t++){const n=t*(l*c);for(let t=0;t<l;t++){const r=t*c;for(let a=0;a<c;a++){const s=Math.round(l-t-1),o=e+n+r+a;let h=u[o];if(s>=0&&s<l){h=u[e+n+s*c+a]}i[o]=h}}}}return{dataId:a.write(i,r.shape,r.dtype),shape:r.shape,dtype:r.dtype}}};const due={kernelName:HJ,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a,filter:i,bias:s,preluActivationWeights:o}=t,{strides:l,pad:c,dataFormat:u,dilations:h,dimRoundingMode:d,activation:p,leakyreluAlpha:f}=r;let m=yce({inputs:{x:a,filter:i},backend:n,attrs:{strides:l,pad:c,dataFormat:u,dilations:h,dimRoundingMode:d}});if(s){const e=m;if("NCHW"===u&&1===s.shape.length&&1!==s.shape[0]){const e=jle({inputs:{x:s},backend:n,attrs:{shape:[s.shape[0],1,1]}});m=lse({inputs:{a:m,b:e},backend:n}),n.disposeIntermediateTensorInfo(e)}else m=lse({inputs:{a:m,b:s},backend:n});n.disposeIntermediateTensorInfo(e)}if(p){const e=m;if("NCHW"===u&&"prelu"===p&&1===o.shape.length&&1!==o.shape[0]){const e=jle({inputs:{x:o},backend:n,attrs:{shape:[o.shape[0],1,1]}});m=Cle(n,m,p,e,f),n.disposeIntermediateTensorInfo(e)}else m=Cle(n,m,p,o,f);n.disposeIntermediateTensorInfo(e)}return m}};const pue={kernelName:UJ,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a,filter:i,bias:s,preluActivationWeights:o}=t,{strides:l,pad:c,dataFormat:u,dilations:h,dimRoundingMode:d,activation:p,leakyreluAlpha:f}=r;let m=Pce({inputs:{x:a,filter:i},backend:n,attrs:{strides:l,pad:c,dataFormat:u,dilations:h,dimRoundingMode:d}});if(s){const e=m;m=lse({inputs:{a:m,b:s},backend:n}),n.disposeIntermediateTensorInfo(e)}if(p){const e=m;m=Cle(n,m,p,o,f),n.disposeIntermediateTensorInfo(e)}return m}};const fue={kernelName:GY,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{params:r,indices:a}=t,i=eX(r.shape),s=a.shape,o=s[s.length-1],[l,c,u,h]=u5(r,a);if(0===c)return n.makeTensorInfo(l,r.dtype,[]);const d=Lse(n.data.get(a.dataId).values,n.bufferSync(r),r.dtype,c,o,u,h,r.shape,i);return n.makeTensorInfo(l,r.dtype,d.values)}};const mue={kernelName:ZY,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a,indices:i}=t,{axis:s,batchDims:o}=r;Bie([a,i],"gatherV2");const l=oX(s,a.shape)[0],c=n.data.get(i.dataId).values,u=a.shape[l];for(let b=0;b<c.length;++b){const e=c[b];Yq(e<=u-1&&e>=0,()=>`GatherV2: the index value ${e} is not in [0, ${u-1}]`)}let h=o;null==o&&(h=0);const d=eX(i.shape),p=T9(a,i,l,h),f=jle({inputs:{x:a},backend:n,attrs:{shape:[p.batchSize,p.outerSize,p.dimSize,p.sliceSize]}}),m=jle({inputs:{x:i},backend:n,attrs:{shape:[p.batchSize,d/p.batchSize]}}),g=[p.batchSize,p.outerSize,d/p.batchSize,p.sliceSize],y=n.bufferSync(m),x=$se(n.bufferSync(f),y,g);return n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(m),n.makeTensorInfo(p.outputShape,x.dtype,x.values)}};const gue={kernelName:YY,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{input:r}=t,a=eX(r.shape),i=r.shape[r.shape.length-1],s=jle({inputs:{x:r},backend:n,attrs:{shape:[a/i,i]}}),o=iue(s,!0,n),l=jle({inputs:{x:o},backend:n,attrs:{shape:r.shape}});return n.disposeIntermediateTensorInfo(s),n.disposeIntermediateTensorInfo(o),l}},yue=mse(JY,e=>Number.isFinite(e)?1:0,"bool"),xue={kernelName:JY,backendName:"cpu",kernelFunc:yue},bue=mse(eQ,e=>Math.abs(e)===1/0?1:0,"bool"),vue={kernelName:eQ,backendName:"cpu",kernelFunc:bue},wue=mse(tQ,e=>Number.isNaN(e)?1:0,"bool"),kue={kernelName:tQ,backendName:"cpu",kernelFunc:wue};const Sue={kernelName:iQ,backendName:"cpu",kernelFunc:function(e){const{backend:t,attrs:n}=e,{start:r,stop:a,num:i}=n,s=Xse(r,a,i);return t.makeTensorInfo([s.length],"float32",s)}},Nue=mse(oQ,e=>Math.log1p(e)),Eue={kernelName:oQ,backendName:"cpu",kernelFunc:Nue},Aue=Gie((e,t)=>e&&t),Cue=ase(lQ,Aue,null,"bool"),jue={kernelName:lQ,backendName:"cpu",kernelFunc:Cue},Mue=mse(cQ,e=>e?0:1,"bool"),Tue={kernelName:cQ,backendName:"cpu",kernelFunc:Mue},Iue=Gie((e,t)=>e||t),Oue=ase(uQ,Iue,null,"bool"),Pue={kernelName:uQ,backendName:"cpu",kernelFunc:Oue};const Rue={kernelName:hQ,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{depthRadius:i,bias:s,alpha:o,beta:l}=r;Bie(a,"LRN");const c=a.shape[3],u=c-1,h=n.data.get(a.dataId).values,d=eX(a.shape),p=new Float32Array(d);function f(e){const t=e%c;let n=e-t+Math.max(0,t-i);const r=e-t+Math.min(t+i,u);let a=0;for(;n<=r;n++){const e=h[n];a+=e*e}return a}for(let m=0;m<d;m++){const e=f(m),t=h[m]*Math.pow(s+o*e,-l);p[m]=t}return n.makeTensorInfo(a.shape,a.dtype,p)}};const _ue={kernelName:dQ,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a,y:i,dy:s}=t,{depthRadius:o,bias:l,alpha:c,beta:u}=r;Bie(s,"LRNGrad");const h=eX(s.shape),d=s.shape[3],p=n.data.get(s.dataId).values,f=n.data.get(a.dataId).values,m=n.data.get(i.dataId).values,g=new Float32Array(h),y=h;for(let x=0;x<y;x++){const e=x%d,t=x-e+Math.max(0,e-o),n=x-e+Math.min(d,e+o+1);let r=0;for(let a=t;a<n;a++)r+=Math.pow(f[a],2);r=c*r+l;for(let a=t;a<n;a++){let e=-2*c*u*f[a]*m[x]/r;x===a&&(e+=Math.pow(r,-u)),e*=p[x],g[a]+=e}}return n.makeTensorInfo(s.shape,a.dtype,g)}};function Lue(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{reductionIndices:i,keepDims:s}=r,o=n;let l=a.shape;const c=l.length,u=oX(i,l);let h=u;const d=W4(h,c);let p=o.data.get(a.dataId).values;if(null!=d){const e=new Array(c);for(let t=0;t<e.length;t++)e[t]=l[d[t]];p=goe(p,l,a.dtype,d,e),h=G4(h.length,c),l=e}Bie(a,"max"),U4("max",h,c);const[f,m]=B4(l,h),g=eoe(p,eX(m),f,a.dtype),y=o.write(g,f,a.dtype);let x=f;if(s){x=H4(f,u)}return{dataId:y,shape:x,dtype:a.dtype}}const $ue={kernelName:pQ,backendName:"cpu",kernelFunc:Lue};const Fue={kernelName:mQ,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t;Bie(a,"maxPool");const{filterSize:i,strides:s,pad:o,dimRoundingMode:l}=r;Yq(B2(s,1),()=>`Error in maxPool: Either strides or dilations must be 1. Got strides ${s} and dilations '1'`);const c=O2(a.shape,i,s,1,o,l);let u;if(1===c.filterWidth&&1===c.filterHeight&&tX(c.inShape,c.outShape))u=Yie({inputs:{x:a},backend:n});else{const e=n.data.get(a.dataId).values,t=xX(a.shape),r=Jle(e,a.shape,a.dtype,t,c,"max");u=n.makeTensorInfo(c.outShape,a.dtype,r.values)}return u}};const Due={kernelName:yQ,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{filterSize:i,strides:s,pad:o,dimRoundingMode:l,dataFormat:c}=r;Bie(a,"maxPool3d");const u=P2(a.shape,i,s,1,o,l,c),h=tce(n.data.get(a.dataId).values,a.shape,a.dtype,xX(a.shape),u,"max");return n.makeTensorInfo(h.shape,"float32",h.values)}};const zue={kernelName:xQ,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{dy:a,input:i}=t,{filterSize:s,strides:o,pad:l,dimRoundingMode:c}=r;Bie([a,i],"maxPool3DGrad");const u=P2(i.shape,s,o,1,l,c),h=function(e,t){const n=d2(t.outShape,"int32"),r=t.strideDepth,a=t.strideHeight,i=t.strideWidth,s=t.dilationDepth,o=t.dilationHeight,l=t.dilationWidth,c=t.effectiveFilterDepth,u=t.effectiveFilterHeight,h=t.effectiveFilterWidth,d=t.padInfo.front,p=t.padInfo.top,f=t.padInfo.left;for(let m=0;m<t.batchSize;++m)for(let g=0;g<t.inChannels;++g)for(let y=0;y<t.outDepth;++y){const x=y*r-d;let b=x;for(;b<0;)b+=s;const v=Math.min(t.inDepth,c+x);for(let r=0;r<t.outHeight;++r){const c=r*a-p;let d=c;for(;d<0;)d+=o;const w=Math.min(t.inHeight,u+c);for(let a=0;a<t.outWidth;++a){const p=a*i-f;let k=p;for(;k<0;)k+=l;const S=Math.min(t.inWidth,h+p);let N=Number.NEGATIVE_INFINITY,E=-1;for(let t=b;t<v;t+=s){const n=t-x;for(let r=d;r<w;r+=o){const a=r-c;for(let i=k;i<S;i+=l){const s=i-p,o=e.get(m,t,r,i,g);o>=N&&(N=o,E=n*u*h+a*u+s)}}}n.set(E,m,y,r,a,g)}}}return n}(n.bufferSync(i),u),d=u.strideDepth,p=u.strideHeight,f=u.strideWidth,m=u.dilationDepth,g=u.dilationHeight,y=u.dilationWidth,x=u.effectiveFilterDepth,b=u.effectiveFilterHeight,v=u.effectiveFilterWidth,w=x-1-u.padInfo.front,k=v-1-u.padInfo.left,S=b-1-u.padInfo.top,N=d2(i.shape,"float32"),E=n.bufferSync(a);for(let A=0;A<u.batchSize;++A)for(let e=0;e<u.inChannels;++e)for(let t=0;t<u.inDepth;++t)for(let n=0;n<u.inHeight;++n)for(let r=0;r<u.inWidth;++r){const a=t-w,i=n-S,s=r-k;let o=0;for(let t=0;t<x;t+=m){const n=(a+t)/d;if(!(n<0||n>=u.outDepth||Math.floor(n)!==n))for(let r=0;r<b;r+=g){const a=(i+r)/p;if(!(a<0||a>=u.outHeight||Math.floor(a)!==a))for(let i=0;i<v;i+=y){const l=(s+i)/f;if(l<0||l>=u.outWidth||Math.floor(l)!==l)continue;const c=x*b*v-1-h.get(A,n,a,l,e)===t*b*v+r*v+i?1:0;if(0===c)continue;o+=E.get(A,n,a,l,e)*c}}}N.set(o,A,t,n,r,e)}return n.makeTensorInfo(N.shape,N.dtype,N.values)}};const Vue={kernelName:gQ,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{dy:a,input:i,output:s}=t,o=i;Bie([i,s],"maxPoolGrad");const{filterSize:l,strides:c,pad:u,dimRoundingMode:h}=r,d=O2(o.shape,l,c,1,u,h),p=n.data.get(o.dataId).values,f=d2(d.outShape,o.dtype,ece(p,o.shape,o.dtype,d).values),m=d.strideHeight,g=d.strideWidth,y=d.dilationHeight,x=d.dilationWidth,b=d.effectiveFilterHeight,v=d.effectiveFilterWidth,w=v-1-d.padInfo.left,k=b-1-d.padInfo.top,S=d2(o.shape,"float32"),N=n.data.get(a.dataId).values,E=d2(a.shape,"float32",N);for(let A=0;A<d.batchSize;++A)for(let e=0;e<d.inChannels;++e)for(let t=0;t<d.inHeight;++t)for(let n=0;n<d.inWidth;++n){const r=t-k,a=n-w;let i=0;for(let t=0;t<b;t+=y){const n=(r+t)/m;if(!(n<0||n>=d.outHeight||Math.floor(n)!==n))for(let r=0;r<v;r+=x){const s=(a+r)/g;if(s<0||s>=d.outWidth||Math.floor(s)!==s)continue;const o=b*v-1-f.get(A,n,s,e)===t*v+r?1:0;if(0===o)continue;i+=E.get(A,n,s,e)*o}}S.set(i,A,t,n,e)}return n.makeTensorInfo(S.shape,S.dtype,S.values)}};const Bue={kernelName:bQ,backendName:"cpu",kernelFunc:({inputs:e,attrs:t,backend:n})=>{const{x:r}=e,{filterSize:a,strides:i,pad:s,includeBatchInIndex:o}=t,l=n;Bie(r,"MaxPoolWithArgmax");const c=l.data.get(r.dataId).values,u=O2(r.shape,a,i,[1,1],s),[h,d]=function(e,t,n,r,a){const i=Jle(e,0,n,xX(t),a,"max"),s=ece(e,t,n,a,!0,r);return[i.values,s.values]}(c,r.shape,r.dtype,o,u),p=l.write(h,u.outShape,r.dtype),f=l.write(d,u.outShape,r.dtype);return[{dataId:p,shape:u.outShape,dtype:r.dtype},{dataId:f,shape:u.outShape,dtype:"int32"}]}};const Hue={kernelName:vQ,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{axis:i,keepDims:s}=r,o=oX(i,a.shape),l=eX(B4(a.shape,o)[1]),c=[],u=n.makeTensorInfo([],"float32",new Float32Array([l]));c.push(u);const h=nse({inputs:{x:a},backend:n,attrs:{dtype:"float32"}});c.push(h);const d=rue({inputs:{a:h,b:u},backend:n});c.push(d);const p=Bce({inputs:{x:d},backend:n,attrs:{axis:i,keepDims:s}});return c.forEach(e=>n.disposeIntermediateTensorInfo(e)),p}};const Uue={kernelName:wQ,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{axis:i,keepDims:s}=r;Bie(a,"min");const o=oX(i,a.shape);let l=o;const c=W4(l,a.shape.length);let u=a;null!=c&&(u=yoe({inputs:{x:a},backend:n,attrs:{perm:c}}),l=G4(l.length,a.shape.length)),U4("min",l,u.shape.length);const[h,d]=B4(u.shape,l),p=eX(d),f=kX(eX(h),u.dtype),m=n.data.get(u.dataId).values;for(let y=0;y<f.length;++y){const e=y*p;let t=m[e];for(let n=0;n<p;++n){const r=m[e+n];(Number.isNaN(r)||r<t)&&(t=r)}f[y]=t}null!=c&&n.disposeIntermediateTensorInfo(u);const g=n.makeTensorInfo(h,u.dtype,f);if(s){const e=jle({inputs:{x:g},backend:n,attrs:{shape:H4(h,o)}});return n.disposeIntermediateTensorInfo(g),e}return g}};const Wue={kernelName:SQ,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{paddings:i,mode:s}=r;Bie(a,"mirrorPad");const o=i.map((e,t)=>e[0]+a.shape[t]+e[1]),l=i.map(e=>e[0]),c=i.map((e,t)=>e[0]+a.shape[t]),u="reflect"===s?0:1,h=n.data.get(a.dataId).values,d=a.shape.length,p=xX(a.shape),f=eX(o),m=o.length,g=xX(o),y=cX(a.dtype,f);for(let x=0;x<f;x++){let e=AX(x,m,g);for(let n=0;n<m;n++)e[n]<l[n]?e[n]=2*l[n]-e[n]-u:e[n]>=c[n]&&(e[n]=2*(c[n]-1)-e[n]+u);e=e.map((e,t)=>e-l[t]);const t=EX(e,d,p);y[x]=h[t]}return{dataId:n.write(y,o,a.dtype),shape:o,dtype:a.dtype}}},Zue=Gie((e,t)=>{const n=e%t;return e<0&&t<0||e>=0&&t>=0?n:(n+t)%t}),Gue=ase(NQ,Zue),Kue={kernelName:NQ,backendName:"cpu",kernelFunc:Gue};function que(e){const{inputs:t,backend:n,attrs:r}=e,{logits:a}=t,{dim:i}=r,s=a.shape.length;let o=i;if(-1===o&&(o=s-1),o!==s-1)throw Error(`Softmax along a non-last dimension is not yet supported. Logits was rank ${s} and dim was ${o}`);const l=oX([o],a.shape),c=Lue({inputs:{x:a},backend:n,attrs:{reductionIndices:l,keepDims:!1}}),u=H4(c.shape,l),h=jle({inputs:{x:c},backend:n,attrs:{shape:u}}),d=lle({inputs:{a:a,b:h},backend:n}),p=Ese({inputs:{x:d},backend:n}),f=Bce({inputs:{x:p},backend:n,attrs:{axis:l,keepDims:!1}}),m=jle({inputs:{x:f},backend:n,attrs:{shape:u}}),g=rue({inputs:{a:p,b:m},backend:n});return n.disposeIntermediateTensorInfo(c),n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(d),n.disposeIntermediateTensorInfo(p),n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(m),g}const Xue={kernelName:gJ,backendName:"cpu",kernelFunc:que};const Yue={kernelName:EQ,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{logits:a}=t,{numSamples:i,seed:s,normalized:o}=r;Bie(a,"multinomial");const l=o?a:que({inputs:{logits:a},backend:n,attrs:{dim:-1}}),c=l.shape[0],u=l.shape[1],h=n.data.get(l.dataId).values,d=[c,i],p=kX(eX(d),"int32");for(let f=0;f<c;++f){const e=f*u,t=new Float32Array(u-1);t[0]=h[e];for(let a=1;a<t.length;++a)t[a]=t[a-1]+h[e+a];const n=x6.alea(s.toString()),r=f*i;for(let a=0;a<i;++a){const e=n();p[r+a]=t.length;for(let n=0;n<t.length;n++)if(e<t[n]){p[r+a]=n;break}}}return o||n.disposeIntermediateTensorInfo(l),n.makeTensorInfo(d,"int32",p)}},Que=j3;const Jue={kernelName:MQ,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{boxes:a,scores:i}=t,{maxOutputSize:s,iouThreshold:o,scoreThreshold:l}=r;Bie(a,"NonMaxSuppression");const c=n.data.get(a.dataId).values,u=n.data.get(i.dataId).values,{selectedIndices:h}=Que(c,u,s,o,l);return n.makeTensorInfo([h.length],"int32",new Int32Array(h))}},ehe=M3;const the={kernelName:TQ,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{boxes:a,scores:i}=t,{maxOutputSize:s,iouThreshold:o,scoreThreshold:l,padToMaxOutputSize:c}=r;Bie(a,"NonMaxSuppressionPadded");const u=n.data.get(a.dataId).values,h=n.data.get(i.dataId).values,{selectedIndices:d,validOutputs:p}=ehe(u,h,s,o,l,c);return[n.makeTensorInfo([d.length],"int32",new Int32Array(d)),n.makeTensorInfo([],"int32",new Int32Array([p]))]}},nhe=T3;const rhe={kernelName:IQ,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{boxes:a,scores:i}=t,{maxOutputSize:s,iouThreshold:o,scoreThreshold:l,softNmsSigma:c}=r;Bie(a,"NonMaxSuppressionWithScore");const u=n.data.get(a.dataId).values,h=n.data.get(i.dataId).values,d=s,p=o,f=l,m=c,{selectedIndices:g,selectedScores:y}=nhe(u,h,d,p,f,m);return[n.makeTensorInfo([g.length],"int32",new Int32Array(g)),n.makeTensorInfo([y.length],"float32",new Float32Array(y))]}};const ahe={kernelName:PQ,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{indices:a}=t,{dtype:i,depth:s,onValue:o,offValue:l}=r;Bie(a,"oneHot");const c=eX(a.shape),u=new Float32Array(c*s);u.fill(l);const h=n.data.get(a.dataId).values;for(let d=0;d<c;++d)h[d]>=0&&h[d]<s&&(u[d*s+h[d]]=o);return n.makeTensorInfo([...a.shape,s],i,u)}};function ihe(e){const{inputs:t,backend:n}=e,{x:r}=t;if("string"===r.dtype)throw new Error("zerosLike is not supported for string tensors");if("complex64"===r.dtype){const e=Jie({inputs:{input:r},backend:n}),t=ihe({inputs:{x:e},backend:n}),a=pce({inputs:{input:r},backend:n}),i=ihe({inputs:{x:a},backend:n}),s=Kie({inputs:{real:t,imag:i},backend:n});return n.disposeIntermediateTensorInfo(e),n.disposeIntermediateTensorInfo(t),n.disposeIntermediateTensorInfo(a),n.disposeIntermediateTensorInfo(i),s}return cue({backend:n,attrs:{shape:r.shape,value:0,dtype:r.dtype}})}const she={kernelName:DJ,backendName:"cpu",kernelFunc:ihe};const ohe={kernelName:OQ,backendName:"cpu",kernelFunc:function e(t){const{inputs:n,backend:r}=t,{x:a}=n;if("string"===a.dtype)throw new Error("onesLike is not supported for string tensors");if("complex64"===a.dtype){const t=Jie({inputs:{input:a},backend:r}),n=e({inputs:{x:t},backend:r}),i=pce({inputs:{input:a},backend:r}),s=ihe({inputs:{x:i},backend:r}),o=Kie({inputs:{real:n,imag:s},backend:r});return r.disposeIntermediateTensorInfo(t),r.disposeIntermediateTensorInfo(n),r.disposeIntermediateTensorInfo(i),r.disposeIntermediateTensorInfo(s),o}return cue({backend:r,attrs:{shape:a.shape,value:1,dtype:a.dtype}})}};function lhe(e){const{inputs:t,backend:n,attrs:r}=e,{axis:a}=r;if(1===t.length)return eue({inputs:{input:t[0]},backend:n,attrs:{dim:a}});const i=t[0].shape,s=t[0].dtype;t.forEach(e=>{Qq(i,e.shape,"All tensors passed to stack must have matching shapes"),Yq(s===e.dtype,()=>"All tensors passed to stack must have matching dtypes")});const o=[],l=mce({inputs:t.map(e=>{const t=eue({inputs:{input:e},backend:n,attrs:{dim:a}});return o.push(t),t}),backend:n,attrs:{axis:a}});return o.forEach(e=>n.disposeIntermediateTensorInfo(e)),l}const che={kernelName:RQ,backendName:"cpu",kernelFunc:lhe};const uhe={kernelName:_Q,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{paddings:i,constantValue:s}=r;Bie(a,"pad");const o=i.map((e,t)=>e[0]+a.shape[t]+e[1]),l=i.map(e=>e[0]),c=n.data.get(a.dataId).values,u=eX(a.shape),h=a.shape.length,d=xX(a.shape),p=eX(o),f=o.length,m=xX(o),g=cX(a.dtype,p);0!==s&&g.fill(s);for(let y=0;y<u;y++){g[EX(AX(y,h,d).map((e,t)=>e+l[t]),f,m)]=c[y]}return{dataId:n.write(g,o,a.dtype),shape:o,dtype:a.dtype}}},hhe=Gie((e,t)=>Math.pow(e,t)),dhe=ase(LQ,hhe),phe={kernelName:LQ,backendName:"cpu",kernelFunc:dhe};const fhe={kernelName:DQ,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{paramsNestedSplits:a,paramsDenseValues:i,indices:s}=t,{outputRaggedRank:o}=r,l=a.map(e=>n.data.get(e.dataId).values),c=a.map(e=>e.shape),u=n.data.get(i.dataId).values,h=n.data.get(s.dataId).values,[d,p,f]=Noe(l,c,u,i.shape,i.dtype,h,s.shape),m=d.map(e=>n.makeTensorInfo([e.length],"int32",e)),g=n.makeTensorInfo(f,i.dtype,p);return m.concat([g])}};const mhe={kernelName:zQ,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{starts:r,limits:a,deltas:i}=t,s=n.data.get(r.dataId).values,o=n.data.get(a.dataId).values,l=n.data.get(i.dataId).values,[c,u]=Aoe(s,r.shape,r.dtype,o,a.shape,l,i.shape);return[n.makeTensorInfo([c.length],"int32",c),n.makeTensorInfo([u.length],r.dtype,u)]}};const ghe={kernelName:VQ,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{shape:a,values:i,defaultValue:s,rowPartitionTensors:o}=t,{rowPartitionTypes:l}=r,c=n.data.get(a.dataId).values,u=n.data.get(i.dataId).values,h=n.data.get(s.dataId).values,d=o.map(e=>n.data.get(e.dataId).values),p=o.map(e=>e.shape),[f,m]=Ioe(c,a.shape,u,i.shape,i.dtype,h,s.shape,d,p,l);return n.makeTensorInfo(f,i.dtype,m)}};const yhe={kernelName:BQ,backendName:"cpu",kernelFunc:function(e){const{backend:t,attrs:n}=e,{start:r,stop:a,dtype:i,step:s}=n,o=Ooe(r,a,s,i);return t.makeTensorInfo([o.length],i,o)}},xhe=mse(UQ,e=>1/e),bhe={kernelName:UQ,backendName:"cpu",kernelFunc:xhe};const vhe={kernelName:qQ,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{images:a}=t,{alignCorners:i,halfPixelCenters:s,size:o}=r;Bie(a,"resizeBilinear");const l=xX(a.shape),[c,u]=o,[h,d,p,f]=a.shape,m=n.data.get(a.dataId).values,g=new Float32Array(eX([h,c,u,f])),y=[i&&c>1?d-1:d,i&&u>1?p-1:p],x=[i&&c>1?c-1:c,i&&u>1?u-1:u];let b=0;const v=y[0]/x[0],w=y[1]/x[1];for(let k=0;k<h;k++)for(let e=0;e<c;e++){let t;t=s?v*(e+.5)-.5:v*e;const n=Math.max(0,Math.floor(t)),r=t-n,a=Math.min(d-1,Math.ceil(t)),i=k*l[0]+n*l[1],o=k*l[0]+a*l[1];for(let e=0;e<u;e++){let t;t=s?w*(e+.5)-.5:w*e;const n=Math.max(0,Math.floor(t)),a=t-n,c=Math.min(p-1,Math.ceil(t)),u=i+n*l[2],h=o+n*l[2],d=i+c*l[2],y=o+c*l[2];for(let e=0;e<f;e++){const t=m[u+e],n=m[h+e],i=t+(m[d+e]-t)*a,s=i+(n+(m[y+e]-n)*a-i)*r;g[b++]=s}}}return n.makeTensorInfo([h,c,u,f],"float32",g)}};const whe={kernelName:XQ,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{images:a,dy:i}=t,{alignCorners:s}=r;Bie([i,a],"resizeBilinearGrad");const o=xX(a.shape),[l,c,u,h]=a.shape,[,d,p]=i.shape,f=new Float32Array(l*c*u*h),m=[s&&d>1?c-1:c,s&&p>1?u-1:u],g=[s&&d>1?d-1:d,s&&p>1?p-1:p],y=m[0]/g[0],x=m[1]/g[1],b=n.data.get(i.dataId).values;let v=0;for(let w=0;w<l;w++){const e=w*o[0];for(let t=0;t<d;t++){const n=t*y,r=Math.floor(n),a=Math.min(Math.ceil(n),c-1),i=e+r*o[1],s=e+a*o[1],l=n-r,d=1-l;for(let e=0;e<p;e++){const t=e*x,n=Math.floor(t),r=Math.min(Math.ceil(t),u-1),a=t-n,c=1-a,p=i+n*o[2],m=i+r*o[2],g=s+n*o[2],y=s+r*o[2],w=d*c,k=d*a,S=l*c,N=l*a;for(let e=0;e<h;e++){const t=b[v++];f[p+e]+=t*w,f[m+e]+=t*k,f[g+e]+=t*S,f[y+e]+=t*N}}}}return n.makeTensorInfo([l,u,c,h],"float32",f)}};const khe={kernelName:GQ,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{images:a}=t,{alignCorners:i,halfPixelCenters:s,size:o}=r;Bie(a,"resizeNearestNeighbor");const l=xX(a.shape),[c,u]=o,[h,d,p,f]=a.shape,m=n.data.get(a.dataId).values,g=new Float32Array(h*c*u*f),y=[i&&c>1?d-1:d,i&&u>1?p-1:p],x=[i&&c>1?c-1:c,i&&u>1?u-1:u],b=y[0]/x[0],v=y[1]/x[1];let w=0;for(let k=0;k<h;k++){const e=k*l[0];for(let t=0;t<c;t++){const n=s?b*(t+.5):b*t;let r=Math.min(d-1,i?Math.round(n):Math.floor(n));s&&(r=Math.max(0,r));const a=e+r*l[1];for(let e=0;e<u;e++){const t=s?v*(e+.5):v*e;let n=Math.min(p-1,i?Math.round(t):Math.floor(t));s&&(n=Math.max(0,n));const r=a+n*l[2];for(let e=0;e<f;e++){const t=m[r+e];g[w++]=t}}}}return n.makeTensorInfo([h,c,u,f],a.dtype,g)}};const She={kernelName:KQ,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{images:a,dy:i}=t,{alignCorners:s}=r;Bie([i,a],"resizeNearestNeighborGrad");const o=xX(a.shape),l=xX(i.shape),[c,u,h,d]=a.shape,[,p,f]=i.shape,m=new Float32Array(c*u*h*d),g=n.data.get(i.dataId).values,y=[s&&p>1?u-1:u,s&&f>1?h-1:h],x=[s&&p>1?p-1:p,s&&f>1?f-1:f],b=y[0]/x[0],v=y[1]/x[1],w=1/b,k=1/v,S=2*Math.ceil(w)+2,N=2*Math.ceil(k)+2;for(let E=0;E<c;E++){const e=E*o[0];for(let t=0;t<u;t++){const n=e+t*o[1],r=Math.floor(t*w),a=Math.floor(r-S/2);for(let i=0;i<h;i++){const r=n+i*o[2],c=Math.floor(i*k),y=Math.floor(c-N/2);for(let n=0;n<d;n++){let o=0;for(let r=0;r<S;r++){const c=r+a;if(c<0||c>=p)continue;const d=e+c*l[1],m=c*b;if(t===Math.min(u-1,s?Math.round(m):Math.floor(m)))for(let e=0;e<N;e++){const t=e+y;if(t<0||t>=f)continue;const r=d+t*l[2],a=t*v;i===Math.min(h-1,s?Math.round(a):Math.floor(a))&&(o+=g[r+n])}}m[r+n]=o}}}}return n.makeTensorInfo(a.shape,a.dtype,m)}};const Nhe={kernelName:QQ,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{dims:i}=r;Bie(a,"reverse");const s=a.shape.length,o=oX(i,a.shape);if(0===s)return Yie({inputs:{x:a},backend:n});const l=new P0(a.shape,a.dtype),c=n.bufferSync(a);for(let u=0;u<l.size;u++){const e=l.indexToLoc(u),t=e.slice();o.forEach(e=>t[e]=a.shape[e]-1-t[e]),l.set(c.get(...t),...e)}return n.makeTensorInfo(l.shape,l.dtype,l.values)}},Ehe={kernelName:VJ,backendName:"cpu",kernelFunc:({inputs:e,attrs:t,backend:n})=>{const{image:r}=e,{radians:a,fillValue:i,center:s}=t,o=n,l=cX(r.dtype,eX(r.shape)),[c,u,h,d]=r.shape,[p,f]=D5(s,u,h),m=Math.sin(a),g=Math.cos(a),y=o.data.get(r.dataId).values;for(let x=0;x<c;x++){const e=x*h*u*d;for(let t=0;t<u;t++){const n=t*(h*d);for(let r=0;r<h;r++){const a=r*d;for(let s=0;s<d;s++){const o=[c,t,r,s],x=o[2],b=o[1];let v=(x-p)*g-(b-f)*m,w=(x-p)*m+(b-f)*g;v=Math.round(v+p),w=Math.round(w+f);let k=i;if("number"!=typeof i&&(k=3===s?255:i[s]),v>=0&&v<h&&w>=0&&w<u){k=y[e+w*(h*d)+v*d+s]}l[e+n+a+s]=k}}}}return{dataId:o.write(l,r.shape,r.dtype),shape:r.shape,dtype:r.dtype}}},Ahe=mse(JQ,e=>{const t=Math.floor(e);return e-t<.5?Math.floor(e):e-t>.5?Math.ceil(e):t%2==0?t:t+1}),Che={kernelName:JQ,backendName:"cpu",kernelFunc:Ahe};const jhe={kernelName:tJ,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{indices:a,updates:i}=t,{shape:s}=r,{sliceRank:o,numUpdates:l,sliceSize:c,strides:u,outputSize:h}=t3(0,a,s),d=Loe(n.bufferSync(a),n.bufferSync(i),s,h,c,l,o,u,0,!0);return n.makeTensorInfo(s,d.dtype,d.values)}};function Mhe(e,t){let n=0,r=e.length,a=0;for(;n<r;)a=Math.floor((n+r)/2),e[a]<t?n=a+1:r=a;return r}function The(e,t){let n=0,r=e.length,a=0;for(;n<r;)a=Math.floor((n+r)/2),e[a]<=t?n=a+1:r=a;return r}const Ihe={kernelName:rJ,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{sortedSequence:a,values:i}=t,{side:s}=r,o=function(e,t,n,r,a,i){const s=uX("int32",n*a);for(let o=0;o<n;++o){const n=e.slice(o*r,(o+1)*r),l=o*a;for(let e=0;e<a;++e)s[l+e]="left"===i?Mhe(n,t[e+l]):The(n,t[e+l])}return s}(n.data.get(a.dataId).values,n.data.get(i.dataId).values,a.shape[0],a.shape[1],i.shape[1],s);return n.makeTensorInfo(i.shape,"int32",o)}};const Ohe={kernelName:aJ,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{condition:r,t:a,e:i}=t;Bie([r,a,i],"select");const s=r.shape.length,o=n.data.get(r.dataId).values,l=n.data.get(a.dataId).values,c=n.data.get(i.dataId).values,u=X0(a.dtype,i.dtype),h=kX(eX(a.shape),u);let d=0;const p=0===s||s>1||1===a.shape.length?1:eX(a.shape.slice(1));for(let f=0;f<o.length;f++)for(let e=0;e<p;e++)1===o[f]?h[d++]=l[f]:h[d++]=c[f];return n.makeTensorInfo(a.shape,u,h)}},Phe=W5,Rhe=Z5,_he=mse(iJ,e=>e>=0?Rhe*e:Phe*(Math.exp(e)-1)),Lhe={kernelName:iJ,backendName:"cpu",kernelFunc:_he},$he=mse(cJ,e=>e<0?-1:e>0?1:0),Fhe={kernelName:cJ,backendName:"cpu",kernelFunc:$he},Dhe=mse(oJ,e=>Math.sin(e)),zhe={kernelName:oJ,backendName:"cpu",kernelFunc:Dhe},Vhe=mse(lJ,e=>Math.sinh(e)),Bhe={kernelName:lJ,backendName:"cpu",kernelFunc:Vhe},Hhe=Math.log(1.1920928955078125e-7)+2,Uhe=mse(hJ,e=>{const t=e>-Hhe,n=e<Hhe,r=Math.exp(e);let a;return a=n?r:t?e:Math.log(1+r),a}),Whe={kernelName:hJ,backendName:"cpu",kernelFunc:Uhe};const Zhe={kernelName:fJ,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{blockShape:i,paddings:s}=r;Bie([a],"spaceToBatchND");const o=eX(i),l=[[0,0]];l.push(...s);for(let g=1+i.length;g<a.shape.length;++g)l.push([0,0]);const c=uhe.kernelFunc({inputs:{x:a},backend:n,attrs:{paddings:l,constantValue:0}}),u=z5(c.shape,i,o,!1),h=V5(u.length,i.length,!1),d=B5(c.shape,i,o,!1),p=jle({inputs:{x:c},backend:n,attrs:{shape:u}}),f=yoe({inputs:{x:p},backend:n,attrs:{perm:h}}),m=jle({inputs:{x:f},backend:n,attrs:{shape:d}});return n.disposeIntermediateTensorInfo(c),n.disposeIntermediateTensorInfo(p),n.disposeIntermediateTensorInfo(f),m}};const Ghe={kernelName:yJ,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{indices:r,values:a,denseShape:i,defaultValue:s}=t;if(1!==i.shape.length)throw new Error(`Dense shape must be a vector, saw:\n        ${i.shape}`);if(2!==r.shape.length)throw new Error(`Indices must be a matrix, saw:\n        ${r.shape}`);if(1!==a.shape.length)throw new Error(`Values must be a vector, saw:\n        ${a.shape}`);if(0!==s.shape.length)throw new Error(`Default value must be a scalar, saw:\n        ${s.shape}`);const o=n.data.get(r.dataId).values,l=n.data.get(a.dataId).values,c=n.data.get(i.dataId).values,u=n.data.get(s.dataId).values[0],[h,d,p,f,m]=Hoe(o,r.shape,r.dtype,l,a.dtype,c,u);return[n.makeTensorInfo(d,r.dtype,h),n.makeTensorInfo([d[0]],a.dtype,p),n.makeTensorInfo([f.length],"bool",new Uint8Array(f.map(e=>Number(e)))),n.makeTensorInfo([m.length],r.dtype,new Int32Array(m))]}};const Khe={kernelName:xJ,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{inputIndices:r,inputShape:a,newShape:i}=t;if(2!==r.shape.length)throw new Error(`Input indices should be a matrix but received shape\n        ${r.shape}`);if(1!==a.shape.length)throw new Error(`Input shape should be a vector but received shape\n        ${a.shape}`);if(1!==i.shape.length)throw new Error(`Target shape should be a vector but received shape ${i.shape}`);const s=Array.from(n.data.get(a.dataId).values),o=n.data.get(r.dataId).values,l=Array.from(n.data.get(i.dataId).values),[c,u,h]=Uoe(o,r.shape,r.dtype,s,l);return[n.makeTensorInfo(u,r.dtype,c),n.makeTensorInfo([h.length],i.dtype,new Int32Array(h))]}};const qhe={kernelName:bJ,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{data:r,indices:a,segmentIds:i}=t;if(r.shape.length<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(1!==a.shape.length)throw new Error(`Indices should be a vector but received shape\n          ${a.shape}`);if(1!==i.shape.length)throw new Error(`Segment ids should be a vector but received shape\n          ${i.shape}`);if(a.shape[0]!==i.shape[0])throw new Error("segmentIds and indices should have same size.");const s=n.data.get(r.dataId).values,o=n.data.get(a.dataId).values,l=n.data.get(i.dataId).values,[c,u]=Woe(s,r.shape,r.dtype,o,l,!0);return n.makeTensorInfo(u,r.dtype,c)}};const Xhe={kernelName:vJ,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{data:r,indices:a,segmentIds:i}=t;if(r.shape.length<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(1!==a.shape.length)throw new Error(`Indices should be a vector but received shape\n         ${a.shape}`);if(1!==i.shape.length)throw new Error(`Segment ids should be a vector but received shape\n         ${i.shape}`);if(a.shape[0]!==i.shape[0])throw new Error("segmentIds and indices should have same size.");const s=n.data.get(r.dataId).values,o=n.data.get(a.dataId).values,l=n.data.get(i.dataId).values,[c,u]=Woe(s,r.shape,r.dtype,o,l);return n.makeTensorInfo(u,r.dtype,c)}};const Yhe={kernelName:wJ,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{sparseIndices:a,sparseValues:i,defaultValue:s}=t,{outputShape:o}=r,{sliceRank:l,numUpdates:c,sliceSize:u,strides:h,outputSize:d}=t3(0,a,o),p=!1,f=n.bufferSync(a);let m;switch(i.dtype){case"bool":m=Loe(f,n.bufferSync(i),o,d,u,c,l,h,Boolean(n.data.get(s.dataId).values[0]),p);break;case"float32":m=Loe(f,n.bufferSync(i),o,d,u,c,l,h,n.data.get(s.dataId).values[0],p);break;case"int32":m=Loe(f,n.bufferSync(i),o,d,u,c,l,h,n.data.get(s.dataId).values[0],p);break;case"string":m=Loe(f,n.bufferSync(i),o,d,u,c,l,h,k0(n.data.get(s.dataId).values[0]),p);break;default:throw new Error(`Unsupported type ${i.dtype}`)}return n.makeTensorInfo(o,m.dtype,m.values)}};const Qhe={kernelName:mJ,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{numOrSizeSplits:i,axis:s}=r,o=oX(s,a.shape)[0],l=m9(a,i,o),c=new Array(a.shape.length).fill(0),u=a.shape.slice();return l.map(e=>{const t=[...u];t[o]=e;const r=Voe({inputs:{x:a},backend:n,attrs:{begin:c,size:t}});return c[o]+=e,r})}},Jhe={kernelName:SJ,backendName:"cpu",kernelFunc:({inputs:e,backend:t})=>{const{x:n}=e,r=t;Bie(n,"square");const a=r.data.get(n.dataId).values,i=new Float32Array(a.length);for(let s=0;s<a.length;++s){const e=a[s];i[s]=e*e}return{dataId:r.write(i,n.shape,n.dtype),shape:n.shape,dtype:n.dtype}}},ede=mse(zJ,(e,t)=>{const n=t;return isNaN(e)?NaN:e>0?1:n.alpha}),tde={kernelName:zJ,backendName:"cpu",kernelFunc:ede};const nde={kernelName:EJ,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{begin:i,end:s,strides:o,beginMask:l,endMask:c,ellipsisMask:u,newAxisMask:h,shrinkAxisMask:d}=r;Bie(a,"stridedSlice");const{finalShapeSparse:p,finalShape:f,isIdentity:m,sliceDim0:g,isSimpleSlice:y,begin:x,end:b,strides:v}=N5(a.shape,i,s,o,l,c,u,h,d);let w;if(m)w=jle({inputs:{x:a},backend:n,attrs:{shape:f}});else if(g||y){Yq(a.shape.length>=1,()=>`Input must have rank at least 1, got: ${a.shape.length}`);const e=d5(x,b,v),t=Voe({inputs:{x:a},backend:n,attrs:{begin:x,size:e}});w=jle({inputs:{x:t},backend:n,attrs:{shape:f}}),n.disposeIntermediateTensorInfo(t)}else{const e=ele(p,n.bufferSync(a),v,x);w=n.makeTensorInfo(f,e.dtype,e.values)}return w}};const rde={kernelName:AJ,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{separator:a,nGramWidths:i,leftPad:s,rightPad:o,padWidth:l,preserveShortSequences:c}=r,{data:u,dataSplits:h}=t,d=n.data.get(u.dataId).values,p=n.data.get(h.dataId).values,[f,m]=nle(d,p,a,i,s,o,l,c);return[n.makeTensorInfo([f.length],"string",f),n.makeTensorInfo(h.shape,"int32",m)]}};const ade={kernelName:CJ,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{skipEmpty:a}=r,{input:i,delimiter:s}=t;if("string"!==i.dtype)throw new Error("Input must be of datatype string");if(1!==i.shape.length)throw new Error(`Input must be a vector, got shape: ${i.shape}`);if(0!==s.shape.length)throw new Error(`Delimiter must be a scalar, got shape: ${s.shape}`);const o=n.data.get(i.dataId).values,l=n.data.get(s.dataId).values[0],[c,u,h]=ale(o,l,a),d=u.length;return[n.makeTensorInfo([d,2],"int32",c),n.makeTensorInfo([d],"string",u),n.makeTensorInfo([2],"int32",new Int32Array(h))]}};const ide={kernelName:jJ,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{numBuckets:a}=r,{input:i}=t;if("string"!==i.dtype)throw new Error("Input must be of datatype string");if(a<=0)throw new Error("Number of buckets must be at least 1");const s=ile(n.data.get(i.dataId).values,a);return n.makeTensorInfo(i.shape,"int32",s)}},sde=mse(TJ,e=>Math.tan(e)),ode={kernelName:TJ,backendName:"cpu",kernelFunc:sde},lde=mse(IJ,e=>Math.tanh(e));function cde(e,t,n){switch(n){case"reflect":return function(e,t){let n=e;if(n<0)if(t<=1)n=0;else{const e=2*t;n<e&&(n=e*Math.trunc(-n/e)+n),n=n<-t?n+e:-n-1}else if(n>t-1)if(t<=1)n=0;else{const e=2*t;n-=e*Math.trunc(n/e),n>=t&&(n=e-n-1)}return Kq(0,n,t-1)}(e,t);case"wrap":return function(e,t){let n=e;if(n<0)if(t<=1)n=0;else{const e=t-1;n+=t*(Math.trunc(-n/e)+1)}else if(n>t-1)if(t<=1)n=0;else{const e=t-1;n-=t*Math.trunc(n/e)}return Kq(0,n,t-1)}(e,t);case"nearest":return function(e,t){return Kq(0,e,t-1)}(e,t);default:return function(e){return e}(e)}}function ude(e,t,n,r,a,i,s,o,l,c,u){return 0<=o&&o<t&&0<=l&&l<n?e[s*r+o*a+l*i+c]:u}function hde(e,t,n,r,a,i,s,o,l,c,u){return ude(e,t,n,r,a,i,s,Math.round(o),Math.round(l),c,u)}function dde(e,t,n,r,a,i,s,o,l,c,u){const h=Math.floor(o),d=Math.floor(l),p=h+1,f=d+1;return(p-o)*((f-l)*ude(e,t,n,r,a,i,s,h,d,c,u)+(l-d)*ude(e,t,n,r,a,i,s,h,f,c,u))+(o-h)*((f-l)*ude(e,t,n,r,a,i,s,p,d,c,u)+(l-d)*ude(e,t,n,r,a,i,s,p,f,c,u))}const pde={kernelName:FJ,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a,segmentIds:i}=t,{numSegments:s}=r;Bie(a,"unsortedSegmentSum");const o=[],l=[],c=a.shape.length-i.shape.length;let u=i;for(let d=0;d<c;++d){const e=eue({inputs:{input:u},backend:n,attrs:{dim:d+1}});u=e,l.push(e)}for(let d=0;d<s;++d){const e=x0(d,"int32"),t=n.makeTensorInfo([],"int32",e),r=kse({inputs:{a:t,b:u},backend:n}),i=nse({inputs:{x:r},backend:n,attrs:{dtype:"float32"}}),s=coe({inputs:{a:i,b:a},backend:n}),c=Bce({inputs:{x:s},backend:n,attrs:{axis:0,keepDims:!1}});o.push(c),l.push(t),l.push(r),l.push(i),l.push(s),l.push(c)}const h=lhe({inputs:o,backend:n,attrs:{axis:0}});return l.forEach(e=>n.disposeIntermediateTensorInfo(e)),h}},fde=[Ole,Zie,Rle,Lle,cse,$le,Fle,Dle,zle,Vle,Hle,Wle,Gle,Xle,Qle,nce,rce,ace,ice,Ile,sce,oce,lce,pse,cce,rse,bse,hce,qie,dce,gce,xce,bce,vce,wce,kce,Sce,Ece,Cce,jce,Mce,Tce,Ice,Oce,Rce,_ce,Lce,$ce,Fce,Dce,zce,Vce,Uce,yle,Wce,Sse,Jce,Ase,tue,Mse,lue,uue,hue,Ose,_se,due,pue,fue,mue,zse,Hse,Qie,gue,fce,xue,vue,kue,ble,Zse,qse,Sue,Jse,Eue,jue,Tue,Pue,Rue,_ue,$ue,roe,Fue,Due,zue,Vue,Bue,Hue,Uue,soe,Wue,Kue,Yue,uoe,doe,Jue,the,rhe,moe,ahe,ohe,che,uhe,phe,kle,voe,fhe,mhe,ghe,yhe,ese,aue,bhe,Nle,Ale,Mle,vhe,whe,khe,She,Nhe,Ehe,Che,_oe,jhe,Ihe,Ohe,Lhe,Doe,Fhe,zhe,Bhe,Boe,Xue,Whe,Zhe,Ghe,Khe,qhe,Xhe,Yhe,Qhe,Koe,Jhe,Yoe,Joe,tde,nde,rde,ade,ide,cle,Hce,ode,{kernelName:IJ,backendName:"cpu",kernelFunc:lde},{kernelName:nJ,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{tensor:r,indices:a,updates:i}=t,{sliceRank:s,numUpdates:o,sliceSize:l,strides:c,outputSize:u}=t3(0,a,r.shape),h=n.bufferSync(a),d=n.bufferSync(i),p=n.bufferSync(r),f=Loe(h,d,r.shape,u,l,o,s,c,p,!1);return n.makeTensorInfo(r.shape,f.dtype,f.values)}},{kernelName:OJ,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{reps:i}=r;Bie(a,"tile");const s=ule(n.bufferSync(a),i);return n.makeTensorInfo(s.shape,s.dtype,s.values)}},{kernelName:PJ,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{k:i,sorted:s}=r;Bie(a,"topk");const o=n.data.get(a.dataId).values,[l,c]=ple(o,a.shape,a.dtype,i,s);return[n.makeTensorInfo(l.shape,l.dtype,l.values),n.makeTensorInfo(c.shape,c.dtype,c.values)]}},{kernelName:RJ,backendName:"cpu",kernelFunc:function(e){const{inputs:t,attrs:n,backend:r}=e,{image:a,transforms:i}=t,{interpolation:s,fillMode:o,fillValue:l,outputShape:c}=n,[u,h,d,p]=a.shape,[f,m]=null!=c?c:[h,d],g=[u,f,m,p],y=xX(a.shape),x=y[0],b=y[1],v=y[2],w=xX(g),k=w[0],S=w[1],N=w[2],E=cX(a.dtype,eX(g));E.fill(l);const A=r.data.get(a.dataId).values,C=r.data.get(i.dataId).values;for(let j=0;j<u;++j){const e=1===i.shape[0]?C:C.subarray(8*j,8*j+8);for(let t=0;t<f;++t)for(let n=0;n<m;++n)for(let r=0;r<p;++r){let a;const i=e[6]*n+e[7]*t+1;if(0===i)continue;const c=(e[0]*n+e[1]*t+e[2])/i,u=(e[3]*n+e[4]*t+e[5])/i,p=cde(c,d,o),f=cde(u,h,o);switch(s){case"nearest":a=hde(A,h,d,x,b,v,j,f,p,r,l);break;case"bilinear":a=dde(A,h,d,x,b,v,j,f,p,r,l);break;default:throw new Error(`Error in Transform: Expect 'nearest' or 'bilinear', but got ${s}`)}E[j*k+t*S+n*N+r]=a}return r.makeTensorInfo(g,a.dtype,E)}return{dataId:r.write(E,g,a.dtype),shape:a.shape,dtype:a.dtype}}},xoe,{kernelName:LJ,backendName:"cpu",kernelFunc:function(e){const{inputs:t,attrs:n,backend:r}=e,{axis:a}=n,{x:i}=t;Bie(i,"unique");const s=r.data.get(i.dataId).values,{outputValues:o,outputShape:l,indices:c}=fle(s,a,i.shape,i.dtype);return[r.makeTensorInfo(l,i.dtype,o),r.makeTensorInfo([c.length],"int32",c)]}},{kernelName:$J,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{value:a}=t;let{axis:i}=r;i<0&&(i+=a.shape.length);const s=a.shape.length,o=a.shape[i],l=new Array(s-1);let c=0;for(let p=0;p<s;p++)p!==i&&(l[c++]=a.shape[p]);const u=new Array(s).fill(0),h=a.shape.slice();h[i]=1;const d=new Array(o);for(let p=0;p<d.length;p++){u[i]=p;const e=Voe({inputs:{x:a},backend:n,attrs:{begin:u,size:h}});d[p]=jle({inputs:{x:e},backend:n,attrs:{shape:l}}),n.disposeIntermediateTensorInfo(e)}return d}},pde,she];for(const jTe of fde)YJ(jTe);const mde={},gde={alpha:!1,antialias:!1,premultipliedAlpha:!1,preserveDrawingBuffer:!1,depth:!1,stencil:!1,failIfMajorPerformanceCaveat:!0};function yde(e,t){if(!(e in mde)||null!=t){const n=function(e,t){if(1!==e&&2!==e)throw new Error("Cannot get WebGL rendering context, WebGL is disabled.");const n=null==t?function(e){if(IX().getBool("IS_SAFARI")||"undefined"==typeof OffscreenCanvas||2!==e){if("undefined"!=typeof document)return document.createElement("canvas");throw new Error("Cannot create a canvas in this context")}return new OffscreenCanvas(300,150)}(e):t;n.addEventListener("webglcontextlost",t=>{t.preventDefault(),delete mde[e]},!1),IX().getBool("SOFTWARE_WEBGL_ENABLED")&&(gde.failIfMajorPerformanceCaveat=!1);if(1===e)return n.getContext("webgl",gde)||n.getContext("experimental-webgl",gde);return n.getContext("webgl2",gde)}(e,t);if(null===n)return console.log("Could not get context for WebGL version",e),null;mde[e]=n}const n=mde[e];return null==n||n.isContextLost()?(delete mde[e],yde(e)):(n.disable(n.DEPTH_TEST),n.disable(n.STENCIL_TEST),n.disable(n.BLEND),n.disable(n.DITHER),n.disable(n.POLYGON_OFFSET_FILL),n.disable(n.SAMPLE_COVERAGE),n.enable(n.SCISSOR_TEST),n.enable(n.CULL_FACE),n.cullFace(n.BACK),mde[e])}var xde,bde,vde,wde,kde,Sde;function Nde(e,t){return[t,e]}function Ede(e){const t=eX(e);return rX(Math.ceil(t/4))}function Ade(e,t){return[Math.max(1,Math.ceil(t/2)),Math.max(1,Math.ceil(e/2))]}function Cde(e,t){const n=e;let r,a,i,s,o,l,c,u,h,d;return 2===IX().getNumber("WEBGL_VERSION")?(r=n.R32F,a=n.R16F,i=n.RGBA16F,s=n.RGBA32F,o=n.RED,c=4,u=1,h=n.HALF_FLOAT,d=n.FLOAT,l=n.RGBA8):(r=e.RGBA,a=e.RGBA,i=e.RGBA,s=n.RGBA,o=e.RGBA,c=4,u=4,h=null!=t?t.HALF_FLOAT_OES:null,d=e.FLOAT,l=e.RGBA),{internalFormatFloat:r,internalFormatHalfFloat:a,internalFormatPackedHalfFloat:i,internalFormatPackedFloat:s,textureFormatFloat:o,downloadTextureFormat:l,downloadUnpackNumChannels:c,defaultNumChannels:u,textureTypeHalfFloat:h,textureTypeFloat:d}}function jde(e,t){const n=t();return IX().getBool("DEBUG")&&function(e){const t=e.getError();if(t!==e.NO_ERROR)throw new Error("WebGL Error: "+function(e,t){switch(t){case e.NO_ERROR:return"NO_ERROR";case e.INVALID_ENUM:return"INVALID_ENUM";case e.INVALID_VALUE:return"INVALID_VALUE";case e.INVALID_OPERATION:return"INVALID_OPERATION";case e.INVALID_FRAMEBUFFER_OPERATION:return"INVALID_FRAMEBUFFER_OPERATION";case e.OUT_OF_MEMORY:return"OUT_OF_MEMORY";case e.CONTEXT_LOST_WEBGL:return"CONTEXT_LOST_WEBGL";default:return`Unknown error code ${t}`}}(e,t))}(e),n}(bde=xde||(xde={}))[bde.DENSE=0]="DENSE",bde[bde.SHARED_BATCH=1]="SHARED_BATCH",(wde=vde||(vde={}))[wde.RENDER=0]="RENDER",wde[wde.UPLOAD=1]="UPLOAD",wde[wde.PIXELS=2]="PIXELS",wde[wde.DOWNLOAD=3]="DOWNLOAD",(Sde=kde||(kde={}))[Sde.UNPACKED_FLOAT16=0]="UNPACKED_FLOAT16",Sde[Sde.UNPACKED_FLOAT32=1]="UNPACKED_FLOAT32",Sde[Sde.PACKED_4X1_UNSIGNED_BYTE=2]="PACKED_4X1_UNSIGNED_BYTE",Sde[Sde.PACKED_2X2_FLOAT32=3]="PACKED_2X2_FLOAT32",Sde[Sde.PACKED_2X2_FLOAT16=4]="PACKED_2X2_FLOAT16";function Mde(e){return!!(IX().getBool("WEBGL_RENDER_FLOAT32_ENABLED")||0===e||5.96e-8<Math.abs(e)&&Math.abs(e)<65504)}function Tde(e,t){return Dde(e,()=>e.getExtension(t),'Extension "'+t+'" not supported on this browser.')}const Ide=/ERROR: [0-9]+:([0-9]+):/g;function Ode(e,t){const n=Ide.exec(t);if(null==n)return console.log(`Couldn't parse line number in error: ${t}`),void console.log(e);const r=+n[1],a=e.split("\n"),i=a.length.toString().length+2,s=a.map((e,t)=>aX((t+1).toString(),i)+e);let o=0;for(let h=0;h<s.length;h++)o=Math.max(s[h].length,o);const l=s.slice(0,r-1),c=s.slice(r-1,r),u=s.slice(r);console.log(l.join("\n")),console.log(t.split("\n")[0]),console.log(`%c ${aX(c[0],o)}`,"border:1px solid red; background-color:#e3d2d2; color:#a61717"),console.log(u.join("\n"))}function Pde(e,t){if(jde(e,()=>e.validateProgram(t)),!1===e.getProgramParameter(t,e.VALIDATE_STATUS))throw console.log(e.getProgramInfoLog(t)),new Error("Shader program validation failed.")}function Rde(e,t,n,r,a,i,s){const o=e.getAttribLocation(t,n);return-1!==o&&(jde(e,()=>e.bindBuffer(e.ARRAY_BUFFER,r)),jde(e,()=>e.vertexAttribPointer(o,a,e.FLOAT,!1,i,s)),jde(e,()=>e.enableVertexAttribArray(o)),!0)}function _de(e,t,n){!function(e,t){const n=e.MAX_COMBINED_TEXTURE_IMAGE_UNITS-1,r=t+e.TEXTURE0;if(r<e.TEXTURE0||r>n){throw new Error(`textureUnit must be in ${`[gl.TEXTURE0, gl.TEXTURE${n}]`}.`)}}(e,n),jde(e,()=>e.activeTexture(e.TEXTURE0+n)),jde(e,()=>e.bindTexture(e.TEXTURE_2D,t))}function Lde(e,t,n){jde(e,()=>e.bindFramebuffer(e.FRAMEBUFFER,n)),jde(e,()=>e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,t,0))}function $de(e,t){jde(e,()=>e.bindFramebuffer(e.FRAMEBUFFER,t)),jde(e,()=>e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,null,0))}function Fde(e){const t=e.checkFramebufferStatus(e.FRAMEBUFFER);if(t!==e.FRAMEBUFFER_COMPLETE)throw new Error("Error binding framebuffer: "+function(e,t){switch(t){case e.FRAMEBUFFER_INCOMPLETE_ATTACHMENT:return"FRAMEBUFFER_INCOMPLETE_ATTACHMENT";case e.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT:return"FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT";case e.FRAMEBUFFER_INCOMPLETE_DIMENSIONS:return"FRAMEBUFFER_INCOMPLETE_DIMENSIONS";case e.FRAMEBUFFER_UNSUPPORTED:return"FRAMEBUFFER_UNSUPPORTED";default:return`unknown error ${t}`}}(e,t))}function Dde(e,t,n){const r=jde(e,()=>t());if(null==r)throw new Error(n);return r}function zde(e,t=2){return eX(e.slice(0,e.length-t))}function Vde(e){if(0===e.length)throw Error("Cannot get rows and columns of an empty shape array.");return[e.length>1?e[e.length-2]:1,e[e.length-1]]}function Bde(e){let t=[1,1,1];return 0===e.length||1===e.length&&1===e[0]||(t=[zde(e),...Vde(e)]),t}function Hde(e){return e%2==0}function Ude(e,t){if(tX(e=e.slice(-2),t=t.slice(-2)))return!0;if(!e.length||!t.length)return!0;if(0===e[0]||0===e[1]||0===t[0]||0===t[1])return!0;if(e.length!==t.length){const n=e[e.length-1],r=t[t.length-1];if(n===r)return!0;if(Hde(n)&&Hde(r)&&(1===e[0]||1===t[0]))return!0}return e[1]===t[1]&&Hde(e[0])&&Hde(t[0])}let Wde,Zde;function Gde(e,t){return null!=e.getExtension(t)}function Kde(e){try{if(null!=yde(e))return!0}catch(ATe){return console.log("Error when getting WebGL context: ",ATe),!1}return!1}function qde(e){if(0===e)return!1;const t=yde(e);if(1!==e){if(Gde(t,"EXT_color_buffer_float"))return Xde(t);const e="EXT_color_buffer_half_float";if(Gde(t,e)){const n=t.getExtension(e);return function(e,t){const n=Cde(e,t),r=e.createTexture();e.bindTexture(e.TEXTURE_2D,r);const a=1,i=1;e.texImage2D(e.TEXTURE_2D,0,n.internalFormatHalfFloat,a,i,0,n.textureFormatFloat,n.textureTypeHalfFloat,null);const s=e.createFramebuffer();e.bindFramebuffer(e.FRAMEBUFFER,s),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,r,0);const o=e.checkFramebufferStatus(e.FRAMEBUFFER)===e.FRAMEBUFFER_COMPLETE;return e.bindTexture(e.TEXTURE_2D,null),e.bindFramebuffer(e.FRAMEBUFFER,null),e.deleteTexture(r),e.deleteFramebuffer(s),o}(t,n)}return!1}if(!Gde(t,"OES_texture_float"))return!1;if(!Gde(t,"WEBGL_color_buffer_float"))return!1;return Xde(t)}function Xde(e){const t=Cde(e),n=e.createTexture();e.bindTexture(e.TEXTURE_2D,n);e.texImage2D(e.TEXTURE_2D,0,t.internalFormatFloat,1,1,0,t.textureFormatFloat,t.textureTypeFloat,null);const r=e.createFramebuffer();e.bindFramebuffer(e.FRAMEBUFFER,r),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,n,0);const a=e.checkFramebufferStatus(e.FRAMEBUFFER)===e.FRAMEBUFFER_COMPLETE;return e.bindTexture(e.TEXTURE_2D,null),e.bindFramebuffer(e.FRAMEBUFFER,null),e.deleteTexture(n),e.deleteFramebuffer(r),a}function Yde(e,t){Array.isArray(e)||(e=[e]),e.forEach(e=>{null!=e&&Yq("complex64"!==e.dtype,()=>`${t} does not support complex64 tensors in the WebGL backend.`)})}const Qde=IX();function Jde(){let e,t,n,r,a,i,s,o,l,c;return 2===IX().getNumber("WEBGL_VERSION")?(e="#version 300 es",t="in",n="out",r="in",a="texture",i="outputColor",s="out vec4 outputColor;",o=IX().getBool("WEBGL2_ISNAN_CUSTOM")?"\n      bool isnan_custom(float val) {\n        uint floatToUint = floatBitsToUint(val);\n        return (floatToUint & 0x7fffffffu) > 0x7f800000u;\n      }\n\n      bvec4 isnan_custom(vec4 val) {\n        return bvec4(isnan_custom(val.x),\n          isnan_custom(val.y), isnan_custom(val.z), isnan_custom(val.w));\n      }\n\n      #define isnan(value) isnan_custom(value)\n    ":"",l="",c="\n      #define round(value) newRound(value)\n      int newRound(float value) {\n        return int(floor(value + 0.5));\n      }\n\n      ivec4 newRound(vec4 value) {\n        return ivec4(floor(value + vec4(0.5)));\n      }\n    "):(e="",t="attribute",n="varying",r="varying",a="texture2D",i="gl_FragColor",s="",o="\n      #define isnan(value) isnan_custom(value)\n      bool isnan_custom(float val) {\n        return (val > 0. || val < 1. || val == 0.) ? false : true;\n      }\n      bvec4 isnan_custom(vec4 val) {\n        return bvec4(isnan(val.x), isnan(val.y), isnan(val.z), isnan(val.w));\n      }\n    ",l="\n      uniform float INFINITY;\n\n      bool isinf(float val) {\n        return abs(val) == INFINITY;\n      }\n      bvec4 isinf(vec4 val) {\n        return equal(abs(val), vec4(INFINITY));\n      }\n    ",c="\n      int round(float value) {\n        return int(floor(value + 0.5));\n      }\n\n      ivec4 round(vec4 value) {\n        return ivec4(floor(value + vec4(0.5)));\n      }\n    "),{version:e,attribute:t,varyingVs:n,varyingFs:r,texture2D:a,output:i,defineOutput:s,defineSpecialNaN:o,defineSpecialInf:l,defineRound:c}}function epe(e,t,n="index"){const r=xX(t);return r.map((t,a)=>`${`int ${e[a]} = ${n} / ${t}`}; ${a===r.length-1?`int ${e[a+1]} = ${n} - ${e[a]} * ${t}`:`index -= ${e[a]} * ${t}`};`).join("")}function tpe(e,t,n="index"){const r=xX(t);return r.map((t,a)=>`${`int ${e[a]} = ${n} / outShapeStrides[${a}]`}; ${a===r.length-1?`int ${e[a+1]} = ${n} - ${e[a]} * outShapeStrides[${a}]`:`index -= ${e[a]} * outShapeStrides[${a}]`};`).join("")}function npe(e,t,n="index"){const r=function(e,t){const n=e.length,r=e.map(e=>`${t}[${e}]`),a=new Array(n-1);a[n-2]=r[n-1];for(let i=n-3;i>=0;--i)a[i]=`(${a[i+1]} * ${r[i+1]})`;return a}(e.map((e,t)=>t),t);return r.map((t,a)=>`${`int ${e[a]} = ${n} / ${r[a]}`}; ${a===r.length-1?`int ${e[a+1]} = ${n} - ${e[a]} * ${r[a]}`:`index -= ${e[a]} * ${r[a]}`};`).join("")}function rpe(e){const t=xX(e).map(e=>e.toString());return`\n  int getFlatIndex(ivec3 coords) {\n    return coords.x * ${t[0]} + coords.y * ${t[1]} + coords.z;\n  }\n`}Qde.registerFlag("HAS_WEBGL",()=>Qde.getNumber("WEBGL_VERSION")>0),Qde.registerFlag("WEBGL_VERSION",()=>Kde(2)?2:Kde(1)?1:0),Qde.registerFlag("WEBGL_CHECK_NUMERICAL_PROBLEMS",()=>!1),Qde.registerFlag("WEBGL_BUFFER_SUPPORTED",()=>2===Qde.get("WEBGL_VERSION")),Qde.registerFlag("WEBGL_CPU_FORWARD",()=>!0),Qde.registerFlag("WEBGL_FORCE_F16_TEXTURES",()=>!1),Qde.registerFlag("WEBGL_PACK",()=>Qde.getBool("HAS_WEBGL")),Qde.registerFlag("WEBGL_PACK_NORMALIZATION",()=>Qde.getBool("WEBGL_PACK")),Qde.registerFlag("WEBGL_PACK_CLIP",()=>Qde.getBool("WEBGL_PACK")),Qde.registerFlag("WEBGL_PACK_DEPTHWISECONV",()=>Qde.getBool("WEBGL_PACK")),Qde.registerFlag("WEBGL_PACK_BINARY_OPERATIONS",()=>Qde.getBool("WEBGL_PACK")),Qde.registerFlag("WEBGL_PACK_UNARY_OPERATIONS",()=>Qde.getBool("WEBGL_PACK")),Qde.registerFlag("WEBGL_PACK_ARRAY_OPERATIONS",()=>Qde.getBool("WEBGL_PACK")),Qde.registerFlag("WEBGL_PACK_IMAGE_OPERATIONS",()=>Qde.getBool("WEBGL_PACK")),Qde.registerFlag("WEBGL_PACK_REDUCE",()=>Qde.getBool("WEBGL_PACK")),Qde.registerFlag("WEBGL_LAZILY_UNPACK",()=>Qde.getBool("WEBGL_PACK")),Qde.registerFlag("WEBGL_CONV_IM2COL",()=>Qde.getBool("WEBGL_PACK")),Qde.registerFlag("WEBGL_PACK_CONV2DTRANSPOSE",()=>Qde.getBool("WEBGL_PACK")),Qde.registerFlag("WEBGL_MAX_TEXTURE_SIZE",()=>function(e){if(null==Wde){const t=yde(e);Wde=t.getParameter(t.MAX_TEXTURE_SIZE)}return Wde}(Qde.getNumber("WEBGL_VERSION"))),Qde.registerFlag("WEBGL_MAX_TEXTURES_IN_SHADER",()=>function(e){if(null==Zde){const t=yde(e);Zde=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS)}return Math.min(16,Zde)}(Qde.getNumber("WEBGL_VERSION"))),Qde.registerFlag("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION",()=>{const e=Qde.getNumber("WEBGL_VERSION");return 0===e?0:function(e){if(0===e)return 0;let t;const n=yde(e);return t=Gde(n,"EXT_disjoint_timer_query_webgl2")&&2===e?2:Gde(n,"EXT_disjoint_timer_query")?1:0,t}(e)}),Qde.registerFlag("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE",()=>Qde.getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0&&!c1()),Qde.registerFlag("WEBGL_RENDER_FLOAT32_CAPABLE",()=>function(e){if(0===e)return!1;const t=yde(e);if(1===e){if(!Gde(t,"OES_texture_float"))return!1}else if(!Gde(t,"EXT_color_buffer_float"))return!1;return Xde(t)}(Qde.getNumber("WEBGL_VERSION"))),Qde.registerFlag("WEBGL_RENDER_FLOAT32_ENABLED",()=>!Qde.getBool("WEBGL_FORCE_F16_TEXTURES")&&Qde.getBool("WEBGL_RENDER_FLOAT32_CAPABLE")),Qde.registerFlag("WEBGL_DOWNLOAD_FLOAT_ENABLED",()=>qde(Qde.getNumber("WEBGL_VERSION"))),Qde.registerFlag("WEBGL_FENCE_API_ENABLED",()=>{return 2===(e=Qde.getNumber("WEBGL_VERSION"))&&null!=yde(e).fenceSync;var e}),Qde.registerFlag("WEBGL_SIZE_UPLOAD_UNIFORM",()=>Qde.getBool("WEBGL_RENDER_FLOAT32_ENABLED")?4:0),Qde.registerFlag("WEBGL_DELETE_TEXTURE_THRESHOLD",()=>-1,e=>{if("number"!=typeof e)throw new Error(`WEBGL_DELETE_TEXTURE_THRESHOLD must be a number but got ${e}.`);if(e<0&&-1!==e)throw new Error(`WEBGL_DELETE_TEXTURE_THRESHOLD must be -1 (indicating never delete) or at least 0, but got ${e}.`)}),Qde.registerFlag("WEBGL_FLUSH_THRESHOLD",()=>c1()?1:-1,e=>{if("number"!=typeof e)throw new Error(`WEBGL_FLUSH_THRESHOLD must be a number but got ${e}.`);if(e<0&&-1!==e)throw new Error(`WEBGL_FLUSH_THRESHOLD must be -1 (indicating never manual flush) or at least 0, but got ${e}.`)}),Qde.registerFlag("CPU_HANDOFF_SIZE_THRESHOLD",()=>128),Qde.registerFlag("WEBGL_USE_SHAPES_UNIFORMS",()=>!1),Qde.registerFlag("TOPK_LAST_DIM_CPU_HANDOFF_SIZE_THRESHOLD",()=>1e5),Qde.registerFlag("TOPK_K_CPU_HANDOFF_THRESHOLD",()=>128),Qde.registerFlag("WEBGL_EXP_CONV",()=>!1),Qde.registerFlag("SOFTWARE_WEBGL_ENABLED",()=>Qde.getBool("IS_TEST")),Qde.registerFlag("WEBGL_MAX_SIZE_FOR_NARROW_TEXTURE",()=>1/0),Qde.registerFlag("WEBGL_AUTO_SQUARIFY_NARROW_TEXTURE_SHAPE",()=>!1),Qde.registerFlag("WEBGL2_ISNAN_CUSTOM",()=>!1),Qde.registerFlag("ENGINE_COMPILE_ONLY",()=>!1);const ape="\n  const float FLOAT_MAX = 1.70141184e38;\n  const float FLOAT_MIN = 1.17549435e-38;\n\n  lowp vec4 encode_float(highp float v) {\n    if (isnan(v)) {\n      return vec4(255, 255, 255, 255);\n    }\n\n    highp float av = abs(v);\n\n    if(av < FLOAT_MIN) {\n      return vec4(0.0, 0.0, 0.0, 0.0);\n    } else if(v > FLOAT_MAX) {\n      return vec4(0.0, 0.0, 128.0, 127.0) / 255.0;\n    } else if(v < -FLOAT_MAX) {\n      return vec4(0.0, 0.0,  128.0, 255.0) / 255.0;\n    }\n\n    highp vec4 c = vec4(0,0,0,0);\n\n    highp float e = floor(log2(av));\n    highp float m = exp2(fract(log2(av))) - 1.0;\n\n    c[2] = floor(128.0 * m);\n    m -= c[2] / 128.0;\n    c[1] = floor(32768.0 * m);\n    m -= c[1] / 32768.0;\n    c[0] = floor(8388608.0 * m);\n\n    highp float ebias = e + 127.0;\n    c[3] = floor(ebias / 2.0);\n    ebias -= c[3] * 2.0;\n    c[2] += floor(ebias) * 128.0;\n\n    c[3] += 128.0 * step(0.0, -v);\n\n    return c / 255.0;\n  }\n",{getBroadcastDims:ipe}=R9;function spe(e,t,n){const r=[];if(e.forEach(e=>{const t=eX(e.shapeInfo.logicalShape);if(e.shapeInfo.isUniform?r.push(`uniform float ${e.name}${t>1?`[${t}]`:""};`):(r.push(`uniform sampler2D ${e.name};`),r.push(`uniform int offset${e.name};`)),n.enableShapeUniforms){const{uniformShape:t}=ype(n.packedInputs,e.shapeInfo.logicalShape,e.shapeInfo.texShape);switch(t.length){case 1:r.push(`uniform int ${e.name}Shape;`);break;case 2:r.push(`uniform ivec2 ${e.name}Shape;`);break;case 3:r.push(`uniform ivec3 ${e.name}Shape;`);break;case 4:r.push(`uniform ivec4 ${e.name}Shape;`)}r.push(`uniform ivec2 ${e.name}TexShape;`)}}),n.enableShapeUniforms){switch(t.logicalShape.length){case 1:r.push("uniform int outShape;");break;case 2:r.push("uniform ivec2 outShape;"),r.push("uniform int outShapeStrides;");break;case 3:r.push("uniform ivec3 outShape;"),r.push("uniform ivec2 outShapeStrides;");break;case 4:r.push("uniform ivec4 outShape;"),r.push("uniform ivec3 outShapeStrides;")}r.push("uniform ivec2 outTexShape;")}n.customUniforms&&n.customUniforms.forEach(e=>{r.push(`uniform ${e.type} ${e.name}${e.arrayIndex?`[${e.arrayIndex}]`:""};`)});const a=r.join("\n"),i=e.map(e=>function(e,t,n=!1,r){let a="";a+=n?lpe(e,r):ope(e,r);const i=e.shapeInfo.logicalShape,s=t.logicalShape;i.length<=s.length&&(a+=n?function(e,t){const n=e.name,r=n.charAt(0).toUpperCase()+n.slice(1),a="get"+r+"AtOutCoords",i=e.shapeInfo.logicalShape.length,s=t.logicalShape.length,o=ipe(e.shapeInfo.logicalShape,t.logicalShape),l=gpe(s),c=s-i;let u;const h=["x","y","z","w","u","v"];u=0===i?"":s<2&&o.length>=1?"coords = 0;":o.map(e=>`coords.${h[e+c]} = 0;`).join("\n");let d="";d=s<2&&i>0?"coords":e.shapeInfo.logicalShape.map((e,t)=>`coords.${h[t+c]}`).join(", ");let p="return outputValue;";const f=1===eX(e.shapeInfo.logicalShape),m=eX(t.logicalShape),g=1===m;if(1!==i||f||g){if(f&&!g)p=1===s?"\n        return vec4(outputValue.x, outputValue.x, 0., 0.);\n      ":"\n        return vec4(outputValue.x);\n      ";else if(o.length){const e=i-2,t=i-1;o.indexOf(e)>-1&&o.indexOf(t)>-1?p="return vec4(outputValue.x);":o.indexOf(e)>-1?p="return vec4(outputValue.x, outputValue.y, outputValue.x, outputValue.y);":o.indexOf(t)>-1&&(p="return vec4(outputValue.xx, outputValue.zz);")}}else p="\n      return vec4(outputValue.xy, outputValue.xy);\n    ";return`\n    vec4 ${a}() {\n      ${l} coords = getOutputCoords();\n      ${u}\n      vec4 outputValue = get${r}(${d});\n      ${p}\n    }\n  `}(e,t):function(e,t){const n=e.name,r=n.charAt(0).toUpperCase()+n.slice(1),a="get"+r+"AtOutCoords",i=t.texShape,s=e.shapeInfo.texShape,o=e.shapeInfo.logicalShape.length,l=t.logicalShape.length;if(!e.shapeInfo.isUniform&&o===l&&null==e.shapeInfo.flatOffset&&tX(s,i))return`\n      float ${a}() {\n        return sampleTexture(${n}, resultUV);\n      }\n    `;const c=gpe(l),u=ipe(e.shapeInfo.logicalShape,t.logicalShape),h=l-o;let d;const p=["x","y","z","w","u","v"];d=0===o?"":l<2&&u.length>=1?"coords = 0;":u.map(e=>`coords.${p[e+h]} = 0;`).join("\n");let f="";f=l<2&&o>0?"coords":e.shapeInfo.logicalShape.map((e,t)=>`coords.${p[t+h]}`).join(", ");return`\n    float ${a}() {\n      ${c} coords = getOutputCoords();\n      ${d}\n      return get${r}(${f});\n    }\n  `}(e,t));return a}(e,t,n.packedInputs,n.enableShapeUniforms)).join("\n"),s=t.texShape,o=Jde(),l=function(e){return`\n    float sampleTexture(sampler2D textureSampler, vec2 uv) {\n      return ${e.texture2D}(textureSampler, uv).r;\n    }\n  `}(o);let c,u,h=function(e){const t=`${e.version}\n    precision highp float;\n    precision highp int;\n    precision highp sampler2D;\n    ${e.varyingFs} vec2 resultUV;\n    ${e.defineOutput}\n    const vec2 halfCR = vec2(0.5, 0.5);\n\n    struct ivec5\n    {\n      int x;\n      int y;\n      int z;\n      int w;\n      int u;\n    };\n\n    struct ivec6\n    {\n      int x;\n      int y;\n      int z;\n      int w;\n      int u;\n      int v;\n    };\n\n    uniform float NAN;\n    ${e.defineSpecialNaN}\n    ${e.defineSpecialInf}\n    ${e.defineRound}\n\n    int imod(int x, int y) {\n      return x - y * (x / y);\n    }\n\n    int idiv(int a, int b, float sign) {\n      int res = a / b;\n      int mod = imod(a, b);\n      if (sign < 0. && mod != 0) {\n        res -= 1;\n      }\n      return res;\n    }\n\n    //Based on the work of Dave Hoskins\n    //https://www.shadertoy.com/view/4djSRW\n    #define HASHSCALE1 443.8975\n    float random(float seed){\n      vec2 p = resultUV * seed;\n      vec3 p3  = fract(vec3(p.xyx) * HASHSCALE1);\n      p3 += dot(p3, p3.yzx + 19.19);\n      return fract((p3.x + p3.y) * p3.z);\n    }\n\n    ${cpe}\n    ${upe}\n    ${hpe}\n  `;return t}(o);t.isPacked?(c=function(e,t,n){switch(e.length){case 0:return ppe();case 1:return function(e,t,n){const r=[Math.ceil(t[0]/2),Math.ceil(t[1]/2)];if(1===r[0])return n?"\n      int getOutputCoords() {\n        return 2 * int(resultUV.x * ceil(float(outTexShape[1]) / 2.0));\n      }\n    ":`\n      int getOutputCoords() {\n        return 2 * int(resultUV.x * ${r[1]}.0);\n      }\n    `;if(1===r[1])return n?"\n      int getOutputCoords() {\n        return 2 * int(resultUV.y * ceil(float(outTexShape[0]) / 2.0));\n      }\n    ":`\n      int getOutputCoords() {\n        return 2 * int(resultUV.y * ${r[0]}.0);\n      }\n    `;if(n)return"\n    int getOutputCoords() {\n      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(packedTexShape[0], packedTexShape[1]));\n      return 2 * (resTexRC.x * packedTexShape[1] + resTexRC.y);\n    }\n  ";return`\n    int getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(${r[0]}, ${r[1]}));\n      return 2 * (resTexRC.x * ${r[1]} + resTexRC.y);\n    }\n  `}(0,t,n);case 2:return function(e,t,n){const r=[Math.ceil(t[0]/2),Math.ceil(t[1]/2)];if(tX(e,t))return n?"\n      ivec2 getOutputCoords() {\n        ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));\n        return 2 * ivec2(resultUV.yx * vec2(packedTexShape[0], packedTexShape[1]));\n      }\n    ":`\n      ivec2 getOutputCoords() {\n        return 2 * ivec2(resultUV.yx * vec2(${r[0]}, ${r[1]}));\n      }\n    `;const a=Math.ceil(e[1]/2);if(n)return"\n    ivec2 getOutputCoords() {\n      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));\n      int texelsInLogicalRow = int(ceil(float(outShape[1]) / 2.0));\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(packedTexShape[0], packedTexShape[1]));\n\n      int index = resTexRC.x * packedTexShape[1] + resTexRC.y;\n      int r = 2 * (index / texelsInLogicalRow);\n      int c = imod(index, texelsInLogicalRow) * 2;\n\n      return ivec2(r, c);\n    }\n  ";return`\n    ivec2 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(${r[0]}, ${r[1]}));\n\n      int index = resTexRC.x * ${r[1]} + resTexRC.y;\n      int r = 2 * (index / ${a});\n      int c = imod(index, ${a}) * 2;\n\n      return ivec2(r, c);\n    }\n  `}(e,t,n);case 3:return function(e,t,n){if(n)return"\n    ivec3 getOutputCoords() {\n      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));\n      int texelsInLogicalRow = int(ceil(float(outShape[2]) / 2.0));\n      int texelsInBatch = texelsInLogicalRow * int(ceil(float(outShape[1]) / 2.0));\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(packedTexShape[0], packedTexShape[1]));\n      int index = resTexRC.x * packedTexShape[1] + resTexRC.y;\n\n      int b = index / texelsInBatch;\n      index -= b * texelsInBatch;\n\n      int r = 2 * (index / texelsInLogicalRow);\n      int c = imod(index, texelsInLogicalRow) * 2;\n\n      return ivec3(b, r, c);\n    }\n  ";const r=[Math.ceil(t[0]/2),Math.ceil(t[1]/2)],a=Math.ceil(e[2]/2),i=a*Math.ceil(e[1]/2);return`\n    ivec3 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(${r[0]}, ${r[1]}));\n      int index = resTexRC.x * ${r[1]} + resTexRC.y;\n\n      int b = index / ${i};\n      index -= b * ${i};\n\n      int r = 2 * (index / ${a});\n      int c = imod(index, ${a}) * 2;\n\n      return ivec3(b, r, c);\n    }\n  `}(e,t,n);default:return function(e,t,n){if(n)return"\n    ivec4 getOutputCoords() {\n      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(packedTexShape[0], packedTexShape[1]));\n      int index = resTexRC.x * packedTexShape[1] + resTexRC.y;\n\n      int texelsInLogicalRow = int(ceil(float(outShape[3]) / 2.0));\n      int texelsInBatch = texelsInLogicalRow * int(ceil(float(outShape[2]) / 2.0));\n      int texelsInBatchN = texelsInBatch * outShape[1];\n\n      int b2 = index / texelsInBatchN;\n      index -= b2 * texelsInBatchN;\n\n      int b = index / texelsInBatch;\n      index -= b * texelsInBatch;\n\n      int r = 2 * (index / texelsInLogicalRow);\n      int c = imod(index, texelsInLogicalRow) * 2;\n\n      return ivec4(b2, b, r, c);\n    }\n  ";const r=[Math.ceil(t[0]/2),Math.ceil(t[1]/2)],a=Math.ceil(e[e.length-1]/2),i=a*Math.ceil(e[e.length-2]/2);let s=i,o="",l="b, r, c";for(let c=2;c<e.length-1;c++)s*=e[e.length-c-1],o=`\n      int b${c} = index / ${s};\n      index -= b${c} * ${s};\n    `+o,l=`b${c}, `+l;return`\n    ivec${e.length} getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(${r[0]}, ${r[1]}));\n      int index = resTexRC.x * ${r[1]} + resTexRC.y;\n\n      ${o}\n\n      int b = index / ${i};\n      index -= b * ${i};\n\n      int r = 2 * (index / ${a});\n      int c = imod(index, ${a}) * 2;\n\n      return ivec${e.length}(${l});\n    }\n  `}(e,t,n)}}(t.logicalShape,s,n.enableShapeUniforms),u=function(e){return`\n    void setOutput(vec4 val) {\n      ${e.output} = val;\n    }\n  `}(o)):(c=function(e,t,n){switch(e.length){case 0:return ppe();case 1:return function(e,t,n){if(1===t[0])return n?"\n      int getOutputCoords() {\n        return int(resultUV.x * float(outTexShape[1]));\n      }\n    ":`\n      int getOutputCoords() {\n        return int(resultUV.x * ${t[1]}.0);\n      }\n    `;if(1===t[1])return n?"\n      int getOutputCoords() {\n        return int(resultUV.y * float(outTexShape[0]));\n      }\n    ":`\n      int getOutputCoords() {\n        return int(resultUV.y * ${t[0]}.0);\n      }\n    `;if(n)return"\n    int getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(outTexShape[0], outTexShape[1]));\n      return resTexRC.x * outTexShape[1] + resTexRC.y;\n    }\n  ";return`\n    int getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(${t[0]}, ${t[1]}));\n      return resTexRC.x * ${t[1]} + resTexRC.y;\n    }\n  `}(0,t,n);case 2:return function(e,t,n){if(tX(e,t))return n?"\n      ivec2 getOutputCoords() {\n        return ivec2(resultUV.yx * vec2(outTexShape[0], outTexShape[1]));\n      }\n    ":`\n      ivec2 getOutputCoords() {\n        return ivec2(resultUV.yx * vec2(${t[0]}, ${t[1]}));\n      }\n    `;if(1===e[1])return n?"\n      ivec2 getOutputCoords() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n                               vec2(outTexShape[0], outTexShape[1]));\n        int index = resTexRC.x * outTexShape[1] + resTexRC.y;\n        return ivec2(index, 0);\n      }\n    ":`\n      ivec2 getOutputCoords() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n                               vec2(${t[0]}, ${t[1]}));\n        int index = resTexRC.x * ${t[1]} + resTexRC.y;\n        return ivec2(index, 0);\n      }\n    `;if(1===e[0])return n?"\n      ivec2 getOutputCoords() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n                               vec2(outTexShape[0], outTexShape[1]));\n        int index = resTexRC.x * outTexShape[1] + resTexRC.y;\n        return ivec2(0, index);\n      }\n    ":`\n      ivec2 getOutputCoords() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n                               vec2(${t[0]}, ${t[1]}));\n        int index = resTexRC.x * ${t[1]} + resTexRC.y;\n        return ivec2(0, index);\n      }\n    `;if(n)return"\n    ivec2 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(outTexShape[0], outTexShape[1]));\n      int index = resTexRC.x * outTexShape[1] + resTexRC.y;\n      int r = index / outShape[1];\n      int c = index - r * outShape[1];\n      return ivec2(r, c);\n    }\n  ";return`\n    ivec2 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(${t[0]}, ${t[1]}));\n      int index = resTexRC.x * ${t[1]} + resTexRC.y;\n      int r = index / ${e[1]};\n      int c = index - r * ${e[1]};\n      return ivec2(r, c);\n    }\n  `}(e,t,n);case 3:return function(e,t,n){if(n){return`\n  ivec3 getOutputCoords() {\n    ivec2 resTexRC = ivec2(resultUV.yx *\n                           vec2(outTexShape[0], outTexShape[1]));\n    int index = resTexRC.x * outTexShape[1] + resTexRC.y;\n    ${tpe(["r","c","d"],e)}\n    return ivec3(r, c, d);\n  }\n`}const r=epe(["r","c","d"],e);return`\n    ivec3 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(${t[0]}, ${t[1]}));\n      int index = resTexRC.x * ${t[1]} + resTexRC.y;\n      ${r}\n      return ivec3(r, c, d);\n    }\n  `}(e,t,n);case 4:return function(e,t,n){if(n){return`\n    ivec4 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n        vec2(outTexShape[0], outTexShape[1]));\n      int index = resTexRC.x * outTexShape[1] + resTexRC.y;\n      ${tpe(["r","c","d","d2"],e)}\n      return ivec4(r, c, d, d2);\n    }\n  `}const r=epe(["r","c","d","d2"],e);return`\n    ivec4 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n        vec2(${t[0]}, ${t[1]}));\n      int index = resTexRC.x * ${t[1]} + resTexRC.y;\n      ${r}\n      return ivec4(r, c, d, d2);\n    }\n  `}(e,t,n);case 5:return function(e,t){const n=epe(["r","c","d","d2","d3"],e);return`\n    ivec5 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx * vec2(${t[0]},\n                             ${t[1]}));\n\n      int index = resTexRC.x * ${t[1]} + resTexRC.y;\n\n      ${n}\n\n      ivec5 outShape = ivec5(r, c, d, d2, d3);\n      return outShape;\n    }\n  `}(e,t);case 6:return function(e,t){const n=epe(["r","c","d","d2","d3","d4"],e);return`\n    ivec6 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n        vec2(${t[0]}, ${t[1]}));\n      int index = resTexRC.x * ${t[1]} + resTexRC.y;\n\n      ${n}\n\n      ivec6 result = ivec6(r, c, d, d2, d3, d4);\n      return result;\n    }\n  `}(e,t);default:throw new Error(`${e.length}-D output sampling is not yet supported`)}}(t.logicalShape,s,n.enableShapeUniforms),u=function(e){return`\n    void setOutput(float val) {\n      ${e.output} = vec4(val, 0, 0, 0);\n    }\n  `}(o)),n.packedInputs&&(h+=dpe);return[h,l,u,a,c,i,n.userCode].join("\n")}function ope(e,t=!1){const n=e.shapeInfo.logicalShape;switch(n.length){case 0:return function(e,t){const n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1);if(e.shapeInfo.isUniform)return`float ${r}() {return ${n};}`;const[a,i]=e.shapeInfo.texShape;if(1===a&&1===i)return`\n      float ${r}() {\n        return sampleTexture(${n}, halfCR);\n      }\n    `;const s=fpe(n);if(t)return`\n    float ${r}() {\n      vec2 uv = uvFromFlat(${n}TexShape[0], ${n}TexShape[1], ${s});\n      return sampleTexture(${n}, uv);\n    }\n  `;const[o,l]=e.shapeInfo.texShape;return`\n    float ${r}() {\n      vec2 uv = uvFromFlat(${o}, ${l}, ${s});\n      return sampleTexture(${n}, uv);\n    }\n  `}(e,t);case 1:return function(e,t){const n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1);if(e.shapeInfo.isUniform)return`\n      float ${r}(int index) {\n        ${mpe(e)}\n      }\n    `;const a=e.shapeInfo.texShape,i=a[0],s=a[1];if(1===s&&1===i)return`\n      float ${r}(int index) {\n        return sampleTexture(${n}, halfCR);\n      }\n    `;const o=fpe(n);if(1===s)return t?`\n      float ${r}(int index) {\n        vec2 uv = vec2(0.5, (float(index + ${o}) + 0.5) / float(${n}TexShape[0]));\n        return sampleTexture(${n}, uv);\n      }\n    `:`\n      float ${r}(int index) {\n        vec2 uv = vec2(0.5, (float(index + ${o}) + 0.5) / ${i}.0);\n        return sampleTexture(${n}, uv);\n      }\n    `;if(1===i)return t?`\n      float ${r}(int index) {\n        vec2 uv = vec2((float(index + ${o}) + 0.5) / float(${n}TexShape[1]), 0.5);\n        return sampleTexture(${n}, uv);\n      }\n    `:`\n      float ${r}(int index) {\n        vec2 uv = vec2((float(index + ${o}) + 0.5) / ${s}.0, 0.5);\n        return sampleTexture(${n}, uv);\n      }\n    `;if(t)return`\n    float ${r}(int index) {\n      vec2 uv = uvFromFlat(${n}TexShape[0], ${n}TexShape[1], index + ${o});\n      return sampleTexture(${n}, uv);\n    }\n  `;return`\n    float ${r}(int index) {\n      vec2 uv = uvFromFlat(${i}, ${s}, index + ${o});\n      return sampleTexture(${n}, uv);\n    }\n  `}(e,t);case 2:return function(e,t){const n=e.shapeInfo.logicalShape,r=e.name,a="get"+r.charAt(0).toUpperCase()+r.slice(1),i=e.shapeInfo.texShape;if(null!=i&&tX(n,i)){if(t)return`\n      float ${a}(int row, int col) {\n        vec2 uv = (vec2(col, row) + halfCR) / vec2(${r}TexShape[1], ${r}TexShape[0]);\n        return sampleTexture(${r}, uv);\n      }\n    `;const e=i[0];return`\n    float ${a}(int row, int col) {\n      vec2 uv = (vec2(col, row) + halfCR) / vec2(${i[1]}.0, ${e}.0);\n      return sampleTexture(${r}, uv);\n    }\n  `}const{newShape:s,keptDims:o}=lX(n),l=s;if(l.length<n.length){const n=["row","col"];return`\n      ${ope(xpe(e,l),t)}\n      float ${a}(int row, int col) {\n        return ${a}(${bpe(n,o)});\n      }\n    `}if(e.shapeInfo.isUniform)return`\n      float ${a}(int row, int col) {\n        int index = round(dot(vec2(row, col), vec2(${n[1]}, 1)));\n        ${mpe(e)}\n      }\n    `;const c=i[0],u=i[1],h=fpe(r);if(1===u)return t?`\n      float ${a}(int row, int col) {\n        float index = dot(vec3(row, col, ${h}), vec3(${r}Shape[1], 1, 1));\n        vec2 uv = vec2(0.5, (index + 0.5) / float(${r}TexShape[0]));\n        return sampleTexture(${r}, uv);\n      }\n    `:`\n    float ${a}(int row, int col) {\n      float index = dot(vec3(row, col, ${h}), vec3(${n[1]}, 1, 1));\n      vec2 uv = vec2(0.5, (index + 0.5) / ${c}.0);\n      return sampleTexture(${r}, uv);\n    }\n  `;if(1===c)return t?`\n      float ${a}(int row, int col) {\n        float index = dot(vec3(row, col, ${h}), vec3(${r}Shape[1], 1, 1));\n        vec2 uv = vec2((index + 0.5) / float(${r}TexShape[1]), 0.5);\n        return sampleTexture(${r}, uv);\n      }\n    `:`\n    float ${a}(int row, int col) {\n      float index = dot(vec3(row, col, ${h}), vec3(${n[1]}, 1, 1));\n      vec2 uv = vec2((index + 0.5) / ${u}.0, 0.5);\n      return sampleTexture(${r}, uv);\n    }\n  `;if(t)return`\n      float ${a}(int row, int col) {\n        // Explicitly use integer operations as dot() only works on floats.\n        int index = row * ${r}Shape[1] + col + ${h};\n        vec2 uv = uvFromFlat(${r}TexShape[0], ${r}TexShape[1], index);\n        return sampleTexture(${r}, uv);\n      }\n    `;return`\n  float ${a}(int row, int col) {\n    // Explicitly use integer operations as dot() only works on floats.\n    int index = row * ${n[1]} + col + ${h};\n    vec2 uv = uvFromFlat(${c}, ${u}, index);\n    return sampleTexture(${r}, uv);\n  }\n`}(e,t);case 3:return function(e,t){const n=e.shapeInfo.logicalShape,r=e.name,a="get"+r.charAt(0).toUpperCase()+r.slice(1),i=n[1]*n[2],s=n[2],{newShape:o,keptDims:l}=lX(n),c=o;if(c.length<n.length){const n=["row","col","depth"];return`\n        ${ope(xpe(e,c),t)}\n        float ${a}(int row, int col, int depth) {\n          return ${a}(${bpe(n,l)});\n        }\n      `}if(e.shapeInfo.isUniform)return`\n      float ${a}(int row, int col, int depth) {\n        int index = round(dot(vec3(row, col, depth),\n                          vec3(${i}, ${s}, 1)));\n        ${mpe(e)}\n      }\n    `;const u=e.shapeInfo.texShape,h=u[0],d=u[1],p=e.shapeInfo.flatOffset;if(d===i&&null==p)return t?`\n      float ${a}(int row, int col, int depth) {\n        int stride1 = ${r}Shape[2];\n        float texR = float(row);\n        float texC = dot(vec2(col, depth), vec2(stride1, 1));\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2(${r}TexShape[1], ${r}TexShape[0]);\n        return sampleTexture(${r}, uv);\n      }\n    `:`\n        float ${a}(int row, int col, int depth) {\n          float texR = float(row);\n          float texC = dot(vec2(col, depth), vec2(${s}, 1));\n          vec2 uv = (vec2(texC, texR) + halfCR) /\n                     vec2(${d}.0, ${h}.0);\n          return sampleTexture(${r}, uv);\n        }\n      `;if(d===s&&null==p)return t?`\n      float ${a}(int row, int col, int depth) {\n        float texR = dot(vec2(row, col), vec2(${r}Shape[1], 1));\n        float texC = float(depth);\n        vec2 uv = (vec2(texC, texR) + halfCR) / vec2(${r}TexShape[1], ${r}TexShape[0]);\n        return sampleTexture(${r}, uv);\n      }\n    `:`\n    float ${a}(int row, int col, int depth) {\n      float texR = dot(vec2(row, col), vec2(${n[1]}, 1));\n      float texC = float(depth);\n      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(${d}.0, ${h}.0);\n      return sampleTexture(${r}, uv);\n    }\n  `;const f=fpe(r);if(t)return`\n    float ${a}(int row, int col, int depth) {\n      // Explicitly use integer operations as dot() only works on floats.\n      int stride0 = ${r}Shape[1] * ${r}Shape[2];\n      int stride1 = ${r}Shape[2];\n      int index = row * stride0 + col * stride1 + depth + ${f};\n      vec2 uv = uvFromFlat(${r}TexShape[0], ${r}TexShape[1], index);\n      return sampleTexture(${r}, uv);\n    }\n    `;return`\n      float ${a}(int row, int col, int depth) {\n        // Explicitly use integer operations as dot() only works on floats.\n        int index = row * ${i} + col * ${s} + depth + ${f};\n        vec2 uv = uvFromFlat(${h}, ${d}, index);\n        return sampleTexture(${r}, uv);\n      }\n  `}(e,t);case 4:return function(e,t){const n=e.shapeInfo.logicalShape,r=e.name,a="get"+r.charAt(0).toUpperCase()+r.slice(1),i=n[3],s=n[2]*i,o=n[1]*s,{newShape:l,keptDims:c}=lX(n);if(l.length<n.length){const n=["row","col","depth","depth2"];return`\n      ${ope(xpe(e,l),t)}\n      float ${a}(int row, int col, int depth, int depth2) {\n        return ${a}(${bpe(n,c)});\n      }\n    `}if(e.shapeInfo.isUniform)return`\n      float ${a}(int row, int col, int depth, int depth2) {\n        int index = round(dot(vec4(row, col, depth, depth2),\n                          vec4(${o}, ${s}, ${i}, 1)));\n        ${mpe(e)}\n      }\n    `;const u=e.shapeInfo.flatOffset,h=e.shapeInfo.texShape,d=h[0],p=h[1],f=`int stride2 = ${r}Shape[3];`,m=`int stride1 = ${r}Shape[2] * stride2;`,g=`int stride0 = ${r}Shape[1] * stride1;`;if(p===o&&null==u)return t?`\n      float ${a}(int row, int col, int depth, int depth2) {\n        ${f}\n        ${m}\n        float texR = float(row);\n        float texC =\n            dot(vec3(col, depth, depth2),\n                vec3(stride1, stride2, 1));\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2(${r}TexShape[1], ${r}TexShape[0]);\n        return sampleTexture(${r}, uv);\n      }\n    `:`\n      float ${a}(int row, int col, int depth, int depth2) {\n        float texR = float(row);\n        float texC =\n            dot(vec3(col, depth, depth2),\n                vec3(${s}, ${i}, 1));\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2(${p}.0, ${d}.0);\n        return sampleTexture(${r}, uv);\n      }\n    `;if(p===i&&null==u)return t?`\n      float ${a}(int row, int col, int depth, int depth2) {\n        float texR = dot(vec3(row, col, depth),\n                         vec3(${r}Shape[1] * ${r}Shape[2], ${r}Shape[2], 1));\n        float texC = float(depth2);\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2(${r}TexShape[1], ${r}TexShape[0]);\n        return sampleTexture(${r}, uv);\n      }\n    `:`\n      float ${a}(int row, int col, int depth, int depth2) {\n        float texR = dot(vec3(row, col, depth),\n                         vec3(${n[1]*n[2]}, ${n[2]}, 1));\n        float texC = float(depth2);\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2(${p}.0, ${d}.0);\n        return sampleTexture(${r}, uv);\n      }\n    `;const y=fpe(r);if(t)return`\n    float ${a}(int row, int col, int depth, int depth2) {\n      // Explicitly use integer operations as dot() only works on floats.\n      ${f}\n      ${m}\n      ${g}\n      int index = row * stride0 + col * stride1 +\n          depth * stride2 + depth2;\n      vec2 uv = uvFromFlat(${r}TexShape[0], ${r}TexShape[1], index + ${y});\n      return sampleTexture(${r}, uv);\n    }\n  `;return`\n    float ${a}(int row, int col, int depth, int depth2) {\n      // Explicitly use integer operations as dot() only works on floats.\n      int index = row * ${o} + col * ${s} +\n          depth * ${i} + depth2;\n      vec2 uv = uvFromFlat(${d}, ${p}, index + ${y});\n      return sampleTexture(${r}, uv);\n    }\n  `}(e,t);case 5:return function(e){const t=e.shapeInfo.logicalShape,n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),a=t[4],i=t[3]*a,s=t[2]*i,o=t[1]*s,{newShape:l,keptDims:c}=lX(t);if(l.length<t.length){const t=["row","col","depth","depth2","depth3"];return`\n      ${ope(xpe(e,l))}\n      float ${r}(int row, int col, int depth, int depth2, int depth3) {\n        return ${r}(${bpe(t,c)});\n      }\n    `}if(e.shapeInfo.isUniform)return`\n      float ${r}(int row, int col, int depth, int depth2, int depth3) {\n        float index = dot(\n          vec4(row, col, depth, depth2),\n          vec4(${o}, ${s}, ${i}, ${a})) +\n          depth3;\n        ${mpe(e)}\n      }\n    `;const u=e.shapeInfo.flatOffset,h=e.shapeInfo.texShape,d=h[0],p=h[1];if(p===o&&null==u)return`\n      float ${r}(int row, int col, int depth, int depth2, int depth3) {\n        int texR = row;\n        float texC = dot(vec4(col, depth, depth2, depth3),\n                         vec4(${s}, ${i}, ${a}, 1));\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2(${p}.0, ${d}.0);\n        return sampleTexture(${n}, uv);\n      }\n    `;if(p===a&&null==u)return`\n      float ${r}(int row, int col, int depth, int depth2, int depth3) {\n        float texR = dot(\n          vec4(row, col, depth, depth2),\n          vec4(${t[1]*t[2]*t[3]},\n               ${t[2]*t[3]}, ${t[3]}, 1));\n        int texC = depth3;\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2(${p}.0, ${d}.0);\n        return sampleTexture(${n}, uv);\n      }\n    `;const f=fpe(n);return`\n    float ${r}(int row, int col, int depth, int depth2, int depth3) {\n      // Explicitly use integer operations as dot() only works on floats.\n      int index = row * ${o} + col * ${s} + depth * ${i} +\n          depth2 * ${a} + depth3 + ${f};\n      vec2 uv = uvFromFlat(${d}, ${p}, index);\n      return sampleTexture(${n}, uv);\n    }\n  `}(e);case 6:return function(e){const t=e.shapeInfo.logicalShape,n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),{newShape:a,keptDims:i}=lX(t);if(a.length<t.length){const t=["row","col","depth","depth2","depth3","depth4"];return`\n      ${ope(xpe(e,a))}\n      float ${r}(int row, int col, int depth,\n                    int depth2, int depth3, int depth4) {\n        return ${r}(${bpe(t,i)});\n      }\n    `}const s=t[5],o=t[4]*s,l=t[3]*o,c=t[2]*l,u=t[1]*c;if(e.shapeInfo.isUniform)return`\n      float ${r}(int row, int col, int depth,\n                  int depth2, int depth3, int depth4) {\n        int index = round(dot(\n          vec4(row, col, depth, depth2),\n          vec4(${u}, ${c}, ${l}, ${o})) +\n          dot(\n            vec2(depth3, depth4),\n            vec2(${s}, 1)));\n        ${mpe(e)}\n      }\n    `;const h=e.shapeInfo.flatOffset,d=e.shapeInfo.texShape,p=d[0],f=d[1];if(f===u&&null==h)return`\n      float ${r}(int row, int col, int depth,\n                    int depth2, int depth3, int depth4) {\n        int texR = row;\n        float texC = dot(vec4(col, depth, depth2, depth3),\n          vec4(${c}, ${l}, ${o}, ${s})) +\n               float(depth4);\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2(${f}.0, ${p}.0);\n        return sampleTexture(${n}, uv);\n      }\n    `;if(f===s&&null==h)return`\n      float ${r}(int row, int col, int depth,\n                    int depth2, int depth3, int depth4) {\n        float texR = dot(vec4(row, col, depth, depth2),\n          vec4(${t[1]*t[2]*t[3]*t[4]},\n               ${t[2]*t[3]*t[4]},\n               ${t[3]*t[4]},\n               ${t[4]})) + float(depth3);\n        int texC = depth4;\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2(${f}.0, ${p}.0);\n        return sampleTexture(${n}, uv);\n      }\n    `;const m=fpe(n);return`\n    float ${r}(int row, int col, int depth,\n                  int depth2, int depth3, int depth4) {\n      // Explicitly use integer operations as dot() only works on floats.\n      int index = row * ${u} + col * ${c} + depth * ${l} +\n          depth2 * ${o} + depth3 * ${s} + depth4 + ${m};\n      vec2 uv = uvFromFlat(${p}, ${f}, index);\n      return sampleTexture(${n}, uv);\n    }\n  `}(e);default:throw new Error(`${n.length}-D input sampling is not yet supported`)}}function lpe(e,t){switch(e.shapeInfo.logicalShape.length){case 0:return function(e){const t=e.name,n="get"+t.charAt(0).toUpperCase()+t.slice(1),r=Jde();return`\n    vec4 ${n}() {\n      return ${r.texture2D}(${t}, halfCR);\n    }\n  `}(e);case 1:return function(e,t){const n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),a=e.shapeInfo.texShape,i=Jde();if(t)return`\n    vec4 ${r}(int index) {\n      ivec2 packedTexShape = ivec2(ceil(float(${n}TexShape[0]) / 2.0), ceil(float(${n}TexShape[1]) / 2.0));\n      vec2 uv = packedUVfrom1D(\n        packedTexShape[0], packedTexShape[1], index);\n      return ${i.texture2D}(${n}, uv);\n    }\n  `;const s=[Math.ceil(a[0]/2),Math.ceil(a[1]/2)];return`\n    vec4 ${r}(int index) {\n      vec2 uv = packedUVfrom1D(\n        ${s[0]}, ${s[1]}, index);\n      return ${i.texture2D}(${n}, uv);\n    }\n  `}(e,t);case 2:return function(e,t){const n=e.shapeInfo.logicalShape,r=e.name,a="get"+r.charAt(0).toUpperCase()+r.slice(1),i=e.shapeInfo.texShape,s=i[0],o=i[1],l=Jde();if(null!=i&&tX(n,i))return t?`\n      vec4 ${a}(int row, int col) {\n        vec2 uv = (vec2(col, row) + halfCR) / vec2(${r}TexShape[1], ${r}TexShape[0]);\n\n        return ${l.texture2D}(${r}, uv);\n      }\n    `:`\n      vec4 ${a}(int row, int col) {\n        vec2 uv = (vec2(col, row) + halfCR) / vec2(${o}.0, ${s}.0);\n\n        return ${l.texture2D}(${r}, uv);\n      }\n    `;if(t)return`\n    vec4 ${a}(int row, int col) {\n      ivec2 packedTexShape = ivec2(ceil(float(${r}TexShape[0]) / 2.0), ceil(float(${r}TexShape[1]) / 2.0));\n      int valuesPerRow = int(ceil(float(${r}Shape[1]) / 2.0));\n      vec2 uv = packedUVfrom2D(valuesPerRow, packedTexShape[0], packedTexShape[1], row, col);\n      return ${l.texture2D}(${r}, uv);\n    }\n  `;const c=[Math.ceil(i[0]/2),Math.ceil(i[1]/2)],u=Math.ceil(n[1]/2);return`\n    vec4 ${a}(int row, int col) {\n      vec2 uv = packedUVfrom2D(${u}, ${c[0]}, ${c[1]}, row, col);\n      return ${l.texture2D}(${r}, uv);\n    }\n  `}(e,t);case 3:return function(e,t){const n=e.shapeInfo.logicalShape,r=e.name,a="get"+r.charAt(0).toUpperCase()+r.slice(1),i=e.shapeInfo.texShape,s=[Math.ceil(i[0]/2),Math.ceil(i[1]/2)];if(1===n[0]){const r=[1,2],i=["b","row","col"];return`\n        ${lpe(xpe(e,n.slice(1)),t)}\n        vec4 ${a}(int b, int row, int col) {\n          return ${a}(${bpe(i,r)});\n        }\n      `}const o=Jde();if(t)return`\n    vec4 ${a}(int b, int row, int col) {\n      ivec2 packedTexShape = ivec2(ceil(float(${r}TexShape[0]) / 2.0), ceil(float(${r}TexShape[1]) / 2.0));\n      int valuesPerRow = int(ceil(float(${r}Shape[2]) / 2.0));\n      int texelsInBatch = valuesPerRow * int(ceil(float(${r}Shape[1]) / 2.0));\n      vec2 uv = packedUVfrom3D(\n        packedTexShape[0], packedTexShape[1], texelsInBatch, valuesPerRow, b, row, col);\n      return ${o.texture2D}(${r}, uv);\n    }\n  `;const l=s[0],c=s[1],u=Math.ceil(n[2]/2),h=u*Math.ceil(n[1]/2);return`\n    vec4 ${a}(int b, int row, int col) {\n      vec2 uv = packedUVfrom3D(\n        ${l}, ${c}, ${h}, ${u}, b, row, col);\n      return ${o.texture2D}(${r}, uv);\n    }\n  `}(e,t);default:return function(e,t){const n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),a=Jde();if(t)return`\n    vec4 ${r}(int b2, int b, int row, int col) {\n      int valuesPerRow = int(ceil(float(${n}Shape[3]) / 2.0));\n      int texelsInBatch = valuesPerRow * int(ceil(float(${n}Shape[2]) / 2.0));\n      int index = b * texelsInBatch + (row / 2) * valuesPerRow + (col / 2);\n      texelsInBatch *= ${n}Shape[1];\n      index = b2 * texelsInBatch + index;\n      ivec2 packedTexShape = ivec2(ceil(float(${n}TexShape[0]) / 2.0), ceil(float(${n}TexShape[1]) / 2.0));\n      int texR = index / packedTexShape[1];\n      int texC = index - texR * packedTexShape[1];\n      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(packedTexShape[1], packedTexShape[0]); return ${a.texture2D}(${n}, uv);\n    }\n  `;const i=e.shapeInfo.logicalShape,s=i.length,o=e.shapeInfo.texShape,l=[Math.ceil(o[0]/2),Math.ceil(o[1]/2)],c=l[0],u=l[1],h=Math.ceil(i[s-1]/2);let d=h*Math.ceil(i[s-2]/2),p="int b, int row, int col",f=`b * ${d} + (row / 2) * ${h} + (col / 2)`;for(let m=2;m<s-1;m++)p=`int b${m}, `+p,d*=i[s-m-1],f=`b${m} * ${d} + `+f;return`\n    vec4 ${r}(${p}) {\n      int index = ${f};\n      int texR = index / ${u};\n      int texC = index - texR * ${u};\n      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(${u}, ${c});\n      return ${a.texture2D}(${n}, uv);\n    }\n  `}(e,t)}}const cpe="\nvec2 uvFromFlat(int texNumR, int texNumC, int index) {\n  int texR = index / texNumC;\n  int texC = index - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\nvec2 packedUVfrom1D(int texNumR, int texNumC, int index) {\n  int texelIndex = index / 2;\n  int texR = texelIndex / texNumC;\n  int texC = texelIndex - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n",upe="\nvec2 packedUVfrom2D(int texelsInLogicalRow, int texNumR,\n  int texNumC, int row, int col) {\n  int texelIndex = (row / 2) * texelsInLogicalRow + (col / 2);\n  int texR = texelIndex / texNumC;\n  int texC = texelIndex - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n",hpe="\nvec2 packedUVfrom3D(int texNumR, int texNumC,\n    int texelsInBatch, int texelsInLogicalRow, int b,\n    int row, int col) {\n  int index = b * texelsInBatch + (row / 2) * texelsInLogicalRow + (col / 2);\n  int texR = index / texNumC;\n  int texC = index - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n",dpe="\n  float getChannel(vec4 frag, vec2 innerDims) {\n    vec2 modCoord = mod(innerDims, 2.);\n    return modCoord.x == 0. ?\n      (modCoord.y == 0. ? frag.r : frag.g) :\n      (modCoord.y == 0. ? frag.b : frag.a);\n  }\n  float getChannel(vec4 frag, int dim) {\n    float modCoord = mod(float(dim), 2.);\n    return modCoord == 0. ? frag.r : frag.g;\n  }\n";function ppe(){return"\n    int getOutputCoords() {\n      return 0;\n    }\n  "}function fpe(e){return`offset${e}`}function mpe(e){const t=e.name,n=eX(e.shapeInfo.logicalShape);return n<2?`return ${t};`:`\n    for (int i = 0; i < ${n}; i++) {\n      if (i == index) {\n        return ${t}[i];\n      }\n    }\n  `}function gpe(e){if(e<=1)return"int";if(2===e)return"ivec2";if(3===e)return"ivec3";if(4===e)return"ivec4";if(5===e)return"ivec5";if(6===e)return"ivec6";throw Error(`GPU for rank ${e} is not yet supported`)}function ype(e,t,n){const{newShape:r,keptDims:a}=lX(t),i=t.length,s=e&&3===i&&1===t[0],o=s?t.slice(1):r,l=!e&&i>1&&!tX(t,n)&&r.length<i||s;return{useSqueezeShape:l,uniformShape:l?o:t,keptDims:a}}function xpe(e,t){const n=JSON.parse(JSON.stringify(e));return n.shapeInfo.logicalShape=t,n}function bpe(e,t){return t.map(t=>e[t]).join(", ")}function vpe(e,t,n,r){const a=n.map((e,n)=>{const r={logicalShape:e.shape,texShape:e.isUniform?null:e.texData.texShape,isUniform:e.isUniform,isPacked:!e.isUniform&&e.texData.isPacked,flatOffset:null};return null!=e.texData&&null!=e.texData.slice&&e.texData.slice.flatOffset>0&&(r.flatOffset=e.texData.slice.flatOffset),{name:t.variableNames[n],shapeInfo:r}}),i=a.map(e=>e.shapeInfo),s={logicalShape:r.shape,texShape:r.texData.texShape,isUniform:!1,isPacked:r.texData.isPacked,flatOffset:null},o=spe(a,s,t),l=function(e,t){const n=Dde(e,()=>e.createShader(e.FRAGMENT_SHADER),"Unable to create fragment WebGLShader.");if(jde(e,()=>e.shaderSource(n,t)),jde(e,()=>e.compileShader(n)),IX().get("ENGINE_COMPILE_ONLY"))return n;if(!1===e.getShaderParameter(n,e.COMPILE_STATUS))throw Ode(t,e.getShaderInfoLog(n)),new Error("Failed to compile fragment shader.");return n}(e.gl,o),c=e.createProgram(l);return IX().get("ENGINE_COMPILE_ONLY")?{program:t,fragmentShader:l,source:o,webGLProgram:c,inShapeInfos:i,outShapeInfo:s,variablesLocations:null,customUniformLocations:null,infLoc:null,nanLoc:null,outShapeLocation:null,outShapeStridesLocation:null,outTexShapeLocation:null}:(e.buildVao(c),Object.assign({program:t,fragmentShader:l,source:o,webGLProgram:c,inShapeInfos:i,outShapeInfo:s},wpe(e,t,c)))}function wpe(e,t,n){const r=[],a=[];let i,s,o,l=null,c=null;c=e.getUniformLocation(n,"NAN",!1),1===IX().getNumber("WEBGL_VERSION")&&(l=e.getUniformLocation(n,"INFINITY",!1));const u=!1;for(const h of t.variableNames){const a={name:h,uniform:e.getUniformLocation(n,h,u),offset:e.getUniformLocation(n,`offset${h}`,u)};t.enableShapeUniforms&&(a.shape=e.getUniformLocation(n,`${h}Shape`,u),a.texShape=e.getUniformLocation(n,`${h}TexShape`,u)),r.push(a)}if(t.enableShapeUniforms&&(i=e.getUniformLocation(n,"outShape",u),o=e.getUniformLocation(n,"outShapeStrides",u),s=e.getUniformLocation(n,"outTexShape",u)),t.customUniforms)for(const h of t.customUniforms)a.push(e.getUniformLocation(n,h.name,u));return{variablesLocations:r,customUniformLocations:a,infLoc:l,nanLoc:c,outShapeLocation:i,outShapeStridesLocation:o,outTexShapeLocation:s}}function kpe(e,t){if(e.length!==t.length)throw Error(`Binary was compiled with ${e.length} inputs, but was executed with ${t.length} inputs`);e.forEach((e,n)=>{const r=e.logicalShape,a=t[n],i=a.shape;if(!tX(r,i))throw Error(`Binary was compiled with different shapes than the current args. Shapes ${r} and ${i} must match`);if(e.isUniform&&a.isUniform)return;const s=e.texShape,o=a.isUniform?null:a.texData.texShape;if(!tX(s,o))throw Error(`Binary was compiled with different texture shapes than the current args. Shape ${s} and ${o} must match`)})}function Spe(e){return IX().getBool("WEBGL_USE_SHAPES_UNIFORMS")&&e<=4}class Npe{constructor(e){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.outPackingScheme=xde.DENSE,this.customUniforms=[{name:"texShape",type:"ivec2"}];const t=Jde();this.outputShape=e,this.enableShapeUniforms=Spe(this.outputShape.length),this.userCode=`\n      ivec3 outCoordsFromFlatIndex(int index) {\n        ${this.enableShapeUniforms?tpe(["r","c","d"],e):epe(["r","c","d"],e)}\n        return ivec3(r, c, d);\n      }\n\n      void main() {\n        ivec2 resTexRC = ivec2(resultUV.yx * vec2(texShape[0], texShape[1]));\n        int index = 4 * (resTexRC.x * texShape[1] + resTexRC.y);\n\n        vec4 result = vec4(0.);\n\n        for (int i=0; i<4; i++) {\n          int flatIndex = index + i;\n          ivec3 rc = outCoordsFromFlatIndex(flatIndex);\n          result[i] = getA(rc.x, rc.y, rc.z);\n        }\n\n        ${t.output} = result;\n      }\n    `}}class Epe{constructor(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outPackingScheme=xde.DENSE,this.customUniforms=[{name:"texShape",type:"ivec2"}];const t=Jde();this.outputShape=e,this.enableShapeUniforms=Spe(this.outputShape.length),this.userCode=`\n      ivec3 outCoordsFromFlatIndex(int index) {\n        ${this.enableShapeUniforms?tpe(["r","c","d"],e):epe(["r","c","d"],e)}\n        return ivec3(r, c, d);\n      }\n\n      void main() {\n        ivec2 resTexRC = ivec2(resultUV.yx * vec2(texShape[0], texShape[1]));\n        int index = 4 * (resTexRC.x * texShape[1] + resTexRC.y);\n\n        vec4 result = vec4(0.);\n\n        for (int i=0; i<4; i++) {\n          int flatIndex = index + i;\n          ivec3 rc = outCoordsFromFlatIndex(flatIndex);\n          result[i] = getChannel(getA(rc.x, rc.y, rc.z), vec2(rc.y, rc.z));\n        }\n\n        ${t.output} = result;\n      }\n    `}}class Ape{constructor(e){this.variableNames=["A"],this.outTexUsage=vde.DOWNLOAD;const t=Jde();this.outputShape=e,this.userCode=`\n      ${ape}\n\n      void main() {\n        float x = getAAtOutCoords();\n        ${t.output} = encode_float(x);\n      }\n    `}}class Cpe{constructor(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!1,this.outTexUsage=vde.DOWNLOAD;const t=Jde();this.outputShape=e,this.userCode=`\n      ${ape}\n\n      void main() {\n        ivec3 coords = getOutputCoords();\n        float x = getChannel(getAAtOutCoords(), vec2(coords.y, coords.z));\n        ${t.output} = encode_float(x);\n      }\n    `}}const jpe={R:0,G:1,B:2,A:3};class Mpe{constructor(e,t=!1,n="RGBA"){this.variableNames=["A"],this.customUniforms=[{name:"texShape",type:"ivec2"}];const r=Jde();this.outputShape=e,this.enableShapeUniforms=Spe(this.outputShape.length);let a="result";t&&(a="floor(result * 255. + 0.5)");let i="";for(let s=0;s<n.length;s++){const e=n[s];i+=`\n          if(offset == ${s}) {\n            result = values[${jpe[e]}];\n          }`}this.userCode=`\n      ${this.enableShapeUniforms?"\n  int getFlatIndex(ivec3 coords) {\n    return coords.x * outShapeStrides[0] + coords.y * outShapeStrides[1] + coords.z;\n  }\n":rpe(e)}\n\n      void main() {\n        ivec3 coords = getOutputCoords();\n        int flatIndex = getFlatIndex(coords);\n        float result = 0.;\n        int offset = imod(flatIndex, ${n.length});\n\n        flatIndex = idiv(flatIndex, ${n.length}, 1.);\n\n        int r = flatIndex / texShape[1];\n        if (r < texShape[0]) {\n          int c = imod(flatIndex, texShape[1]);\n          vec2 uv = (vec2(c, r) + halfCR) / vec2(texShape[1], texShape[0]);\n          vec4 values = ${r.texture2D}(A, uv);\n          ${i}\n        }\n        ${r.output} = vec4(${a}, 0., 0., 0.);\n      }\n    `}}class Tpe{constructor(e,t=!1){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.customUniforms=[{name:"texShape",type:"ivec2"}];const n=Jde();this.outputShape=e,this.enableShapeUniforms=Spe(this.outputShape.length);let r="",a="result";t&&(a="floor(result * 255. + 0.5)");for(let i=0;i<=1;i++)for(let t=0;t<=1;t++){const a=2*i+t;r+=`\n          localCoords = coords;\n          if(localCoords[2] + ${t} < ${this.enableShapeUniforms?"outShape[2]":`${e[2]}`}) {\n          localCoords[2] += ${t};\n          if (localCoords[1] + ${i} < ${this.enableShapeUniforms?"outShape[1]":`${e[1]}`}) {\n            localCoords[1] += ${i};\n\n            flatIndex = getFlatIndex(localCoords);\n            offset = imod(flatIndex, 4);\n\n            flatIndex = idiv(flatIndex, 4, 1.);\n\n            int r = flatIndex / texShape[1];\n            int c = imod(flatIndex, texShape[1]);\n            vec2 uv = (vec2(c, r) + halfCR) / vec2(texShape[1], texShape[0]);\n            values = ${n.texture2D}(A, uv);\n\n            if (offset == 0) {\n              result[${a}] = values[0];\n            } else if (offset == 1) {\n              result[${a}] = values[1];\n            } else if (offset == 2) {\n              result[${a}] = values[2];\n            } else {\n              result[${a}] = values[3];\n            }\n          }\n        }\n        `}this.userCode=`\n        ${this.enableShapeUniforms?"\n  int getFlatIndex(ivec3 coords) {\n    return coords.x * outShapeStrides[0] + coords.y * outShapeStrides[1] + coords.z;\n  }\n":rpe(e)}\n\n        void main() {\n          ivec3 coords = getOutputCoords();\n\n          vec4 result = vec4(0.);\n          int flatIndex, r, c, offset;\n          ivec3 localCoords;\n          vec2 uv;\n          vec4 values;\n\n          ${r}\n\n          ${n.output} = ${a};\n        }\n    `}}function Ipe(e){const t=Jde();return function(e,t){const n=Dde(e,()=>e.createShader(e.VERTEX_SHADER),"Unable to create vertex WebGLShader.");if(jde(e,()=>e.shaderSource(n,t)),jde(e,()=>e.compileShader(n)),!1===e.getShaderParameter(n,e.COMPILE_STATUS))throw console.log(e.getShaderInfoLog(n)),new Error("Failed to compile vertex shader.");return n}(e,`${t.version}\n    precision highp float;\n    ${t.attribute} vec3 clipSpacePos;\n    ${t.attribute} vec2 uv;\n    ${t.varyingVs} vec2 resultUV;\n\n    void main() {\n      gl_Position = vec4(clipSpacePos, 1);\n      resultUV = uv;\n    }`)}function Ope(e){return function(e,t){const n=Dde(e,()=>e.createBuffer(),"Unable to create WebGLBuffer");return jde(e,()=>e.bindBuffer(e.ARRAY_BUFFER,n)),jde(e,()=>e.bufferData(e.ARRAY_BUFFER,t,e.STATIC_DRAW)),n}(e,new Float32Array([-1,1,0,0,1,-1,-1,0,0,0,1,1,0,1,1,1,-1,0,1,0]))}function Ppe(e){return function(e,t){const n=Dde(e,()=>e.createBuffer(),"Unable to create WebGLBuffer");return jde(e,()=>e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,n)),jde(e,()=>e.bufferData(e.ELEMENT_ARRAY_BUFFER,t,e.STATIC_DRAW)),n}(e,new Uint16Array([0,1,2,2,1,3]))}function Rpe(e,t,n,r,a,i){!function(e,t){const n=IX().getNumber("WEBGL_MAX_TEXTURE_SIZE");if(e<=0||t<=0)throw new Error(`Requested texture size [${e}x${t}] is invalid.`);if(e>n||t>n)throw new Error(`Requested texture size [${e}x${t}] greater than WebGL maximum on this browser / GPU [${n}x${n}].`)}(t,n);const s=function(e){return Dde(e,()=>e.createTexture(),"Unable to create WebGLTexture.")}(e),o=e.TEXTURE_2D;return jde(e,()=>e.bindTexture(o,s)),jde(e,()=>e.texParameteri(o,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE)),jde(e,()=>e.texParameteri(o,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE)),jde(e,()=>e.texParameteri(o,e.TEXTURE_MIN_FILTER,e.NEAREST)),jde(e,()=>e.texParameteri(o,e.TEXTURE_MAG_FILTER,e.NEAREST)),1===IX().getNumber("WEBGL_VERSION")?jde(e,()=>e.texImage2D(o,0,r,t,n,0,a,i,null)):jde(e,()=>e.texStorage2D(o,1,r,t,n)),jde(e,()=>e.bindTexture(e.TEXTURE_2D,null)),{texture:s,texShape:[n,t]}}function _pe(e){return e.internalFormatFloat}function Lpe(e){return e.internalFormatHalfFloat}function $pe(e){return e.downloadTextureFormat}function Fpe(e){return e.internalFormatPackedFloat}function Dpe(e){return e.internalFormatPackedHalfFloat}function zpe(e,t,n,r,a,i,s,o){const l=e,c=new Float32Array(function(e,t){const[n,r]=Ade(e,t);return n*r*4}(i,s));return l.bindBuffer(l.PIXEL_PACK_BUFFER,t),l.getBufferSubData(l.PIXEL_PACK_BUFFER,0,c),l.bindBuffer(l.PIXEL_PACK_BUFFER,null),c}class Vpe{constructor(e){this.outputTexture=null,this.program=null,this.disposed=!1,this.itemsToPoll=[];const t=IX().getNumber("WEBGL_VERSION");if(null!=e?(this.gl=e,function(e,t){mde[e]=t}(t,e)):this.gl=yde(t),e=this.gl,2===IX().getNumber("WEBGL_VERSION")){const t=e;this.createVertexArray=()=>jde(t,()=>t.createVertexArray()),this.bindVertexArray=e=>jde(t,()=>t.bindVertexArray(e)),this.deleteVertexArray=e=>jde(t,()=>t.deleteVertexArray(e)),this.getVertexArray=()=>jde(t,()=>t.getParameter(t.VERTEX_ARRAY_BINDING))}else if(null!=e){const t=e.getExtension("OES_vertex_array_object");if(null==t)throw new Error("All WebGL1 implementations are expected to offer OES_vertex_array_object.");this.createVertexArray=()=>jde(e,()=>t.createVertexArrayOES()),this.bindVertexArray=n=>jde(e,()=>t.bindVertexArrayOES(n)),this.deleteVertexArray=n=>jde(e,()=>t.deleteVertexArrayOES(n)),this.getVertexArray=()=>jde(e,()=>e.getParameter(t.VERTEX_ARRAY_BINDING_OES))}let n="WEBGL_color_buffer_float";const r="EXT_color_buffer_half_float";if(this.parallelCompilationExtension=this.gl.getExtension("KHR_parallel_shader_compile"),1===IX().getNumber("WEBGL_VERSION")){const e="OES_texture_float",t="OES_texture_half_float";if(this.textureFloatExtension=Tde(this.gl,e),Gde(this.gl,t))this.textureHalfFloatExtension=Tde(this.gl,t);else if(IX().get("WEBGL_FORCE_F16_TEXTURES"))throw new Error("GL context does not support half float textures, yet the environment flag WEBGL_FORCE_F16_TEXTURES is set to true.");if(this.colorBufferFloatExtension=this.gl.getExtension(n),Gde(this.gl,r))this.colorBufferHalfFloatExtension=Tde(this.gl,r);else if(IX().get("WEBGL_FORCE_F16_TEXTURES"))throw new Error("GL context does not support color renderable half floats, yet the environment flag WEBGL_FORCE_F16_TEXTURES is set to true.")}else if(n="EXT_color_buffer_float",Gde(this.gl,n))this.colorBufferFloatExtension=this.gl.getExtension(n);else{if(!Gde(this.gl,r))throw new Error("GL context does not support color renderable floats");this.colorBufferHalfFloatExtension=this.gl.getExtension(r)}this.vertexBuffer=Ope(this.gl),this.indexBuffer=Ppe(this.gl),this.framebuffer=function(e){return Dde(e,()=>e.createFramebuffer(),"Unable to create WebGLFramebuffer.")}(this.gl),this.textureConfig=Cde(this.gl,this.textureHalfFloatExtension)}get debug(){return IX().getBool("DEBUG")}dispose(){if(this.disposed)return;null!=this.program&&console.warn("Disposing a GPGPUContext that still has a bound WebGLProgram. This is probably a resource leak, delete the program with GPGPUContext.deleteProgram before disposing."),null!=this.outputTexture&&console.warn("Disposing a GPGPUContext that still has a bound output matrix texture.  This is probably a resource leak, delete the output matrix texture with GPGPUContext.deleteMatrixTexture before disposing.");const e=this.gl;jde(e,()=>e.finish()),jde(e,()=>e.bindFramebuffer(e.FRAMEBUFFER,null)),jde(e,()=>e.deleteFramebuffer(this.framebuffer)),jde(e,()=>e.bindBuffer(e.ARRAY_BUFFER,null)),jde(e,()=>e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,null)),jde(e,()=>e.deleteBuffer(this.indexBuffer)),this.disposed=!0}createFloat32MatrixTexture(e,t){return this.throwIfDisposed(),function(e,t,n,r){const[a,i]=Nde(t,n);return Rpe(e,a,i,_pe(r),r.textureFormatFloat,e.FLOAT)}(this.gl,e,t,this.textureConfig)}createFloat16MatrixTexture(e,t){return this.throwIfDisposed(),function(e,t,n,r){const[a,i]=Nde(t,n);return Rpe(e,a,i,Lpe(r),r.textureFormatFloat,r.textureTypeHalfFloat)}(this.gl,e,t,this.textureConfig)}createUnsignedBytesMatrixTexture(e,t){return this.throwIfDisposed(),function(e,t,n,r){const[a,i]=Nde(t,n);return Rpe(e,a,i,$pe(r),e.RGBA,e.UNSIGNED_BYTE)}(this.gl,e,t,this.textureConfig)}uploadPixelDataToTexture(e,t){this.throwIfDisposed(),function(e,t,n){jde(e,()=>e.bindTexture(e.TEXTURE_2D,t)),n.data instanceof Uint8Array?2===IX().getNumber("WEBGL_VERSION")?jde(e,()=>e.texSubImage2D(e.TEXTURE_2D,0,0,0,n.width,n.height,e.RGBA,e.UNSIGNED_BYTE,n.data)):jde(e,()=>e.texImage2D(e.TEXTURE_2D,0,e.RGBA,n.width,n.height,0,e.RGBA,e.UNSIGNED_BYTE,n.data)):2===IX().getNumber("WEBGL_VERSION")?jde(e,()=>e.texSubImage2D(e.TEXTURE_2D,0,0,0,e.RGBA,e.UNSIGNED_BYTE,n)):jde(e,()=>e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,n)),jde(e,()=>e.bindTexture(e.TEXTURE_2D,null))}(this.gl,e,t)}uploadDenseMatrixToTexture(e,t,n,r){this.throwIfDisposed(),function(e,t,n,r,a,i){let s,o,l;jde(e,()=>e.bindTexture(e.TEXTURE_2D,t)),a instanceof Uint8Array?(s=new Uint8Array(n*r*4),o=e.UNSIGNED_BYTE,l=e.RGBA):(s=new Float32Array(n*r*4),o=e.FLOAT,l=i.internalFormatPackedFloat),s.set(a),2===IX().getNumber("WEBGL_VERSION")?jde(e,()=>e.texSubImage2D(e.TEXTURE_2D,0,0,0,n,r,e.RGBA,o,s)):jde(e,()=>e.texImage2D(e.TEXTURE_2D,0,l,n,r,0,e.RGBA,o,s)),jde(e,()=>e.bindTexture(e.TEXTURE_2D,null))}(this.gl,e,t,n,r,this.textureConfig)}createFloat16PackedMatrixTexture(e,t){return this.throwIfDisposed(),function(e,t,n,r){const[a,i]=Ade(t,n);return Rpe(e,a,i,Dpe(r),e.RGBA,r.textureTypeHalfFloat)}(this.gl,e,t,this.textureConfig)}createPackedMatrixTexture(e,t){return this.throwIfDisposed(),function(e,t,n,r){const[a,i]=Ade(t,n);return Rpe(e,a,i,Fpe(r),e.RGBA,e.FLOAT)}(this.gl,e,t,this.textureConfig)}deleteMatrixTexture(e){this.throwIfDisposed(),this.outputTexture===e&&($de(this.gl,this.framebuffer),this.outputTexture=null),jde(this.gl,()=>this.gl.deleteTexture(e))}downloadByteEncodedFloatMatrixFromOutputTexture(e,t,n){return this.downloadMatrixDriver(e,()=>function(e,t,n,r){const[a,i]=Nde(t,n),s=new Uint8Array(t*n*4);return jde(e,()=>e.readPixels(0,0,a,i,r.downloadTextureFormat,e.UNSIGNED_BYTE,s)),new Float32Array(s.buffer)}(this.gl,t,n,this.textureConfig))}downloadPackedMatrixFromBuffer(e,t,n,r,a,i){return zpe(this.gl,e,0,0,0,a,i,this.textureConfig)}downloadFloat32MatrixFromBuffer(e,t){return function(e,t,n){const r=e,a=new Float32Array(n);return r.bindBuffer(r.PIXEL_PACK_BUFFER,t),r.getBufferSubData(r.PIXEL_PACK_BUFFER,0,a),r.bindBuffer(r.PIXEL_PACK_BUFFER,null),a}(this.gl,e,t)}createBufferFromTexture(e,t,n){this.bindTextureToFrameBuffer(e);const r=function(e,t,n){const r=e.createBuffer();jde(e,()=>e.bindBuffer(e.PIXEL_PACK_BUFFER,r));const a=16*t*n;return jde(e,()=>e.bufferData(e.PIXEL_PACK_BUFFER,a,e.STREAM_READ)),jde(e,()=>e.readPixels(0,0,n,t,e.RGBA,e.FLOAT,0)),jde(e,()=>e.bindBuffer(e.PIXEL_PACK_BUFFER,null)),r}(this.gl,t,n,this.textureConfig);return this.unbindTextureToFrameBuffer(),r}createAndWaitForFence(){const e=this.createFence(this.gl);return this.pollFence(e)}createFence(e){let t,n;if(IX().getBool("WEBGL_FENCE_API_ENABLED")){const r=e,a=r.fenceSync(r.SYNC_GPU_COMMANDS_COMPLETE,0);e.flush(),n=()=>{const e=r.clientWaitSync(a,0,0);return e===r.ALREADY_SIGNALED||e===r.CONDITION_SATISFIED},t=a}else IX().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0?(t=this.beginQuery(),this.endQuery(),n=()=>this.isQueryAvailable(t,IX().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))):n=()=>!0;return{query:t,isFencePassed:n}}downloadMatrixFromPackedTexture(e,t,n){return this.downloadMatrixDriver(e,()=>function(e,t,n){const r=new Float32Array(t*n*4);return jde(e,()=>e.readPixels(0,0,n,t,e.RGBA,e.FLOAT,r)),r}(this.gl,t,n))}createProgram(e){this.throwIfDisposed();const t=this.gl;null==this.vertexShader&&(this.vertexShader=Ipe(t));const n=function(e){return Dde(e,()=>e.createProgram(),"Unable to create WebGLProgram.")}(t);jde(t,()=>t.attachShader(n,this.vertexShader)),jde(t,()=>t.attachShader(n,e)),function(e,t){if(jde(e,()=>e.linkProgram(t)),!IX().get("ENGINE_COMPILE_ONLY")&&!1===e.getProgramParameter(t,e.LINK_STATUS))throw console.log(e.getProgramInfoLog(t)),new Error("Failed to link vertex and fragment shaders.")}(t,n);const r=Object.assign(n,{vao:this.createVertexArray()});return this.debug&&Pde(t,r),r}buildVao(e){this.setProgram(e),this.bindVertexArray(e.vao);const t=this.gl;jde(t,()=>t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this.indexBuffer)),function(e,t,n){jde(e,()=>e.bindBuffer(e.ARRAY_BUFFER,n)),Rde(e,t,"clipSpacePos",n,3,20,0)&&Rde(e,t,"uv",n,2,20,12)}(t,e,this.vertexBuffer)}deleteProgram(e){this.throwIfDisposed(),e===this.program&&(this.program=null),null!=e&&(jde(this.gl,()=>this.gl.deleteProgram(e)),this.deleteVertexArray(e.vao))}setProgram(e){this.throwIfDisposed(),this.program=e,null!=this.program&&this.debug&&Pde(this.gl,this.program),jde(this.gl,()=>this.gl.useProgram(e))}getUniformLocation(e,t,n=!0){return this.throwIfDisposed(),n?function(e,t,n){return Dde(e,()=>e.getUniformLocation(t,n),'uniform "'+n+'" not present in program.')}(this.gl,e,t):function(e,t,n){return e.getUniformLocation(t,n)}(this.gl,e,t)}getAttributeLocation(e,t){return this.throwIfDisposed(),jde(this.gl,()=>this.gl.getAttribLocation(e,t))}getUniformLocationNoThrow(e,t){return this.throwIfDisposed(),this.gl.getUniformLocation(e,t)}setInputMatrixTexture(e,t,n){this.throwIfDisposed(),this.throwIfNoProgram(),function(e,t,n,r){jde(e,()=>_de(e,t,r)),jde(e,()=>e.uniform1i(n,r))}(this.gl,e,t,n)}setOutputMatrixTexture(e,t,n){this.setOutputMatrixTextureDriver(e,n,t)}setOutputPackedMatrixTexture(e,t,n){this.throwIfDisposed();const[r,a]=Ade(t,n);this.setOutputMatrixTextureDriver(e,r,a)}setOutputMatrixWriteRegion(e,t,n,r){this.setOutputMatrixWriteRegionDriver(n,e,r,t)}setOutputPackedMatrixWriteRegion(e,t,n,r){throw new Error("setOutputPackedMatrixWriteRegion not implemented.")}debugValidate(){null!=this.program&&Pde(this.gl,this.program),Fde(this.gl)}executeProgram(){this.throwIfDisposed(),this.throwIfNoProgram();const e=this.gl;if(this.debug){const e=this.getVertexArray();console.assert(e===this.program.vao,"VAO changed between setProgram and executeProgram!"),this.debugValidate()}jde(e,()=>e.drawElements(e.TRIANGLES,6,e.UNSIGNED_SHORT,0))}blockUntilAllProgramsCompleted(){this.throwIfDisposed(),jde(this.gl,()=>this.gl.finish())}getQueryTimerExtension(){return null==this.disjointQueryTimerExtension&&(this.disjointQueryTimerExtension=Tde(this.gl,2===IX().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")?"EXT_disjoint_timer_query_webgl2":"EXT_disjoint_timer_query")),this.disjointQueryTimerExtension}getQueryTimerExtensionWebGL2(){return this.getQueryTimerExtension()}getQueryTimerExtensionWebGL1(){return this.getQueryTimerExtension()}beginQuery(){if(2===IX().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")){const e=this.gl,t=this.getQueryTimerExtensionWebGL2(),n=e.createQuery();return e.beginQuery(t.TIME_ELAPSED_EXT,n),n}const e=this.getQueryTimerExtensionWebGL1(),t=e.createQueryEXT();return e.beginQueryEXT(e.TIME_ELAPSED_EXT,t),t}endQuery(){if(2===IX().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")){const e=this.gl,t=this.getQueryTimerExtensionWebGL2();return void e.endQuery(t.TIME_ELAPSED_EXT)}const e=this.getQueryTimerExtensionWebGL1();e.endQueryEXT(e.TIME_ELAPSED_EXT)}async waitForQueryAndGetTime(e){return await iX(()=>this.disposed||this.isQueryAvailable(e,IX().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))),this.getQueryTime(e,IX().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))}getQueryTime(e,t){if(0===t)return null;if(2===t){const t=this.gl;return t.getQueryParameter(e,t.QUERY_RESULT)/1e6}{const t=this.getQueryTimerExtensionWebGL1();return t.getQueryObjectEXT(e,t.QUERY_RESULT_EXT)/1e6}}isQueryAvailable(e,t){if(0===t)return!0;if(2===t){const t=this.gl,n=this.getQueryTimerExtensionWebGL2(),r=t.getQueryParameter(e,t.QUERY_RESULT_AVAILABLE);return null==this.disjoint&&(this.disjoint=this.gl.getParameter(n.GPU_DISJOINT_EXT)),r&&!this.disjoint}{const t=this.getQueryTimerExtensionWebGL1(),n=t.getQueryObjectEXT(e,t.QUERY_RESULT_AVAILABLE_EXT);return null==this.disjoint&&(this.disjoint=this.gl.getParameter(t.GPU_DISJOINT_EXT)),n&&!this.disjoint}}pollFence(e){return new Promise(t=>{this.addItemToPoll(()=>e.isFencePassed(),()=>t())})}pollItems(){const e=function(e){let t=0;for(;t<e.length;++t){if(!e[t]())break}return t-1}(this.itemsToPoll.map(e=>e.isDoneFn));for(let t=0;t<=e;++t){const{resolveFn:e}=this.itemsToPoll[t];e()}this.itemsToPoll=this.itemsToPoll.slice(e+1)}addItemToPoll(e,t){if(this.itemsToPoll.push({isDoneFn:e,resolveFn:t}),this.itemsToPoll.length>1)return;let n;"setTimeoutCustom"in IX().platform&&(n=IX().platform.setTimeoutCustom.bind(IX().platform)),iX(()=>(this.pollItems(),0===this.itemsToPoll.length),()=>0,null,n)}bindTextureToFrameBuffer(e){this.throwIfDisposed(),Lde(this.gl,e,this.framebuffer),this.debug&&Fde(this.gl)}unbindTextureToFrameBuffer(){null!=this.outputTexture?(Lde(this.gl,this.outputTexture,this.framebuffer),this.debug&&Fde(this.gl)):$de(this.gl,this.framebuffer)}downloadMatrixDriver(e,t){this.bindTextureToFrameBuffer(e);const n=t();return this.unbindTextureToFrameBuffer(),n}setOutputMatrixTextureDriver(e,t,n){this.throwIfDisposed();const r=this.gl;Lde(r,e,this.framebuffer),this.debug&&Fde(r),this.outputTexture=e,jde(r,()=>r.viewport(0,0,t,n)),jde(r,()=>r.scissor(0,0,t,n))}setOutputMatrixWriteRegionDriver(e,t,n,r){this.throwIfDisposed(),jde(this.gl,()=>this.gl.scissor(e,t,n,r))}throwIfDisposed(){if(this.disposed)throw new Error("Attempted to use disposed GPGPUContext.")}throwIfNoProgram(){if(null==this.program)throw new Error("No GPU program is currently set.")}}const{addImpl:Bpe,bincountImpl:Hpe,bincountReduceImpl:Upe,bitwiseAndImpl:Wpe,castImpl:Zpe,ceilImpl:Gpe,concatImpl:Kpe,equalImpl:qpe,expImpl:Xpe,expm1Impl:Ype,floorImpl:Qpe,gatherNdImpl:Jpe,gatherV2Impl:efe,greaterImpl:tfe,greaterEqualImpl:nfe,lessImpl:rfe,lessEqualImpl:afe,linSpaceImpl:ife,logImpl:sfe,maxImpl:ofe,maximumImpl:lfe,minimumImpl:cfe,multiplyImpl:ufe,negImpl:hfe,notEqualImpl:dfe,prodImpl:pfe,raggedGatherImpl:ffe,raggedRangeImpl:mfe,raggedTensorToTensorImpl:gfe,rangeImpl:yfe,rsqrtImpl:xfe,scatterImpl:bfe,sigmoidImpl:vfe,simpleAbsImpl:wfe,sliceImpl:kfe,sparseFillEmptyRowsImpl:Sfe,sparseReshapeImpl:Nfe,sparseSegmentReductionImpl:Efe,sqrtImpl:Afe,staticRegexReplaceImpl:Cfe,stridedSliceImpl:jfe,stringNGramsImpl:Mfe,stringSplitImpl:Tfe,stringToHashBucketFastImpl:Ife,subImpl:Ofe,tileImpl:Pfe,topKImpl:Rfe,transposeImpl:_fe,uniqueImpl:Lfe}=mle;function $fe(e,t){return["x","y","z","w","u","v"].slice(0,t).map(t=>`${e}.${t}`)}function Ffe(e,t){return 1===t?[e]:$fe(e,t)}class Dfe{constructor(e){if(this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.outputShape=e,this.rank=e.length,this.enableShapeUniforms=Spe(this.outputShape.length),0===this.rank)this.userCode="\n        void main() {\n          setOutput(vec4(getA(), 0., 0., 0.));\n        }\n      ";else{const e=Ffe("rc",this.rank),t=gpe(this.rank),n=this.getOutOfBoundsCondition(e),r=this.getSetup(e),a=this.getOutput(e);this.userCode=`\n        void main() {\n          ${t} rc = getOutputCoords();\n\n          if(${n}) {\n            setOutput(vec4(0));\n          } else {\n            ${r}\n\n            setOutput(vec4(${a}));\n          }\n        }\n      `}}getSourceCoordsArr(e){const t=[];for(let n=0;n<=1;n++)for(let r=0;r<=1;r++){let a=`${0===n?"r":"rp1"}, ${0===r?"c":"cp1"}`;for(let t=2;t<this.rank;t++)a=`${e[e.length-1-t]},`+a;t.push(a)}return t}getOutOfBoundsCondition(e){if(1===this.rank)return`rc > ${this.enableShapeUniforms?"outShape":this.outputShape[0]}`;let t="";for(let n=this.rank-2;n<this.rank;n++)t+=`${e[n]} >= ${this.enableShapeUniforms?`outShape[${n}]`:this.outputShape[n]}`,n<this.rank-1&&(t+="||");return t}getSetup(e){if(1===this.rank)return"";const t=e.slice(-2),n=this.enableShapeUniforms?`outShape[${this.rank} - 1]`:this.outputShape[this.rank-1],r=this.enableShapeUniforms?`outShape[${this.rank} - 2]`:this.outputShape[this.rank-2];return`\n      int r = ${t[0]};\n      int c = ${t[1]};\n      int rp1 = r + 1;\n      int cp1 = c + 1;\n\n      bool cEdge = cp1 >= ${n};\n      bool rEdge = rp1 >= ${r};\n    `}getOutput(e){const t=this.getSourceCoordsArr(e);if(1===this.rank){return`getA(rc), (rc + 1 >= ${this.enableShapeUniforms?"outShape":this.outputShape[0]} ? 0. : getA(rc + 1)), 0, 0`}return`getA(${t[0]}),\n            cEdge ? 0. : getA(${t[1]}),\n            rEdge ? 0. : getA(${t[2]}),\n            rEdge || cEdge ? 0. : getA(${t[3]})`}}class zfe{constructor(e,t){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"inputShape",type:"ivec3"}],this.outputShape=e,this.enableShapeUniforms=Spe(this.outputShape.length);let n="";for(let i=0;i<4;i++){let e="thisRC = rc;";i%2==1&&(e+="thisRC.z += 1;"),i>1&&(e+="thisRC.y += 1;"),n+=`\n        ${e}\n        ${i>0?"if(thisRC.y < rows && thisRC.z < cols){":""}\n          int flatIndex = getFlatIndex(thisRC);\n\n          ivec3 inputRC = inputCoordsFromReshapedOutCoords(flatIndex);\n          vec2 inputRCInnerDims = vec2(float(inputRC.y),float(inputRC.z));\n\n          result[${i}] =\n            getChannel(getA(inputRC.x, inputRC.y, inputRC.z), inputRCInnerDims);\n        ${i>0?"}":""}\n      `}var r,a;this.userCode=`\n      ${r=t,a=this.enableShapeUniforms,`\n    ivec3 inputCoordsFromReshapedOutCoords(int index) {\n      ${a?npe(["r","c","d"],"inputShape"):epe(["r","c","d"],r)}\n      return ivec3(r, c, d);\n    }\n  `}\n      ${this.enableShapeUniforms?"\n  int getFlatIndex(ivec3 coords) {\n    return coords.x * outShapeStrides[0] + coords.y * outShapeStrides[1] + coords.z;\n  }\n":rpe(e)}\n\n      void main() {\n        ivec3 rc = getOutputCoords();\n\n        vec4 result = vec4(0.);\n\n        ivec3 thisRC;\n        int rows = ${this.enableShapeUniforms?"outShape[1]":e[1]};\n        int cols = ${this.enableShapeUniforms?"outShape[2]":e[2]};\n\n        ${n}\n\n        setOutput(result);\n      }\n    `}}class Vfe{constructor(e){this.gpgpu=e,this.numUsedTextures=0,this.numFreeTextures=0,this._numBytesAllocated=0,this._numBytesFree=0,this.freeTextures={},this.usedTextures={},this.logEnabled=!1}acquireTexture(e,t,n){const r=Hfe(t,n),a=Ufe(e,r,n);a in this.freeTextures||(this.freeTextures[a]=[]),a in this.usedTextures||(this.usedTextures[a]=[]);const i=Bfe(e,r,this.gpgpu.gl,this.gpgpu.textureConfig,n);if(this.freeTextures[a].length>0){this.numFreeTextures--,this.numUsedTextures++,this._numBytesFree-=i,this.log();const e=this.freeTextures[a].pop();return this.usedTextures[a].push(e),e}let s;return r===kde.PACKED_2X2_FLOAT32?s=this.gpgpu.createPackedMatrixTexture(e[0],e[1]):r===kde.PACKED_2X2_FLOAT16?s=this.gpgpu.createFloat16PackedMatrixTexture(e[0],e[1]):r===kde.UNPACKED_FLOAT32?s=this.gpgpu.createFloat32MatrixTexture(e[0],e[1]):r===kde.UNPACKED_FLOAT16?s=this.gpgpu.createFloat16MatrixTexture(e[0],e[1]):r===kde.PACKED_4X1_UNSIGNED_BYTE&&(s=this.gpgpu.createUnsignedBytesMatrixTexture(e[0],e[1])),this.usedTextures[a].push(s),this.numUsedTextures++,this._numBytesAllocated+=i,this.log(),s}releaseTexture(e,t,n,r){if(null==this.freeTextures)return;const a=Hfe(n,r),i=Ufe(t,a,r);i in this.freeTextures||(this.freeTextures[i]=[]);const s=Bfe(t,a,this.gpgpu.gl,this.gpgpu.textureConfig,r),o=IX().getNumber("WEBGL_DELETE_TEXTURE_THRESHOLD");-1!==o&&this._numBytesAllocated>o?(this.gpgpu.deleteMatrixTexture(e.texture),this._numBytesAllocated-=s):(this.freeTextures[i].push(e),this.numFreeTextures++,this._numBytesFree+=s),this.numUsedTextures--;const l=this.usedTextures[i],c=l&&l.indexOf(e);if(null==c||c<0)throw new Error("Cannot release a texture that was never provided by this texture manager");l[c]=l[l.length-1],l.pop(),this.log()}log(){if(!this.logEnabled)return;const e=this.numFreeTextures+this.numUsedTextures;console.log("Free/Used",`${this.numFreeTextures} / ${this.numUsedTextures}`,`(${e})`);const t=this._numBytesFree/this._numBytesAllocated;console.log(`Bytes allocated: ${this._numBytesAllocated}`),console.log(`Bytes unused: ${this._numBytesFree} (${Math.round(100*t)}%)`)}get numBytesAllocated(){return this._numBytesAllocated}get numBytesFree(){return this._numBytesFree}getNumUsedTextures(){return this.numUsedTextures}getNumFreeTextures(){return this.numFreeTextures}dispose(){if(null!=this.freeTextures){for(const e in this.freeTextures)this.freeTextures[e].forEach(e=>{this.gpgpu.deleteMatrixTexture(e.texture)});for(const e in this.usedTextures)this.usedTextures[e].forEach(e=>{this.gpgpu.deleteMatrixTexture(e.texture)});this.freeTextures=null,this.usedTextures=null,this.numUsedTextures=0,this.numFreeTextures=0,this._numBytesAllocated=0,this._numBytesFree=0}}}function Bfe(e,t,n,r,a){const i=function(e,t){switch(e){case kde.PACKED_2X2_FLOAT32:return Fpe(t);case kde.PACKED_2X2_FLOAT16:return Dpe(t);case kde.UNPACKED_FLOAT32:return _pe(t);case kde.UNPACKED_FLOAT16:return Lpe(t);case kde.PACKED_4X1_UNSIGNED_BYTE:return $pe(t);default:throw new Error(`Unknown physical texture type ${e}`)}}(t,r);let s;if(a){const[t,n]=Ade(e[0],e[1]);s=t*n}else{const[t,n]=Nde(e[0],e[1]);s=t*n}const o=function(e,t){const n=e;if(t===n.R32F)return 4;if(t===n.R16F)return 2;if(t===n.RGBA32F)return 16;if(t===e.RGBA)return 16;if(t===n.RGBA16F)return 8;if(t===n.RGBA8)return 4;throw new Error(`Unknown internal format ${t}`)}(n,i);return s*o}function Hfe(e,t){if(e===vde.UPLOAD)return kde.PACKED_2X2_FLOAT32;if(e===vde.RENDER||null==e)return function(e){return IX().getBool("WEBGL_RENDER_FLOAT32_ENABLED")?e?kde.PACKED_2X2_FLOAT32:kde.UNPACKED_FLOAT32:e?kde.PACKED_2X2_FLOAT16:kde.UNPACKED_FLOAT16}(t);if(e===vde.DOWNLOAD||e===vde.PIXELS)return kde.PACKED_4X1_UNSIGNED_BYTE;throw new Error(`Unknown logical texture type ${e}`)}function Ufe(e,t,n){return`${e[0]}_${e[1]}_${t}_${n}`}class Wfe{constructor(e,t){this.variableNames=["A"],this.outputShape=e,this.enableShapeUniforms=Spe(this.outputShape.length),this.userCode=`\n      float unaryOperation(float x) {\n        ${t}\n      }\n\n      void main() {\n        float x = getAAtOutCoords();\n        float y = unaryOperation(x);\n\n        setOutput(y);\n      }\n    `}}const Zfe="if (isnan(x)) return x;",Gfe="return abs(x);",Kfe=Zfe+"\n  return (x < 0.0) ? 0.0 : x;\n",qfe=Zfe+"\n  return (x < 0.0) ? 0.0 : min(6.0, x);\n",Xfe="return x;";class Yfe{constructor(e,t){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e,this.enableShapeUniforms=Spe(this.outputShape.length),this.userCode=`\n      vec4 unaryOperation(vec4 x) {\n        ${t}\n      }\n\n      void main() {\n        vec4 x = getAAtOutCoords();\n        vec4 y = unaryOperation(x);\n\n        setOutput(y);\n      }\n    `}}class Qfe{constructor(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!1,this.outputShape=e,this.enableShapeUniforms=Spe(this.outputShape.length);const t=e.length,n=Ffe("rc",t),r=gpe(t),a=function(e,t){if(1===e)return"rc";let n="";for(let r=0;r<e;r++)n+=t[r],r<e-1&&(n+=",");return n}(t,n),i=n.slice(-2),s=t<=1?"rc":`vec2(${i.join(",")})`;this.userCode=`\n      void main() {\n        ${r} rc = getOutputCoords();\n        vec4 packedInput = getA(${a});\n\n        setOutput(getChannel(packedInput, ${s}));\n      }\n    `}}const Jfe=o3,eme={};const tme=IX().getNumber("CPU_HANDOFF_SIZE_THRESHOLD");class nme extends Wq{nextDataId(){return nme.nextDataId++}constructor(e){if(super(),this.pendingRead=new WeakMap,this.pendingDisposal=new WeakSet,this.dataRefCount=new WeakMap,this.numBytesInGPU=0,this.uploadWaitMs=0,this.downloadWaitMs=0,this.lastGlFlushTime=0,this.warnedAboutMemory=!1,this.pendingDeletes=0,this.disposed=!1,!IX().getBool("HAS_WEBGL"))throw new Error("WebGL is not supported on this device");let t;if(null!=e){if(e instanceof Vpe)t=e;else{const n=yde(IX().getNumber("WEBGL_VERSION"),e);t=new Vpe(n)}this.binaryCache={},this.gpgpuCreatedLocally=!1}else{const e=yde(IX().getNumber("WEBGL_VERSION"));t=new Vpe(e),this.binaryCache=((n=IX().getNumber("WEBGL_VERSION"))in eme||(eme[n]={}),eme[n]),this.gpgpuCreatedLocally=!0}var n;this.gpgpu=t,this.canvas=this.gpgpu.gl.canvas,this.textureManager=new Vfe(this.gpgpu),this.numMBBeforeWarning=null==IX().global.screen?1024:IX().global.screen.height*IX().global.screen.width*window.devicePixelRatio*600/1024/1024,this.texData=new Uq(this,S1())}numDataIds(){return this.texData.numDataIds()-this.pendingDeletes}writeTexture(e,t,n,r,a,i){const s=this.makeTensorInfo(t,n),o=this.texData.get(s.dataId);o.isPacked=!1,o.texture={texture:e,texShape:[r,a]},o.texShape=[r,a];const l=Bde(t),c=new Mpe(l,!1,i),u=this.runWebGLProgram(c,[s],n,[[r,a]]);return u.shape=t,o.texture=null,this.disposeIntermediateTensorInfo(s),u.dataId}write(e,t,n){if((IX().getBool("WEBGL_CHECK_NUMERICAL_PROBLEMS")||IX().getBool("DEBUG"))&&this.checkNumericalProblems(e),"complex64"===n&&null!=e)throw new Error("Cannot write to a complex64 dtype. Please use tf.complex(real, imag).");const r={id:this.nextDataId()};return this.texData.set(r,{shape:t,dtype:n,values:e,usage:vde.UPLOAD,refCount:1}),r}refCount(e){if(this.texData.has(e)){return this.texData.get(e).refCount}return 0}incRef(e){this.texData.get(e).refCount++}decRef(e){if(this.texData.has(e)){this.texData.get(e).refCount--}}move(e,t,n,r,a){if(IX().getBool("DEBUG")&&this.checkNumericalProblems(t),"complex64"===r)throw new Error("Cannot write to a complex64 dtype. Please use tf.complex(real, imag).");this.texData.set(e,{shape:n,dtype:r,values:t,usage:vde.UPLOAD,refCount:a})}disposeIntermediateTensorInfo(e){this.disposeData(e.dataId)}readSync(e){const t=this.texData.get(e),{values:n,dtype:r,complexTensorInfos:a,slice:i,shape:s,isPacked:o}=t;if(null!=i){let t;t=o?new Yfe(s,Xfe):new Wfe(s,Xfe);const n=this.runWebGLProgram(t,[{dataId:e,shape:s,dtype:r}],r),a=this.readSync(n.dataId);return this.disposeIntermediateTensorInfo(n),a}if(null!=n)return this.convertAndCacheOnCPU(e);if("string"===r)return n;const l=null!=this.activeTimers;let c,u;if(l&&(c=v0()),"complex64"===r){u=J5(this.readSync(a.real.dataId),this.readSync(a.imag.dataId))}else u=this.getValuesFromTexture(e);return l&&(this.downloadWaitMs+=v0()-c),this.convertAndCacheOnCPU(e,u)}async read(e){if(this.pendingRead.has(e)){const t=this.pendingRead.get(e);return new Promise(e=>t.push(e))}const t=this.texData.get(e),{values:n,shape:r,slice:a,dtype:i,complexTensorInfos:s,isPacked:o}=t;if(null!=a){let t;t=o?new Yfe(r,Xfe):new Wfe(r,Xfe);const n=this.runWebGLProgram(t,[{dataId:e,shape:r,dtype:i}],i),a=this.read(n.dataId);return this.disposeIntermediateTensorInfo(n),a}if(null!=n)return this.convertAndCacheOnCPU(e);if(IX().getBool("DEBUG")&&!IX().getBool("WEBGL_DOWNLOAD_FLOAT_ENABLED")&&2===IX().getNumber("WEBGL_VERSION"))throw new Error("tensor.data() with WEBGL_DOWNLOAD_FLOAT_ENABLED=false and WEBGL_VERSION=2 not yet supported.");let l,c,u=null;if("complex64"!==i&&IX().get("WEBGL_BUFFER_SUPPORTED")){l=this.decode(e);const t=this.texData.get(l.dataId);u=this.gpgpu.createBufferFromTexture(t.texture.texture,...Ede(r))}if(this.pendingRead.set(e,[]),"complex64"!==i&&await this.gpgpu.createAndWaitForFence(),"complex64"===i){const e=await Promise.all([this.read(s.real.dataId),this.read(s.imag.dataId)]);c=J5(e[0],e[1])}else if(null==u)c=this.getValuesFromTexture(e);else{const e=eX(r);c=this.gpgpu.downloadFloat32MatrixFromBuffer(u,e)}if(null!=l&&this.disposeIntermediateTensorInfo(l),null!=u){const e=this.gpgpu.gl;jde(e,()=>e.deleteBuffer(u))}const h=this.convertAndCacheOnCPU(e,c),d=this.pendingRead.get(e);return this.pendingRead.delete(e),d.forEach(e=>e(h)),this.pendingDisposal.has(e)&&(this.pendingDisposal.delete(e),this.disposeData(e)&&S1().removeDataId(e,this),this.pendingDeletes--),h}readToGPU(e,t={}){const n=this.texData.get(e),{values:r,shape:a,slice:i,dtype:s,isPacked:o,texture:l}=n;if("complex64"===s)throw new Error("Does not support reading texture for complex64 dtype.");if(null!=i){let n;n=o?new Yfe(a,Xfe):new Wfe(a,Xfe);const r=this.runWebGLProgram(n,[{dataId:e,shape:a,dtype:s}],s),i=this.readToGPU(r,t);return this.disposeIntermediateTensorInfo(r),i}if(null==l)throw null!=r?new Error("Data is not on GPU but on CPU."):new Error("There is no data on GPU or CPU.");const c=this.decode(e,t.customTexShape),u=S1().makeTensorFromTensorInfo(c),h=this.texData.get(c.dataId);return Object.assign({tensorRef:u},h.texture)}bufferSync(e){const t=this.readSync(e.dataId);if("string"===e.dtype)try{const n=t.map(e=>k0(e));return d2(e.shape,e.dtype,n)}catch(n){throw new Error("Failed to decode encoded string bytes into utf-8")}return d2(e.shape,e.dtype,t)}checkNumericalProblems(e){if(null!=e)for(let t=0;t<e.length;t++){const n=e[t];if(!Mde(n)){if(IX().getBool("WEBGL_RENDER_FLOAT32_CAPABLE"))throw Error(`The value ${n} cannot be represented with your current settings. Consider enabling float32 rendering: 'tf.env().set('WEBGL_RENDER_FLOAT32_ENABLED', true);'`);throw Error(`The value ${n} cannot be represented on this device.`)}}}getValuesFromTexture(e){const{shape:t,dtype:n,isPacked:r}=this.texData.get(e),a=eX(t);if(IX().getBool("WEBGL_DOWNLOAD_FLOAT_ENABLED")){const n=this.decode(e),r=this.texData.get(n.dataId),i=this.gpgpu.downloadMatrixFromPackedTexture(r.texture.texture,...Ede(t)).subarray(0,a);return this.disposeIntermediateTensorInfo(n),i}const i=IX().getBool("WEBGL_PACK")&&!0===r,s=i?Bde(t):t,o=i?new Cpe(s):new Ape(s),l=this.runWebGLProgram(o,[{shape:s,dtype:n,dataId:e}],"float32"),c=this.texData.get(l.dataId),u=this.gpgpu.downloadByteEncodedFloatMatrixFromOutputTexture(c.texture.texture,c.texShape[0],c.texShape[1]).subarray(0,a);return this.disposeIntermediateTensorInfo(l),u}timerAvailable(){return IX().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0}time(e){const t=this.activeTimers,n=[];let r=!1;null==this.programTimersStack?(this.programTimersStack=n,r=!0):this.activeTimers.push(n),this.activeTimers=n,e();const a=N0(this.activeTimers.map(e=>e.query)).filter(e=>null!=e),i=N0(this.activeTimers.map(e=>e.name)).filter(e=>null!=e);this.activeTimers=t,r&&(this.programTimersStack=null);const s={uploadWaitMs:this.uploadWaitMs,downloadWaitMs:this.downloadWaitMs,kernelMs:null,wallMs:null};return(async()=>{if(IX().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0){const e=await Promise.all(a);s.kernelMs=function(e){let t=0;for(let n=0;n<e.length;n++)t+=e[n];return t}(e),s.getExtraProfileInfo=()=>e.map((e,t)=>({name:i[t],ms:e})).map(e=>`${e.name}: ${e.ms}`).join(", ")}else s.kernelMs={error:"WebGL query timers are not supported in this environment."};return this.uploadWaitMs=0,this.downloadWaitMs=0,s})()}memory(){return{unreliable:!1,numBytesInGPU:this.numBytesInGPU,numBytesInGPUAllocated:this.textureManager.numBytesAllocated,numBytesInGPUFree:this.textureManager.numBytesFree}}startTimer(){return IX().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?this.gpgpu.beginQuery():{startMs:v0(),endMs:null}}endTimer(e){return IX().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?(this.gpgpu.endQuery(),e):(e.endMs=v0(),e)}async getQueryTime(e){if(IX().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0)return this.gpgpu.waitForQueryAndGetTime(e);const t=e;return t.endMs-t.startMs}disposeData(e,t=!1){if(this.pendingDisposal.has(e))return!1;if(!this.texData.has(e))return!0;if(t?this.texData.get(e).refCount=0:this.texData.get(e).refCount--,!t&&this.texData.get(e).refCount>0)return!1;if(this.pendingRead.has(e))return this.pendingDisposal.add(e),this.pendingDeletes++,!1;this.releaseGPUData(e);const{complexTensorInfos:n}=this.texData.get(e);return null!=n&&(this.disposeData(n.real.dataId,t),this.disposeData(n.imag.dataId,t)),this.texData.delete(e),!0}releaseGPUData(e){const{texture:t,dtype:n,texShape:r,usage:a,isPacked:i,slice:s}=this.texData.get(e),o=s&&s.origDataId||e,l=this.dataRefCount.get(o);l>1?this.dataRefCount.set(o,l-1):(this.dataRefCount.delete(o),null!=t&&(this.numBytesInGPU-=this.computeBytes(r,n),this.textureManager.releaseTexture(t,r,a,i)));const c=this.texData.get(e);c.texture=null,c.texShape=null,c.isPacked=!1,c.slice=null}getTexture(e){return this.uploadToGPU(e),this.texData.get(e).texture.texture}getDataInfo(e){return this.texData.get(e)}shouldExecuteOnCPU(e,t=tme){return IX().getBool("WEBGL_CPU_FORWARD")&&e.every(e=>null==this.texData.get(e.dataId).texture&&eX(e.shape)<t)}getGPGPUContext(){return this.gpgpu}where(e){WJ("tf.where() in webgl locks the UI thread. Call tf.whereAsync() instead");const t=e.dataSync();return Jfe(e.shape,t)}packedUnaryOp(e,t,n){const r=new Yfe(e.shape,t),a=this.compileAndRun(r,[e],n);return S1().makeTensorFromTensorInfo(a)}abs(e){if(this.shouldExecuteOnCPU([e])&&"complex64"!==e.dtype){const t=wfe(this.texData.get(e.dataId).values);return this.makeOutput(e.shape,e.dtype,t)}if(IX().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(e,Gfe,e.dtype);const t=new Wfe(e.shape,Gfe),n=this.compileAndRun(t,[e]);return S1().makeTensorFromTensorInfo(n)}makeTensorInfo(e,t,n){let r;if("string"===t&&null!=n&&n.length>0&&pX(n[0])){const a=n.map(e=>w0(e));r=this.write(a,e,t)}else r=this.write(n,e,t);return this.texData.get(r).usage=null,{dataId:r,shape:e,dtype:t}}makeOutput(e,t,n){return S1().makeTensorFromTensorInfo(this.makeTensorInfo(e,t,n),this)}unpackTensor(e){const t=new Qfe(e.shape);return this.runWebGLProgram(t,[e],e.dtype)}packTensor(e){const t=new Dfe(e.shape);return this.runWebGLProgram(t,[e],e.dtype,null,!0)}packedReshape(e,t){const n=[zde(e.shape),...Vde(e.shape)],r={dtype:e.dtype,shape:n,dataId:e.dataId},a=[zde(t),...Vde(t)],i=new zfe(a,n),s=[n],o=this.runWebGLProgram(i,[r],e.dtype,s,!0);return{dataId:o.dataId,shape:t,dtype:o.dtype}}decode(e,t){const n=this.texData.get(e),{isPacked:r,shape:a,dtype:i}=n;if(null!=t){Yq(eX(a)<=t[0]*t[1]*4,()=>"customTexShape is too small. Row * Column * 4 should be equal or larger than the size of the tensor data.")}const s=Bde(a);let o;o=r?new Epe(s):new Npe(s);const l=[null!=t?t:Ede(s)];return{dtype:i,shape:a,dataId:this.runWebGLProgram(o,[{shape:s,dtype:i,dataId:e}],i,l,!0,t).dataId}}runWebGLProgram(e,t,n,r,a=!1,i){const s=this.makeTensorInfo(e.outputShape,n),o=this.texData.get(s.dataId);if(e.packedOutput&&(o.isPacked=!0),e.outPackingScheme===xde.DENSE){const t=null!=i?i:Ede(e.outputShape);o.texShape=t.map(e=>2*e)}if(null!=e.outTexUsage&&(o.usage=e.outTexUsage),0===eX(s.shape))return o.values=cX(s.dtype,0),s;const l=[],c=t.map(t=>{if("complex64"===t.dtype)throw new Error("GPGPUProgram does not support complex64 input. For complex64 dtypes, please separate the program into real and imaginary parts.");let n=this.texData.get(t.dataId);if(null==n.texture){if(!e.packedInputs&&eX(t.shape)<=IX().getNumber("WEBGL_SIZE_UPLOAD_UNIFORM"))return{shape:t.shape,texData:null,isUniform:!0,uniformValues:n.values};e.packedInputs&&(n.isPacked=!0,n.shape=t.shape)}if(this.uploadToGPU(t.dataId),!!n.isPacked!=!!e.packedInputs)t=n.isPacked?this.unpackTensor(t):this.packTensor(t),l.push(t),n=this.texData.get(t.dataId);else if(n.isPacked&&!Ude(n.shape,t.shape)){const e=t,r=t.shape;t.shape=n.shape,t=this.packedReshape(t,r),l.push(t),n=this.texData.get(t.dataId),e.shape=r}return{shape:t.shape,texData:n,isUniform:!1}});this.uploadToGPU(s.dataId);const u={shape:s.shape,texData:o,isUniform:!1},h=function(e,t,n){let r="";t.concat(n).forEach(t=>{const a=null!=t.texData&&null!=t.texData.slice&&t.texData.slice.flatOffset>0;if(e.enableShapeUniforms&&!t.isUniform){const i=t.texData.texShape,{useSqueezeShape:s,uniformShape:o,keptDims:l}=ype(e.packedInputs,t.shape,i);let c="",u="",h="";if(1===o.length&&e.packedInputs){const e=[Math.ceil(i[0]/2),Math.ceil(i[1]/2)];c=`${e[0]>1}_${e[1]>1}`}else if(2!==o.length||e.packedInputs){if(o.length>2&&!e.packedInputs){const e=xX(o);h=`${e[0]===i[1]}_${e[e.length-1]===i[1]}`}}else u=`${o[0]>1}_${o[1]>1}`;const d=t.shape.length,p=2===o.length&&tX(t.shape,i),f=1===eX(t.shape),m=M4(t.shape,n.shape),g=!e.packedInputs&&d===n.shape.length&&tX(i,n.texData.texShape),y=e.packedInputs||o.length>2?"":`${i[0]>1}_${i[1]>1}`;r+=`${d}_${g}_${s?l:""}_${o.length}_${f}_${m}_${p}_${c}_${u}_${h}_${y}_${a}`}else{const e=t.isUniform?"uniform":t.texData.texShape;r+=`${t.shape}_${e}_${a}`}});const a=e.userCode;let i=e.constructor.name;return i+="_"+r+"_"+a+`${IX().getNumber("WEBGL_VERSION")}`,i}(e,c,u),d=this.getAndSaveBinary(h,()=>vpe(this.gpgpu,e,c,u)),p=null!=this.activeTimers;let f;p&&(f=this.startTimer()),IX().get("ENGINE_COMPILE_ONLY")||function(e,t,n,r,a){t.program.enableShapeUniforms||(kpe(t.inShapeInfos,n),kpe([t.outShapeInfo],[r]));const i=r.texData.texture,s=r.texData.texShape;r.texData.isPacked?e.setOutputPackedMatrixTexture(i.texture,s[0],s[1]):e.setOutputMatrixTexture(i.texture,s[0],s[1]),e.setProgram(t.webGLProgram),e.bindVertexArray(t.webGLProgram.vao),1===IX().getNumber("WEBGL_VERSION")&&null!==t.infLoc&&e.gl.uniform1f(t.infLoc,1/0),null!==t.nanLoc&&e.gl.uniform1f(t.nanLoc,NaN);for(let l=0;l<n.length;++l){const r=n[l],{uniform:a,offset:i,shape:s,texShape:o}=t.variablesLocations[l];if(s){const{uniformShape:n}=ype(t.program.packedInputs,r.shape,r.texData.texShape);switch(n.length){case 1:e.gl.uniform1iv(s,new Int32Array(n));break;case 2:e.gl.uniform2iv(s,new Int32Array(n));break;case 3:e.gl.uniform3iv(s,new Int32Array(n));break;case 4:e.gl.uniform4iv(s,new Int32Array(n))}}if(o&&e.gl.uniform2i(o,r.texData.texShape[0],r.texData.texShape[1]),null!=a)if(r.isUniform)if(eX(r.shape)<2)e.gl.uniform1f(a,r.uniformValues[0]);else{let t=r.uniformValues;t instanceof Float32Array||(t=new Float32Array(t)),e.gl.uniform1fv(a,t)}else null!=r.texData.slice&&null!=i&&e.gl.uniform1i(i,r.texData.slice.flatOffset),e.setInputMatrixTexture(r.texData.texture.texture,a,l)}const o=t.outShapeLocation;if(o)switch(r.shape.length){case 1:e.gl.uniform1iv(o,new Int32Array(r.shape));break;case 2:e.gl.uniform2iv(o,new Int32Array(r.shape));break;case 3:e.gl.uniform3iv(o,new Int32Array(r.shape));break;case 4:e.gl.uniform4iv(o,new Int32Array(r.shape))}if(t.outShapeStridesLocation){const n=xX(r.shape);switch(r.shape.length){case 2:e.gl.uniform1iv(t.outShapeStridesLocation,new Int32Array(n));break;case 3:e.gl.uniform2iv(t.outShapeStridesLocation,new Int32Array(n));break;case 4:e.gl.uniform3iv(t.outShapeStridesLocation,new Int32Array(n))}}if(t.outTexShapeLocation&&e.gl.uniform2i(t.outTexShapeLocation,r.texData.texShape[0],r.texData.texShape[1]),t.program.customUniforms&&a)for(let l=0;l<t.program.customUniforms.length;++l){const n=t.program.customUniforms[l],r=t.customUniformLocations[l],i=a[l];if("float"===n.type)e.gl.uniform1fv(r,i);else if("vec2"===n.type)e.gl.uniform2fv(r,i);else if("vec3"===n.type)e.gl.uniform3fv(r,i);else if("vec4"===n.type)e.gl.uniform4fv(r,i);else if("int"===n.type)e.gl.uniform1iv(r,i);else if("ivec2"===n.type)e.gl.uniform2iv(r,i);else if("ivec3"===n.type)e.gl.uniform3iv(r,i);else{if("ivec4"!==n.type)throw Error(`uniform type ${n.type} is not supported yet.`);e.gl.uniform4iv(r,i)}}e.executeProgram()}(this.gpgpu,d,c,u,r),l.forEach(e=>this.disposeIntermediateTensorInfo(e)),p&&(f=this.endTimer(f),this.activeTimers.push({name:e.constructor.name,query:this.getQueryTime(f)}));const m=IX().getNumber("WEBGL_FLUSH_THRESHOLD");if(m>0){const e=v0();e-this.lastGlFlushTime>m&&(this.gpgpu.gl.flush(),this.lastGlFlushTime=e)}if(!IX().getBool("WEBGL_LAZILY_UNPACK")&&o.isPacked&&!1===a){const e=this.unpackTensor(s);return this.disposeIntermediateTensorInfo(s),e}return s}compileAndRun(e,t,n,r,a=!1){n=n||t[0].dtype;return this.runWebGLProgram(e,t,n,r,a)}getAndSaveBinary(e,t){return e in this.binaryCache||(this.binaryCache[e]=t()),this.binaryCache[e]}getTextureManager(){return this.textureManager}dispose(){if(!this.disposed){if(!IX().getBool("IS_TEST")){Object.keys(this.binaryCache).forEach(e=>{this.gpgpu.deleteProgram(this.binaryCache[e].webGLProgram),delete this.binaryCache[e]})}this.textureManager.dispose(),null!=this.canvas&&"undefined"!=typeof HTMLCanvasElement&&this.canvas instanceof HTMLCanvasElement?this.canvas.remove():this.canvas=null,this.gpgpuCreatedLocally&&(this.gpgpu.program=null,this.gpgpu.dispose()),this.disposed=!0}}floatPrecision(){return null==this.floatPrecisionValue&&(this.floatPrecisionValue=E1(()=>{if(!IX().get("WEBGL_RENDER_FLOAT32_ENABLED")){const e=IX().getBool("DEBUG");IX().set("DEBUG",!1);const t=this.abs(Y4(1e-8)).dataSync()[0];if(IX().set("DEBUG",e),t>0)return 32}return 16})),this.floatPrecisionValue}epsilon(){return 32===this.floatPrecision()?1e-7:1e-4}uploadToGPU(e){const t=this.texData.get(e),{shape:n,dtype:r,values:a,texture:i,usage:s,isPacked:o}=t;if(null!=i)return;const l=null!=this.activeTimers;let c;l&&(c=v0());let u=t.texShape;if(null==u&&(u=function(e,t=!1){let n=IX().getNumber("WEBGL_MAX_TEXTURE_SIZE"),r=IX().getNumber("WEBGL_MAX_SIZE_FOR_NARROW_TEXTURE");if(r===1/0&&IX().getBool("WEBGL_AUTO_SQUARIFY_NARROW_TEXTURE_SHAPE")&&(r=n/2),t&&(n*=2,r*=2,1===(e=e.map((t,n)=>n>=e.length-2?qq(e[n]):e[n])).length&&(e=[2,e[0]])),2!==e.length){const t=lX(e);e=t.newShape}let a=eX(e),i=null;e.length<=1&&a<=n?i=[1,a]:2===e.length&&e[0]<=n&&e[1]<=n?i=e:3===e.length&&e[0]*e[1]<=n&&e[2]<=n?i=[e[0]*e[1],e[2]]:3===e.length&&e[0]<=n&&e[1]*e[2]<=n?i=[e[0],e[1]*e[2]]:4===e.length&&e[0]*e[1]*e[2]<=n&&e[3]<=n?i=[e[0]*e[1]*e[2],e[3]]:4===e.length&&e[0]<=n&&e[1]*e[2]*e[3]<=n&&(i=[e[0],e[1]*e[2]*e[3]]);const s=null!=i&&Math.max(...i)>r&&Math.min(...i)<=(t?2:1)&&Math.min(...i)>0;if(null==i||s)if(t){const t=zde(e);let n=2,r=2;e.length&&([n,r]=Vde(e)),a=t*(n/2)*(r/2),i=rX(a).map(e=>2*e)}else i=rX(a);return i}(n,o),t.texShape=u),null!=a){const e=Bde(n);let i,s=u[1],h=u[0];const d=a instanceof Uint8Array||a instanceof Uint8ClampedArray;!o&&d||([s,h]=Ade(u[0],u[1])),i=o?new Tpe(e,d):new Mpe(e,d);const p=d?[h,s]:u,f=this.makeTensorInfo(p,r),m=this.texData.get(f.dataId);m.usage=d?vde.PIXELS:vde.UPLOAD,m.texShape=p,this.gpgpu.uploadDenseMatrixToTexture(this.getTexture(f.dataId),s,h,a);const g=[[h,s]],y=!0,x=this.runWebGLProgram(i,[f],r,g,y),b=this.texData.get(x.dataId);t.texShape=b.texShape,t.isPacked=b.isPacked,t.usage=b.usage,IX().get("ENGINE_COMPILE_ONLY")?this.disposeData(x.dataId):(t.texture=b.texture,t.values=null,this.texData.delete(x.dataId)),this.disposeIntermediateTensorInfo(f),l&&(this.uploadWaitMs+=v0()-c)}else{const e=this.acquireTexture(u,s,r,o);t.texture=e}}convertAndCacheOnCPU(e,t){const n=this.texData.get(e),{dtype:r}=n;return null!=t&&(n.values=function(e,t){if("float32"===t||"complex64"===t)return e;if("int32"===t||"bool"===t){const n="int32"===t?new Int32Array(e.length):new Uint8Array(e.length);for(let t=0;t<n.length;++t)n[t]=Math.round(e[t]);return n}throw new Error(`Unknown dtype ${t}`)}(t,r)),n.values}acquireTexture(e,t,n,r){if(this.numBytesInGPU+=this.computeBytes(e,n),!this.warnedAboutMemory&&this.numBytesInGPU>1024*this.numMBBeforeWarning*1024){const e=(this.numBytesInGPU/1024/1024).toFixed(2);this.warnedAboutMemory=!0,console.warn(`High memory usage in GPU: ${e} MB, most likely due to a memory leak`)}return this.textureManager.acquireTexture(e,t,r)}computeBytes(e,t){return e[0]*e[1]*dX(t)}checkCompileCompletion(){for(const[,e]of Object.entries(this.binaryCache))this.checkCompletion_(e)}async checkCompileCompletionAsync(){const e=[];if(this.gpgpu.parallelCompilationExtension){for(const[,t]of Object.entries(this.binaryCache))e.push(this.checkCompletionAsync_(t));return Promise.all(e)}for(const[,t]of Object.entries(this.binaryCache)){const n=new Promise(e=>{try{this.checkCompletion_(t),e(!0)}catch(n){throw n}});e.push(n)}return Promise.all(e)}async checkCompletionAsync_(e){return this.gpgpu.gl.getProgramParameter(e.webGLProgram,this.gpgpu.parallelCompilationExtension.COMPLETION_STATUS_KHR)?this.checkCompletion_(e):(await M5(),this.checkCompletionAsync_(e))}checkCompletion_(e){if(!1===this.gpgpu.gl.getProgramParameter(e.webGLProgram,this.gpgpu.gl.LINK_STATUS)){if(console.log(this.gpgpu.gl.getProgramInfoLog(e.webGLProgram)),!1===this.gpgpu.gl.getShaderParameter(e.fragmentShader,this.gpgpu.gl.COMPILE_STATUS))throw Ode(e.source,this.gpgpu.gl.getShaderInfoLog(e.fragmentShader)),new Error("Failed to compile fragment shader.");throw new Error("Failed to link vertex and fragment shaders.")}return!0}getUniformLocations(){for(const e of Object.values(this.binaryCache)){this.gpgpu.buildVao(e.webGLProgram);const{variablesLocations:t,customUniformLocations:n,infLoc:r,nanLoc:a,outShapeLocation:i,outShapeStridesLocation:s,outTexShapeLocation:o}=wpe(this.gpgpu,e.program,e.webGLProgram);e.variablesLocations=t,e.customUniformLocations=n,e.infLoc=r,e.nanLoc=a,e.outShapeLocation=i,e.outShapeStridesLocation=s,e.outTexShapeLocation=o}}createTensorFromGPUData(e,t,n){e.channels=e.channels||"RGBA";const{texture:r,height:a,width:i,channels:s}=e,o=S1().backend;if(!o.gpgpu.gl.isTexture(r))throw new Error("The texture is invalid. Also, please make sure the texture and the TFJS WebGL backend are using the same canvas. If you want to use your own custom canvas, you have to create and use the custom TFJS WebGL backend created from the canvas through 'new tf.MathBackendWebGL(customCanvas)'.");const l=o.writeTexture(r,t,n,a,i,s);return S1().makeTensorFromDataId(l,t,n,o)}}nme.nextDataId=0,u1()&&M1("webgl",()=>new nme,2);const rme="\n  if (isnan(a)) return a;\n  if (isnan(b)) return b;\n";class ame{constructor(e,t,n){this.variableNames=["A","B"],this.outputShape=I4(t,n),this.enableShapeUniforms=Spe(this.outputShape.length),this.userCode=`\n      float binaryOperation(float a, float b) {\n        ${e}\n      }\n\n      void main() {\n        float a = getAAtOutCoords();\n        float b = getBAtOutCoords();\n        setOutput(binaryOperation(a, b));\n      }\n    `}}const ime="\n  result.r = isNaN.r ? NAN : result.r;\n  result.g = isNaN.g ? NAN : result.g;\n  result.b = isNaN.b ? NAN : result.b;\n  result.a = isNaN.a ? NAN : result.a;\n";class sme{constructor(e,t,n,r=!1){this.variableNames=["A","B"],this.supportsBroadcasting=!0,this.packedInputs=!0,this.packedOutput=!0,this.outputShape=I4(t,n);const a=this.outputShape.length;this.enableShapeUniforms=Spe(a);let i="";if(r)if(0===a||1===eX(this.outputShape))i="\n          result.y = 0.;\n          result.z = 0.;\n          result.w = 0.;\n        ";else{if(i=`\n          ${gpe(a)} coords = getOutputCoords();\n        `,1===a)this.enableShapeUniforms?i+="\n            result.y = (coords + 1) >= outShape ? 0. : result.y;\n            result.z = 0.;\n            result.w = 0.;\n          ":i+=`\n            result.y = (coords + 1) >= ${this.outputShape[0]} ? 0. : result.y;\n            result.z = 0.;\n            result.w = 0.;\n          `;else{const e=Ffe("coords",a);this.enableShapeUniforms?i+=`\n            bool nextRowOutOfBounds =\n              (${e[a-2]} + 1) >= outShape[${a} - 2];\n            bool nextColOutOfBounds =\n              (${e[a-1]} + 1) >= outShape[${a} - 1];\n            result.y = nextColOutOfBounds ? 0. : result.y;\n            result.z = nextRowOutOfBounds ? 0. : result.z;\n            result.w = nextColOutOfBounds || nextRowOutOfBounds ? 0. : result.w;\n          `:i+=`\n            bool nextRowOutOfBounds =\n              (${e[a-2]} + 1) >= ${this.outputShape[a-2]};\n            bool nextColOutOfBounds =\n              (${e[a-1]} + 1) >= ${this.outputShape[a-1]};\n            result.y = nextColOutOfBounds ? 0. : result.y;\n            result.z = nextRowOutOfBounds ? 0. : result.z;\n            result.w = nextColOutOfBounds || nextRowOutOfBounds ? 0. : result.w;\n          `}}this.userCode=`\n      vec4 binaryOperation(vec4 a, vec4 b) {\n        ${e}\n      }\n\n      void main() {\n        vec4 a = getAAtOutCoords();\n        vec4 b = getBAtOutCoords();\n\n        vec4 result = binaryOperation(a, b);\n        ${i}\n\n        setOutput(result);\n      }\n    `}}function ome(e){const{inputs:t,backend:n}=e,{x:r}=t;return n.incRef(r.dataId),{dataId:r.dataId,shape:r.shape,dtype:r.dtype}}const lme={kernelName:XY,backendName:"webgl",kernelFunc:ome};function cme(e){const{inputs:t,backend:n}=e,{real:r,imag:a}=t,i=n.makeTensorInfo(r.shape,"complex64"),s=n.texData.get(i.dataId),o=ome({inputs:{x:r},backend:n}),l=ome({inputs:{x:a},backend:n});return s.complexTensorInfos={real:o,imag:l},i}const ume={kernelName:lY,backendName:"webgl",kernelFunc:cme},hme="return (a < 0.) ? b * a : a;",dme="\n  vec4 aLessThanZero = vec4(lessThan(a, vec4(0.)));\n  return (aLessThanZero * (b * a)) + ((vec4(1.0) - aLessThanZero) * a);\n";const pme={kernelName:nQ,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{alpha:i}=r,s=n.makeTensorInfo([],"float32",x0(i,"float32")),o=IX().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new sme(dme,a.shape,s.shape):new ame(hme,a.shape,s.shape),l=n.runWebGLProgram(o,[a,s],"float32");return n.disposeIntermediateTensorInfo(s),l}},fme="return (a < 0.) ? b * a : a;",mme="\n  vec4 aLessThanZero = vec4(lessThan(a, vec4(0.)));\n  return (aLessThanZero * (b * a)) + ((vec4(1.0) - aLessThanZero) * a);\n";const gme={kernelName:$Q,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{x:r,alpha:a}=t,i=IX().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new sme(mme,r.shape,a.shape):new ame(fme,r.shape,a.shape);return n.runWebGLProgram(i,[r,a],"float32")}},yme="if (isnan(x)) return x;";function xme({opSnippet:e,packedOpSnippet:t,cpuKernelImpl:n,dtype:r}){return({inputs:a,backend:i})=>{const{x:s}=a,o=i,l=r||s.dtype;if(o.shouldExecuteOnCPU([s])&&null!=n){const e=o.texData.get(s.dataId),t=n(e.values,l);return o.makeTensorInfo(s.shape,l,t)}let c;return c=IX().getBool("WEBGL_PACK_UNARY_OPERATIONS")&&null!=t?new Yfe(s.shape,t):new Wfe(s.shape,e),o.runWebGLProgram(c,[s],l)}}function bme({opSnippet:e,packedOpSnippet:t,checkOutOfBounds:n=!1,supportsComplex:r=!1,cpuKernelImpl:a,dtype:i}){return({inputs:s,backend:o})=>{const{a:l,b:c}=s,u=o;if(r&&"complex64"===l.dtype){const t=u.texData.get(l.dataId),n=u.texData.get(c.dataId),[r,a]=[[t.complexTensorInfos.real,n.complexTensorInfos.real],[t.complexTensorInfos.imag,n.complexTensorInfos.imag]].map(t=>{const[n,r]=t,a={dataId:n.dataId,dtype:n.dtype,shape:l.shape},i={dataId:r.dataId,dtype:r.dtype,shape:c.shape},s=new ame(e,l.shape,c.shape);return u.runWebGLProgram(s,[a,i],X0(n.dtype,r.dtype))}),i=cme({inputs:{real:r,imag:a},backend:u});return u.disposeIntermediateTensorInfo(r),u.disposeIntermediateTensorInfo(a),i}const h=i||X0(l.dtype,c.dtype);if(("string"===l.dtype||"string"===c.dtype||u.shouldExecuteOnCPU([l,c]))&&null!=a){const e=u.texData.get(l.dataId).values,t=u.texData.get(c.dataId).values,n="string"===l.dtype?O9(e):e,r="string"===l.dtype?O9(t):t,[i,s]=a(l.shape,c.shape,n,r,h),o=u.makeTensorInfo(s,h);return u.texData.get(o.dataId).values=i,o}let d;return d=IX().getBool("WEBGL_PACK_BINARY_OPERATIONS")&&null!=t?new sme(t,l.shape,c.shape,n):new ame(e,l.shape,c.shape),u.runWebGLProgram(d,[l,c],h)}}function vme(e,t=!1){if("linear"===e)return"return x;";if("relu"===e)return t?"\n  vec4 result = x * vec4(greaterThanEqual(x, vec4(0.0)));\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n":Kfe;if("elu"===e)return t?"\n  vec4 result;\n\n  result.r = (x.r >= 0.0) ? x.r : (exp(x.r) - 1.0);\n  result.g = (x.g >= 0.0) ? x.g : (exp(x.g) - 1.0);\n  result.b = (x.b >= 0.0) ? x.b : (exp(x.b) - 1.0);\n  result.a = (x.a >= 0.0) ? x.a : (exp(x.a) - 1.0);\n\n  return result;\n":"return (x >= 0.0) ? x : (exp(x) - 1.0);";if("relu6"===e)return t?"\n  vec4 result = min(x, vec4(6.)) * vec4(greaterThanEqual(x, vec4(0.0)));\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n":qfe;if("prelu"===e)return t?mme:fme;if("leakyrelu"===e)return t?dme:hme;if("sigmoid"===e)return"return 1.0 / (1.0 + exp(-1.0 * x));";throw new Error(`Activation ${e} has not been implemented for the WebGL backend.`)}class wme{constructor(e,t,n,r=!1,a=!1,i=!1,s=null,o=!1,l=!1){this.variableNames=["matrixA","matrixB"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=n,this.enableShapeUniforms=Spe(this.outputShape.length);const c=r?e[1]:e[2],u=Math.ceil(c/2),h=r?"i * 2, rc.y":"rc.y, i * 2",d=a?"rc.z, i * 2":"i * 2, rc.z",p=r?["a.xxyy","a.zzww"]:["a.xxzz","a.yyww"],f=a?["b.xzxz","b.ywyw"]:["b.xyxy","b.zwzw"];let m="",g="";s&&(m=o?`vec4 activation(vec4 a) {\n          vec4 b = getPreluActivationWeightsAtOutCoords();\n          ${s}\n        }`:l?`vec4 activation(vec4 a) {\n          vec4 b = getLeakyreluAlphaAtOutCoords();\n          ${s}\n        }`:`vec4 activation(vec4 x) {\n          ${s}\n        }`,g="result = activation(result);");const y=i?"result += getBiasAtOutCoords();":"";i&&this.variableNames.push("bias"),o&&this.variableNames.push("preluActivationWeights"),l&&this.variableNames.push("leakyreluAlpha");let x="rc.x",b="rc.x";e[0]<t[0]?x=`imod(rc.x, ${e[0]})`:t[0]<e[0]&&(b=`imod(rc.x, ${t[0]})`),this.userCode=`\n      ${m}\n      // Don't use uniform for sharedDimensionPacked for performance.\n      const float sharedDimension = ${u}.0;\n\n      vec4 dot2x2ARowBCol(ivec3 rc) {\n        vec4 result = vec4(0);\n        int batchA = ${x};\n        int batchB = ${b};\n        for (int i = 0; i < ${u}; i++) {\n          vec4 a = getMatrixA(batchA, ${h});\n          vec4 b = getMatrixB(batchB, ${d});\n\n          // These swizzled products need to be separately added.\n          // See: https://github.com/tensorflow/tfjs/issues/1735\n          result += (${p[0]} * ${f[0]});\n          result += (${p[1]} * ${f[1]});\n        }\n        return result;\n      }\n\n      void main() {\n        ivec3 rc = getOutputCoords();\n        vec4 result = dot2x2ARowBCol(rc);\n\n        ${y}\n\n        ${g}\n\n        setOutput(result);\n      }\n    `}}const kme="return areal * breal - aimag * bimag;",Sme="return areal * bimag + aimag * breal;";class Nme{constructor(e,t,n){this.variableNames=["AReal","AImag","BReal","BImag"],this.outputShape=I4(t,n),this.userCode=`\n      float binaryOpComplex(\n          float areal, float aimag, float breal, float bimag) {\n        ${e}\n      }\n\n      void main() {\n        float areal = getARealAtOutCoords();\n        float aimag = getAImagAtOutCoords();\n        float breal = getBRealAtOutCoords();\n        float bimag = getBImagAtOutCoords();\n        setOutput(binaryOpComplex(areal, aimag, breal, bimag));\n      }\n    `}}const Eme="return a * b;";function Ame(e){const{inputs:t,backend:n}=e,{a:r,b:a}=t,i=X0(r.dtype,a.dtype);if("complex64"===r.dtype){const e=n.texData.get(r.dataId),t=n.texData.get(a.dataId),i=new Nme(kme,r.shape,a.shape),s=new Nme(Sme,r.shape,a.shape),o=[{dataId:e.complexTensorInfos.real.dataId,dtype:e.complexTensorInfos.real.dtype,shape:r.shape},{dataId:e.complexTensorInfos.imag.dataId,dtype:e.complexTensorInfos.imag.dtype,shape:r.shape},{dataId:t.complexTensorInfos.real.dataId,dtype:t.complexTensorInfos.real.dtype,shape:a.shape},{dataId:t.complexTensorInfos.imag.dataId,dtype:t.complexTensorInfos.imag.dtype,shape:a.shape}],l=n.runWebGLProgram(i,o,"float32"),c=n.runWebGLProgram(s,o,"float32"),u=cme({inputs:{real:l,imag:c},backend:n});return n.disposeIntermediateTensorInfo(l),n.disposeIntermediateTensorInfo(c),u}if(n.shouldExecuteOnCPU([r,a])){const e=n.texData.get(r.dataId),t=n.texData.get(a.dataId),[s,o]=ufe(r.shape,a.shape,e.values,t.values,i),l=n.makeTensorInfo(o,i);return n.texData.get(l.dataId).values=s,l}let s;return s=IX().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new sme(Eme,r.shape,a.shape):new ame(Eme,r.shape,a.shape),n.runWebGLProgram(s,[r,a],i)}const Cme={kernelName:AQ,backendName:"webgl",kernelFunc:Ame};function jme(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{shape:i}=r,s=n,o=eX(a.shape),l=sX(i,o),c=eX(l);Yq(o===c,()=>`The new shape (${l}) has ${c} elements and the old shape (${a.shape}) has ${o} elements. The new shape and old shape must have the same number of elements.`);const u=s.texData.get(a.dataId);return!u.isPacked||Ude(a.shape,l)||null!==u.texture&&Ude(u.shape,l)?(s.incRef(a.dataId),{dataId:a.dataId,shape:l,dtype:a.dtype}):function(e,t,n){const r=[zde(e.shape),...Vde(e.shape)],a={dtype:e.dtype,shape:r,dataId:e.dataId},i=[zde(t),...Vde(t)],s=new zfe(i,r),o=[r],l=n.runWebGLProgram(s,[a],e.dtype,o,!0);return{dataId:l.dataId,shape:t,dtype:l.dtype}}(a,l,s)}const Mme={kernelName:ZQ,backendName:"webgl",kernelFunc:jme};class Tme{constructor(e,t){this.variableNames=["x"];const{windowSize:n,batchSize:r,inSize:a,outSize:i}=e;this.outputShape=[r,i];const s=4*Math.floor(n/4),o=n%4;let l="sumValue += dot(values, ones);";if(null!=t){const e=1/t;l=`sumValue += dot(values * ${nX(e)?e.toPrecision(2):e}, ones);`}let c="";a%n>0&&(c=`\n        if (inIdx < 0 || inIdx >= ${a}) {\n          return 0.0;\n        }\n      `),this.userCode=`\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float getValue(int batch, int inIdx) {\n        ${c}\n        return getX(batch, inIdx);\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = outIdx * ${n};\n\n        float sumValue = 0.0;\n\n        for (int i = 0; i < ${s}; i += 4) {\n          int inIdx = inOffset + i;\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            getValue(batch, inIdx + 3)\n          );\n\n          ${l}\n        }\n\n        int inIdx = inOffset + ${s};\n        if (${1===o}) {\n          vec4 values = vec4(getValue(batch, inIdx), 0.0, 0.0, 0.0);\n\n          ${l}\n        } else if (${2===o}) {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1), 0.0, 0.0);\n\n          ${l}\n        } else if (${3===o}) {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2), 0.0);\n\n          ${l}\n        }\n        setOutput(sumValue);\n      }\n    `}}class Ime{constructor(e,t){this.variableNames=["x"];const{windowSize:n,batchSize:r,inSize:a,outSize:i}=e;this.outputShape=[r,i];let s="0.0",o="";"prod"===t?s="1.0":"min"===t?(s="1.0 / 1e-20",o="min"):"max"===t&&(s="-1.0 / 1e-20",o="max");let l=`${t}(${t}(${t}(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])`;"sum"===t?l="sumValue":"prod"===t?l="prodValue":"all"===t?l="allValue":"any"===t&&(l="anyValue");const c=4*Math.floor(n/4),u=n%4;let h=`\n      if (${"sum"===t}) {\n        sumValue += dot(values, ones);\n      } else if (${"prod"===t}) {\n        vec2 tmp = vec2(values[0], values[1]) * vec2(values[2], values[3]);\n        prodValue *= tmp[0] * tmp[1];\n      } else {\n        minMaxValue = ${o}(values, minMaxValue);\n        if (${"min"===t} || ${"max"===t}) {\n          minMaxValue = ${o}(values, minMaxValue);\n          bvec4 isNaN = isnan(values);\n          if (isNaN.r || isNaN.g || isNaN.b || isNaN.a) {\n            minMaxValue = vec4(NAN);\n          }\n        }\n      }\n    `,d="vec4";"all"===t?(s="1.0",h="\n        bool reducedAllValue = all(values);\n        float floatedReducedAllValue = float(reducedAllValue);\n        allValue = float(allValue >= 1.0 && floatedReducedAllValue >= 1.0);\n      ",d="bvec4"):"any"===t&&(s="0.0",h="\n        bool reducedAnyValue = any(values);\n        float floatedReducedAnyValue = float(reducedAnyValue);\n        anyValue = float(anyValue >= 1.0 || floatedReducedAnyValue >= 1.0);\n      ",d="bvec4");let p="";a%n>0&&(p=`\n        if (inIdx < 0 || inIdx >= ${a}) {\n          return initializationValue;\n        }\n      `),this.userCode=`\n      const float initializationValue = ${s};\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float getValue(int batch, int inIdx) {\n        ${p}\n        return getX(batch, inIdx);\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = outIdx * ${n};\n\n        vec4 minMaxValue = vec4(${s});\n        float prodValue = 1.0;\n        float sumValue = 0.0;\n        float allValue = 1.0;\n        float anyValue = 0.0;\n\n        for (int i = 0; i < ${c}; i += 4) {\n          int inIdx = inOffset + i;\n          ${d} values = ${d}(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            getValue(batch, inIdx + 3)\n          );\n\n          ${h}\n        }\n\n        int inIdx = inOffset + ${c};\n        if (${1===u}) {\n          ${d} values = ${d}(\n            getValue(batch, inIdx),\n            initializationValue,\n            initializationValue,\n            initializationValue\n          );\n\n          ${h}\n        } else if (${2===u}) {\n          ${d} values = ${d}(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            initializationValue,\n            initializationValue\n          );\n\n          ${h}\n        } else if (${3===u}) {\n          ${d} values = ${d}(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            initializationValue\n          );\n\n          ${h}\n        }\n        setOutput(${l});\n      }\n    `}}function Ome(e,t,n,r){const a=function(e){const t=[];for(;0===t.length||1!==t[t.length-1].outSize;){const n=t.length?t[t.length-1].outSize:e[1],r=F5(n);t.push({inSize:n,windowSize:r,outSize:Math.ceil(n/r)})}return t}(e.shape);let i=e;for(let s=0;s<a.length;s++){const{inSize:o,windowSize:l,outSize:c}=a[s];let u,h;u="mean"===n?0===s?new Tme({windowSize:l,inSize:o,batchSize:e.shape[0],outSize:c},o):new Tme({windowSize:l,inSize:o,batchSize:e.shape[0],outSize:c}):new Ime({windowSize:l,inSize:o,batchSize:e.shape[0],outSize:c},n),h=i,i=r.runWebGLProgram(u,[i],t),h.dataId!==e.dataId&&r.disposeIntermediateTensorInfo(h)}return i}class Pme{constructor(e,t){this.variableNames=["A"];const n=new Array(e.length);for(let i=0;i<n.length;i++)n[i]=e[t[i]];this.outputShape=n,this.rank=n.length;const r=gpe(this.rank),a=function(e){const t=e.length;if(t>6)throw Error(`Transpose for rank ${t} is not yet supported`);const n=["resRC.x","resRC.y","resRC.z","resRC.w","resRC.u","resRC.v"],r=new Array(t);for(let a=0;a<e.length;a++)r[e[a]]=n[a];return r.join()}(t);this.userCode=`\n    void main() {\n      ${r} resRC = getOutputCoords();\n      setOutput(getA(${a}));\n    }\n    `}}class Rme{constructor(e,t){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0;const n=new Array(e.length);for(let c=0;c<n.length;c++)n[c]=e[t[c]];if(this.outputShape=n,this.rank=n.length,this.rank>6)throw Error(`Packed transpose for rank ${this.rank} is not yet supported.`);const r=gpe(this.rank),a=$fe("rc",this.rank),i=new Array(this.rank);for(let c=0;c<t.length;c++)i[t[c]]=a[c];const s=`vec2(${i.slice(-2).join()})`,o=`++${a[this.rank-1]} < ${n[this.rank-1]}`,l=`getChannel(getA(${i.join()}), ${s})`;this.userCode=`\n    void main() {\n      ${r} rc = getOutputCoords();\n      vec4 result = vec4(0.);\n      result[0] = ${l};\n      if(${o}) {\n        result[1] = ${l};\n      }\n      --${a[this.rank-1]};\n      if(++${a[this.rank-2]} < ${n[this.rank-2]}) {\n        result[2] = ${l};\n        if(${o}) {\n          result[3] = ${l};\n        }\n      }\n      setOutput(result);\n    }\n    `}}function _me(e,t,n){const r=IX().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new Rme(e.shape,t):new Pme(e.shape,t);return n.runWebGLProgram(r,[e],e.dtype)}function Lme(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{axis:i,keepDims:s}=r;return function(e,t,n,r){const a=t,i=e.shape.length,s=oX(a,e.shape);let o=s;const l=W4(o,i),c=null!=l;let u=e;c&&(u=_me(e,l,r),o=G4(o.length,i)),U4("sum",o,i);const[h,d]=B4(u.shape,o);let p=h;n&&(p=H4(h,s));const f=eX(d),m=jme({inputs:{x:u},attrs:{shape:[eX(e.shape)/f,f]},backend:r}),g=Ome(m,Y0(e.dtype),"sum",r),y=jme({inputs:{x:g},attrs:{shape:p},backend:r});return r.disposeIntermediateTensorInfo(m),r.disposeIntermediateTensorInfo(g),c&&r.disposeIntermediateTensorInfo(u),y}(a,i,s,n)}const $me={kernelName:pJ,backendName:"webgl",kernelFunc:Lme};function Fme(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{perm:i}=r,s=n,o=a.shape.length,l=new Array(o);for(let u=0;u<l.length;u++)l[u]=a.shape[i[u]];let c;if(s.shouldExecuteOnCPU([a])){const e=s.texData.get(a.dataId).values,t=_fe(e,a.shape,a.dtype,i,l);c=s.makeTensorInfo(l,a.dtype);s.texData.get(c.dataId).values=t}else c=_me(a,i,s);return c}const Dme={kernelName:_J,backendName:"webgl",kernelFunc:Fme};function zme({a:e,b:t,transposeA:n,transposeB:r,backend:a,bias:i=null,preluActivationWeights:s=null,leakyreluAlpha:o=0,activation:l=null}){const c=e.shape.length,u=t.shape.length,h=n?e.shape[c-2]:e.shape[c-1],d=r?t.shape[u-1]:t.shape[u-2],p=n?e.shape[c-1]:e.shape[c-2],f=r?t.shape[u-2]:t.shape[u-1],m=e.shape.slice(0,-2),g=t.shape.slice(0,-2),y=eX(m),x=eX(g),b=I4(e.shape.slice(0,-2),t.shape.slice(0,-2)).concat([p,f]);Yq(h===d,()=>`Error in matMul: inner shapes (${h}) and (${d}) of Tensors with shapes ${e.shape} and ${t.shape} and transposeA=${n} and transposeB=${r} must match.`);const v=n?[y,h,p]:[y,p,h],w=r?[x,f,d]:[x,d,f],k=jme({inputs:{x:e},backend:a,attrs:{shape:v}}),S=jme({inputs:{x:t},backend:a,attrs:{shape:w}}),N=[k,S],E=Math.max(y,x),A=n?k.shape[1]:k.shape[2],C=null!=i,j=null!=s,M="leakyrelu"===l,T=null!=l?vme(l,!0):null;let I;if((1===p||1===f)&&A>1e3&&!1===(C||j||M||null!=T)){let e=k,t=S;n&&(e=Fme({inputs:{x:k},backend:a,attrs:{perm:[0,2,1]}}),N.push(e)),r&&(t=Fme({inputs:{x:S},backend:a,attrs:{perm:[0,2,1]}}),N.push(t));const i=1===f;let s=e;1!==f&&(s=jme({inputs:{x:e},backend:a,attrs:{shape:[E,A,1]}}),N.push(s));const o=1===f?2:1;let l=t;i&&(l=jme({inputs:{x:t},backend:a,attrs:{shape:[E,1,A]}}),N.push(l));const c=Ame({inputs:{a:s,b:l},backend:a});I=Lme({inputs:{x:c},backend:a,attrs:{axis:o,keepDims:!0}}),N.push(c)}else{const l=X0(e.dtype,t.dtype),c=new wme(v,w,[E,p,f],n,r,C,T,j,M),u=[k,S];if(null!=i&&u.push(i),j&&u.push(s),M){const e=a.makeTensorInfo([],"float32",x0(o,"float32"));u.push(e),N.push(e)}I=a.runWebGLProgram(c,u,l)}const O=jme({inputs:{x:I},backend:a,attrs:{shape:b}});N.push(I);for(const P of N)a.disposeIntermediateTensorInfo(P);return O}const Vme={kernelName:BJ,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{a:a,b:i,bias:s,preluActivationWeights:o}=t,{transposeA:l,transposeB:c,activation:u,leakyreluAlpha:h}=r;return zme({a:a,b:i,transposeA:l,transposeB:c,backend:n,bias:s,preluActivationWeights:o,leakyreluAlpha:h,activation:u})}},Bme="return abs(x);";const Hme={kernelName:LX,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{x:r}=t;if(n.shouldExecuteOnCPU([r])&&"complex64"!==r.dtype){const e=n.texData.get(r.dataId),t=wfe(e.values);return n.makeTensorInfo(r.shape,r.dtype,t)}let a;return a=IX().getBool("WEBGL_PACK_UNARY_OPERATIONS")?new Yfe(r.shape,Bme):new Wfe(r.shape,Bme),n.runWebGLProgram(a,[r],r.dtype)}},Ume=xme({opSnippet:Zfe+"\n  if (abs(x) > 1.) {\n    return NAN;\n  }\n  return acos(x);\n"}),Wme={kernelName:$X,backendName:"webgl",kernelFunc:Ume},Zme=xme({opSnippet:Zfe+"\n  if (x < 1.0) return NAN;\nreturn log(x + sqrt(x * x - 1.0));"}),Gme={kernelName:FX,backendName:"webgl",kernelFunc:Zme},Kme="return a + b;",qme=bme({opSnippet:Kme,packedOpSnippet:Kme,supportsComplex:!0,cpuKernelImpl:Bpe}),Xme={kernelName:DX,backendName:"webgl",kernelFunc:qme};class Yme{constructor(e,t){this.outputShape=[],this.outputShape=e,this.variableNames=t.map((e,t)=>`T${t}`);const n=[];this.variableNames.forEach(e=>{n.push(`float v${e} = get${e}AtOutCoords();`)});const r=this.variableNames.map(e=>`v${e}`).join(" + ");this.userCode=`\n      void main() {\n        ${n.join("\n        ")}\n\n        float result = ${r};\n        setOutput(result);\n      }\n    `}}class Qme{constructor(e,t){this.outputShape=[],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e,this.variableNames=t.map((e,t)=>`T${t}`);const n=[];this.variableNames.forEach(e=>{n.push(`vec4 v${e} = get${e}AtOutCoords();`)});const r=this.variableNames.map(e=>`v${e}`).join(" + ");this.userCode=`\n      void main() {\n        ${n.join("\n        ")}\n\n        vec4 result = ${r};\n        setOutput(result);\n      }\n    `}}const Jme={kernelName:zX,backendName:"webgl",kernelFunc:function e(t){const{inputs:n,backend:r}=t,a=n;if(1===a.length)return ome({inputs:{x:a[0]},backend:r});if(a.length>IX().getNumber("WEBGL_MAX_TEXTURES_IN_SHADER")){const t=Math.floor(a.length/2),n=e({inputs:a.slice(0,t),backend:r}),i=e({inputs:a.slice(t),backend:r});return e({inputs:[n,i],backend:r})}const i=a.map(e=>e.dtype).reduce((e,t)=>X0(e,t)),s=a.map(e=>e.shape),o=IX().getBool("WEBGL_PACK")?new Qme(a[0].shape,s):new Yme(a[0].shape,s);return r.runWebGLProgram(o,a,i)}};const ege={kernelName:VX,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{axis:i,keepDims:s}=r,o=a.shape.length,l=oX(i,a.shape);let c=l;const u=W4(c,o);let h=a;null!=u&&(h=Fme({inputs:{x:a},backend:n,attrs:{perm:u}}),c=G4(c.length,o)),U4("all",c,o);const[d,p]=B4(h.shape,c),f=jme({inputs:{x:h},backend:n,attrs:{shape:[-1,eX(p)]}}),m=Ome(f,f.dtype,"all",n);let g;if(s){g=jme({inputs:{x:m},backend:n,attrs:{shape:H4(d,l)}})}else g=jme({inputs:{x:m},backend:n,attrs:{shape:d}});return n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(m),null!=u&&n.disposeIntermediateTensorInfo(h),g}};const tge={kernelName:BX,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{axis:i,keepDims:s}=r,o=a.shape.length,l=oX(i,a.shape);let c=l;const u=W4(c,o);let h=a;null!=u&&(h=Fme({inputs:{x:a},backend:n,attrs:{perm:u}}),c=G4(c.length,o)),U4("any",c,o);const[d,p]=B4(h.shape,c),f=jme({inputs:{x:h},backend:n,attrs:{shape:[-1,eX(p)]}}),m=Ome(f,f.dtype,"any",n);let g;if(s){g=jme({inputs:{x:m},backend:n,attrs:{shape:H4(d,l)}})}else g=jme({inputs:{x:m},backend:n,attrs:{shape:d}});return n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(m),null!=u&&n.disposeIntermediateTensorInfo(h),g}};class nge{constructor(e,t,n){this.variableNames=["A"];const{windowSize:r,batchSize:a,outSize:i}=e;n||this.variableNames.push("bestIndicesA"),this.outputShape=[a,i];const s="max"===t?">":"<",o=n?"inOffset + i;":"round(getBestIndicesA(batch, inOffset + i));";this.userCode=`\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = outIdx * ${r};\n\n        int bestIndex = inOffset;\n        float bestValue = getA(batch, bestIndex);\n\n        for (int i = 0; i < ${r}; i++) {\n          int inIdx = ${o};\n          float candidate = getA(batch, inIdx);\n          if (candidate ${s} bestValue) {\n            bestValue = candidate;\n            bestIndex = inIdx;\n          }\n        }\n        setOutput(float(bestIndex));\n      }\n    `}}class rge{constructor(e,t,n,r){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,Yq(e.length>2,()=>`Packed arg${n.charAt(0).toUpperCase()+n.slice(1)} supports only inputs with rank above 2.`);const a=e[e.length-1],i=Math.ceil(a/t);this.outputShape=e.slice(0,-1),i>1&&this.outputShape.push(i),r||this.variableNames.push("bestIndicesA");const s=this.outputShape,o=s.length,l=gpe(o),c=Ffe("coords",o);let u,h;if(1===i){h=o+1;const e=gpe(h);u=`\n        ${e} sourceLocR = ${e}(${c.join()}, 0);\n        ++${c[o-1]};\n        ${e} sourceLocG = ${e}(${c.join()}, 0);\n        ++${c[o-2]};\n        ${e} sourceLocA = ${e}(${c.join()}, 0);\n        --${c[o-1]};\n        ${e} sourceLocB = ${e}(${c.join()}, 0);\n        --${c[o-2]};`}else h=o,u=`\n        ${l} sourceLocR = coords;\n        ++${c[o-1]};\n        ${l} sourceLocG = coords;\n        ++${c[o-2]};\n        ${l} sourceLocA = coords;\n        --${c[o-1]};\n        ${l} sourceLocB = coords;\n        --${c[o-2]};`;const d=["x","y","z","w","u","v"].slice(0,h),p="."+d[h-1],f=d.map(e=>"int "+e),m=Ffe("sourceLocR",h-1).concat("inIdx.r"),g=Ffe("sourceLocG",h-1).concat("inIdx.g"),y=Ffe("sourceLocB",h-1).concat("inIdx.b"),x=Ffe("sourceLocA",h-1).concat("inIdx.a"),b="max"===n?"greaterThan":"lessThan",v=r?"":`\n          inIdx = round(vec4(getBestIndicesAChannel(${m.join()}),\n                             getBestIndicesAChannel(${g.join()}),\n                             getBestIndicesAChannel(${y.join()}),\n                             getBestIndicesAChannel(${x.join()})));`,w=`vec4(\n            getAChannel(${m.join()}),\n            hasNextCol ? getAChannel(${g.join()}) : 0.,\n            hasNextRow ? getAChannel(${y.join()}) : 0.,\n            hasNextRow && hasNextCol ? getAChannel(${x.join()}) : 0.)`,k=r?"":`\n      float getBestIndicesAChannel(${f.join()}) {\n        return getChannel(getBestIndicesA(${d.join()}),\n                                          vec2(${d.slice(-2).join()}));\n      }`;this.userCode=`\n      float getAChannel(${f.join()}) {\n        return getChannel(getA(${d.join()}),\n                               vec2(${d.slice(-2).join()}));\n      }\n      ${k}\n      void main() {\n        ${l} coords = getOutputCoords();\n        bool hasNextCol = ${c[o-1]} < ${s[o-1]-1};\n        bool hasNextRow = ${c[o-2]} < ${s[o-2]-1};\n        ${u}\n        ivec4 srcIdx = ivec4(sourceLocR${p}, sourceLocG${p},\n          sourceLocB${p}, sourceLocA${p}) * ${t};\n        ivec4 inIdx = srcIdx;\n        vec4 bestIndex = vec4(inIdx);\n        vec4 bestValue = ${w};\n\n        for (int i = 0; i < ${t}; i++) {\n          inIdx = srcIdx;\n          ${v}\n          vec4 candidate = ${w};\n          bvec4 nan = isnan(candidate);\n          bvec4 replace = bvec4(\n            vec4(${b}(candidate, bestValue)) * (vec4(1.0) - vec4(nan)));\n\n          bestValue = vec4(replace.x  ? candidate.x : bestValue.x,\n                           replace.y  ? candidate.y : bestValue.y,\n                           replace.z  ? candidate.z : bestValue.z,\n                           replace.w  ? candidate.w : bestValue.w);\n          bestIndex = mix(bestIndex, vec4(inIdx), vec4(replace));\n          srcIdx++;\n        }\n        setOutput(bestIndex);\n      }\n    `}}function age(e,t,n,r=null){let a=t.shape[0],i=t.shape[1];null!=r&&(a=r.shape[0],i=r.shape[1]);const s=F5(i),o={windowSize:s,inSize:i,batchSize:a,outSize:Math.ceil(i/s)},l=new nge(o,n,null==r),c=[t];null!=r&&c.push(r);const u=e.runWebGLProgram(l,c,"int32");if(1===u.shape[1])return u;const h=age(e,t,n,u);return e.disposeIntermediateTensorInfo(u),h}function ige(e,t,n,r=null){const a=null!=r?r.shape:t.shape,i=F5(a[a.length-1]),s=new rge(a,i,n,null==r),o=null==r?[t]:[t,r],l=e.runWebGLProgram(s,o,"int32");if(l.shape.length===t.shape.length){const r=ige(e,t,n,l);return e.disposeIntermediateTensorInfo(l),r}return l}function sge(e,t,n,r){const a=[n];if(U4("arg"+r.charAt(0).toUpperCase()+r.slice(1),a,t.shape.length),!IX().getBool("WEBGL_PACK_REDUCE")||t.shape.length<=2){const n=[],i=e.texData.get(t.dataId);let s=t;null!==i&&i.isPacked&&(s=e.unpackTensor(t),n.push(s));const[o,l]=B4(s.shape,a),c=eX(l),u=jme({inputs:{x:s},backend:e,attrs:{shape:[-1,c]}});n.push(u);const h=age(e,u,r);n.push(h);const d=jme({inputs:{x:h},backend:e,attrs:{shape:o}});return n.forEach(t=>e.disposeIntermediateTensorInfo(t)),d}return ige(e,t,r)}const oge={kernelName:HX,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{axis:i}=r;let s=oX(i,a.shape);const o=W4(s,a.shape.length);let l=a;const c=[];null!=o&&(l=Fme({inputs:{x:a},backend:n,attrs:{perm:o}}),c.push(l),s=G4(s.length,l.shape.length)),U4("argMax",[s[0]],l.shape.length);const u=sge(n,l,s[0],"max");return c.forEach(e=>n.disposeIntermediateTensorInfo(e)),u}};const lge={kernelName:UX,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{axis:i}=r;let s=oX(i,a.shape);const o=W4(s,a.shape.length);let l=a;const c=[];null!=o&&(l=Fme({inputs:{x:a},backend:n,attrs:{perm:o}}),c.push(l),s=G4(s.length,l.shape.length)),U4("argMin",[s[0]],l.shape.length);const u=sge(n,l,s[0],"min");return c.forEach(e=>n.disposeIntermediateTensorInfo(e)),u}},cge=xme({opSnippet:Zfe+"\n  if (abs(x) > 1.) {\n    return NAN;\n  }\n  return asin(x);\n"}),uge={kernelName:WX,backendName:"webgl",kernelFunc:cge},hge=xme({opSnippet:Zfe+"return log(x + sqrt(x * x + 1.0));"}),dge={kernelName:ZX,backendName:"webgl",kernelFunc:hge},pge=xme({opSnippet:Zfe+"\n  return atan(x);\n"}),fge={kernelName:GX,backendName:"webgl",kernelFunc:pge},mge=bme({opSnippet:rme+"\n  return atan(a, b);\n",packedOpSnippet:"\n  vec4 result = atan(a, b);\n  bvec4 isNaNA = isnan(a);\n  bvec4 isNaNB = isnan(b);\n  bvec4 isNaN = bvec4(isNaNA.x || isNaNB.x, isNaNA.y || isNaNB.y, isNaNA.z || isNaNB.z, isNaNA.w || isNaNB.w);\n  "+ime+"\n  return result;\n"}),gge={kernelName:qX,backendName:"webgl",kernelFunc:mge},yge=xme({opSnippet:Zfe+"\n  if ((x < -1.0) || (x > 1.0)) return NAN;\nreturn (log(1.0 + x) - log(1.0 - x)) / 2.0;"}),xge={kernelName:KX,backendName:"webgl",kernelFunc:yge};class bge{constructor(e,t,n,r=!1,a=!1){if(this.variableNames=["x"],"avg"===t&&n)throw new Error("Cannot compute positions for average pool.");const i=e.filterWidth,s=e.strideHeight,o=e.strideWidth,l=e.dilationHeight,c=e.dilationWidth,u=e.effectiveFilterHeight,h=e.effectiveFilterWidth,d=e.padInfo.top,p=e.padInfo.left;this.outputShape=e.outShape;const f="avg"===t,m=`((batch  * ${e.inHeight} + xR) * ${e.inWidth} + xC) * ${e.inChannels} + d`,g=`(xR * ${e.inWidth} + xC) * ${e.inChannels} + d`;let y="0.0";if(f||(y="-1.0 / 1e-20"),n){const t=">=";return void(this.userCode=`\n        const ivec2 strides = ivec2(${s}, ${o});\n        const ivec2 pads = ivec2(${d}, ${p});\n\n        void main() {\n          ivec4 coords = getOutputCoords();\n          int batch = coords[0];\n          int d = coords[3];\n\n          ivec2 xRCCorner = coords.yz * strides - pads;\n          int xRCorner = xRCCorner.x;\n          int xCCorner = xRCCorner.y;\n\n          // max/min x(?, ?, d) to get y(yR, yC, d).\n          // ? = to be determined\n          float minMaxValue = 0.0;\n          float minMaxValueFound = 0.0;\n          int minMaxPosition = 0;\n          float avgValue = 0.0;\n\n          for (int wR = 0; wR < ${u};\n              wR += ${l}) {\n            int xR = xRCorner + wR;\n\n            if (xR < 0 || xR >= ${e.inHeight}) {\n              continue;\n            }\n\n            for (int wC = 0; wC < ${h};\n                wC += ${c}) {\n              int xC = xCCorner + wC;\n\n              if (xC < 0 || xC >= ${e.inWidth}) {\n                continue;\n              }\n\n              float value = getX(batch, xR, xC, d);\n\n              // If a min / max value has already been found, use it. If not,\n              // use the current value.\n              float currMinMaxValue = mix(\n                  value, minMaxValue, minMaxValueFound);\n              if (value ${t} currMinMaxValue) {\n                minMaxValue = value;\n                minMaxValueFound = 1.0;\n                minMaxPosition = ${r?a?m:g:`wR * ${h} + wC`};\n              }\n            }\n          }\n          setOutput(float(minMaxPosition));\n        }\n      `)}let x=`${t}(${t}(${t}(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])`;"avg"===t&&(x="avgValue / max(count, 1.0)");const b=4*Math.floor(i/4),v=i%4,w=`\n      if (${f}) {\n        avgValue += dot(values, ones);\n      } else {\n        minMaxValue = max(values, minMaxValue);\n      }\n    `;this.userCode=`\n      const ivec2 strides = ivec2(${s}, ${o});\n      const ivec2 pads = ivec2(${d}, ${p});\n      const float initializationValue = ${y};\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float count = 0.0;\n\n      float getValue(int batch, int xR, int xC, int d) {\n        if (xC < 0 || xC >= ${e.inWidth}) {\n          return initializationValue;\n        }\n        count += 1.0;\n        return getX(batch, xR, xC, d);\n      }\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d = coords[3];\n\n        ivec2 xRCCorner = coords.yz * strides - pads;\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        // max/min x(?, ?, d) to get y(yR, yC, d).\n        // ? = to be determined\n        vec4 minMaxValue = vec4(${y});\n        float avgValue = 0.0;\n        count = 0.0;\n\n        for (int wR = 0; wR < ${u};\n            wR += ${l}) {\n          int xR = xRCorner + wR;\n\n          if (xR < 0 || xR >= ${e.inHeight}) {\n            continue;\n          }\n\n          for (int wC = 0; wC < ${b}; wC += 4) {\n            int xC = xCCorner + wC * ${c};\n\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              getValue(batch, xR, xC + ${c}, d),\n              getValue(batch, xR, xC + 2 * ${c}, d),\n              getValue(batch, xR, xC + 3 * ${c}, d)\n            );\n\n            ${w}\n          }\n\n          int xC = xCCorner + ${b};\n          if (${1===v}) {\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              initializationValue,\n              initializationValue,\n              initializationValue\n            );\n\n            ${w}\n          } else if (${2===v}) {\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              getValue(batch, xR, xC + ${c}, d),\n              initializationValue,\n              initializationValue\n            );\n\n            ${w}\n          } else if (${3===v}) {\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              getValue(batch, xR, xC + ${c}, d),\n              getValue(batch, xR, xC + 2 * ${c}, d),\n              initializationValue\n            );\n\n            ${w}\n          }\n        }\n        setOutput(${x});\n      }\n    `}}class vge{constructor(e,t,n,r=!1,a=!1){if(this.variableNames=["x"],"avg"===t&&n)throw new Error("Cannot compute positions for average pool.");const i=e.filterWidth,s=e.strideDepth,o=e.strideHeight,l=e.strideWidth,c=e.dilationDepth,u=e.dilationHeight,h=e.dilationWidth,d=e.effectiveFilterDepth,p=e.effectiveFilterHeight,f=e.effectiveFilterWidth,m=e.padInfo.front,g=e.padInfo.top,y=e.padInfo.left;this.outputShape=e.outShape;const x="avg"===t;let b="0.0";if(x||(b="-1.0 / 1e-20"),n){const t=">=";return void(this.userCode=`\n        const ivec3 strides =\n            ivec3(${s}, ${o}, ${l});\n        const ivec3 pads = ivec3(${m}, ${g}, ${y});\n\n        void main() {\n          ivec5 coords = getOutputCoords();\n          int batch = coords.x;\n          int ch = coords.u;\n\n          ivec3 xCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;\n          int xDCorner = xCorner.x;\n          int xRCorner = xCorner.y;\n          int xCCorner = xCorner.z;\n\n          // max/min x(?, ?, ?, ch) to get y(yD, yR, yC, ch).\n          // ? = to be determined\n          float minMaxValue = 0.0;\n          float minMaxValueFound = 0.0;\n          int minMaxPosition = 0;\n\n          for (int wD = 0; wD < ${d};\n              wD += ${c}) {\n            int xD = xDCorner + wD;\n\n            if (xD < 0 || xD >= ${e.inDepth}) {\n              continue;\n            }\n\n            for (int wR = 0; wR < ${p};\n                wR += ${u}) {\n              int xR = xRCorner + wR;\n\n              if (xR < 0 || xR >= ${e.inHeight}) {\n                continue;\n              }\n\n              for (int wC = 0; wC < ${f};\n                  wC += ${h}) {\n                int xC = xCCorner + wC;\n\n                if (xC < 0 || xC >= ${e.inWidth}) {\n                  continue;\n                }\n\n                float value = getX(batch, xD, xR, xC, ch);\n\n                // If a min / max value has already been found, use it. If not,\n                // use the current value.\n                float currMinMaxValue = mix(\n                    value, minMaxValue, minMaxValueFound);\n                if (value ${t} currMinMaxValue) {\n                  minMaxValue = value;\n                  minMaxValueFound = 1.0;\n                  minMaxPosition = ${r?a?`(((batch * ${e.inDepth} + xD) * ${e.inHeight} + xR) * ${e.inWidth} + xC) * ${e.inChannels} + ch`:`((xD * ${e.inHeight} + xR) * ${e.inWidth} + xC) * ${e.inChannels} + ch`:`wD * ${p} * ${f} +\n                      wR * ${f} + wC`};\n                }\n              }\n            }\n          }\n          setOutput(float(minMaxPosition));\n        }\n      `)}let v=`${t}(${t}(${t}(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])`;"avg"===t&&(v="avgValue / max(count, 1.0)");const w=4*Math.floor(i/4),k=i%4,S=`\n      if (${x}) {\n        avgValue += dot(values, ones);\n      } else {\n        minMaxValue = max(values, minMaxValue);\n      }\n    `;this.userCode=`\n      const ivec3 strides =\n        ivec3(${s}, ${o}, ${l});\n      const ivec3 pads = ivec3(${m}, ${g}, ${y});\n      const float initializationValue = ${b};\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float count = 0.0;\n\n      float getValue(int batch, int xD, int xR, int xC, int ch) {\n        if (xC < 0 || xC >= ${e.inWidth}) {\n          return initializationValue;\n        }\n        count += 1.0;\n        return getX(batch, xD, xR, xC, ch);\n      }\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int ch = coords.u;\n\n        ivec3 xCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;\n        int xDCorner = xCorner.x;\n        int xRCorner = xCorner.y;\n        int xCCorner = xCorner.z;\n\n        // max/min x(?, ?, ?, d) to get y(yD, yR, yC, ch).\n        // ? = to be determined\n        vec4 minMaxValue = vec4(${b});\n        float avgValue = 0.0;\n        count = 0.0;\n\n        for (int wD = 0; wD < ${d};\n            wD += ${c}) {\n          int xD = xDCorner + wD;\n\n          if (xD < 0 || xD >= ${e.inDepth}) {\n            continue;\n          }\n\n          for (int wR = 0; wR < ${p};\n            wR += ${u}) {\n            int xR = xRCorner + wR;\n\n            if (xR < 0 || xR >= ${e.inHeight}) {\n              continue;\n            }\n\n            for (int wC = 0; wC < ${w}; wC += 4) {\n              int xC = xCCorner + wC * ${h};\n\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                getValue(batch, xD, xR, xC + ${h}, ch),\n                getValue(batch, xD, xR, xC + 2 * ${h}, ch),\n                getValue(batch, xD, xR, xC + 3 * ${h}, ch)\n              );\n\n              ${S}\n            }\n\n            int xC = xCCorner + ${w};\n            if (${1===k}) {\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                initializationValue,\n                initializationValue,\n                initializationValue\n              );\n\n              ${S}\n            } else if (${2===k}) {\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                getValue(batch, xD, xR, xC + ${h}, ch),\n                initializationValue,\n                initializationValue\n              );\n\n              ${S}\n            } else if (${3===k}) {\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                getValue(batch, xD, xR, xC + ${h}, ch),\n                getValue(batch, xD, xR, xC + 2 * ${h}, ch),\n                initializationValue\n              );\n\n              ${S}\n            }\n          }\n        }\n        setOutput(${v});\n      }\n    `}}const wge={kernelName:XX,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t;Yde(a,"avgPool");const{filterSize:i,strides:s,pad:o,dimRoundingMode:l}=r;Yq(B2(s,1),()=>`Error in avgPool: Either strides or dilations must be 1. Got strides ${s} and dilations '1'`);const c=O2(a.shape,i,s,1,o,l);if(1===c.filterWidth&&1===c.filterHeight&&tX(c.inShape,c.outShape))return ome({inputs:{x:a},backend:n});const u=new bge(c,"avg",!1);return n.runWebGLProgram(u,[a],"float32")}};const kge={kernelName:QX,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{filterSize:i,strides:s,pad:o,dimRoundingMode:l,dataFormat:c}=r,u=P2(a.shape,i,s,[1,1,1],o,l,c),h=new vge(u,"avg",!1);return n.runWebGLProgram(h,[a],"float32")}};class Sge{constructor(e){this.variableNames=["dy"],this.outputShape=e.inShape;const t=e.filterHeight,n=e.filterWidth,r=e.strideHeight,a=e.strideWidth,i=e.dilationHeight,s=e.dilationWidth,o=e.effectiveFilterHeight,l=e.effectiveFilterWidth,c=o-1-e.padInfo.top,u=l-1-e.padInfo.left,h=1/(t*n);this.userCode=`\n      const ivec2 pads = ivec2(${c}, ${u});\n      const float avgMultiplier = float(${h});\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n\n        ivec2 dyRCCorner = coords.yz - pads;\n        int dyRCorner = dyRCCorner.x;\n        int dyCCorner = dyRCCorner.y;\n\n        // Convolve dy(?, ?, d) with pos mask(:, :, d) to get dx(xR, xC, d).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < ${o};\n            wR += ${i}) {\n          float dyR = float(dyRCorner + wR) / ${r}.0;\n\n          if (dyR < 0.0 || dyR >= ${e.outHeight}.0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          for (int wC = 0; wC < ${l};\n            wC+= ${s}) {\n            float dyC = float(dyCCorner + wC) / ${a}.0;\n\n            if (dyC < 0.0 || dyC >= ${e.outWidth}.0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            float dyValue = getDy(b, idyR, idyC, d);\n\n            dotProd += dyValue * avgMultiplier;\n          }\n        }\n        setOutput(dotProd);\n      }\n    `}}class Nge{constructor(e){this.variableNames=["dy"],this.outputShape=e.inShape;const t=e.filterDepth,n=e.filterHeight,r=e.filterWidth,a=e.strideDepth,i=e.strideHeight,s=e.strideWidth,o=e.dilationDepth,l=e.dilationHeight,c=e.dilationWidth,u=e.effectiveFilterDepth,h=e.effectiveFilterHeight,d=e.effectiveFilterWidth,p=u-1-e.padInfo.front,f=h-1-e.padInfo.top,m=d-1-e.padInfo.left,g=1/(t*n*r);this.userCode=`\n      const ivec3 pads = ivec3(${p}, ${f}, ${m});\n      const float avgMultiplier = float(${g});\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int ch = coords.u;\n\n        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;\n        int dyDCorner = dyCorner.x;\n        int dyRCorner = dyCorner.y;\n        int dyCCorner = dyCorner.z;\n\n        // Convolve dy(?, ?, ?, d) with pos mask(:, :, :, ch) to get\n        // dx(xD, xR, xC, ch).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n\n        for (int wD = 0; wD < ${u};\n            wD += ${o}) {\n          float dyD = float(dyDCorner + wD) / ${a}.0;\n\n          if (dyD < 0.0 || dyD >= ${e.outDepth}.0 || fract(dyD) > 0.0) {\n            continue;\n          }\n          int idyD = int(dyD);\n\n          for (int wR = 0; wR < ${h};\n              wR += ${l}) {\n            float dyR = float(dyRCorner + wR) / ${i}.0;\n\n            if (dyR < 0.0 || dyR >= ${e.outHeight}.0 ||\n                fract(dyR) > 0.0) {\n              continue;\n            }\n            int idyR = int(dyR);\n\n            for (int wC = 0; wC < ${d};\n                wC += ${c}) {\n              float dyC = float(dyCCorner + wC) / ${s}.0;\n\n              if (dyC < 0.0 || dyC >= ${e.outWidth}.0 ||\n                  fract(dyC) > 0.0) {\n                continue;\n              }\n              int idyC = int(dyC);\n\n              float dyValue = getDy(batch, idyD, idyR, idyC, ch);\n\n              dotProd += dyValue * avgMultiplier;\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    `}}const Ege={kernelName:JX,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{dy:a,input:i}=t,s=i,{filterSize:o,strides:l,pad:c,dimRoundingMode:u}=r,h=P2(s.shape,o,l,[1,1,1],c,u),d=new Nge(h);return n.runWebGLProgram(d,[a],s.dtype)}};const Age={kernelName:YX,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{dy:a,input:i}=t,s=i;Yde([a,i],"avgPoolGrad");const{filterSize:o,strides:l,pad:c}=r,u=O2(s.shape,o,l,1,c),h=new Sge(u);return n.runWebGLProgram(h,[a],s.dtype)}};const Cge={kernelName:eY,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{a:a,b:i}=t,{transposeA:s,transposeB:o}=r;return zme({a:a,b:i,transposeA:s,transposeB:o,backend:n})}};class jge{constructor(e,t,n,r,a,i){this.outputShape=[],this.variableNames=["x","mean","variance"],I4(e,t),I4(e,n);let s="0.0";null!=r&&(I4(e,r),this.variableNames.push("offset"),s="getOffsetAtOutCoords()");let o="1.0";null!=a&&(I4(e,a),this.variableNames.push("scale"),o="getScaleAtOutCoords()"),this.outputShape=e,this.userCode=`\n      void main() {\n        float x = getXAtOutCoords();\n        float mean = getMeanAtOutCoords();\n        float variance = getVarianceAtOutCoords();\n        float offset = ${s};\n        float scale = ${o};\n        float inv = scale * inversesqrt(variance + float(${i}));\n        setOutput(dot(vec3(x, -mean, offset), vec3(inv, inv, 1)));\n      }\n    `}}class Mge{constructor(e,t,n,r,a,i){this.packedInputs=!0,this.packedOutput=!0,this.variableNames=["x","mean","variance"],I4(e,t),I4(e,n);let s="vec4(0.0)";null!=r&&(I4(e,r),this.variableNames.push("offset"),s="getOffsetAtOutCoords()");let o="vec4(1.0)";null!=a&&(I4(e,a),this.variableNames.push("scale"),o="getScaleAtOutCoords()"),this.outputShape=e,this.userCode=`\n      void main() {\n        vec4 offset = ${s};\n        vec4 scale = ${o};\n\n        vec4 x = getXAtOutCoords();\n        vec4 mean = getMeanAtOutCoords();\n        vec4 variance = getVarianceAtOutCoords();\n\n        vec4 inv = scale * inversesqrt(variance + vec4(${i}));\n\n        setOutput((x - mean) * inv + offset);\n      }\n    `}}const Tge={kernelName:WY,backendName:"webgl",kernelFunc:({inputs:e,backend:t,attrs:n})=>{const{x:r,mean:a,variance:i,offset:s,scale:o}=e;Yq(a.shape.length===i.shape.length,()=>"Batch normalization gradient requires mean and variance to have equal ranks."),Yq(null==s||a.shape.length===s.shape.length,()=>"Batch normalization gradient requires mean and offset to have equal ranks."),Yq(null==o||a.shape.length===o.shape.length,()=>"Batch normalization gradient requires mean and scale to have equal ranks.");let{varianceEpsilon:l}=n;null==l&&(l=.001);const c=[r,a,i];let u=null;null!=s&&(u=s.shape,c.push(s));let h=null;null!=o&&(h=o.shape,c.push(o));const d=IX().getBool("WEBGL_PACK_NORMALIZATION")?new Mge(r.shape,a.shape,i.shape,u,h,l):new jge(r.shape,a.shape,i.shape,u,h,l);return t.runWebGLProgram(d,c,c[0].dtype)}};class Ige{constructor(e){this.variableNames=["source"],this.outputShape=e,this.rank=e.length;const t=gpe(this.rank);this.customUniforms=[{name:"start",arrayIndex:this.rank,type:"int"}];const n=function(e){if(1===e)return"sourceLoc";if(e<=6)return Oge.slice(0,e).map(e=>"sourceLoc."+e).join(",");throw Error(`Slicing for rank ${e} is not yet supported`)}(this.rank);let r;r=`\n        ${t} sourceLoc;\n        ${t} coords = getOutputCoords();\n        ${e.map((e,t)=>`sourceLoc.${Oge[t]} = start[${t}] + coords.${Oge[t]};`).join("\n")}\n      `,this.userCode=`\n      void main() {\n        ${r}\n        setOutput(getSource(${n}));\n      }\n    `}}const Oge=["x","y","z","w","u","v"];class Pge{constructor(e){this.variableNames=["source"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e,this.rank=e.length,this.customUniforms=[{name:"start",arrayIndex:this.rank,type:"int"}];const t=gpe(this.rank),n=Ffe("coords",this.rank),r=Ffe("sourceLoc",this.rank),a=1===this.rank?"sourceLoc":`vec2(${r.slice(-2).join()})`,i=`getChannel(getSource(${r.join()}), ${a})`,s=`\n      result.x = ${i};\n      if (++${n[this.rank-1]} < ${e[this.rank-1]}) {\n        ++${r[this.rank-1]};\n        result.y = ${i};\n        --${r[this.rank-1]};\n      }\n    `,o=1===this.rank?"":`\n      --${n[this.rank-1]};\n      if (++${n[this.rank-2]} < ${e[this.rank-2]}) {\n        ++${r[this.rank-2]};\n        result.z = ${i};\n        if (++${n[this.rank-1]} < ${e[this.rank-1]}) {\n          ++${r[this.rank-1]};\n          result.w = ${i};\n        }\n      }\n    `,l=this.rank<=4?`sourceLoc = coords +\n            ${t}(${e.map((e,t)=>`start[${t}]`).join()});`:e.map((e,t)=>`${r[t]} = ${n[t]} + start[${t}];`).join("\n");this.userCode=`\n      void main() {\n        ${t} coords = getOutputCoords();\n        ${t} sourceLoc;\n        ${l}\n        vec4 result = vec4(0.);\n        ${s}\n        ${o}\n        setOutput(result);\n      }\n    `}}function Rge(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{begin:i,size:s}=r,[o,l]=S5(a,i,s);if(h5(a,o,l),0===eX(l))return n.makeTensorInfo(l,a.dtype,[]);if(n.shouldExecuteOnCPU([a])||"string"===a.dtype){const e=n.texData.get(a.dataId),t=kfe(e.values,o,l,a.shape,a.dtype);return n.makeTensorInfo(l,a.dtype,t)}const{isPacked:c}=n.texData.get(a.dataId),u=w5(a.shape,o,l);if(c||!u){const e=IX().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new Pge(l):new Ige(l),t=[o];return n.runWebGLProgram(e,[a],a.dtype,t)}return n.uploadToGPU(a.dataId),function(e,t,n,r){const a=r.texData.get(e.dataId),i=r.makeTensorInfo(n,e.dtype),s=r.texData.get(i.dataId);Object.assign(s,a),s.refCount=1,s.shape=n,s.dtype=e.dtype;let o=k5(t,xX(e.shape));a.slice&&(o+=a.slice.flatOffset),s.slice={flatOffset:o,origDataId:a.slice&&a.slice.origDataId||e.dataId};const l=r.dataRefCount.get(s.slice.origDataId)||1;return r.dataRefCount.set(s.slice.origDataId,l+1),i}(a,o,l,n)}const _ge={kernelName:sJ,backendName:"webgl",kernelFunc:Rge},Lge={kernelName:tY,backendName:"webgl",kernelFunc:e=>{const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{blockShape:i,crops:s}=r;Yq(a.shape.length<=4,()=>"batchToSpaceND for rank > 4 with a WebGL backend not implemented yet");const o=i.reduce((e,t)=>e*t),l=z5(a.shape,i,o),c=V5(l.length,i.length),u=B5(a.shape,i,o),h=H5(s,i.length),d=U5(u,s,i.length),p=[],f=jme({inputs:{x:a},backend:n,attrs:{shape:l}}),m=Fme({inputs:{x:f},backend:n,attrs:{perm:c}}),g=jme({inputs:{x:m},backend:n,attrs:{shape:u}}),y=Rge({inputs:{x:g},backend:n,attrs:{begin:h,size:d}});return p.push(f),p.push(m),p.push(g),p.forEach(e=>n.disposeIntermediateTensorInfo(e)),y}};const $ge={kernelName:nY,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a,weights:i}=t,{size:s}=r,o=n.readSync(a.dataId),l=n.readSync(i.dataId),c=Hpe(o,l,i.dtype,i.shape,s);return n.makeTensorInfo([s],i.dtype,c)}};const Fge={kernelName:rY,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{a:r,b:a}=t,i=IX().getBool("WEBGL_PACK_BINARY_OPERATIONS"),s=IX().getNumber("WEBGL_VERSION");if(n.shouldExecuteOnCPU([r,a])||1===s){const e=n.texData.get(r.dataId).values,t=n.texData.get(a.dataId).values,[i,s]=Wpe(r.shape,a.shape,e,t,r.dtype),o=n.makeTensorInfo(s,r.dtype);return n.texData.get(o.dataId).values=i,o}let o;return o=i?new sme("\n  int r = int(a.r) & int(b.r);\n  int g = int(a.g) & int(b.g);\n  int rb = int(a.b) & int(b.b);\n  int ra = int(a.a) & int(b.a);\n  return vec4(r, g, rb, ra);\n",r.shape,a.shape,!1):new ame("\n  return float(int(a.r) & int(b.r));\n",r.shape,a.shape),n.runWebGLProgram(o,[r,a],r.dtype)}};const Dge={kernelName:aY,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{s0:r,s1:a}=t,i=n.readSync(r.dataId),s=n.readSync(a.dataId),o=I4(Array.from(i),Array.from(s));return n.makeTensorInfo([o.length],"int32",Int32Array.from(o))}},zge=bme({opSnippet:"return float(a != b);",cpuKernelImpl:dfe,dtype:"bool"}),Vge={kernelName:jQ,backendName:"webgl",kernelFunc:zge};function Bge(e){const{inputs:t,backend:n}=e,{input:r}=t;return ome({inputs:{x:n.texData.get(r.dataId).complexTensorInfos.real},backend:n})}const Hge={kernelName:HQ,backendName:"webgl",kernelFunc:Bge};const Uge={kernelName:iY,backendName:"webgl",kernelFunc:function e(t){const{inputs:n,backend:r,attrs:a}=t,{x:i}=n,{dtype:s}=a;if("complex64"===s){if("complex64"===i.dtype)return ome({inputs:{x:i},backend:r});const t=F8(i.shape),n=e({inputs:{x:i},backend:r,attrs:{dtype:"float32"}}),a=cme({inputs:{real:n,imag:t},backend:r});return t.dispose(),r.disposeIntermediateTensorInfo(n),a}if("complex64"===i.dtype){const t=Bge({inputs:{input:i},backend:r}),n=e({inputs:{x:t},backend:r,attrs:{dtype:s}});return r.disposeIntermediateTensorInfo(t),n}if(!hX(i.dtype,s)){const e=ome({inputs:{x:i},backend:r});return{dataId:e.dataId,shape:e.shape,dtype:s}}if(r.shouldExecuteOnCPU([i])){const e=r.texData.get(i.dataId).values,[t,n,a]=Zpe(e,i.shape,i.dtype,s);return r.makeTensorInfo(t,n,a)}if("int32"===s)return function(e,t){const n=new Wfe(e.shape,"return float(int(x));"),r=t.runWebGLProgram(n,[e],"int32");return{dataId:r.dataId,shape:r.shape,dtype:r.dtype}}(i,r);if("bool"===s){const e=r.makeTensorInfo([],"bool",cX("bool",1)),t=zge({inputs:{a:i,b:e},backend:r});return r.disposeIntermediateTensorInfo(e),t}throw new Error(`Error in Cast: failed to cast ${i.dtype} to ${s}`)}},Wge="return ceil(x);",Zge=xme({opSnippet:Wge,packedOpSnippet:Wge,cpuKernelImpl:Gpe}),Gge={kernelName:sY,backendName:"webgl",kernelFunc:Zge};class Kge{constructor(e){this.variableNames=["A"],this.customUniforms=[{name:"minVal",type:"float"},{name:"maxVal",type:"float"}],this.outputShape=e,this.userCode="\n\n      void main() {\n        float value = getAAtOutCoords();\n        if (isnan(value)) {\n          setOutput(value);\n          return;\n        }\n\n        setOutput(clamp(value, minVal, maxVal));\n      }\n    "}}class qge{constructor(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"minVal",type:"float"},{name:"maxVal",type:"float"}],this.outputShape=e,this.userCode="\n      void main() {\n        vec4 value = getAAtOutCoords();\n\n        if (any(isnan(value))) {\n          setOutput(value);\n          return;\n        }\n\n        setOutput(clamp(value, vec4(minVal), vec4(maxVal)));\n      }\n    "}}const Xge={kernelName:oY,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{clipValueMin:i,clipValueMax:s}=r;let o;o=IX().getBool("WEBGL_PACK_CLIP")?new qge(a.shape):new Kge(a.shape);const l=[[i],[s]];return n.runWebGLProgram(o,[a],a.dtype,l)}};class Yge{constructor(e){this.variableNames=["real","imag"],this.outputShape=e,this.userCode="\n      void main() {\n        float re = abs(getRealAtOutCoords());\n        float im = abs(getImagAtOutCoords());\n        float mx = max(re, im);\n\n        // sadly the length function in glsl is not underflow-safe\n        // (at least not on Intel GPUs). So the safe solution is\n        // to ensure underflow-safety in all cases.\n        setOutput(\n          mx == 0.0 ? 0.0 : mx * length(vec2(1, min(re, im)/mx))\n        );\n      }\n    "}}function Qge(e,t){return{dataId:t.dataId,dtype:t.dtype,shape:e.shape}}const Jge={kernelName:cY,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{x:r}=t,a=n.texData.get(r.dataId),i=new Yge(r.shape),s=[Qge(r,a.complexTensorInfos.real),Qge(r,a.complexTensorInfos.imag)];return n.runWebGLProgram(i,s,s[0].dtype)}};class eye{constructor(e){this.outputShape=[],this.outputShape=I5(e,1),this.variableNames=e.map((e,t)=>`T${t}`);const t=new Array(e.length-1);t[0]=e[0][1];for(let i=1;i<t.length;i++)t[i]=t[i-1]+e[i][1];const n=[`if (yC < ${t[0]}) setOutput(getT0(yR, yC));`];for(let i=1;i<t.length;i++){const e=t[i-1];n.push(`else if (yC < ${t[i]}) setOutput(getT${i}(yR, yC-${e}));`)}const r=t.length,a=t[t.length-1];n.push(`else setOutput(getT${r}(yR, yC-${a}));`),this.userCode=`\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int yR = coords.x;\n        int yC = coords.y;\n\n        ${n.join("\n        ")}\n      }\n    `}}class tye{constructor(e,t){this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[],this.outputShape=I5(e,t);const n=this.outputShape,r=n.length,a=gpe(r),i=Ffe("coords",r),s=["x","y","z","w","u","v"].slice(0,r);this.variableNames=e.map((e,t)=>`T${t}`);const o=new Array(e.length-1);o[0]=e[0][t];for(let f=1;f<o.length;f++)o[f]=o[f-1]+e[f][t];const l=s[t],c=s.slice(-2),u=s.join();let h=`if (${l} < ${o[0]}) {\n        return getChannel(\n            getT0(${u}), vec2(${c.join()}));\n        }`;for(let f=1;f<o.length;f++){const e=o[f-1];h+=`\n        if (${l} < ${o[f]}  && ${l} >= ${o[f-1]}) {\n          return getChannel(\n            getT${f}(${nye(s,l,e)}),\n            vec2(${nye(c,l,e)}));\n        }`}const d=o.length,p=o[o.length-1];h+=`\n        return getChannel(\n          getT${d}(${nye(s,l,p)}),\n          vec2(${nye(c,l,p)}));`,this.userCode=`\n      float getValue(${s.map(e=>"int "+e)}) {\n        ${h}\n      }\n\n      void main() {\n        ${a} coords = getOutputCoords();\n        vec4 result = vec4(getValue(${i}), 0., 0., 0.);\n\n        ${i[r-1]} = ${i[r-1]} + 1;\n        if (${i[r-1]} < ${n[r-1]}) {\n          result.g = getValue(${i});\n        }\n\n        ${i[r-2]} = ${i[r-2]} + 1;\n        if (${i[r-2]} < ${n[r-2]}) {\n          result.a = getValue(${i});\n        }\n\n        ${i[r-1]} = ${i[r-1]} - 1;\n        if (${i[r-2]} < ${n[r-2]} &&\n            ${i[r-1]} < ${n[r-1]}) {\n          result.b = getValue(${i});\n        }\n        setOutput(result);\n      }\n    `}}function nye(e,t,n){const r=e.indexOf(t);return e.map((e,t)=>t===r?`${e} - ${n}`:e).join()}function rye(e){const{inputs:t,backend:n}=e,{input:r}=t;return ome({inputs:{x:n.texData.get(r.dataId).complexTensorInfos.imag},backend:n})}const aye={kernelName:QY,backendName:"webgl",kernelFunc:rye};function iye(e,t,n){const r=e[0].dtype;if("complex64"===r){const r=e.map(e=>Bge({inputs:{input:e},backend:n})),a=e.map(e=>rye({inputs:{input:e},backend:n})),i=iye(r,t,n),s=iye(a,t,n),o=cme({inputs:{real:i,imag:s},backend:n});return r.forEach(e=>n.disposeIntermediateTensorInfo(e)),a.forEach(e=>n.disposeIntermediateTensorInfo(e)),n.disposeIntermediateTensorInfo(i),n.disposeIntermediateTensorInfo(s),o}let a=n.shouldExecuteOnCPU(e);if("string"===r&&(a=!0),a){const a=e.map(e=>{const r=eX(e.shape.slice(t));return jme({inputs:{x:e},backend:n,attrs:{shape:[-1,r]}})}),i=a.map(e=>({vals:n.readSync(e.dataId),shape:e.shape})),s=I5(a.map(e=>e.shape),1),o=1===a[0].shape[0],l=Kpe(i,s,r,o),c=I5(e.map(e=>e.shape),t),u=n.makeTensorInfo(c,r,l);return a.forEach(e=>n.disposeIntermediateTensorInfo(e)),u}const i=e.filter(e=>eX(e.shape)>0),s=IX().getBool("WEBGL_PACK_ARRAY_OPERATIONS")&&i[0].shape.length>1;if(1===i.length){const t=s?new Wfe(e[0].shape,Xfe):new Yfe(e[0].shape,Xfe);return n.runWebGLProgram(t,e,r)}const o=IX().getNumber("WEBGL_MAX_TEXTURES_IN_SHADER");if(i.length>o){const e=[];for(let a=0;a<i.length;a+=o){const r=i.slice(a,a+o);e.push(iye(r,t,n))}const r=iye(e,t,n);for(const t of e)n.disposeIntermediateTensorInfo(t);return r}if(s){const e=new tye(i.map(e=>e.shape),t);return n.runWebGLProgram(e,i,r)}const{tensors2D:l,outShape:c}=function(e,t,n){const r=I5(e.map(e=>e.shape),t),a=e.map(e=>jme({inputs:{x:e},attrs:{shape:[-1,eX(e.shape.slice(t))]},backend:n}));return{tensors2D:a,outShape:r}}(i,t,n),u=new eye(l.map(e=>e.shape)),h=n.runWebGLProgram(u,l,r);l.forEach(e=>n.disposeIntermediateTensorInfo(e));const d=jme({inputs:{x:h},attrs:{shape:c},backend:n});return n.disposeIntermediateTensorInfo(h),d}function sye(e){const{inputs:t,backend:n,attrs:r}=e,{axis:a}=r,i=oX(a,t[0].shape)[0];T5(t.map(e=>e.shape),i);const s=I5(t.map(e=>e.shape),i);if(0===eX(s))return n.makeTensorInfo(s,t[0].dtype,[]);const o=t.filter(e=>eX(e.shape)>0);return 1===o.length?ome({inputs:{x:o[0]},backend:n}):iye(o,i,n)}const oye={kernelName:uY,backendName:"webgl",kernelFunc:sye};class lye{constructor(e,t=!1,n=null,r=!1,a=!1){this.variableNames=["x","W"],this.outputShape=e.outShape;const i=e.padInfo.top,s=e.padInfo.left,o=e.strideHeight,l=e.strideWidth,c=e.dilationHeight,u=e.dilationWidth,h=e.filterHeight,d=e.filterWidth,p=4*Math.floor(e.inChannels/4),f=e.inChannels%4,m="channelsLast"===e.dataFormat,g=m?1:2,y=m?2:3,x=m?3:1;let b="",v="";n&&(b=r?`float activation(float a) {\n          float b = getPreluActivationWeightsAtOutCoords();\n          ${n}\n        }`:a?`float activation(float a) {\n          float b = getLeakyreluAlphaAtOutCoords();\n          ${n}\n        }`:`\n          float activation(float x) {\n            ${n}\n          }\n        `,v="result = activation(result);");const w=t?"result += getBiasAtOutCoords();":"";t&&this.variableNames.push("bias"),r&&this.variableNames.push("preluActivationWeights"),a&&this.variableNames.push("leakyreluAlpha"),this.userCode=`\n      ${b}\n\n      const ivec2 strides = ivec2(${o}, ${l});\n      const ivec2 pads = ivec2(${i}, ${s});\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d2 = coords[${x}];\n\n        ivec2 xRCCorner =\n            ivec2(coords[${g}], coords[${y}]) * strides - pads;\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        // Convolve x(?, ?, d1) with w(:, :, d1, d2) to get y(yR, yC, d2).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < ${h}; wR++) {\n          int xR = xRCorner + wR * ${c};\n\n          if (xR < 0 || xR >= ${e.inHeight}) {\n            continue;\n          }\n\n          for (int wC = 0; wC < ${d}; wC++) {\n            int xC = xCCorner + wC * ${u};\n\n            if (xC < 0 || xC >= ${e.inWidth}) {\n              continue;\n            }\n\n            for (int d1 = 0; d1 < ${p}; d1 += 4) {\n              vec4 wValues = vec4(\n                getW(wR, wC, d1, d2),\n                getW(wR, wC, d1 + 1, d2),\n                getW(wR, wC, d1 + 2, d2),\n                getW(wR, wC, d1 + 3, d2)\n              );\n\n              if (${m}) {\n                vec4 xValues = vec4(\n                  getX(batch, xR, xC, d1),\n                  getX(batch, xR, xC, d1 + 1),\n                  getX(batch, xR, xC, d1 + 2),\n                  getX(batch, xR, xC, d1 + 3)\n                );\n                dotProd += dot(xValues, wValues);\n              } else {\n                vec4 xValues = vec4(\n                  getX(batch, d1, xR, xC),\n                  getX(batch, d1 + 1, xR, xC),\n                  getX(batch, d1 + 2, xR, xC),\n                  getX(batch, d1 + 3, xR, xC)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n            }\n\n            if (${1===f}) {\n\n              if (${m}) {\n                dotProd +=\n                    getX(batch, xR, xC, ${p}) *\n                    getW(wR, wC, ${p}, d2);\n              } else {\n                dotProd +=\n                    getX(batch, ${p}, xR, xC) *\n                    getW(wR, wC, ${p}, d2);\n              }\n\n            } else if (${2===f}) {\n              vec2 wValues = vec2(\n                getW(wR, wC, ${p}, d2),\n                getW(wR, wC, ${p} + 1, d2)\n              );\n\n              if (${m}) {\n                vec2 xValues = vec2(\n                  getX(batch, xR, xC, ${p}),\n                  getX(batch, xR, xC, ${p} + 1)\n                );\n                dotProd += dot(xValues, wValues);\n              } else {\n                vec2 xValues = vec2(\n                  getX(batch, ${p}, xR, xC),\n                  getX(batch, ${p} + 1, xR, xC)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n\n            } else if (${3===f}) {\n              vec3 wValues = vec3(\n                getW(wR, wC, ${p}, d2),\n                getW(wR, wC, ${p} + 1, d2),\n                getW(wR, wC, ${p} + 2, d2)\n              );\n\n              if (${m}) {\n                vec3 xValues = vec3(\n                  getX(batch, xR, xC, ${p}),\n                  getX(batch, xR, xC, ${p} + 1),\n                  getX(batch, xR, xC, ${p} + 2)\n                );\n                dotProd += dot(xValues, wValues);\n              } else {\n                vec3 xValues = vec3(\n                  getX(batch, ${p}, xR, xC),\n                  getX(batch, ${p} + 1, xR, xC),\n                  getX(batch, ${p} + 2, xR, xC)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n\n            }\n          }\n        }\n\n        float result = dotProd;\n        ${w}\n        ${v}\n        setOutput(result);\n      }\n    `}}class cye{constructor(e){this.variableNames=["x","W"],this.outputShape=e.outShape;const t=e.padInfo.front,n=e.padInfo.top,r=e.padInfo.left,a=e.strideDepth,i=e.strideHeight,s=e.strideWidth,o=e.dilationDepth,l=e.dilationHeight,c=e.dilationWidth,u=e.filterDepth,h=e.filterHeight,d=e.filterWidth,p=4*Math.floor(e.inChannels/4),f=e.inChannels%4;this.userCode=`\n      const ivec3 strides = ivec3(${a}, ${i}, ${s});\n      const ivec3 pads = ivec3(${t}, ${n}, ${r});\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int d2 = coords.u;\n\n        ivec3 xFRCCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;\n        int xFCorner = xFRCCorner.x;\n        int xRCorner = xFRCCorner.y;\n        int xCCorner = xFRCCorner.z;\n\n        // Convolve x(?, ?, ?, d1) with w(:, :, :, d1, d2) to get\n        // y(yF, yR, yC, d2). ? = to be determined. : = across all\n        // values in that axis.\n        float dotProd = 0.0;\n        for (int wF = 0; wF < ${u}; wF++) {\n          int xF = xFCorner + wF * ${o};\n\n          if (xF < 0 || xF >= ${e.inDepth}) {\n            continue;\n          }\n\n          for (int wR = 0; wR < ${h}; wR++) {\n            int xR = xRCorner + wR * ${l};\n\n            if (xR < 0 || xR >= ${e.inHeight}) {\n              continue;\n            }\n\n            for (int wC = 0; wC < ${d}; wC++) {\n              int xC = xCCorner + wC * ${c};\n\n              if (xC < 0 || xC >= ${e.inWidth}) {\n                continue;\n              }\n\n              for (int d1 = 0; d1 < ${p}; d1 += 4) {\n                vec4 xValues = vec4(\n                  getX(batch, xF, xR, xC, d1),\n                  getX(batch, xF, xR, xC, d1 + 1),\n                  getX(batch, xF, xR, xC, d1 + 2),\n                  getX(batch, xF, xR, xC, d1 + 3)\n                );\n                vec4 wValues = vec4(\n                  getW(wF, wR, wC, d1, d2),\n                  getW(wF, wR, wC, d1 + 1, d2),\n                  getW(wF, wR, wC, d1 + 2, d2),\n                  getW(wF, wR, wC, d1 + 3, d2)\n                );\n\n                dotProd += dot(xValues, wValues);\n              }\n\n              if (${1===f}) {\n                dotProd +=\n                  getX(batch, xF, xR, xC, ${p}) *\n                  getW(wF, wR, wC, ${p}, d2);\n              } else if (${2===f}) {\n                vec2 xValues = vec2(\n                  getX(batch, xF, xR, xC, ${p}),\n                  getX(batch, xF, xR, xC, ${p} + 1)\n                );\n                vec2 wValues = vec2(\n                  getW(wF, wR, wC, ${p}, d2),\n                  getW(wF, wR, wC, ${p} + 1, d2)\n                );\n                dotProd += dot(xValues, wValues);\n              } else if (${3===f}) {\n                vec3 xValues = vec3(\n                  getX(batch, xF, xR, xC, ${p}),\n                  getX(batch, xF, xR, xC, ${p} + 1),\n                  getX(batch, xF, xR, xC, ${p} + 2)\n                );\n                vec3 wValues = vec3(\n                  getW(wF, wR, wC, ${p}, d2),\n                  getW(wF, wR, wC, ${p} + 1, d2),\n                  getW(wF, wR, wC, ${p} + 2, d2)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    `}}class uye{constructor(e,t=!1,n=null,r=!1,a=!1){this.variableNames=["x","W"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"pads",type:"ivec2"},{name:"strides",type:"ivec2"},{name:"dilations",type:"ivec2"},{name:"inDims",type:"ivec2"}],this.outputShape=e.outShape,this.enableShapeUniforms=Spe(this.outputShape.length);const i=e.padInfo.left,s=e.strideWidth,o=e.dilationWidth,l=e.filterHeight,c=e.filterWidth,u=c;let h="\n       int xR; int xC; int xCOffset;\n       vec4 wTexel; vec4 previous; vec4 final;";for(let m=0;m<c;m++)h+=`\n           vec4 xTexelC${2*m};\n           int xTexelC${2*m}Ready;\n           vec4 xTexelC${2*m+1};\n           int xTexelC${2*m+1}Ready;\n           vec4 xC${m};`;h+=`\n     for (int r = 0; r < ${l}; r++) {\n      for (int d1 = 0; d1 < ${e.inChannels}; d1 += 2) {\n       `;for(let m=0;m<c;m++)h+=`\n           xTexelC${2*m} = vec4(0.0);\n           xTexelC${2*m}Ready = 0;\n           xTexelC${2*m+1} = vec4(0.0);\n           xTexelC${2*m+1}Ready = 0;\n           xC${m} = vec4(0.0);`;h+="\n         xR = xRCorner + r * dilations[0];\n         if (xR >=0 && xR < inDims[0]) {\n       ";for(let m=0;m<(u+1)/2;m++){const t=2*m;if(h+=`\n           xC = xCCorner + ${t*o};\n           `,1===s){if(t<c&&(i%2==1?(h+=`\n                 xCOffset = xC + 1;\n                 if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${t}Ready == 0) {\n                   xTexelC${t} = getX(batch, xR, xCOffset, d1);\n\n                   // Need to manually clear unused channels in case\n                   // we're reading from recycled texture.\n                   if (xCOffset + 1 >= inDims[1]) {\n                     xTexelC${t}.zw = vec2(0.0);\n                   }\n                   xTexelC${t}Ready = 1;\n                 }\n               `,h+=1===o&&t>0?`\n                 xC${t} = vec4(xTexelC${t-2}.zw, xTexelC${t}.xy);\n                 `:`\n                   xCOffset = xC + 1 - 2;\n\n                   if (xCOffset >= 0 && xCOffset < inDims[1]) {\n                     previous = getX(batch, xR, xCOffset, d1);\n\n                     // Need to manually clear unused channels in case\n                     // we're reading from recycled texture.\n                     if (xCOffset + 1 >= inDims[1]) {\n                       previous.zw = vec2(0.0);\n                     }\n\n                     xC${t} = vec4(previous.zw, xTexelC${t}.xy);\n                   } else {\n                     xC${t} = vec4(0.0, 0.0, xTexelC${t}.xy);\n                   }\n                   `):h+=`\n                 if (xC >= 0 && xC < inDims[1] && xTexelC${t}Ready == 0) {\n                   xTexelC${t} = getX(batch, xR, xC, d1);\n                   if (xC + 1 >= inDims[1]) {\n                     xTexelC${t}.zw = vec2(0.0);\n                   }\n                   xTexelC${t}Ready = 1;\n                 }\n\n                 xC${t} = xTexelC${t};\n                 `,t+1<c)){const e=i%2==0?qq(o):o;o%2==0&&i%2==1||o%2!=0&&i%2!=1?(h+=`\n                   xCOffset = xC + imod(pads[1], 2) + ${e};\n\n                   if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${t+1}Ready == 0) {\n                     xTexelC${t+1} = getX(batch, xR, xCOffset, d1);\n\n                     // Need to manually clear unused channels in case\n                     // we're reading from recycled texture.\n                     if (xCOffset + 1 >= inDims[1]) {\n                       xTexelC${t+1}.zw = vec2(0.0);\n                     }\n                     xTexelC${t+1}Ready = 1;\n                   }\n                   `,h+=o>1?`\n                     xCOffset -= 2;\n                     if (xCOffset >= 0 && xCOffset < inDims[1]) {\n                      previous = getX(batch, xR, xCOffset, d1);\n                      xC${t+1} = vec4(previous.zw, xTexelC${t+1}.xy);\n                     } else {\n                      xC${t+1} = vec4(0.0, 0.0, xTexelC${t+1}.xy);\n                     }\n                     `:`\n                     xC${t+1} = vec4(xTexelC${t}.zw, xTexelC${t+1}.xy);\n                     `):h+=1===e?`\n                     xC${t+1} = xTexelC${t};\n                     `:`\n                     xCOffset = xC + ${e};\n\n                     if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${t+1}Ready == 0) {\n                       xTexelC${t+1} = getX(batch, xR, xCOffset, d1);\n                       if (xCOffset + 1 >= inDims[1]) {\n                         xTexelC${t+1}.zw = vec2(0.0);\n                       }\n                       xTexelC${t+1}Ready = 1;\n                     }\n\n                     xC${t+1} = xTexelC${t+1};\n                     `}}else t<c&&(i%2==1?(h+=`\n                 xCOffset = xC + 1 - strides[1];\n                 if(xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${t}Ready == 0) {\n                   xTexelC${t} = getX(batch, xR, xCOffset, d1);\n                   // Need to manually clear unused channels in case\n                   // we're reading from recycled texture.\n                   if (xCOffset + 1 >= inDims[1]) {\n                     xTexelC${t}.zw = vec2(0.0);\n                   }\n                   xTexelC${t}Ready = 1;\n                 }\n\n                 if(xC + 1 >= 0 && xC + 1 < inDims[1] && xTexelC${t+1}Ready == 0) {\n                   xTexelC${t+1} = getX(batch, xR, xC + 1, d1);\n                   // Need to manually clear unused channels in case\n                   // we're reading from recycled texture.\n                   if (xC + 2 >= inDims[1]) {\n                     xTexelC${t+1}.zw = vec2(0.0);\n                   }\n                   xTexelC${t+1}Ready = 1;\n                 }\n\n                 xC${t} = vec4(xTexelC${t}.zw, xTexelC${t+1}.zw);\n               `,t+1<c&&(h+=`\n                   final = vec4(0.0);\n                   xCOffset = xC + 1 + strides[1];\n                   if(xCOffset >= 0 && xCOffset < inDims[1]) {\n                     final = getX(batch, xR, xCOffset, d1);\n                   }\n                   xC${t+1} = vec4(xTexelC${t+1}.xy, final.xy);\n                 `)):(h+=`\n                 if(xC >= 0 && xC < inDims[1] && xTexelC${t}Ready == 0) {\n                   xTexelC${t} = getX(batch, xR, xC, d1);\n                   if (xC + 1 >= inDims[1]) {\n                     xTexelC${t}.zw = vec2(0.0);\n                   }\n                   xTexelC${t}Ready = 1;\n                 }\n\n                 xCOffset = xC + strides[1];\n                 if(xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${t+1}Ready == 0) {\n                   xTexelC${t+1} = getX(batch, xR, xCOffset, d1);\n                   if (xCOffset + 1 >= inDims[1]) {\n                     xTexelC${t+1}.zw = vec2(0.);\n                   }\n                   xTexelC${t+1}Ready = 1;\n                 }\n\n                 xC${t} = vec4(\n                   xTexelC${t}.xy, xTexelC${t+1}.xy);\n               `,t+1<c&&(h+=`\n                   xC${t+1} = vec4(xTexelC${t}.zw, xTexelC${t+1}.zw);\n                 `)));t<c&&(h+=`\n             wTexel = getW(r, ${t}, d1, d2);\n             dotProd += xC${t}.xxzz * vec4(wTexel.xy, wTexel.xy);\n             if(d1 + 1 < ${e.inChannels}) {\n               dotProd += xC${t}.yyww * vec4(wTexel.zw, wTexel.zw);\n             }\n           `,t+1<c&&(h+=`\n               wTexel = getW(r, ${t+1}, d1, d2);\n               dotProd += xC${t+1}.xxzz * vec4(wTexel.xy, wTexel.xy);\n               if(d1 + 1 < ${e.inChannels}) {\n                 dotProd += xC${t+1}.yyww * vec4(wTexel.zw, wTexel.zw);\n               }\n             `))}h+="\n     }\n   ",h+="\n     }\n   ",h+="\n     }\n   ";let d="",p="";n&&(d=r?`vec4 activation(vec4 a) {\n           vec4 b = getPreluActivationWeightsAtOutCoords();\n           ${n}\n         }`:a?`vec4 activation(vec4 a) {\n           vec4 b = getLeakyreluAlphaAtOutCoords();\n           ${n}\n         }`:`vec4 activation(vec4 x) {\n           ${n}\n         }`,p="result = activation(result);");const f=t?"result += getBiasAtOutCoords();":"";t&&this.variableNames.push("bias"),r&&this.variableNames.push("preluActivationWeights"),a&&this.variableNames.push("leakyreluAlpha"),this.userCode=`\n       ${d}\n\n       void main() {\n         ivec4 coords = getOutputCoords();\n         int batch = coords.x;\n         ivec2 xRCCorner = coords.yz * strides - pads;\n         int d2 = coords.w;\n         int xRCorner = xRCCorner.x;\n         int xCCorner = xRCCorner.y;\n\n         //intialize dotProd with a small epsilon seems to reduce GPU accuracy loss.\n         vec4 dotProd = vec4(0.000000000000001);\n\n         ${h}\n\n         vec4 result = dotProd - vec4(0.000000000000001);\n         ${f}\n         ${p}\n         setOutput(result);\n       }\n     `}}class hye{constructor(e,t){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"inputShape",type:"ivec4"},{name:"pad",type:"ivec2"},{name:"stride",type:"ivec2"},{name:"dilation",type:"ivec2"},{name:"inChannels",type:"int"},{name:"itemsPerBlockRow",type:"int"},{name:"outWidth",type:"int"}],this.outputShape=e,this.enableShapeUniforms=Spe(this.outputShape.length);const{dataFormat:n}=t,r=Jde(),a="channelsLast"===n,i=a?1:2,s=a?2:3,o=this.enableShapeUniforms?"if(blockIndex < outShape[2] && pos < outShape[1]) {":`if(blockIndex < ${e[2]} && pos < ${e[1]}) {`;let l="";for(let c=0;c<=1;c++)for(let e=0;e<=1;e++)l+=`\n          blockIndex = rc.z + ${e};\n          pos = rc.y + ${c};\n\n          ${o}\n            offsetY = int(blockIndex / outWidth) * stride[0] - pad[0];\n            d0 = offsetY + dilation[0] * (pos / itemsPerBlockRow);\n\n            if(d0 < inputShape[${i}] && d0 >= 0) {\n              // Use custom imod instead mod. On Intel GPU, mod may generate\n              // unexpected value.\n              // https://github.com/tensorflow/tfjs/issues/5447\n              offsetX = imod(blockIndex, outWidth) * stride[1] - pad[1];\n              d1 = offsetX + dilation[1] * (imod(pos, itemsPerBlockRow) /\n                  inChannels);\n\n              if(d1 < inputShape[${s}] && d1 >= 0) {\n\n                ch = imod(pos, inChannels);\n\n                if (${a}) {\n                  innerDims = vec2(d1, ch);\n                  result[${2*c+e}] = getChannel(\n                    getA(rc.x, d0, int(innerDims.x),\n                    int(innerDims.y)), innerDims);\n                } else {\n                  innerDims = vec2(d0, d1);\n                  result[${2*c+e}] = getChannel(\n                    getA(rc.x, ch, int(innerDims.x),\n                    int(innerDims.y)), innerDims);\n                }\n              }\n            }\n          }\n        `;this.userCode=`\n      void main() {\n        ivec3 rc = getOutputCoords();\n\n        vec4 result = vec4(0);\n\n        int blockIndex, pos, offsetY, d0, offsetX, d1, ch;\n        vec2 innerDims;\n\n        ${l}\n\n        ${r.output} = result;\n      }\n    `}}function dye(e,t){const n=e.length;return n>=3?t?[...e.slice(0,-3),e[n-3]*e[n-2],e[n-1]]:[...e.slice(0,-3),e[n-3],e[n-2]*e[n-1]]:!t&&1===n&&e[0]>1?[e[0],1]:null}function pye({x:e,filter:t,convInfo:n,backend:r,bias:a=null,preluActivationWeights:i=null,leakyreluAlpha:s=0,activation:o=null}){const l=e.shape,c=r.texData.get(e.dataId),u=n.inChannels,h=l[0]*l[1]*l[2],d=n.outChannels,p="channelsLast"===n.dataFormat,f=!1;let m;const g=[];if(null!=i){const e=dye(i.shape,p);null!=e&&(i=jme({inputs:{x:i},backend:r,attrs:{shape:e}}),g.push(i))}if(null!=a){const e=dye(a.shape,p);null!=e&&(a=jme({inputs:{x:a},backend:r,attrs:{shape:e}}),g.push(a))}if(!((1===h||1===d)&&u>1e3)&&c.isPacked&&p&&null!=c.texture&&l[2]%2!=0&&tX(c.shape.slice(-3),l.slice(-3))){const u=l[0]*l[1]*(l[2]+1),h={dataId:e.dataId,shape:[1,u,n.inChannels],dtype:e.dtype},d=c.shape;c.shape=c.shape.slice(),c.shape[c.shape.length-2]++,Yq(Ude(c.shape,h.shape),()=>`packed reshape ${c.shape} to ${h.shape} isn't free`);const p=jme({inputs:{x:t},backend:r,attrs:{shape:[1,n.inChannels,n.outChannels]}});g.push(p);const y=zme({a:h,b:p,backend:r,transposeA:false,transposeB:f,bias:a,activation:o,preluActivationWeights:i,leakyreluAlpha:s}),x=r.texData.get(y.dataId);Yq(x.isPacked,()=>"batchMatMul result is expected to be packed"),c.shape=d,x.shape=n.outShape,m=ome({inputs:{x:y},backend:r}),m.shape=n.outShape,g.push(y)}else{const l=n.outHeight*n.outWidth,c=jme({inputs:{x:e},backend:r,attrs:{shape:p?[n.batchSize,l,n.inChannels]:[n.batchSize,n.inChannels,l]}}),u=jme({inputs:{x:t},backend:r,attrs:{shape:[1,n.inChannels,n.outChannels]}}),h=zme({a:p?c:u,b:p?u:c,transposeA:!p,transposeB:f,backend:r,bias:a,activation:o,preluActivationWeights:i,leakyreluAlpha:s});m=jme({inputs:{x:h},backend:r,attrs:{shape:n.outShape}}),g.push(c),g.push(u),g.push(h)}for(const y of g)r.disposeIntermediateTensorInfo(y);return m}function fye({x:e,filter:t,convInfo:n,backend:r,bias:a=null,preluActivationWeights:i=null,leakyreluAlpha:s=0,activation:o=null}){const{filterWidth:l,filterHeight:c,inChannels:u,outWidth:h,outHeight:d,dataFormat:p}=n,f="channelsLast"===p,m=l*c*u,g=d*h,y=[n.batchSize,m,g],x=[];if(null!=i){const e=dye(i.shape,f);null!=e&&(i=jme({inputs:{x:i},backend:r,attrs:{shape:e}}),x.push(i))}if(null!=a){const e=dye(a.shape,f);null!=e&&(a=jme({inputs:{x:a},backend:r,attrs:{shape:e}}),x.push(a))}const b=jme({inputs:{x:t},backend:r,attrs:{shape:[1,m,eX(t.shape)/m]}});x.push(b);const v=new hye(y,n),w=[e.shape,[n.padInfo.top,n.padInfo.left],[n.strideHeight,n.strideWidth],[n.dilationHeight,n.dilationWidth],[n.inChannels],[n.filterWidth*n.inChannels],[n.outWidth]],k=r.runWebGLProgram(v,[e],"float32",w),S=jme({inputs:{x:k},backend:r,attrs:{shape:y}});x.push(k),x.push(S);const N=null!=a,E=null!=i,A="leakyrelu"===o,C=o?vme(o,!0):null,j=new wme(f?S.shape:b.shape,f?b.shape:S.shape,f?[n.batchSize,g,n.outChannels]:[n.batchSize,n.outChannels,g],!0,!1,N,C,E,A),M=f?[S,b]:[b,S];if(a&&M.push(a),E&&M.push(i),A){const e=r.makeTensorInfo([],"float32",x0(s,"float32"));M.push(e),x.push(e)}const T=r.runWebGLProgram(j,M,"float32"),I=jme({inputs:{x:T},backend:r,attrs:{shape:n.outShape}});x.push(T);for(const O of x)r.disposeIntermediateTensorInfo(O);return I}const mye={kernelName:hY,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a,filter:i}=t,{strides:s,pad:o,dataFormat:l,dilations:c,dimRoundingMode:u}=r,h=U2(l),d=R2(a.shape,i.shape,s,c,o,u,!1,h);let p;if(1!==d.filterHeight||1!==d.filterWidth||1!==d.dilationHeight||1!==d.dilationWidth||1!==d.strideHeight||1!==d.strideWidth||"SAME"!==d.padInfo.type&&"VALID"!==d.padInfo.type)if(d.strideWidth<=2&&"channelsLast"===h&&IX().getBool("WEBGL_EXP_CONV")){const e=new uye(d),t=[[d.padInfo.top,d.padInfo.left],[d.strideHeight,d.strideWidth],[d.dilationHeight,d.dilationWidth],[d.inHeight,d.inWidth]];p=n.runWebGLProgram(e,[a,i],"float32",t)}else if(IX().getBool("WEBGL_CONV_IM2COL"))p=fye({x:a,filter:i,convInfo:d,backend:n});else{const e=new lye(d);p=n.runWebGLProgram(e,[a,i],"float32")}else p=pye({x:a,filter:i,convInfo:d,backend:n});const f=jme({inputs:{x:p},backend:n,attrs:{shape:d.outShape}});return n.disposeIntermediateTensorInfo(p),f}};class gye{constructor(e){this.variableNames=["x","dy"],this.outputShape=e.filterShape;const t=e.strideHeight,n=e.strideWidth,r=e.padInfo.top,a=e.padInfo.left,i="channelsLast"===e.dataFormat;this.userCode=`\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int wR = coords.x;\n        int wC = coords.y;\n        int d1 = coords.z;\n        int d2 = coords.w;\n\n        // Convolve x(?, ?, d1) with dy(:, :, d2) to get dw(wR, wC, d1, d2).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n\n        for (int b = 0; b < ${e.batchSize}; b++) {\n          for (int yR = 0; yR < ${e.outHeight}; yR++) {\n            int xR = wR + yR * ${t} - ${r};\n\n            if (xR < 0 || xR >= ${e.inHeight}) {\n              continue;\n            }\n\n            for (int yC = 0; yC < ${e.outWidth}; yC++) {\n              int xC = wC + yC * ${n} - ${a};\n\n              if (xC < 0 || xC >= ${e.inWidth}) {\n                continue;\n              }\n\n              ${i?"float dyValue = getDy(b, yR, yC, d2);\n              float xValue = getX(b, xR, xC, d1);\n              dotProd += (xValue * dyValue);":"float dyValue = getDy(b, d2, yR, yC);\n              float xValue = getX(b, d1, xR, xC);\n              dotProd += (xValue * dyValue);"}\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    `}}class yye{constructor(e){this.variableNames=["dy","W"],this.outputShape=e.inShape;const t=e.filterHeight,n=e.filterWidth,r=e.strideHeight,a=e.strideWidth,i="channelsLast"===e.dataFormat,s=t-1-e.padInfo.top,o=n-1-e.padInfo.left,l=i?1:2,c=i?2:3,u=i?3:1;this.userCode=`\n      const ivec2 pads = ivec2(${s}, ${o});\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d1 = coords[${u}];\n\n        ivec2 dyCorner = ivec2(coords[${l}], coords[${c}]) - pads;\n        int dyRCorner = dyCorner.x;\n        int dyCCorner = dyCorner.y;\n\n        // Convolve dy(?, ?, d2) with w(:, :, d1, d2) to compute dx(xR, xC, d1).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < ${t}; wR++) {\n          float dyR = float(dyRCorner + wR) / ${r}.0;\n\n          if (dyR < 0.0 || dyR >= ${e.outHeight}.0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          int wRPerm = ${t} - 1 - wR;\n\n          for (int wC = 0; wC < ${n}; wC++) {\n            float dyC = float(dyCCorner + wC) / ${a}.0;\n\n            if (dyC < 0.0 || dyC >= ${e.outWidth}.0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            int wCPerm = ${n} - 1 - wC;\n\n            for (int d2 = 0; d2 < ${e.outChannels}; d2++) {\n\n              if (${i}) {\n                float xValue = getDy(batch, idyR, idyC, d2);\n                float wValue = getW(wRPerm, wCPerm, d1, d2);\n                dotProd += xValue * wValue;\n              } else {\n                float xValue = getDy(batch, d2, idyR, idyC);\n                float wValue = getW(wRPerm, wCPerm, d1, d2);\n                dotProd += xValue * wValue;\n              }\n\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    `}}class xye{constructor(e){this.variableNames=["x","dy"],this.outputShape=e.filterShape;const t=e.strideDepth,n=e.strideHeight,r=e.strideWidth,a=e.padInfo.front,i=e.padInfo.top,s=e.padInfo.left;this.userCode=`\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int wF = coords.x;\n        int wR = coords.y;\n        int wC = coords.z;\n        int d1 = coords.w;\n        int d2 = coords.u;\n\n        float dotProd = 0.0;\n\n        for (int b = 0; b < ${e.batchSize}; b++) {\n          for (int yF = 0; yF < ${e.outDepth}; yF++) {\n            int xF = wF + yF * ${t} - ${a};\n\n            if (xF < 0 || xF >= ${e.inDepth}) {\n              continue;\n            }\n\n            for (int yR = 0; yR < ${e.outHeight}; yR++) {\n              int xR = wR + yR * ${n} - ${i};\n\n              if (xR < 0 || xR >= ${e.inHeight}) {\n                continue;\n              }\n\n              for (int yC = 0; yC < ${e.outWidth}; yC++) {\n                int xC = wC + yC * ${r} - ${s};\n\n                if (xC < 0 || xC >= ${e.inWidth}) {\n                  continue;\n                }\n\n                float dyValue = getDy(b, yF, yR, yC, d2);\n                float xValue = getX(b, xF, xR, xC, d1);\n                dotProd += (xValue * dyValue);\n              }\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    `}}class bye{constructor(e){this.variableNames=["dy","W"],this.outputShape=e.inShape;const t=e.filterDepth,n=e.filterHeight,r=e.filterWidth,a=e.strideDepth,i=e.strideHeight,s=e.strideWidth,o=t-1-e.padInfo.front,l=n-1-e.padInfo.top,c=r-1-e.padInfo.left;this.userCode=`\n      const ivec3 pads = ivec3(${o}, ${l}, ${c});\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int d1 = coords.u;\n\n\n        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;\n        int dyFCorner = dyCorner.x;\n        int dyRCorner = dyCorner.y;\n        int dyCCorner = dyCorner.z;\n\n        float dotProd = 0.0;\n        for (int wF = 0; wF < ${t}; wF++) {\n          float dyF = float(dyFCorner + wF) / ${a}.0;\n\n          if (dyF < 0.0 || dyF >= ${e.outDepth}.0 || fract(dyF) > 0.0) {\n            continue;\n          }\n          int idyF = int(dyF);\n\n          int wFPerm = ${t} - 1 - wF;\n\n          for (int wR = 0; wR < ${n}; wR++) {\n            float dyR = float(dyRCorner + wR) / ${i}.0;\n\n            if (dyR < 0.0 || dyR >= ${e.outHeight}.0 ||\n              fract(dyR) > 0.0) {\n              continue;\n            }\n            int idyR = int(dyR);\n\n            int wRPerm = ${n} - 1 - wR;\n\n            for (int wC = 0; wC < ${r}; wC++) {\n              float dyC = float(dyCCorner + wC) / ${s}.0;\n\n              if (dyC < 0.0 || dyC >= ${e.outWidth}.0 ||\n                  fract(dyC) > 0.0) {\n                continue;\n              }\n              int idyC = int(dyC);\n\n              int wCPerm = ${r} - 1 - wC;\n\n              for (int d2 = 0; d2 < ${e.outChannels}; d2++) {\n                float xValue = getDy(batch, idyF, idyR, idyC, d2);\n                float wValue = getW(wFPerm, wRPerm, wCPerm, d1, d2);\n                dotProd += xValue * wValue;\n              }\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    `}}const vye={kernelName:dY,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a,dy:i}=t,{strides:s,pad:o,dataFormat:l,dimRoundingMode:c,filterShape:u}=r,h=U2(l),d=R2(a.shape,u,s,1,o,c,!1,h),p=new gye(d);return n.runWebGLProgram(p,[a,i],"float32")}};class wye{constructor(e){this.variableNames=["dy","W"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"strides",type:"vec2"}],this.outputShape=e.inShape,this.enableShapeUniforms=Spe(this.outputShape.length);const t=e.filterHeight,n=e.filterWidth,r=t-1-e.padInfo.top,a=n-1-e.padInfo.left;this.userCode=`\n      const ivec2 pads = ivec2(${r}, ${a});\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d1 = coords[3];\n\n        ivec2 dyCorner = ivec2(coords[1], coords[2]) - pads;\n        int dyRCorner = dyCorner.x;\n        int dyCCorner = dyCorner.y;\n\n        vec4 result = vec4(0.);\n        for (int wR = 0; wR < ${t}; wR++) {\n          float dyR = float(dyRCorner + wR) / strides[0];\n          if (dyR < 0.0 || dyR >= ${e.outHeight}.0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n          int wRPerm = ${t} - 1 - wR;\n\n          for (int wC = 0; wC < ${n}; wC++) {\n            int wCPerm = ${n} - 1 - wC;\n\n            float dyC = float(dyCCorner + wC) / strides[1];\n            bool idyCVal = (dyC >= 0.0) && (dyC < ${e.outWidth}.0)\n              && (fract(dyC) == 0.0);\n            int idyC = int(dyC);\n\n            float dyC2 = float(dyCCorner + wC + 1) / strides[1];\n            bool idyCVal2 = (dyC2 >= 0.0) && (dyC2 < ${e.outWidth}.0)\n              && (fract(dyC2) == 0.0);\n            int idyC2 = int(dyC2);\n\n            if (idyCVal && idyCVal2) {\n              for (int d2 = 0; d2 < ${e.outChannels}; d2 += 2) {\n                vec4 wValue = getW(wRPerm, wCPerm, d1, d2);\n                vec4 dySample = getDy(batch, idyR, idyC, d2);\n                vec4 dySample2 = (idyC / 2 == idyC2 / 2) ?\n                  dySample : getDy(batch, idyR, idyC2, d2);\n\n                vec2 dyValue = mod(float(idyC), 2.) == 0. ?\n                  dySample.xy : dySample.zw;\n                result.xy += vec2(dot(dyValue, wValue.xy),\n                  dot(dyValue, wValue.zw));\n\n                dyValue = mod(float(idyC2), 2.) == 0. ?\n                  dySample2.xy : dySample2.zw;\n                result.zw += vec2(dot(dyValue, wValue.xy),\n                  dot(dyValue, wValue.zw));\n              }\n            } else if (idyCVal) {\n              for (int d2 = 0; d2 < ${e.outChannels}; d2 += 2) {\n                vec4 wValue = getW(wRPerm, wCPerm, d1, d2);\n                vec4 dySample = getDy(batch, idyR, idyC, d2);\n                vec2 dyValue = mod(float(idyC), 2.) == 0. ?\n                  dySample.xy : dySample.zw;\n                result.xy += vec2(dot(dyValue, wValue.xy),\n                  dot(dyValue, wValue.zw));\n              }\n            } else if (idyCVal2) {\n              for (int d2 = 0; d2 < ${e.outChannels}; d2 += 2) {\n                vec4 wValue = getW(wRPerm, wCPerm, d1, d2);\n                vec4 dySample = getDy(batch, idyR, idyC2, d2);\n                vec2 dyValue = mod(float(idyC2), 2.) == 0. ?\n                  dySample.xy : dySample.zw;\n                result.zw += vec2(dot(dyValue, wValue.xy),\n                  dot(dyValue, wValue.zw));\n              }\n            }\n          }\n        }\n        setOutput(result);\n      }\n    `}}const kye={kernelName:pY,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{dy:a,filter:i}=t,{inputShape:s,strides:o,pad:l,dataFormat:c,dimRoundingMode:u}=r,h=U2(c),d=R2(s,i.shape,o,1,l,u,!1,h);if(IX().getBool("WEBGL_PACK_CONV2DTRANSPOSE")&&"channelsLast"===h){const e=[[d.strideHeight,d.strideWidth]],t=new wye(d);return n.runWebGLProgram(t,[a,i],"float32",e)}{const e=new yye(d);return n.runWebGLProgram(e,[a,i],"float32")}}};const Sye={kernelName:fY,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a,filter:i}=t,{strides:s,pad:o,dilations:l}=r,c=_2(a.shape,i.shape,s,l,o),u=new cye(c);return n.runWebGLProgram(u,[a,i],"float32")}};const Nye={kernelName:mY,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a,dy:i}=t,{strides:s,pad:o,filterShape:l}=r,c=_2(a.shape,l,s,1,o),u=new xye(c);return n.runWebGLProgram(u,[a,i],"float32")}};const Eye={kernelName:gY,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{dy:a,filter:i}=t,{pad:s,strides:o,inputShape:l}=r,c=_2(l,i.shape,o,1,s),u=new bye(c);return n.runWebGLProgram(u,[a,i],"float32")}},Aye=xme({opSnippet:yme+"\n  return cos(x);\n",packedOpSnippet:`\n  vec4 result = cos(x);\n  bvec4 isNaN = isnan(x);\n  ${ime}\n  return result;\n`}),Cye={kernelName:yY,backendName:"webgl",kernelFunc:Aye},jye=xme({opSnippet:"\n  float e2x = exp(-x);\n  return (e2x + 1.0 / e2x) / 2.0;\n"}),Mye={kernelName:xY,backendName:"webgl",kernelFunc:jye};class Tye{constructor(e,t,n,r,a){this.variableNames=["Image","Boxes","BoxInd"],this.outputShape=[];const[i,s,o,l]=e,[c]=t,[u,h]=n;this.outputShape=[c,u,h,l];const d="bilinear"===r?1:0,[p,f]=[s-1+".0",o-1+".0"],[m,g,y]=u>1?[""+(s-1)/(u-1),"(y2-y1) * height_ratio",`y1*${p} + float(y)*(height_scale)`]:["0.0","0.0",`0.5 * (y1+y2) * ${p}`],[x,b,v]=h>1?[""+(o-1)/(h-1),"(x2-x1) * width_ratio",`x1*${f} + float(x)*(width_scale)`]:["0.0","0.0",`0.5 * (x1+x2) * ${f}`];this.userCode=`\n      const float height_ratio = float(${m});\n      const float width_ratio = float(${x});\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int y = coords[1];\n        int x = coords[2];\n        int d = coords[3];\n\n        // get box vals\n        float y1 = getBoxes(b,0);\n        float x1 = getBoxes(b,1);\n        float y2 = getBoxes(b,2);\n        float x2 = getBoxes(b,3);\n\n        // get image in batch index\n        int bInd = round(getBoxInd(b));\n        if(bInd < 0 || bInd >= ${i}) {\n          return;\n        }\n\n        float height_scale = ${g};\n        float width_scale = ${b};\n\n        float in_y = ${y};\n        if( in_y < 0.0 || in_y > ${p} ) {\n          setOutput(float(${a}));\n          return;\n        }\n        float in_x = ${v};\n        if( in_x < 0.0 || in_x > ${f} ) {\n          setOutput(float(${a}));\n          return;\n        }\n\n        vec2 sourceFracIndexCR = vec2(in_x,in_y);\n        if(${d} == 1) {\n          // Compute the four integer indices.\n          ivec2 sourceFloorCR = ivec2(sourceFracIndexCR);\n          ivec2 sourceCeilCR = ivec2(ceil(sourceFracIndexCR));\n\n          float topLeft = getImage(b, sourceFloorCR.y, sourceFloorCR.x, d);\n          float bottomLeft = getImage(b, sourceCeilCR.y, sourceFloorCR.x, d);\n          float topRight = getImage(b, sourceFloorCR.y, sourceCeilCR.x, d);\n          float bottomRight = getImage(b, sourceCeilCR.y, sourceCeilCR.x, d);\n\n          vec2 fracCR = sourceFracIndexCR - vec2(sourceFloorCR);\n\n          float top = topLeft + (topRight - topLeft) * fracCR.x;\n          float bottom = bottomLeft + (bottomRight - bottomLeft) * fracCR.x;\n          float newValue = top + (bottom - top) * fracCR.y;\n          setOutput(newValue);\n        } else {\n          // Compute the coordinators of nearest neighbor point.\n          ivec2 sourceNearestCR = ivec2(floor(\n            sourceFracIndexCR + vec2(0.5,0.5)));\n          float newValue = getImage(b, sourceNearestCR.y, sourceNearestCR.x, d);\n          setOutput(newValue);\n        }\n      }\n    `}}const Iye={kernelName:wY,backendName:"webgl",kernelFunc:e=>{const{inputs:t,backend:n,attrs:r}=e,{image:a,boxes:i,boxInd:s}=t,{cropSize:o,method:l,extrapolationValue:c}=r,u=new Tye(a.shape,i.shape,o,l,c);return n.runWebGLProgram(u,[a,i,s],"float32")}};var Oye,Pye;(Pye=Oye||(Oye={})).Prod="*",Pye.Sum="+";class Rye{constructor(e,t,n,r){this.op=e,this.outputShape=t,this.variableNames=["x"],this.customUniforms=[{name:"index",type:"float"}];const a=this.outputShape.length,i=this.op===Oye.Prod?"1.0":"0.0",s=n?i:`getX(${_ye(a,"coords",this.op)})`,o=this.outputShape[this.outputShape.length-1];let l="",c="";n?(l=r?"end != "+(o-1):"end != 0",c=r?"end + 1":"end - 1"):(l=r?`end + pow2 < ${o}`:"end >= pow2",c=r?"end + pow2":"end - pow2"),this.userCode=`\n      void main() {\n        ${gpe(a)} coords = getOutputCoords();\n        int end = ${Lye(a,"coords",this.op)};\n        float val = ${s};\n        int pow2 = int(pow(2.0, index));\n        if (${l}) {\n          int idx = ${c};\n          ${Lye(a,"coords",this.op)} = idx;\n          val ${this.op}= getX(${_ye(a,"coords",this.op)});\n        }\n        setOutput(val);\n      }\n    `}}function _ye(e,t,n){if(1===e)return`${t}`;if(2===e)return`${t}.x, ${t}.y`;if(3===e)return`${t}.x, ${t}.y, ${t}.z`;if(4===e)return`${t}.x, ${t}.y, ${t}.z, ${t}.w`;throw new Error(`Cumulative ${n} for rank ${e} is not yet supported`)}function Lye(e,t,n){if(1===e)return`${t}`;if(2===e)return`${t}.y`;if(3===e)return`${t}.z`;if(4===e)return`${t}.w`;throw new Error(`Cumulative ${n} for rank ${e} is not yet supported`)}function $ye(e,t,n,r,a,i){const s=t.shape.length,o=W4([r],s);let l=t;null!=o&&(l=Fme({inputs:{x:t},backend:n,attrs:{perm:o}}));const c=G4(1,s)[0];if(c!==s-1)throw new Error(`WebGL cumprod shader expects an inner-most axis=${t.shape.length-1} but got axis=${r}`);const u=l.shape[c];let h=ome({inputs:{x:l},backend:n});for(let d=0;d<=Math.ceil(Math.log2(u))-1;d++){const t=new Rye(e,l.shape,!1,i),r=[[d]],a=h;h=n.runWebGLProgram(t,[h],h.dtype,r),n.disposeIntermediateTensorInfo(a)}if(a){const t=new Rye(e,l.shape,a,i),r=h;h=n.runWebGLProgram(t,[h],h.dtype),n.disposeIntermediateTensorInfo(r)}if(null!=o){const e=Fme({inputs:{x:h},backend:n,attrs:{perm:Z4(o)}});return n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(l),e}return h}const Fye={kernelName:bY,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{axis:i,exclusive:s,reverse:o}=r;return $ye(Oye.Prod,a,n,i,s,o)}};const Dye={kernelName:vY,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{axis:i,exclusive:s,reverse:o}=r;return $ye(Oye.Sum,a,n,i,s,o)}};const zye={kernelName:kY,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a,weights:i}=t,{size:s,binaryOutput:o}=r;if(1===a.shape.length){const e=n.readSync(a.dataId),t=n.readSync(i.dataId),r=Hpe(e,t,i.dtype,i.shape,s);return n.makeTensorInfo([s],i.dtype,r)}if(2===a.shape.length){const e=n.bufferSync(a),t=n.bufferSync(i),r=Upe(e,t,s,o);return n.makeTensorInfo(r.shape,i.dtype,r.values)}throw new Error(`Error in denseBincount: input must be at most rank 2, but got rank${a.shape.length}.`)}};class Vye{constructor(e,t,n){this.variableNames=["x"],this.outputShape=[],this.outputShape=e,this.blockSize=t,this.dataFormat=n,this.userCode=`\n    void main() {\n      ivec4 coords = getOutputCoords();\n      int b = coords[0];\n      int h = ${this.getHeightCoordString()};\n      int w = ${this.getWidthCoordString()};\n      int d = ${this.getDepthCoordString()};\n\n      int in_h = h / ${t};\n      int offset_h = imod(h, ${t});\n      int in_w = w / ${t};\n      int offset_w = imod(w, ${t});\n      int offset_d = (offset_h * ${t} + offset_w) *\n        ${this.getOutputDepthSize()};\n      int in_d = d + offset_d;\n\n      float result = ${this.getInputSamplingString()};\n      setOutput(result);\n    }\n  `}getHeightCoordString(){return"NHWC"===this.dataFormat?"coords[1]":"coords[2]"}getWidthCoordString(){return"NHWC"===this.dataFormat?"coords[2]":"coords[3]"}getDepthCoordString(){return"NHWC"===this.dataFormat?"coords[3]":"coords[1]"}getOutputDepthSize(){return"NHWC"===this.dataFormat?this.outputShape[3]:this.outputShape[1]}getInputSamplingString(){return"NHWC"===this.dataFormat?"getX(b, in_h, in_w, in_d)":"getX(b, in_d, in_h, in_w)"}}const Bye={kernelName:SY,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{blockSize:i,dataFormat:s}=r,o=a.shape[0],l=("NHWC"===s?a.shape[1]:a.shape[2])*i,c=("NHWC"===s?a.shape[2]:a.shape[3])*i,u=("NHWC"===s?a.shape[3]:a.shape[1])/(i*i),h=new Vye("NHWC"===s?[o,l,c,u]:[o,u,l,c],i,s);return n.runWebGLProgram(h,[a],a.dtype)}};class Hye{constructor(e,t=!1,n=null,r=!1,a=!1){this.variableNames=["x","W"],this.customUniforms=[{name:"pads",type:"ivec2"},{name:"strides",type:"ivec2"},{name:"dilations",type:"ivec2"},{name:"inDims",type:"ivec2"}],this.outputShape=e.outShape,this.enableShapeUniforms=Spe(this.outputShape.length);const i=e.filterHeight,s=e.filterWidth,o=e.outChannels/e.inChannels;let l="",c="";n&&(l=r?`float activation(float a) {\n          float b = getPreluActivationWeightsAtOutCoords();\n          ${n}\n        }`:a?`float activation(float a) {\n          float b = getLeakyreluAlphaAtOutCoords();\n          ${n}\n        }`:`\n          float activation(float x) {\n            ${n}\n          }\n        `,c="result = activation(result);");const u=t?"result += getBiasAtOutCoords();":"";t&&this.variableNames.push("bias"),r&&this.variableNames.push("preluActivationWeights"),a&&this.variableNames.push("leakyreluAlpha"),this.userCode=`\n      ${l}\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords.x;\n        ivec2 xRCCorner = coords.yz * strides - pads;\n        int d2 = coords.w;\n        int d1 = d2 / ${o};\n        int q = d2 - d1 * ${o};\n\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        // Convolve x(?, ?, d1) with w(:, :, d1, q) to get y(yR, yC, d2).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        // TO DO(dsmilkov): Flatten the two for loops and vec4 the operations.\n        for (int wR = 0; wR < ${i}; wR++) {\n          int xR = xRCorner + wR * dilations[0];\n\n          if (xR < 0 || xR >= inDims[0]) {\n            continue;\n          }\n\n          for (int wC = 0; wC < ${s}; wC++) {\n            int xC = xCCorner + wC * dilations[1];\n\n            if (xC < 0 || xC >= inDims[1]) {\n              continue;\n            }\n\n            float xVal = getX(batch, xR, xC, d1);\n            float wVal = getW(wR, wC, d1, q);\n            dotProd += xVal * wVal;\n          }\n        }\n\n        float result = dotProd;\n        ${u}\n        ${c}\n        setOutput(result);\n      }\n    `}}class Uye{constructor(e,t=!1,n=null,r=!1,a=!1){this.variableNames=["x","W"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"pads",type:"ivec2"},{name:"strides",type:"ivec2"},{name:"dilations",type:"ivec2"},{name:"inDims",type:"ivec2"}],this.outputShape=e.outShape,this.enableShapeUniforms=Spe(this.outputShape.length);const i=e.outChannels/e.inChannels,s=e.padInfo.left,o=e.strideWidth,l=e.dilationWidth,c=e.filterHeight,u=e.filterWidth,h=u;let d="\n      int xR; int xC; int xCOffset;\n      vec4 wTexel; vec4 previous; vec4 final;";for(let g=0;g<u;g++)d+=`\n          vec4 xTexelC${2*g};\n          int xTexelC${2*g}Ready;\n          vec4 xTexelC${2*g+1};\n          int xTexelC${2*g+1}Ready;\n          vec4 xC${g};`;d+=`\n    for (int r = 0; r < ${c}; r++) {\n      `;for(let g=0;g<u;g++)d+=`\n          xTexelC${2*g} = vec4(0.0);\n          xTexelC${2*g}Ready = 0;\n          xTexelC${2*g+1} = vec4(0.0);\n          xTexelC${2*g+1}Ready = 0;\n          xC${g} = vec4(0.0);`;d+="\n        xR = xRCorner + r * dilations[0];\n        if (xR >=0 && xR < inDims[0]) {\n      ";for(let g=0;g<(h+1)/2;g++){const e=2*g;if(d+=`\n          xC = xCCorner + ${e*l};\n          `,1===o){if(e<u&&(s%2==1?(d+=`\n                xCOffset = xC + 1;\n                if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${e}Ready == 0) {\n                  xTexelC${e} = getX(batch, xR, xCOffset, d1);\n\n                  // Need to manually clear unused channels in case\n                  // we're reading from recycled texture.\n                  if (xCOffset + 1 >= inDims[1]) {\n                    xTexelC${e}.zw = vec2(0.0);\n                  }\n                  xTexelC${e}Ready = 1;\n                }\n              `,d+=1===l&&e>0?`\n                xC${e} = vec4(xTexelC${e-2}.zw, xTexelC${e}.xy);\n                `:`\n                  xCOffset = xC + 1 - 2;\n\n                  if (xCOffset >= 0 && xCOffset < inDims[1]) {\n                    previous = getX(batch, xR, xCOffset, d1);\n\n                    // Need to manually clear unused channels in case\n                    // we're reading from recycled texture.\n                    if (xCOffset + 1 >= inDims[1]) {\n                      previous.zw = vec2(0.0);\n                    }\n\n                    xC${e} = vec4(previous.zw, xTexelC${e}.xy);\n                  } else {\n                    xC${e} = vec4(0.0, 0.0, xTexelC${e}.xy);\n                  }\n                  `):d+=`\n                if (xC >= 0 && xC < inDims[1] && xTexelC${e}Ready == 0) {\n                  xTexelC${e} = getX(batch, xR, xC, d1);\n                  if (xC + 1 >= inDims[1]) {\n                    xTexelC${e}.zw = vec2(0.0);\n                  }\n                  xTexelC${e}Ready = 1;\n                }\n\n                xC${e} = xTexelC${e};\n                `,e+1<u)){const t=s%2==0?qq(l):l;l%2==0&&s%2==1||l%2!=0&&s%2!=1?(d+=`\n                  xCOffset = xC + imod(pads[1], 2) + ${t};\n\n                  if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${e+1}Ready == 0) {\n                    xTexelC${e+1} = getX(batch, xR, xCOffset, d1);\n\n                    // Need to manually clear unused channels in case\n                    // we're reading from recycled texture.\n                    if (xCOffset + 1 >= inDims[1]) {\n                      xTexelC${e+1}.zw = vec2(0.0);\n                    }\n                    xTexelC${e+1}Ready = 1;\n                  }\n                  `,d+=l>1?`\n                    xCOffset -= 2;\n                    if (xCOffset >= 0 && xCOffset < inDims[1]) {\n                     previous = getX(batch, xR, xCOffset, d1);\n                     xC${e+1} = vec4(previous.zw, xTexelC${e+1}.xy);\n                    } else {\n                     xC${e+1} = vec4(0.0, 0.0, xTexelC${e+1}.xy);\n                    }\n                    `:`\n                    xC${e+1} = vec4(xTexelC${e}.zw, xTexelC${e+1}.xy);\n                    `):d+=1===t?`\n                    xC${e+1} = xTexelC${e};\n                    `:`\n                    xCOffset = xC + ${t};\n\n                    if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${e+1}Ready == 0) {\n                      xTexelC${e+1} = getX(batch, xR, xCOffset, d1);\n                      if (xCOffset + 1 >= inDims[1]) {\n                        xTexelC${e+1}.zw = vec2(0.0);\n                      }\n                      xTexelC${e+1}Ready = 1;\n                    }\n\n                    xC${e+1} = xTexelC${e+1};\n                    `}}else e<u&&(s%2==1?(d+=`\n                xCOffset = xC + 1 - strides[1];\n                if(xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${e}Ready == 0) {\n                  xTexelC${e} = getX(batch, xR, xCOffset, d1);\n                  // Need to manually clear unused channels in case\n                  // we're reading from recycled texture.\n                  if (xCOffset + 1 >= inDims[1]) {\n                    xTexelC${e}.zw = vec2(0.0);\n                  }\n                  xTexelC${e}Ready = 1;\n                }\n\n                if(xC + 1 >= 0 && xC + 1 < inDims[1] && xTexelC${e+1}Ready == 0) {\n                  xTexelC${e+1} = getX(batch, xR, xC + 1, d1);\n                  // Need to manually clear unused channels in case\n                  // we're reading from recycled texture.\n                  if (xC + 2 >= inDims[1]) {\n                    xTexelC${e+1}.zw = vec2(0.0);\n                  }\n                  xTexelC${e+1}Ready = 1;\n                }\n\n                xC${e} = vec4(xTexelC${e}.zw, xTexelC${e+1}.zw);\n              `,e+1<u&&(d+=`\n                  final = vec4(0.0);\n                  xCOffset = xC + 1 + strides[1];\n                  if(xCOffset >= 0 && xCOffset < inDims[1]) {\n                    final = getX(batch, xR, xCOffset, d1);\n                  }\n                  xC${e+1} = vec4(xTexelC${e+1}.xy, final.xy);\n                `)):(d+=`\n                if(xC >= 0 && xC < inDims[1] && xTexelC${e}Ready == 0) {\n                  xTexelC${e} = getX(batch, xR, xC, d1);\n                  if (xC + 1 >= inDims[1]) {\n                    xTexelC${e}.zw = vec2(0.0);\n                  }\n                  xTexelC${e}Ready = 1;\n                }\n\n                xCOffset = xC + strides[1];\n                if(xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${e+1}Ready == 0) {\n                  xTexelC${e+1} = getX(batch, xR, xCOffset, d1);\n                  if (xCOffset + 1 >= inDims[1]) {\n                    xTexelC${e+1}.zw = vec2(0.);\n                  }\n                  xTexelC${e+1}Ready = 1;\n                }\n\n                xC${e} = vec4(\n                  xTexelC${e}.xy, xTexelC${e+1}.xy);\n              `,e+1<u&&(d+=`\n                  xC${e+1} = vec4(xTexelC${e}.zw, xTexelC${e+1}.zw);\n                `)));e<u&&(d+=`\n            wTexel = getW(r, ${e}, d1, q);\n            dotProd += xC${e} * vec4(wTexel.xz, wTexel.xz);\n          `,e+1<u&&(d+=`\n              wTexel = getW(r, ${e+1}, d1, q);\n              dotProd += xC${e+1} * vec4(wTexel.xz, wTexel.xz);\n            `))}d+="\n    }\n  ",d+="\n      }\n    ";let p="",f="";n&&(p=r?`vec4 activation(vec4 a) {\n          vec4 b = getPreluActivationWeightsAtOutCoords();\n          ${n}\n        }`:a?`vec4 activation(vec4 a) {\n          vec4 b = getLeakyreluAlphaAtOutCoords();\n          ${n}\n        }`:`vec4 activation(vec4 x) {\n          ${n}\n        }`,f="result = activation(result);");const m=t?"result += getBiasAtOutCoords();":"";t&&this.variableNames.push("bias"),r&&this.variableNames.push("preluActivationWeights"),a&&this.variableNames.push("leakyreluAlpha"),this.userCode=`\n      ${p}\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords.x;\n        ivec2 xRCCorner = coords.yz * strides - pads;\n        int d2 = coords.w;\n        int d1 = d2 / ${i};\n        int q = d2 - d1 * ${i};\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        //intialize dotProd with a small epsilon seems to reduce GPU accuracy loss.\n        vec4 dotProd = vec4(0.000000000000001);\n\n        ${d}\n\n        vec4 result = dotProd - vec4(0.000000000000001);\n        ${m}\n        ${f}\n        setOutput(result);\n      }\n    `}}const Wye={kernelName:NY,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a,filter:i}=t,{strides:s,pad:o,dilations:l,dimRoundingMode:c}=r;let u=l;null==u&&(u=[1,1]),Yq(B2(s,u),()=>`Error in depthwiseConv2d: Either strides or dilations must be 1. Got strides ${s} and dilations '${u}'`);const h=R2(a.shape,i.shape,s,u,o,c,!0);let d;d=IX().getBool("WEBGL_PACK_DEPTHWISECONV")&&h.strideWidth<=2&&h.outChannels/h.inChannels===1?new Uye(h):new Hye(h);const p=[[h.padInfo.top,h.padInfo.left],[h.strideHeight,h.strideWidth],[h.dilationHeight,h.dilationWidth],[h.inHeight,h.inWidth]];return n.runWebGLProgram(d,[a,i],"float32",p)}};class Zye{constructor(e){this.variableNames=["x","dy"],this.outputShape=e.filterShape;const t=e.strideHeight,n=e.strideWidth,r=e.padInfo.top,a=e.padInfo.left,i=e.outChannels/e.inChannels;this.userCode=`\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int wR = coords.x;\n        int wC = coords.y;\n        int d1 = coords.z;\n        int dm = coords.w;\n        int d2 = d1 * ${i} + dm;\n\n        float dotProd = 0.0;\n\n        // TO DO: Vec4 over the batch size\n        for (int b = 0; b < ${e.batchSize}; b++) {\n          for (int yR = 0; yR < ${e.outHeight}; yR++) {\n            int xR = wR + yR * ${t} - ${r};\n\n            if (xR < 0 || xR >= ${e.inHeight}) {\n              continue;\n            }\n\n            for (int yC = 0; yC < ${e.outWidth}; yC++) {\n              int xC = wC + yC * ${n} - ${a};\n\n              if (xC < 0 || xC >= ${e.inWidth}) {\n                continue;\n              }\n\n              float dyValue = getDy(b, yR, yC, d2);\n              float xValue = getX(b, xR, xC, d1);\n              dotProd += (xValue * dyValue);\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    `}}class Gye{constructor(e){this.variableNames=["dy","W"],this.outputShape=e.inShape;const t=e.filterHeight,n=e.filterWidth,r=e.strideHeight,a=e.strideWidth,i=t-1-e.padInfo.top,s=n-1-e.padInfo.left,o=e.outChannels/e.inChannels;this.userCode=`\n      const ivec2 pads = ivec2(${i}, ${s});\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d1 = coords[3];\n        ivec2 dyCorner = coords.yz - pads;\n        int dyRCorner = dyCorner.x;\n        int dyCCorner = dyCorner.y;\n\n        float dotProd = 0.0;\n\n        for (int wR = 0; wR < ${t}; wR++) {\n          float dyR = float(dyRCorner + wR) / ${r}.0;\n\n          if (dyR < 0.0 || dyR >= ${e.outHeight}.0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          int wRPerm = ${t} - 1 - wR;\n\n          for (int wC = 0; wC < ${n}; wC++) {\n            float dyC = float(dyCCorner + wC) / ${a}.0;\n\n            if (dyC < 0.0 || dyC >= ${e.outWidth}.0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            int wCPerm = ${n} - 1 - wC;\n\n            // TO DO: Vec4 over the channelMul\n            for (int dm = 0; dm < ${o}; dm++) {\n              int d2 = d1 * ${o} + dm;\n              float xValue = getDy(batch, idyR, idyC, d2);\n              float wValue = getW(wRPerm, wCPerm, d1, dm);\n              dotProd += xValue * wValue;\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    `}}const Kye={kernelName:EY,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a,dy:i}=t,{strides:s,dilations:o,pad:l,dimRoundingMode:c,filterShape:u}=r,h=R2(a.shape,u,s,o,l,c,!0),d=new Zye(h);return n.runWebGLProgram(d,[a,i],"float32")}};const qye={kernelName:AY,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{dy:a,filter:i}=t,{strides:s,dilations:o,pad:l,dimRoundingMode:c,inputShape:u}=r,h=R2(u,i.shape,s,o,l,c,!0),d=new Gye(h);return n.runWebGLProgram(d,[a,i],"float32")}};class Xye{constructor(e){this.variableNames=["X"],this.outputShape=[e,e],this.userCode="\n      void main() {\n          ivec2 coords = getOutputCoords();\n          float val = coords[0] == coords[1] ? getX(coords[0]) : 0.0;\n          setOutput(val);\n      }\n    "}}const Yye={kernelName:CY,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{x:r}=t,a=[...r.shape,...r.shape],i=eX(r.shape),s=jme({inputs:{x:r},backend:n,attrs:{shape:[i]}}),o=new Xye(i),l=n.runWebGLProgram(o,[s],s.dtype),c=jme({inputs:{x:l},backend:n,attrs:{shape:a}});return n.disposeIntermediateTensorInfo(s),n.disposeIntermediateTensorInfo(l),c}};class Qye{constructor(e){this.variableNames=["x","W"],this.outputShape=e.outShape;const{inHeight:t,inWidth:n,padInfo:r,strideHeight:a,strideWidth:i,filterHeight:s,filterWidth:o,dilationHeight:l,dilationWidth:c}=e,{top:u,left:h}=r;this.userCode=`\n      const ivec2 strides = ivec2(${a}, ${i});\n      const ivec2 pads = ivec2(${u}, ${h});\n      const float neg_infinity = -3.4e38;\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords.x;\n        int d1 = coords.w;\n        ivec2 outTopLeftCorner =\n            coords.yz * strides - pads;\n        int hBeg = outTopLeftCorner.x;\n        int wBeg = outTopLeftCorner.y;\n\n        float curVal = neg_infinity;\n        for (int h = 0; h < ${s}; h++) {\n          int hIn = hBeg + h * ${l};\n\n          if (hIn >= 0 && hIn < ${t}) {\n            for (int w = 0; w < ${o}; w++) {\n              int wIn = wBeg + w * ${c};\n\n              if (wIn >= 0 && wIn < ${n}) {\n                float xVal = getX(batch, hIn, wIn, d1);\n                float wVal = getW(h, w, d1);\n\n                float val = xVal + wVal;\n                if (val > curVal) {\n                  curVal = val;\n                }\n              }\n            }\n          }\n        }\n\n        float result = curVal;\n        setOutput(result);\n      }\n    `}}const Jye={kernelName:jY,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a,filter:i}=t,{strides:s,pad:o,dilations:l}=r,c=I2(a.shape,i.shape,s,o,"NHWC",l);let u;const h=new Qye(c);u=n.runWebGLProgram(h,[a,i],"float32");const d=jme({inputs:{x:u},backend:n,attrs:{shape:c.outShape}});return n.disposeIntermediateTensorInfo(u),d}};const exe={kernelName:OY,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{equation:a}=r,i=t,{allDims:s,summedDims:o,idDims:l}=c9(a,i.length);h9(s.length,l,i);const{path:c,steps:u}=d9(o,l),h=u.length;let d=null,p=s.length;const f=[];for(let m=0;m<h;++m){for(const e of u[m]){const{permutationIndices:t,expandDims:r}=u9(p,l[e]);let a;p9(t)?a=i[e]:(a=Fme({inputs:{x:i[e]},backend:n,attrs:{perm:t}}),f.push(a));const s=a.shape.slice();for(let e=0;e<r.length;++e)s.splice(r[e],0,1);tX(a.shape,s)||(a=jme({inputs:{x:a},backend:n,attrs:{shape:s}}),f.push(a)),null===d?d=a:(d=Ame({inputs:{a:a,b:d},backend:n}),f.push(d))}m<h-1&&(c[m]>=0&&(d=Lme({inputs:{x:d},backend:n,attrs:{axis:c[m]-(s.length-p),keepDims:!1}}),f.push(d)),p--)}for(const m of f)m!==d&&n.disposeIntermediateTensorInfo(m);return d}},txe=xme({opSnippet:"return (x >= 0.0) ? x : (exp(x) - 1.0);",packedOpSnippet:"\n  vec4 result;\n\n  result.r = (x.r >= 0.0) ? x.r : (exp(x.r) - 1.0);\n  result.g = (x.g >= 0.0) ? x.g : (exp(x.g) - 1.0);\n  result.b = (x.b >= 0.0) ? x.b : (exp(x.b) - 1.0);\n  result.a = (x.a >= 0.0) ? x.a : (exp(x.a) - 1.0);\n\n  return result;\n"}),nxe={kernelName:PY,backendName:"webgl",kernelFunc:txe},rxe={kernelName:RY,backendName:"webgl",kernelFunc:e=>{const{inputs:t,backend:n}=e,{dy:r,y:a}=t,i=IX().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new sme("\n  vec4 bGTEZero = vec4(greaterThanEqual(b, vec4(0.)));\n  return (bGTEZero * a) + ((vec4(1.0) - bGTEZero) * (a * (b + vec4(1.0))));\n",r.shape,a.shape):new ame("return (b >= 0.0) ? a : a * (b + 1.0);",r.shape,a.shape);return n.runWebGLProgram(i,[r,a],r.dtype)}},axe=bme({opSnippet:"return float(a == b);",packedOpSnippet:"\n  return vec4(equal(a, b));\n",dtype:"bool",cpuKernelImpl:qpe}),ixe={kernelName:LY,backendName:"webgl",kernelFunc:axe},sxe=xme({opSnippet:`\n  // Error function is calculated approximately with elementary function.\n  // See "Handbook of Mathematical Functions with Formulas,\n  // Graphs, and Mathematical Tables", Abramowitz and Stegun.\n  float p = ${G5};\n  float a1 = ${K5};\n  float a2 = ${q5};\n  float a3 = ${X5};\n  float a4 = ${Y5};\n  float a5 = ${Q5};\n\n  float sign = sign(x);\n  x = abs(x);\n  float t = 1.0 / (1.0 + p * x);\n  return sign * (1.0 - (((((a5*t + a4)*t) + a3)*t + a2)*t + a1)*t*exp(-x*x));\n`}),oxe={kernelName:_Y,backendName:"webgl",kernelFunc:sxe},lxe=xme({opSnippet:yme+"\n  return exp(x);\n",packedOpSnippet:"\n  vec4 result = exp(x);\n  bvec4 isNaN = isnan(x);\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n",cpuKernelImpl:Xpe,dtype:"float32"}),cxe={kernelName:$Y,backendName:"webgl",kernelFunc:lxe};function uxe(e){const{inputs:t,attrs:n,backend:r}=e,{dim:a}=n,{input:i}=t,s=i.shape.length,o=i.shape.slice();let l=a;return a<0&&(Yq(-(s+1)<=a,()=>`Axis must be in the interval [${-(s+1)}, ${s}]`),l=s+a+1),o.splice(l,0,1),jme({inputs:{x:i},backend:r,attrs:{shape:o}})}const hxe={kernelName:FY,backendName:"webgl",kernelFunc:uxe},dxe="return exp(x) - 1.0;",pxe=xme({opSnippet:dxe,packedOpSnippet:dxe,cpuKernelImpl:Ype}),fxe={kernelName:DY,backendName:"webgl",kernelFunc:pxe};class mxe{constructor(e,t,n){this.variableNames=["real","imag"];const r=t[1];this.outputShape=t;const a=n?`2.0 * ${Math.PI}`:`-2.0 * ${Math.PI}`,i=n?`${r}.0`:"1.0";let s;if("real"===e)s="return real * expR - imag * expI;";else{if("imag"!==e)throw new Error(`FFT component must be either "real" or "imag", got ${e}.`);s="return real * expI + imag * expR;"}this.userCode=`\n      const float exponentMultiplier = ${a};\n\n      float unaryOpComplex(float real, float expR, float imag, float expI) {\n        ${s}\n      }\n\n      float mulMatDFT(int batch, int index) {\n        float indexRatio = float(index) / float(${r});\n        float exponentMultiplierTimesIndexRatio =\n            exponentMultiplier * indexRatio;\n\n        float result = 0.0;\n\n        for (int i = 0; i < ${r}; i++) {\n          // x = (-2|2 * PI / N) * index * i;\n          float x = exponentMultiplierTimesIndexRatio * float(i);\n          float expR = cos(x);\n          float expI = sin(x);\n          float real = getReal(batch, i);\n          float imag = getImag(batch, i);\n\n          result +=\n              unaryOpComplex(real, expR, imag, expI) / ${i};\n        }\n\n        return result;\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        setOutput(mulMatDFT(coords[0], coords[1]));\n      }\n    `}}function gxe(e,t,n){const r=n.texData.get(e.dataId),a=eX(e.shape),i=e.shape[e.shape.length-1],s=jme({inputs:{x:e},backend:n,attrs:{shape:[a/i,i]}}),o=s.shape,l=new mxe("real",o,t),c=new mxe("imag",o,t),u=[{dataId:r.complexTensorInfos.real.dataId,dtype:r.complexTensorInfos.real.dtype,shape:o},{dataId:r.complexTensorInfos.imag.dataId,dtype:r.complexTensorInfos.imag.dtype,shape:o}],h=n.runWebGLProgram(l,u,"float32"),d=n.runWebGLProgram(c,u,"float32"),p=cme({inputs:{real:h,imag:d},backend:n});n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(d);const f=jme({inputs:{x:p},backend:n,attrs:{shape:e.shape}});return n.disposeIntermediateTensorInfo(s),n.disposeIntermediateTensorInfo(p),f}const yxe={kernelName:zY,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{input:r}=t;return gxe(r,!1,n)}};class xxe{constructor(e,t){this.outputShape=[],this.customUniforms=[{name:"value",type:"float"}],this.variableNames=["x"],this.outputShape=e,this.userCode="\n      void main() {\n        // Input can be obtained from uniform value.\n        setOutput(value);\n      }\n    "}}function bxe(e){const{backend:t,attrs:n}=e,{shape:r,value:a}=n;let{dtype:i}=n;if(i=i||mX(a),"string"===i){const e=uX(i,eX(r));return e.fill(a),t.makeTensorInfo(r,i,e)}{const e=new xxe(r,a),n=[[a]];return t.runWebGLProgram(e,[],i,n)}}const vxe={kernelName:VY,backendName:"webgl",kernelFunc:bxe};class wxe{constructor(e){this.variableNames=["Image"],this.outputShape=[];const t=e[2];this.outputShape=e,this.userCode=`\n        void main() {\n          ivec4 coords = getOutputCoords();\n          int x = coords[2];\n\n          int coordX = ${t} - x - 1;\n          float outputValue;\n          if(coordX >= 0 && coordX < ${t}) {\n            outputValue = getImage(coords[0], coords[1], coordX, coords[3]);\n          } else {\n            outputValue = getImage(coords[0], coords[1], coords[2], coords[3]);\n          }\n          setOutput(outputValue);\n        }\n    `}}const kxe={kernelName:BY,backendName:"webgl",kernelFunc:({inputs:e,backend:t})=>{const{image:n}=e,r=t,a=new wxe(n.shape);return r.runWebGLProgram(a,[n],n.dtype)}},Sxe="return floor(x);",Nxe=xme({opSnippet:Sxe,packedOpSnippet:Sxe,cpuKernelImpl:Qpe}),Exe={kernelName:HY,backendName:"webgl",kernelFunc:Nxe},Axe=bme({opSnippet:"\n  float s = sign(a) * sign(b);\n  int ia = round(a);\n  int ib = round(b);\n  if (ib != 0) {\n    // Windows (D3D) wants guaranteed non-zero int division at compile-time.\n    return float(idiv(ia, ib, s));\n  } else {\n    return NAN;\n  }\n",packedOpSnippet:"\n  ivec4 ia = round(a);\n  ivec4 ib = round(b);\n  bvec4 cond = notEqual(ib, ivec4(0));\n  ivec4 result = ivec4(0);\n  vec4 s = sign(a) * sign(b);\n\n  // Windows (D3D) wants guaranteed non-zero int division at compile-time.\n  if (cond[0]) {\n    result[0] = idiv(ia[0], ib[0], s[0]);\n  }\n  if (cond[1]) {\n    result[1] = idiv(ia[1], ib[1], s[1]);\n  }\n  if (cond[2]) {\n    result[2] = idiv(ia[2], ib[2], s[2]);\n  }\n  if (cond[3]) {\n    result[3] = idiv(ia[3], ib[3], s[3]);\n  }\n  return vec4(result);\n",dtype:"int32"}),Cxe={kernelName:UY,backendName:"webgl",kernelFunc:Axe};class jxe{constructor(e){this.variableNames=["A"];const t=Jde(),[n,r]=e;this.outputShape=e,this.userCode=`\n      void main() {\n        ivec3 coords = getOutputCoords();\n        int texR = coords[0];\n        int texC = coords[1];\n        int depth = coords[2];\n        vec2 uv = (vec2(texC, texR) + halfCR) / vec2(${r}.0, ${n}.0);\n\n        vec4 values = ${t.texture2D}(A, uv);\n        float value;\n        if (depth == 0) {\n          value = values.r;\n        } else if (depth == 1) {\n          value = values.g;\n        } else if (depth == 2) {\n          value = values.b;\n        } else if (depth == 3) {\n          value = values.a;\n        }\n\n        setOutput(floor(value * 255.0 + 0.5));\n      }\n    `}}class Mxe{constructor(e){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0;const t=Jde(),[n,r]=e;this.outputShape=e,this.userCode=`\n      void main() {\n        ivec3 coords = getOutputCoords();\n        int texR = coords[0];\n        int texC = coords[1];\n        int depth = coords[2];\n\n        vec4 result = vec4(0.);\n\n        for(int row=0; row<=1; row++) {\n          for(int col=0; col<=1; col++) {\n            texC = coords[1] + row;\n            depth = coords[2] + col;\n\n            vec2 uv = (vec2(texC, texR) + halfCR) /\n                       vec2(${r}.0, ${n}.0);\n            vec4 values = ${t.texture2D}(A, uv);\n            float value;\n            if (depth == 0) {\n              value = values.r;\n            } else if (depth == 1) {\n              value = values.g;\n            } else if (depth == 2) {\n              value = values.b;\n            } else if (depth == 3) {\n              value = values.a;\n            }\n\n            result[row * 2 + col] = floor(value * 255.0 + 0.5);\n          }\n        }\n\n        ${t.output} = result;\n      }\n    `}}const Txe={kernelName:"FromPixels",backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e;let{pixels:a}=t;const{numChannels:i}=r,s="undefined"!=typeof HTMLVideoElement&&a instanceof HTMLVideoElement,o="undefined"!=typeof HTMLImageElement&&a instanceof HTMLImageElement,[l,c]=s?[a.videoWidth,a.videoHeight]:[a.width,a.height],u=[c,l],h=[c,l,i];if(o||s){const e=IX().getBool("CANVAS2D_WILL_READ_FREQUENTLY_FOR_GPU");null!=Ixe&&e===Oxe||(Oxe=e,Ixe=document.createElement("canvas").getContext("2d",{willReadFrequently:Oxe})),Ixe.canvas.width=l,Ixe.canvas.height=c,Ixe.drawImage(a,0,0,l,c),a=Ixe.canvas}const d=n.makeTensorInfo(u,"int32");n.texData.get(d.dataId).usage=vde.PIXELS,n.gpgpu.uploadPixelDataToTexture(n.getTexture(d.dataId),a);const p=IX().getBool("WEBGL_PACK")?new Mxe(h):new jxe(h),f=n.runWebGLProgram(p,[d],"int32");return n.disposeData(d.dataId),f}};let Ixe,Oxe=IX().getBool("CANVAS2D_WILL_READ_FREQUENTLY_FOR_GPU");const Pxe={kernelName:HJ,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a,filter:i,bias:s,preluActivationWeights:o}=t,{strides:l,pad:c,dataFormat:u,dilations:h,dimRoundingMode:d,activation:p,leakyreluAlpha:f}=r,m=U2(u),g=R2(a.shape,i.shape,l,h,c,d,!1,m);let y;const x=[],b=null!=s,v=null!=o,w="leakyrelu"===p,k=()=>{const e=[a,i],t=(e,t)=>{if("NCHW"===t&&1===e.shape.length&&1!==e.shape[0]){const t=jme({inputs:{x:e},backend:n,attrs:{shape:[e.shape[0],1,1]}});return x.push(t),t}return e};if(b&&e.push(t(s,u)),v&&e.push(t(o,u)),w){const t=n.makeTensorInfo([],"float32",x0(f,"float32"));e.push(t),x.push(t)}return e};if(1!==g.filterHeight||1!==g.filterWidth||1!==g.dilationHeight||1!==g.dilationWidth||1!==g.strideHeight||1!==g.strideWidth||"SAME"!==g.padInfo.type&&"VALID"!==g.padInfo.type)if(g.strideWidth<=2&&"channelsLast"===m&&IX().getBool("WEBGL_EXP_CONV")){const e=p?vme(p,!0):null,t=new uye(g,b,e,v,w),r=[[g.padInfo.top,g.padInfo.left],[g.strideHeight,g.strideWidth],[g.dilationHeight,g.dilationWidth],[g.inHeight,g.inWidth]],a=k();y=n.runWebGLProgram(t,a,"float32",r)}else if(IX().getBool("WEBGL_CONV_IM2COL"))y=fye({x:a,filter:i,convInfo:g,backend:n,bias:s,activation:p,preluActivationWeights:o,leakyreluAlpha:f});else{const e=p?vme(p,!1):null,t=new lye(g,b,e,v,w),r=k();y=n.runWebGLProgram(t,r,"float32")}else y=pye({x:a,filter:i,convInfo:g,backend:n,bias:s,activation:p,preluActivationWeights:o,leakyreluAlpha:f});const S=jme({inputs:{x:y},backend:n,attrs:{shape:g.outShape}});return x.push(y),x.forEach(e=>n.disposeIntermediateTensorInfo(e)),S}};const Rxe={kernelName:UJ,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a,filter:i,bias:s,preluActivationWeights:o}=t,{strides:l,pad:c,dilations:u,dimRoundingMode:h,activation:d,leakyreluAlpha:p}=r,f=[];let m=u;null==m&&(m=[1,1]),Yq(B2(l,m),()=>`Error in depthwiseConv2d: Either strides or dilations must be 1. Got strides ${l} and dilations '${m}'`);const g=R2(a.shape,i.shape,l,m,c,h,!0),y=IX().getBool("WEBGL_PACK_DEPTHWISECONV")&&g.strideWidth<=2&&g.outChannels/g.inChannels===1,x=d?vme(d,y):null,b=[a,i],v=null!=s,w=null!=o,k="leakyrelu"===d;if(v&&b.push(s),w&&b.push(o),k){const e=n.makeTensorInfo([],"float32",x0(p,"float32"));b.push(e),f.push(e)}let S;S=y?new Uye(g,v,x,w,k):new Hye(g,v,x,w,k);const N=[[g.padInfo.top,g.padInfo.left],[g.strideHeight,g.strideWidth],[g.dilationHeight,g.dilationWidth],[g.inHeight,g.inWidth]],E=n.runWebGLProgram(S,b,"float32",N);return f.forEach(e=>n.disposeIntermediateTensorInfo(e)),E}};class _xe{constructor(e,t,n,r){this.sliceDim=e,this.strides=t,this.paramsShape=r,this.variableNames=["x","indices"],this.outputShape=n;const a=gpe(n.length);let i="\n    int index;";for(let s=0;s<this.sliceDim;s++)i+=`\n          index = round(getIndices(coords[0], ${s}));\n          out_of_bounds = out_of_bounds || index < 0;\n          out_of_bounds = out_of_bounds || index >= ${this.paramsShape[s]};\n          flattenIndex += index * ${this.strides[s]};`;this.userCode=`\n         void main() {\n          ${a} coords = getOutputCoords();\n          int flattenIndex = 0;\n          bool out_of_bounds = false;\n\n          ${i}\n\n          setOutput(out_of_bounds ? 0.0 : getX(flattenIndex, coords[1]));\n        }\n      `}}const Lxe={kernelName:GY,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{params:r,indices:a}=t,i=a.shape,s=i[i.length-1],o=eX(r.shape),[l,c,u,h]=u5(r,a),d=jme({inputs:{x:a},backend:n,attrs:{shape:[c,s]}}),p=jme({inputs:{x:r},backend:n,attrs:{shape:[eX(r.shape)/u,u]}});if(n.shouldExecuteOnCPU([r,a])||"string"===r.dtype){const e=n.readSync(a.dataId),t=n.bufferSync(r),i=Jpe(e,t,r.dtype,c,s,u,h,r.shape,o);return n.makeTensorInfo(l,r.dtype,i.values)}const f=new _xe(s,h,[c,u],r.shape),m=n.runWebGLProgram(f,[p,d],p.dtype),g=jme({inputs:{x:m},backend:n,attrs:{shape:l}});return n.disposeIntermediateTensorInfo(d),n.disposeIntermediateTensorInfo(p),n.disposeIntermediateTensorInfo(m),g}};class $xe{constructor(e,t){this.variableNames=["A","indices"],this.outputShape=t,this.rank=t.length;const n=gpe(this.rank),r=function(e){const t=["resRC.x","resRC.y","resRC.z","resRC.w"],n=[];for(let r=0;r<e.length;r++)2===r?n.push("index"):n.push(`${t[r]}`);return n.join()}(e);this.userCode=`\n      void main() {\n        ${n} resRC = getOutputCoords();\n        int index = int(getIndices(resRC.x, resRC.z));\n        float inBounds = (index >= 0) && (index < ${e[2]}) ? 1.0 : 0.0;\n        setOutput(inBounds * getA(${r}));\n      }\n    `}}function Fxe(e){const{inputs:t,backend:n,attrs:r}=e,{x:a,indices:i}=t,{axis:s,batchDims:o}=r,l=oX(s,a.shape)[0];if(IX().get("DEBUG")){const e=n.readSync(i.dataId),t=a.shape[l];for(let n=0;n<e.length;++n){const r=e[n];Yq(r<=t-1&&r>=0,()=>`GatherV2: the index value ${r} is not in [0, ${t-1}]`)}}const c=T9(a,i,l,o),u=eX(i.shape),h=[],d=jme({inputs:{x:a},backend:n,attrs:{shape:[c.batchSize,c.outerSize,c.dimSize,c.sliceSize]}}),p=jme({inputs:{x:i},backend:n,attrs:{shape:[c.batchSize,u/c.batchSize]}});h.push(d),h.push(p);const f=[c.batchSize,c.outerSize,u/c.batchSize,c.sliceSize];if(n.shouldExecuteOnCPU([a,i])||"string"===a.dtype){const e=n.bufferSync(p),t=n.bufferSync(d),r=efe(t,e,f);return h.forEach(e=>n.disposeIntermediateTensorInfo(e)),n.makeTensorInfo(c.outputShape,r.dtype,r.values)}const m=new $xe(d.shape,f),g=n.runWebGLProgram(m,[d,p],d.dtype);h.push(g);const y=jme({inputs:{x:g},backend:n,attrs:{shape:c.outputShape}});return h.forEach(e=>n.disposeIntermediateTensorInfo(e)),y}const Dxe={kernelName:ZY,backendName:"webgl",kernelFunc:Fxe},zxe=bme({opSnippet:"return float(a > b);",packedOpSnippet:"\n  return vec4(greaterThan(a, b));\n",cpuKernelImpl:tfe,dtype:"bool"}),Vxe={kernelName:KY,backendName:"webgl",kernelFunc:zxe},Bxe=bme({opSnippet:"return float(a >= b);",packedOpSnippet:"\n  return vec4(greaterThanEqual(a, b));\n",dtype:"bool",cpuKernelImpl:nfe}),Hxe={kernelName:qY,backendName:"webgl",kernelFunc:Bxe};const Uxe={kernelName:YY,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{input:r}=t;return gxe(r,!0,n)}},Wxe=xme({opSnippet:"return float(!isnan(x) && !isinf(x));",dtype:"bool"}),Zxe={kernelName:JY,backendName:"webgl",kernelFunc:Wxe},Gxe=xme({opSnippet:"return float(isinf(x));",dtype:"bool"}),Kxe={kernelName:eQ,backendName:"webgl",kernelFunc:Gxe},qxe=xme({opSnippet:"return float(isnan(x));",dtype:"bool"}),Xxe={kernelName:tQ,backendName:"webgl",kernelFunc:qxe},Yxe=bme({opSnippet:"return float(a < b);",packedOpSnippet:"\n  return vec4(lessThan(a, b));\n",cpuKernelImpl:rfe,dtype:"bool"}),Qxe={kernelName:rQ,backendName:"webgl",kernelFunc:Yxe},Jxe=bme({opSnippet:"return float(a <= b);",packedOpSnippet:"\n  return vec4(lessThanEqual(a, b));\n",cpuKernelImpl:afe,dtype:"bool"}),ebe={kernelName:aQ,backendName:"webgl",kernelFunc:Jxe};const tbe={kernelName:iQ,backendName:"webgl",kernelFunc:function(e){const{backend:t,attrs:n}=e,{start:r,stop:a,num:i}=n,s=ife(r,a,i);return t.makeTensorInfo([s.length],"float32",s)}},nbe=xme({opSnippet:yme+"\n  return x < 0.0 ? 0./0. : log(x);\n",packedOpSnippet:"\n  vec4 result = log(x);\n  bvec4 isNaN = isnan(x);\n  result.r = isNaN.r ? x.r : (x.r < 0.0 ? 0./0. : result.r);\n  result.g = isNaN.g ? x.g : (x.g < 0.0 ? 0./0. : result.g);\n  result.b = isNaN.b ? x.b : (x.b < 0.0 ? 0./0. : result.b);\n  result.a = isNaN.a ? x.a : (x.a < 0.0 ? 0./0. : result.a);\n  return result;\n",cpuKernelImpl:sfe}),rbe={kernelName:sQ,backendName:"webgl",kernelFunc:nbe},abe=xme({opSnippet:yme+"\n  return log(1.0 + x);\n"}),ibe={kernelName:oQ,backendName:"webgl",kernelFunc:abe},sbe=bme({opSnippet:"return float(a >= 1.0 && b >= 1.0);",packedOpSnippet:"\n  return vec4(\n    vec4(greaterThanEqual(a, vec4(1.0))) *\n    vec4(greaterThanEqual(b, vec4(1.0))));\n",dtype:"bool"}),obe={kernelName:lQ,backendName:"webgl",kernelFunc:sbe},lbe=xme({opSnippet:"return float(!(x >= 1.0));"}),cbe={kernelName:cQ,backendName:"webgl",kernelFunc:lbe},ube=bme({opSnippet:"return float(a >= 1.0 || b >= 1.0);",packedOpSnippet:"\n  return min(\n    vec4(greaterThanEqual(a, vec4(1.0))) +\n    vec4(greaterThanEqual(b, vec4(1.0))),\n    vec4(1.0));\n",dtype:"bool"}),hbe={kernelName:uQ,backendName:"webgl",kernelFunc:ube};class dbe{constructor(e,t,n,r,a){this.variableNames=["x"],this.outputShape=[];const i=t,s=e[3]-1;let o;this.outputShape=e;const l=`float(${n}) + float(${r}) * sum`;o=.5===a?`inversesqrt(${l})`:1===a?`1.0/(${l})`:`exp(log(${l}) * float(-${a}));`,this.userCode=`\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int r = coords[1];\n        int c = coords[2];\n        int d = coords[3];\n        float x = getX(b, r, c, d);\n        float sum = 0.0;\n        for (int j = -${i}; j <= ${i}; j++) {\n          int idx = d + j;\n          if (idx >= 0 && idx <=  ${s}) {\n            float z = getX(b, r, c, idx);\n            sum += z * z;\n          }\n        }\n        float val = x * ${o};\n        setOutput(val);\n      }\n    `}}class pbe{constructor(e,t,n,r,a){this.variableNames=["x"],this.outputShape=[],this.packedInputs=!0,this.packedOutput=!0;const i=t,s=e[3]-1;let o;this.outputShape=e;const l=`float(${n}) + float(${r}) * sum`;o=.5===a?`inversesqrt(${l})`:1===a?`1.0/(${l})`:`exp(log(${l}) * float(-${a}));`,this.userCode=`\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords.x;\n        int r = coords.y;\n        int c = coords.z;\n        int d = coords.w;\n\n        bool hasNextCol = d < ${this.outputShape[3]};\n        bool hasNextRow = c < ${this.outputShape[2]};\n\n        vec4 sum = vec4(0.);\n        vec4 xFragAtOutputCoords = getX(b, r, c, d);\n\n        vec4 xAtOutputCoords = vec4(\n          getChannel(xFragAtOutputCoords, vec2(c, d)),\n          hasNextCol ?\n            getChannel(xFragAtOutputCoords, vec2(c, d + 1)) : 0.0,\n          hasNextRow ?\n            getChannel(xFragAtOutputCoords , vec2(c + 1, d)) : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getChannel(xFragAtOutputCoords, vec2(c + 1, d + 1)) : 0.0\n        );\n\n        int firstChannel = d - ${i};\n        vec2 cache = vec2(0.);\n        if(firstChannel >= 0){\n          vec4 firstChannelFrag = getX(b, r, c, firstChannel);\n          cache.x = getChannel(firstChannelFrag, vec2(c, firstChannel));\n            if(hasNextRow){\n              cache.y = getChannel(firstChannelFrag, vec2(c + 1, firstChannel));\n            }\n        }\n\n        ivec2 depth = ivec2(d, d + 1);\n        for (int j = - ${i}; j <= ${i}; j++) {\n          ivec2 idx = depth + j;\n          bvec2 aboveLowerBound = greaterThanEqual(idx, ivec2(0));\n          bvec2 belowUpperBound = lessThanEqual(idx, ivec2(${s}));\n\n          bool depthInRange = aboveLowerBound.x && belowUpperBound.x;\n          bool depthPlusOneInRange = aboveLowerBound.y && belowUpperBound.y;\n\n          if(depthInRange || depthPlusOneInRange){\n            vec4 z = vec4(0.);\n            vec4 xFragAtCurrentDepth;\n            z.xz = cache.xy;\n            if(depthPlusOneInRange && hasNextCol){\n              xFragAtCurrentDepth = idx.y != d ?\n                getX(b, r, c, idx.y) : xFragAtOutputCoords;\n              z.y = getChannel(xFragAtCurrentDepth, vec2(c, idx.y));\n              if(hasNextRow){\n                z.w = getChannel(xFragAtCurrentDepth, vec2(c + 1, idx.y));\n              }\n            }\n            cache.xy = z.yw;\n            sum += z * z;\n          }\n        }\n        vec4 result = xAtOutputCoords * ${o};\n        setOutput(result);\n      }\n    `}}const fbe={kernelName:hQ,backendName:"webgl",kernelFunc:e=>{const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{depthRadius:i,bias:s,alpha:o,beta:l}=r,c=IX().getBool("WEBGL_PACK_NORMALIZATION")?new pbe(a.shape,i,s,o,l):new dbe(a.shape,i,s,o,l);return n.runWebGLProgram(c,[a],a.dtype)}};class mbe{constructor(e,t,n,r,a){this.variableNames=["inputImage","outputImage","dy"],this.outputShape=[],this.outputShape=e,this.depth=e[3],this.depthRadius=t,this.bias=n,this.alpha=r,this.beta=a,this.userCode=`\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int r = coords[1];\n        int c = coords[2];\n\n        float result = 0.0;\n        for (int d = 0; d < ${this.depth}; ++d) {\n          int depthBegin = int(max(0.0, float(d - ${t})));\n          int depthEnd = int(min(float(${this.depth}),\n              float(d + ${t} + 1)));\n\n          const int MIN_DEPTH_BEGIN = 0;\n          const int MAX_DEPTH_END = ${this.depth};\n\n          float norm = 0.0;\n          for (int k = MIN_DEPTH_BEGIN; k < MAX_DEPTH_END; ++k) {\n            if (k < depthBegin){\n              continue;\n            }\n            else if (k >= depthBegin && k < depthEnd) {\n              norm += getInputImage(b, r, c, k) * getInputImage(b, r, c, k);\n            }\n            else {\n              break;\n            }\n          }\n\n          norm = float(${r}) * norm + float(${n});\n\n          for(int k = MIN_DEPTH_BEGIN; k < MAX_DEPTH_END; ++k){\n            if (k < depthBegin){\n              continue;\n            }\n            else if (k >= depthBegin && k < depthEnd){\n              float dyi = -2.0 * float(${r})\n                * float(${a})\n                * getInputImage(b, r, c, k) * getOutputImage(b, r, c, d)\n                / norm;\n              if (k == d) {\n                dyi += pow(norm, -1.0 * ${a});\n              }\n              if (k == coords[3]) {\n                dyi *= getDy(b, r, c, d);\n                result += dyi;\n              }\n            }\n            else {\n              break;\n            }\n          }\n      }\n      setOutput(result);\n      }\n    `}}const gbe={kernelName:dQ,backendName:"webgl",kernelFunc:e=>{const{inputs:t,backend:n,attrs:r}=e,{x:a,y:i,dy:s}=t,{depthRadius:o,bias:l,alpha:c,beta:u}=r,h=new mbe(a.shape,o,l,c,u);return n.runWebGLProgram(h,[a,i,s],a.dtype)}};function ybe(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{reductionIndices:i,keepDims:s}=r,o=a.shape.length,l=oX(i,a.shape);let c=l;const u=W4(c,o),h=null!=u,d=n.shouldExecuteOnCPU([a]);let p=a;if(h){if(d){const e=n.texData.get(p.dataId).values,t=new Array(o);for(let n=0;n<t.length;n++)t[n]=a.shape[u[n]];const r=_fe(e,a.shape,a.dtype,u,t);p=n.makeTensorInfo(t,a.dtype);n.texData.get(p.dataId).values=r}else p=_me(a,u,n);c=G4(c.length,o)}U4("max",c,o);const[f,m]=B4(p.shape,c);let g,y=f;if(s&&(y=H4(f,l)),d){const e=n.texData.get(p.dataId).values,t=ofe(e,eX(m),y,a.dtype);g=n.makeTensorInfo(y,a.dtype);n.texData.get(g.dataId).values=t}else g=function(e,t,n,r){const a=eX(t),i=jme({inputs:{x:e},attrs:{shape:[eX(e.shape)/a,a]},backend:r}),s=Ome(i,e.dtype,"max",r),o=jme({inputs:{x:s},attrs:{shape:n},backend:r});return r.disposeIntermediateTensorInfo(i),r.disposeIntermediateTensorInfo(s),o}(p,m,y,n);return h&&n.disposeIntermediateTensorInfo(p),g}const xbe={kernelName:pQ,backendName:"webgl",kernelFunc:ybe},bbe=bme({opSnippet:rme+"\n  return max(a, b);\n",packedOpSnippet:"\n  vec4 result = vec4(max(a, b));\n  bvec4 isNaNA = isnan(a);\n  bvec4 isNaNB = isnan(b);\n  bvec4 isNaN = bvec4(isNaNA.x || isNaNB.x, isNaNA.y || isNaNB.y, isNaNA.z || isNaNB.z, isNaNA.w || isNaNB.w);\n  "+ime+"\n  return result;\n",cpuKernelImpl:lfe}),vbe={kernelName:fQ,backendName:"webgl",kernelFunc:bbe};const wbe={kernelName:mQ,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t;Yde(a,"maxPool");const{filterSize:i,strides:s,pad:o,dimRoundingMode:l}=r;Yq(B2(s,1),()=>`Error in maxPool: Either strides or dilations must be 1. Got strides ${s} and dilations '1'`);const c=O2(a.shape,i,s,1,o,l);if(1===c.filterWidth&&1===c.filterHeight&&tX(c.inShape,c.outShape))return ome({inputs:{x:a},backend:n});const u=new bge(c,"max",!1);return n.runWebGLProgram(u,[a],a.dtype)}};const kbe={kernelName:yQ,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{filterSize:i,strides:s,pad:o,dataFormat:l,dimRoundingMode:c}=r,u=P2(a.shape,i,s,[1,1,1],o,c,l),h=new vge(u,"max",!1);return n.runWebGLProgram(h,[a],a.dtype)}};class Sbe{constructor(e){this.variableNames=["dy","maxPos"],this.outputShape=e.inShape;const t=e.strideHeight,n=e.strideWidth,r=e.dilationHeight,a=e.effectiveFilterHeight,i=e.effectiveFilterWidth,s=a-1-e.padInfo.top,o=i-1-e.padInfo.left,l=a*i-1;this.userCode=`\n      const ivec2 pads = ivec2(${s}, ${o});\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n\n        ivec2 dyRCCorner = coords.yz - pads;\n        int dyRCorner = dyRCCorner.x;\n        int dyCCorner = dyRCCorner.y;\n\n        // Convolve dy(?, ?, d) with pos mask(:, :, d) to get dx(xR, xC, d).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < ${a};\n          wR += ${r}) {\n          float dyR = float(dyRCorner + wR) / ${t}.0;\n\n          if (dyR < 0.0 || dyR >= ${e.outHeight}.0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          for (int wC = 0; wC < ${i}; wC++) {\n            float dyC = float(dyCCorner + wC) / ${n}.0;\n\n            if (dyC < 0.0 || dyC >= ${e.outWidth}.0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            float dyValue = getDy(b, idyR, idyC, d);\n            int maxPosValue = ${l} - int(getMaxPos(b, idyR, idyC, d));\n\n            // Get the current value, check it against the value from the\n            // position matrix.\n            int curPosValue = wR * ${i} + wC;\n            float mask = float(maxPosValue == curPosValue ? 1.0 : 0.0);\n\n            dotProd += dyValue * mask;\n          }\n        }\n        setOutput(dotProd);\n      }\n    `}}class Nbe{constructor(e){this.variableNames=["dy","maxPos"],this.outputShape=e.inShape;const t=e.strideDepth,n=e.strideHeight,r=e.strideWidth,a=e.dilationDepth,i=e.dilationHeight,s=e.dilationWidth,o=e.effectiveFilterDepth,l=e.effectiveFilterHeight,c=e.effectiveFilterWidth,u=o-1-e.padInfo.front,h=l-1-e.padInfo.top,d=c-1-e.padInfo.left,p=o*l*c-1;this.userCode=`\n      const ivec3 pads = ivec3(${u}, ${h}, ${d});\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int ch = coords.u;\n\n        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;\n        int dyDCorner = dyCorner.x;\n        int dyRCorner = dyCorner.y;\n        int dyCCorner = dyCorner.z;\n\n        // Convolve dy(?, ?, ?, ch) with pos mask(:, :, :, d) to get\n        // dx(xD, xR, xC, ch).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n\n        for (int wD = 0; wD < ${o};\n           wD += ${a}) {\n          float dyD = float(dyDCorner + wD) / ${t}.0;\n\n          if (dyD < 0.0 || dyD >= ${e.outDepth}.0 || fract(dyD) > 0.0) {\n            continue;\n          }\n          int idyD = int(dyD);\n\n          for (int wR = 0; wR < ${l};\n              wR += ${i}) {\n            float dyR = float(dyRCorner + wR) / ${n}.0;\n\n            if (dyR < 0.0 || dyR >= ${e.outHeight}.0 ||\n                fract(dyR) > 0.0) {\n              continue;\n            }\n            int idyR = int(dyR);\n\n            for (int wC = 0; wC < ${c};\n                wC += ${s}) {\n              float dyC = float(dyCCorner + wC) / ${r}.0;\n\n              if (dyC < 0.0 || dyC >= ${e.outWidth}.0 ||\n                  fract(dyC) > 0.0) {\n                continue;\n              }\n              int idyC = int(dyC);\n\n              float dyValue = getDy(batch, idyD, idyR, idyC, ch);\n              int maxPosValue = ${p} -\n                  int(getMaxPos(batch, idyD, idyR, idyC, ch));\n\n              // Get the current value, check it against the value from the\n              // position matrix.\n              int curPosValue =\n                  wD * ${l} * ${c} +\n                  wR * ${c} + wC;\n              float mask = float(maxPosValue == curPosValue ? 1.0 : 0.0);\n\n              dotProd += dyValue * mask;\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    `}}const Ebe={kernelName:xQ,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{dy:a,input:i}=t,s=i,{filterSize:o,strides:l,pad:c,dimRoundingMode:u}=r,h=P2(s.shape,o,l,[1,1,1],c,u),d=new vge(h,"max",!0),p=n.runWebGLProgram(d,[s],s.dtype),f=new Nbe(h),m=n.runWebGLProgram(f,[a,p],s.dtype);return n.disposeIntermediateTensorInfo(p),m}};const Abe={kernelName:gQ,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{dy:a,input:i,output:s}=t,o=i;Yde([i,s],"maxPoolGrad");const{filterSize:l,strides:c,pad:u,dimRoundingMode:h}=r,d=O2(o.shape,l,c,1,u,h),p=new bge(d,"max",!0),f=n.runWebGLProgram(p,[o],o.dtype),m=new Sbe(d),g=n.runWebGLProgram(m,[a,f],o.dtype);return n.disposeIntermediateTensorInfo(f),g}};const Cbe={kernelName:bQ,backendName:"webgl",kernelFunc:({inputs:e,attrs:t,backend:n})=>{const{x:r}=e,{filterSize:a,strides:i,pad:s,includeBatchInIndex:o}=t,l=n;Yq(4===r.shape.length,()=>`Error in maxPool: input must be rank 4 but got rank ${r.shape.length}.`);const c=[1,1];Yq(B2(i,c),()=>`Error in maxPool: Either strides or dilations must be 1. Got strides ${i} and dilations '${c}'`);const u=O2(r.shape,a,i,c,s),[h,d]=function(e,t,n,r){let a=new bge(n,"max",!1);const i=r.runWebGLProgram(a,[e],"float32");return a=new bge(n,"max",!0,!0,t),[i,r.runWebGLProgram(a,[e],"float32")]}(r,o,u,l);return[h,d]}};const jbe={kernelName:vQ,backendName:"webgl",kernelFunc:({inputs:e,attrs:t,backend:n})=>{const{x:r}=e,{keepDims:a,axis:i}=t,s=n,o=r.shape.length,l=oX(i,r.shape);let c=l;const u=W4(c,o),h=null!=u,d=s.shouldExecuteOnCPU([r]),p=[];let f=r;if(h){if(d){const e=s.texData.get(f.dataId).values,t=new Array(o);for(let a=0;a<t.length;a++)t[a]=r.shape[u[a]];const n=_fe(e,r.shape,r.dtype,u,t);f=s.makeTensorInfo(t,r.dtype);s.texData.get(f.dataId).values=n}else f=_me(r,u,s);p.push(f),c=G4(c.length,o)}U4("sum",c,o);const[m,g]=B4(f.shape,c);let y=m;a&&(y=H4(m,l));const x=function(e,t,n,r){const a=eX(t),i=jme({inputs:{x:e},attrs:{shape:[eX(e.shape)/a,a]},backend:r}),s=Ome(i,"float32","mean",r),o=jme({inputs:{x:s},attrs:{shape:n},backend:r});return r.disposeIntermediateTensorInfo(i),r.disposeIntermediateTensorInfo(s),o}(f,g,y,s);for(const b of p)s.disposeIntermediateTensorInfo(b);return x}};const Mbe={kernelName:wQ,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{axis:i,keepDims:s}=r,o=a.shape.length,l=oX(i,a.shape);let c=l;const u=W4(c,o);let h=a;null!=u&&(h=Fme({inputs:{x:a},backend:n,attrs:{perm:u}}),c=G4(c.length,a.shape.length)),U4("min",c,o);const[d,p]=B4(h.shape,c),f=jme({inputs:{x:h},backend:n,attrs:{shape:[-1,eX(p)]}}),m=Ome(f,f.dtype,"min",n);let g;if(s){g=jme({inputs:{x:m},backend:n,attrs:{shape:H4(d,l)}})}else g=jme({inputs:{x:m},backend:n,attrs:{shape:d}});return n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(m),null!=u&&n.disposeIntermediateTensorInfo(h),g}},Tbe=bme({opSnippet:rme+"\n  return min(a, b);\n",packedOpSnippet:"\n  vec4 result = vec4(min(a, b));\n  bvec4 isNaNA = isnan(a);\n  bvec4 isNaNB = isnan(b);\n  bvec4 isNaN = bvec4(isNaNA.x || isNaNB.x, isNaNA.y || isNaNB.y, isNaNA.z || isNaNB.z, isNaNA.w || isNaNB.w);\n  "+ime+"\n  return result;\n",cpuKernelImpl:cfe}),Ibe={kernelName:kQ,backendName:"webgl",kernelFunc:Tbe};class Obe{constructor(e,t,n){this.variableNames=["x"],this.outputShape=t.map((t,n)=>t[0]+e[n]+t[1]);const r=e.length,a=gpe(r),i=t.map(e=>e[0]).join(","),s=t.map((t,n)=>t[0]+e[n]).join(","),o=["coords[0]","coords[1]","coords[2]","coords[3]"].slice(0,r),l="reflect"===n?0:1;this.userCode=1!==r?`\n      ${a} start = ${a}(${i});\n      ${a} end = ${a}(${s});\n\n      void main() {\n        ${a} outC = getOutputCoords();\n        for (int i = 0; i < ${r}; i++) {\n          if (outC[i] < start[i]) {\n            outC[i] = start[i] * 2 - outC[i] - ${l};\n          } else if(outC[i] >= end[i]) {\n            outC[i] = (end[i] - 1) * 2 - outC[i] + ${l};\n          }\n        }\n        ${a} coords = outC - start;\n        setOutput(getX(${o}));\n      }\n    `:`\n        int start = ${i};\n        int end = ${s};\n\n        void main() {\n          int outC = getOutputCoords();\n          if (outC < start) {\n            outC = start * 2 - outC - ${l};\n          } else if(outC >= end) {\n            outC = (end - 1) * 2 - outC + ${l};\n          }\n          setOutput(getX(outC - start));\n        }\n      `}}class Pbe{constructor(e,t,n){this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=t.map((t,n)=>t[0]+e[n]+t[1]);const r=e.length,a=gpe(r),i=t.map(e=>e[0]).join(","),s=t.map((t,n)=>t[0]+e[n]).join(","),o=Ffe("rc",r),l=Ffe("source",r),c=`${o[r-1]} < ${this.outputShape[r-1]}`,u=1===r?"source":`vec2(${l.slice(-2).join()})`,h="reflect"===n?0:1;let d="";if(1===r){const e=`\n        ${a} source = rc;\n        if (source < start) {\n          source = start * 2 - source - ${h};\n        } else if (source >= end) {\n          source = (end - 1) * 2 - source + ${h};\n        }\n        source -= start;\n      `;d=`\n        ${a} rc = outputLoc;\n        ${e}\n        result[0] = getChannel(getX(${l.join()}), ${u});\n        ${o[r-1]} += 1;\n        if(${c}) {\n          ${e}\n          result[1] = getChannel(getX(${l.join()}), ${u});\n        }\n      `}else{const e=`\n        ${a} source = rc;\n        ${a} lt = ${a}(lessThan(source, start));\n        ${a} gte = ${a}(greaterThanEqual(source, end));\n        ${a} orig = 1 - (lt + gte);\n        source = orig * source +\n                lt * (start * 2 - source - ${h}) +\n                gte * ((end - 1) * 2 - source + ${h});\n        source -= start;\n      `;d=`\n        ${a} rc = outputLoc;\n        ${e}\n        result[0] = getChannel(getX(${l.join()}), ${u});\n        ${o[r-1]} += 1;\n        if(${c}) {\n          ${e}\n          result[1] = getChannel(getX(${l.join()}), ${u});\n        }\n        rc = outputLoc;\n        ${o[r-2]} += 1;\n        if(${o[r-2]} < ${this.outputShape[r-2]}) {\n          ${e}\n          result[2] = getChannel(getX(${l.join()}), ${u});\n          ${o[r-1]} += 1;\n          if(${c}) {\n            ${e}\n            result[3] = getChannel(getX(${l.join()}), ${u});\n          }\n        }\n      `}this.userCode=`\n      const ${a} start = ${a}(${i});\n      const ${a} end = ${a}(${s});\n\n      void main() {\n        ${a} outputLoc = getOutputCoords();\n        vec4 result = vec4(0.);\n        ${d}\n        setOutput(result);\n      }\n    `}}const Rbe={kernelName:SQ,backendName:"webgl",kernelFunc:({inputs:e,backend:t,attrs:n})=>{const{x:r}=e,{paddings:a,mode:i}=n,s=IX().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new Pbe(r.shape,a,i):new Obe(r.shape,a,i);return t.runWebGLProgram(s,[r],r.dtype)}},_be=bme({opSnippet:"if (b == 0.0) return NAN;\n  return mod(a, b);",packedOpSnippet:"\n  vec4 result = mod(a, b);\n  bvec4 isNaN = equal(b, vec4(0.0));\n  "+ime+"\n  return result;\n"}),Lbe={kernelName:NQ,backendName:"webgl",kernelFunc:_be};class $be{constructor(e,t,n){this.variableNames=["probs"],this.customUniforms=[{name:"seed",type:"float"}],this.outputShape=[e,n],this.userCode=`\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n\n        float r = random(seed);\n        float cdf = 0.0;\n\n        for (int i = 0; i < ${t-1}; i++) {\n          cdf += getProbs(batch, i);\n\n          if (r < cdf) {\n            setOutput(float(i));\n            return;\n          }\n        }\n\n        // If no other event happened, last event happened.\n        setOutput(float(${t-1}));\n      }\n    `}}const Fbe=bme({opSnippet:"\nif (a == b) {\n  return 1.0;\n};\nreturn a / b;",packedOpSnippet:"\n  // vec4 one = vec4(equal(a, b));\n  // return one + (vec4(1.0) - one) * a / b;\n  vec4 result = a / b;\n  if(a.x == b.x) {\n    result.x = 1.;\n  }\n  if(a.y == b.y) {\n    result.y = 1.;\n  }\n  if(a.z == b.z) {\n    result.z = 1.;\n  }\n  if(a.w == b.w) {\n    result.w = 1.;\n  }\n\n  return result;\n",checkOutOfBounds:!0}),Dbe={kernelName:IY,backendName:"webgl",kernelFunc:Fbe},zbe="return a - b;",Vbe=bme({opSnippet:zbe,packedOpSnippet:zbe,supportsComplex:!0,cpuKernelImpl:Ofe}),Bbe={kernelName:MJ,backendName:"webgl",kernelFunc:Vbe};function Hbe(e){const{inputs:t,backend:n,attrs:r}=e,{logits:a}=t,{dim:i}=r,s=oX([i],a.shape),o=ybe({inputs:{x:a},backend:n,attrs:{reductionIndices:s,keepDims:!1}}),l=H4(o.shape,s),c=jme({inputs:{x:o},backend:n,attrs:{shape:l}}),u=Vbe({inputs:{a:a,b:c},backend:n}),h=lxe({inputs:{x:u},backend:n}),d=Lme({inputs:{x:h},backend:n,attrs:{axis:s,keepDims:!1}}),p=jme({inputs:{x:d},backend:n,attrs:{shape:l}}),f=Fbe({inputs:{a:h,b:p},backend:n});return n.disposeIntermediateTensorInfo(o),n.disposeIntermediateTensorInfo(c),n.disposeIntermediateTensorInfo(u),n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(d),n.disposeIntermediateTensorInfo(p),f}const Ube={kernelName:gJ,backendName:"webgl",kernelFunc:Hbe};const Wbe={kernelName:EQ,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{logits:a}=t,{numSamples:i,seed:s,normalized:o}=r,l=o?a:Hbe({inputs:{logits:a},backend:n,attrs:{dim:a.shape.length-1}}),c=l.shape[0],u=l.shape[1],h=new $be(c,u,i),d=[[s]],p=n.runWebGLProgram(h,[l],"int32",d);return o||n.disposeIntermediateTensorInfo(l),p}},Zbe=Zfe+"\n  return -x;\n";const Gbe={kernelName:CQ,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{x:r}=t;if(n.shouldExecuteOnCPU([r])){const e=n.texData.get(r.dataId),[t,a]=hfe(e.values,r.shape,r.dtype);return n.makeTensorInfo(a,r.dtype,t)}let a;return a=IX().getBool("WEBGL_PACK_UNARY_OPERATIONS")?new Yfe(r.shape,"\n  vec4 result = -x;\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n"):new Wfe(r.shape,Zbe),n.runWebGLProgram(a,[r],r.dtype)}},Kbe=j3;const qbe={kernelName:MQ,backendName:"webgl",kernelFunc:function(e){WJ("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead");const{inputs:t,backend:n,attrs:r}=e,{boxes:a,scores:i}=t,{maxOutputSize:s,iouThreshold:o,scoreThreshold:l}=r,c=n.readSync(a.dataId),u=n.readSync(i.dataId),{selectedIndices:h}=Kbe(c,u,s,o,l);return n.makeTensorInfo([h.length],"int32",new Int32Array(h))}},Xbe=M3;const Ybe={kernelName:TQ,backendName:"webgl",kernelFunc:function(e){WJ("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead");const{inputs:t,backend:n,attrs:r}=e,{boxes:a,scores:i}=t,{maxOutputSize:s,iouThreshold:o,scoreThreshold:l,padToMaxOutputSize:c}=r,u=n.readSync(a.dataId),h=n.readSync(i.dataId),{selectedIndices:d,validOutputs:p}=Xbe(u,h,s,o,l,c);return[n.makeTensorInfo([d.length],"int32",new Int32Array(d)),n.makeTensorInfo([],"int32",new Int32Array([p]))]}},Qbe=T3;const Jbe={kernelName:IQ,backendName:"webgl",kernelFunc:function(e){WJ("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead");const{inputs:t,backend:n,attrs:r}=e,{boxes:a,scores:i}=t,{maxOutputSize:s,iouThreshold:o,scoreThreshold:l,softNmsSigma:c}=r,u=n.readSync(a.dataId),h=n.readSync(i.dataId),d=s,p=o,f=l,m=c,{selectedIndices:g,selectedScores:y}=Qbe(u,h,d,p,f,m);return[n.makeTensorInfo([g.length],"int32",new Int32Array(g)),n.makeTensorInfo([y.length],"float32",new Float32Array(y))]}};class eve{constructor(e,t,n,r){this.variableNames=["indices"],this.outputShape=[e,t],this.userCode=`\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int index = round(getIndices(coords.x));\n        setOutput(mix(float(${r}), float(${n}),\n                      float(index == coords.y)));\n      }\n    `}}const tve={kernelName:PQ,backendName:"webgl",kernelFunc:e=>{const{inputs:t,backend:n,attrs:r}=e,{indices:a}=t,{dtype:i,depth:s,onValue:o,offValue:l}=r,c=eX(a.shape),u=new eve(c,s,o,l),h=jme({inputs:{x:a},backend:n,attrs:{shape:[c]}}),d=n.runWebGLProgram(u,[h],i);n.disposeIntermediateTensorInfo(h);const p=jme({inputs:{x:d},backend:n,attrs:{shape:[...a.shape,s]}});return n.disposeIntermediateTensorInfo(d),p}};function nve(e){const{inputs:t,backend:n}=e,{x:r}=t;if("complex64"===r.dtype){const e=Bge({inputs:{input:r},backend:n}),t=nve({inputs:{x:e},backend:n}),a=rye({inputs:{input:r},backend:n}),i=nve({inputs:{x:a},backend:n}),s=cme({inputs:{real:t,imag:i},backend:n});return n.disposeIntermediateTensorInfo(e),n.disposeIntermediateTensorInfo(t),n.disposeIntermediateTensorInfo(a),n.disposeIntermediateTensorInfo(i),s}return bxe({attrs:{shape:r.shape,dtype:r.dtype,value:"string"===r.dtype?"":0},backend:n})}const rve={kernelName:DJ,backendName:"webgl",kernelFunc:nve};const ave={kernelName:OQ,backendName:"webgl",kernelFunc:function e(t){const{inputs:n,backend:r}=t,{x:a}=n;if("string"===a.dtype)throw new Error("onesLike is not supported under string dtype");if("complex64"===a.dtype){const t=Bge({inputs:{input:a},backend:r}),n=e({inputs:{x:t},backend:r}),i=rye({inputs:{input:a},backend:r}),s=nve({inputs:{x:i},backend:r}),o=cme({inputs:{real:n,imag:s},backend:r});return r.disposeIntermediateTensorInfo(t),r.disposeIntermediateTensorInfo(n),r.disposeIntermediateTensorInfo(i),r.disposeIntermediateTensorInfo(s),o}return bxe({attrs:{shape:a.shape,dtype:a.dtype,value:1},backend:r})}};const ive={kernelName:RQ,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{axis:a}=r;if(1===t.length)return uxe({inputs:{input:t[0]},backend:n,attrs:{dim:a}});const i=t[0].shape,s=t[0].dtype;t.forEach(e=>{Qq(i,e.shape,"All tensors passed to stack must have matching shapes"),Yq(s===e.dtype,()=>"All tensors passed to stack must have matching dtypes")});const o=[],l=sye({inputs:t.map(e=>{const t=uxe({inputs:{input:e},backend:n,attrs:{dim:a}});return o.push(t),t}),backend:n,attrs:{axis:a}});return o.forEach(e=>n.disposeIntermediateTensorInfo(e)),l}};class sve{constructor(e,t,n){this.variableNames=["x"],this.customUniforms=[{name:"value",type:"float"}],this.outputShape=t.map((t,n)=>t[0]+e[n]+t[1]);const r=e.length,a=gpe(r),i=t.map(e=>e[0]).join(","),s=t.map((t,n)=>t[0]+e[n]).join(","),o=["coords[0]","coords[1]","coords[2]","coords[3]"].slice(0,r);this.userCode=1!==r?`\n      ${a} start = ${a}(${i});\n      ${a} end = ${a}(${s});\n\n      void main() {\n        ${a} outC = getOutputCoords();\n        if (any(lessThan(outC, start)) || any(greaterThanEqual(outC, end))) {\n          setOutput(value);\n        } else {\n          ${a} coords = outC - start;\n          setOutput(getX(${o}));\n        }\n      }\n    `:`\n        int start = ${i};\n        int end = ${s};\n\n        void main() {\n          int outC = getOutputCoords();\n          if (outC < start || outC >= end) {\n            setOutput(value);\n          } else {\n            setOutput(getX(outC - start));\n          }\n        }\n      `}}class ove{constructor(e,t,n){this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"value",type:"float"}],this.outputShape=t.map((t,n)=>t[0]+e[n]+t[1]);const r=e.length,a=gpe(r),i=t.map(e=>e[0]).join(","),s=t.map((t,n)=>t[0]+e[n]).join(","),o=Ffe("rc",r),l=Ffe("source",r),c=`${o[r-1]} < ${this.outputShape[r-1]}`,u=1===r?"source":`vec2(${l.slice(-2).join()})`,h=[`${a} rc = outputLoc;`,`${o[r-1]} += 1;\n       if(${c}) {\n      `,1===r?"":`}\n       rc = outputLoc;\n       ${o[r-2]} += 1;\n       if(${o[r-2]} < ${this.outputShape[r-2]}) {`,1===r?"":`  ${o[r-1]} += 1;\n         if(${c}) {`],d=1===r?"rc < start || rc >= end":"any(lessThan(rc, start)) || any(greaterThanEqual(rc, end))";let p="";for(let f=0,m=1===r?2:4;f<m;f++)p+=`\n        ${h[f]}\n        if (${d}) {\n          result[${f}] = float(value);\n        } else {\n          ${a} source = rc - start;\n          result[${f}] = getChannel(getX(${l.join()}), ${u});\n        }\n      `;p+=1===r?"} ":"}}",this.userCode=`\n      const ${a} start = ${a}(${i});\n      const ${a} end = ${a}(${s});\n\n      void main() {\n        ${a} outputLoc = getOutputCoords();\n        vec4 result = vec4(0.);\n        ${p}\n        setOutput(result);\n      }\n    `}}const lve=e=>{const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{paddings:i,constantValue:s}=r;if(0===eX(a.shape)){return bxe({backend:n,attrs:{shape:i.map((e,t)=>e[0]+a.shape[t]+e[1]),value:s,dtype:a.dtype}})}const o=IX().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new ove(a.shape,i,s):new sve(a.shape,i,s),l=[[s]];return n.runWebGLProgram(o,[a],a.dtype,l)},cve={kernelName:_Q,backendName:"webgl",kernelFunc:lve},uve=bme({opSnippet:"\n  if(a < 0.0 && floor(b) < b){\n    return NAN;\n  }\n  if (b == 0.0) {\n    return 1.0;\n  }\n  return (round(mod(b, 2.0)) != 1) ?\n      pow(abs(a), b) : sign(a) * pow(abs(a), b);\n",packedOpSnippet:"\n  // isModRound1 has 1 for components with round(mod(b, 2.0)) == 1, 0 otherwise.\n  vec4 isModRound1 = vec4(equal(round(mod(b, 2.0)), ivec4(1)));\n  vec4 multiplier = sign(a) * isModRound1 + (vec4(1.0) - isModRound1);\n  vec4 result = multiplier * pow(abs(a), b);\n\n  // Ensure that a^0 = 1, including 0^0 = 1 as this correspond to TF and JS\n  bvec4 isExpZero = equal(b, vec4(0.0));\n  result.r = isExpZero.r ? 1.0 : result.r;\n  result.g = isExpZero.g ? 1.0 : result.g;\n  result.b = isExpZero.b ? 1.0 : result.b;\n  result.a = isExpZero.a ? 1.0 : result.a;\n\n  bvec4 isNaN1 = lessThan(a, vec4(0.0));\n  bvec4 isNaN2 = lessThan(floor(b), b);\n  bvec4 isNaN = bvec4(isNaN1.x && isNaN2.x, isNaN1.y && isNaN2.y, isNaN1.z && isNaN2.z, isNaN1.w && isNaN2.w);\n  "+ime+"\n  return result;\n"}),hve={kernelName:LQ,backendName:"webgl",kernelFunc:uve};const dve={kernelName:FQ,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{axis:i,keepDims:s}=r,o=a.shape.length,l=[],c=oX(i,a.shape);let u=c;const h=W4(u,o);let d,p=a;if(null!=h&&(p=Fme({inputs:{x:a},backend:n,attrs:{perm:h}}),u=G4(u.length,o),l.push(p)),U4("prod",u,o),n.shouldExecuteOnCPU([p])){const e=n.texData.get(p.dataId).values,{outVals:t,outShape:r,outDtype:a}=pfe(p.shape,p.dtype,e,u);d=n.makeTensorInfo(r,a,t)}else{const[e,t]=B4(p.shape,u),r=eX(t),i=jme({inputs:{x:p},backend:n,attrs:{shape:[-1,r]}}),s=Ome(i,Y0(a.dtype),"prod",n);d=jme({inputs:{x:s},backend:n,attrs:{shape:e}}),l.push(i),l.push(s)}if(s){l.push(d);const e=H4(d.shape,c);d=jme({inputs:{x:d},backend:n,attrs:{shape:e}})}return l.forEach(e=>n.disposeIntermediateTensorInfo(e)),d}};const pve={kernelName:DQ,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{paramsNestedSplits:a,paramsDenseValues:i,indices:s}=t,{outputRaggedRank:o}=r,l=a.map(e=>n.readSync(e.dataId)),c=a.map(e=>e.shape),u=n.readSync(i.dataId),h=n.readSync(s.dataId),[d,p,f]=ffe(l,c,u,i.shape,i.dtype,h,s.shape,o),m=d.map(e=>n.makeTensorInfo([e.length],"int32",e)),g=n.makeTensorInfo(f,i.dtype,p);return m.concat([g])}};const fve={kernelName:zQ,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{starts:r,limits:a,deltas:i}=t,s=n.readSync(r.dataId),o=n.readSync(a.dataId),l=n.readSync(i.dataId),[c,u]=mfe(s,r.shape,r.dtype,o,a.shape,l,i.shape);return[n.makeTensorInfo([c.length],"int32",c),n.makeTensorInfo([u.length],r.dtype,u)]}};const mve={kernelName:VQ,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{shape:a,values:i,defaultValue:s,rowPartitionTensors:o}=t,{rowPartitionTypes:l}=r,c=n.readSync(a.dataId),u=n.readSync(i.dataId),h=n.readSync(s.dataId),d=o.map(e=>n.readSync(e.dataId)),p=o.map(e=>e.shape),[f,m]=gfe(c,a.shape,u,i.shape,i.dtype,h,s.shape,d,p,l);return n.makeTensorInfo(f,i.dtype,m)}},gve=e=>{const{backend:t,attrs:n}=e,{start:r,stop:a,step:i,dtype:s}=n,o=yfe(r,a,i,s);return t.makeTensorInfo([o.length],s,o)},yve={kernelName:BQ,backendName:"webgl",kernelFunc:gve},xve=xme({opSnippet:"return 1.0 / x;"}),bve={kernelName:UQ,backendName:"webgl",kernelFunc:xve},vve=xme({opSnippet:Zfe+"\n  return (x < 0.0) ? 0.0 : x;\n",packedOpSnippet:"\n  vec4 result = x * vec4(greaterThanEqual(x, vec4(0.0)));\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n"}),wve={kernelName:WQ,backendName:"webgl",kernelFunc:vve},kve=xme({opSnippet:Zfe+"\n  return (x < 0.0) ? 0.0 : min(6.0, x);\n",packedOpSnippet:"\n  vec4 result = min(x, vec4(6.)) * vec4(greaterThanEqual(x, vec4(0.0)));\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n"}),Sve={kernelName:YQ,backendName:"webgl",kernelFunc:kve};class Nve{constructor(e,t,n,r,a){this.variableNames=["A"],this.outputShape=[];const[i,s,o,l]=e;this.outputShape=[i,t,n,l];const c=[r&&t>1?s-1:s,r&&n>1?o-1:o],u=[r&&t>1?t-1:t,r&&n>1?n-1:n];let h;h=a?"(vec2(yRC) + vec2(0.5)) * effectiveInputOverOutputRatioRC - vec2(0.5)":"vec2(yRC) * effectiveInputOverOutputRatioRC",this.userCode=`\n      const vec2 effectiveInputOverOutputRatioRC = vec2(\n          ${c[0]/u[0]},\n          ${c[1]/u[1]});\n      const vec2 inputShapeRC = vec2(${s}.0, ${o}.0);\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        ivec2 yRC = coords.yz;\n\n        // Fractional source index.\n        vec2 sourceFracIndexRC = ${h};\n\n        // Compute the four integer indices.\n        ivec2 sourceFloorRC = ivec2(max(sourceFracIndexRC, vec2(0.0)));\n        ivec2 sourceCeilRC = ivec2(\n          min(inputShapeRC - 1.0, ceil(sourceFracIndexRC)));\n\n        float topLeft = getA(b, sourceFloorRC.x, sourceFloorRC.y, d);\n        float bottomLeft = getA(b, sourceCeilRC.x, sourceFloorRC.y, d);\n        float topRight = getA(b, sourceFloorRC.x, sourceCeilRC.y, d);\n        float bottomRight = getA(b, sourceCeilRC.x, sourceCeilRC.y, d);\n\n        vec2 fracRC = sourceFracIndexRC - vec2(sourceFloorRC);\n\n        float top = topLeft + (topRight - topLeft) * fracRC.y;\n        float bottom = bottomLeft + (bottomRight - bottomLeft) * fracRC.y;\n        float newValue = top + (bottom - top) * fracRC.x;\n\n        setOutput(newValue);\n      }\n    `}}class Eve{constructor(e,t,n,r,a){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[];const[i,s,o,l]=e;this.outputShape=[i,t,n,l];const c=[r&&t>1?s-1:s,r&&n>1?o-1:o],u=[r&&t>1?t-1:t,r&&n>1?n-1:n];let h;h=a?"(vec3(yRC) + vec3(0.5)) * effectiveInputOverOutputRatioRC - vec3(0.5)":"vec3(yRC) * effectiveInputOverOutputRatioRC",this.userCode=`\n      const vec3 effectiveInputOverOutputRatioRC = vec3(\n          ${c[0]/u[0]},\n          ${c[1]/u[1]},\n          ${c[1]/u[1]});\n      const vec3 inputShapeRC = vec3(${s}.0, ${o}.0,\n                                     ${o}.0);\n\n      float getAValue(int b, int r, int c, int d) {\n        return getChannel(getA(b, r, c, d), vec2(c, d));\n      }\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        // Calculate values for next column in yRC.z.\n        ivec3 yRC = coords.yzz + ivec3(0, 0, 1);\n\n        // Fractional source index.\n        vec3 sourceFracIndexRC = ${h};\n\n        // Compute the four integer indices.\n        ivec3 sourceFloorRC = ivec3(max(sourceFracIndexRC, vec3(0.0)));\n        ivec3 sourceCeilRC = ivec3(\n          min(inputShapeRC - 1.0, ceil(sourceFracIndexRC)));\n\n        // Should we calculate next column and row elements in 2x2 packed cell.\n        bool hasNextCol = d < ${l-1};\n        bool hasNextRow = coords.z < ${n-1};\n\n        // In parallel, construct four corners for all four components in\n        // packed 2x2 cell.\n        vec4 topLeft = vec4(\n          getAValue(b, sourceFloorRC.x, sourceFloorRC.y, d),\n          hasNextCol ? getAValue(b, sourceFloorRC.x, sourceFloorRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceFloorRC.x, sourceFloorRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceFloorRC.x, sourceFloorRC.z, d + 1) : 0.0);\n\n        vec4 bottomLeft = vec4(\n          getAValue(b, sourceCeilRC.x, sourceFloorRC.y, d),\n          hasNextCol ? getAValue(b, sourceCeilRC.x, sourceFloorRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceCeilRC.x, sourceFloorRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceCeilRC.x, sourceFloorRC.z, d + 1) : 0.0);\n\n        vec4 topRight = vec4(\n          getAValue(b, sourceFloorRC.x, sourceCeilRC.y, d),\n          hasNextCol ? getAValue(b, sourceFloorRC.x, sourceCeilRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceFloorRC.x, sourceCeilRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceFloorRC.x, sourceCeilRC.z, d + 1) : 0.0);\n\n        vec4 bottomRight = vec4(\n          getAValue(b, sourceCeilRC.x, sourceCeilRC.y, d),\n          hasNextCol ? getAValue(b, sourceCeilRC.x, sourceCeilRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceCeilRC.x, sourceCeilRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceCeilRC.x, sourceCeilRC.z, d + 1) : 0.0);\n\n        vec3 fracRC = sourceFracIndexRC - vec3(sourceFloorRC);\n\n        vec4 top = mix(topLeft, topRight, fracRC.yyzz);\n        vec4 bottom = mix(bottomLeft, bottomRight, fracRC.yyzz);\n        vec4 newValue = mix(top, bottom, fracRC.x);\n\n        setOutput(newValue);\n      }\n    `}}const Ave={kernelName:qQ,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{images:a}=t,{alignCorners:i,halfPixelCenters:s,size:o}=r,[l,c]=o,u=IX().getBool("WEBGL_PACK_IMAGE_OPERATIONS")?new Eve(a.shape,l,c,i,s):new Nve(a.shape,l,c,i,s);return n.runWebGLProgram(u,[a],"float32")}};class Cve{constructor(e,t,n){this.variableNames=["dy"],this.outputShape=[],this.outputShape=t;const[,r,a]=t,[,i,s]=e,o=[n&&i>1?r-1:r,n&&s>1?a-1:a],l=[n&&i>1?i-1:i,n&&s>1?s-1:s],c=o[0]/l[0],u=o[1]/l[1],h=1/c,d=1/u,p=2*Math.ceil(h)+2,f=2*Math.ceil(d)+2;this.userCode=`\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        int r = coords[1];\n        int c = coords[2];\n\n        float accumulator = 0.0;\n\n        const float heightScale = float(${c});\n        const float widthScale = float(${u});\n\n        const float invHeightScale = float(${h});\n        const float invWidthScale = float(${d});\n\n        const int winHeight = int(${p});\n        const int winWidth = int(${f});\n\n        // Compute bounds for where in dy we will look\n        float startRLerp = floor(float(r) * invHeightScale);\n        int startDyR = int(startRLerp - float(winHeight / 2));\n\n        float startCLerp = floor(float(c) * invWidthScale);\n        int startDyC = int(startCLerp - float(winWidth / 2));\n\n        // Loop over dy\n        for (int dyROffset = 0; dyROffset < winHeight; dyROffset++) {\n          int dyR = dyROffset + startDyR;\n\n          // Guard against the window exceeding the bounds of dy\n          if (dyR < 0 || dyR >= ${i}) {\n            continue;\n          }\n\n          for (int dyCOffset = 0; dyCOffset < winWidth; dyCOffset++) {\n            int dyC = dyCOffset + startDyC;\n\n            // Guard against the window exceeding the bounds of dy\n            if (dyC < 0 || dyC >= ${s}) {\n              continue;\n            }\n\n            float dxR = float(dyR) * heightScale;\n            int topDxRIndex = int(floor(dxR));\n            int bottomDxRIndex = int(min(ceil(dxR), ${r-1}.0));\n            float dxRLerp = dxR - float(topDxRIndex);\n            float inverseDxRLerp = 1.0 - dxRLerp;\n\n            float dxC = float(dyC) * widthScale;\n            int leftDxCIndex = int(floor(dxC));\n            int rightDxCIndex = int(min(ceil(dxC), ${a-1}.0));\n            float dxCLerp = dxC - float(leftDxCIndex);\n            float inverseDxCLerp = 1.0 - dxCLerp;\n\n            if (r == topDxRIndex && c == leftDxCIndex) {\n              // topLeft\n              accumulator +=\n                getDy(b, dyR, dyC, d) * inverseDxRLerp * inverseDxCLerp;\n            }\n\n            if (r == topDxRIndex && c == rightDxCIndex) {\n              // topRight\n              accumulator += getDy(b, dyR, dyC, d) * inverseDxRLerp * dxCLerp;\n            }\n\n            if (r == bottomDxRIndex && c == leftDxCIndex) {\n              // bottomLeft\n              accumulator += getDy(b, dyR, dyC, d) * dxRLerp * inverseDxCLerp;\n            }\n\n            if (r == bottomDxRIndex && c == rightDxCIndex) {\n              // bottomRight\n              accumulator += getDy(b, dyR, dyC, d) * dxRLerp * dxCLerp;\n            }\n          }\n        }\n        // End loop over dy\n\n        setOutput(accumulator);\n      }\n    `}}const jve={kernelName:XQ,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{images:a,dy:i}=t,{alignCorners:s}=r,o=new Cve(i.shape,a.shape,s);return n.runWebGLProgram(o,[i],i.dtype)}};class Mve{constructor(e,t,n,r,a){this.variableNames=["A"],this.outputShape=[];const[i,s,o,l]=e;this.outputShape=[i,t,n,l];const c=[r&&t>1?s-1:s,r&&n>1?o-1:o],u=[r&&t>1?t-1:t,r&&n>1?n-1:n],h=r?"0.5":"0.0";let d;d=a?"max((vec2(yRC) + vec2(0.5)) * effectiveInputOverOutputRatioRC, vec2(0.0))":"vec2(yRC) * effectiveInputOverOutputRatioRC",this.userCode=`\n      const vec2 effectiveInputOverOutputRatioRC = vec2(\n          ${c[0]/u[0]},\n          ${c[1]/u[1]});\n      const vec2 inputShapeRC = vec2(${s}.0, ${o}.0);\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        ivec2 yRC = coords.yz;\n\n        // Fractional source index.\n        vec2 sourceFracIndexRC = ${d};\n\n        // Compute the coordinators of nearest neighbor point.\n        ivec2 sourceNearestRC = ivec2(\n          min(inputShapeRC - 1.0, floor(sourceFracIndexRC + ${h})));\n        float newValue = getA(b, sourceNearestRC.x, sourceNearestRC.y, d);\n\n        setOutput(newValue);\n      }\n    `}}class Tve{constructor(e,t,n,r,a){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[];const[i,s,o,l]=e;this.outputShape=[i,t,n,l];const c=[r&&t>1?s-1:s,r&&n>1?o-1:o],u=[r&&t>1?t-1:t,r&&n>1?n-1:n],h=r?"0.5":"0.0";let d;d=a?"max((vec3(yRC) + vec3(0.5)) * effectiveInputOverOutputRatioRC, vec3(0.0))":"vec3(yRC) * effectiveInputOverOutputRatioRC",this.userCode=`\n      const vec3 effectiveInputOverOutputRatioRC = vec3(\n          ${c[0]/u[0]},\n          ${c[1]/u[1]},\n          ${c[1]/u[1]});\n      const vec3 inputShapeRC = vec3(${s}.0, ${o}.0,\n                                     ${o}.0);\n\n      float getAValue(int b, int r, int c, int d) {\n        return getChannel(getA(b, r, c, d), vec2(c, d));\n      }\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        // Calculate values for next column in yRC.z.\n        ivec3 yRC = coords.yzz + ivec3(0, 0, 1);\n\n        // Fractional source index.\n        vec3 sourceFracIndexRC = ${d};\n\n        // Compute the coordinators of nearest neighbor point.\n        ivec3 sourceNearestRC = ivec3(\n          min(inputShapeRC - 1.0, floor(sourceFracIndexRC + ${h})));\n\n        // Should we calculate next column and row elements in 2x2 packed cell.\n        bool hasNextCol = d < ${l-1};\n        bool hasNextRow = coords.z < ${n-1};\n\n        vec4 newValue = vec4(\n          getAValue(b, sourceNearestRC.x, sourceNearestRC.y, d),\n          hasNextCol ? getAValue(b, sourceNearestRC.x, sourceNearestRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceNearestRC.x, sourceNearestRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceNearestRC.x, sourceNearestRC.z, d + 1) : 0.0);\n\n        setOutput(newValue);\n      }\n    `}}const Ive={kernelName:GQ,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{images:a}=t,{alignCorners:i,halfPixelCenters:s,size:o}=r,[l,c]=o,u=IX().getBool("WEBGL_PACK_IMAGE_OPERATIONS")?new Tve(a.shape,l,c,i,s):new Mve(a.shape,l,c,i,s);return n.runWebGLProgram(u,[a],a.dtype)}};class Ove{constructor(e,t,n){this.variableNames=["dy"],this.outputShape=[],this.outputShape=t;const[,r,a]=t,[,i,s]=e,o=[n&&i>1?r-1:r,n&&s>1?a-1:a],l=[n&&i>1?i-1:i,n&&s>1?s-1:s],c=o[0]/l[0],u=o[1]/l[1],h=1/c,d=1/u,p=2*Math.ceil(h)+2,f=2*Math.ceil(d)+2;this.userCode=`\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        int r = coords[1];\n        int c = coords[2];\n\n        float accumulator = 0.0;\n\n        const float heightScale = float(${c});\n        const float widthScale = float(${u});\n\n        const float invHeightScale = float(${h});\n        const float invWidthScale = float(${d});\n\n        const int winHeight = int(${p});\n        const int winWidth = int(${f});\n\n        // Compute bounds for where in dy we will look\n        float startRLerp = floor(float(r) * invHeightScale);\n        int startDyR = int(floor(startRLerp - float(winHeight / 2)));\n\n        float startCLerp = floor(float(c) * invWidthScale);\n        int startDyC = int(floor(startCLerp - float(winWidth / 2)));\n\n        // Loop over dy\n        for (int dyROffset = 0; dyROffset < winHeight; dyROffset++) {\n          int dyR = dyROffset + startDyR;\n\n          // Guard against the window exceeding the bounds of dy\n          if (dyR < 0 || dyR >= ${i}) {\n            continue;\n          }\n\n          for (int dyCOffset = 0; dyCOffset < winWidth; dyCOffset++) {\n            int dyC = dyCOffset + startDyC;\n\n            // Guard against the window exceeding the bounds of dy\n            if (dyC < 0 || dyC >= ${s}) {\n              continue;\n            }\n\n            float sourceFracRow =\n              float(${o[0]}) *\n                (float(dyR) / float(${l[0]}));\n\n            float sourceFracCol =\n                float(${o[1]}) *\n                  (float(dyC) / float(${l[1]}));\n\n            int sourceNearestRow = int(min(\n                float(int(${r}) - 1),\n                ${n} ? float(round(sourceFracRow)) :\n                                  float(floor(sourceFracRow))));\n\n            int sourceNearestCol = int(min(\n                float(int(${a}) - 1),\n                ${n} ? float(round(sourceFracCol)) :\n                                  float(floor(sourceFracCol))));\n\n            if (r == sourceNearestRow && c == sourceNearestCol) {\n              accumulator += getDy(b, dyR, dyC, d);\n            }\n          }\n        }\n        // End loop over dy\n\n        setOutput(accumulator);\n      }\n    `}}const Pve={kernelName:KQ,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{images:a,dy:i}=t,{alignCorners:s}=r,o=new Ove(i.shape,a.shape,s);return n.runWebGLProgram(o,[i],i.dtype)}};class Rve{constructor(e,t){this.variableNames=["x"];const n=e.length;if(n>4)throw new Error(`WebGL backend: Reverse of rank-${n} tensor is not yet supported`);if(this.outputShape=e,1===n)return void(this.userCode=`\n        void main() {\n          int coord = getOutputCoords();\n          setOutput(getX(${e[0]} - coord - 1));\n        }\n      `);const r=e.map((n,r)=>(n=>-1!==t.indexOf(n)&&1!==e[n]?`${e[n]} - coords[${n}] - 1`:`coords[${n}]`)(r)).join(","),a=gpe(n);this.userCode=`\n      void main() {\n        ${a} coords = getOutputCoords();\n        setOutput(getX(${r}));\n      }\n    `}}class _ve{constructor(e,t){this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0;const n=e.length;if(n>4)throw new Error(`WebGL backend: Reverse of rank-${n} tensor is not yet supported`);this.outputShape=e;const r=Ffe("rc",n),a=`${r[n-1]} + 1 < ${this.outputShape[n-1]}`,i=`${r[n-2]} + 1 < ${this.outputShape[n-2]}`,s=gpe(n);var o;function l(n){const r=e.map((r,a)=>function(n,r){return-1!==t.indexOf(n)&&1!==e[n]?`${e[n]} - ${r[n]} - 1`:`${r[n]}`}(a,n));return`getChannel(getX(${r.join(",")}), vec2(${r.slice(-2).join(",")}))`}this.userCode=1===n?`\n        void main(){\n          int rc = getOutputCoords();\n          vec4 result = vec4(0.);\n          result.r = getChannel(getX(${e[0]} - rc - 1),\n            ${e[0]} - rc - 1);\n          if(${a}){\n              result.g = getChannel(getX(${e[0]} - (rc  + 1) - 1),\n                ${e[0]} - (rc  + 1) - 1);\n          }\n          setOutput(result);\n        }\n      `:`\n        void main() {\n          ${s} rc = getOutputCoords();\n          vec4 result = vec4(0.);\n          result.r = ${o=r.slice(),l(o)};\n          if(${a}){\n            result.g = ${function(e){return e[n-1]="("+e[n-1]+" + 1)",l(e)}(r.slice())};\n          }\n          if(${i}) {\n            result.b = ${function(e){return e[n-2]="("+e[n-2]+" + 1)",l(e)}(r.slice())};\n            if(${a}) {\n              result.a = ${function(e){return e[n-1]="("+e[n-1]+" + 1)",e[n-2]="("+e[n-2]+" + 1)",l(e)}(r.slice())};\n            }\n          }\n          setOutput(result);\n        }\n    `}}const Lve={kernelName:QQ,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{dims:i}=r,s=a.shape.length,o=oX(i,a.shape);if(0===s)return ome({inputs:{x:a},backend:n});const l=IX().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new _ve(a.shape,o):new Rve(a.shape,o);return n.runWebGLProgram(l,[a],a.dtype)}};class $ve{constructor(e,t){this.variableNames=["Image"],this.outputShape=[],this.customUniforms=[{name:"params",type:"vec4"}];const n=e[1],r=e[2];this.outputShape=e;let a="";a="number"==typeof t?`float outputValue = ${t.toFixed(2)};`:`\n        vec3 fill = vec3(${t.join(",")});\n        float outputValue = fill[coords[3]];`,this.userCode=`\n        void main() {\n          ivec4 coords = getOutputCoords();\n          int x = coords[2];\n          int y = coords[1];\n          float coordXFloat = (float(x) - params[0]) * params[3] -\n            (float(y) - params[1]) * params[2];\n          float coordYFloat = (float(x) - params[0]) * params[2] +\n            (float(y) - params[1]) * params[3];\n          int coordX = int(round(coordXFloat + params[0]));\n          int coordY = int(round(coordYFloat + params[1]));\n          ${a}\n          if(coordX >= 0 && coordX < ${r} && coordY >= 0 && coordY < ${n}) {\n            outputValue = getImage(coords[0], coordY, coordX, coords[3]);\n          }\n          setOutput(outputValue);\n        }\n    `}}const Fve={kernelName:VJ,backendName:"webgl",kernelFunc:({inputs:e,attrs:t,backend:n})=>{const{image:r}=e,{radians:a,fillValue:i,center:s}=t,o=n,l=new $ve(r.shape,i),[c,u]=D5(s,r.shape[1],r.shape[2]),h=[[c,u,Math.sin(a),Math.cos(a)]];return o.runWebGLProgram(l,[r],r.dtype,h)}},Dve=xme({opSnippet:"\n  // OpenGL ES does not support round function.\n  // The algorithm is based on banker's rounding.\n  float base = floor(x);\n  if ((x - base) < 0.5) {\n    return floor(x);\n  } else if ((x - base) > 0.5) {\n    return ceil(x);\n  } else {\n    if (mod(base, 2.0) == 0.0) {\n      return base;\n    } else {\n      return base + 1.0;\n    }\n  }\n"}),zve={kernelName:JQ,backendName:"webgl",kernelFunc:Dve},Vve=xme({opSnippet:"return inversesqrt(x);",cpuKernelImpl:xfe}),Bve={kernelName:eJ,backendName:"webgl",kernelFunc:Vve};class Hve{constructor(e,t,n,r,a,i,s=!0,o=!1){this.variableNames=["updates","indices","defaultValue"],this.outputShape=i;const l=gpe(a.length),c=gpe(i.length);let u="";1===n?u="i":2===n&&(u="i, j");const h=`getIndices(${u})`;let d="";1===r?d="i":2===r&&(d="i, coords[1]");const p=`getUpdates(${d})`;let f="";o&&(f="coords[0], coords[1]");const m=`getDefaultValue(${f})`,g=t>1?"strides[j]":"strides";this.userCode=`\n        ${l} strides = ${l}(${a});\n\n        void main() {\n          ${c} coords = getOutputCoords();\n          float sum = 0.0;\n          bool found = false;\n          for (int i = 0; i < ${e}; i++) {\n            int flattenedIndex = 0;\n            for (int j = 0; j < ${t}; j++) {\n              int index = round(${h});\n              flattenedIndex += index * ${g};\n            }\n            if (flattenedIndex == coords[0]) {\n              sum += ${p};\n              found = true;\n            }\n          }\n          setOutput(mix(${m}, sum, float(found)));\n        }\n      `}}class Uve{constructor(e,t,n,r,a,i,s=!0,o=!1){this.variableNames=["updates","indices","defaultValue"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=i;const l=gpe(a.length),c=gpe(i.length);let u="";1===n?u="i":2===n&&(u="i, j");const h=`getIndices(${u})`;let d="";1===r?d="i":2===r&&(d="i, coords[1]");const p=`getUpdates(${d})`;let f="";o&&(f="coords[0], coords[1]");const m=`getDefaultValue(${f})`,g=t>1?"strides[j]":"strides",y=t>1?"strides[j + 1]":"strides";this.userCode=`\n        ${l} strides = ${l}(${a});\n\n        void main() {\n          ${c} coords = getOutputCoords();\n          vec4 sum = vec4(0.);\n          vec4 found = vec4(0.);\n          for (int i = 0; i < ${e}; i+=2) {\n            ivec2 flattenedIndex = ivec2(0);\n            for (int j = 0; j < ${t}; j+=2) {\n              ivec4 index = round(${h});\n              flattenedIndex += index.xz * ${g};\n              if (j + 1 < ${t}) {\n                flattenedIndex += index.yw * ${y};\n              }\n            }\n            if (flattenedIndex[0] == coords[0] || flattenedIndex[1] == coords[0] ||\n                flattenedIndex[0] == coords[0] + 1 || flattenedIndex[1] == coords[0] + 1) {\n              vec4 updVals = ${p};\n              if (flattenedIndex[0] == coords[0]) {\n                sum.xy += updVals.xy;\n                found.xy = vec2(1.);\n              } else if (flattenedIndex[0] == coords[0] + 1) {\n                sum.zw += updVals.xy;\n                found.zw = vec2(1.);\n              }\n              if (flattenedIndex[1] == coords[0]) {\n                sum.xy += updVals.zw;\n                found.xy = vec2(1.);\n              } else if (flattenedIndex[1] == coords[0] + 1) {\n                sum.zw += updVals.zw;\n                found.zw = vec2(1.);\n              }\n            }\n          }\n          setOutput(mix(${m}, sum, found));\n        }\n      `}}const Wve={kernelName:tJ,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{indices:a,updates:i}=t,{shape:s}=r,{sliceRank:o,numUpdates:l,sliceSize:c,strides:u,outputSize:h}=t3(0,a,s),d=[h/c,c];if(0===h)return n.makeTensorInfo(s,a.dtype);const p=jme({inputs:{x:a},backend:n,attrs:{shape:[l,o]}}),f=jme({inputs:{x:i},backend:n,attrs:{shape:[l,c]}}),m=n.makeTensorInfo([],"float32",new Float32Array([0]));let g;g=IX().getBool("WEBGL_PACK")?new Uve(l,o,p.shape.length,f.shape.length,u,d):new Hve(l,o,p.shape.length,f.shape.length,u,d);const y=n.runWebGLProgram(g,[f,p,m],f.dtype),x=jme({inputs:{x:y},backend:n,attrs:{shape:s}});return n.disposeIntermediateTensorInfo(p),n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(y),n.disposeIntermediateTensorInfo(m),x}};class Zve{constructor(e,t,n,r){this.variableNames=["sortedSequence","values"],this.customUniforms=[{name:"numInputs",type:"int"}],this.outputShape=[e,n];const a=`for (int i = 0; i < ${Math.ceil(Math.log2(t+1))}; ++i) { if (left >= right) break;`,i=2===IX().getNumber("WEBGL_VERSION")?"while (left < right) {":a,s="left"===r?"<":"<=";this.userCode=`\n       int findBound(int batch, float value) {\n         int left = 0;\n         int right = numInputs;\n         int mid;\n         ${i}\n           mid = (left + right) / 2;\n           if (getSortedSequence(batch, mid) ${s} value) {\n             left = mid + 1;\n           } else {\n             right = mid;\n           }\n         }\n         return right;\n       }\n\n       void main() {\n         ivec2 coords = getOutputCoords();\n         int batch = coords[0];\n         int valueIndex = coords[1];\n\n         float value = getValues(batch, valueIndex);\n\n         setOutput(float(findBound(batch, value)));\n       }\n     `}}const Gve={kernelName:rJ,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{sortedSequence:a,values:i}=t,{side:s}=r,o=new Zve(a.shape[0],a.shape[1],i.shape[1],s),l=[[a.shape[1]]];return n.runWebGLProgram(o,[a,i],"int32",l)}};class Kve{constructor(e,t,n){let r,a;if(this.variableNames=["c","a","b"],this.outputShape=t,n>4)throw Error(`Where for rank ${n} is not yet supported`);if(1===n)a="resRC",r="resRC";else{const n=["resRC.x","resRC.y","resRC.z","resRC.w"],i=[],s=[];for(let r=0;r<t.length;r++)s.push(`${n[r]}`),r<e&&i.push(`${n[r]}`);r=i.join(),a=s.join()}const i=gpe(n);this.userCode=`\n      void main() {\n        ${i} resRC = getOutputCoords();\n        float cVal = getC(${r});\n        if (cVal >= 1.0) {\n          setOutput(getA(${a}));\n        } else {\n          setOutput(getB(${a}));\n        }\n      }\n    `}}const qve={kernelName:aJ,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{condition:r,t:a,e:i}=t,s=new Kve(r.shape.length,a.shape,a.shape.length);return n.runWebGLProgram(s,[r,a,i],X0(a.dtype,i.dtype))}},Xve=xme({opSnippet:`\n  // Stable and Attracting Fixed Point (0, 1) for Normalized Weights.\n  // see: https://arxiv.org/abs/1706.02515\n  float scaleAlpha = 1.7580993408473768;\n  float scale = ${Z5};\n  return (x >= 0.0) ? scale * x : scaleAlpha * (exp(x) - 1.0);\n`}),Yve={kernelName:iJ,backendName:"webgl",kernelFunc:Xve},Qve=xme({opSnippet:yme+"\n  return 1.0 / (1.0 + exp(-1.0 * x));\n",packedOpSnippet:"\n  vec4 result = 1.0 / (1.0 + exp(-1.0 * x));\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n",cpuKernelImpl:vfe}),Jve={kernelName:uJ,backendName:"webgl",kernelFunc:Qve},ewe=xme({opSnippet:"\n  if (isnan(x)) { return 0.0; }\n  return sign(x);\n"}),twe={kernelName:cJ,backendName:"webgl",kernelFunc:ewe},nwe=xme({opSnippet:yme+"\n  return sin(x);\n",packedOpSnippet:`\n  vec4 result = sin(x);\n  bvec4 isNaN = isnan(x);\n  ${ime}\n  return result;\n`}),rwe={kernelName:oJ,backendName:"webgl",kernelFunc:nwe},awe=xme({opSnippet:"\n  float e2x = exp(x);\n  return (e2x - 1.0 / e2x) / 2.0;\n"}),iwe={kernelName:lJ,backendName:"webgl",kernelFunc:awe},swe=xme({opSnippet:"\n  float epsilon = 1.1920928955078125e-7;\n  float threshold = log(epsilon) + 2.0;\n\n  bool too_large = x > -threshold;\n  bool too_small = x < threshold;\n\n  float result;\n  float exp_x = exp(x);\n\n  if (too_large){\n    result = x;\n  }\n  else if (too_small){\n    result = exp_x;\n  }\n  else{\n    result = log(exp_x + 1.0);\n  }\n  return result;\n"}),owe={kernelName:hJ,backendName:"webgl",kernelFunc:swe},lwe={kernelName:fJ,backendName:"webgl",kernelFunc:e=>{const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{blockShape:i,paddings:s}=r;Yq(a.shape.length<=4,()=>"spaceToBatchND for rank > 4 with a WebGL backend not implemented yet");const o=i.reduce((e,t)=>e*t),l=[[0,0]];l.push(...s);for(let y=1+i.length;y<a.shape.length;++y)l.push([0,0]);const c=[],u=lve({inputs:{x:a},backend:n,attrs:{paddings:l,constantValue:0}}),h=z5(u.shape,i,o,!1),d=V5(h.length,i.length,!1),p=B5(u.shape,i,o,!1),f=jme({inputs:{x:u},backend:n,attrs:{shape:h}}),m=Fme({inputs:{x:f},backend:n,attrs:{perm:d}}),g=jme({inputs:{x:m},backend:n,attrs:{shape:p}});return c.push(u),c.push(f),c.push(m),c.forEach(e=>n.disposeIntermediateTensorInfo(e)),g}};const cwe={kernelName:yJ,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{indices:r,values:a,denseShape:i,defaultValue:s}=t;if(1!==i.shape.length)throw new Error(`Dense shape must be a vector, saw:\n         ${i.shape}`);if(2!==r.shape.length)throw new Error(`Indices must be a matrix, saw:\n         ${r.shape}`);if(1!==a.shape.length)throw new Error(`Values must be a vector, saw:\n         ${a.shape}`);if(0!==s.shape.length)throw new Error(`Default value must be a scalar, saw:\n        ${s.shape}`);const o=n.readSync(r.dataId),l=n.readSync(a.dataId),c=n.readSync(i.dataId),u=n.readSync(s.dataId)[0],[h,d,p,f,m]=Sfe(o,r.shape,r.dtype,l,a.dtype,c,u);return[n.makeTensorInfo(d,r.dtype,h),n.makeTensorInfo([d[0]],a.dtype,p),n.makeTensorInfo([f.length],"bool",new Uint8Array(f.map(e=>Number(e)))),n.makeTensorInfo([m.length],r.dtype,new Int32Array(m))]}};const uwe={kernelName:xJ,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{inputIndices:r,inputShape:a,newShape:i}=t;if(2!==r.shape.length)throw new Error(`Input indices should be a matrix but received shape ${r.shape}`);if(1!==a.shape.length)throw new Error(`Input shape should be a vector but received shape ${a.shape}`);if(1!==i.shape.length)throw new Error(`Target shape should be a vector but received shape ${i.shape}`);const s=Array.from(n.readSync(a.dataId)),o=n.readSync(r.dataId),l=Array.from(n.readSync(i.dataId)),[c,u,h]=Nfe(o,r.shape,r.dtype,s,l);return[n.makeTensorInfo(u,r.dtype,c),n.makeTensorInfo([h.length],i.dtype,new Int32Array(h))]}};const hwe={kernelName:bJ,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{data:r,indices:a,segmentIds:i}=t;if(r.shape.length<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(1!==a.shape.length)throw new Error(`Indices should be a vector but received shape\n              ${a.shape}`);if(1!==i.shape.length)throw new Error(`Segment ids should be a vector but received shape\n              ${i.shape}`);const s=n.readSync(r.dataId),o=n.readSync(a.dataId),l=n.readSync(i.dataId),[c,u]=Efe(s,r.shape,r.dtype,o,l,!0);return n.makeTensorInfo(u,r.dtype,c)}};const dwe={kernelName:vJ,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{data:r,indices:a,segmentIds:i}=t;if(r.shape.length<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(1!==a.shape.length)throw new Error(`Indices should be a vector but received shape\n             ${a.shape}`);if(1!==i.shape.length)throw new Error(`Segment ids should be a vector but received shape\n             ${i.shape}`);const s=n.readSync(r.dataId),o=n.readSync(a.dataId),l=n.readSync(i.dataId),[c,u]=Efe(s,r.shape,r.dtype,o,l);return n.makeTensorInfo(u,r.dtype,c)}};const pwe={kernelName:wJ,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{sparseIndices:a,sparseValues:i,defaultValue:s}=t,{outputShape:o}=r,{sliceRank:l,numUpdates:c,sliceSize:u,strides:h,outputSize:d}=t3(0,a,o),p=!1;if("string"===i.dtype){const e=n.bufferSync(a),t=n.bufferSync(i),r=k0(n.readSync(s.dataId)[0]),f=bfe(e,t,o,d,u,c,l,h,r,p);return n.makeTensorInfo(o,f.dtype,f.values)}const f=new Hve(c,l,a.shape.length,i.shape.length,h,[d,1],p),m=n.runWebGLProgram(f,[i,a,s],i.dtype),g=jme({inputs:{x:m},backend:n,attrs:{shape:o}});return n.disposeIntermediateTensorInfo(m),g}};const fwe={kernelName:mJ,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{numOrSizeSplits:i,axis:s}=r,o=oX(s,a.shape)[0],l=m9(a,i,o),c=a.shape.length,u=new Array(c).fill(0),h=a.shape.slice();return l.map(e=>{const t=[...h];t[o]=e;const r=Rge({inputs:{x:a},backend:n,attrs:{begin:u,size:t}});return u[o]+=e,r})}},mwe="return sqrt(x);",gwe=xme({opSnippet:mwe,packedOpSnippet:mwe,cpuKernelImpl:Afe}),ywe={kernelName:dJ,backendName:"webgl",kernelFunc:gwe},xwe={kernelName:SJ,backendName:"webgl",kernelFunc:xme({opSnippet:"return x * x;"})},bwe="return (a - b) * (a - b);",vwe=bme({opSnippet:bwe,packedOpSnippet:bwe}),wwe={kernelName:kJ,backendName:"webgl",kernelFunc:vwe};const kwe={kernelName:NJ,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t;if("string"!==a.dtype)throw new Error("Input must be of datatype string");const i=O9(n.readSync(a.dataId)),s=Cfe(i,"string",r);return n.makeTensorInfo(a.shape,"string",s)}};const Swe={kernelName:zJ,backendName:"webgl",kernelFunc:function({inputs:e,attrs:t,backend:n}){const{x:r}=e,a=Zfe+`\n    return x > 0.0 ? 1.0 : float(${t.alpha});\n  `,i=new Wfe(r.shape,a);return n.runWebGLProgram(i,[r],r.dtype)}};class Nwe{constructor(e,t,n){this.variableNames=["x"],this.outputShape=n;const r=n.length,a=gpe(n.length),i=gpe(n.length);let s="";if(1===r)s="coords * strides + begin";else{let e=0;s=n.map((t,r)=>(e++,1===n.length?`coords * strides[${r}] + begin[${r}]`:`coords[${e-1}] * strides[${r}] + begin[${r}]`)).join(",")}this.userCode=`\n      ${a} begin = ${a}(${e});\n      ${a} strides = ${a}(${t});\n\n      void main() {\n        ${i} coords = getOutputCoords();\n        setOutput(getX(${s}));\n      }\n    `}}const Ewe={kernelName:EJ,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{begin:i,end:s,strides:o,beginMask:l,endMask:c,ellipsisMask:u,newAxisMask:h,shrinkAxisMask:d}=r,{finalShapeSparse:p,finalShape:f,isIdentity:m,sliceDim0:g,isSimpleSlice:y,begin:x,end:b,strides:v}=N5(a.shape,i,s,o,l,c,u,h,d);let w;if(m)w=jme({inputs:{x:a},backend:n,attrs:{shape:f}});else if(g||y){Yq(a.shape.length>=1,()=>`Input must have rank at least 1, got: ${a.shape.length}`);const e=d5(x,b,v),t=Rge({inputs:{x:a},backend:n,attrs:{begin:x,size:e}});w=jme({inputs:{x:t},backend:n,attrs:{shape:f}}),n.disposeIntermediateTensorInfo(t)}else{if(n.shouldExecuteOnCPU([a])){const e=n.readSync(a.dataId),t=d2(a.shape,a.dtype,e),r=jfe(p,t,v,x);w=n.makeTensorInfo(f,a.dtype,r.values)}else{const e=new Nwe(x,v,p);w=n.runWebGLProgram(e,[a],a.dtype)}}const k=jme({inputs:{x:w},backend:n,attrs:{shape:f}});return n.disposeIntermediateTensorInfo(w),k}};const Awe={kernelName:AJ,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{separator:a,nGramWidths:i,leftPad:s,rightPad:o,padWidth:l,preserveShortSequences:c}=r,{data:u,dataSplits:h}=t,d=n.readSync(u.dataId),p=n.readSync(h.dataId),[f,m]=Mfe(d,p,a,i,s,o,l,c);return[n.makeTensorInfo([f.length],"string",f),n.makeTensorInfo(h.shape,"int32",m)]}};const Cwe={kernelName:CJ,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{skipEmpty:a}=r,{input:i,delimiter:s}=t;if("string"!==i.dtype)throw new Error("Input must be of datatype string");if(1!==i.shape.length)throw new Error(`Input must be a vector, got shape: ${i.shape}`);if(0!==s.shape.length)throw new Error(`Delimiter must be a scalar, got shape: ${s.shape}`);const o=n.readSync(i.dataId),l=n.readSync(s.dataId)[0],[c,u,h]=Tfe(o,l,a),d=u.length;return[n.makeTensorInfo([d,2],"int32",c),n.makeTensorInfo([d],"string",u),n.makeTensorInfo([2],"int32",new Int32Array(h))]}};const jwe={kernelName:jJ,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{numBuckets:a}=r,{input:i}=t;if("string"!==i.dtype)throw new Error("Input must be of datatype string");if(a<=0)throw new Error("Number of buckets must be at least 1");const s=n.readSync(i.dataId),o=Ife(s,a);return n.makeTensorInfo(i.shape,"int32",o)}},Mwe=xme({opSnippet:"return tan(x);"}),Twe={kernelName:TJ,backendName:"webgl",kernelFunc:Mwe},Iwe=xme({opSnippet:"\n  float e2x = exp(-2.0 * abs(x));\n  return sign(x) * (1.0 - e2x) / (1.0 + e2x);\n"}),Owe={kernelName:IJ,backendName:"webgl",kernelFunc:Iwe};const Pwe={kernelName:nJ,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{tensor:a,indices:i,updates:s}=t,{sliceRank:o,numUpdates:l,sliceSize:c,strides:u,outputSize:h}=t3(0,i,a.shape),d=[h/c,c];if(0===h)return n.makeTensorInfo(a.shape,i.dtype);const p=jme({inputs:{x:i},backend:n,attrs:{shape:[l,o]}}),f=jme({inputs:{x:s},backend:n,attrs:{shape:[l,c]}}),m=jme({inputs:{x:a},backend:n,attrs:{shape:d}}),g=new Hve(l,o,p.shape.length,f.shape.length,u,d,!1,!0),y=n.runWebGLProgram(g,[f,p,m],m.dtype),x=jme({inputs:{x:y},backend:n,attrs:{shape:a.shape}});return n.disposeIntermediateTensorInfo(p),n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(m),n.disposeIntermediateTensorInfo(y),x}};class Rwe{constructor(e,t){this.variableNames=["A"];const n=new Array(e.length);for(let i=0;i<n.length;i++)n[i]=e[i]*t[i];this.outputShape=n,this.rank=n.length;const r=gpe(this.rank),a=function(e){const t=e.length;if(t>5)throw Error(`Tile for rank ${t} is not yet supported`);if(1===t)return`imod(resRC, ${e[0]})`;const n=["resRC.x","resRC.y","resRC.z","resRC.w","resRC.u"],r=[];for(let a=0;a<e.length;a++)r.push(`imod(${n[a]}, ${e[a]})`);return r.join()}(e);this.userCode=`\n      void main() {\n        ${r} resRC = getOutputCoords();\n        setOutput(getA(${a}));\n      }\n    `}}function _we(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{reps:i}=r;if("string"===a.dtype||a.shape.length>5){const e=n.readSync(a.dataId),t="string"===a.dtype?e.map(e=>k0(e)):e,r=d2(a.shape,a.dtype,t),s=Pfe(r,i);return n.makeTensorInfo(s.shape,s.dtype,s.values)}const s=new Rwe(a.shape,i);return n.runWebGLProgram(s,[a],a.dtype)}const Lwe={kernelName:OJ,backendName:"webgl",kernelFunc:_we};class $we{constructor(e){this.variableNames=["x","indices"],this.customUniforms=[{name:"n",type:"int"},{name:"firstPass",type:"int"},{name:"negativeInf",type:"float"},{name:"dir",type:"int"},{name:"inc",type:"int"}],this.outputShape=e,this.userCode="\n       void main() {\n         ivec2 coords = getOutputCoords();\n         int batch = coords[0];\n         int elemIdx = coords[1];\n\n         // We compare elements pair-wise within a group of size 2 * inc.\n         // The comparing rule for each group alternates between ascending\n         // and descending. Within each group, we compare each pair at\n         // positions i and i+inc. To decide whether an element at position i\n         // is x0 or x1, we mod it by 2 * inc, if the result is smaller than\n         // inc, it is in the first half of the group, we denote it as x0,\n         // otherwise we denote it as x1.\n         // For example, as shown in the Bitonic top K paper referenced above,\n         // Figure5(a) shows that element[1] is in the\n         // second half of the group when group size is 2, but it is in the\n         // first half of the group when group size is 4.\n\n         bool isFirstInPair = imod(elemIdx, 2 * inc) < inc;\n         int i = isFirstInPair ? elemIdx : elemIdx - inc;\n\n         int i0 = firstPass == 1 ? i : int(getIndices(batch, i));\n         int i1 = firstPass == 1 ? i + inc : int(getIndices(batch, i + inc));\n         float x0 = i0 < n ? getX(batch, i0) : negativeInf;\n         float x1 = i1 < n ? getX(batch, i1) : negativeInf;\n\n         // Denotes which direction indices are in (ascending or descending).\n         bool reverse = imod(elemIdx, 2 * dir) >= dir;\n         bool isGreater = x0 > x1 || (x0 == x1 && i1 > i0);\n         if (reverse == isGreater) { // Elements in opposite order of direction\n           int iTemp = i0;\n           i0 = i1;\n           i1 = iTemp;\n         }\n         if (isFirstInPair) {\n            setOutput(float(i0));\n         } else {\n            setOutput(float(i1));\n         }\n       }\n     "}}class Fwe{constructor(e){this.variableNames=["x","indices"],this.customUniforms=[{name:"n",type:"int"},{name:"firstPass",type:"int"},{name:"k",type:"int"}],this.outputShape=e,this.userCode="\n    void main() {\n         // Takes max of indices (0, k), (1, k + 1), (2, k + 2) ...\n         ivec2 coords = getOutputCoords();\n         int batch = coords[0];\n         int elemIdx = coords[1];\n\n         // The output size is half of the previous size.\n         // If the previous sequence is | | | | _ _ _ _  | | | |  _ _ _ _ (k=4),\n         // we only need to output the indices at positions |, the indices at\n         // positions _ can be thrown away, see Figure5(b) After Phase 2\n         // (Merge phase) in the Bitonic Top K paper referenced above.\n         // For example, the paper shows we only need to output the orange bars.\n         // The output sequence should look like this | | | | | | | |.\n         // Because the sequence is halved, to map the output index back\n         // to the previous sequence to find the corresponding value,\n         // we need to double the index. When we double the index,\n         // we basically interpolate a position, so 2i looks like\n         // | _ | _ | _ | _ | _ | _ | _. We move the | to the first k position\n         // of each 2k positions by - elemIdx % k. E.g. for output at\n         // index 4,5,6,7, we want to get the corresponding element at\n         // original index 8,9,10,11, for output at index 8,9,10,11,\n         // we want to get the corresponding element at original index\n         // 16,17,18,19, so on and so forth.\n\n         int i = elemIdx < k ? elemIdx : (elemIdx * 2 - imod(elemIdx, k));\n         int i0 = firstPass == 1 ? i : int(getIndices(batch, i));\n         int i1 = firstPass == 1 ? i + k : int(getIndices(batch, i + k));\n\n         float x0 = getX(batch, i0);\n         float x1 = i1 < n ? getX(batch, i1) : x0;\n\n         setOutput(x0 >= x1 ? float(i0) : float(i1));\n       }\n     "}}function Dwe(e,t){null!==t&&e.disposeIntermediateTensorInfo(t)}function zwe(e){let t=1;for(;t<e;)t*=2;return t}const Vwe={kernelName:PJ,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{k:i,sorted:s}=r,o=IX().getNumber("TOPK_LAST_DIM_CPU_HANDOFF_SIZE_THRESHOLD"),l=IX().getNumber("TOPK_K_CPU_HANDOFF_THRESHOLD"),c=a.shape,u=c[c.length-1];if(n.shouldExecuteOnCPU([a])||u<o||i>l){const e=n.readSync(a.dataId),[t,r]=Rfe(e,c,a.dtype,i,s);return[n.makeTensorInfo(t.shape,t.dtype,t.values),n.makeTensorInfo(r.shape,r.dtype,r.values)]}if(0===i)return c[c.length-1]=0,[n.makeTensorInfo(c,a.dtype,[]),n.makeTensorInfo(c,"int32",[])];if(1===u)return[a,bxe({attrs:{shape:c,dtype:"int32",value:0},backend:n})];const h=n.texData.get(a.dataId),d=null!==h&&h.isPacked,p=d?n.unpackTensor(a):a,f=eX(c)/u,m=jme({inputs:{x:p},attrs:{shape:[f,u]},backend:n});d&&Dwe(n,p);const g=zwe(i),y=zwe(u);let x=null;const b=()=>null===x?[m,m]:[m,x],v=(e,t,r)=>{const a=b(),i=new $we(r),s=[[u],[null===x?1:0],[Number.NEGATIVE_INFINITY],[e],[t]],o=x;x=n.runWebGLProgram(i,a,"int32",s),Dwe(n,o)};for(let E=1;E<g;E*=2){const e=2*E;for(let t=E;t>=1;t/=2)v(e,t,[f,y])}for(let E=y;E>g;E/=2){const e=b(),t=new Fwe([f,E/2]),r=[[u],[null===x?1:0],[g]],a=x;x=n.runWebGLProgram(t,e,"int32",r),Dwe(n,a);const i=g/2,s=2*i;for(let n=i;n>=1;n/=2)v(s,n,x.shape)}let w=x;x=Rge({inputs:{x:x},backend:n,attrs:{begin:0,size:[f,i]}}),Dwe(n,w);let k=Fxe({inputs:{x:m,indices:x},backend:n,attrs:{axis:1,batchDims:1}});Dwe(n,m);const S=c.slice(0,-1);S.push(i),w=x,x=jme({inputs:{x:x},attrs:{shape:S},backend:n}),Dwe(n,w);const N=k;return k=jme({inputs:{x:k},attrs:{shape:S},backend:n}),Dwe(n,N),[k,x]}};class Bwe{constructor(e,t,n,r,a,i){this.variableNames=["Image","Transforms"],this.outputShape=i;const s="nearest"===n?1:2;let o;switch(r){case"constant":default:o=1;break;case"reflect":o=2;break;case"wrap":o=3;break;case"nearest":o=4}this.userCode=`\n            float mapCoord(float outCoord, float len) {\n              float inCoord = outCoord;\n              if(${o} == 2) {\n                if (inCoord < 0.0) {\n                  if (len <= 1.0) {\n                    inCoord = 0.0;\n                  } else {\n                    float sz2 = 2.0 * len;\n                    if (inCoord < sz2) {\n                      inCoord = sz2 * float(int(float(-inCoord / sz2))) +\n                      inCoord;\n                    }\n                    inCoord = inCoord < -len ? inCoord + sz2 : -inCoord - 1.0;\n                  }\n                } else if (inCoord > len - 1.0) {\n                  if (len <= 1.0) {\n                    inCoord = 0.0;\n                  } else {\n                    float sz2 = 2.0 * len;\n                    inCoord -= sz2 * float(int(float(inCoord / sz2)));\n                    if (inCoord >= len) {\n                      inCoord = sz2 - inCoord - 1.0;\n                    }\n                  }\n                }\n                return clamp(inCoord, 0.0, len - 1.0);\n              } else if (${o} == 3) {\n                if (inCoord < 0.0) {\n                  if (len <= 1.0) {\n                    inCoord = 0.0;\n                  } else {\n                    float sz = len - 1.0;\n                    inCoord += len * (float(int(float(-inCoord / sz))) + 1.0);\n                  }\n                } else if (inCoord > len - 1.0) {\n                  if (len <= 1.0) {\n                    inCoord = 0.0;\n                  } else {\n                    float sz = len - 1.0;\n                    inCoord -= len * float(int(float(inCoord / sz)));\n                  }\n                }\n                return clamp(inCoord, 0.0, len - 1.0);\n              } else if (${o} == 4) {\n                return clamp(outCoord, 0.0, len - 1.0);\n              } else {\n                return outCoord;\n              }\n            }\n\n            float readWithFillValue(int batch, int coordY, int coordX,\n              int channel) {\n              float outputValue;\n              if (0 <= coordY && coordY < ${e} && 0 <= coordX && coordX < ${t}) {\n                  outputValue = getImage(batch, coordY, coordX, channel);\n              } else {\n                outputValue = float(${a});\n              }\n              return outputValue;\n            }\n\n            void main() {\n              ivec4 coords = getOutputCoords();\n              float outputValue;\n              int batch = coords[0];\n              int x = coords[2];\n              int y = coords[1];\n              int channel = coords[3];\n              float xf = float(x);\n              float yf = float(y);\n              float a1 = getTransforms(batch, 0);\n              float a2 = getTransforms(batch, 1);\n              float a3 = getTransforms(batch, 2);\n              float b1 = getTransforms(batch, 3);\n              float b2 = getTransforms(batch, 4);\n              float b3 = getTransforms(batch, 5);\n              float c1 = getTransforms(batch, 6);\n              float c2 = getTransforms(batch, 7);\n              float projection = c1 * xf + c2 * yf + 1.0;\n              if (projection == 0.0) {\n                outputValue = float(${a});\n              } else {\n                float inX = (a1 * xf + a2 * yf + a3) / projection;\n                float inY = (b1 * xf + b2 * yf + b3) / projection;\n                float mapX = mapCoord(inX, float(${t}));\n                float mapY = mapCoord(inY, float(${e}));\n\n                if (${s} == 1) {\n                  int coordY = int(round(mapY));\n                  int coordX = int(round(mapX));\n                  outputValue = readWithFillValue(batch, coordY, coordX,\n                    channel);\n                } else {\n                  float yFloor = floor(mapY);\n                  float xFloor = floor(mapX);\n                  float yCeil = yFloor + 1.0;\n                  float xCeil = xFloor + 1.0;\n                  float valueYFloor = (xCeil - mapX) *\n                  readWithFillValue(batch, int(yFloor), int(xFloor), channel) +\n                  (mapX - xFloor) *\n                  readWithFillValue(batch, int(yFloor), int(xCeil), channel);\n                  float valueYCeil = (xCeil - mapX) *\n                  readWithFillValue(batch, int(yCeil), int(xFloor), channel) +\n                  (mapX - xFloor) *\n                  readWithFillValue(batch, int(yCeil), int(xCeil), channel);\n                  outputValue = (yCeil - mapY) * valueYFloor +\n                  (mapY - yFloor) * valueYCeil;\n                }\n              }\n              setOutput(outputValue);\n            }\n        `}}const Hwe={kernelName:RJ,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{image:a,transforms:i}=t,{interpolation:s,fillMode:o,fillValue:l,outputShape:c}=r,[u,h,d,p]=a.shape,[f,m]=null!=c?c:[h,d],g=new Bwe(h,d,s,o,l,[u,f,m,p]);return n.runWebGLProgram(g,[a,i],"float32")}};const Uwe={kernelName:LJ,backendName:"webgl",kernelFunc:function(e){const{inputs:t,attrs:n,backend:r}=e,{axis:a}=n,{x:i}=t;Yde(i,"unique"),console.warn("WARNING: ","UI might be locked temporarily as data is being downloaded");const s=r.readSync(i.dataId),{outputValues:o,outputShape:l,indices:c}=Lfe(s,a,i.shape,i.dtype);return[r.makeTensorInfo(l,i.dtype,o),r.makeTensorInfo([c.length],"int32",c)]}};const Wwe={kernelName:$J,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{value:a}=t;let{axis:i}=r;i<0&&(i+=a.shape.length);const s=a,o=s.shape.length,l=a.shape[i],c=new Array(o-1);let u=0;for(let m=0;m<o;m++)m!==i&&(c[u++]=s.shape[m]);const h=[],d=new Array(o).fill(0),p=s.shape.slice();p[i]=1;const f=new Array(l);for(let m=0;m<f.length;m++){d[i]=m;const e=Rge({inputs:{x:s},backend:n,attrs:{begin:d,size:p}}),t=jme({inputs:{x:e},backend:n,attrs:{shape:c}});f[m]=t,h.push(e)}return h.forEach(e=>n.disposeIntermediateTensorInfo(e)),f}};class Zwe{constructor(e,t){this.variableNames=["x","segmentIds"];const n=e.windowSize,r=e.batchSize,a=e.inSize,i=e.numSegments,s=i*Math.ceil(a/n);this.outputShape=[r,s];const o=4*Math.floor(n/4),l=n%4,c="\n        sumValue += dot(values, segFilter);\n    ";let u="";a%n>0&&(u=`\n        if (inIdx < 0 || inIdx >= ${a}) {\n          return initializationValue;\n        }\n      `);let h="";a%n>0&&(h=`\n        if (inIdx < 0 || inIdx >= ${a}) {\n          return -1.0;\n        }\n      `),this.userCode=`\n      const float initializationValue = 0.0;\n\n      float getValue(int batch, int inIdx) {\n        ${u}\n        return getX(batch, inIdx);\n      }\n\n      float getSegmentIdAtIndex(int inIdx) {\n        ${h}\n        return getSegmentIds(inIdx);\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = int(floor(float(outIdx) / float(\n          ${i})) * float(${n}));\n        int currentSeg = int(mod(float(outIdx), float(${i})));\n\n        float sumValue = 0.0;\n\n        for (int i = 0; i < ${o}; i += 4) {\n          int inIdx = inOffset + i;\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            getValue(batch, inIdx + 3)\n          );\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 2)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 3)) == currentSeg ? 1 : 0\n          );\n\n          ${c}\n        }\n\n        int inIdx = inOffset + ${o};\n        if (${1===l}) {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            initializationValue,\n            initializationValue,\n            initializationValue\n          );\n\n          int inIdxSeg = int(getSegmentIdAtIndex(inIdx));\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            0,\n            0,\n            0\n          );\n\n          ${c}\n        } else if (${2===l}) {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            initializationValue,\n            initializationValue\n          );\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,\n              0,\n              0\n          );\n\n          ${c}\n        } else if (${3===l}) {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            initializationValue\n          );\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 2)) == currentSeg ? 1 : 0,\n            0\n          );\n\n          ${c}\n        }\n        setOutput(sumValue);\n      }\n    `}}const Gwe={kernelName:FJ,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a,segmentIds:i}=t,{numSegments:s}=r,o=a.shape.length,l=[];let c=0;const u=W4([c],o);let h=a;null!=u&&(h=Fme({inputs:{x:a},backend:n,attrs:{perm:u}}),l.push(h),c=G4(1,o)[0]);const d=M9(h.shape,c,s),p=eX([h.shape[c]]),f=jme({inputs:{x:h},backend:n,attrs:{shape:[-1,p]}});l.push(f);const m=Y0(a.dtype),g=(e,t,r,a,i)=>{const s=e.shape[0],o=e.shape[1],c=j9(o,i),u=new Zwe({windowSize:c,inSize:o,batchSize:s,numSegments:i},t),h=n.compileAndRun(u,[e,r],a);if(l.push(h),h.shape[1]===i)return h;const d=gve({backend:n,attrs:{start:0,stop:i,step:1,dtype:"float32"}}),p=_we({inputs:{x:d},backend:n,attrs:{reps:[o/c]}});l.push(d),l.push(p);return g(h,t,p,a,i)},y=jme({inputs:{x:g(f,"unsortedSegmentSum",i,m,s)},backend:n,attrs:{shape:d}});let x=y;if(null!=u){l.push(y);const e=Z4(u);x=Fme({inputs:{x:x},backend:n,attrs:{perm:e}})}return l.forEach(e=>n.disposeIntermediateTensorInfo(e)),x}},Kwe=[Vme,Hme,Wme,Gme,Xme,Jme,ege,tge,oge,lge,uge,dge,fge,gge,xge,wge,kge,Ege,Age,Cge,Tge,Lge,$ge,Fge,Dge,Uge,Gge,Xge,ume,Jge,oye,mye,vye,kye,Sye,Nye,Eye,Cye,Mye,Iye,Fye,Dye,zye,Bye,Wye,Kye,qye,Yye,Jye,exe,nxe,rxe,ixe,oxe,cxe,hxe,fxe,yxe,vxe,kxe,Exe,Cxe,Txe,Pxe,Rxe,Lxe,Dxe,Vxe,Hxe,lme,Uxe,aye,Zxe,Kxe,Xxe,pme,Qxe,ebe,tbe,rbe,ibe,obe,cbe,hbe,fbe,gbe,xbe,vbe,wbe,kbe,Ebe,Abe,Cbe,jbe,Mbe,Ibe,Rbe,Lbe,Wbe,Cme,Gbe,qbe,Ybe,Jbe,Vge,tve,ave,ive,cve,hve,gme,dve,pve,fve,mve,yve,Hge,Dbe,bve,wve,Sve,Mme,Ave,jve,Ive,Pve,Lve,Fve,zve,Bve,Wve,Gve,qve,Yve,Jve,twe,rwe,iwe,_ge,Ube,owe,lwe,cwe,uwe,hwe,dwe,pwe,fwe,ywe,xwe,wwe,kwe,Swe,Ewe,Awe,Cwe,jwe,Bbe,$me,Twe,Owe,Pwe,Lwe,Vwe,Hwe,Dme,Uwe,Wwe,Gwe,rve];for(const jTe of Kwe)YJ(jTe);const qwe=100,Xwe=!0;const Ywe=new class{models=new Map;manifest=null;isLoading=!1;loadError=null;initialized=!1;tensorCache=new Map;cacheHits=0;cacheMisses=0;baseUrl;constructor(){if("undefined"!=typeof window){const e="/alpha-mirage/";this.baseUrl=`${e}models`.replace("//","/"),console.log(` Model loader base URL: ${this.baseUrl}`)}else this.baseUrl="/alpha-mirage/models";this.initializeBackend()}async initializeBackend(){try{await j1("webgl"),Xwe&&(IX().set("WEBGL_PACK",!0),IX().set("WEBGL_LAZILY_UNPACK",!0),IX().set("WEBGL_CONV_IM2COL",!0)),console.log(` TensorFlow.js backend: ${o1.backendName}`)}catch(e){console.warn(" WebGL not available, falling back to CPU"),await j1("cpu")}}getManifest(){return this.manifest}getModel(e){return this.models.get(e)||null}isInitialized(){return this.initialized}isLoadingModels(){return this.isLoading}getLoadError(){return this.loadError}getAllLoadedModels(){return Array.from(this.models.values())}async initialize(){if(this.initialized||this.isLoading)return this.initialized;this.isLoading=!0,this.loadError=null;try{console.log(" Initializing TensorFlow.js model loader...");const e=`${this.baseUrl}/manifest.json`;console.log(` Loading manifest from: ${e}`);const t=await fetch(e);if(!t.ok)throw new Error(`Failed to load manifest: ${t.status}`);return this.manifest=await t.json(),console.log(` Manifest loaded - version ${this.manifest.version}`),console.log(" Training info:",this.manifest.trainingInfo),await this.loadModels(),this.initialized=!0,console.log(" Model loader initialized successfully"),!0}catch(e){return this.loadError=e,console.error(" Model loader initialization failed:",e),!1}finally{this.isLoading=!1}}async loadModels(){if(!this.manifest)throw new Error("Manifest not loaded");const e=["lightgbm","xgboost","catboost","randomforest"];{const t=e.map(async e=>{const t=this.manifest.models[e];if(!t||!t.files)return console.warn(` No config found for model: ${e}`),null;try{const n=`${this.baseUrl}/${t.files.model}`;console.log(` Loading ${e} from: ${n}`);const r=performance.now(),a=await xre(n),i=performance.now()-r;return console.log(` ${e} loaded in ${i.toFixed(0)}ms`),console.log(`   - Accuracy: ${(100*t.metrics.accuracy).toFixed(2)}%`),console.log(`   - Sharpe: ${t.metrics.sharpe_ratio.toFixed(3)}`),{modelId:e,model:a,config:t}}catch(n){return console.error(` Failed to load ${e}:`,n),null}}),n=await Promise.all(t);for(const e of n)e&&this.models.set(e.modelId,{model:e.model,config:e.config,loadedAt:Date.now()})}if(0===this.models.size)throw new Error("No models could be loaded");console.log(` Loaded ${this.models.size}/${e.length} models`)}getTensorCacheKey(e,t){return`${t}_${e.slice(0,4).join(",")}_${e.slice(-4).join(",")}`}cleanupTensorCache(){if(this.tensorCache.size>qwe){console.log(` Cleaning tensor cache (${this.tensorCache.size} tensors)`);for(const e of this.tensorCache.values())e.dispose();this.tensorCache.clear()}}getCacheStats(){const e=this.cacheHits+this.cacheMisses;return{hits:this.cacheHits,misses:this.cacheMisses,ratio:e>0?this.cacheHits/e:0}}async predict(e,t){const n=this.models.get(e);if(!n)throw new Error(`Model not loaded: ${e}`);const{model:r,config:a}=n;return t.length!==a.inputShape[0]&&(console.warn(` Feature count mismatch: expected ${a.inputShape[0]}, got ${t.length}`),t=t.length<a.inputShape[0]?[...t,...new Array(a.inputShape[0]-t.length).fill(0)]:t.slice(0,a.inputShape[0])),E1(()=>{const e=J6([t],[1,a.inputShape[0]]);return r.predict(e).dataSync()[0]})}async predictBatch(e,t){const n=this.models.get(e);if(!n)throw new Error(`Model not loaded: ${e}`);const{model:r,config:a}=n,i=a.inputShape[0],s=t.map(e=>e.length<i?[...e,...new Array(i-e.length).fill(0)]:e.length>i?e.slice(0,i):e);return E1(()=>{const e=J6(s,[s.length,i]),t=r.predict(e);return Array.from(t.dataSync())})}async predictEnsemble(e){if(!this.initialized)throw new Error("Model loader not initialized");const t=[],n={lightgbm:.3,xgboost:.25,catboost:.25,randomforest:.2};let r=0,a=0;for(const[d,p]of this.models)try{const i=await this.predict(d,e),s=n[d]||.5;t.push({modelId:d,prediction:i,weight:s}),r+=i*s,a+=s}catch(h){console.error(`Error predicting with ${d}:`,h)}const i=a>0?r/a:.5,s=t.map(e=>e.prediction),o=s.reduce((e,t)=>e+t,0)/s.length,l=s.reduce((e,t)=>e+Math.pow(t-o,2),0)/s.length,c=Math.exp(10*-l),u=2*Math.abs(o-.5);return{prediction:i,modelPredictions:t,confidence:Math.min(1,.6*c+.4*u)}}getModelMetrics(e){if(!this.manifest)return null;const t=this.manifest.models[e];return t&&"metrics"in t?t.metrics:null}getEnsembleMetrics(){return this.manifest?.models.ensemble?this.manifest.models.ensemble.metrics:null}getFeatureNames(){if(!this.manifest)return[];for(const e of["lightgbm","xgboost","catboost","randomforest"]){const t=this.manifest.models[e];if(t?.featureNames)return t.featureNames}return[]}getHealthStatus(){const e=this.models.size;let t;return t=4===e?"healthy":e>0?"degraded":"error",{status:t,modelsLoaded:e,totalModels:4,lastUpdate:this.manifest?.timestamp||"unknown"}}};let Qwe=!1,Jwe=!1;async function eke(){if(Jwe)return Qwe;Jwe=!0;try{console.log(" Attempting to load real TensorFlow.js models...");return await async function(){return Ywe.initialize()}()?(Qwe=!0,console.log(" Real TensorFlow.js models loaded successfully!"),console.log(" Model metrics:",Ywe.getEnsembleMetrics())):(console.warn(" TensorFlow.js models failed to load, using simulated models"),Qwe=!1),Qwe}catch(e){return console.error(" TensorFlow.js initialization error:",e),Qwe=!1,!1}}function tke(){return Qwe&&Ywe.isInitialized()}function nke(){if(!Qwe||!Ywe.isInitialized())return{isReal:!1,status:"not_loaded",modelsLoaded:0,lastUpdate:"N/A"};const e=Ywe.getHealthStatus();return{isReal:!0,status:e.status,modelsLoaded:e.modelsLoaded,lastUpdate:e.lastUpdate}}const rke={predictions:new Map,lastUpdate:0,isFetching:!1};let ake=null;function ike(e,t,n){const r="lightgbm"===n?50:"xgboost"===n?40:"catboost"===n?45:30;let a=0;for(let i=0;i<r;i++){const n=i*Math.floor(t.length/r);let s=0;for(let r=0;r<e.length&&r<8;r++){const a=(n+r)%t.length,i=(t[a]+1)/2;e[r]>i?s+=.02*t[(a+1)%t.length]:s-=.01*t[(a+2)%t.length]}a+=s/r}return 1/(1+Math.exp(5*-a))}function ske(e){if(0===e.length)return 0;const t=e.map(e=>e.prediction),n=t.reduce((e,t)=>e+t,0)/t.length,r=t.reduce((e,t)=>e+Math.pow(t-n,2),0)/t.length,a=Math.exp(10*-r),i=2*Math.abs(n-.5);return Math.min(1,.6*a+.4*i)}async function oke(e){const t=performance.now(),n=$q(e);if(!n)return console.warn(`Cannot calculate features for ${e.symbol}`),null;const r=function(e){const t=(e,t,n)=>Math.max(t,Math.min(n,e)),n=e=>t(e,-.5,.5)+.5,r=e=>t(e,-.5,.5)+.5,a=.5*e.returns_1d,i=.75*e.returns_1d,s=2*e.returns_10d,o=e.log_returns_1d,l=a,c=i,u=e.returns_5d,h=e.returns_10d,d=s,p=(e.price_to_sma5+e.price_to_sma10)/2,f=.98*e.price_to_sma10,m=e.sma_crossover,g=e.price_to_sma10/p,y=p/f,x=.95*e.rsi_14+2.5,b=2*e.momentum_10,v=2*e.roc_10,w=e.macd>e.macd_signal?1:0,k=1.1*e.volatility_10d,S=(e.atr_5+e.atr_10)/2,N=e.atr_5/(e.sma_5||1),E=S/(e.sma_10||1),A=e.adx,C=e.returns_1d>0?1:0,j=[n(e.returns_1d),r(o),n(a),r(l),n(i),r(c),n(e.returns_5d),r(u),n(e.returns_10d),r(h),n(s),r(d),t((e.price_to_sma5-.8)/.4,0,1),t((e.price_to_sma10-.8)/.4,0,1),t((p-.8)/.4,0,1),t((f-.8)/.4,0,1),t((m-.9)/.2,0,1),t((g-.9)/.2,0,1),t((y-.9)/.2,0,1),e.rsi_7/100,e.rsi_14/100,x/100,t(e.momentum_5/100,-1,1)/2+.5,t(e.roc_5/100,-1,1)/2+.5,t(e.momentum_10/100,-1,1)/2+.5,t(e.roc_10/100,-1,1)/2+.5,t(b/100,-1,1)/2+.5,t(v/100,-1,1)/2+.5,t(e.macd/10,-1,1)/2+.5,t(e.macd_signal/10,-1,1)/2+.5,t(e.macd_histogram/5,-1,1)/2+.5,w,Math.min(1,e.volatility_5d),Math.min(1,e.volatility_10d),Math.min(1,k),Math.min(1,e.atr_5/10),Math.min(1,e.atr_10/10),Math.min(1,S/10),Math.min(1,N),Math.min(1,E),t(e.bollinger_position,0,1),Math.min(1,e.bollinger_width/.5),Math.min(1,A/100),Math.min(1,10*e.trend_strength),t((e.volume_ratio-.5)/1.5,0,1),t(e.obv_change+.5,0,1),e.body_ratio,e.upper_shadow,e.lower_shadow,e.higher_high,e.lower_low,C,t((e.skewness+3)/6,0,1),t((e.kurtosis-3+10)/20,0,1),t((e.zscore+3)/6,0,1)];return 55!==j.length&&console.error(`Feature count mismatch: expected 55, got ${j.length}`),j}(n);let a,i,s,o=!1,l="simulated";if(Qwe&&Ywe.isInitialized())try{const t=await async function(e){return Ywe.isInitialized()||await Ywe.initialize(),Ywe.predictEnsemble(e)}(r);a=t.prediction,s=t.confidence,i=t.modelPredictions.map(e=>({modelId:e.modelId,modelType:e.modelId,prediction:e.prediction,weight:e.weight})),o=!0,l="tfjs",console.log(` [REAL TFJS] ${e.symbol}: prediction=${a.toFixed(4)}, confidence=${s.toFixed(2)}, features=${r.length}`)}catch(p){console.error(`TFJS prediction failed for ${e.symbol}, using fallback:`,p);const t=lke(r);a=t.prediction,i=t.modelPredictions,s=ske(i),o=!1,l="simulated"}else{const t=lke(r);a=t.prediction,i=t.modelPredictions,s=ske(i),o=!1,l="simulated",console.log(` [SIMULATED] ${e.symbol}: TFJS not available, using fallback`)}const c=function(e){return e>=.7?"STRONG_BUY":e>=.55?"BUY":e<=.3?"STRONG_SELL":e<=.45?"SELL":"HOLD"}(a),u=function(e,t,n,r){const a=2*(e-.5)*.05*t,i=r.atr_10;let s,o;e>.5?(s=n-2*i,o=n+2*i*1.5):(s=n+2*i,o=n-2*i*1.5);const l=e>.5?e:1-e,c=(1.5*l-(1-l))/1.5,u=Math.max(0,Math.min(.1,.5*c)),h=Math.abs(n-s),d=Math.abs(o-n);return{expectedReturn:100*a,stopLoss:s,takeProfit:o,positionSize:100*u,riskRewardRatio:h>0?d/h:0}}(a,s,e.currentPrice,n),h=function(e){const t=[];return e.rsi_14<30?t.push({name:"RSI Oversold",value:e.rsi_14,impact:"positive"}):e.rsi_14>70&&t.push({name:"RSI Overbought",value:e.rsi_14,impact:"negative"}),e.macd_histogram>0?t.push({name:"MACD Bullish",value:e.macd_histogram,impact:"positive"}):e.macd_histogram<0&&t.push({name:"MACD Bearish",value:e.macd_histogram,impact:"negative"}),e.sma_crossover>1.02?t.push({name:"Bullish MA Crossover",value:e.sma_crossover,impact:"positive"}):e.sma_crossover<.98&&t.push({name:"Bearish MA Crossover",value:e.sma_crossover,impact:"negative"}),e.volume_ratio>1.5&&t.push({name:"High Volume",value:e.volume_ratio,impact:e.returns_1d>0?"positive":"negative"}),e.trend_strength>.02&&t.push({name:"Strong Trend",value:100*e.trend_strength,impact:e.price_to_sma5>1?"positive":"negative"}),e.bollinger_position<.1?t.push({name:"Near Lower Band",value:e.bollinger_position,impact:"positive"}):e.bollinger_position>.9&&t.push({name:"Near Upper Band",value:e.bollinger_position,impact:"negative"}),t.slice(0,5)}(n),d=performance.now()-t;return{symbol:e.symbol,assetClass:e.assetClass,prediction:a,signal:c,confidence:s,modelPredictions:i,isRealModel:o,modelSource:l,expectedReturn:u.expectedReturn,stopLoss:u.stopLoss,takeProfit:u.takeProfit,positionSize:u.positionSize,riskRewardRatio:u.riskRewardRatio,currentPrice:e.currentPrice,priceChange24h:e.priceChangePercent24h,timestamp:Date.now(),latencyMs:d,topFeatures:h}}function lke(e){return function(e,t,n){const r=[];let a=0,i=0;for(const s of t){const t=Hq(s.id);if(!t)continue;let o;switch(s.type){case"lightgbm":o=ike(e,t.weights,"lightgbm");break;case"xgboost":o=ike(e,t.weights,"xgboost");break;case"catboost":o=ike(e,t.weights,"catboost");break;case"randomforest":o=ike(e,t.weights,"randomforest");break;default:o=.5}const l=n[s.type]||0;r.push({modelId:s.id,modelType:s.type,prediction:o,weight:l}),a+=o*l,i+=l}return{prediction:i>0?a/i:.5,modelPredictions:r}}(e,Vq(4),Bq())}async function cke(){if(rke.isFetching&&ake)return await ake,rke.predictions;return Date.now()-rke.lastUpdate<6e4&&rke.predictions.size>0?(console.log(" ML: Using cached predictions"),rke.predictions):vq.assets.size>0?(rke.isFetching=!0,console.log(" ML: Running model inference..."),console.log(` Using ${Qwe?"REAL TensorFlow.js":"simulated"} models`),ake=(async()=>{try{const e=Array.from(vq.assets.values()),t=new Map,n=5;for(let r=0;r<e.length;r+=n){const a=e.slice(r,r+n);(await Promise.all(a.map(e=>oke(e)))).forEach((e,n)=>{e&&t.set(a[n].symbol,e)})}rke.predictions=t,rke.lastUpdate=Date.now(),console.log(` ML: Generated ${t.size} predictions`)}catch(e){console.error("ML Prediction error:",e)}finally{rke.isFetching=!1,ake=null}})(),await ake,rke.predictions):(console.warn(" ML: No market data available for predictions"),rke.predictions)}function uke(){return Array.from(rke.predictions.values())}function hke({data:e,color:t="cyan"}){if(e.length<2)return null;const n=Math.max(...e),r=Math.min(...e),a=n-r||1,i=e.map((t,n)=>`${n/(e.length-1)*40},${12-(t-r)/a*10}`).join(" ");return u.jsx("svg",{width:"40",height:"14",className:"inline-block ml-2",children:u.jsx("polyline",{points:i,fill:"none",stroke:"cyan"===t?"oklch(0.75 0.18 190)":"oklch(0.72 0.19 145)",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})}function dke({status:e}){return u.jsx("div",{className:`w-2 h-2 rounded-full ${{healthy:"bg-green-500",warning:"bg-yellow-500",critical:"bg-red-500"}[e]} animate-pulse`})}function pke({icon:e,label:t,value:n,unit:r,status:a,trend:i,sparklineData:s}){return u.jsxs("div",{className:"flex items-center justify-between py-1.5 border-b border-white/5 last:border-0",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(e,{size:14,className:"text-cyan-400/70"}),u.jsx("span",{className:"text-foreground/60 text-xs",children:t})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[s&&u.jsx(hke,{data:s}),u.jsxs("span",{className:"text-foreground font-mono text-xs font-medium",children:[n,r&&u.jsx("span",{className:"text-foreground/50 ml-0.5",children:r})]}),i&&u.jsx("span",{className:"up"===i?"text-green-400":"down"===i?"text-red-400":"text-foreground/30",children:"up"===i?u.jsx(va,{size:10,weight:"bold"}):"down"===i?u.jsx(xa,{size:10,weight:"bold"}):u.jsx("span",{className:"text-[8px]",children:""})}),a&&u.jsx(dke,{status:a})]})]})}function fke(){const{t:e}=wf(),[t,n]=O.useState(!1),[r,a]=O.useState(!0),[i,s]=O.useState({}),[o,l]=O.useState(0),c=function(){const[e,t]=O.useState(60),n=O.useRef(0),r=O.useRef(performance.now());return O.useEffect(()=>{let e;const a=()=>{n.current++;const i=performance.now(),s=i-r.current;s>=1e3&&(t(Math.round(1e3*n.current/s)),n.current=0,r.current=i),e=requestAnimationFrame(a)};return e=requestAnimationFrame(a),()=>cancelAnimationFrame(e)},[]),e}(),{latency:h,history:d}=function(){const[e,t]=O.useState(0),[n,r]=O.useState([]);return O.useEffect(()=>{const e=async()=>{const e=performance.now();try{await fetch("https://finnhub.io/api/v1/quote?symbol=AAPL&token=demo",{method:"HEAD",mode:"no-cors"})}catch{}const n=performance.now(),a=Math.round(n-e);t(a),r(e=>[...e,{timestamp:Date.now(),value:a}].slice(-20))};e();const n=setInterval(e,5e3);return()=>clearInterval(n)},[]),{latency:e,history:n}}();O.useEffect(()=>{l(e=>e+1)},[]),O.useEffect(()=>{const e=e=>{"Escape"===e.key&&t&&n(!1)};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[t]),O.useEffect(()=>{const e=()=>{s(function(){const e={};if("undefined"!=typeof window&&window.performance){const t=performance.getEntriesByType("navigation")[0];t&&(e.pageLoadTime=Math.round(t.loadEventEnd-t.startTime),e.domContentLoaded=Math.round(t.domContentLoadedEventEnd-t.startTime),e.timeToInteractive=Math.round(t.domInteractive-t.startTime));const n=performance.getEntriesByType("paint").find(e=>"first-contentful-paint"===e.name);n&&(e.firstContentfulPaint=Math.round(n.startTime));const r=performance.memory;r&&(e.memoryUsed=Math.round(r.usedJSHeapSize/1024/1024),e.memoryTotal=Math.round(r.totalJSHeapSize/1024/1024),e.heapUsage=Math.round(r.usedJSHeapSize/r.jsHeapSizeLimit*100))}const t=navigator.connection;return t&&(e.connectionType=t.effectiveType||"unknown",e.downlink=t.downlink||0),e}())};e();const t=setInterval(e,2e3);return()=>clearInterval(t)},[]);const p=O.useCallback(()=>{try{const e=localStorage.getItem("translationCache");if(e){const t=JSON.parse(e);return Object.keys(t).length}}catch{}return 0},[])(),f=e=>e<100?"healthy":e<300?"warning":"critical";return r?u.jsx(nf.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"fixed bottom-4 right-4 z-50 pointer-events-auto hidden lg:block cursor-auto",style:{cursor:"auto"},children:u.jsx(su,{mode:"wait",children:t?u.jsxs(nf.div,{initial:{opacity:0,scale:.9,y:10},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:10},className:"bg-black/90 backdrop-blur-xl border border-cyan-500/30 rounded-lg shadow-2xl shadow-cyan-500/10 w-72 cursor-auto",style:{cursor:"auto"},children:[u.jsxs("div",{className:"flex items-center justify-between px-3 py-2 border-b border-cyan-500/20",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(zi,{size:14,className:"text-cyan-400",weight:"duotone"}),u.jsx("span",{className:"text-cyan-400 font-mono text-xs font-bold tracking-wider",children:"SYSTEM METRICS"})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-green-500 animate-pulse"}),u.jsx("span",{className:"text-[10px] text-green-400 font-mono",children:"LIVE"})]}),u.jsx("button",{onClick:()=>n(!1),className:"text-foreground/50 hover:text-foreground transition-colors",children:u.jsx(Qi,{size:14})})]})]}),u.jsxs("div",{className:"px-3 py-2 space-y-0",children:[u.jsxs("div",{className:"mb-2",children:[u.jsx("div",{className:"text-[9px] text-cyan-400/60 uppercase tracking-widest mb-1",children:"Page Performance"}),u.jsx(pke,{icon:Bi,label:"Load Time",value:i.pageLoadTime||"--",unit:"ms",status:f(i.pageLoadTime||0)}),u.jsx(pke,{icon:Ai,label:"FCP",value:i.firstContentfulPaint||"--",unit:"ms",status:f(i.firstContentfulPaint||0)}),u.jsx(pke,{icon:Na,label:"TTI",value:i.timeToInteractive||"--",unit:"ms"})]}),u.jsxs("div",{className:"mb-2",children:[u.jsx("div",{className:"text-[9px] text-purple-400/60 uppercase tracking-widest mb-1",children:"Runtime"}),u.jsx(pke,{icon:Ai,label:"Frame Rate",value:c,unit:"fps",status:(m=c,m>=55?"healthy":m>=30?"warning":"critical"),trend:c>=58?"stable":"down"}),i.memoryUsed&&u.jsx(pke,{icon:ai,label:"Memory",value:i.memoryUsed,unit:"MB",status:i.heapUsage&&i.heapUsage>80?"warning":"healthy"}),u.jsx(pke,{icon:La,label:"Renders",value:o})]}),u.jsxs("div",{className:"mb-2",children:[u.jsx("div",{className:"text-[9px] text-green-400/60 uppercase tracking-widest mb-1",children:"Network"}),u.jsx(pke,{icon:Xi,label:"API Latency",value:h,unit:"ms",status:f(h),sparklineData:d.map(e=>e.value)}),i.connectionType&&u.jsx(pke,{icon:Xi,label:"Connection",value:i.connectionType.toUpperCase(),status:"healthy"})]}),u.jsxs("div",{className:"mb-2",children:[u.jsx("div",{className:"text-[9px] text-yellow-400/60 uppercase tracking-widest mb-1",children:"Translation Cache"}),u.jsx(pke,{icon:ai,label:"Cached Strings",value:p,status:"healthy"})]}),u.jsxs("div",{children:[u.jsx("div",{className:"text-[9px] text-emerald-400/60 uppercase tracking-widest mb-1",children:"ML Engine"}),u.jsx(pke,{icon:da,label:"Model Type",value:tke()?"REAL TFJS":"SIMULATED",status:tke()?"healthy":"warning"}),u.jsx(pke,{icon:La,label:"Models Loaded",value:nke().modelsLoaded,unit:"/4",status:"healthy"===nke().status?"healthy":"degraded"===nke().status?"warning":"critical"})]})]}),u.jsx("div",{className:"px-3 py-1.5 border-t border-cyan-500/20 bg-cyan-500/5",children:u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("kbd",{className:"px-1.5 py-0.5 bg-black/50 border border-foreground/20 rounded text-[8px] font-mono text-cyan-400",children:"ESC"}),u.jsx("span",{className:"text-[9px] text-foreground/40 font-mono",children:"to close"})]}),u.jsx("span",{className:"text-[9px] text-foreground/30 font-mono",children:(new Date).toLocaleTimeString()})]})})]},"expanded"):u.jsx(nf.button,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},onClick:()=>n(!0),className:"bg-black/80 backdrop-blur-xl border border-cyan-500/30 rounded-lg px-3 py-2 \n                       hover:border-cyan-500/50 hover:bg-black/90 transition-all duration-300\n                       shadow-lg shadow-cyan-500/10 group cursor-pointer",style:{cursor:"pointer"},children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsxs("div",{className:"flex items-center gap-1.5",children:[u.jsx(Ai,{size:14,className:"text-cyan-400",weight:"duotone"}),u.jsx("span",{className:"text-cyan-400 font-mono text-[10px] font-bold",children:"SYS"})]}),u.jsxs("div",{className:"flex items-center gap-2 text-[10px] font-mono",children:[u.jsxs("span",{className:"text-foreground/60",children:[c,u.jsx("span",{className:"text-foreground/40",children:"fps"})]}),u.jsx("span",{className:"text-foreground/30",children:"|"}),u.jsxs("span",{className:"text-foreground/60",children:[h,u.jsx("span",{className:"text-foreground/40",children:"ms"})]})]}),u.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-green-500 animate-pulse"})]})},"collapsed")})}):null;var m}const mke=[{id:"terminal",icon:zi,message:"Hidden terminal available",keystroke:"`",color:"cyan"},{id:"shortcuts",icon:ui,message:"Keyboard shortcuts enabled",keystroke:"?",color:"purple"}],gke={terminal:!1,shortcuts:!1,markUsed(e){this[e]=!0;try{const t=JSON.parse(localStorage.getItem("usedFeatures")||"{}");t[e]=!0,localStorage.setItem("usedFeatures",JSON.stringify(t))}catch{}},isUsed(e){if(this[e])return!0;try{return!0===JSON.parse(localStorage.getItem("usedFeatures")||"{}")[e]}catch{return!1}}},yke=e=>{gke.markUsed(e)};function xke({hint:e,onDismiss:t}){const{displayText:n,isComplete:r}=function(e,t=50,n=0){const[r,a]=O.useState(""),[i,s]=O.useState(!1);return O.useEffect(()=>{let r;a(""),s(!1);let i=0;return r=setTimeout(()=>{const n=()=>{i<e.length?(a(e.slice(0,i+1)),i++,r=setTimeout(n,t)):s(!0)};n()},n),()=>clearTimeout(r)},[e,t,n]),{displayText:r,isComplete:i}}(e.message,35,300),a=e.icon,i={cyan:{border:"border-cyan-500/50",bg:"bg-cyan-500/10",text:"text-cyan-400",glow:"shadow-cyan-500/30",kbd:"bg-cyan-500/20 border-cyan-500/50"},purple:{border:"border-purple-500/50",bg:"bg-purple-500/10",text:"text-purple-400",glow:"shadow-purple-500/30",kbd:"bg-purple-500/20 border-purple-500/50"}}[e.color]||{border:"border-foreground/20",bg:"bg-foreground/10",text:"text-foreground",glow:"",kbd:"bg-foreground/10 border-foreground/20"};return u.jsxs(nf.div,{initial:{opacity:0,x:50,scale:.9},animate:{opacity:1,x:0,scale:1},exit:{opacity:0,x:50,scale:.9},transition:{duration:.5,ease:[.23,1,.32,1]},className:`\n        bg-black/95 backdrop-blur-xl border-2 ${i.border} rounded-xl \n        shadow-xl ${i.glow} overflow-hidden cursor-auto min-w-[280px]\n      `,style:{cursor:"auto"},children:[u.jsxs("div",{className:`px-4 py-2 ${i.bg} border-b ${i.border} flex items-center justify-between`,children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(nf.div,{animate:{rotate:[0,10,-10,0]},transition:{duration:.5,delay:.5},children:u.jsx(a,{size:16,className:i.text,weight:"duotone"})}),u.jsx("span",{className:`text-xs font-mono font-bold ${i.text} uppercase tracking-wider`,children:"Discovery"})]}),u.jsx("button",{onClick:t,className:"text-foreground/40 hover:text-foreground transition-colors p-1 rounded hover:bg-white/5",children:u.jsx(Qi,{size:14})})]}),u.jsxs("div",{className:"px-4 py-3",children:[u.jsxs("div",{className:"flex items-center justify-between gap-4",children:[u.jsxs("div",{className:"text-foreground text-sm font-medium",children:[n,!r&&u.jsx(nf.span,{animate:{opacity:[1,0]},transition:{duration:.4,repeat:1/0},className:i.text,children:""})]}),u.jsx(nf.kbd,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.8,type:"spring"},className:`\n              px-3 py-1.5 ${i.kbd} border rounded-lg\n              text-base font-mono ${i.text} font-bold\n              shadow-lg\n            `,children:e.keystroke})]}),u.jsx(nf.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:1.2},className:"text-foreground/40 text-xs mt-2 font-mono",children:"Press the key to try it out"})]}),u.jsx(nf.div,{className:`h-1 ${i.bg}`,style:{background:`linear-gradient(90deg, ${"cyan"===e.color?"rgb(6, 182, 212)":"rgb(168, 85, 247)"} 0%, transparent 100%)`},initial:{width:"100%",opacity:.5},animate:{width:"0%",opacity:.3},transition:{duration:10,ease:"linear"},onAnimationComplete:t})]})}function bke(){const[e,t]=O.useState(null),[n,r]=O.useState(new Set);O.useCallback(()=>mke.filter(e=>!gke.isUsed(e.id)),[]),O.useEffect(()=>{let e,r;const a=()=>{e=setTimeout(()=>{const e=mke.find(e=>!gke.isUsed(e.id)&&!n.has(e.id));e&&t(e)},8e3)},i=()=>{a()};return window.addEventListener("scroll",i,{once:!0}),window.addEventListener("click",i,{once:!0}),r=setTimeout(a,12e3),()=>{clearTimeout(e),clearTimeout(r),window.removeEventListener("scroll",i),window.removeEventListener("click",i)}},[n]),O.useEffect(()=>{const n=setInterval(()=>{if(e)return;const n=mke.find(e=>!gke.isUsed(e.id));n&&t(n)},9e4);return()=>clearInterval(n)},[e]);const a=O.useCallback(e=>{r(t=>new Set([...t,e])),t(null),setTimeout(()=>{const r=mke.find(t=>t.id!==e&&!gke.isUsed(t.id)&&!n.has(t.id));r&&!n.has(r.id)&&t(r)},3e3)},[n]);return u.jsx("div",{className:"fixed top-20 right-4 z-[60] pointer-events-auto hidden lg:block",children:u.jsx(su,{mode:"wait",children:e&&u.jsx(xke,{hint:e,onDismiss:()=>a(e.id)},e.id)})})}function vke(){const[e,t]=O.useState(!1),[n,r]=O.useState(!1),[a,i]=O.useState(!1);return O.useEffect(()=>{const e=setInterval(()=>{const e=gke.isUsed("terminal"),n=gke.isUsed("shortcuts");e&&n||(t(!0),setTimeout(()=>t(!1),2e3))},3e4),n=setTimeout(()=>{t(!0),setTimeout(()=>t(!1),2e3)},2e4);return()=>{clearInterval(e),clearTimeout(n)}},[]),u.jsxs(nf.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:3},className:"fixed bottom-4 left-4 z-[60] pointer-events-auto hidden lg:block",onMouseEnter:()=>{r(!0),i(!0)},onMouseLeave:()=>{r(!1),i(!1)},children:[u.jsx(su,{children:a&&u.jsxs(nf.div,{initial:{opacity:0,y:10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:10,scale:.95},className:"absolute bottom-full left-0 mb-2 bg-black/95 backdrop-blur-xl border border-foreground/20 rounded-lg p-3 min-w-[200px]",children:[u.jsx("div",{className:"text-xs text-foreground/60 mb-2 font-mono uppercase tracking-wider",children:"Power User Features"}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(zi,{size:14,className:"text-cyan-400"}),u.jsx("span",{className:"text-sm text-foreground",children:"Open Terminal"})]}),u.jsx("kbd",{className:"px-2 py-0.5 bg-cyan-500/20 border border-cyan-500/40 rounded text-xs font-mono text-cyan-400",children:"`"})]}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(ui,{size:14,className:"text-purple-400"}),u.jsx("span",{className:"text-sm text-foreground",children:"Shortcuts"})]}),u.jsx("kbd",{className:"px-2 py-0.5 bg-purple-500/20 border border-purple-500/40 rounded text-xs font-mono text-purple-400",children:"?"})]})]}),u.jsx("div",{className:"mt-2 pt-2 border-t border-foreground/10 text-[10px] text-foreground/40",children:"Bloomberg Terminal style navigation"})]})}),u.jsx(nf.div,{className:`\n          bg-black/80 backdrop-blur-xl border rounded-lg px-3 py-2 cursor-pointer\n          transition-all duration-300\n          ${e?"border-purple-500/60 shadow-lg shadow-purple-500/20":"border-foreground/10"}\n          ${n?"border-purple-500/40 bg-black/90":""}\n        `,style:{cursor:"pointer"},animate:e?{scale:[1,1.02,1],borderColor:["rgba(168, 85, 247, 0.3)","rgba(168, 85, 247, 0.6)","rgba(168, 85, 247, 0.3)"]}:{},transition:{duration:1,repeat:e?2:0},children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsxs("div",{className:"relative",children:[u.jsx(Oa,{size:14,className:(e?"text-purple-400":"text-foreground/40")+" transition-colors"}),e&&u.jsx(nf.div,{className:"absolute inset-0 bg-purple-500/30 rounded-full blur-sm",animate:{scale:[1,1.5,1],opacity:[.5,0,.5]},transition:{duration:1,repeat:1/0}})]}),u.jsxs("div",{className:"flex items-center gap-1.5",children:[u.jsx("kbd",{className:`\n              px-1.5 py-0.5 rounded text-[10px] font-mono transition-all\n              ${e?"bg-cyan-500/20 border border-cyan-500/40 text-cyan-400":"bg-foreground/5 border border-foreground/10 text-foreground/40"}\n            `,children:"`"}),u.jsx("kbd",{className:`\n              px-1.5 py-0.5 rounded text-[10px] font-mono transition-all\n              ${e?"bg-purple-500/20 border border-purple-500/40 text-purple-400":"bg-foreground/5 border border-foreground/10 text-foreground/40"}\n            `,children:"?"})]}),e&&u.jsx(nf.div,{initial:{opacity:0,scale:0},animate:{opacity:1,scale:1},exit:{opacity:0,scale:0},children:u.jsx(Ri,{size:12,className:"text-yellow-400",weight:"fill"})})]})})]})}const wke={en:{code:"en",name:"english"},eng:{code:"en",name:"english"},english:{code:"en",name:"english"},zh:{code:"zh",name:"chinese"},chi:{code:"zh",name:"chinese"},chinese:{code:"zh",name:"chinese"},ja:{code:"ja",name:"japanese"},jap:{code:"ja",name:"japanese"},japanese:{code:"ja",name:"japanese"},ko:{code:"ko",name:"korean"},kor:{code:"ko",name:"korean"},korean:{code:"ko",name:"korean"},ar:{code:"ar",name:"arabic"},ara:{code:"ar",name:"arabic"},arabic:{code:"ar",name:"arabic"},hi:{code:"hi",name:"hindi"},hin:{code:"hi",name:"hindi"},hindi:{code:"hi",name:"hindi"},de:{code:"de",name:"german"},ger:{code:"de",name:"german"},german:{code:"de",name:"german"},fr:{code:"fr",name:"french"},fre:{code:"fr",name:"french"},french:{code:"fr",name:"french"},es:{code:"es",name:"spanish"},spa:{code:"es",name:"spanish"},spanish:{code:"es",name:"spanish"},pt:{code:"pt",name:"portuguese"},por:{code:"pt",name:"portuguese"},portuguese:{code:"pt",name:"portuguese"},ru:{code:"ru",name:"russian"},rus:{code:"ru",name:"russian"},russian:{code:"ru",name:"russian"},id:{code:"id",name:"indonesian"},ind:{code:"id",name:"indonesian"},indonesian:{code:"id",name:"indonesian"},ms:{code:"ms",name:"malay"},mal:{code:"ms",name:"malay"},malay:{code:"ms",name:"malay"},th:{code:"th",name:"thai"},tha:{code:"th",name:"thai"},thai:{code:"th",name:"thai"},vi:{code:"vi",name:"vietnamese"},vie:{code:"vi",name:"vietnamese"},vietnamese:{code:"vi",name:"vietnamese"}},kke=df.map(e=>e.name.toLowerCase()),Ske={help:()=>[{type:"output",content:""},{type:"output",content:""},{type:"output",content:"           AVAILABLE COMMANDS                 "},{type:"output",content:""},{type:"output",content:""},{type:"success",content:"   INFORMATION:"},{type:"output",content:"  help       - Show this help message"},{type:"output",content:"  whoami     - About the developer"},{type:"output",content:"  neofetch   - System info display"},{type:"output",content:""},{type:"success",content:"   NAVIGATION: (closes terminal & navigates)"},{type:"output",content:"  home       - Go to home page"},{type:"output",content:"  top        - Scroll to top of current page"},{type:"output",content:"  about      - Jump to About section"},{type:"output",content:"  experience - Jump to Experience section"},{type:"output",content:"  skills     - Jump to Skills section"},{type:"output",content:"  projects   - Jump to Projects section"},{type:"output",content:"  contact    - Jump to Contact section"},{type:"output",content:"  sandbox    - Open Quant Sandbox"},{type:"output",content:"  alpha      - Open Alpha Engine (ML Predictions)"},{type:"output",content:"  resume     - Open Resume (new tab)"},{type:"output",content:""},{type:"success",content:"   FUN:"},{type:"output",content:"  theme      - Toggle dark/light theme"},{type:"output",content:"  matrix     - Enter the matrix..."},{type:"output",content:""},{type:"success",content:"   LANGUAGE:"},{type:"output",content:"  lang       - Show current language"},{type:"output",content:"  lang <name>- Switch language (e.g., lang french)"},{type:"output",content:"               Supports: en, zh, ja, ko, ar, hi, de, fr, es, pt, ru, id, ms, th, vi"},{type:"output",content:""},{type:"success",content:"   TERMINAL:"},{type:"output",content:"  clear      - Clear terminal"},{type:"output",content:"  history    - Show command history"},{type:"output",content:"  exit       - Close terminal"},{type:"output",content:""},{type:"system",content:"   Tip: Press Tab for autocomplete"},{type:"output",content:""}],whoami:()=>[{type:"ascii",content:"\n   _____ __              __            __     \n  / ___// /_  ____ _____/ /___ _____ _/ /_    \n  \\__ \\/ __ \\/ __ `/ __  / __ `/ __ `/ __ \\   \n ___/ / / / / /_/ / /_/ / /_/ / /_/ / /_/ /   \n/____/_/ /_/\\__,_/\\__,_/\\__,_/\\__,_/_.___/    \n                                    Ahmed\n"},{type:"output",content:""},{type:"success",content:"Shadaab Ahmed"},{type:"output",content:""},{type:"output",content:""},{type:"output",content:"  Quantitative Developer | Financial Engineer"},{type:"output",content:""},{type:"output",content:"  Specializing in:"},{type:"output",content:"   Ultra-low latency trading systems"},{type:"output",content:"   Derivatives pricing & risk management"},{type:"output",content:"   Machine learning for alpha generation"},{type:"output",content:"   Statistical arbitrage strategies"},{type:"output",content:""},{type:"system",content:'  "Building the future of algorithmic trading."'},{type:"output",content:""}],neofetch:()=>{const e=new Date,t=Math.floor((e.getTime()-performance.timeOrigin)/1e3),n=`${Math.floor(t/60)}m ${t%60}s`;return[{type:"output",content:""},{type:"ascii",content:"\n           \n        \n               \n               \n                 \n                    \n      "},{type:"output",content:""},{type:"output",content:"  OS:       Portfolio v1.0.0"},{type:"output",content:`  Host:     ${window.location.hostname}`},{type:"output",content:"  Kernel:   React 18.x"},{type:"output",content:`  Uptime:   ${n}`},{type:"output",content:"  Shell:    zsh + node"},{type:"output",content:"  Theme:    Cyberpunk Dark"},{type:"output",content:`  Browser:  ${navigator.userAgent.split(" ").pop()?.split("/")[0]||"Unknown"}`},{type:"output",content:`  Screen:   ${window.screen.width}x${window.screen.height}`},{type:"output",content:"  Memory:   "+(performance.memory?.usedJSHeapSize?Math.round(performance.memory.usedJSHeapSize/1024/1024)+"MB":"N/A")},{type:"output",content:""},{type:"output",content:"  "},{type:"output",content:""}]},matrix:()=>(document.body.style.filter="hue-rotate(90deg)",setTimeout(()=>{document.body.style.filter=""},2e3),[{type:"output",content:""},{type:"success",content:"  Wake up, Neo..."},{type:"output",content:"  The Matrix has you..."},{type:"output",content:"  Follow the white rabbit."},{type:"output",content:""},{type:"system",content:"  [Effect applied for 2 seconds]"},{type:"output",content:""}]),theme:()=>{const e=document.documentElement.classList.contains("dark")?"dark":"light";return document.documentElement.classList.toggle("dark"),document.documentElement.classList.toggle("light"),[{type:"output",content:""},{type:"success",content:`Theme toggled: ${e}  ${"dark"===e?"light":"dark"}`},{type:"output",content:""}]},clear:()=>[],exit:()=>[]},Nke={"sudo rm -rf /":()=>[{type:"error",content:"  Nice try! "},{type:"output",content:"  This portfolio is protected by advanced security."},{type:"output",content:""}],hack:()=>[{type:"output",content:""},{type:"success",content:"  Access Granted..."},{type:"output",content:"  Just kidding! But I appreciate the enthusiasm."},{type:"output",content:""}],coffee:()=>[{type:"output",content:""},{type:"output",content:"         ( ("},{type:"output",content:"          ) )"},{type:"output",content:"       ........"},{type:"output",content:"       |      |]"},{type:"output",content:"       \\      /"},{type:"output",content:"        `----'"},{type:"output",content:""},{type:"success",content:"  Coffee is the fuel of great code!"},{type:"output",content:""}],hire:()=>[{type:"output",content:""},{type:"success",content:"  "},{type:"success",content:"       THANK YOU FOR YOUR INTEREST!       "},{type:"success",content:"  "},{type:"output",content:""},{type:"output",content:"  I would love to discuss opportunities!"},{type:"output",content:'  Type "contact" to get in touch.'},{type:"output",content:""}]},Eke="terminal_history",Ake="terminal_cmd_history",Cke={about:"#about",experience:"#experience",exp:"#experience",work:"#experience",skills:"#skills",skill:"#skills",projects:"#projects",project:"#projects",contact:"#contact"},jke=["help","whoami","skills","projects","neofetch","contact","home","top","about","experience","sandbox","alpha","resume","theme","matrix","lang","clear","history","exit","coffee","hire","hack"];function Mke(){const e=Le(),t=Pe(),{language:n,setLanguage:r,currentLanguage:a}=wf(),[i,s]=O.useState(!1),[o,l]=O.useState(()=>{try{const e=localStorage.getItem(Eke);if(e){return[...JSON.parse(e),{type:"system",content:""},{type:"system",content:"   Session Restored "},{type:"output",content:""}]}}catch(ATe){console.warn("Failed to load terminal history")}return[{type:"system",content:""},{type:"system",content:"  Welcome to ShadaabOS v1.0.0"},{type:"system",content:'  Type "help" for available commands.'},{type:"output",content:""}]}),[c,h]=O.useState(""),[d,p]=O.useState(()=>{try{const e=localStorage.getItem(Ake);return e?JSON.parse(e):[]}catch(ATe){return[]}}),[f,m]=O.useState(-1),[g,y]=O.useState([]),[x,b]=O.useState(0),v=O.useRef(null),w=O.useRef(null);O.useEffect(()=>{const e=e=>{if("`"===e.key&&!e.ctrlKey&&!e.metaKey){if("INPUT"===document.activeElement?.tagName||"TEXTAREA"===document.activeElement?.tagName)return;e.preventDefault(),s(e=>!e)}"Escape"===e.key&&i&&s(!1)};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[i]),O.useEffect(()=>{i&&v.current&&(v.current.focus(),yke("terminal"))},[i]),O.useEffect(()=>{w.current&&(w.current.scrollTop=w.current.scrollHeight)},[o]),O.useEffect(()=>{w.current&&(g.length>0||c)&&requestAnimationFrame(()=>{w.current&&(w.current.scrollTop=w.current.scrollHeight)})},[g,c]),O.useEffect(()=>{try{const e=o.slice(-50);localStorage.setItem(Eke,JSON.stringify(e))}catch(ATe){console.warn("Failed to save terminal history")}},[o]),O.useEffect(()=>{try{const e=d.slice(-20);localStorage.setItem(Ake,JSON.stringify(e))}catch(ATe){console.warn("Failed to save command history")}},[d]);const k=O.useCallback((n,r)=>{s(!1),setTimeout(()=>{n!==t.pathname&&e(n),r&&setTimeout(()=>{const e=document.querySelector(r);e&&e.scrollIntoView({behavior:"smooth",block:"start"})},100)},150)},[e,t.pathname]),S=O.useCallback(e=>{const n=e.trim(),[i,...o]=n.toLowerCase().split(" "),c={type:"input",content:`$ ${n}`,timestamp:Date.now()};if("clear"!==i)if("exit"!==i){if("home"===i||"portfolio"===i||"back"===i)return l(e=>[...e,c,{type:"success",content:"  Navigating to home page..."},{type:"output",content:""}]),k("/"),void(n&&p(e=>[...e,n]));if("top"===i){const e="/lab"===t.pathname?"Quant Sandbox":"page";return l(t=>[...t,c,{type:"success",content:`  Scrolling to top of ${e}...`},{type:"output",content:""}]),s(!1),setTimeout(()=>{window.scrollTo({top:0,behavior:"smooth"})},150),void(n&&p(e=>[...e,n]))}if("sandbox"===i||"quant"===i||"lab"===i||"trading"===i)return l(e=>[...e,c,{type:"success",content:"  Opening Quant Sandbox..."},{type:"output",content:""}]),k("/lab"),void(n&&p(e=>[...e,n]));if("alpha"===i||"engine"===i||"ml"===i||"predict"===i||"predictions"===i)return l(e=>[...e,c,{type:"success",content:"  Opening Alpha Engine..."},{type:"output",content:"  ML-Powered Prediction System"},{type:"output",content:""}]),k("/alpha-engine"),void(n&&p(e=>[...e,n]));if("experience"===i||"exp"===i||"work"===i)return l(e=>[...e,c,{type:"success",content:"  Jumping to Experience section..."},{type:"output",content:""}]),k("/","#experience"),void(n&&p(e=>[...e,n]));if("about"===i||"bio"===i)return l(e=>[...e,c,{type:"success",content:"  Jumping to About section..."},{type:"output",content:""}]),k("/","#about"),void(n&&p(e=>[...e,n]));if("skills"===i||"skill"===i)return l(e=>[...e,c,{type:"success",content:"  Jumping to Skills section..."},{type:"output",content:""}]),k("/","#skills"),void(n&&p(e=>[...e,n]));if("projects"===i||"project"===i)return l(e=>[...e,c,{type:"success",content:"  Jumping to Projects section..."},{type:"output",content:""}]),k("/","#projects"),void(n&&p(e=>[...e,n]));if("contact"===i)return l(e=>[...e,c,{type:"success",content:"  Jumping to Contact section..."},{type:"output",content:""}]),k("/","#contact"),void(n&&p(e=>[...e,n]));if("goto"===i&&"skills"===o[0])return l(e=>[...e,c,{type:"success",content:"  Jumping to Skills section..."},{type:"output",content:""}]),k("/","#skills"),void(n&&p(e=>[...e,n]));if("goto"===i&&"contact"===o[0])return l(e=>[...e,c,{type:"success",content:"  Jumping to Contact section..."},{type:"output",content:""}]),k("/","#contact"),void(n&&p(e=>[...e,n]));if("resume"===i||"cv"===i)return l(e=>[...e,c,{type:"success",content:"  Opening Resume in new tab..."},{type:"output",content:""}]),window.open("https://www.kickresume.com/cv/4W3LxK/","_blank"),n&&p(e=>[...e,n]),void setTimeout(()=>s(!1),300);if("lang"===i||"language"===i){if(0===o.length){const e=df.map(e=>`${e.flag} ${e.code} - ${e.name}`).join("\n  ");return l(t=>[...t,c,{type:"output",content:""},{type:"success",content:`  Current language: ${a.flag} ${a.name}`},{type:"output",content:""},{type:"output",content:"  Available languages:"},{type:"output",content:`  ${e}`},{type:"output",content:""},{type:"system",content:"  Usage: lang <code|name>  (e.g., lang french, lang ja)"},{type:"output",content:""}]),void(n&&p(e=>[...e,n]))}const e=o[0].toLowerCase(),t=wke[e];if(t){const e=df.find(e=>e.code===t.code);if(e)return r(t.code),l(t=>[...t,c,{type:"output",content:""},{type:"success",content:`   Language changed to ${e.flag} ${e.name}`},{type:"output",content:""},{type:"system",content:"  Page content will be translated..."},{type:"output",content:""}]),void(n&&p(e=>[...e,n]))}return l(e=>[...e,c,{type:"output",content:""},{type:"error",content:`  Unknown language: "${o[0]}"`},{type:"output",content:""},{type:"output",content:"  Try: en, zh, ja, ko, ar, hi, de, fr, es, pt, ru, id, ms, th, vi"},{type:"output",content:"  Or: english, chinese, japanese, korean, arabic, hindi, german, french, spanish, etc."},{type:"output",content:""}]),void(n&&p(e=>[...e,n]))}if("goto"===i||"go"===i||"cd"===i){const e=o[0];if(!e)return l(e=>[...e,c,{type:"error",content:"  Usage: goto <section>"},{type:"output",content:"  Available: experience, skills, projects, contact, sandbox, alpha"},{type:"output",content:""}]),void(n&&p(e=>[...e,n]));if(Cke[e]){const t=Cke[e];return l(t=>[...t,c,{type:"success",content:`  Navigating to ${e}...`},{type:"output",content:""}]),k("/",t),void(n&&p(e=>[...e,n]))}return"sandbox"===e||"quant"===e||"lab"===e?(l(e=>[...e,c,{type:"success",content:"  Opening Quant Sandbox..."},{type:"output",content:""}]),k("/lab"),void(n&&p(e=>[...e,n]))):"alpha"===e||"engine"===e||"ml"===e||"predict"===e?(l(e=>[...e,c,{type:"success",content:"  Opening Alpha Engine..."},{type:"output",content:""}]),k("/alpha-engine"),void(n&&p(e=>[...e,n]))):(l(t=>[...t,c,{type:"error",content:`  Unknown section: ${e}`},{type:"output",content:"  Try: experience, skills, projects, contact, sandbox, alpha"},{type:"output",content:""}]),void(n&&p(e=>[...e,n])))}if("history"===i){const e=d.slice(-15).map((e,t)=>({type:"output",content:`  ${t+1}. ${e}`}));return l(t=>[...t,c,{type:"output",content:""},{type:"success",content:"  Command History (last 15):"},{type:"output",content:""},...e,{type:"output",content:""}]),void(n&&p(e=>[...e,n]))}if(Nke[n])return l(e=>[...e,c,...Nke[n]()]),void(n&&p(e=>[...e,n]));Ske[i]?l(e=>[...e,c,...Ske[i](o)]):l(""===n?e=>[...e,c]:e=>[...e,c,{type:"error",content:`  Command not found: ${i}`},{type:"output",content:'  Type "help" for available commands.'},{type:"output",content:""}]),n&&p(e=>[...e,n])}else s(!1);else l([c])},[]);O.useEffect(()=>{if(c.length>0){const e=c.toLowerCase(),t=e.split(" ");if("lang"===t[0]&&t.length>=1)if(1!==t.length||e.endsWith(" ")){const e=t[1]||"",n=kke.filter(t=>t.startsWith(e)&&t!==e),r=Object.keys(wke).filter(t=>t.startsWith(e)&&t!==e&&t.length<=3),a=[...new Set([...n,...r])].slice(0,8);a.length>0?(y(a.map(e=>`lang ${e}`)),b(0)):y([])}else{const t=jke.filter(t=>t.startsWith(e)&&t!==e);t.length>0&&t.length<=8?(y(t),b(0)):y([])}else{const t=jke.filter(t=>t.startsWith(e)&&t!==e);t.length>0&&t.length<=8?(y(t),b(0)):y([])}}else y([])},[c]);const N=e=>{switch(e){case"input":return"text-cyan-400";case"output":return"text-foreground/80";case"error":return"text-red-400";case"success":return"text-green-400";case"ascii":return"text-purple-400";case"system":return"text-yellow-400/80";default:return"text-foreground"}};return u.jsx(su,{children:i&&u.jsx(nf.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},transition:{duration:.2},className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm",onClick:()=>s(!1),children:u.jsxs(nf.div,{initial:{scale:.95},animate:{scale:1},exit:{scale:.95},transition:{duration:.2},className:"w-full max-w-3xl bg-black/95 border border-cyan-500/40 rounded-lg shadow-2xl shadow-cyan-500/20 overflow-hidden",onClick:e=>e.stopPropagation(),children:[u.jsxs("div",{className:"flex items-center justify-between px-4 py-2 bg-gradient-to-r from-cyan-500/20 to-purple-500/20 border-b border-cyan-500/30",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(zi,{size:16,className:"text-cyan-400",weight:"duotone"}),u.jsx("span",{className:"text-cyan-400 font-mono text-sm font-bold",children:"terminal"}),u.jsx("span",{className:"text-foreground/40 font-mono text-xs",children:"~ shadaab@portfolio"})]}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsxs("div",{className:"flex gap-1.5",children:[u.jsx("div",{className:"w-3 h-3 rounded-full bg-red-500/80 hover:bg-red-500 cursor-pointer",onClick:()=>s(!1)}),u.jsx("div",{className:"w-3 h-3 rounded-full bg-yellow-500/80"}),u.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500/80"})]}),u.jsx("button",{onClick:()=>s(!1),className:"text-foreground/50 hover:text-foreground transition-colors",children:u.jsx(Qi,{size:16})})]})]}),u.jsxs("div",{ref:w,className:"h-[500px] overflow-y-auto p-4 font-mono text-sm custom-scrollbar",children:[o.map((e,t)=>u.jsx("div",{className:`${N(e.type)} whitespace-pre-wrap leading-relaxed`,children:e.content},t)),u.jsxs("div",{className:"relative",children:[g.length>0&&u.jsxs("div",{className:"absolute left-4 bottom-full mb-1 bg-black/95 border border-cyan-500/40 rounded overflow-hidden z-10 shadow-lg shadow-cyan-500/10",children:[u.jsx("div",{className:"px-2 py-1 border-b border-cyan-500/20 text-[9px] text-foreground/40 font-mono",children:" navigate  Enter select  Esc close"}),u.jsx("div",{className:"flex flex-wrap gap-1 p-2 max-w-md",children:g.map((e,t)=>u.jsx("button",{type:"button",onClick:()=>{h(e),y([]),v.current?.focus()},className:"px-2 py-0.5 text-xs font-mono rounded transition-all "+(t===x?"bg-cyan-500/30 text-cyan-300 border border-cyan-400/50":"bg-cyan-500/10 text-cyan-400/70 hover:bg-cyan-500/20 border border-transparent"),children:e},e))})]}),u.jsxs("form",{onSubmit:e=>{e.preventDefault(),S(c),h(""),m(-1)},className:"flex items-center gap-2 mt-1",children:[u.jsx("span",{className:"text-cyan-400",children:"$"}),u.jsx("input",{ref:v,type:"text",value:c,onChange:e=>h(e.target.value),onKeyDown:e=>{if("ArrowUp"===e.key&&(e.preventDefault(),f<d.length-1)){const e=f+1;m(e),h(d[d.length-1-e])}if("ArrowDown"===e.key)if(e.preventDefault(),f>0){const e=f-1;m(e),h(d[d.length-1-e])}else 0===f&&(m(-1),h(""));if("Tab"===e.key)if(e.preventDefault(),g.length>0)h(g[x]),y([]),b(0);else{const e=jke.filter(e=>e.startsWith(c.toLowerCase())&&e!==c.toLowerCase());1===e.length?h(e[0]):e.length>1&&(y(e),b(0))}if(g.length>0){if("ArrowRight"===e.key||"Tab"===e.key&&!e.shiftKey)return e.preventDefault(),void b(e=>e<g.length-1?e+1:0);if("ArrowLeft"===e.key||"Tab"===e.key&&e.shiftKey)return e.preventDefault(),void b(e=>e>0?e-1:g.length-1);if("Enter"===e.key)return e.preventDefault(),h(g[x]),y([]),void b(0);if("Escape"===e.key)return y([]),void b(0)}},className:"flex-1 bg-transparent text-foreground outline-none font-mono caret-cyan-400 cursor-text selection:bg-cyan-500/30",autoFocus:!0,autoComplete:"off",spellCheck:!1,style:{caretColor:"#22d3ee"}})]})]})]}),u.jsx("div",{className:"px-4 py-1.5 border-t border-cyan-500/20 bg-cyan-500/5",children:u.jsxs("div",{className:"flex justify-between items-center text-[10px] font-mono text-foreground/40",children:[u.jsx("span",{children:'Press ` or ESC to close  Type "help" for commands'}),u.jsx("span",{children:" history  Tab autocomplete   suggestions"})]})})]})})})}const Tke="https://api.binance.com/api/v3",Ike=["BTCUSDT","ETHUSDT","BNBUSDT","SOLUSDT","XRPUSDT","DOGEUSDT","ADAUSDT","AVAXUSDT","LINKUSDT","MATICUSDT"],Oke=new Map,Pke=new Map,Rke=new Map;let _ke=null,Lke=!1,$ke=!1,Fke=!1,Dke=[];function zke(e){const t=Oke.get(e),n=Pke.get(e)||[],r=Rke.get(e);if(!t||0===t.bids.length||0===t.asks.length)return null;const a=t.bids[0],i=t.asks[0],s=(a.price+i.price)/2,o=i.price-a.price,l=o/s*1e4,c=t.bids.slice(0,20).reduce((e,t)=>e+t.quantity,0),u=t.asks.slice(0,20).reduce((e,t)=>e+t.quantity,0),h=c+u,d=h>0?(c-u)/h:0,p=u>0?c/u:1;let f=0,m=0,g=0,y=0;for(const S of n)S.quantity,S.price,S.isBuyerMaker?m+=S.quantity:f+=S.quantity,g+=S.price*S.quantity,y+=S.quantity;const x=y>0?g/y:s,b=f-m,v=n.length>0?y/n.length:0;let w=0;if(n.length>=2){const e=(n[n.length-1].time-n[0].time)/1e3;w=e>0?n.length/e:0}let k=0;if(n.length>=10){const e=[];for(let t=1;t<n.length;t++)n[t-1].price>0&&e.push(Math.log(n[t].price/n[t-1].price));if(e.length>0){const t=e.reduce((e,t)=>e+t,0)/e.length,n=e.reduce((e,n)=>e+Math.pow(n-t,2),0)/e.length;k=Math.sqrt(n)*Math.sqrt(31536e3*w)*100}}return{bidAskSpread:o,spreadBps:l,orderBookImbalance:d,midPrice:s,bidDepth:c,askDepth:u,depthRatio:p,buyVolume:f,sellVolume:m,netOrderFlow:b,vwap:x,tradeIntensity:w,avgTradeSize:v,realizedVolatility:k,priceRange:r?r.highPrice-r.lowPrice:0,lastPrice:r?.lastPrice||s,timestamp:Date.now()}}let Vke=null;async function Bke(e){try{const t=await fetch(`${Tke}/depth?symbol=${e}&limit=20`);if(t.ok){const n=await t.json();Oke.set(e,{bids:n.bids.map(([e,t])=>({price:parseFloat(e),quantity:parseFloat(t)})),asks:n.asks.map(([e,t])=>({price:parseFloat(e),quantity:parseFloat(t)})),lastUpdateId:n.lastUpdateId,timestamp:Date.now()})}const n=await fetch(`${Tke}/trades?symbol=${e}&limit=50`);if(n.ok){const t=(await n.json()).map(e=>({id:e.id,price:parseFloat(e.price),quantity:parseFloat(e.qty),time:e.time,isBuyerMaker:e.isBuyerMaker}));Pke.set(e,t)}const r=await fetch(`${Tke}/ticker/24hr?symbol=${e}`);if(r.ok){const t=await r.json();Rke.set(e,{symbol:t.symbol,priceChange:parseFloat(t.priceChange),priceChangePercent:parseFloat(t.priceChangePercent),lastPrice:parseFloat(t.lastPrice),highPrice:parseFloat(t.highPrice),lowPrice:parseFloat(t.lowPrice),volume:parseFloat(t.volume),quoteVolume:parseFloat(t.quoteVolume),openPrice:parseFloat(t.openPrice),closeTime:t.closeTime,bidPrice:parseFloat(t.bidPrice),askPrice:parseFloat(t.askPrice),bidQty:parseFloat(t.bidQty),askQty:parseFloat(t.askQty)})}const a=zke(e);a&&Dke.forEach(t=>{t({symbol:e,metrics:a})})}catch(t){console.warn(`REST API fetch failed for ${e}:`,t)}}function Hke(){const e=[];for(const r of Ike){const t=r.toLowerCase();e.push(`${t}@depth20@100ms`),e.push(`${t}@trade`),e.push(`${t}@ticker`)}const t=`wss://stream.binance.com:9443/stream?streams=${e.join("/")}`;console.log(" Connecting to Binance WebSocket..."),console.log(` Streams: ${Ike.join(", ")}`);const n=new WebSocket(t);n.onopen=()=>{console.log(" Binance WebSocket connected for all symbols!"),Lke=!0,_ke=n},n.onmessage=e=>{try{const t=JSON.parse(e.data),n=t.stream,r=t.data;if(!n||!r)return;const a=n.split("@")[0].toUpperCase();if(n.includes("@depth")){const e=function(e){const t=e.bids||e.b||[],n=e.asks||e.a||[],r=e.lastUpdateId||e.u||0;return{bids:t.map(([e,t])=>({price:parseFloat(e),quantity:parseFloat(t)})),asks:n.map(([e,t])=>({price:parseFloat(e),quantity:parseFloat(t)})),lastUpdateId:r}}(r),t=Oke.get(a)||{bids:[],asks:[],lastUpdateId:0,timestamp:0};Oke.set(a,{bids:e.bids||t.bids,asks:e.asks||t.asks,lastUpdateId:e.lastUpdateId||t.lastUpdateId,timestamp:Date.now()})}else if(n.includes("@trade")){const e=function(e){return{id:e.t,price:parseFloat(e.p),quantity:parseFloat(e.q),time:e.T,isBuyerMaker:e.m}}(r),t=Pke.get(a)||[];t.push(e),t.length>100&&t.shift(),Pke.set(a,t)}else if(n.includes("@ticker")){const e=function(e){return{symbol:e.s,priceChange:parseFloat(e.p),priceChangePercent:parseFloat(e.P),lastPrice:parseFloat(e.c),highPrice:parseFloat(e.h),lowPrice:parseFloat(e.l),volume:parseFloat(e.v),quoteVolume:parseFloat(e.q),openPrice:parseFloat(e.o),closeTime:e.C,bidPrice:parseFloat(e.b),askPrice:parseFloat(e.a),bidQty:parseFloat(e.B),askQty:parseFloat(e.A)}}(r);Rke.set(a,e)}const i=zke(a);i&&Dke.forEach(e=>{e({symbol:a,metrics:i})})}catch(t){console.warn("Error parsing Binance WebSocket message:",t)}},n.onerror=e=>{console.warn("Binance WebSocket error:",e),Lke=!1},n.onclose=()=>{console.log("Binance WebSocket closed"),_ke=null,Lke=!1,setTimeout(()=>{console.log(" Reconnecting to Binance WebSocket..."),Hke()},5e3)}}function Uke(){if(Fke||$ke)return console.log(" Binance connection already active, reusing..."),()=>{};$ke=!0,Fke=!0,console.log(" Starting Binance data connection...");for(const t of Ike)Pke.set(t,[]),Oke.set(t,{bids:[],asks:[],lastUpdateId:0,timestamp:0});(async function(){console.log(" Fetching initial data via REST API for instant display...");const e=Ike.map(async e=>{try{const[t,n,r]=await Promise.all([fetch(`${Tke}/depth?symbol=${e}&limit=20`),fetch(`${Tke}/trades?symbol=${e}&limit=50`),fetch(`${Tke}/ticker/24hr?symbol=${e}`)]);if(t.ok){const n=await t.json();Oke.set(e,{bids:n.bids.map(([e,t])=>({price:parseFloat(e),quantity:parseFloat(t)})),asks:n.asks.map(([e,t])=>({price:parseFloat(e),quantity:parseFloat(t)})),lastUpdateId:n.lastUpdateId,timestamp:Date.now()})}if(n.ok){const t=await n.json();Pke.set(e,t.map(e=>({id:e.id,price:parseFloat(e.price),quantity:parseFloat(e.qty),time:e.time,isBuyerMaker:e.isBuyerMaker})))}if(r.ok){const t=await r.json();Rke.set(e,{symbol:t.symbol,priceChange:parseFloat(t.priceChange),priceChangePercent:parseFloat(t.priceChangePercent),lastPrice:parseFloat(t.lastPrice),highPrice:parseFloat(t.highPrice),lowPrice:parseFloat(t.lowPrice),volume:parseFloat(t.volume),quoteVolume:parseFloat(t.quoteVolume),openPrice:parseFloat(t.openPrice),closeTime:t.closeTime,bidPrice:parseFloat(t.bidPrice),askPrice:parseFloat(t.askPrice),bidQty:parseFloat(t.bidQty),askQty:parseFloat(t.askQty)})}const a=zke(e);a&&Dke.forEach(t=>{t({symbol:e,metrics:a})})}catch(t){console.warn(`Initial REST fetch failed for ${e}:`,t)}});await Promise.all(e),console.log(" Initial data loaded via REST API")})().then(()=>{$ke=!1}).catch(e=>{console.error("REST fetch error:",e),$ke=!1}),Hke();const e=setTimeout(()=>{Lke||(console.log(" WebSocket connection timeout, falling back to REST API polling..."),async function(){console.log(" Starting REST API polling fallback...");for(const e of Ike)await Bke(e);Vke=setInterval(async()=>{for(const e of Ike)await Bke(e)},2e3)}())},5e3);return()=>{console.log(" Closing Binance connection..."),clearTimeout(e),Vke&&(clearInterval(Vke),Vke=null),_ke&&(_ke.close(),_ke=null),Lke=!1,Fke=!1,$ke=!1,Dke=[]}}function Wke(e){Dke.push(e);for(const t of Ike){const n=zke(t);n&&e({symbol:t,metrics:n})}return()=>{Dke=Dke.filter(t=>t!==e)}}function Zke({orderBook:e,metrics:t}){const{t:n}=wf();if(!e||0===e.bids.length||0===e.asks.length)return u.jsx("div",{className:"flex items-center justify-center h-48 text-gray-500 text-sm",children:n("Waiting for order book data...")});const r=Math.max(...e.bids.slice(0,10).map(e=>e.quantity),...e.asks.slice(0,10).map(e=>e.quantity));return u.jsxs("div",{className:"space-y-1",children:[u.jsxs("div",{className:"grid grid-cols-3 text-[10px] text-gray-500 font-mono mb-1",children:[u.jsx("span",{children:n("Price")}),u.jsx("span",{className:"text-center",children:n("Size")}),u.jsx("span",{className:"text-right",children:n("Depth")})]}),u.jsx("div",{className:"space-y-0.5",children:e.asks.slice(0,8).reverse().map((e,t)=>u.jsxs("div",{className:"relative grid grid-cols-3 text-[11px] font-mono h-5 items-center",children:[u.jsx("div",{className:"absolute right-0 top-0 bottom-0 bg-red-500/10",style:{width:e.quantity/r*100+"%"}}),u.jsxs("span",{className:"relative text-red-400",children:["$",e.price.toFixed(2)]}),u.jsx("span",{className:"relative text-center text-gray-400",children:e.quantity.toFixed(4)}),u.jsxs("span",{className:"relative text-right text-gray-500",children:[(e.quantity/r*100).toFixed(0),"%"]})]},`ask-${t}`))}),u.jsxs("div",{className:"py-2 text-center border-y border-gray-700/50",children:[u.jsxs("span",{className:"text-[10px] text-gray-500",children:[n("Spread"),": "]}),u.jsxs("span",{className:"text-[11px] font-mono text-cyan-400",children:["$",t?.bidAskSpread.toFixed(2)," (",t?.spreadBps.toFixed(1)," bps)"]})]}),u.jsx("div",{className:"space-y-0.5",children:e.bids.slice(0,8).map((e,t)=>u.jsxs("div",{className:"relative grid grid-cols-3 text-[11px] font-mono h-5 items-center",children:[u.jsx("div",{className:"absolute left-0 top-0 bottom-0 bg-green-500/10",style:{width:e.quantity/r*100+"%"}}),u.jsxs("span",{className:"relative text-green-400",children:["$",e.price.toFixed(2)]}),u.jsx("span",{className:"relative text-center text-gray-400",children:e.quantity.toFixed(4)}),u.jsxs("span",{className:"relative text-right text-gray-500",children:[(e.quantity/r*100).toFixed(0),"%"]})]},`bid-${t}`))})]})}function Gke({trades:e}){const{t:t}=wf();if(0===e.length)return u.jsx("div",{className:"flex items-center justify-center h-32 text-gray-500 text-sm",children:t("Waiting for trades...")});const n=e.slice(-20).reverse();return u.jsxs("div",{className:"space-y-1",children:[u.jsxs("div",{className:"grid grid-cols-4 text-[10px] text-gray-500 font-mono mb-1",children:[u.jsx("span",{children:t("Time")}),u.jsx("span",{children:t("Side")}),u.jsx("span",{className:"text-right",children:t("Price")}),u.jsx("span",{className:"text-right",children:t("Size")})]}),u.jsx("div",{className:"space-y-0.5 max-h-56 overflow-y-auto",children:n.map(e=>{const t=new Date(e.time),n=!e.isBuyerMaker;return u.jsxs(nf.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},className:"grid grid-cols-4 text-[11px] font-mono",children:[u.jsx("span",{className:"text-gray-500",children:t.toLocaleTimeString("en-US",{hour12:!1,hour:"2-digit",minute:"2-digit",second:"2-digit"})}),u.jsx("span",{className:n?"text-green-400":"text-red-400",children:n?"BUY":"SELL"}),u.jsxs("span",{className:"text-right text-gray-300",children:["$",e.price.toFixed(2)]}),u.jsx("span",{className:"text-right "+(n?"text-green-400/70":"text-red-400/70"),children:e.quantity.toFixed(4)})]},e.id)})})]})}function Kke({imbalance:e,label:t}){const n=Math.max(-1,Math.min(1,e)),r=50*(n+1),a=n>.2?"text-green-400":n<-.2?"text-red-400":"text-gray-400",i=n>.2?"from-green-500/30":n<-.2?"from-red-500/30":"from-gray-500/30";return u.jsxs("div",{className:"space-y-1",children:[u.jsxs("div",{className:"flex justify-between items-center text-[10px]",children:[u.jsx("span",{className:"text-gray-500",children:t}),u.jsxs("span",{className:`font-mono ${a}`,children:[n>0?"+":"",(100*n).toFixed(1),"%"]})]}),u.jsxs("div",{className:"relative h-2 bg-gray-800 rounded-full overflow-hidden",children:[u.jsx("div",{className:"absolute left-1/2 top-0 bottom-0 w-px bg-gray-600"}),u.jsx("div",{className:`absolute top-0 bottom-0 bg-gradient-to-r ${i} to-transparent transition-all duration-300`,style:{left:n>=0?"50%":`${r}%`,right:n>=0?100-r+"%":"50%"}}),u.jsx("div",{className:`absolute top-0 bottom-0 w-1 ${n>.2?"bg-green-400":n<-.2?"bg-red-400":"bg-gray-400"} rounded transition-all duration-300`,style:{left:`calc(${r}% - 2px)`}})]}),u.jsxs("div",{className:"flex justify-between text-[9px] text-gray-600",children:[u.jsx("span",{children:"Sellers"}),u.jsx("span",{children:"Buyers"})]})]})}function qke({icon:e,label:t,value:n,subValue:r,trend:a,color:i="text-cyan-400"}){return u.jsxs("div",{className:"bg-gray-800/30 rounded-lg p-3 border border-gray-700/30",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[u.jsx("span",{className:"text-gray-500",children:e}),u.jsx("span",{className:"text-[10px] text-gray-500 uppercase tracking-wide",children:t})]}),u.jsxs("div",{className:"flex items-baseline gap-2",children:[u.jsx("span",{className:`text-lg font-mono ${i}`,children:n}),a&&u.jsx("span",{className:"up"===a?"text-green-400":"down"===a?"text-red-400":"text-gray-400",children:"up"===a?"":"down"===a?"":""})]}),r&&u.jsx("span",{className:"text-[10px] text-gray-500",children:r})]})}function Xke(){const{t:e}=wf(),[t,n]=O.useState(Ike[0]),[r,a]=O.useState(new Map),[i,s]=O.useState(null),[o,l]=O.useState([]),[c,h]=O.useState(!1),[d,p]=O.useState(0),f=P.useRef(0);O.useEffect(()=>{const e=Uke(),n=Wke(({symbol:e,metrics:t})=>{const n=Date.now();n-f.current<300?h(!0):(f.current=n,a(n=>{const r=new Map(n);return r.set(e,t),r}),h(!0),p(Date.now()))}),r=setInterval(()=>{const e=(n=t,Oke.get(n)||null);var n;const r=function(e){return Pke.get(e)||[]}(t);s(e),l(r)},300);return()=>{e(),n(),clearInterval(r)}},[t]);const m=r.get(t);O.useMemo(()=>{const e=Array.from(r.values());if(0===e.length)return null;const t=e.reduce((e,t)=>e+t.spreadBps,0)/e.length,n=e.reduce((e,t)=>e+t.orderBookImbalance,0)/e.length,a=e.reduce((e,t)=>e+t.buyVolume,0),i=e.reduce((e,t)=>e+t.sellVolume,0);return{avgSpread:t,avgImbalance:n,totalBuyVol:a,totalSellVol:i,netFlow:a-i,avgTradeIntensity:e.reduce((e,t)=>e+t.tradeIntensity,0)/e.length}},[r]);const g=e=>e>=1e4?`$${(e/1e3).toFixed(1)}K`:e>=100?`$${e.toFixed(0)}`:`$${e.toFixed(2)}`,y=e=>e>=1e6?`${(e/1e6).toFixed(2)}M`:e>=1e3?`${(e/1e3).toFixed(2)}K`:e.toFixed(4);return u.jsxs(nf.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-gradient-to-br from-gray-900/80 to-gray-800/60 rounded-2xl p-3 sm:p-5 border border-gray-700/50 min-h-[500px] sm:min-h-[600px] lg:h-[680px] flex flex-col",children:[u.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between mb-3 sm:mb-4 gap-3 sm:gap-0",children:[u.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[u.jsx("div",{className:"p-1.5 sm:p-2 bg-purple-500/20 rounded-lg",children:u.jsx(_K,{className:"w-4 h-4 sm:w-5 sm:h-5 text-purple-400"})}),u.jsxs("div",{children:[u.jsxs("h3",{className:"text-sm sm:text-lg font-semibold text-white flex items-center gap-2",children:[e("Market Microstructure"),u.jsx("span",{className:"text-[9px] sm:text-[10px] px-1.5 sm:px-2 py-0.5 bg-purple-500/20 text-purple-300 rounded-full font-normal",children:"LIVE"})]}),u.jsx("p",{className:"text-[10px] sm:text-xs text-gray-500 hidden sm:block",children:e("Real-time order book & trade flow from Binance")})]})]}),u.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-2 w-full sm:w-auto",children:[u.jsx("div",{className:"flex flex-wrap gap-1",children:Ike.slice(0,6).map(e=>u.jsx("button",{onClick:()=>n(e),className:"px-1.5 sm:px-2 py-0.5 sm:py-1 text-[9px] sm:text-[10px] font-mono rounded transition-all "+(t===e?"bg-purple-500/30 text-purple-300 border border-purple-500/50":"bg-gray-800/50 text-gray-500 hover:text-gray-300 border border-transparent"),children:e.replace("USDT","")},e))}),u.jsxs("div",{className:"flex items-center gap-1.5 px-2 py-1 bg-gray-800/50 rounded",children:[u.jsx("div",{className:"w-1.5 h-1.5 rounded-full "+(c?"bg-green-400 animate-pulse":"bg-red-400")}),u.jsx("span",{className:"text-[9px] sm:text-[10px] text-gray-500",children:c?"Connected":"Connecting..."})]})]})]}),!m&&u.jsx("div",{className:"flex-1 flex items-center justify-center",children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"w-8 h-8 border-2 border-purple-400 border-t-transparent rounded-full animate-spin mx-auto mb-3"}),u.jsx("p",{className:"text-gray-400 text-sm",children:e("Connecting to Binance...")}),u.jsx("p",{className:"text-[10px] text-gray-500 mt-1",children:e("Trying WebSocket, will fallback to REST API if needed")}),u.jsx("p",{className:"text-[10px] text-gray-600 mt-2",children:e("Please wait up to 10 seconds...")})]})}),m&&u.jsx("div",{className:"flex-1 min-h-0 overflow-y-auto sm:overflow-visible",children:u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4",children:[u.jsxs("div",{className:"bg-gray-800/20 rounded-xl p-3 sm:p-4 border border-gray-700/30",children:[u.jsxs("div",{className:"flex items-center justify-between mb-2 sm:mb-3",children:[u.jsxs("h4",{className:"text-xs sm:text-sm font-medium text-gray-300 flex items-center gap-2",children:[u.jsx(cq,{className:"w-3 h-3 sm:w-4 sm:h-4 text-gray-500"}),e("Order Book")]}),u.jsx("span",{className:"text-[9px] sm:text-[10px] text-gray-500 font-mono",children:t})]}),u.jsx(Zke,{orderBook:i,metrics:m})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[u.jsx(qke,{icon:u.jsx(YK,{className:"w-4 h-4"}),label:e("Mid Price"),value:g(m.midPrice),color:"text-white"}),u.jsx(qke,{icon:u.jsx(CK,{className:"w-4 h-4"}),label:"VWAP",value:g(m.vwap),subValue:` ${((m.midPrice-m.vwap)/m.vwap*100).toFixed(3)}%`,color:"text-amber-400"})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[u.jsx(qke,{icon:u.jsx(cq,{className:"w-4 h-4"}),label:e("Spread"),value:`${m.spreadBps.toFixed(1)} bps`,subValue:g(m.bidAskSpread),color:m.spreadBps<5?"text-green-400":m.spreadBps<15?"text-yellow-400":"text-red-400"}),u.jsx(qke,{icon:u.jsx(IK,{className:"w-4 h-4"}),label:e("Trade Intensity"),value:`${m.tradeIntensity.toFixed(1)}/s`,subValue:`Avg: ${y(m.avgTradeSize)}`,color:"text-cyan-400"})]}),u.jsxs("div",{className:"bg-gray-800/20 rounded-xl p-4 border border-gray-700/30",children:[u.jsx("h4",{className:"text-sm font-medium text-gray-300 mb-3 flex items-center gap-2",children:e("Order Book Imbalance")}),u.jsx(Kke,{imbalance:m.orderBookImbalance,label:e("Bid/Ask Volume")}),u.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-3 text-[11px]",children:[u.jsxs("div",{children:[u.jsxs("span",{className:"text-gray-500",children:[e("Bid Depth"),": "]}),u.jsx("span",{className:"text-green-400 font-mono",children:y(m.bidDepth)})]}),u.jsxs("div",{className:"text-right",children:[u.jsxs("span",{className:"text-gray-500",children:[e("Ask Depth"),": "]}),u.jsx("span",{className:"text-red-400 font-mono",children:y(m.askDepth)})]})]})]}),u.jsxs("div",{className:"bg-gray-800/20 rounded-xl p-4 border border-gray-700/30",children:[u.jsx("h4",{className:"text-sm font-medium text-gray-300 mb-3 flex items-center gap-2",children:e("Trade Flow (Last 100)")}),u.jsx(Kke,{imbalance:m.buyVolume+m.sellVolume>0?(m.buyVolume-m.sellVolume)/(m.buyVolume+m.sellVolume):0,label:e("Buy/Sell Volume")}),u.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-3 text-[11px]",children:[u.jsxs("div",{children:[u.jsxs("span",{className:"text-gray-500",children:[e("Buy Vol"),": "]}),u.jsx("span",{className:"text-green-400 font-mono",children:y(m.buyVolume)})]}),u.jsxs("div",{className:"text-right",children:[u.jsxs("span",{className:"text-gray-500",children:[e("Sell Vol"),": "]}),u.jsx("span",{className:"text-red-400 font-mono",children:y(m.sellVolume)})]})]})]})]}),u.jsxs("div",{className:"bg-gray-800/20 rounded-xl p-4 border border-gray-700/30",children:[u.jsxs("div",{className:"flex items-center justify-between mb-3",children:[u.jsxs("h4",{className:"text-sm font-medium text-gray-300 flex items-center gap-2",children:[u.jsx(HK,{className:"w-4 h-4 text-gray-500"}),e("Time & Sales")]}),u.jsxs("span",{className:"text-[10px] text-gray-500",children:[o.length," ",e("trades")]})]}),u.jsx(Gke,{trades:o}),m.realizedVolatility>0&&u.jsx("div",{className:"mt-4 pt-3 border-t border-gray-700/30",children:u.jsxs("div",{className:"flex justify-between text-[11px]",children:[u.jsx("span",{className:"text-gray-500",children:e("Realized Vol (ann.)")}),u.jsxs("span",{className:"font-mono "+(m.realizedVolatility>100?"text-red-400":m.realizedVolatility>50?"text-yellow-400":"text-green-400"),children:[m.realizedVolatility.toFixed(1),"%"]})]})})]})]})}),u.jsxs("div",{className:"mt-auto pt-3 border-t border-gray-700/30 flex items-center justify-between text-[10px] text-gray-500 flex-shrink-0",children:[u.jsxs("span",{children:[e("Data source"),": Binance WebSocket (wss://stream.binance.com)  ",e("No API key required")]}),u.jsx("span",{className:"font-mono",children:d>0?`Last update: ${new Date(d).toLocaleTimeString()}`:""})]})]})}function Yke({data:e,isPositive:t}){if(e.length<2)return null;const n=Math.min(...e),r=Math.max(...e)-n||1,a=e.map((t,a)=>`${a/(e.length-1)*50},${20-(t-n)/r*20}`).join(" ");return u.jsx("svg",{width:50,height:20,className:"overflow-visible",children:u.jsx("polyline",{fill:"none",stroke:t?"#22c55e":"#ef4444",strokeWidth:"1.5",points:a,strokeLinecap:"round",strokeLinejoin:"round"})})}function Qke({data:e}){const t=e.change>=0,n=e.symbol.replace("USDT","");return u.jsxs("div",{className:"inline-flex items-center gap-4 px-6 py-2 border-r border-gray-700/30",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"text-sm font-bold text-white",children:n}),u.jsx("span",{className:"text-[10px] text-gray-500",children:"/USDT"})]}),u.jsx("div",{className:"text-sm font-mono font-medium text-white",children:(a=e.price,a>=1e4?`$${a.toLocaleString("en-US",{maximumFractionDigits:0})}`:a>=100?`$${a.toFixed(2)}`:a>=1?`$${a.toFixed(3)}`:`$${a.toFixed(4)}`)}),u.jsxs("div",{className:"flex items-center gap-1 "+(t?"text-green-400":"text-red-400"),children:[u.jsxs("span",{className:"text-sm font-mono",children:[t?"+":"",e.changePercent.toFixed(2),"%"]}),u.jsx("span",{className:"text-[10px]",children:t?"":""})]}),u.jsx(Yke,{data:e.sparkline,isPositive:t}),u.jsxs("div",{className:"text-[10px] text-gray-500",children:["Vol: ",(r=e.volume,r>=1e9?`$${(r/1e9).toFixed(1)}B`:r>=1e6?`$${(r/1e6).toFixed(1)}M`:r>=1e3?`$${(r/1e3).toFixed(1)}K`:`$${r.toFixed(0)}`)]})]});var r,a}function Jke(){const[e,t]=O.useState(new Map),[n,r]=O.useState(new Map),[a,i]=O.useState(!1),s=P.useRef(0);O.useEffect(()=>{const e=Uke(),a=Wke(({symbol:e,metrics:a})=>{i(!0);const o=Date.now();if(o-s.current<500)return;s.current=o,r(t=>{const n=[...t.get(e)||[],a.lastPrice].slice(-20),r=new Map(t);return r.set(e,n),r});const l=function(e){return Rke.get(e)||null}(e);l&&t(t=>{const r=new Map(t),i=n.get(e)||[a.lastPrice];return r.set(e,{symbol:e,price:a.lastPrice,change:l.priceChange,changePercent:l.priceChangePercent,high:l.highPrice,low:l.lowPrice,volume:l.quoteVolume,sparkline:i}),r})});return()=>{e(),a()}},[]),O.useEffect(()=>{t(e=>{const t=new Map(e);for(const[r,a]of e){const e=n.get(r);e&&t.set(r,{...a,sparkline:e})}return t})},[n]);const o=O.useMemo(()=>Array.from(e.values()).sort((e,t)=>t.volume-e.volume),[e]);if(!a||0===o.length)return u.jsx("div",{className:"w-full bg-gray-900/80 border-y border-gray-700/50 py-2 overflow-hidden",children:u.jsxs("div",{className:"flex items-center justify-center gap-2 text-gray-500 text-sm",children:[u.jsx("div",{className:"w-2 h-2 bg-yellow-500 rounded-full animate-pulse"}),u.jsx("span",{children:"Connecting to live crypto feed..."})]})});const l=[...o,...o,...o],c=Math.max(15,3*o.length);return u.jsxs("div",{className:"w-full bg-gray-900/80 border-y border-gray-700/50 overflow-hidden",children:[u.jsx("style",{children:`\n        @keyframes ticker-scroll {\n          0% { transform: translateX(0); }\n          100% { transform: translateX(-33.333%); }\n        }\n        .ticker-animate {\n          animation: ticker-scroll ${c}s linear infinite;\n        }\n        .ticker-animate:hover {\n          animation-play-state: paused;\n        }\n      `}),u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"absolute left-0 top-0 bottom-0 z-10 flex items-center px-3 bg-gradient-to-r from-gray-900 via-gray-900 to-transparent",children:u.jsxs("div",{className:"flex items-center gap-1.5 px-2 py-0.5 bg-red-500/20 border border-red-500/50 rounded text-[10px] text-red-400 font-medium",children:[u.jsx("div",{className:"w-1.5 h-1.5 bg-red-500 rounded-full animate-pulse"}),"LIVE"]})}),u.jsx("div",{className:"flex whitespace-nowrap py-2 pl-20 ticker-animate",children:l.map((e,t)=>u.jsx(Qke,{data:e},`${e.symbol}-${t}`))}),u.jsx("div",{className:"absolute right-0 top-0 bottom-0 w-20 bg-gradient-to-l from-gray-900 to-transparent pointer-events-none"})]})]})}function eSe({vol:e,maxVol:t=200}){const n=Math.min(e/t*100,100);return u.jsx("div",{className:"h-2 w-full bg-gray-800 rounded-full overflow-hidden",children:u.jsx(nf.div,{className:"h-full "+(e<30?"bg-green-500":e<60?"bg-yellow-500":e<100?"bg-orange-500":"bg-red-500"),initial:{width:0},animate:{width:`${n}%`},transition:{duration:.3}})})}function tSe({data:e}){if(e.length<2)return null;const t=Math.min(...e),n=Math.max(...e)-t||1,r=e.map((r,a)=>`${a/(e.length-1)*80},${24-(r-t)/n*24}`).join(" "),a=(e.length>1?e[e.length-1]-e[0]:0)>0?"#f59e0b":"#22c55e";return u.jsx("svg",{width:80,height:24,className:"overflow-visible",children:u.jsx("polyline",{fill:"none",stroke:a,strokeWidth:"1.5",points:r,strokeLinecap:"round",strokeLinejoin:"round"})})}function nSe({regime:e}){const{bg:t,text:n,border:r,label:a}={low:{bg:"bg-green-500/20",text:"text-green-400",border:"border-green-500/50",label:"LOW"},normal:{bg:"bg-blue-500/20",text:"text-blue-400",border:"border-blue-500/50",label:"NORMAL"},high:{bg:"bg-orange-500/20",text:"text-orange-400",border:"border-orange-500/50",label:"HIGH"},extreme:{bg:"bg-red-500/20",text:"text-red-400",border:"border-red-500/50",label:"EXTREME"}}[e];return u.jsx("span",{className:`px-1.5 py-0.5 ${t} ${n} border ${r} rounded text-[9px] font-bold`,children:a})}function rSe({data:e}){const t=e.symbol.replace("USDT","");return u.jsxs("div",{className:"bg-gray-800/30 rounded-xl p-3 border border-gray-700/30",children:[u.jsx("div",{className:"flex items-center justify-between mb-2",children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"text-base font-bold text-white",children:t}),u.jsx(nSe,{regime:e.impliedRegime})]})}),u.jsxs("div",{className:"mb-2",children:[u.jsxs("div",{className:"flex justify-between text-[10px] mb-1",children:[u.jsx("span",{className:"text-gray-500",children:"Realized Volatility"}),u.jsxs("span",{className:"font-mono font-bold "+(e.realizedVol>100?"text-red-400":e.realizedVol>60?"text-orange-400":"text-green-400"),children:[e.realizedVol.toFixed(1),"%"]})]}),u.jsx(eSe,{vol:e.realizedVol})]}),u.jsxs("div",{className:"flex items-center justify-between text-[10px]",children:[u.jsx(tSe,{data:e.volHistory}),u.jsxs("div",{children:[u.jsx("span",{className:"text-gray-500",children:"Trades: "}),u.jsxs("span",{className:"text-cyan-400 font-mono",children:[e.tradeIntensity.toFixed(1),"/s"]})]})]})]})}function aSe(){const{t:e}=wf(),[t,n]=O.useState(new Map),[r,a]=O.useState(!1),i=P.useRef(new Map);O.useEffect(()=>{const e=Uke(),t=Wke(({symbol:e,metrics:t})=>{a(!0);const r=Date.now();r-(i.current.get(e)||0)<300||(i.current.set(e,r),n(n=>{const r=n.get(e),a=[...r?.volHistory||[],t.realizedVolatility].slice(-20);let i=0;if(a.length>2){const e=a.reduce((e,t)=>e+t,0)/a.length,t=a.reduce((t,n)=>t+Math.pow(n-e,2),0)/a.length;i=Math.sqrt(t)}const s={symbol:e,realizedVol:t.realizedVolatility,impliedRegime:(o=t.realizedVolatility,o<30?"low":o<60?"normal":o<100?"high":"extreme"),volOfVol:i,volHistory:a,tradeIntensity:t.tradeIntensity,avgTradeSize:t.avgTradeSize*t.lastPrice};var o;const l=new Map(n);return l.set(e,s),l}))});return()=>{e(),t()}},[]);const s=O.useMemo(()=>{const e=Array.from(t.values());if(0===e.length)return null;return{avgVol:e.reduce((e,t)=>e+t.realizedVol,0)/e.length,maxVol:Math.max(...e.map(e=>e.realizedVol)),minVol:Math.min(...e.map(e=>e.realizedVol)),extremeCount:e.filter(e=>"extreme"===e.impliedRegime||"high"===e.impliedRegime).length,totalSymbols:e.length}},[t]),o=O.useMemo(()=>Array.from(t.values()).sort((e,t)=>t.realizedVol-e.realizedVol).slice(0,6),[t]);return u.jsxs(nf.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-gradient-to-br from-gray-900/80 to-gray-800/60 rounded-2xl p-3 sm:p-4 border border-gray-700/50 min-h-[350px] sm:min-h-[400px] lg:h-[420px] flex flex-col",children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"p-1 sm:p-1.5 bg-orange-500/20 rounded-lg",children:u.jsx(IK,{className:"w-4 h-4 text-orange-400"})}),u.jsxs("h3",{className:"text-xs sm:text-sm font-semibold text-white flex items-center gap-2",children:[e("Volatility Monitor"),u.jsx("span",{className:"text-[8px] sm:text-[9px] px-1 sm:px-1.5 py-0.5 bg-orange-500/20 text-orange-300 rounded-full font-normal",children:"LIVE"})]})]}),u.jsxs("div",{className:"flex items-center gap-1 px-1.5 py-0.5 bg-gray-800/50 rounded",children:[u.jsx("div",{className:"w-1.5 h-1.5 rounded-full "+(r?"bg-green-400 animate-pulse":"bg-red-400")}),u.jsx("span",{className:"text-[9px] text-gray-500",children:r?"Live":"..."})]})]}),!r&&u.jsx("div",{className:"flex-1 flex items-center justify-center",children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"w-6 h-6 border-2 border-orange-400 border-t-transparent rounded-full animate-spin mx-auto mb-2"}),u.jsx("p",{className:"text-gray-400 text-xs",children:e("Calculating...")})]})}),r&&s&&u.jsxs("div",{className:"flex-1 flex flex-col min-h-0",children:[u.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between bg-gray-800/40 rounded-lg px-3 sm:px-4 py-2 sm:py-2.5 mb-3 gap-2 sm:gap-0",children:[u.jsxs("div",{className:"flex items-center gap-3 sm:gap-5 flex-wrap",children:[u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-[9px] sm:text-[10px] text-gray-500 mb-0.5",children:"Avg Vol"}),u.jsxs("span",{className:"text-xs sm:text-sm font-bold font-mono "+(s.avgVol>80?"text-red-400":s.avgVol>50?"text-orange-400":"text-green-400"),children:[s.avgVol.toFixed(1),"%"]})]}),u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-[9px] sm:text-[10px] text-gray-500 mb-0.5",children:"Max Vol"}),u.jsxs("span",{className:"text-xs sm:text-sm font-bold font-mono text-red-400",children:[s.maxVol.toFixed(1),"%"]})]}),u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-[9px] sm:text-[10px] text-gray-500 mb-0.5",children:"Min Vol"}),u.jsxs("span",{className:"text-xs sm:text-sm font-bold font-mono text-green-400",children:[s.minVol.toFixed(1),"%"]})]})]}),u.jsx("div",{className:"text-[10px] sm:text-xs px-2 py-1 rounded-lg font-medium "+(s.avgVol>80?"bg-red-500/20 text-red-400":"bg-green-500/20 text-green-400"),children:s.avgVol>80?" HIGH VOL":" NORMAL"})]}),u.jsx("div",{className:"flex-1 overflow-y-auto sm:overflow-visible",children:u.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-2",children:o.map(e=>u.jsx(rSe,{data:e},e.symbol))})})]}),u.jsx("div",{className:"mt-2 pt-2 border-t border-gray-700/30 text-[9px] text-gray-500",children:e("Realized vol from trade-by-trade returns (annualized)")})]})}const iSe=[{id:"MOMENTUM",name:"Momentum",shortName:"MOM",icon:CK,color:"text-green-400",bgColor:"bg-green-500/20",description:"Follows strong directional moves"},{id:"MEAN_REVERSION",name:"Mean Reversion",shortName:"MR",icon:wK,color:"text-purple-400",bgColor:"bg-purple-500/20",description:"Counter-trend at extremes"},{id:"ORDER_FLOW",name:"Order Flow",shortName:"OF",icon:PK,color:"text-cyan-400",bgColor:"bg-cyan-500/20",description:"Pure microstructure signals"},{id:"TREND",name:"Trend Following",shortName:"TF",icon:oq,color:"text-orange-400",bgColor:"bg-orange-500/20",description:"Long-term trend detection"},{id:"COMPOSITE",name:"Composite",shortName:"ALL",icon:pq,color:"text-yellow-400",bgColor:"bg-yellow-500/20",description:"Multi-strategy ensemble"}];function sSe(e,t,n){const r=[];let a=0,i=0;const s=t.netOrderFlow,o=t.buyVolume+t.sellVolume,l=o>0?s/o:0;if(l>.4?(a+=40,r.push("Strong buying momentum")):l>.2?(a+=25,r.push("Building buy momentum")):l<-.4?(i+=40,r.push("Strong selling momentum")):l<-.2&&(i+=25,r.push("Building sell momentum")),t.tradeIntensity>15){const e=1.4;a*=a>i?e:1,i*=i>a?e:1,r.push(`High intensity momentum (${t.tradeIntensity.toFixed(0)}/s)`)}if(n.length>=3){const e=n.slice(0,3).filter(e=>"LONG"===e.direction).length,t=n.slice(0,3).filter(e=>"SHORT"===e.direction).length;e>=3?(a+=20,r.push("Sustained bullish momentum")):t>=3&&(i+=20,r.push("Sustained bearish momentum"))}return uSe(e,"MOMENTUM",a,i,r,t)}function oSe(e,t,n){const r=[];let a=0,i=0;const s=t.orderBookImbalance;if(s>.5?(i+=35,r.push("Extreme bid imbalance - reversal likely")):s<-.5&&(a+=35,r.push("Extreme ask imbalance - reversal likely")),t.tradeIntensity>20&&Math.abs(s)>.4){const e=25;s>0?(i+=e,r.push("Buying exhaustion detected")):(a+=e,r.push("Selling exhaustion detected"))}if(t.spreadBps>8&&Math.abs(s)>.3){const e=15;s>0?i+=e:a+=e,r.push("Spread widening at extreme")}return uSe(e,"MEAN_REVERSION",a,i,r,t)}function lSe(e,t,n){const r=[];let a=0,i=0;const s=t.orderBookImbalance;s>.25?(a+=30,r.push(`Bid imbalance: ${(100*s).toFixed(0)}%`)):s<-.25&&(i+=30,r.push(`Ask imbalance: ${(100*s).toFixed(0)}%`)),t.depthRatio>1.4?(a+=25,r.push(`Strong bid depth (${t.depthRatio.toFixed(2)}x)`)):t.depthRatio<.7&&(i+=25,r.push(`Weak bid depth (${t.depthRatio.toFixed(2)}x)`));const o=(t.buyVolume-t.sellVolume)/Math.max(t.buyVolume+t.sellVolume,1);return o>.2?(a+=20,r.push("Net buying flow")):o<-.2&&(i+=20,r.push("Net selling flow")),t.spreadBps<3&&(a*=1.1,i*=1.1,r.push("Tight spread (high liquidity)")),uSe(e,"ORDER_FLOW",a,i,r,t)}function cSe(e,t,n){const r=[];let a=0,i=0;if(n.length<5)return uSe(e,"TREND",0,0,["Building trend data..."],t);const s=n.slice(0,5).map(e=>e.imbalance),o=s.reduce((e,t)=>e+t,0)/s.length,l=t.orderBookImbalance;o>.1&&l>o?(a+=35,r.push("Uptrend strengthening")):o>.05&&l>0?(a+=20,r.push("Uptrend continuing")):o<-.1&&l<o?(i+=35,r.push("Downtrend strengthening")):o<-.05&&l<0&&(i+=20,r.push("Downtrend continuing"));const c=n.slice(0,3).map(e=>e.intensity),u=c.reduce((e,t)=>e+t,0)/c.length;if(t.tradeIntensity>1.3*u){const e=15;a>i?a+=e:i>a&&(i+=e),r.push("Trend acceleration")}return uSe(e,"TREND",a,i,r,t)}function uSe(e,t,n,r,a,i){const s=n-r;let o="NEUTRAL",l="WEAK";return s>25?(o="LONG",l=s>55?"STRONG":s>35?"MODERATE":"WEAK"):s<-25&&(o="SHORT",l=s<-55?"STRONG":s<-35?"MODERATE":"WEAK"),{symbol:e,strategy:t,direction:o,strength:l,confidence:Math.min(Math.abs(s),100),reasons:a.slice(0,4),timestamp:Date.now(),metrics:{orderFlowImbalance:i.orderBookImbalance,spreadBps:i.spreadBps,tradeIntensity:i.tradeIntensity,depthRatio:i.depthRatio,netOrderFlow:i.netOrderFlow}}}function hSe(e,t,n,r){switch(t){case"MOMENTUM":return sSe(e,n,r);case"MEAN_REVERSION":return oSe(e,n);case"ORDER_FLOW":default:return lSe(e,n);case"TREND":return cSe(e,n,r);case"COMPOSITE":return function(e,t,n){const r=sSe(e,t,n),a=oSe(e,t),i=lSe(e,t),s=cSe(e,t,n);let o=0,l=0;const c=[],u=[{sig:r,w:.3,name:"MOM"},{sig:a,w:.15,name:"MR"},{sig:i,w:.35,name:"OF"},{sig:s,w:.2,name:"TF"}];u.forEach(({sig:e,w:t,name:n})=>{"LONG"===e.direction?(o+=e.confidence*t,"WEAK"!==e.strength&&c.push(`${n}: LONG (${e.strength})`)):"SHORT"===e.direction&&(l+=e.confidence*t,"WEAK"!==e.strength&&c.push(`${n}: SHORT (${e.strength})`))});const h=u.filter(e=>"LONG"===e.sig.direction).length,d=u.filter(e=>"SHORT"===e.sig.direction).length;return h>=3?(o*=1.3,c.push("Multi-strategy bullish consensus")):d>=3&&(l*=1.3,c.push("Multi-strategy bearish consensus")),uSe(e,"COMPOSITE",o,l,c.slice(0,4),t)}(e,n,r)}}function dSe({signal:e}){const t=e.symbol.replace("USDT",""),n="LONG"===e.direction,r="NEUTRAL"===e.direction,a=r?"border-gray-600/50 bg-gray-800/30":n?"border-green-500/50 bg-green-500/10":"border-red-500/50 bg-red-500/10";return u.jsxs("div",{className:`rounded-xl p-3 border ${a} transition-all duration-300`,children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[r?u.jsx(rq,{className:"w-5 h-5 text-gray-400"}):n?u.jsx(CK,{className:"w-5 h-5 text-green-400"}):u.jsx(EK,{className:"w-5 h-5 text-red-400"}),u.jsx("span",{className:"text-base font-bold text-white",children:t})]}),u.jsx("span",{className:"text-xs font-bold px-2 py-0.5 rounded "+(r?"bg-gray-700 text-gray-300":n?"bg-green-500/20 text-green-400":"bg-red-500/20 text-red-400"),children:e.direction})]}),u.jsxs("div",{className:"mb-2",children:[u.jsxs("div",{className:"flex justify-between text-[10px] mb-1",children:[u.jsx("span",{className:"text-gray-500",children:"Confidence"}),u.jsxs("span",{className:"font-mono font-bold "+(r?"text-gray-400":n?"text-green-400":"text-red-400"),children:[e.confidence.toFixed(0),"%"]})]}),u.jsx("div",{className:"h-2 bg-gray-800 rounded-full overflow-hidden",children:u.jsx(nf.div,{initial:{width:0},animate:{width:`${e.confidence}%`},transition:{duration:.3},className:"h-full "+(r?"bg-gray-600":n?"bg-green-500":"bg-red-500")})})]}),u.jsxs("div",{className:"flex items-center justify-between text-[10px]",children:[u.jsxs("div",{children:[u.jsx("span",{className:"text-gray-500",children:"Flow: "}),u.jsxs("span",{className:e.metrics.orderFlowImbalance>0?"text-green-400":"text-red-400",children:[(100*e.metrics.orderFlowImbalance).toFixed(0),"%"]})]}),u.jsx("span",{className:"text-[9px] px-1.5 py-0.5 rounded "+("STRONG"===e.strength?"bg-purple-500/30 text-purple-300":"MODERATE"===e.strength?"bg-blue-500/30 text-blue-300":"bg-gray-700 text-gray-400"),children:e.strength})]})]})}function pSe({signals:e}){const t=Array.from(e.values()),n=t.filter(e=>"LONG"===e.direction).length,r=t.filter(e=>"SHORT"===e.direction).length,a=t.length>0?t.reduce((e,t)=>e+t.confidence,0)/t.length:0,i=n>r?"BULLISH":r>n?"BEARISH":"MIXED";return u.jsxs("div",{className:"grid grid-cols-4 gap-2 mb-3",children:[u.jsxs("div",{className:"bg-gray-800/40 rounded-lg px-3 py-2 text-center",children:[u.jsx("div",{className:"text-[10px] text-gray-500 mb-0.5",children:"Market Bias"}),u.jsx("div",{className:"text-sm font-bold "+("BULLISH"===i?"text-green-400":"BEARISH"===i?"text-red-400":"text-gray-400"),children:i})]}),u.jsxs("div",{className:"bg-gray-800/40 rounded-lg px-3 py-2 text-center",children:[u.jsx("div",{className:"text-[10px] text-gray-500 mb-0.5",children:"Long"}),u.jsx("div",{className:"text-sm font-bold text-green-400",children:n})]}),u.jsxs("div",{className:"bg-gray-800/40 rounded-lg px-3 py-2 text-center",children:[u.jsx("div",{className:"text-[10px] text-gray-500 mb-0.5",children:"Short"}),u.jsx("div",{className:"text-sm font-bold text-red-400",children:r})]}),u.jsxs("div",{className:"bg-gray-800/40 rounded-lg px-3 py-2 text-center",children:[u.jsx("div",{className:"text-[10px] text-gray-500 mb-0.5",children:"Avg Confidence"}),u.jsxs("div",{className:"text-sm font-bold font-mono text-cyan-400",children:[a.toFixed(0),"%"]})]})]})}function fSe(){const{t:e}=wf(),[t,n]=O.useState(new Map),[r,a]=O.useState(new Map),[i,s]=O.useState(!1),[o,l]=O.useState("COMPOSITE"),c=O.useRef(0),h=O.useRef(new Map);O.useEffect(()=>{const e=Uke(),t=Wke(({symbol:e,metrics:t})=>{s(!0),h.current.set(e,t);const i=Date.now();if(i-c.current<500)return;c.current=i;const l=r.get(e)||[],u=hSe(e,o,t,l);n(t=>{const n=new Map(t);return n.set(e,u),n}),a(n=>{const r=new Map(n),a=n.get(e)||[];return r.set(e,[{direction:u.direction,timestamp:i,imbalance:t.orderBookImbalance,intensity:t.tradeIntensity},...a].slice(0,10)),r})});return()=>{e(),t()}},[r,o]);const d=O.useMemo(()=>Array.from(t.values()).sort((e,t)=>t.confidence-e.confidence),[t]),p=iSe.find(e=>e.id===o);return u.jsxs(nf.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-gradient-to-br from-gray-900/80 to-gray-800/60 rounded-2xl p-3 sm:p-5 border border-gray-700/50 min-h-[400px] sm:min-h-[450px] lg:h-[480px] flex flex-col",children:[u.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between mb-3 gap-2 sm:gap-0",children:[u.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[u.jsx("div",{className:`p-1.5 sm:p-2 rounded-lg ${p.bgColor}`,children:u.jsx(p.icon,{className:`w-4 h-4 sm:w-5 sm:h-5 ${p.color}`})}),u.jsxs("div",{children:[u.jsxs("h3",{className:"text-sm sm:text-base font-semibold text-white flex items-center gap-2",children:[e("Trade Signals"),u.jsx("span",{className:`text-[9px] sm:text-[10px] px-1.5 sm:px-2 py-0.5 ${p.bgColor} ${p.color} rounded-full`,children:p.name})]}),u.jsx("p",{className:"text-[10px] sm:text-xs text-gray-500 hidden sm:block",children:p.description})]})]}),u.jsxs("div",{className:"flex items-center gap-1.5 px-2 py-1 bg-gray-800/50 rounded",children:[u.jsx("div",{className:"w-2 h-2 rounded-full "+(i?"bg-green-400 animate-pulse":"bg-red-400")}),u.jsx("span",{className:"text-[10px] text-gray-400",children:i?"Live":"Connecting..."})]})]}),u.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:iSe.map(e=>{const t=e.icon,a=o===e.id;return u.jsxs(nf.button,{onClick:()=>(e=>{l(e);const t=new Map;h.current.forEach((n,a)=>{const i=r.get(a)||[];t.set(a,hSe(a,e,n,i))}),n(t)})(e.id),whileHover:{scale:1.02},whileTap:{scale:.98},className:`\n                flex items-center gap-1.5 px-3 py-1.5 rounded-lg text-xs font-medium\n                transition-all duration-200 border\n                ${a?`${e.bgColor} ${e.color} border-current`:"bg-gray-800/50 text-gray-400 border-gray-700/50 hover:bg-gray-700/50"}\n              `,children:[u.jsx(t,{className:"w-3.5 h-3.5"}),u.jsx("span",{children:e.shortName})]},e.id)})}),!i&&u.jsx("div",{className:"flex-1 flex items-center justify-center",children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"w-8 h-8 border-2 border-cyan-400 border-t-transparent rounded-full animate-spin mx-auto mb-3"}),u.jsx("p",{className:"text-gray-400 text-sm",children:e("Analyzing market microstructure...")})]})}),i&&u.jsxs("div",{className:"flex-1 flex flex-col min-h-0",children:[u.jsx(pSe,{signals:t}),u.jsx("div",{className:"flex-1 overflow-y-auto sm:overflow-visible",children:u.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-2 sm:gap-2.5",children:u.jsx(su,{mode:"wait",children:d.slice(0,6).map(e=>u.jsx(nf.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.2},children:u.jsx(dSe,{signal:e})},`${e.symbol}-${o}`))})})})]}),u.jsxs("div",{className:"mt-3 pt-2 border-t border-gray-700/30 text-[9px] sm:text-[10px] text-gray-500",children:[" ",e("Signals are for educational purposes only. Not financial advice.")]})]})}function mSe(){const[e,t]=O.useState(!1);O.useEffect(()=>{const e=()=>{window.scrollY>300?t(!0):t(!1)};return window.addEventListener("scroll",e),()=>window.removeEventListener("scroll",e)},[]);return u.jsx(su,{children:e&&u.jsx(nf.button,{initial:{opacity:0,scale:.5},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.5},transition:{duration:.2},onClick:()=>{window.scrollTo({top:0,behavior:"smooth"})},className:"fixed bottom-6 left-6 lg:bottom-20 z-50 p-3 rounded-full \n                     bg-[#0a0a0f] border-2 border-cyan-500/50 \n                     text-cyan-400 shadow-[0_0_20px_rgba(6,182,212,0.3)]\n                     hover:bg-cyan-950 hover:border-cyan-400 \n                     hover:shadow-[0_0_25px_rgba(6,182,212,0.5)]\n                     active:scale-95 transition-all duration-200\n                     cursor-pointer","aria-label":"Scroll to top",children:u.jsx(ua,{size:24,weight:"bold"})})})}function gSe(e){var t=e.width,n=e.height;if(t<0)throw new Error("Negative width is not allowed for Size");if(n<0)throw new Error("Negative height is not allowed for Size");return{width:t,height:n}}function ySe(e,t){return e.width===t.width&&e.height===t.height}var xSe=function(){function e(e){var t=this;this._resolutionListener=function(){return t._onResolutionChanged()},this._resolutionMediaQueryList=null,this._observers=[],this._window=e,this._installResolutionListener()}return e.prototype.dispose=function(){this._uninstallResolutionListener(),this._window=null},Object.defineProperty(e.prototype,"value",{get:function(){return this._window.devicePixelRatio},enumerable:!1,configurable:!0}),e.prototype.subscribe=function(e){var t=this,n={next:e};return this._observers.push(n),{unsubscribe:function(){t._observers=t._observers.filter(function(e){return e!==n})}}},e.prototype._installResolutionListener=function(){if(null!==this._resolutionMediaQueryList)throw new Error("Resolution listener is already installed");var e=this._window.devicePixelRatio;this._resolutionMediaQueryList=this._window.matchMedia("all and (resolution: ".concat(e,"dppx)")),this._resolutionMediaQueryList.addListener(this._resolutionListener)},e.prototype._uninstallResolutionListener=function(){null!==this._resolutionMediaQueryList&&(this._resolutionMediaQueryList.removeListener(this._resolutionListener),this._resolutionMediaQueryList=null)},e.prototype._reinstallResolutionListener=function(){this._uninstallResolutionListener(),this._installResolutionListener()},e.prototype._onResolutionChanged=function(){var e=this;this._observers.forEach(function(t){return t.next(e._window.devicePixelRatio)}),this._reinstallResolutionListener()},e}();var bSe=function(){function e(e,t,n){var r;this._canvasElement=null,this._bitmapSizeChangedListeners=[],this._suggestedBitmapSize=null,this._suggestedBitmapSizeChangedListeners=[],this._devicePixelRatioObservable=null,this._canvasElementResizeObserver=null,this._canvasElement=e,this._canvasElementClientSize=gSe({width:this._canvasElement.clientWidth,height:this._canvasElement.clientHeight}),this._transformBitmapSize=null!=t?t:function(e){return e},this._allowResizeObserver=null===(r=null==n?void 0:n.allowResizeObserver)||void 0===r||r,this._chooseAndInitObserver()}return e.prototype.dispose=function(){var e,t;if(null===this._canvasElement)throw new Error("Object is disposed");null===(e=this._canvasElementResizeObserver)||void 0===e||e.disconnect(),this._canvasElementResizeObserver=null,null===(t=this._devicePixelRatioObservable)||void 0===t||t.dispose(),this._devicePixelRatioObservable=null,this._suggestedBitmapSizeChangedListeners.length=0,this._bitmapSizeChangedListeners.length=0,this._canvasElement=null},Object.defineProperty(e.prototype,"canvasElement",{get:function(){if(null===this._canvasElement)throw new Error("Object is disposed");return this._canvasElement},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"canvasElementClientSize",{get:function(){return this._canvasElementClientSize},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bitmapSize",{get:function(){return gSe({width:this.canvasElement.width,height:this.canvasElement.height})},enumerable:!1,configurable:!0}),e.prototype.resizeCanvasElement=function(e){this._canvasElementClientSize=gSe(e),this.canvasElement.style.width="".concat(this._canvasElementClientSize.width,"px"),this.canvasElement.style.height="".concat(this._canvasElementClientSize.height,"px"),this._invalidateBitmapSize()},e.prototype.subscribeBitmapSizeChanged=function(e){this._bitmapSizeChangedListeners.push(e)},e.prototype.unsubscribeBitmapSizeChanged=function(e){this._bitmapSizeChangedListeners=this._bitmapSizeChangedListeners.filter(function(t){return t!==e})},Object.defineProperty(e.prototype,"suggestedBitmapSize",{get:function(){return this._suggestedBitmapSize},enumerable:!1,configurable:!0}),e.prototype.subscribeSuggestedBitmapSizeChanged=function(e){this._suggestedBitmapSizeChangedListeners.push(e)},e.prototype.unsubscribeSuggestedBitmapSizeChanged=function(e){this._suggestedBitmapSizeChangedListeners=this._suggestedBitmapSizeChangedListeners.filter(function(t){return t!==e})},e.prototype.applySuggestedBitmapSize=function(){if(null!==this._suggestedBitmapSize){var e=this._suggestedBitmapSize;this._suggestedBitmapSize=null,this._resizeBitmap(e),this._emitSuggestedBitmapSizeChanged(e,this._suggestedBitmapSize)}},e.prototype._resizeBitmap=function(e){var t=this.bitmapSize;ySe(t,e)||(this.canvasElement.width=e.width,this.canvasElement.height=e.height,this._emitBitmapSizeChanged(t,e))},e.prototype._emitBitmapSizeChanged=function(e,t){var n=this;this._bitmapSizeChangedListeners.forEach(function(r){return r.call(n,e,t)})},e.prototype._suggestNewBitmapSize=function(e){var t=this._suggestedBitmapSize,n=gSe(this._transformBitmapSize(e,this._canvasElementClientSize)),r=ySe(this.bitmapSize,n)?null:n;null===t&&null===r||null!==t&&null!==r&&ySe(t,r)||(this._suggestedBitmapSize=r,this._emitSuggestedBitmapSizeChanged(t,r))},e.prototype._emitSuggestedBitmapSizeChanged=function(e,t){var n=this;this._suggestedBitmapSizeChangedListeners.forEach(function(r){return r.call(n,e,t)})},e.prototype._chooseAndInitObserver=function(){var e=this;this._allowResizeObserver?new Promise(function(e){var t=new ResizeObserver(function(n){e(n.every(function(e){return"devicePixelContentBoxSize"in e})),t.disconnect()});t.observe(document.body,{box:"device-pixel-content-box"})}).catch(function(){return!1}).then(function(t){return t?e._initResizeObserver():e._initDevicePixelRatioObservable()}):this._initDevicePixelRatioObservable()},e.prototype._initDevicePixelRatioObservable=function(){var e=this;if(null!==this._canvasElement){var t=vSe(this._canvasElement);if(null===t)throw new Error("No window is associated with the canvas");this._devicePixelRatioObservable=function(e){return new xSe(e)}(t),this._devicePixelRatioObservable.subscribe(function(){return e._invalidateBitmapSize()}),this._invalidateBitmapSize()}},e.prototype._invalidateBitmapSize=function(){var e,t;if(null!==this._canvasElement){var n=vSe(this._canvasElement);if(null!==n){var r=null!==(t=null===(e=this._devicePixelRatioObservable)||void 0===e?void 0:e.value)&&void 0!==t?t:n.devicePixelRatio,a=this._canvasElement.getClientRects(),i=void 0!==a[0]?function(e,t){return gSe({width:Math.round(e.left*t+e.width*t)-Math.round(e.left*t),height:Math.round(e.top*t+e.height*t)-Math.round(e.top*t)})}(a[0],r):gSe({width:this._canvasElementClientSize.width*r,height:this._canvasElementClientSize.height*r});this._suggestNewBitmapSize(i)}}},e.prototype._initResizeObserver=function(){var e=this;null!==this._canvasElement&&(this._canvasElementResizeObserver=new ResizeObserver(function(t){var n=t.find(function(t){return t.target===e._canvasElement});if(n&&n.devicePixelContentBoxSize&&n.devicePixelContentBoxSize[0]){var r=n.devicePixelContentBoxSize[0],a=gSe({width:r.inlineSize,height:r.blockSize});e._suggestNewBitmapSize(a)}}),this._canvasElementResizeObserver.observe(this._canvasElement,{box:"device-pixel-content-box"}))},e}();function vSe(e){return e.ownerDocument.defaultView}var wSe=function(){function e(e,t,n){if(0===t.width||0===t.height)throw new TypeError("Rendering target could only be created on a media with positive width and height");if(this._mediaSize=t,0===n.width||0===n.height)throw new TypeError("Rendering target could only be created using a bitmap with positive integer width and height");this._bitmapSize=n,this._context=e}return e.prototype.useMediaCoordinateSpace=function(e){try{return this._context.save(),this._context.setTransform(1,0,0,1,0,0),this._context.scale(this._horizontalPixelRatio,this._verticalPixelRatio),e({context:this._context,mediaSize:this._mediaSize})}finally{this._context.restore()}},e.prototype.useBitmapCoordinateSpace=function(e){try{return this._context.save(),this._context.setTransform(1,0,0,1,0,0),e({context:this._context,mediaSize:this._mediaSize,bitmapSize:this._bitmapSize,horizontalPixelRatio:this._horizontalPixelRatio,verticalPixelRatio:this._verticalPixelRatio})}finally{this._context.restore()}},Object.defineProperty(e.prototype,"_horizontalPixelRatio",{get:function(){return this._bitmapSize.width/this._mediaSize.width},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_verticalPixelRatio",{get:function(){return this._bitmapSize.height/this._mediaSize.height},enumerable:!1,configurable:!0}),e}();function kSe(e,t){var n=e.canvasElementClientSize;if(0===n.width||0===n.height)return null;var r=e.bitmapSize;if(0===r.width||0===r.height)return null;var a=e.canvasElement.getContext("2d",t);return null===a?null:new wSe(a,n,r)}const SSe={title:"",visible:!0,lastValueVisible:!0,priceLineVisible:!0,priceLineSource:0,priceLineWidth:1,priceLineColor:"",priceLineStyle:2,baseLineVisible:!0,baseLineWidth:1,baseLineColor:"#B2B5BE",baseLineStyle:0,priceFormat:{type:"price",precision:2,minMove:.01}};var NSe,ESe,ASe;function CSe(e,t){const n={0:[],1:[e.lineWidth,e.lineWidth],2:[2*e.lineWidth,2*e.lineWidth],3:[6*e.lineWidth,6*e.lineWidth],4:[e.lineWidth,4*e.lineWidth]}[t];e.setLineDash(n)}function jSe(e,t,n,r){e.beginPath();const a=e.lineWidth%2?.5:0;e.moveTo(n,t+a),e.lineTo(r,t+a),e.stroke()}function MSe(e,t){if(!e)throw new Error("Assertion failed"+(t?": "+t:""))}function TSe(e){if(void 0===e)throw new Error("Value is undefined");return e}function ISe(e){if(null===e)throw new Error("Value is null");return e}function OSe(e){return ISe(TSe(e))}(ASe=NSe||(NSe={}))[ASe.Simple=0]="Simple",ASe[ASe.WithSteps=1]="WithSteps",ASe[ASe.Curved=2]="Curved",function(e){e[e.Solid=0]="Solid",e[e.Dotted=1]="Dotted",e[e.Dashed=2]="Dashed",e[e.LargeDashed=3]="LargeDashed",e[e.SparseDotted=4]="SparseDotted"}(ESe||(ESe={}));class PSe{constructor(){this.t=[]}i(e,t,n){const r={h:e,l:t,o:!0===n};this.t.push(r)}_(e){const t=this.t.findIndex(t=>e===t.h);t>-1&&this.t.splice(t,1)}u(e){this.t=this.t.filter(t=>t.l!==e)}p(e,t,n){const r=[...this.t];this.t=this.t.filter(e=>!e.o),r.forEach(r=>r.h(e,t,n))}v(){return this.t.length>0}m(){this.t=[]}}function RSe(e,...t){for(const n of t)for(const t in n)void 0!==n[t]&&Object.prototype.hasOwnProperty.call(n,t)&&!["__proto__","constructor","prototype"].includes(t)&&("object"!=typeof n[t]||void 0===e[t]||Array.isArray(n[t])?e[t]=n[t]:RSe(e[t],n[t]));return e}function _Se(e){return"number"==typeof e&&isFinite(e)}function LSe(e){return"number"==typeof e&&e%1==0}function $Se(e){return"string"==typeof e}function FSe(e){return"boolean"==typeof e}function DSe(e){const t=e;if(!t||"object"!=typeof t)return t;let n,r,a;for(r in n=Array.isArray(t)?[]:{},t)t.hasOwnProperty(r)&&(a=t[r],n[r]=a&&"object"==typeof a?DSe(a):a);return n}function zSe(e){return null!==e}function VSe(e){return null===e?void 0:e}const BSe="-apple-system, BlinkMacSystemFont, 'Trebuchet MS', Roboto, Ubuntu, sans-serif";function HSe(e,t,n){return void 0===t&&(t=BSe),`${n=void 0!==n?`${n} `:""}${e}px ${t}`}class USe{constructor(e){this.M={S:1,C:5,k:NaN,P:"",T:"",R:"",D:"",I:0,V:0,B:0,A:0,L:0},this.O=e}N(){const e=this.M,t=this.F(),n=this.W();return e.k===t&&e.T===n||(e.k=t,e.T=n,e.P=HSe(t,n),e.A=2.5/12*t,e.I=e.A,e.V=t/12*e.C,e.B=t/12*e.C,e.L=0),e.R=this.H(),e.D=this.U(),this.M}H(){return this.O.N().layout.textColor}U(){return this.O.$()}F(){return this.O.N().layout.fontSize}W(){return this.O.N().layout.fontFamily}}function WSe(e){return e<0?0:e>255?255:Math.round(e)||0}function ZSe(e){return.199*e[0]+.687*e[1]+.114*e[2]}class GSe{constructor(e,t){this.q=new Map,this.j=e,t&&(this.q=t)}Y(e,t){if("transparent"===e)return e;const n=this.K(e),r=n[3];return`rgba(${n[0]}, ${n[1]}, ${n[2]}, ${t*r})`}Z(e){const t=this.K(e);return{G:`rgb(${t[0]}, ${t[1]}, ${t[2]})`,X:ZSe(t)>160?"black":"white"}}J(e){return ZSe(this.K(e))}tt(e,t,n){const[r,a,i,s]=this.K(e),[o,l,c,u]=this.K(t),h=[WSe(r+n*(o-r)),WSe(a+n*(l-a)),WSe(i+n*(c-i)),(d=s+n*(u-s),d<=0||d>1?Math.min(Math.max(d,0),1):Math.round(1e4*d)/1e4)];var d;return`rgba(${h[0]}, ${h[1]}, ${h[2]}, ${h[3]})`}K(e){const t=this.q.get(e);if(t)return t;const n=function(e){const t=document.createElement("div");t.style.display="none",document.body.appendChild(t),t.style.color=e;const n=window.getComputedStyle(t).color;return document.body.removeChild(t),n}(e).match(/^rgba?\s*\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d+))?\)$/);if(!n){if(this.j.length)for(const t of this.j){const n=t(e);if(n)return this.q.set(e,n),n}throw new Error(`Failed to parse color: ${e}`)}const r=[parseInt(n[1],10),parseInt(n[2],10),parseInt(n[3],10),n[4]?parseFloat(n[4]):1];return this.q.set(e,r),r}}class KSe{constructor(){this.it=[]}st(e){this.it=e}nt(e,t,n){this.it.forEach(r=>{r.nt(e,t,n)})}}class qSe{nt(e,t,n){e.useBitmapCoordinateSpace(e=>this.et(e,t,n))}}class XSe extends qSe{constructor(){super(...arguments),this.rt=null}ht(e){this.rt=e}et({context:e,horizontalPixelRatio:t,verticalPixelRatio:n}){if(null===this.rt||null===this.rt.lt)return;const r=this.rt.lt,a=this.rt,i=Math.max(1,Math.floor(t))%2/2,s=s=>{e.beginPath();for(let o=r.to-1;o>=r.from;--o){const r=a.ot[o],l=Math.round(r._t*t)+i,c=r.ut*n,u=s*n+i;e.moveTo(l,c),e.arc(l,c,u,0,2*Math.PI)}e.fill()};a.ct>0&&(e.fillStyle=a.dt,s(a.ft+a.ct)),e.fillStyle=a.vt,s(a.ft)}}function YSe(){return{ot:[{_t:0,ut:0,wt:0,gt:0}],vt:"",dt:"",ft:0,ct:0,lt:null}}const QSe={from:0,to:1};class JSe{constructor(e,t,n){this.Mt=new KSe,this.bt=[],this.St=[],this.xt=!0,this.O=e,this.Ct=t,this.yt=n,this.Mt.st(this.bt)}kt(e){this.Pt(),this.xt=!0}Tt(){return this.xt&&(this.Rt(),this.xt=!1),this.Mt}Pt(){const e=this.yt.Dt();e.length!==this.bt.length&&(this.St=e.map(YSe),this.bt=this.St.map(e=>{const t=new XSe;return t.ht(e),t}),this.Mt.st(this.bt))}Rt(){const e=2===this.Ct.N().mode||!this.Ct.It(),t=this.yt.Vt(),n=this.Ct.Bt(),r=this.O.Et();this.Pt(),t.forEach((t,a)=>{const i=this.St[a],s=t.At(n),o=t.Lt();!e&&null!==s&&t.It()&&null!==o?(i.vt=s.zt,i.ft=s.ft,i.ct=s.Ot,i.ot[0].gt=s.gt,i.ot[0].ut=t.Ft().Nt(s.gt,o.Wt),i.dt=s.Ht??this.O.Ut(i.ot[0].ut/t.Ft().$t()),i.ot[0].wt=n,i.ot[0]._t=r.qt(n),i.lt=QSe):i.lt=null})}}class eNe extends qSe{constructor(e){super(),this.jt=e}et({context:e,bitmapSize:t,horizontalPixelRatio:n,verticalPixelRatio:r}){if(null===this.jt)return;const a=this.jt.Yt.It,i=this.jt.Kt.It;if(!a&&!i)return;const s=Math.round(this.jt._t*n),o=Math.round(this.jt.ut*r);e.lineCap="butt",a&&s>=0&&(e.lineWidth=Math.floor(this.jt.Yt.ct*n),e.strokeStyle=this.jt.Yt.R,e.fillStyle=this.jt.Yt.R,CSe(e,this.jt.Yt.Zt),function(e,t,n,r){e.beginPath();const a=e.lineWidth%2?.5:0;e.moveTo(t+a,0),e.lineTo(t+a,r),e.stroke()}(e,s,0,t.height)),i&&o>=0&&(e.lineWidth=Math.floor(this.jt.Kt.ct*r),e.strokeStyle=this.jt.Kt.R,e.fillStyle=this.jt.Kt.R,CSe(e,this.jt.Kt.Zt),jSe(e,o,0,t.width))}}class tNe{constructor(e,t){this.xt=!0,this.Gt={Yt:{ct:1,Zt:0,R:"",It:!1},Kt:{ct:1,Zt:0,R:"",It:!1},_t:0,ut:0},this.Xt=new eNe(this.Gt),this.Jt=e,this.yt=t}kt(){this.xt=!0}Tt(e){return this.xt&&(this.Rt(),this.xt=!1),this.Xt}Rt(){const e=this.Jt.It(),t=this.yt.Qt().N().crosshair,n=this.Gt;if(2===t.mode)return n.Kt.It=!1,void(n.Yt.It=!1);n.Kt.It=e&&this.Jt.ti(this.yt),n.Yt.It=e&&this.Jt.ii(),n.Kt.ct=t.horzLine.width,n.Kt.Zt=t.horzLine.style,n.Kt.R=t.horzLine.color,n.Yt.ct=t.vertLine.width,n.Yt.Zt=t.vertLine.style,n.Yt.R=t.vertLine.color,n._t=this.Jt.si(),n.ut=this.Jt.ni()}}function nNe(e,t,n,r,a,i){e.fillRect(t+i,n,r-2*i,i),e.fillRect(t+i,n+a-i,r-2*i,i),e.fillRect(t,n,i,a),e.fillRect(t+r-i,n,i,a)}function rNe(e,t,n,r,a,i){e.save(),e.globalCompositeOperation="copy",e.fillStyle=i,e.fillRect(t,n,r,a),e.restore()}function aNe(e,t,n,r,a,i){e.beginPath(),e.roundRect?e.roundRect(t,n,r,a,i):(e.lineTo(t+r-i[1],n),0!==i[1]&&e.arcTo(t+r,n,t+r,n+i[1],i[1]),e.lineTo(t+r,n+a-i[2]),0!==i[2]&&e.arcTo(t+r,n+a,t+r-i[2],n+a,i[2]),e.lineTo(t+i[3],n+a),0!==i[3]&&e.arcTo(t,n+a,t,n+a-i[3],i[3]),e.lineTo(t,n+i[0]),0!==i[0]&&e.arcTo(t,n,t+i[0],n,i[0]))}function iNe(e,t,n,r,a,i,s=0,o=[0,0,0,0],l=""){if(e.save(),!s||!l||l===i)return aNe(e,t,n,r,a,o),e.fillStyle=i,e.fill(),void e.restore();const c=s/2;var u;aNe(e,t+c,n+c,r-s,a-s,(u=-c,o.map(e=>0===e?e:e+u))),"transparent"!==i&&(e.fillStyle=i,e.fill()),"transparent"!==l&&(e.lineWidth=s,e.strokeStyle=l,e.closePath(),e.stroke()),e.restore()}function sNe(e,t,n,r,a,i,s){e.save(),e.globalCompositeOperation="copy";const o=e.createLinearGradient(0,0,0,a);o.addColorStop(0,i),o.addColorStop(1,s),e.fillStyle=o,e.fillRect(t,n,r,a),e.restore()}class oNe{constructor(e,t){this.ht(e,t)}ht(e,t){this.jt=e,this.ei=t}$t(e,t){return this.jt.It?e.k+e.A+e.I:0}nt(e,t,n,r){if(!this.jt.It||0===this.jt.ri.length)return;const a=this.jt.R,i=this.ei.G,s=e.useBitmapCoordinateSpace(e=>{const s=e.context;s.font=t.P;const o=this.hi(e,t,n,r),l=o.ai;return o.li?iNe(s,l.oi,l._i,l.ui,l.ci,i,l.di,[l.ft,0,0,l.ft],i):iNe(s,l.fi,l._i,l.ui,l.ci,i,l.di,[0,l.ft,l.ft,0],i),this.jt.pi&&(s.fillStyle=a,s.fillRect(l.fi,l.mi,l.wi-l.fi,l.gi)),this.jt.Mi&&(s.fillStyle=t.D,s.fillRect(o.li?l.bi-l.di:0,l._i,l.di,l.Si-l._i)),o});e.useMediaCoordinateSpace(({context:e})=>{const n=s.xi;e.font=t.P,e.textAlign=s.li?"right":"left",e.textBaseline="middle",e.fillStyle=a,e.fillText(this.jt.ri,n.Ci,(n._i+n.Si)/2+n.yi)})}hi(e,t,n,r){const{context:a,bitmapSize:i,mediaSize:s,horizontalPixelRatio:o,verticalPixelRatio:l}=e,c=this.jt.pi||!this.jt.ki?t.C:0,u=this.jt.Pi?t.S:0,h=t.A+this.ei.Ti,d=t.I+this.ei.Ri,p=t.V,f=t.B,m=this.jt.ri,g=t.k,y=n.Di(a,m),x=Math.ceil(n.Ii(a,m)),b=g+h+d,v=t.S+p+f+x+c,w=Math.max(1,Math.floor(l));let k=Math.round(b*l);k%2!=w%2&&(k+=1);const S=u>0?Math.max(1,Math.floor(u*o)):0,N=Math.round(v*o),E=Math.round(c*o),A=this.ei.Vi??this.ei.Bi??this.ei.Ei,C=Math.round(A*l)-Math.floor(.5*l),j=Math.floor(C+w/2-k/2),M=j+k,T="right"===r,I=T?s.width-u:u,O=T?i.width-S:S;let P,R,_;return T?(P=O-N,R=O-E,_=I-c-p-u):(P=O+N,R=O+E,_=I+c+p),{li:T,ai:{_i:j,mi:C,Si:M,ui:N,ci:k,ft:2*o,di:S,oi:P,fi:O,wi:R,gi:w,bi:i.width},xi:{_i:j/l,Si:M/l,Ci:_,yi:y}}}}class lNe{constructor(e){this.Ai={Ei:0,G:"#000",Ri:0,Ti:0},this.Li={ri:"",It:!1,pi:!0,ki:!1,Ht:"",R:"#FFF",Mi:!1,Pi:!1},this.zi={ri:"",It:!1,pi:!1,ki:!0,Ht:"",R:"#FFF",Mi:!0,Pi:!0},this.xt=!0,this.Oi=new(e||oNe)(this.Li,this.Ai),this.Ni=new(e||oNe)(this.zi,this.Ai)}ri(){return this.Fi(),this.Li.ri}Ei(){return this.Fi(),this.Ai.Ei}kt(){this.xt=!0}$t(e,t=!1){return Math.max(this.Oi.$t(e,t),this.Ni.$t(e,t))}Wi(){return this.Ai.Vi??null}Hi(){return this.Ai.Vi??this.Ai.Bi??this.Ei()}Ui(e){this.Ai.Bi=e??void 0}$i(){return this.Fi(),this.Li.It||this.zi.It}qi(){return this.Fi(),this.Li.It}Tt(e){return this.Fi(),this.Li.pi=this.Li.pi&&e.N().ticksVisible,this.zi.pi=this.zi.pi&&e.N().ticksVisible,this.Oi.ht(this.Li,this.Ai),this.Ni.ht(this.zi,this.Ai),this.Oi}ji(){return this.Fi(),this.Oi.ht(this.Li,this.Ai),this.Ni.ht(this.zi,this.Ai),this.Ni}Fi(){this.xt&&(this.Li.pi=!0,this.zi.pi=!1,this.Yi(this.Li,this.zi,this.Ai))}}class cNe extends lNe{constructor(e,t,n){super(),this.Jt=e,this.Ki=t,this.Zi=n}Yi(e,t,n){if(e.It=!1,2===this.Jt.N().mode)return;const r=this.Jt.N().horzLine;if(!r.labelVisible)return;const a=this.Ki.Lt();if(!this.Jt.It()||this.Ki.Gi()||null===a)return;const i=this.Ki.Xi().Z(r.labelBackgroundColor);n.G=i.G,e.R=i.X;const s=2/12*this.Ki.k();n.Ti=s,n.Ri=s;const o=this.Zi(this.Ki);n.Ei=o.Ei,e.ri=this.Ki.Ji(o.gt,a),e.It=!0}}const uNe=/[1-9]/g;class hNe{constructor(){this.jt=null}ht(e){this.jt=e}nt(e,t){if(null===this.jt||!1===this.jt.It||0===this.jt.ri.length)return;const n=e.useMediaCoordinateSpace(({context:e})=>(e.font=t.P,Math.round(t.Qi.Ii(e,ISe(this.jt).ri,uNe))));if(n<=0)return;const r=t.ts,a=n+2*r,i=a/2,s=this.jt.ss;let o=this.jt.Ei,l=Math.floor(o-i)+.5;l<0?(o+=Math.abs(0-l),l=Math.floor(o-i)+.5):l+a>s&&(o-=Math.abs(s-(l+a)),l=Math.floor(o-i)+.5);const c=l+a,u=Math.ceil(0+t.S+t.C+t.A+t.k+t.I);e.useBitmapCoordinateSpace(({context:e,horizontalPixelRatio:n,verticalPixelRatio:r})=>{const a=ISe(this.jt);e.fillStyle=a.G;const i=Math.round(l*n),s=Math.round(0*r),o=Math.round(c*n),h=Math.round(u*r),d=Math.round(2*n);if(e.beginPath(),e.moveTo(i,s),e.lineTo(i,h-d),e.arcTo(i,h,i+d,h,d),e.lineTo(o-d,h),e.arcTo(o,h,o,h-d,d),e.lineTo(o,s),e.fill(),a.pi){const i=Math.round(a.Ei*n),o=s,l=Math.round((o+t.C)*r);e.fillStyle=a.R;const c=Math.max(1,Math.floor(n)),u=Math.floor(.5*n);e.fillRect(i-u,o,c,l-o)}}),e.useMediaCoordinateSpace(({context:e})=>{const n=ISe(this.jt),a=0+t.S+t.C+t.A+t.k/2;e.font=t.P,e.textAlign="left",e.textBaseline="middle",e.fillStyle=n.R;const i=t.Qi.Di(e,"Apr0");e.translate(l+r,a+i),e.fillText(n.ri,0,0)})}}class dNe{constructor(e,t,n){this.xt=!0,this.Xt=new hNe,this.Gt={It:!1,G:"#4c525e",R:"white",ri:"",ss:0,Ei:NaN,pi:!0},this.Ct=e,this.ns=t,this.Zi=n}kt(){this.xt=!0}Tt(){return this.xt&&(this.Rt(),this.xt=!1),this.Xt.ht(this.Gt),this.Xt}Rt(){const e=this.Gt;if(e.It=!1,2===this.Ct.N().mode)return;const t=this.Ct.N().vertLine;if(!t.labelVisible)return;const n=this.ns.Et();if(n.Gi())return;e.ss=n.ss();const r=this.Zi();if(null===r)return;e.Ei=r.Ei;const a=n.es(this.Ct.Bt());e.ri=n.rs(ISe(a)),e.It=!0;const i=this.ns.Xi().Z(t.labelBackgroundColor);e.G=i.G,e.R=i.X,e.pi=n.N().ticksVisible}}class pNe{constructor(){this.hs=null,this.ls=0}_s(){return this.ls}us(e){this.ls=e}Ft(){return this.hs}cs(e){this.hs=e}ds(e){return[]}fs(){return[]}It(){return!0}}var fNe;!function(e){e[e.Normal=0]="Normal",e[e.Magnet=1]="Magnet",e[e.Hidden=2]="Hidden",e[e.MagnetOHLC=3]="MagnetOHLC"}(fNe||(fNe={}));class mNe extends pNe{constructor(e,t){super(),this.yt=null,this.ps=NaN,this.vs=0,this.ws=!1,this.gs=new Map,this.Ms=!1,this.bs=new WeakMap,this.Ss=new WeakMap,this.xs=NaN,this.Cs=NaN,this.ys=NaN,this.ks=NaN,this.ns=e,this.Ps=t,this.Ts=((e,t)=>n=>{const r=t(),a=e();if(n===ISe(this.yt).Rs())return{gt:a,Ei:r};{const e=ISe(n.Lt());return{gt:n.Ds(r,e),Ei:r}}})(()=>this.ps,()=>this.Cs);const n=((e,t)=>()=>{const n=this.ns.Et().Is(e()),r=t();return n&&Number.isFinite(r)?{wt:n,Ei:r}:null})(()=>this.vs,()=>this.si());this.Vs=new dNe(this,e,n)}N(){return this.Ps}Bs(e,t){this.ys=e,this.ks=t}Es(){this.ys=NaN,this.ks=NaN}As(){return this.ys}Ls(){return this.ks}zs(e,t,n){this.Ms||(this.Ms=!0),this.ws=!0,this.Os(e,t,n)}Bt(){return this.vs}si(){return this.xs}ni(){return this.Cs}It(){return this.ws}Ns(){this.ws=!1,this.Fs(),this.ps=NaN,this.xs=NaN,this.Cs=NaN,this.yt=null,this.Es(),this.Ws()}Hs(e){if(!this.Ps.doNotSnapToHiddenSeriesIndices)return e;const t=this.ns,n=t.Et();let r=null,a=null;for(const l of t.Us()){const t=l.qs().$s(e,-1);if(t){if(t.js===e)return e;(null===r||t.js>r)&&(r=t.js)}const n=l.qs().$s(e,1);if(n){if(n.js===e)return e;(null===a||n.js<a)&&(a=n.js)}}const i=[r,a].filter(zSe);if(0===i.length)return e;const s=n.qt(e),o=i.map(e=>Math.abs(s-n.qt(e)));return i[o.indexOf(Math.min(...o))]}Ys(e){let t=this.bs.get(e);t||(t=new tNe(this,e),this.bs.set(e,t));let n=this.Ss.get(e);return n||(n=new JSe(this.ns,this,e),this.Ss.set(e,n)),[t,n]}ti(e){return e===this.yt&&this.Ps.horzLine.visible}ii(){return this.Ps.vertLine.visible}Ks(e,t){this.ws&&this.yt===e||this.gs.clear();const n=[];return this.yt===e&&n.push(this.Zs(this.gs,t,this.Ts)),n}fs(){return this.ws?[this.Vs]:[]}Gs(){return this.yt}Ws(){this.ns.Xs().forEach(e=>{this.bs.get(e)?.kt(),this.Ss.get(e)?.kt()}),this.gs.forEach(e=>e.kt()),this.Vs.kt()}Js(e){return e&&!e.Rs().Gi()?e.Rs():null}Os(e,t,n){this.Qs(e,t,n)&&this.Ws()}Qs(e,t,n){const r=this.xs,a=this.Cs,i=this.ps,s=this.vs,o=this.yt,l=this.Js(n);this.vs=e,this.xs=isNaN(e)?NaN:this.ns.Et().qt(e),this.yt=n;const c=null!==l?l.Lt():null;return null!==l&&null!==c?(this.ps=t,this.Cs=l.Nt(t,c)):(this.ps=NaN,this.Cs=NaN),r!==this.xs||a!==this.Cs||s!==this.vs||i!==this.ps||o!==this.yt}Fs(){const e=this.ns.tn().map(e=>e.qs().sn()).filter(zSe),t=0===e.length?null:Math.max(...e);this.vs=null!==t?t:NaN}Zs(e,t,n){let r=e.get(t);return void 0===r&&(r=new cNe(this,t,n),e.set(t,r)),r}}function gNe(e){return"left"===e||"right"===e}let yNe=class e{constructor(e){this.nn=new Map,this.en=[],this.rn=e}hn(e,t){const n=(r=this.nn.get(e),a=t,void 0===r?a:{an:Math.max(r.an,a.an),ln:r.ln||a.ln});var r,a;this.nn.set(e,n)}_n(){return this.rn}un(e){const t=this.nn.get(e);return void 0===t?{an:this.rn}:{an:Math.max(this.rn,t.an),ln:t.ln}}cn(){this.dn(),this.en=[{fn:0}]}pn(e){this.dn(),this.en=[{fn:1,Wt:e}]}vn(e){this.mn(),this.en.push({fn:5,Wt:e})}dn(){this.mn(),this.en.push({fn:6})}wn(){this.dn(),this.en=[{fn:4}]}gn(e){this.dn(),this.en.push({fn:2,Wt:e})}Mn(e){this.dn(),this.en.push({fn:3,Wt:e})}bn(){return this.en}Sn(e){for(const t of e.en)this.xn(t);this.rn=Math.max(this.rn,e.rn),e.nn.forEach((e,t)=>{this.hn(t,e)})}static Cn(){return new e(2)}static yn(){return new e(3)}xn(e){switch(e.fn){case 0:this.cn();break;case 1:this.pn(e.Wt);break;case 2:this.gn(e.Wt);break;case 3:this.Mn(e.Wt);break;case 4:this.wn();break;case 5:this.vn(e.Wt);break;case 6:this.mn()}}mn(){const e=this.en.findIndex(e=>5===e.fn);-1!==e&&this.en.splice(e,1)}};class xNe{formatTickmarks(e){return e.map(e=>this.format(e))}}function bNe(e,t){if(!_Se(e))return"n/a";if(!LSe(t))throw new TypeError("invalid length");if(t<0||t>16)throw new TypeError("invalid length");return 0===t?e.toString():("0000000000000000"+e.toString()).slice(-t)}class vNe extends xNe{constructor(e,t){if(super(),t||(t=1),_Se(e)&&LSe(e)||(e=100),e<0)throw new TypeError("invalid base");this.Ki=e,this.kn=t,this.Pn()}format(e){const t=e<0?"":"";return e=Math.abs(e),t+this.Tn(e)}Pn(){if(this.Rn=0,this.Ki>0&&this.kn>0){let e=this.Ki;for(;e>1;)e/=10,this.Rn++}}Tn(e){const t=this.Ki/this.kn;let n=Math.floor(e),r="";const a=void 0!==this.Rn?this.Rn:NaN;if(t>1){let i=+(Math.round(e*t)-n*t).toFixed(this.Rn);i>=t&&(i-=t,n+=1),r="."+bNe(+i.toFixed(this.Rn)*this.kn,a)}else n=Math.round(n*t)/t,a>0&&(r="."+bNe(0,a));return n.toFixed(0)+r}}class wNe extends vNe{constructor(e=100){super(e)}format(e){return`${super.format(e)}%`}}class kNe extends xNe{constructor(e){super(),this.Dn=e}format(e){let t="";return e<0&&(t="-",e=-e),e<995?t+this.In(e):e<999995?t+this.In(e/1e3)+"K":e<999999995?(e=1e3*Math.round(e/1e3),t+this.In(e/1e6)+"M"):(e=1e6*Math.round(e/1e6),t+this.In(e/1e9)+"B")}In(e){let t;const n=Math.pow(10,this.Dn);return t=(e=Math.round(e*n)/n)>=1e-15&&e<1?e.toFixed(this.Dn).replace(/\.?0+$/,""):String(e),t.replace(/(\.[1-9]*)0+$/,(e,t)=>t)}}const SNe=/[2-9]/g;class NNe{constructor(e=50){this.Vn=0,this.Bn=1,this.En=1,this.An={},this.Ln=new Map,this.zn=e}On(){this.Vn=0,this.Ln.clear(),this.Bn=1,this.En=1,this.An={}}Ii(e,t,n){return this.Nn(e,t,n).width}Di(e,t,n){const r=this.Nn(e,t,n);return((r.actualBoundingBoxAscent||0)-(r.actualBoundingBoxDescent||0))/2}Nn(e,t,n){const r=n||SNe,a=String(t).replace(r,"0");if(this.Ln.has(a))return TSe(this.Ln.get(a)).Fn;if(this.Vn===this.zn){const e=this.An[this.En];delete this.An[this.En],this.Ln.delete(e),this.En++,this.Vn--}e.save(),e.textBaseline="middle";const i=e.measureText(a);return e.restore(),0===i.width&&t.length||(this.Ln.set(a,{Fn:i,Wn:this.Bn}),this.An[this.Bn]=a,this.Vn++,this.Bn++),i}}class ENe{constructor(e){this.Hn=null,this.M=null,this.Un="right",this.$n=e}qn(e,t,n){this.Hn=e,this.M=t,this.Un=n}nt(e){null!==this.M&&null!==this.Hn&&this.Hn.nt(e,this.M,this.$n,this.Un)}}class ANe{constructor(e,t,n){this.jn=e,this.$n=new NNe(50),this.Yn=t,this.O=n,this.F=-1,this.Xt=new ENe(this.$n)}Tt(){const e=this.O.Kn(this.Yn);if(null===e)return null;const t=e.Zn(this.Yn)?e.Gn():this.Yn.Ft();if(null===t)return null;const n=e.Xn(t);if("overlay"===n)return null;const r=this.O.Jn();return r.k!==this.F&&(this.F=r.k,this.$n.On()),this.Xt.qn(this.jn.ji(),r,n),this.Xt}}class CNe extends qSe{constructor(){super(...arguments),this.jt=null}ht(e){this.jt=e}Qn(e,t){if(!this.jt?.It)return null;const{ut:n,ct:r,te:a}=this.jt;return t>=n-r-7&&t<=n+r+7?{ie:this.jt,te:a}:null}et({context:e,bitmapSize:t,horizontalPixelRatio:n,verticalPixelRatio:r}){if(null===this.jt)return;if(!1===this.jt.It)return;const a=Math.round(this.jt.ut*r);a<0||a>t.height||(e.lineCap="butt",e.strokeStyle=this.jt.R,e.lineWidth=Math.floor(this.jt.ct*n),CSe(e,this.jt.Zt),jSe(e,a,0,t.width))}}class jNe{constructor(e){this.se={ut:0,R:"rgba(0, 0, 0, 0)",ct:1,Zt:0,It:!1},this.ne=new CNe,this.xt=!0,this.ee=e,this.re=e.Qt(),this.ne.ht(this.se)}kt(){this.xt=!0}Tt(){return this.ee.It()?(this.xt&&(this.he(),this.xt=!1),this.ne):null}}class MNe extends jNe{constructor(e){super(e)}he(){this.se.It=!1;const e=this.ee.Ft(),t=e.ae().ae;if(2!==t&&3!==t)return;const n=this.ee.N();if(!n.baseLineVisible||!this.ee.It())return;const r=this.ee.Lt();null!==r&&(this.se.It=!0,this.se.ut=e.Nt(r.Wt,r.Wt),this.se.R=n.baseLineColor,this.se.ct=n.baseLineWidth,this.se.Zt=n.baseLineStyle)}}class TNe extends qSe{constructor(){super(...arguments),this.jt=null}ht(e){this.jt=e}le(){return this.jt}et({context:e,horizontalPixelRatio:t,verticalPixelRatio:n}){const r=this.jt;if(null===r)return;const a=Math.max(1,Math.floor(t)),i=a%2/2,s=Math.round(r.oe.x*t)+i,o=r.oe.y*n;e.fillStyle=r._e,e.beginPath();const l=Math.max(2,1.5*r.ue)*t;e.arc(s,o,l,0,2*Math.PI,!1),e.fill(),e.fillStyle=r.ce,e.beginPath(),e.arc(s,o,r.ft*t,0,2*Math.PI,!1),e.fill(),e.lineWidth=a,e.strokeStyle=r.de,e.beginPath(),e.arc(s,o,r.ft*t+a/2,0,2*Math.PI,!1),e.stroke()}}const INe=[{fe:0,pe:.25,ve:4,me:10,we:.25,ge:0,Me:.4,be:.8},{fe:.25,pe:.525,ve:10,me:14,we:0,ge:0,Me:.8,be:0},{fe:.525,pe:1,ve:14,me:14,we:0,ge:0,Me:0,be:0}];class ONe{constructor(e){this.Xt=new TNe,this.xt=!0,this.Se=!0,this.xe=performance.now(),this.Ce=this.xe-1,this.ye=e}ke(){this.Ce=this.xe-1,this.kt()}Pe(){if(this.kt(),2===this.ye.N().lastPriceAnimation){const e=performance.now(),t=this.Ce-e;if(t>0)return void(t<650&&(this.Ce+=2600));this.xe=e,this.Ce=e+2600}}kt(){this.xt=!0}Te(){this.Se=!0}It(){return 0!==this.ye.N().lastPriceAnimation}Re(){switch(this.ye.N().lastPriceAnimation){case 0:return!1;case 1:return!0;case 2:return performance.now()<=this.Ce}}Tt(){return this.xt?(this.Rt(),this.xt=!1,this.Se=!1):this.Se&&(this.De(),this.Se=!1),this.Xt}Rt(){this.Xt.ht(null);const e=this.ye.Qt().Et(),t=e.Ie(),n=this.ye.Lt();if(null===t||null===n)return;const r=this.ye.Ve(!0);if(r.Be||!t.Ee(r.js))return;const a={x:e.qt(r.js),y:this.ye.Ft().Nt(r.gt,n.Wt)},i=r.R,s=this.ye.N().lineWidth,o=this.Ae(this.Le(),i);this.Xt.ht({_e:i,ue:s,ce:o.ce,de:o.de,ft:o.ft,oe:a})}De(){const e=this.Xt.le();if(null!==e){const t=this.Ae(this.Le(),e._e);e.ce=t.ce,e.de=t.de,e.ft=t.ft}}Le(){return this.Re()?performance.now()-this.xe:2599}ze(e,t,n,r){const a=n+(r-n)*t;return this.ye.Qt().Xi().Y(e,a)}Ae(e,t){const n=e%2600/2600;let r;for(const l of INe)if(n>=l.fe&&n<=l.pe){r=l;break}MSe(void 0!==r,"Last price animation internal logic error");const a=(n-r.fe)/(r.pe-r.fe);return{ce:this.ze(t,a,r.we,r.ge),de:this.ze(t,a,r.Me,r.be),ft:(i=a,s=r.ve,o=r.me,s+(o-s)*i)};var i,s,o}}class PNe extends jNe{constructor(e){super(e)}he(){const e=this.se;e.It=!1;const t=this.ee.N();if(!t.priceLineVisible||!this.ee.It())return;const n=this.ee.Ve(0===t.priceLineSource);n.Be||(e.It=!0,e.ut=n.Ei,e.R=this.ee.Oe(n.R),e.ct=t.priceLineWidth,e.Zt=t.priceLineStyle)}}class RNe extends lNe{constructor(e){super(),this.Jt=e}Yi(e,t,n){e.It=!1,t.It=!1;const r=this.Jt;if(!r.It())return;const a=r.N(),i=a.lastValueVisible,s=""!==r.Ne(),o=0===a.seriesLastValueMode,l=r.Ve(!1);if(l.Be)return;i&&(e.ri=this.Fe(l,i,o),e.It=0!==e.ri.length),(s||o)&&(t.ri=this.We(l,i,s,o),t.It=t.ri.length>0);const c=r.Oe(l.R),u=this.Jt.Qt().Xi().Z(c);n.G=u.G,n.Ei=l.Ei,t.Ht=r.Qt().Ut(l.Ei/r.Ft().$t()),e.Ht=c,e.R=u.X,t.R=u.X}We(e,t,n,r){let a="";const i=this.Jt.Ne();return n&&0!==i.length&&(a+=`${i} `),t&&r&&(a+=this.Jt.Ft().He()?e.Ue:e.$e),a.trim()}Fe(e,t,n){return t?n?this.Jt.Ft().He()?e.$e:e.Ue:e.ri:""}}function _Ne(e,t,n,r){const a=Number.isFinite(t),i=Number.isFinite(n);return a&&i?e(t,n):a||i?a?t:n:r}class LNe{constructor(e,t){this.qe=e,this.je=t}Ye(e){return null!==e&&this.qe===e.qe&&this.je===e.je}Ke(){return new LNe(this.qe,this.je)}Ze(){return this.qe}Ge(){return this.je}Xe(){return this.je-this.qe}Gi(){return this.je===this.qe||Number.isNaN(this.je)||Number.isNaN(this.qe)}Sn(e){return null===e?this:new LNe(_Ne(Math.min,this.Ze(),e.Ze(),-1/0),_Ne(Math.max,this.Ge(),e.Ge(),1/0))}Je(e){if(!_Se(e))return;if(0===this.je-this.qe)return;const t=.5*(this.je+this.qe);let n=this.je-t,r=this.qe-t;n*=e,r*=e,this.je=t+n,this.qe=t+r}Qe(e){_Se(e)&&(this.je+=e,this.qe+=e)}tr(){return{minValue:this.qe,maxValue:this.je}}static ir(e){return null===e?null:new LNe(e.minValue,e.maxValue)}}class $Ne{constructor(e,t){this.sr=e,this.nr=t||null}er(){return this.sr}rr(){return this.nr}tr(){return{priceRange:null===this.sr?null:this.sr.tr(),margins:this.nr||void 0}}static ir(e){return null===e?null:new $Ne(LNe.ir(e.priceRange),e.margins)}}const FNe=[2,4,8,16,32,64,128,256,512];class DNe extends jNe{constructor(e,t){super(e),this.hr=t}he(){const e=this.se;e.It=!1;const t=this.hr.N();if(!this.ee.It()||!t.lineVisible)return;const n=this.hr.ar();null!==n&&(e.It=!0,e.ut=n,e.R=t.color,e.ct=t.lineWidth,e.Zt=t.lineStyle,e.te=this.hr.N().id)}}class zNe extends lNe{constructor(e,t){super(),this.ye=e,this.hr=t}Yi(e,t,n){e.It=!1,t.It=!1;const r=this.hr.N(),a=r.axisLabelVisible,i=""!==r.title,s=this.ye;if(!a||!s.It())return;const o=this.hr.ar();if(null===o)return;i&&(t.ri=r.title,t.It=!0),t.Ht=s.Qt().Ut(o/s.Ft().$t()),e.ri=this.lr(r.price),e.It=!0;const l=this.ye.Qt().Xi().Z(r.axisLabelColor||r.color);n.G=l.G;const c=r.axisLabelTextColor||l.X;e.R=c,t.R=c,n.Ei=o}lr(e){const t=this.ye.Lt();return null===t?"":this.ye.Ft().Ji(e,t.Wt)}}class VNe{constructor(e,t){this.ye=e,this.Ps=t,this._r=new DNe(e,this),this.jn=new zNe(e,this),this.ur=new ANe(this.jn,e,e.Qt())}cr(e){RSe(this.Ps,e),this.kt(),this.ye.Qt().dr()}N(){return this.Ps}pr(){return this._r}vr(){return this.ur}mr(){return this.jn}kt(){this._r.kt(),this.jn.kt()}ar(){const e=this.ye,t=e.Ft();if(e.Qt().Et().Gi()||t.Gi())return null;const n=e.Lt();return null===n?null:t.Nt(this.Ps.price,n.Wt)}}class BNe{constructor(){this.wr=new WeakMap}gr(e,t,n){const r=1/t*n;if(e>=r)return 1;const a=r/e,i=Math.pow(2,Math.floor(Math.log2(a)));return Math.min(i,512)}Mr(e,t,n,r=!1,a){if(0===e.length||t<=1)return e;const i=this.br(t);if(i<=1)return e;const s=this.Sr(e);let o=s.Cr.get(i);return void 0!==o||(o=this.yr(e,i,n,r,a,s.Cr),s.Cr.set(i,o)),o}kr(e,t,n,r,a=!1,i){if(n<1||0===e.length)return e;const s=this.Sr(e),o=s.Cr.get(n);if(!o)return this.Mr(e,n,r,a,i);const l=this.Pr(e,t,n,o,a,r,i);return s.Cr.set(n,l),l}br(e){if(e<=2)return 2;for(const t of FNe)if(e<=t)return t;return 512}Tr(e){if(0===e.length)return 0;const t=e[0],n=e[e.length-1];return 31*e.length+17*t.js+13*n.js}yr(e,t,n,r=!1,a,i=new Map){if(2===t)return this.Rr(e,2,n,r,a);const s=t/2;let o=i.get(s);return o||(o=this.yr(e,s,n,r,a,i),i.set(s,o)),this.Dr(o,n,r,a)}Rr(e,t,n,r=!1,a){const i=this.Ir(e,t,n,r,a);return this.Vr(i,r)}Dr(e,t,n=!1,r){const a=this.Ir(e,2,t,n,r);return this.Vr(a,n)}Ir(e,t,n,r=!1,a){const i=[];for(let s=0;s<e.length;s+=t)if(e.length-s>=t){const t=this.Br(e[s],e[s+1],n,r,a);t.Er=!1,i.push(t)}else if(0===i.length)i.push(this.Ar(e[s],!0));else{const t=i[i.length-1];i[i.length-1]=this.Lr(t,e[s],n,r,a)}return i}zr(e,t){return(e??1)+(t??1)}Br(e,t,n,r=!1,a){if(!r||!n||!a){const n=e.Wt[1]>t.Wt[1]?e.Wt[1]:t.Wt[1],r=e.Wt[2]<t.Wt[2]?e.Wt[2]:t.Wt[2];return{Or:e.js,Nr:t.js,Fr:e.wt,Wr:t.wt,Hr:e.Wt[0],Ur:n,$r:r,qr:t.Wt[3],jr:this.zr(e.jr,t.jr),Yr:void 0,Er:!1}}const i=n(this.Kr(e,a),this.Kr(t,a)),s=a(i),o=s.length?s[s.length-1]:0;return{Or:e.js,Nr:t.js,Fr:e.wt,Wr:t.wt,Hr:e.Wt[0],Ur:Math.max(e.Wt[1],o),$r:Math.min(e.Wt[2],o),qr:o,jr:this.zr(e.jr,t.jr),Yr:i,Er:!1}}Lr(e,t,n,r=!1,a){if(!r||!n||!a)return{Or:e.Or,Nr:t.js,Fr:e.Fr,Wr:t.wt,Hr:e.Hr,Ur:e.Ur>t.Wt[1]?e.Ur:t.Wt[1],$r:e.$r<t.Wt[2]?e.$r:t.Wt[2],qr:t.Wt[3],jr:e.jr+(t.jr??1),Yr:e.Yr,Er:!1};const i=e.Yr,s=this.Kr(t,a),o=i?{data:i,index:e.Or,originalTime:e.Fr,time:e.Fr,priceValues:a(i)}:null,l=o?n(o,s):s.data,c=o?a(l):s.priceValues,u=c.length?c[c.length-1]:0;return{Or:e.Or,Nr:t.js,Fr:e.Fr,Wr:t.wt,Hr:e.Hr,Ur:Math.max(e.Ur,u),$r:Math.min(e.$r,u),qr:u,jr:e.jr+(t.jr??1),Yr:l,Er:!1}}Zr(e,t,n,r,a,i,s=!1,o){const l=t===r?a:e[t];if(n-t==1)return this.Ar(l,!0);const c=t+1===r?a:e[t+1];let u=this.Br(l,c,i,s,o);for(let h=t+2;h<n;h++){const t=h===r?a:e[h];u=this.Lr(u,t,i,s,o)}return u}Kr(e,t){const n=e.le??{};return{data:e.le,index:e.js,originalTime:e.Gr,time:e.wt,priceValues:t(n)}}Xr(e,t=!1){const n=!0===t,r=!!e.Yr;return{js:e.Or,wt:e.Fr,Gr:e.Fr,Wt:[n?e.qr:e.Hr,e.Ur,e.$r,e.qr],jr:e.jr,le:n?r?e.Yr:{wt:e.Fr}:void 0}}Vr(e,t=!1){return e.map(e=>this.Xr(e,t))}Pr(e,t,n,r,a=!1,i,s){if(0===r.length)return r;const o=e.length-1,l=Math.floor(o/n)*n;if(Math.min(l+n,e.length)-l<n&&e.length>n){const r=e.slice();return r[r.length-1]=t,this.Mr(r,n,i,a,s)}if(Math.floor((o-1)/n)===Math.floor(o/n)||1===r.length){const c=Math.min(l+n,e.length),u=c-l;if(u<=0)return r;const h=1===u?this.Ar(l===o?t:e[l],!0):this.Zr(e,l,c,o,t,i,a,s);return r[r.length-1]=this.Xr(h,a),r}{const r=e.slice();return r[r.length-1]=t,this.Mr(r,n,i,a,s)}}Ar(e,t=!1){return{Or:e.js,Nr:e.js,Fr:e.wt,Wr:e.wt,Hr:e.Wt[0],Ur:e.Wt[1],$r:e.Wt[2],qr:e.Wt[3],jr:e.jr??1,Yr:e.le,Er:t}}Sr(e){const t=this.Jr(e),n=this.Tr(e);return t.Qr!==n&&(t.Cr.clear(),t.Qr=n),t}Jr(e){let t=this.wr.get(e);return void 0===t&&(t={Qr:this.Tr(e),Cr:new Map},this.wr.set(e,t)),t}}class HNe extends pNe{constructor(e){super(),this.ns=e}Qt(){return this.ns}}const UNe={Bar:(e,t,n,r)=>{const a=t.upColor,i=t.downColor,s=ISe(e(n,r)),o=OSe(s.Wt[0])<=OSe(s.Wt[3]);return{th:s.R??(o?a:i)}},Candlestick:(e,t,n,r)=>{const a=t.upColor,i=t.downColor,s=t.borderUpColor,o=t.borderDownColor,l=t.wickUpColor,c=t.wickDownColor,u=ISe(e(n,r)),h=OSe(u.Wt[0])<=OSe(u.Wt[3]);return{th:u.R??(h?a:i),ih:u.Ht??(h?s:o),sh:u.nh??(h?l:c)}},Custom:(e,t,n,r)=>({th:ISe(e(n,r)).R??t.color}),Area:(e,t,n,r)=>{const a=ISe(e(n,r));return{th:a.vt??t.lineColor,vt:a.vt??t.lineColor,eh:a.eh??t.topColor,rh:a.rh??t.bottomColor}},Baseline:(e,t,n,r)=>{const a=ISe(e(n,r));return{th:a.Wt[3]>=t.baseValue.price?t.topLineColor:t.bottomLineColor,hh:a.hh??t.topLineColor,ah:a.ah??t.bottomLineColor,oh:a.oh??t.topFillColor1,_h:a._h??t.topFillColor2,uh:a.uh??t.bottomFillColor1,dh:a.dh??t.bottomFillColor2}},Line:(e,t,n,r)=>{const a=ISe(e(n,r));return{th:a.R??t.color,vt:a.R??t.color}},Histogram:(e,t,n,r)=>({th:ISe(e(n,r)).R??t.color})};class WNe{constructor(e){this.fh=(e,t)=>void 0!==t?t.Wt:this.ye.qs().ph(e),this.ye=e,this.mh=UNe[e.wh()]}gh(e,t){return this.mh(this.fh,this.ye.N(),e,t)}}function ZNe(e,t,n,r,a=0,i=t.length){let s=i-a;for(;0<s;){const i=s>>1,o=a+i;r(t[o],n)===e?(a=o+1,s-=i+1):s=i}return a}const GNe=ZNe.bind(null,!0),KNe=ZNe.bind(null,!1);var qNe;!function(e){e[e.NearestLeft=-1]="NearestLeft",e[e.None=0]="None",e[e.NearestRight=1]="NearestRight"}(qNe||(qNe={}));const XNe=30;class YNe{constructor(){this.Mh=[],this.bh=new Map,this.Sh=new Map,this.xh=[]}Ch(){return this.yh()>0?this.Mh[this.Mh.length-1]:null}kh(){return this.yh()>0?this.Ph(0):null}sn(){return this.yh()>0?this.Ph(this.Mh.length-1):null}yh(){return this.Mh.length}Gi(){return 0===this.yh()}Ee(e){return null!==this.Th(e,0)}ph(e){return this.$s(e)}$s(e,t=0){const n=this.Th(e,t);return null===n?null:{...this.Rh(n),js:this.Ph(n)}}Dh(){return this.Mh}Ih(e,t,n){if(this.Gi())return null;let r=null;for(const a of n)r=QNe(r,this.Vh(e,t,a));return r}ht(e){this.Sh.clear(),this.bh.clear(),this.Mh=e,this.xh=e.map(e=>e.js)}Bh(){return this.xh}Ph(e){return this.Mh[e].js}Rh(e){return this.Mh[e]}Th(e,t){const n=this.Eh(e);if(null===n&&0!==t)switch(t){case-1:return this.Ah(e);case 1:return this.Lh(e);default:throw new TypeError("Unknown search mode")}return n}Ah(e){let t=this.zh(e);return t>0&&(t-=1),t!==this.Mh.length&&this.Ph(t)<e?t:null}Lh(e){const t=this.Oh(e);return t!==this.Mh.length&&e<this.Ph(t)?t:null}Eh(e){const t=this.zh(e);return t===this.Mh.length||e<this.Mh[t].js?null:t}zh(e){return GNe(this.Mh,e,(e,t)=>e.js<t)}Oh(e){return KNe(this.Mh,e,(e,t)=>e.js>t)}Nh(e,t,n){let r=null;for(let a=e;a<t;a++){const e=this.Mh[a].Wt[n];Number.isNaN(e)||(null===r?r={Fh:e,Wh:e}:(e<r.Fh&&(r.Fh=e),e>r.Wh&&(r.Wh=e)))}return r}Vh(e,t,n){if(this.Gi())return null;let r=null;const a=ISe(this.kh()),i=ISe(this.sn()),s=Math.max(e,a),o=Math.min(t,i),l=Math.ceil(s/XNe)*XNe,c=Math.max(l,Math.floor(o/XNe)*XNe);{const e=this.zh(s),a=this.Oh(Math.min(o,l,t));r=QNe(r,this.Nh(e,a,n))}let u=this.bh.get(n);void 0===u&&(u=new Map,this.bh.set(n,u));for(let h=Math.max(l+1,s);h<c;h+=XNe){const e=Math.floor(h/XNe);let t=u.get(e);if(void 0===t){const r=this.zh(e*XNe),a=this.Oh((e+1)*XNe-1);t=this.Nh(r,a,n),u.set(e,t)}r=QNe(r,t)}{const e=this.zh(c),t=this.Oh(o);r=QNe(r,this.Nh(e,t,n))}return r}}function QNe(e,t){return null===e?t:null===t?e:{Fh:Math.min(e.Fh,t.Fh),Wh:Math.max(e.Wh,t.Wh)}}function JNe(){return new YNe}const eEe={setLineStyle:CSe};class tEe{constructor(e){this.Hh=e}nt(e,t,n){this.Hh.draw(e,eEe)}Uh(e,t,n){this.Hh.drawBackground?.(e,eEe)}}class nEe{constructor(e){this.Ln=null,this.$h=e}Tt(){const e=this.$h.renderer();if(null===e)return null;if(this.Ln?.qh===e)return this.Ln.jh;const t=new tEe(e);return this.Ln={qh:e,jh:t},t}Yh(){return this.$h.zOrder?.()??"normal"}}class rEe{constructor(e){this.Kh=null,this.Zh=e}Gh(){return this.Zh}Ws(){this.Zh.updateAllViews?.()}Ys(){const e=this.Zh.paneViews?.()??[];if(this.Kh?.qh===e)return this.Kh.jh;const t=e.map(e=>new nEe(e));return this.Kh={qh:e,jh:t},t}Qn(e,t){return this.Zh.hitTest?.(e,t)??null}}let aEe=class extends rEe{ds(){return[]}};class iEe{constructor(e){this.Hh=e}nt(e,t,n){this.Hh.draw(e,eEe)}Uh(e,t,n){this.Hh.drawBackground?.(e,eEe)}}class sEe{constructor(e){this.Ln=null,this.$h=e}Tt(){const e=this.$h.renderer();if(null===e)return null;if(this.Ln?.qh===e)return this.Ln.jh;const t=new iEe(e);return this.Ln={qh:e,jh:t},t}Yh(){return this.$h.zOrder?.()??"normal"}}function oEe(e){return{ri:e.text(),Ei:e.coordinate(),Vi:e.fixedCoordinate?.(),R:e.textColor(),G:e.backColor(),It:e.visible?.()??!0,pi:e.tickVisible?.()??!0}}class lEe{constructor(e,t){this.Xt=new hNe,this.Xh=e,this.Jh=t}Tt(){return this.Xt.ht({ss:this.Jh.ss(),...oEe(this.Xh)}),this.Xt}}class cEe extends lNe{constructor(e,t){super(),this.Xh=e,this.Ki=t}Yi(e,t,n){const r=oEe(this.Xh);n.G=r.G,e.R=r.R;const a=2/12*this.Ki.k();n.Ti=a,n.Ri=a,n.Ei=r.Ei,n.Vi=r.Vi,e.ri=r.ri,e.It=r.It,e.pi=r.pi}}class uEe extends rEe{constructor(e,t){super(e),this.Qh=null,this.ta=null,this.ia=null,this.sa=null,this.ye=t}fs(){const e=this.Zh.timeAxisViews?.()??[];if(this.Qh?.qh===e)return this.Qh.jh;const t=this.ye.Qt().Et(),n=e.map(e=>new lEe(e,t));return this.Qh={qh:e,jh:n},n}Ks(){const e=this.Zh.priceAxisViews?.()??[];if(this.ta?.qh===e)return this.ta.jh;const t=this.ye.Ft(),n=e.map(e=>new cEe(e,t));return this.ta={qh:e,jh:n},n}na(){const e=this.Zh.priceAxisPaneViews?.()??[];if(this.ia?.qh===e)return this.ia.jh;const t=e.map(e=>new sEe(e));return this.ia={qh:e,jh:t},t}ea(){const e=this.Zh.timeAxisPaneViews?.()??[];if(this.sa?.qh===e)return this.sa.jh;const t=e.map(e=>new sEe(e));return this.sa={qh:e,jh:t},t}ra(e,t){return this.Zh.autoscaleInfo?.(e,t)??null}}function hEe(e,t,n,r){e.forEach(e=>{t(e).forEach(e=>{e.Yh()===n&&r.push(e)})})}function dEe(e){return e.Ys()}function pEe(e){return e.na()}function fEe(e){return e.ea()}const mEe=["Area","Line","Baseline"];class gEe extends HNe{constructor(e,t,n,r,a){super(e),this.jt=JNe(),this._r=new PNe(this),this.ha=[],this.aa=new MNe(this),this.la=null,this.oa=null,this._a=null,this.ua=[],this.ca=new BNe,this.da=new Map,this.fa=null,this.Ps=n,this.pa=t;const i=new RNe(this);if(this.gs=[i],this.ur=new ANe(i,this,e),mEe.includes(this.pa)&&(this.la=new ONe(this)),this.va(),this.$h=r(this,this.Qt(),a),"Custom"===this.pa){const e=this.$h;e.ma&&this.wa(e.ma)}}m(){null!==this._a&&clearTimeout(this._a)}Oe(e){return this.Ps.priceLineColor||e}Ve(e){const t={Be:!0},n=this.Ft();if(this.Qt().Et().Gi()||n.Gi()||this.jt.Gi())return t;const r=this.Qt().Et().Ie(),a=this.Lt();if(null===r||null===a)return t;let i,s;if(e){const e=this.jt.Ch();if(null===e)return t;i=e,s=e.js}else{const e=this.jt.$s(r.bi(),-1);if(null===e)return t;if(i=this.jt.ph(e.js),null===i)return t;s=e.js}const o=i.Wt[3],l=this.ga().gh(s,{Wt:i}),c=n.Nt(o,a.Wt);return{Be:!1,gt:o,ri:n.Ji(o,a.Wt),Ue:n.Ma(o),$e:n.ba(o,a.Wt),R:l.th,Ei:c,js:s}}ga(){return null!==this.oa||(this.oa=new WNe(this)),this.oa}N(){return this.Ps}cr(e){const t=this.Qt(),{priceScaleId:n,visible:r,priceFormat:a}=e;void 0!==n&&n!==this.Ps.priceScaleId&&t.Sa(this,n),void 0!==r&&r!==this.Ps.visible&&t.xa();const i=void 0!==e.conflationThresholdFactor;RSe(this.Ps,e),i&&(this.da.clear(),this.Qt().dr()),void 0!==a&&(this.va(),t.Ca()),t.ya(this),t.ka(),this.$h.kt("options")}ht(e,t){this.jt.ht(e),this.da.clear();const n=this.Qt().Et().N();n.enableConflation&&n.precomputeConflationOnInit&&this.Pa(n.precomputeConflationPriority),this.$h.kt("data"),null!==this.la&&(t&&t.Ta?this.la.Pe():0===e.length&&this.la.ke());const r=this.Qt().Kn(this);this.Qt().Ra(r),this.Qt().ya(this),this.Qt().ka(),this.Qt().dr()}Da(e){const t=new VNe(this,e);return this.ha.push(t),this.Qt().ya(this),t}Ia(e){const t=this.ha.indexOf(e);-1!==t&&this.ha.splice(t,1),this.Qt().ya(this)}Va(){return this.ha}wh(){return this.pa}Lt(){const e=this.Ba();return null===e?null:{Wt:e.Wt[3],Ea:e.wt}}Ba(){const e=this.Qt().Et().Ie();if(null===e)return null;const t=e.Aa();return this.jt.$s(t,1)}qs(){return this.jt}wa(e){this.fa=e,this.da.clear()}La(){return!!this.Qt().Et().N().enableConflation&&this.za()>1}kr(e){if(!this.La())return;const t=this.za();if(!this.da.has(t))return;const n="Custom"===this.pa,r=n&&this.fa||void 0,a=n&&this.$h.Oa?e=>{const t=e,n=this.$h.Oa(t);return Array.isArray(n)?n:["number"==typeof n?n:0]}:void 0,i=this.ca.kr(this.jt.Dh(),e,t,r,n,a),s=JNe();s.ht(i),this.da.set(t,s)}Na(){const e=this.Qt().Et().N().enableConflation;if("Custom"===this.pa&&null===this.fa)return this.jt;if(!e)return this.jt;const t=this.za(),n=this.da.get(t);return n||(this.Fa(t),this.da.get(t)??this.jt)}Wa(e){const t=this.jt.ph(e);return null===t?null:"Bar"===this.pa||"Candlestick"===this.pa||"Custom"===this.pa?{Hr:t.Wt[0],Ur:t.Wt[1],$r:t.Wt[2],qr:t.Wt[3]}:t.Wt[3]}Ha(e){const t=[];hEe(this.ua,dEe,"top",t);const n=this.la;return null!==n&&n.It()?(null===this._a&&n.Re()&&(this._a=setTimeout(()=>{this._a=null,this.Qt().Ua()},0)),n.Te(),t.unshift(n),t):t}Ys(){const e=[];this.$a()||e.push(this.aa),e.push(this.$h,this._r);const t=this.ha.map(e=>e.pr());return e.push(...t),hEe(this.ua,dEe,"normal",e),e}qa(){return this.ja(dEe,"bottom")}Ya(e){return this.ja(pEe,e)}Ka(e){return this.ja(fEe,e)}Za(e,t){return this.ua.map(n=>n.Qn(e,t)).filter(e=>null!==e)}ds(){return[this.ur,...this.ha.map(e=>e.vr())]}Ks(e,t){if(t!==this.hs&&!this.$a())return[];const n=[...this.gs];for(const r of this.ha)n.push(r.mr());return this.ua.forEach(e=>{n.push(...e.Ks())}),n}fs(){const e=[];return this.ua.forEach(t=>{e.push(...t.fs())}),e}ra(e,t){if(void 0!==this.Ps.autoscaleInfoProvider){const n=this.Ps.autoscaleInfoProvider(()=>{const n=this.Ga(e,t);return null===n?null:n.tr()});return $Ne.ir(n)}return this.Ga(e,t)}qh(){const e=this.Ps.priceFormat;return e.base??1/e.minMove}Xa(){return this.Ja}Ws(){this.$h.kt();for(const e of this.gs)e.kt();for(const e of this.ha)e.kt();this._r.kt(),this.aa.kt(),this.la?.kt(),this.ua.forEach(e=>e.Ws())}Ft(){return ISe(super.Ft())}At(e){if("Line"!==this.pa&&"Area"!==this.pa&&"Baseline"!==this.pa||!this.Ps.crosshairMarkerVisible)return null;const t=this.jt.ph(e);return null===t?null:{gt:t.Wt[3],ft:this.Qa(),Ht:this.tl(),Ot:this.il(),zt:this.sl(e)}}Ne(){return this.Ps.title}It(){return this.Ps.visible}nl(e){this.ua.push(new uEe(e,this))}el(e){this.ua=this.ua.filter(t=>t.Gh()!==e)}rl(){if("Custom"===this.pa)return e=>this.$h.Oa(e)}hl(){if("Custom"===this.pa)return e=>this.$h.al(e)}ll(){return this.jt.Bh()}$a(){return!gNe(this.Ft().ol())}Ga(e,t){if(!LSe(e)||!LSe(t)||this.jt.Gi())return null;const n="Line"===this.pa||"Area"===this.pa||"Baseline"===this.pa||"Histogram"===this.pa?[3]:[2,1],r=this.jt.Ih(e,t,n);let a=null!==r?new LNe(r.Fh,r.Wh):null,i=null;if("Histogram"===this.wh()){const e=this.Ps.base,t=new LNe(e,e);a=null!==a?a.Sn(t):t}return this.ua.forEach(n=>{const r=n.ra(e,t);if(r?.priceRange){const e=new LNe(r.priceRange.minValue,r.priceRange.maxValue);a=null!==a?a.Sn(e):e}r?.margins&&(i=r.margins)}),new $Ne(a,i)}Qa(){switch(this.pa){case"Line":case"Area":case"Baseline":return this.Ps.crosshairMarkerRadius}return 0}tl(){switch(this.pa){case"Line":case"Area":case"Baseline":{const e=this.Ps.crosshairMarkerBorderColor;if(0!==e.length)return e}}return null}il(){switch(this.pa){case"Line":case"Area":case"Baseline":return this.Ps.crosshairMarkerBorderWidth}return 0}sl(e){switch(this.pa){case"Line":case"Area":case"Baseline":{const e=this.Ps.crosshairMarkerBackgroundColor;if(0!==e.length)return e}}return this.ga().gh(e).th}va(){switch(this.Ps.priceFormat.type){case"custom":{const e=this.Ps.priceFormat.formatter;this.Ja={format:e,formatTickmarks:this.Ps.priceFormat.tickmarksFormatter??(t=>t.map(e))};break}case"volume":this.Ja=new kNe(this.Ps.priceFormat.precision);break;case"percent":this.Ja=new wNe(this.Ps.priceFormat.precision);break;default:{const e=Math.pow(10,this.Ps.priceFormat.precision);this.Ja=new vNe(e,this.Ps.priceFormat.minMove*e)}}null!==this.hs&&this.hs._l()}ja(e,t){const n=[];return hEe(this.ua,e,t,n),n}za(){const{ul:e,cl:t,dl:n}=this.fl();return this.ca.gr(e,t,n)}fl(){const e=this.Qt().Et(),t=e.ul(),n=window.devicePixelRatio||1,r=e.N().conflationThresholdFactor;return{ul:t,cl:n,dl:this.Ps.conflationThresholdFactor??r??1}}pl(e){const t=this.jt.Dh();let n;if("Custom"===this.pa&&null!==this.fa){const r=this.rl();if(!r)throw new Error("Custom series with conflation reducer must have a priceValueBuilder method");n=this.ca.Mr(t,e,this.fa,!0,e=>r(e))}else n=this.ca.Mr(t,e);const r=JNe();return r.ht(n),r}Fa(e){const t=this.pl(e);this.da.set(e,t)}Pa(e){if("Custom"===this.pa&&(null===this.fa||!this.rl()))return;this.da.clear();const t=this.Qt().Et().vl();for(const n of t){const t=()=>{this.ml(n)},r="object"==typeof window&&window||"object"==typeof self&&self;r?.gl?.wl?r.gl.wl(()=>{t()},{Ml:e}):Promise.resolve().then(()=>t())}}ml(e){if(this.da.has(e))return;if(0===this.jt.Dh().length)return;const t=this.pl(e);this.da.set(e,t)}}const yEe=[3],xEe=[0,1,2,3];class bEe{constructor(e){this.Ps=e}bl(e,t,n){let r=e;if(0===this.Ps.mode)return r;const a=n.Rs(),i=a.Lt();if(null===i)return r;const s=a.Nt(e,i),o=n.Sl().filter(e=>e instanceof gEe).reduce((e,r)=>{if(n.Zn(r)||!r.It())return e;const a=r.Ft(),i=r.qs();if(a.Gi()||!i.Ee(t))return e;const s=i.ph(t);if(null===s)return e;const o=OSe(r.Lt()),l=3===this.Ps.mode?xEe:yEe;return e.concat(l.map(e=>a.Nt(s.Wt[e],o.Wt)))},[]);if(0===o.length)return r;o.sort((e,t)=>Math.abs(e-s)-Math.abs(t-s));const l=o[0];return r=a.Ds(l,i),r}}function vEe(e,t,n){return Math.min(Math.max(e,t),n)}function wEe(e,t,n){return t-e<=n}function kEe(e){const t=Math.ceil(e);return t%2==0?t-1:t}class SEe extends qSe{constructor(){super(...arguments),this.jt=null}ht(e){this.jt=e}et({context:e,bitmapSize:t,horizontalPixelRatio:n,verticalPixelRatio:r}){if(null===this.jt)return;const a=Math.max(1,Math.floor(n));var i,s;e.lineWidth=a,s=()=>{const i=ISe(this.jt);if(i.xl){e.strokeStyle=i.Cl,CSe(e,i.yl),e.beginPath();for(const r of i.kl){const i=Math.round(r.Pl*n);e.moveTo(i,-a),e.lineTo(i,t.height+a)}e.stroke()}if(i.Tl){e.strokeStyle=i.Rl,CSe(e,i.Dl),e.beginPath();for(const n of i.Il){const i=Math.round(n.Pl*r);e.moveTo(-a,i),e.lineTo(t.width+a,i)}e.stroke()}},(i=e).save(),i.lineWidth%2&&i.translate(.5,.5),s(),i.restore()}}class NEe{constructor(e){this.Xt=new SEe,this.xt=!0,this.yt=e}kt(){this.xt=!0}Tt(){if(this.xt){const e=this.yt.Qt().N().grid,t={Tl:e.horzLines.visible,xl:e.vertLines.visible,Rl:e.horzLines.color,Cl:e.vertLines.color,Dl:e.horzLines.style,yl:e.vertLines.style,Il:this.yt.Rs().Vl(),kl:(this.yt.Qt().Et().Vl()||[]).map(e=>({Pl:e.coord}))};this.Xt.ht(t),this.xt=!1}return this.Xt}}class EEe{constructor(e){this.$h=new NEe(e)}pr(){return this.$h}}const AEe={Bl:4,El:1e-4};function CEe(e,t){const n=100*(e-t)/t;return t<0?-n:n}function jEe(e,t){const n=CEe(e.Ze(),t),r=CEe(e.Ge(),t);return new LNe(n,r)}function MEe(e,t){const n=100*(e-t)/t+100;return t<0?-n:n}function TEe(e,t){const n=MEe(e.Ze(),t),r=MEe(e.Ge(),t);return new LNe(n,r)}function IEe(e,t){const n=Math.abs(e);if(n<1e-15)return 0;const r=Math.log10(n+t.El)+t.Bl;return e<0?-r:r}function OEe(e,t){const n=Math.abs(e);if(n<1e-15)return 0;const r=Math.pow(10,n-t.Bl)-t.El;return e<0?-r:r}function PEe(e,t){if(null===e)return null;const n=IEe(e.Ze(),t),r=IEe(e.Ge(),t);return new LNe(n,r)}function REe(e,t){if(null===e)return null;const n=OEe(e.Ze(),t),r=OEe(e.Ge(),t);return new LNe(n,r)}function _Ee(e){if(null===e)return AEe;const t=Math.abs(e.Ge()-e.Ze());if(t>=1||t<1e-15)return AEe;const n=Math.ceil(Math.abs(Math.log10(t))),r=AEe.Bl+n;return{Bl:r,El:1/Math.pow(10,r)}}class LEe{constructor(e,t){if(this.Al=e,this.Ll=t,function(e){if(e<0)return!1;if(e>1e18)return!0;for(let t=e;t>1;t/=10)if(t%10!=0)return!1;return!0}(this.Al))this.zl=[2,2.5,2];else{this.zl=[];for(let e=this.Al;1!==e;){if(e%2==0)this.zl.push(2),e/=2;else{if(e%5!=0)throw new Error("unexpected base");this.zl.push(2,2.5),e/=5}if(this.zl.length>100)throw new Error("something wrong with base")}}}Ol(e,t,n){const r=0===this.Al?0:1/this.Al;let a=Math.pow(10,Math.max(0,Math.ceil(Math.log10(e-t)))),i=0,s=this.Ll[0];for(;;){const e=wEe(a,r,1e-14)&&a>r+1e-14,t=wEe(a,n*s,1e-14),o=wEe(a,1,1e-14);if(!(e&&t&&o))break;a/=s,s=this.Ll[++i%this.Ll.length]}if(a<=r+1e-14&&(a=r),a=Math.max(1,a),this.zl.length>0&&(o=a,Math.abs(o-1)<1e-14))for(i=0,s=this.zl[0];wEe(a,n*s,1e-14)&&a>r+1e-14;)a/=s,s=this.zl[++i%this.zl.length];var o;return a}}class $Ee{constructor(e,t,n,r){this.Nl=[],this.Ki=e,this.Al=t,this.Fl=n,this.Wl=r}Ol(e,t){if(e<t)throw new Error("high < low");const n=this.Ki.$t(),r=(e-t)*this.Hl()/n,a=new LEe(this.Al,[2,2.5,2]),i=new LEe(this.Al,[2,2,2.5]),s=new LEe(this.Al,[2.5,2,2]),o=[];return o.push(a.Ol(e,t,r),i.Ol(e,t,r),s.Ol(e,t,r)),function(e){if(e.length<1)throw Error("array is empty");let t=e[0];for(let n=1;n<e.length;++n)e[n]<t&&(t=e[n]);return t}(o)}Ul(){const e=this.Ki,t=e.Lt();if(null===t)return void(this.Nl=[]);const n=e.$t(),r=this.Fl(n-1,t),a=this.Fl(0,t),i=this.Ki.N().entireTextOnly?this.$l()/2:0,s=i,o=n-1-i,l=Math.max(r,a),c=Math.min(r,a);if(l===c)return void(this.Nl=[]);const u=this.Ol(l,c);if(this.ql(t,u,l,c,s,o),e.jl()&&this.Yl(u,c,l)){const e=this.Ki.Kl();this.Zl(t,u,s,o,e,2*e)}const h=this.Nl.map(e=>e.Gl),d=this.Ki.Xl(h);for(let p=0;p<this.Nl.length;p++)this.Nl[p].Jl=d[p]}Vl(){return this.Nl}$l(){return this.Ki.k()}Hl(){return Math.ceil(2.5*this.$l())}ql(e,t,n,r,a,i){const s=this.Nl,o=this.Ki;let l=n%t;l+=l<0?t:0;const c=n>=r?1:-1;let u=null,h=0;for(let d=n-l;d>r;d-=t){const n=this.Wl(d,e,!0);null!==u&&Math.abs(n-u)<this.Hl()||n<a||n>i||(h<s.length?(s[h].Pl=n,s[h].Jl=o.Ql(d),s[h].Gl=d):s.push({Pl:n,Jl:o.Ql(d),Gl:d}),h++,u=n,o.io()&&(t=this.Ol(d*c,r)))}s.length=h}Zl(e,t,n,r,a,i){const s=this.Nl,o=this.so(e,n,a,i),l=this.so(e,r,-i,-a),c=this.Wl(0,e,!0)-this.Wl(t,e,!0);s.length>0&&s[0].Pl-o.Pl<c/2&&s.shift(),s.length>0&&l.Pl-s[s.length-1].Pl<c/2&&s.pop(),s.unshift(o),s.push(l)}so(e,t,n,r){const a=(n+r)/2,i=this.Fl(t+n,e),s=this.Fl(t+r,e),o=Math.min(i,s),l=Math.max(i,s),c=Math.max(.1,this.Ol(l,o)),u=this.Fl(t+a,e),h=u-u%c,d=this.Wl(h,e,!0);return{Jl:this.Ki.Ql(h),Pl:d,Gl:h}}Yl(e,t,n){let r=OSe(this.Ki.er());return this.Ki.io()&&(r=REe(r,this.Ki.no())),r.Ze()-t<e&&n-r.Ge()<e}}function FEe(e){return e.slice().sort((e,t)=>ISe(e._s())-ISe(t._s()))}var DEe;!function(e){e[e.Normal=0]="Normal",e[e.Logarithmic=1]="Logarithmic",e[e.Percentage=2]="Percentage",e[e.IndexedTo100=3]="IndexedTo100"}(DEe||(DEe={}));const zEe=new wNe,VEe=new vNe(100,1);class BEe{constructor(e,t,n,r,a){this.eo=0,this.ro=null,this.sr=null,this.ho=null,this.ao={lo:!1,oo:null},this._o=!1,this.uo=0,this.co=0,this.do=new PSe,this.fo=new PSe,this.po=[],this.vo=null,this.mo=null,this.wo=null,this.Mo=null,this.bo=null,this.Ja=VEe,this.So=_Ee(null),this.xo=e,this.Ps=t,this.Co=n,this.yo=r,this.ko=a,this.Po=new $Ee(this,100,this.To.bind(this),this.Ro.bind(this))}ol(){return this.xo}N(){return this.Ps}cr(e){if(RSe(this.Ps,e),this._l(),void 0!==e.mode&&this.Do({ae:e.mode}),void 0!==e.scaleMargins){const t=TSe(e.scaleMargins.top),n=TSe(e.scaleMargins.bottom);if(t<0||t>1)throw new Error(`Invalid top margin - expect value between 0 and 1, given=${t}`);if(n<0||n>1)throw new Error(`Invalid bottom margin - expect value between 0 and 1, given=${n}`);if(t+n>1)throw new Error(`Invalid margins - sum of margins must be less than 1, given=${t+n}`);this.Io(),this.wo=null}}Vo(){return this.Ps.autoScale}Bo(){return this._o}io(){return 1===this.Ps.mode}He(){return 2===this.Ps.mode}Eo(){return 3===this.Ps.mode}no(){return this.So}ae(){return{ln:this.Ps.autoScale,Ao:this.Ps.invertScale,ae:this.Ps.mode}}Do(e){const t=this.ae();let n=null;void 0!==e.ln&&(this.Ps.autoScale=e.ln),void 0!==e.ae&&(this.Ps.mode=e.ae,2!==e.ae&&3!==e.ae||(this.Ps.autoScale=!0),this.ao.lo=!1),1===t.ae&&e.ae!==t.ae&&(function(e,t){if(null===e)return!1;const n=OEe(e.Ze(),t),r=OEe(e.Ge(),t);return isFinite(n)&&isFinite(r)}(this.sr,this.So)?(n=REe(this.sr,this.So),null!==n&&this.Lo(n)):this.Ps.autoScale=!0),1===e.ae&&e.ae!==t.ae&&(n=PEe(this.sr,this.So),null!==n&&this.Lo(n));const r=t.ae!==this.Ps.mode;r&&(2===t.ae||this.He())&&this._l(),r&&(3===t.ae||this.Eo())&&this._l(),void 0!==e.Ao&&t.Ao!==e.Ao&&(this.Ps.invertScale=e.Ao,this.zo()),this.fo.p(t,this.ae())}Oo(){return this.fo}k(){return this.Co.fontSize}$t(){return this.eo}No(e){this.eo!==e&&(this.eo=e,this.Io(),this.wo=null)}Fo(){if(this.ro)return this.ro;const e=this.$t()-this.Wo()-this.Ho();return this.ro=e,e}er(){return this.Uo(),this.sr}Lo(e,t){const n=this.sr;(t||null===n&&null!==e||null!==n&&!n.Ye(e))&&(this.wo=null,this.sr=e)}$o(e){this.Lo(e),this.qo(null!==e)}Gi(){return this.Uo(),0===this.eo||!this.sr||this.sr.Gi()}jo(e){return this.Ao()?e:this.$t()-1-e}Nt(e,t){return this.He()?e=CEe(e,t):this.Eo()&&(e=MEe(e,t)),this.Ro(e,t)}Yo(e,t,n){this.Uo();const r=this.Ho(),a=ISe(this.er()),i=a.Ze(),s=a.Ge(),o=this.Fo()-1,l=this.Ao(),c=o/(s-i),u=void 0===n?0:n.from,h=void 0===n?e.length:n.to,d=this.Ko();for(let p=u;p<h;p++){const n=e[p],a=n.gt;if(isNaN(a))continue;let s=a;null!==d&&(s=d(n.gt,t));const o=r+c*(s-i),u=l?o:this.eo-1-o;n.ut=u}}Zo(e,t,n){this.Uo();const r=this.Ho(),a=ISe(this.er()),i=a.Ze(),s=a.Ge(),o=this.Fo()-1,l=this.Ao(),c=o/(s-i),u=void 0===n?0:n.from,h=void 0===n?e.length:n.to,d=this.Ko();for(let p=u;p<h;p++){const n=e[p];let a=n.Hr,s=n.Ur,o=n.$r,u=n.qr;null!==d&&(a=d(n.Hr,t),s=d(n.Ur,t),o=d(n.$r,t),u=d(n.qr,t));let h=r+c*(a-i),f=l?h:this.eo-1-h;n.Go=f,h=r+c*(s-i),f=l?h:this.eo-1-h,n.Xo=f,h=r+c*(o-i),f=l?h:this.eo-1-h,n.Jo=f,h=r+c*(u-i),f=l?h:this.eo-1-h,n.Qo=f}}Ds(e,t){const n=this.To(e,t);return this.t_(n,t)}t_(e,t){let n=e;return this.He()?(r=n,(a=t)<0&&(r=-r),n=r/100*a+a):this.Eo()&&(n=function(e,t){return e-=100,t<0&&(e=-e),e/100*t+t}(n,t)),n;var r,a}Sl(){return this.po}Dt(){return this.mo||(this.mo=FEe(this.po)),this.mo}i_(e){-1===this.po.indexOf(e)&&(this.po.push(e),this._l(),this.s_())}n_(e){const t=this.po.indexOf(e);if(-1===t)throw new Error("source is not attached to scale");this.po.splice(t,1),0===this.po.length&&(this.Do({ln:!0}),this.Lo(null)),this._l(),this.s_()}Lt(){let e=null;for(const t of this.po){const n=t.Lt();null!==n&&(null===e||n.Ea<e.Ea)&&(e=n)}return null===e?null:e.Wt}Ao(){return this.Ps.invertScale}Vl(){const e=null===this.Lt();if(null!==this.wo&&(e||this.wo.e_===e))return this.wo.Vl;this.Po.Ul();const t=this.Po.Vl();return this.wo={Vl:t,e_:e},this.do.p(),t}r_(){return this.do}h_(e){this.He()||this.Eo()||null===this.Mo&&null===this.ho&&(this.Gi()||(this.Mo=this.eo-e,this.ho=ISe(this.er()).Ke()))}a_(e){if(this.He()||this.Eo())return;if(null===this.Mo)return;this.Do({ln:!1}),(e=this.eo-e)<0&&(e=0);let t=(this.Mo+.2*(this.eo-1))/(e+.2*(this.eo-1));const n=ISe(this.ho).Ke();t=Math.max(t,.1),n.Je(t),this.Lo(n)}l_(){this.He()||this.Eo()||(this.Mo=null,this.ho=null)}o_(e){this.Vo()||null===this.bo&&null===this.ho&&(this.Gi()||(this.bo=e,this.ho=ISe(this.er()).Ke()))}__(e){if(this.Vo())return;if(null===this.bo)return;const t=ISe(this.er()).Xe()/(this.Fo()-1);let n=e-this.bo;this.Ao()&&(n*=-1);const r=n*t,a=ISe(this.ho).Ke();a.Qe(r),this.Lo(a,!0),this.wo=null}u_(){this.Vo()||null!==this.bo&&(this.bo=null,this.ho=null)}Xa(){return this.Ja||this._l(),this.Ja}Ji(e,t){switch(this.Ps.mode){case 2:return this.c_(CEe(e,t));case 3:return this.Xa().format(MEe(e,t));default:return this.lr(e)}}Ql(e){switch(this.Ps.mode){case 2:return this.c_(e);case 3:return this.Xa().format(e);default:return this.lr(e)}}Xl(e){switch(this.Ps.mode){case 2:return this.d_(e);case 3:return this.Xa().formatTickmarks(e);default:return this.f_(e)}}Ma(e){return this.lr(e,ISe(this.vo).Xa())}ba(e,t){return e=CEe(e,t),this.c_(e,zEe)}p_(){return this.po}v_(e){this.ao={oo:e,lo:!1}}Ws(){this.po.forEach(e=>e.Ws())}jl(){return this.Ps.ensureEdgeTickMarksVisible&&this.Vo()}Kl(){return this.k()/2}_l(){this.wo=null;let e=1/0;this.vo=null;for(const n of this.po)n._s()<e&&(e=n._s(),this.vo=n);let t=100;null!==this.vo&&(t=Math.round(this.vo.qh())),this.Ja=VEe,this.He()?(this.Ja=zEe,t=100):this.Eo()?(this.Ja=new vNe(100,1),t=100):null!==this.vo&&(this.Ja=this.vo.Xa()),this.Po=new $Ee(this,t,this.To.bind(this),this.Ro.bind(this)),this.Po.Ul()}s_(){this.mo=null}m_(){return null===this.vo||this.He()||this.Eo()?1:1/this.vo.qh()}Xi(){return this.ko}qo(e){this._o=e}Wo(){return this.Ao()?this.Ps.scaleMargins.bottom*this.$t()+this.co:this.Ps.scaleMargins.top*this.$t()+this.uo}Ho(){return this.Ao()?this.Ps.scaleMargins.top*this.$t()+this.uo:this.Ps.scaleMargins.bottom*this.$t()+this.co}Uo(){this.ao.lo||(this.ao.lo=!0,this.w_())}Io(){this.ro=null}Ro(e,t){if(this.Uo(),this.Gi())return 0;e=this.io()&&e?IEe(e,this.So):e;const n=ISe(this.er()),r=this.Ho()+(this.Fo()-1)*(e-n.Ze())/n.Xe();return this.jo(r)}To(e,t){if(this.Uo(),this.Gi())return 0;const n=this.jo(e),r=ISe(this.er()),a=r.Ze()+r.Xe()*((n-this.Ho())/(this.Fo()-1));return this.io()?OEe(a,this.So):a}zo(){this.wo=null,this.Po.Ul()}w_(){if(this.Bo()&&!this.Vo())return;const e=this.ao.oo;if(null===e)return;let t=null;const n=this.p_();let r=0,a=0;for(const o of n){if(!o.It())continue;const n=o.Lt();if(null===n)continue;const i=o.ra(e.Aa(),e.bi());let s=i&&i.er();if(null!==s){switch(this.Ps.mode){case 1:s=PEe(s,this.So);break;case 2:s=jEe(s,n.Wt);break;case 3:s=TEe(s,n.Wt)}if(t=null===t?s:t.Sn(ISe(s)),null!==i){const e=i.rr();null!==e&&(r=Math.max(r,e.above),a=Math.max(a,e.below))}}}if(this.jl()&&(r=Math.max(r,this.Kl()),a=Math.max(a,this.Kl())),r===this.uo&&a===this.co||(this.uo=r,this.co=a,this.wo=null,this.Io()),null!==t){if(t.Ze()===t.Ge()){const e=5*this.m_();this.io()&&(t=REe(t,this.So)),t=new LNe(t.Ze()-e,t.Ge()+e),this.io()&&(t=PEe(t,this.So))}if(this.io()){const e=REe(t,this.So),n=_Ee(e);if(i=n,s=this.So,i.Bl!==s.Bl||i.El!==s.El){const r=null!==this.ho?REe(this.ho,this.So):null;this.So=n,t=PEe(e,n),null!==r&&(this.ho=PEe(r,n))}}this.Lo(t)}else null===this.sr&&(this.Lo(new LNe(-.5,.5)),this.So=_Ee(null));var i,s}Ko(){return this.He()?CEe:this.Eo()?MEe:this.io()?e=>IEe(e,this.So):null}g_(e,t,n){return void 0===t?(void 0===n&&(n=this.Xa()),n.format(e)):t(e)}M_(e,t,n){return void 0===t?(void 0===n&&(n=this.Xa()),n.formatTickmarks(e)):t(e)}lr(e,t){return this.g_(e,this.yo.priceFormatter,t)}f_(e,t){const n=this.yo.priceFormatter;return this.M_(e,this.yo.tickmarksPriceFormatter??(n?e=>e.map(n):void 0),t)}c_(e,t){return this.g_(e,this.yo.percentageFormatter,t)}d_(e,t){const n=this.yo.percentageFormatter;return this.M_(e,this.yo.tickmarksPercentageFormatter??(n?e=>e.map(n):void 0),t)}}function HEe(e){return e instanceof gEe}class UEe{constructor(e,t){this.po=[],this.b_=new Map,this.eo=0,this.S_=0,this.x_=1,this.mo=null,this.C_=!1,this.y_=new PSe,this.ua=[],this.Jh=e,this.ns=t,this.k_=new EEe(this);const n=t.N();this.P_=this.T_("left",n.leftPriceScale),this.R_=this.T_("right",n.rightPriceScale),this.P_.Oo().i(this.D_.bind(this,this.P_),this),this.R_.Oo().i(this.D_.bind(this,this.R_),this),this.I_(n)}I_(e){if(e.leftPriceScale&&this.P_.cr(e.leftPriceScale),e.rightPriceScale&&this.R_.cr(e.rightPriceScale),e.localization&&(this.P_._l(),this.R_._l()),e.overlayPriceScales){const t=Array.from(this.b_.values());for(const n of t){const t=ISe(n[0].Ft());t.cr(e.overlayPriceScales),e.localization&&t._l()}}}V_(e){switch(e){case"left":return this.P_;case"right":return this.R_}return this.b_.has(e)?TSe(this.b_.get(e))[0].Ft():null}m(){this.Qt().B_().u(this),this.P_.Oo().u(this),this.R_.Oo().u(this),this.po.forEach(e=>{e.m&&e.m()}),this.ua=this.ua.filter(e=>{const t=e.Gh();return t.detached&&t.detached(),!1}),this.y_.p()}E_(){return this.x_}A_(e){this.x_=e}Qt(){return this.ns}ss(){return this.S_}$t(){return this.eo}L_(e){this.S_=e,this.z_()}No(e){this.eo=e,this.P_.No(e),this.R_.No(e),this.po.forEach(t=>{if(this.Zn(t)){const n=t.Ft();null!==n&&n.No(e)}}),this.z_()}O_(e){this.C_=e}N_(){return this.C_}F_(){return this.po.filter(HEe)}Sl(){return this.po}Zn(e){const t=e.Ft();return null===t||this.P_!==t&&this.R_!==t}i_(e,t,n){this.W_(e,t,n?e._s():this.po.length)}n_(e,t){const n=this.po.indexOf(e);MSe(-1!==n,"removeDataSource: invalid data source"),this.po.splice(n,1),t||this.po.forEach((e,t)=>e.us(t));const r=ISe(e.Ft()).ol();if(this.b_.has(r)){const t=TSe(this.b_.get(r)),n=t.indexOf(e);-1!==n&&(t.splice(n,1),0===t.length&&this.b_.delete(r))}const a=e.Ft();a&&a.Sl().indexOf(e)>=0&&(a.n_(e),this.H_(a)),this.mo=null}Xn(e){return e===this.P_?"left":e===this.R_?"right":"overlay"}U_(){return this.P_}q_(){return this.R_}j_(e,t){e.h_(t)}Y_(e,t){e.a_(t),this.z_()}K_(e){e.l_()}Z_(e,t){e.o_(t)}G_(e,t){e.__(t),this.z_()}X_(e){e.u_()}z_(){this.po.forEach(e=>{e.Ws()})}Rs(){let e=null;return this.ns.N().rightPriceScale.visible&&0!==this.R_.Sl().length?e=this.R_:this.ns.N().leftPriceScale.visible&&0!==this.P_.Sl().length?e=this.P_:0!==this.po.length&&(e=this.po[0].Ft()),null===e&&(e=this.R_),e}Gn(){let e=null;return this.ns.N().rightPriceScale.visible?e=this.R_:this.ns.N().leftPriceScale.visible&&(e=this.P_),e}H_(e){null!==e&&e.Vo()&&this.J_(e)}Q_(e){const t=this.Jh.Ie();e.Do({ln:!0}),null!==t&&e.v_(t),this.z_()}tu(){this.J_(this.P_),this.J_(this.R_)}iu(){this.H_(this.P_),this.H_(this.R_),this.po.forEach(e=>{this.Zn(e)&&this.H_(e.Ft())}),this.z_(),this.ns.dr()}Dt(){return null===this.mo&&(this.mo=FEe(this.po)),this.mo}su(e,t){t=vEe(t,0,this.po.length-1);const n=this.po.indexOf(e);MSe(-1!==n,"setSeriesOrder: invalid data source"),this.po.splice(n,1),this.po.splice(t,0,e),this.po.forEach((e,t)=>e.us(t)),this.mo=null;for(const r of[this.P_,this.R_])r.s_(),r._l();this.ns.dr()}Vt(){return this.Dt().filter(HEe)}nu(){return this.y_}eu(){return this.k_}nl(e){this.ua.push(new aEe(e))}el(e){this.ua=this.ua.filter(t=>t.Gh()!==e),e.detached&&e.detached(),this.ns.dr()}ru(){return this.ua}Za(e,t){return this.ua.map(n=>n.Qn(e,t)).filter(e=>null!==e)}J_(e){const t=e.p_();if(t&&t.length>0&&!this.Jh.Gi()){const t=this.Jh.Ie();null!==t&&e.v_(t)}e.Ws()}W_(e,t,n){let r=this.V_(t);if(null===r&&(r=this.T_(t,this.ns.N().overlayPriceScales)),this.po.splice(n,0,e),!gNe(t)){const n=this.b_.get(t)||[];n.push(e),this.b_.set(t,n)}e.us(n),r.i_(e),e.cs(r),this.H_(r),this.mo=null}D_(e,t,n){t.ae!==n.ae&&this.J_(e)}T_(e,t){const n={visible:!0,autoScale:!0,...DSe(t)},r=new BEe(e,n,this.ns.N().layout,this.ns.N().localization,this.ns.Xi());return r.No(this.$t()),r}}function WEe(e){return{hu:e.hu,au:{te:e.lu.externalId},ou:e.lu.cursorStyle}}function ZEe(e,t,n,r){for(const a of e){const e=a.Tt(r);if(null!==e&&e.Qn){const r=e.Qn(t,n);if(null!==r)return{_u:a,au:r}}}return null}function GEe(e){return void 0!==e.Ys}function KEe(e,t,n){const r=[e,...e.Dt()],a=function(e,t,n){let r,a;for(const o of e){const e=o.Za?.(t,n)??[];for(const t of e)i=t.zOrder,s=r?.zOrder,(!s||"top"===i&&"top"!==s||"normal"===i&&"bottom"===s)&&(r=t,a=o)}var i,s;return r&&a?{lu:r,hu:a}:null}(r,t,n);if("top"===a?.lu.zOrder)return WEe(a);for(const i of r){if(a&&a.hu===i&&"bottom"!==a.lu.zOrder&&!a.lu.isBackground)return WEe(a);if(GEe(i)){const r=ZEe(i.Ys(e),t,n,e);if(null!==r)return{hu:i,_u:r._u,au:r.au}}if(a&&a.hu===i&&"bottom"!==a.lu.zOrder&&a.lu.isBackground)return WEe(a)}return a?.lu?WEe(a):null}class qEe{constructor(e,t,n=50){this.Vn=0,this.Bn=1,this.En=1,this.Ln=new Map,this.An=new Map,this.uu=e,this.cu=t,this.zn=n}du(e){const t=e.time,n=this.cu.cacheKey(t),r=this.Ln.get(n);if(void 0!==r)return r.fu;if(this.Vn===this.zn){const e=this.An.get(this.En);this.An.delete(this.En),this.Ln.delete(TSe(e)),this.En++,this.Vn--}const a=this.uu(e);return this.Ln.set(n,{fu:a,Wn:this.Bn}),this.An.set(this.Bn,n),this.Vn++,this.Bn++,a}}class XEe{constructor(e,t){MSe(e<=t,"right should be >= left"),this.pu=e,this.vu=t}Aa(){return this.pu}bi(){return this.vu}mu(){return this.vu-this.pu+1}Ee(e){return this.pu<=e&&e<=this.vu}Ye(e){return this.pu===e.Aa()&&this.vu===e.bi()}}function YEe(e,t){return null===e||null===t?e===t:e.Ye(t)}class QEe{constructor(){this.wu=new Map,this.Ln=null,this.gu=!1}Mu(e){this.gu=e,this.Ln=null}bu(e,t){this.Su(t),this.Ln=null;for(let n=t;n<e.length;++n){const t=e[n];let r=this.wu.get(t.timeWeight);void 0===r&&(r=[],this.wu.set(t.timeWeight,r)),r.push({index:n,time:t.time,weight:t.timeWeight,originalTime:t.originalTime})}}xu(e,t,n,r,a){const i=Math.ceil(t/e);return null!==this.Ln&&this.Ln.Cu===i&&a===this.Ln.yu&&n===this.Ln.ku||(this.Ln={yu:a,ku:n,Vl:this.Pu(i,n,r),Cu:i}),this.Ln.Vl}Su(e){if(0===e)return void this.wu.clear();const t=[];this.wu.forEach((n,r)=>{e<=n[0].index?t.push(r):n.splice(GNe(n,e,t=>t.index<e),1/0)});for(const n of t)this.wu.delete(n)}Pu(e,t,n){let r=[];const a=e=>!t||n.has(e.index);for(const i of Array.from(this.wu.keys()).sort((e,t)=>t-e)){if(!this.wu.get(i))continue;const t=r;r=[];const n=t.length;let s=0;const o=TSe(this.wu.get(i)),l=o.length;let c=1/0,u=-1/0;for(let i=0;i<l;i++){const l=o[i],h=l.index;for(;s<n;){const e=t[s],n=e.index;if(!(n<h&&a(e))){c=n;break}s++,r.push(e),u=n,c=1/0}if(c-h>=e&&h-u>=e&&a(l))r.push(l),u=h;else if(this.gu)return t}for(;s<n;s++)a(t[s])&&r.push(t[s])}return r}}class JEe{constructor(e){this.Tu=e}Ru(){return null===this.Tu?null:new XEe(Math.floor(this.Tu.Aa()),Math.ceil(this.Tu.bi()))}Du(){return this.Tu}static Iu(){return new JEe(null)}}function eAe(e,t){return e.weight>t.weight?e:t}class tAe{constructor(e,t,n,r){this.S_=0,this.Vu=null,this.Bu=[],this.bo=null,this.Mo=null,this.Eu=new QEe,this.Au=new Map,this.Lu=JEe.Iu(),this.zu=!0,this.Ou=new PSe,this.Nu=new PSe,this.Fu=new PSe,this.Wu=null,this.Hu=null,this.Uu=new Map,this.$u=-1,this.qu=[],this.ju=1,this.Ps=t,this.yo=n,this.Yu=t.rightOffset,this.Ku=t.barSpacing,this.ns=e,this.Zu(t),this.cu=r,this.Gu(),this.Eu.Mu(t.uniformDistribution),this.Xu(),this.Ju()}N(){return this.Ps}Qu(e){RSe(this.yo,e),this.tc(),this.Gu()}cr(e,t){RSe(this.Ps,e),this.Ps.fixLeftEdge&&this.sc(),this.Ps.fixRightEdge&&this.nc(),void 0!==e.barSpacing&&this.ns.gn(e.barSpacing),void 0!==e.rightOffset&&this.ns.Mn(e.rightOffset),this.Zu(e),void 0===e.minBarSpacing&&void 0===e.maxBarSpacing||this.ns.gn(e.barSpacing??this.Ku),void 0!==e.ignoreWhitespaceIndices&&e.ignoreWhitespaceIndices!==this.Ps.ignoreWhitespaceIndices&&this.Ju(),this.tc(),this.Gu(),void 0===e.enableConflation&&void 0===e.conflationThresholdFactor||this.Xu(),this.Fu.p()}Is(e){return this.Bu[e]?.time??null}es(e){return this.Bu[e]??null}ec(e,t){if(this.Bu.length<1)return null;if(this.cu.key(e)>this.cu.key(this.Bu[this.Bu.length-1].time))return t?this.Bu.length-1:null;const n=GNe(this.Bu,this.cu.key(e),(e,t)=>this.cu.key(e.time)<t);return this.cu.key(e)<this.cu.key(this.Bu[n].time)?t?n:null:n}Gi(){return 0===this.S_||0===this.Bu.length||null===this.Vu}rc(){return this.Bu.length>0}Ie(){return this.hc(),this.Lu.Ru()}ac(){return this.hc(),this.Lu.Du()}lc(){const e=this.Ie();if(null===e)return null;const t={from:e.Aa(),to:e.bi()};return this.oc(t)}oc(e){const t=Math.round(e.from),n=Math.round(e.to),r=ISe(this._c()),a=ISe(this.uc());return{from:ISe(this.es(Math.max(r,t))),to:ISe(this.es(Math.min(a,n)))}}cc(e){return{from:ISe(this.ec(e.from,!0)),to:ISe(this.ec(e.to,!0))}}ss(){return this.S_}L_(e){if(!isFinite(e)||e<=0)return;if(this.S_===e)return;const t=this.ac(),n=this.S_;if(this.S_=e,this.zu=!0,this.Ps.lockVisibleTimeRangeOnResize&&0!==n){const t=this.Ku*e/n;this.Ku=t}if(this.Ps.fixLeftEdge&&null!==t&&t.Aa()<=0){const t=n-e;this.Yu-=Math.round(t/this.Ku)+1,this.zu=!0}this.dc(),this.fc()}qt(e){if(this.Gi()||!LSe(e))return 0;const t=this.vc()+this.Yu-e;return this.S_-(t+.5)*this.Ku-1}mc(e,t){const n=this.vc(),r=void 0===t?0:t.from,a=void 0===t?e.length:t.to;for(let i=r;i<a;i++){const t=e[i].wt,r=n+this.Yu-t,a=this.S_-(r+.5)*this.Ku-1;e[i]._t=a}}wc(e,t){const n=Math.ceil(this.gc(e));return t&&this.Ps.ignoreWhitespaceIndices&&!this.Mc(n)?this.bc(n):n}Mn(e){this.zu=!0,this.Yu=e,this.fc(),this.ns.Sc(),this.ns.dr()}ul(){return this.Ku}gn(e){const t=this.Ku;if(this.xc(e),void 0!==this.Ps.rightOffsetPixels&&0!==t){const e=this.Yu*t/this.Ku;this.Yu=e}this.fc(),this.ns.Sc(),this.ns.dr()}Cc(){return this.Yu}Vl(){if(this.Gi())return null;if(null!==this.Hu)return this.Hu;const e=this.Ku,t=5*(this.ns.N().layout.fontSize+4)/8*(this.Ps.tickMarkMaxCharacterLength||8),n=Math.round(t/e),r=ISe(this.Ie()),a=Math.max(r.Aa(),r.Aa()-n),i=Math.max(r.bi(),r.bi()-n),s=this.Eu.xu(e,t,this.Ps.ignoreWhitespaceIndices,this.Uu,this.$u),o=this._c()+n,l=this.uc()-n,c=this.yc(),u=this.Ps.fixLeftEdge||c,h=this.Ps.fixRightEdge||c;let d=0;for(const p of s){if(!(a<=p.index&&p.index<=i))continue;let e;d<this.qu.length?(e=this.qu[d],e.coord=this.qt(p.index),e.label=this.kc(p),e.weight=p.weight):(e={needAlignCoordinate:!1,coord:this.qt(p.index),label:this.kc(p),weight:p.weight},this.qu.push(e)),this.Ku>t/2&&!c?e.needAlignCoordinate=!1:e.needAlignCoordinate=u&&p.index<=o||h&&p.index>=l,d++}return this.qu.length=d,this.Hu=this.qu,this.qu}Pc(){let e;this.zu=!0,this.gn(this.Ps.barSpacing),e=void 0!==this.Ps.rightOffsetPixels?this.Ps.rightOffsetPixels/this.ul():this.Ps.rightOffset,this.Mn(e)}Tc(e){this.zu=!0,this.Vu=e,this.fc(),this.sc()}Rc(e,t){const n=this.gc(e),r=this.ul(),a=r+t*(r/10);this.gn(a),this.Ps.rightBarStaysOnScroll||this.Mn(this.Cc()+(n-this.gc(e)))}h_(e){this.bo&&this.u_(),null===this.Mo&&null===this.Wu&&(this.Gi()||(this.Mo=e,this.Dc()))}a_(e){if(null===this.Wu)return;const t=vEe(this.S_-e,0,this.S_),n=vEe(this.S_-ISe(this.Mo),0,this.S_);0!==t&&0!==n&&this.gn(this.Wu.ul*t/n)}l_(){null!==this.Mo&&(this.Mo=null,this.Ic())}o_(e){null===this.bo&&null===this.Wu&&(this.Gi()||(this.bo=e,this.Dc()))}__(e){if(null===this.bo)return;const t=(this.bo-e)/this.ul();this.Yu=ISe(this.Wu).Cc+t,this.zu=!0,this.fc()}u_(){null!==this.bo&&(this.bo=null,this.Ic())}Vc(){this.Bc(this.Ps.rightOffset)}Bc(e,t=400){if(!isFinite(e))throw new RangeError("offset is required and must be finite number");if(!isFinite(t)||t<=0)throw new RangeError("animationDuration (optional) must be finite positive number");const n=this.Yu,r=performance.now();this.ns.vn({Ec:e=>(e-r)/t>=1,Ac:a=>{const i=(a-r)/t;return i>=1?e:n+(e-n)*i}})}kt(e,t){this.zu=!0,this.Bu=e,this.Eu.bu(e,t),this.fc()}Lc(){return this.Ou}zc(){return this.Nu}Oc(){return this.Fu}vc(){return this.Vu||0}Nc(e,t){const n=e.mu(),r=t&&this.Ps.rightOffsetPixels||0;this.xc((this.S_-r)/n),this.Yu=e.bi()-this.vc(),t&&(this.Yu=r?r/this.ul():this.Ps.rightOffset),this.fc(),this.zu=!0,this.ns.Sc(),this.ns.dr()}Fc(){const e=this._c(),t=this.uc();if(null===e||null===t)return;const n=!this.Ps.rightOffsetPixels&&this.Ps.rightOffset||0;this.Nc(new XEe(e,t+n),!0)}Wc(e){const t=new XEe(e.from,e.to);this.Nc(t)}rs(e){return void 0!==this.yo.timeFormatter?this.yo.timeFormatter(e.originalTime):this.cu.formatHorzItem(e.time)}Ju(){if(!this.Ps.ignoreWhitespaceIndices)return;this.Uu.clear();const e=this.ns.tn();for(const t of e)for(const e of t.ll())this.Uu.set(e,!0);this.$u++}Hc(){return this.ju}vl(){const e=1/(window.devicePixelRatio||1),t=this.Ps.minBarSpacing;if(t>=e)return[1];const n=[1];let r=2;for(;r<=512;)t<e/r&&n.push(r),r*=2;return n}yc(){const e=this.ns.N().handleScroll,t=this.ns.N().handleScale;return!(e.horzTouchDrag||e.mouseWheel||e.pressedMouseMove||e.vertTouchDrag||t.axisDoubleClickReset.time||t.axisPressedMouseMove.time||t.mouseWheel||t.pinch)}_c(){return 0===this.Bu.length?null:0}uc(){return 0===this.Bu.length?null:this.Bu.length-1}Uc(e){return(this.S_-1-e)/this.Ku}gc(e){const t=this.Uc(e),n=this.vc()+this.Yu-t;return Math.round(1e6*n)/1e6}xc(e){const t=this.Ku;this.Ku=e,this.dc(),t!==this.Ku&&(this.zu=!0,this.$c(),this.Xu())}hc(){if(!this.zu)return;if(this.zu=!1,this.Gi())return void this.qc(JEe.Iu());const e=this.vc(),t=this.S_/this.Ku,n=this.Yu+e,r=new XEe(n-t+1,n);this.qc(new JEe(r))}dc(){const e=vEe(this.Ku,this.jc(),this.Yc());this.Ku!==e&&(this.Ku=e,this.zu=!0)}Yc(){return this.Ps.maxBarSpacing>0?this.Ps.maxBarSpacing:.5*this.S_}jc(){return this.Ps.fixLeftEdge&&this.Ps.fixRightEdge&&0!==this.Bu.length?this.S_/this.Bu.length:this.Ps.minBarSpacing}Xu(){if(!this.Ps.enableConflation)return void(this.ju=1);const e=1/(window.devicePixelRatio||1)*(this.Ps.conflationThresholdFactor??1);if(this.Ku>=e)return void(this.ju=1);const t=e/this.Ku,n=Math.pow(2,Math.floor(Math.log2(t)));this.ju=Math.min(n,512)}fc(){const e=this.Kc();null!==e&&this.Yu<e&&(this.Yu=e,this.zu=!0);const t=this.Zc();this.Yu>t&&(this.Yu=t,this.zu=!0)}Kc(){const e=this._c(),t=this.Vu;return null===e||null===t?null:e-t-1+(this.Ps.fixLeftEdge?this.S_/this.Ku:Math.min(2,this.Bu.length))}Zc(){return this.Ps.fixRightEdge?0:this.S_/this.Ku-Math.min(2,this.Bu.length)}Dc(){this.Wu={ul:this.ul(),Cc:this.Cc()}}Ic(){this.Wu=null}kc(e){let t=this.Au.get(e.weight);return void 0===t&&(t=new qEe(e=>this.Gc(e),this.cu),this.Au.set(e.weight,t)),t.du(e)}Gc(e){return this.cu.formatTickmark(e,this.yo)}qc(e){const t=this.Lu;this.Lu=e,YEe(t.Ru(),this.Lu.Ru())||this.Ou.p(),YEe(t.Du(),this.Lu.Du())||this.Nu.p(),this.$c()}$c(){this.Hu=null}tc(){this.$c(),this.Au.clear()}Gu(){this.cu.updateFormatter(this.yo)}sc(){if(!this.Ps.fixLeftEdge)return;const e=this._c();if(null===e)return;const t=this.Ie();if(null===t)return;const n=t.Aa()-e;if(n<0){const e=this.Yu-n-1;this.Mn(e)}this.dc()}nc(){this.fc(),this.dc()}Mc(e){return!this.Ps.ignoreWhitespaceIndices||this.Uu.get(e)||!1}bc(e){const t=function*(e){const t=Math.round(e),n=t<e;let r=1;for(;;)n?(yield t+r,yield t-r):(yield t-r,yield t+r),r++}(e),n=this.uc();for(;n;){const e=t.next().value;if(this.Uu.get(e))return e;if(e<0||e>n)break}return e}Zu(e){if(void 0!==e.rightOffsetPixels){const t=e.rightOffsetPixels/(e.barSpacing||this.Ku);this.ns.Mn(t)}}}var nAe,rAe,aAe,iAe,sAe;!function(e){e[e.OnTouchEnd=0]="OnTouchEnd",e[e.OnNextTap=1]="OnNextTap"}(nAe||(nAe={}));class oAe{constructor(e,t,n){this.Xc=[],this.Jc=[],this.Qc=null,this.S_=0,this.td=null,this.sd=new PSe,this.nd=new PSe,this.ed=null,this.rd=e,this.Ps=t,this.cu=n,this.ko=new GSe(this.Ps.layout.colorParsers),this.hd=new USe(this),this.Jh=new tAe(this,t.timeScale,this.Ps.localization,n),this.Ct=new mNe(this,t.crosshair),this.ad=new bEe(t.crosshair),t.addDefaultPane&&(this.ld(0),this.Xc[0].A_(2)),this.od=this._d(0),this.ud=this._d(1)}Ca(){this.dd(yNe.yn())}dr(){this.dd(yNe.Cn())}Ua(){this.dd(new yNe(1))}ya(e){const t=this.fd(e);this.dd(t)}pd(){return this.td}vd(e){if(this.td?.hu===e?.hu&&this.td?.au?.te===e?.au?.te)return;const t=this.td;this.td=e,null!==t&&this.ya(t.hu),null!==e&&e.hu!==t?.hu&&this.ya(e.hu)}N(){return this.Ps}cr(e){RSe(this.Ps,e),this.Xc.forEach(t=>t.I_(e)),void 0!==e.timeScale&&this.Jh.cr(e.timeScale),void 0!==e.localization&&this.Jh.Qu(e.localization),(e.leftPriceScale||e.rightPriceScale)&&this.sd.p(),this.od=this._d(0),this.ud=this._d(1),this.Ca()}md(e,t,n=0){const r=this.Xc[n];if(void 0===r)return;if("left"===e)return RSe(this.Ps,{leftPriceScale:t}),r.I_({leftPriceScale:t}),this.sd.p(),void this.Ca();if("right"===e)return RSe(this.Ps,{rightPriceScale:t}),r.I_({rightPriceScale:t}),this.sd.p(),void this.Ca();const a=this.wd(e,n);null!==a&&(a.Ft.cr(t),this.sd.p())}wd(e,t){const n=this.Xc[t];if(void 0===n)return null;const r=n.V_(e);return null!==r?{Gs:n,Ft:r}:null}Et(){return this.Jh}Xs(){return this.Xc}gd(){return this.Ct}Md(){return this.nd}bd(e,t){e.No(t),this.Sc()}L_(e){this.S_=e,this.Jh.L_(this.S_),this.Xc.forEach(t=>t.L_(e)),this.Sc()}Sd(e){1!==this.Xc.length&&(MSe(e>=0&&e<this.Xc.length,"Invalid pane index"),this.Xc.splice(e,1),this.Ca())}xd(e,t){if(this.Xc.length<2)return;MSe(e>=0&&e<this.Xc.length,"Invalid pane index");const n=this.Xc[e],r=this.Xc.reduce((e,t)=>e+t.E_(),0),a=this.Xc.reduce((e,t)=>e+t.$t(),0),i=a-30*(this.Xc.length-1);t=Math.min(i,Math.max(30,t));const s=r/a,o=n.$t();n.A_(t*s);let l=t-o,c=this.Xc.length-1;for(const u of this.Xc)if(u!==n){const e=Math.min(i,Math.max(30,u.$t()-l/c));l-=u.$t()-e,c-=1;const t=e*s;u.A_(t)}this.Ca()}Cd(e,t){MSe(e>=0&&e<this.Xc.length&&t>=0&&t<this.Xc.length,"Invalid pane index");const n=this.Xc[e],r=this.Xc[t];this.Xc[e]=r,this.Xc[t]=n,this.Ca()}yd(e,t){if(MSe(e>=0&&e<this.Xc.length&&t>=0&&t<this.Xc.length,"Invalid pane index"),e===t)return;const[n]=this.Xc.splice(e,1);this.Xc.splice(t,0,n),this.Ca()}j_(e,t,n){e.j_(t,n)}Y_(e,t,n){e.Y_(t,n),this.ka(),this.dd(this.kd(e,2))}K_(e,t){e.K_(t),this.dd(this.kd(e,2))}Z_(e,t,n){t.Vo()||e.Z_(t,n)}G_(e,t,n){t.Vo()||(e.G_(t,n),this.ka(),this.dd(this.kd(e,2)))}X_(e,t){t.Vo()||(e.X_(t),this.dd(this.kd(e,2)))}Q_(e,t){e.Q_(t),this.dd(this.kd(e,2))}Pd(e){this.Jh.h_(e)}Td(e,t){const n=this.Et();if(n.Gi()||0===t)return;const r=n.ss();e=Math.max(1,Math.min(e,r)),n.Rc(e,t),this.Sc()}Rd(e){this.Dd(0),this.Id(e),this.Vd()}Bd(e){this.Jh.a_(e),this.Sc()}Ed(){this.Jh.l_(),this.dr()}Dd(e){this.Jh.o_(e)}Id(e){this.Jh.__(e),this.Sc()}Vd(){this.Jh.u_(),this.dr()}tn(){return this.Jc}Us(){return null===this.Qc&&(this.Qc=this.Jc.filter(e=>e.It())),this.Qc}xa(){this.Qc=null}Ad(e,t,n,r,a){this.Ct.Bs(e,t);let i=NaN,s=this.Jh.wc(e,!0);const o=this.Jh.Ie();null!==o&&(s=Math.min(Math.max(o.Aa(),s),o.bi())),s=this.Ct.Hs(s);const l=r.Rs(),c=l.Lt();if(null!==c&&(i=l.Ds(t,c)),i=this.ad.bl(i,s,r),this.Ct.zs(s,i,r),this.Ua(),!a){const a=KEe(r,e,t);this.vd(a&&{hu:a.hu,au:a.au,ou:a.ou||null}),this.nd.p(this.Ct.Bt(),{x:e,y:t},n)}}Ld(e,t,n){const r=n.Rs(),a=r.Lt(),i=r.Nt(e,ISe(a)),s=this.Jh.ec(t,!0),o=this.Jh.qt(ISe(s));this.Ad(o,i,null,n,!0)}zd(e){this.gd().Ns(),this.Ua(),e||this.nd.p(null,null,null)}ka(){const e=this.Ct.Gs();if(null!==e){const t=this.Ct.As(),n=this.Ct.Ls();this.Ad(t,n,null,e)}this.Ct.Ws()}Od(e,t,n){const r=this.Jh.Is(0);void 0!==t&&void 0!==n&&this.Jh.kt(t,n);const a=this.Jh.Is(0),i=this.Jh.vc(),s=this.Jh.Ie();if(null!==s&&null!==r&&null!==a){const t=s.Ee(i),o=this.cu.key(r)>this.cu.key(a),l=null!==e&&e>i&&!o,c=this.Jh.N().allowShiftVisibleRangeOnWhitespaceReplacement,u=t&&(!(void 0===n)||c)&&this.Jh.N().shiftVisibleRangeOnNewBar;if(l&&!u){const t=e-i;this.Jh.Mn(this.Jh.Cc()-t)}}this.Jh.Tc(e)}Ra(e){null!==e&&e.iu()}Kn(e){if(e instanceof UEe)return e;const t=this.Xc.find(t=>t.Dt().includes(e));return void 0===t?null:t}Sc(){this.Xc.forEach(e=>e.iu()),this.ka()}m(){this.Xc.forEach(e=>e.m()),this.Xc.length=0,this.Ps.localization.priceFormatter=void 0,this.Ps.localization.percentageFormatter=void 0,this.Ps.localization.timeFormatter=void 0}Nd(){return this.hd}Jn(){return this.hd.N()}B_(){return this.sd}Fd(e,t){const n=this.ld(t);this.Wd(e,n),this.Jc.push(e),this.xa(),1===this.Jc.length?this.Ca():this.dr()}Hd(e){const t=this.Kn(e),n=this.Jc.indexOf(e);MSe(-1!==n,"Series not found");const r=ISe(t);this.Jc.splice(n,1),r.n_(e),e.m&&e.m(),this.xa(),this.Jh.Ju(),this.Ud(r)}Sa(e,t){const n=ISe(this.Kn(e));n.n_(e,!0),n.i_(e,t,!0)}Fc(){const e=yNe.Cn();e.cn(),this.dd(e)}$d(e){const t=yNe.Cn();t.pn(e),this.dd(t)}wn(){const e=yNe.Cn();e.wn(),this.dd(e)}gn(e){const t=yNe.Cn();t.gn(e),this.dd(t)}Mn(e){const t=yNe.Cn();t.Mn(e),this.dd(t)}vn(e){const t=yNe.Cn();t.vn(e),this.dd(t)}dn(){const e=yNe.Cn();e.dn(),this.dd(e)}qd(){return this.Ps.rightPriceScale.visible?"right":"left"}jd(e,t){if(MSe(t>=0,"Index should be greater or equal to 0"),t===this.Yd(e))return;const n=ISe(this.Kn(e));n.n_(e);const r=this.ld(t);this.Wd(e,r),0===n.Sl().length&&this.Ud(n),this.Ca()}Kd(){return this.ud}$(){return this.od}Ut(e){const t=this.ud,n=this.od;if(t===n)return t;if(e=Math.max(0,Math.min(100,Math.round(100*e))),null===this.ed||this.ed.eh!==n||this.ed.rh!==t)this.ed={eh:n,rh:t,Zd:new Map};else{const t=this.ed.Zd.get(e);if(void 0!==t)return t}const r=this.ko.tt(n,t,e/100);return this.ed.Zd.set(e,r),r}Gd(e){return this.Xc.indexOf(e)}Xi(){return this.ko}Xd(){return this.Jd()}Jd(e){const t=new UEe(this.Jh,this);this.Xc.push(t);const n=e??this.Xc.length-1,r=yNe.yn();return r.hn(n,{an:0,ln:!0}),this.dd(r),t}ld(e){return MSe(e>=0,"Index should be greater or equal to 0"),(e=Math.min(this.Xc.length,e))<this.Xc.length?this.Xc[e]:this.Jd(e)}Yd(e){return this.Xc.findIndex(t=>t.F_().includes(e))}kd(e,t){const n=new yNe(t);if(null!==e){const r=this.Xc.indexOf(e);n.hn(r,{an:t})}return n}fd(e,t){return void 0===t&&(t=2),this.kd(this.Kn(e),t)}dd(e){this.rd&&this.rd(e),this.Xc.forEach(e=>e.eu().pr().kt())}Wd(e,t){const n=e.N().priceScaleId,r=void 0!==n?n:this.qd();t.i_(e,r),gNe(r)||e.cr(e.N())}_d(e){const t=this.Ps.layout;return"gradient"===t.background.type?0===e?t.background.topColor:t.background.bottomColor:t.background.color}Ud(e){!e.N_()&&0===e.Sl().length&&this.Xc.length>1&&this.Xc.splice(this.Gd(e),1)}}function lAe(e){if(e>=1)return 0;let t=0;for(;t<8;t++){const n=Math.round(e);if(Math.abs(n-e)<1e-8)return t;e*=10}return t}function cAe(e){return!_Se(e)&&!$Se(e)}function uAe(e){return _Se(e)}!function(e){e[e.Disabled=0]="Disabled",e[e.Continuous=1]="Continuous",e[e.OnDataUpdate=2]="OnDataUpdate"}(rAe||(rAe={})),function(e){e[e.LastBar=0]="LastBar",e[e.LastVisible=1]="LastVisible"}(aAe||(aAe={})),function(e){e.Solid="solid",e.VerticalGradient="gradient"}(iAe||(iAe={})),function(e){e[e.Year=0]="Year",e[e.Month=1]="Month",e[e.DayOfMonth=2]="DayOfMonth",e[e.Time=3]="Time",e[e.TimeWithSeconds=4]="TimeWithSeconds"}(sAe||(sAe={}));const hAe=e=>e.getUTCFullYear();class dAe{constructor(e="yyyy-MM-dd",t="default"){this.Qd=e,this.tf=t}du(e){return function(e,t,n){return t.replace(/yyyy/g,(r=e,bNe(hAe(r),4))).replace(/yy/g,(e=>bNe(hAe(e)%100,2))(e)).replace(/MMMM/g,((e,t)=>new Date(e.getUTCFullYear(),e.getUTCMonth(),1).toLocaleString(t,{month:"long"}))(e,n)).replace(/MMM/g,((e,t)=>new Date(e.getUTCFullYear(),e.getUTCMonth(),1).toLocaleString(t,{month:"short"}))(e,n)).replace(/MM/g,(e=>bNe(e.getUTCMonth()+1,2))(e)).replace(/dd/g,(e=>bNe(e.getUTCDate(),2))(e));var r}(e,this.Qd,this.tf)}}class pAe{constructor(e){this.if=e||"%h:%m:%s"}du(e){return this.if.replace("%h",bNe(e.getUTCHours(),2)).replace("%m",bNe(e.getUTCMinutes(),2)).replace("%s",bNe(e.getUTCSeconds(),2))}}const fAe={sf:"yyyy-MM-dd",nf:"%h:%m:%s",ef:" ",rf:"default"};class mAe{constructor(e={}){const t={...fAe,...e};this.hf=new dAe(t.sf,t.rf),this.af=new pAe(t.nf),this.lf=t.ef}du(e){return`${this.hf.du(e)}${this.lf}${this.af.du(e)}`}}function gAe(e){return 60*e*60*1e3}function yAe(e){return 60*e*1e3}const xAe=[{_f:1e3,uf:10},{_f:yAe(1),uf:20},{_f:yAe(5),uf:21},{_f:yAe(30),uf:22},{_f:gAe(1),uf:30},{_f:gAe(3),uf:31},{_f:gAe(6),uf:32},{_f:gAe(12),uf:33}];function bAe(e,t){if(e.getUTCFullYear()!==t.getUTCFullYear())return 70;if(e.getUTCMonth()!==t.getUTCMonth())return 60;if(e.getUTCDate()!==t.getUTCDate())return 50;for(let n=xAe.length-1;n>=0;--n)if(Math.floor(t.getTime()/xAe[n]._f)!==Math.floor(e.getTime()/xAe[n]._f))return xAe[n].uf;return 0}function vAe(e){let t=e;if($Se(e)&&(t=kAe(e)),!cAe(t))throw new Error("time must be of type BusinessDay");const n=new Date(Date.UTC(t.year,t.month-1,t.day,0,0,0,0));return{cf:Math.round(n.getTime()/1e3),df:t}}function wAe(e){if(!uAe(e))throw new Error("time must be of type isUTCTimestamp");return{cf:e}}function kAe(e){const t=new Date(e);if(isNaN(t.getTime()))throw new Error(`Invalid date string=${e}, expected format=yyyy-mm-dd`);return{day:t.getUTCDate(),month:t.getUTCMonth()+1,year:t.getUTCFullYear()}}function SAe(e){$Se(e.time)&&(e.time=kAe(e.time))}class NAe{options(){return this.Ps}setOptions(e){this.Ps=e,this.updateFormatter(e.localization)}preprocessData(e){Array.isArray(e)?e.forEach(SAe):SAe(e)}createConverterToInternalObj(e){return ISe(0===(t=e).length?null:cAe(t[0].time)||$Se(t[0].time)?vAe:wAe);var t}key(e){return"object"==typeof e&&"cf"in e?e.cf:this.key(this.convertHorzItemToInternal(e))}cacheKey(e){const t=e;return void 0===t.df?new Date(1e3*t.cf).getTime():new Date(Date.UTC(t.df.year,t.df.month-1,t.df.day)).getTime()}convertHorzItemToInternal(e){return uAe(t=e)?wAe(t):cAe(t)?vAe(t):vAe(kAe(t));var t}updateFormatter(e){if(!this.Ps)return;const t=e.dateFormat;this.Ps.timeScale.timeVisible?this.ff=new mAe({sf:t,nf:this.Ps.timeScale.secondsVisible?"%h:%m:%s":"%h:%m",ef:"   ",rf:e.locale}):this.ff=new dAe(t,e.locale)}formatHorzItem(e){const t=e;return this.ff.du(new Date(1e3*t.cf))}formatTickmark(e,t){const n=function(e,t,n){switch(e){case 0:case 10:return t?n?4:3:2;case 20:case 21:case 22:case 30:case 31:case 32:case 33:return t?3:2;case 50:return 2;case 60:return 1;case 70:return 0}}(e.weight,this.Ps.timeScale.timeVisible,this.Ps.timeScale.secondsVisible),r=this.Ps.timeScale;if(void 0!==r.tickMarkFormatter){const a=r.tickMarkFormatter(e.originalTime,n,t.locale);if(null!==a)return a}return function(e,t,n){const r={};switch(t){case 0:r.year="numeric";break;case 1:r.month="short";break;case 2:r.day="numeric";break;case 3:r.hour12=!1,r.hour="2-digit",r.minute="2-digit";break;case 4:r.hour12=!1,r.hour="2-digit",r.minute="2-digit",r.second="2-digit"}const a=void 0===e.df?new Date(1e3*e.cf):new Date(Date.UTC(e.df.year,e.df.month-1,e.df.day));return new Date(a.getUTCFullYear(),a.getUTCMonth(),a.getUTCDate(),a.getUTCHours(),a.getUTCMinutes(),a.getUTCSeconds(),a.getUTCMilliseconds()).toLocaleString(n,r)}(e.time,n,t.locale)}maxTickMarkWeight(e){let t=e.reduce(eAe,e[0]).weight;return t>30&&t<50&&(t=30),t}fillWeightsForPoints(e,t){!function(e,t=0){if(0===e.length)return;let n=0===t?null:e[t-1].time.cf,r=null!==n?new Date(1e3*n):null,a=0;for(let i=t;i<e.length;++i){const t=e[i],s=new Date(1e3*t.time.cf);null!==r&&(t.timeWeight=bAe(s,r)),a+=t.time.cf-(n||t.time.cf),n=t.time.cf,r=s}if(0===t&&e.length>1){const t=Math.ceil(a/(e.length-1)),n=new Date(1e3*(e[0].time.cf-t));e[0].timeWeight=bAe(new Date(1e3*e[0].time.cf),n)}}(e,t)}static pf(e){return RSe({localization:{dateFormat:"dd MMM 'yy"}},e??{})}}const EAe="undefined"!=typeof window;function AAe(){return!!EAe&&window.navigator.userAgent.toLowerCase().indexOf("firefox")>-1}function CAe(){return!!EAe&&/iPhone|iPad|iPod/.test(window.navigator.platform)}function jAe(e){return e+e%2}class MAe{constructor(e,t,n){this.vf=0,this.mf=null,this.wf={_t:Number.NEGATIVE_INFINITY,ut:Number.POSITIVE_INFINITY},this.gf=0,this.Mf=null,this.bf={_t:Number.NEGATIVE_INFINITY,ut:Number.POSITIVE_INFINITY},this.Sf=null,this.xf=!1,this.Cf=null,this.yf=null,this.kf=!1,this.Pf=!1,this.Tf=!1,this.Rf=null,this.Df=null,this.If=null,this.Vf=null,this.Bf=null,this.Ef=null,this.Af=null,this.Lf=0,this.zf=!1,this.Of=!1,this.Nf=!1,this.Ff=0,this.Wf=null,this.Hf=!CAe(),this.Uf=e=>{this.$f(e)},this.qf=e=>{if(this.jf(e)){const t=this.Yf(e);if(++this.gf,this.Mf&&this.gf>1){const{Kf:n}=this.Zf(OAe(e),this.bf);n<30&&!this.Tf&&this.Gf(t,this.Jf.Xf),this.Qf()}}else{const t=this.Yf(e);if(++this.vf,this.mf&&this.vf>1){const{Kf:n}=this.Zf(OAe(e),this.wf);n<5&&!this.Pf&&this.tp(t,this.Jf.ip),this.sp()}}},this.np=e,this.Jf=t,this.Ps=n,this.ep()}m(){null!==this.Rf&&(this.Rf(),this.Rf=null),null!==this.Df&&(this.Df(),this.Df=null),null!==this.Vf&&(this.Vf(),this.Vf=null),null!==this.Bf&&(this.Bf(),this.Bf=null),null!==this.Ef&&(this.Ef(),this.Ef=null),null!==this.If&&(this.If(),this.If=null),this.rp(),this.sp()}hp(e){this.Vf&&this.Vf();const t=this.ap.bind(this);if(this.Vf=()=>{this.np.removeEventListener("mousemove",t)},this.np.addEventListener("mousemove",t),this.jf(e))return;const n=this.Yf(e);this.tp(n,this.Jf.lp),this.Hf=!0}sp(){null!==this.mf&&clearTimeout(this.mf),this.vf=0,this.mf=null,this.wf={_t:Number.NEGATIVE_INFINITY,ut:Number.POSITIVE_INFINITY}}Qf(){null!==this.Mf&&clearTimeout(this.Mf),this.gf=0,this.Mf=null,this.bf={_t:Number.NEGATIVE_INFINITY,ut:Number.POSITIVE_INFINITY}}ap(e){if(this.Nf||null!==this.yf)return;if(this.jf(e))return;const t=this.Yf(e);this.tp(t,this.Jf.op),this.Hf=!0}_p(e){const t=RAe(e.changedTouches,ISe(this.Wf));if(null===t)return;if(this.Ff=PAe(e),null!==this.Af)return;if(this.Of)return;this.zf=!0;const n=this.Zf(OAe(t),ISe(this.yf)),{up:r,cp:a,Kf:i}=n;if(this.kf||!(i<5)){if(!this.kf){const e=.5*r,t=a>=e&&!this.Ps.dp(),n=e>a&&!this.Ps.fp();t||n||(this.Of=!0),this.kf=!0,this.Tf=!0,this.rp(),this.Qf()}if(!this.Of){const n=this.Yf(e,t);this.Gf(n,this.Jf.pp),IAe(e)}}}vp(e){if(0!==e.button)return;const t=this.Zf(OAe(e),ISe(this.Cf)),{Kf:n}=t;if(n>=5&&(this.Pf=!0,this.sp()),this.Pf){const t=this.Yf(e);this.tp(t,this.Jf.mp)}}Zf(e,t){const n=Math.abs(t._t-e._t),r=Math.abs(t.ut-e.ut);return{up:n,cp:r,Kf:n+r}}wp(e){let t=RAe(e.changedTouches,ISe(this.Wf));if(null===t&&0===e.touches.length&&(t=e.changedTouches[0]),null===t)return;this.Wf=null,this.Ff=PAe(e),this.rp(),this.yf=null,this.Ef&&(this.Ef(),this.Ef=null);const n=this.Yf(e,t);if(this.Gf(n,this.Jf.gp),++this.gf,this.Mf&&this.gf>1){const{Kf:e}=this.Zf(OAe(t),this.bf);e<30&&!this.Tf&&this.Gf(n,this.Jf.Xf),this.Qf()}else this.Tf||(this.Gf(n,this.Jf.Mp),this.Jf.Mp&&IAe(e));0===this.gf&&IAe(e),0===e.touches.length&&this.xf&&(this.xf=!1,IAe(e))}$f(e){if(0!==e.button)return;const t=this.Yf(e);if(this.Cf=null,this.Nf=!1,this.Bf&&(this.Bf(),this.Bf=null),AAe()&&this.np.ownerDocument.documentElement.removeEventListener("mouseleave",this.Uf),!this.jf(e))if(this.tp(t,this.Jf.bp),++this.vf,this.mf&&this.vf>1){const{Kf:n}=this.Zf(OAe(e),this.wf);n<5&&!this.Pf&&this.tp(t,this.Jf.ip),this.sp()}else this.Pf||this.tp(t,this.Jf.Sp)}rp(){null!==this.Sf&&(clearTimeout(this.Sf),this.Sf=null)}xp(e){if(null!==this.Wf)return;const t=e.changedTouches[0];this.Wf=t.identifier,this.Ff=PAe(e);const n=this.np.ownerDocument.documentElement;this.Tf=!1,this.kf=!1,this.Of=!1,this.yf=OAe(t),this.Ef&&(this.Ef(),this.Ef=null);{const t=this._p.bind(this),r=this.wp.bind(this);this.Ef=()=>{n.removeEventListener("touchmove",t),n.removeEventListener("touchend",r)},n.addEventListener("touchmove",t,{passive:!1}),n.addEventListener("touchend",r,{passive:!1}),this.rp(),this.Sf=setTimeout(this.Cp.bind(this,e),240)}const r=this.Yf(e,t);this.Gf(r,this.Jf.yp),this.Mf||(this.gf=0,this.Mf=setTimeout(this.Qf.bind(this),500),this.bf=OAe(t))}kp(e){if(0!==e.button)return;const t=this.np.ownerDocument.documentElement;AAe()&&t.addEventListener("mouseleave",this.Uf),this.Pf=!1,this.Cf=OAe(e),this.Bf&&(this.Bf(),this.Bf=null);{const e=this.vp.bind(this),n=this.$f.bind(this);this.Bf=()=>{t.removeEventListener("mousemove",e),t.removeEventListener("mouseup",n)},t.addEventListener("mousemove",e),t.addEventListener("mouseup",n)}if(this.Nf=!0,this.jf(e))return;const n=this.Yf(e);this.tp(n,this.Jf.Pp),this.mf||(this.vf=0,this.mf=setTimeout(this.sp.bind(this),500),this.wf=OAe(e))}ep(){this.np.addEventListener("mouseenter",this.hp.bind(this)),this.np.addEventListener("touchcancel",this.rp.bind(this));{const e=this.np.ownerDocument,t=e=>{this.Jf.Tp&&(e.composed&&this.np.contains(e.composedPath()[0])||e.target&&this.np.contains(e.target)||this.Jf.Tp())};this.Df=()=>{e.removeEventListener("touchstart",t)},this.Rf=()=>{e.removeEventListener("mousedown",t)},e.addEventListener("mousedown",t),e.addEventListener("touchstart",t,{passive:!0})}CAe()&&(this.If=()=>{this.np.removeEventListener("dblclick",this.qf)},this.np.addEventListener("dblclick",this.qf)),this.np.addEventListener("mouseleave",this.Rp.bind(this)),this.np.addEventListener("touchstart",this.xp.bind(this),{passive:!0}),function(e){EAe&&void 0!==window.chrome&&e.addEventListener("mousedown",e=>{if(1===e.button)return e.preventDefault(),!1})}(this.np),this.np.addEventListener("mousedown",this.kp.bind(this)),this.Dp(),this.np.addEventListener("touchmove",()=>{},{passive:!1})}Dp(){void 0===this.Jf.Ip&&void 0===this.Jf.Vp&&void 0===this.Jf.Bp||(this.np.addEventListener("touchstart",e=>this.Ep(e.touches),{passive:!0}),this.np.addEventListener("touchmove",e=>{if(2===e.touches.length&&null!==this.Af&&void 0!==this.Jf.Vp){const t=TAe(e.touches[0],e.touches[1])/this.Lf;this.Jf.Vp(this.Af,t),IAe(e)}},{passive:!1}),this.np.addEventListener("touchend",e=>{this.Ep(e.touches)}))}Ep(e){1===e.length&&(this.zf=!1),2!==e.length||this.zf||this.xf?this.Ap():this.Lp(e)}Lp(e){const t=this.np.getBoundingClientRect()||{left:0,top:0};this.Af={_t:(e[0].clientX-t.left+(e[1].clientX-t.left))/2,ut:(e[0].clientY-t.top+(e[1].clientY-t.top))/2},this.Lf=TAe(e[0],e[1]),void 0!==this.Jf.Ip&&this.Jf.Ip(),this.rp()}Ap(){null!==this.Af&&(this.Af=null,void 0!==this.Jf.Bp&&this.Jf.Bp())}Rp(e){if(this.Vf&&this.Vf(),this.jf(e))return;if(!this.Hf)return;const t=this.Yf(e);this.tp(t,this.Jf.zp),this.Hf=!CAe()}Cp(e){const t=RAe(e.touches,ISe(this.Wf));if(null===t)return;const n=this.Yf(e,t);this.Gf(n,this.Jf.Op),this.Tf=!0,this.xf=!0}jf(e){return e.sourceCapabilities&&void 0!==e.sourceCapabilities.firesTouchEvents?e.sourceCapabilities.firesTouchEvents:PAe(e)<this.Ff+500}Gf(e,t){t&&t.call(this.Jf,e)}tp(e,t){t&&t.call(this.Jf,e)}Yf(e,t){const n=t||e,r=this.np.getBoundingClientRect()||{left:0,top:0};return{clientX:n.clientX,clientY:n.clientY,pageX:n.pageX,pageY:n.pageY,screenX:n.screenX,screenY:n.screenY,localX:n.clientX-r.left,localY:n.clientY-r.top,ctrlKey:e.ctrlKey,altKey:e.altKey,shiftKey:e.shiftKey,metaKey:e.metaKey,Np:!e.type.startsWith("mouse")&&"contextmenu"!==e.type&&"click"!==e.type,Fp:e.type,Wp:n.target,_u:e.view,Hp:()=>{"touchstart"!==e.type&&IAe(e)}}}}function TAe(e,t){const n=e.clientX-t.clientX,r=e.clientY-t.clientY;return Math.sqrt(n*n+r*r)}function IAe(e){e.cancelable&&e.preventDefault()}function OAe(e){return{_t:e.pageX,ut:e.pageY}}function PAe(e){return e.timeStamp||performance.now()}function RAe(e,t){for(let n=0;n<e.length;++n)if(e[n].identifier===t)return e[n];return null}class _Ae{constructor(e,t,n){this.Up=null,this.$p=null,this.qp=!0,this.jp=null,this.Yp=e,this.Kp=e.Zp()[t],this.Gp=e.Zp()[n],this.Xp=document.createElement("tr"),this.Xp.style.height="1px",this.Jp=document.createElement("td"),this.Jp.style.position="relative",this.Jp.style.padding="0",this.Jp.style.margin="0",this.Jp.setAttribute("colspan","3"),this.Qp(),this.Xp.appendChild(this.Jp),this.qp=this.Yp.N().layout.panes.enableResize,this.qp?this.tv():(this.Up=null,this.$p=null)}m(){null!==this.$p&&this.$p.m()}iv(){return this.Xp}sv(){return gSe({width:this.Kp.sv().width,height:1})}nv(){return gSe({width:this.Kp.nv().width,height:1*window.devicePixelRatio})}ev(e,t,n){const r=this.nv();e.fillStyle=this.Yp.N().layout.panes.separatorColor,e.fillRect(t,n,r.width,r.height)}kt(){this.Qp(),this.Yp.N().layout.panes.enableResize!==this.qp&&(this.qp=this.Yp.N().layout.panes.enableResize,this.qp?this.tv():(null!==this.Up&&(this.Jp.removeChild(this.Up.rv),this.Jp.removeChild(this.Up.hv),this.Up=null),null!==this.$p&&(this.$p.m(),this.$p=null)))}tv(){const e=document.createElement("div"),t=e.style;t.position="fixed",t.display="none",t.zIndex="49",t.top="0",t.left="0",t.width="100%",t.height="100%",t.cursor="row-resize",this.Jp.appendChild(e);const n=document.createElement("div"),r=n.style;r.position="absolute",r.zIndex="50",r.top="-4px",r.height="9px",r.width="100%",r.backgroundColor="",r.cursor="row-resize",this.Jp.appendChild(n);const a={lp:this.av.bind(this),zp:this.lv.bind(this),Pp:this.ov.bind(this),yp:this.ov.bind(this),mp:this._v.bind(this),pp:this._v.bind(this),bp:this.uv.bind(this),gp:this.uv.bind(this)};this.$p=new MAe(n,a,{dp:()=>!1,fp:()=>!0}),this.Up={hv:n,rv:e}}Qp(){this.Jp.style.background=this.Yp.N().layout.panes.separatorColor}av(e){null!==this.Up&&(this.Up.hv.style.backgroundColor=this.Yp.N().layout.panes.separatorHoverColor)}lv(e){null!==this.Up&&null===this.jp&&(this.Up.hv.style.backgroundColor="")}ov(e){if(null===this.Up)return;const t=this.Kp.cv().E_()+this.Gp.cv().E_(),n=t/(this.Kp.sv().height+this.Gp.sv().height),r=30*n;t<=2*r||(this.jp={dv:e.pageY,fv:this.Kp.cv().E_(),pv:t-r,vv:t,mv:n,wv:r},this.Up.rv.style.display="block")}_v(e){const t=this.jp;if(null===t)return;const n=(e.pageY-t.dv)*t.mv,r=vEe(t.fv+n,t.wv,t.pv);this.Kp.cv().A_(r),this.Gp.cv().A_(t.vv-r),this.Yp.Qt().Ca()}uv(e){null!==this.jp&&null!==this.Up&&(this.jp=null,this.Up.rv.style.display="none")}}function LAe(e,t){return e.gv-t.gv}function $Ae(e,t,n){const r=(e.gv-t.gv)/(e.wt-t.wt);return Math.sign(r)*Math.min(Math.abs(r),n)}class FAe{constructor(e,t,n,r){this.Mv=null,this.bv=null,this.Sv=null,this.xv=null,this.Cv=null,this.yv=0,this.kv=0,this.Pv=e,this.Tv=t,this.Rv=n,this.kn=r}Dv(e,t){if(null!==this.Mv){if(this.Mv.wt===t)return void(this.Mv.gv=e);if(Math.abs(this.Mv.gv-e)<this.kn)return}this.xv=this.Sv,this.Sv=this.bv,this.bv=this.Mv,this.Mv={wt:t,gv:e}}fe(e,t){if(null===this.Mv||null===this.bv)return;if(t-this.Mv.wt>50)return;let n=0;const r=$Ae(this.Mv,this.bv,this.Tv),a=LAe(this.Mv,this.bv),i=[r],s=[a];if(n+=a,null!==this.Sv){const e=$Ae(this.bv,this.Sv,this.Tv);if(Math.sign(e)===Math.sign(r)){const t=LAe(this.bv,this.Sv);if(i.push(e),s.push(t),n+=t,null!==this.xv){const e=$Ae(this.Sv,this.xv,this.Tv);if(Math.sign(e)===Math.sign(r)){const t=LAe(this.Sv,this.xv);i.push(e),s.push(t),n+=t}}}}let o=0;for(let l=0;l<i.length;++l)o+=s[l]/n*i[l];Math.abs(o)<this.Pv||(this.Cv={gv:e,wt:t},this.kv=o,this.yv=function(e,t){const n=Math.log(t);return Math.log(1*n/-e)/n}(Math.abs(o),this.Rv))}Ac(e){const t=ISe(this.Cv),n=e-t.wt;return t.gv+this.kv*(Math.pow(this.Rv,n)-1)/Math.log(this.Rv)}Ec(e){return null===this.Cv||this.Iv(e)===this.yv}Iv(e){const t=e-ISe(this.Cv).wt;return Math.min(t,this.yv)}}class DAe{constructor(e,t){this.Vv=void 0,this.Bv=void 0,this.Ev=void 0,this.ws=!1,this.Av=e,this.Lv=t,this.zv()}kt(){this.zv()}Ov(){this.Vv&&this.Av.removeChild(this.Vv),this.Bv&&this.Av.removeChild(this.Bv),this.Vv=void 0,this.Bv=void 0}Nv(){return this.ws!==this.Fv()||this.Ev!==this.Wv()}Wv(){return this.Lv.Qt().Xi().J(this.Lv.N().layout.textColor)>160?"dark":"light"}Fv(){return this.Lv.N().layout.attributionLogo}Hv(){const e=new URL(location.href);return e.hostname?"&utm_source="+e.hostname+e.pathname:""}zv(){this.Nv()&&(this.Ov(),this.ws=this.Fv(),this.ws&&(this.Ev=this.Wv(),this.Bv=document.createElement("style"),this.Bv.innerText="a#tv-attr-logo{--fill:#131722;--stroke:#fff;position:absolute;left:10px;bottom:10px;height:19px;width:35px;margin:0;padding:0;border:0;z-index:3;}a#tv-attr-logo[data-dark]{--fill:#D1D4DC;--stroke:#131722;}",this.Vv=document.createElement("a"),this.Vv.href=`https://www.tradingview.com/?utm_medium=lwc-link&utm_campaign=lwc-chart${this.Hv()}`,this.Vv.title="Charting by TradingView",this.Vv.id="tv-attr-logo",this.Vv.target="_blank",this.Vv.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="35" height="19" fill="none"><g fill-rule="evenodd" clip-path="url(#a)" clip-rule="evenodd"><path fill="var(--stroke)" d="M2 0H0v10h6v9h21.4l.5-1.3 6-15 1-2.7H23.7l-.5 1.3-.2.6a5 5 0 0 0-7-.9V0H2Zm20 17h4l5.2-13 .8-2h-7l-1 2.5-.2.5-1.5 3.8-.3.7V17Zm-.8-10a3 3 0 0 0 .7-2.7A3 3 0 1 0 16.8 7h4.4ZM14 7V2H2v6h6v9h4V7h2Z"/><path fill="var(--fill)" d="M14 2H2v6h6v9h6V2Zm12 15h-7l6-15h7l-6 15Zm-7-9a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z"/></g><defs><clipPath id="a"><path fill="var(--stroke)" d="M0 0h35v19H0z"/></clipPath></defs></svg>',this.Vv.toggleAttribute("data-dark","dark"===this.Ev),this.Av.appendChild(this.Bv),this.Av.appendChild(this.Vv)))}}function zAe(e,t){const n=ISe(e.ownerDocument).createElement("canvas");e.appendChild(n);const r=new bSe(n,(a={options:{allowResizeObserver:!0},transform:(e,t)=>({width:Math.max(e.width,t.width),height:Math.max(e.height,t.height)})}).transform,a.options);var a;return r.resizeCanvasElement(t),r}function VAe(e){e.width=1,e.height=1,e.getContext("2d")?.clearRect(0,0,1,1)}function BAe(e,t,n,r){e.Uh&&e.Uh(t,n,r)}function HAe(e,t,n,r){e.nt(t,n,r)}function UAe(e,t,n,r){const a=e(n,r);for(const i of a){const e=i.Tt(r);null!==e&&t(e)}}function WAe(e,t){return n=>void 0===n.Ft||(n.Ft()?.ol()??"")!==t?[]:n.Ya?.(e)??[]}function ZAe(e,t,n,r){if(!e.length)return;let a=0;const i=e[0].$t(r,!0);let s=1===t?n/2-(e[0].Hi()-i/2):e[0].Hi()-i/2-n/2;s=Math.max(0,s);for(let o=1;o<e.length;o++){const i=e[o],l=e[o-1],c=l.$t(r,!1),u=i.Hi(),h=l.Hi();if(1===t?u>h-c:u<h+c){const r=h-c*t;i.Ui(r);const o=r-t*c/2;if((1===t?o<0:o>n)&&s>0){const r=1===t?-1-o:o-n,i=Math.min(r,s);for(let n=a;n<e.length;n++)e[n].Ui(e[n].Hi()+t*i);s-=i}}else a=o,s=1===t?h-c-u:u-(h+c)}}class GAe{constructor(e,t,n,r){this.Ki=null,this.Uv=null,this.$v=!1,this.qv=new NNe(200),this.jv=null,this.Yv=0,this.Kv=!1,this.Zv=()=>{this.Kv||this.yt.Gv().Qt().dr()},this.Xv=()=>{this.Kv||this.yt.Gv().Qt().dr()},this.yt=e,this.Ps=t,this.Co=t.layout,this.hd=n,this.Jv="left"===r,this.Qv=WAe("normal",r),this.tm=WAe("top",r),this.im=WAe("bottom",r),this.Jp=document.createElement("div"),this.Jp.style.height="100%",this.Jp.style.overflow="hidden",this.Jp.style.width="25px",this.Jp.style.left="0",this.Jp.style.position="relative",this.sm=zAe(this.Jp,gSe({width:16,height:16})),this.sm.subscribeSuggestedBitmapSizeChanged(this.Zv);const a=this.sm.canvasElement;a.style.position="absolute",a.style.zIndex="1",a.style.left="0",a.style.top="0",this.nm=zAe(this.Jp,gSe({width:16,height:16})),this.nm.subscribeSuggestedBitmapSizeChanged(this.Xv);const i=this.nm.canvasElement;i.style.position="absolute",i.style.zIndex="2",i.style.left="0",i.style.top="0";const s={Pp:this.ov.bind(this),yp:this.ov.bind(this),mp:this._v.bind(this),pp:this._v.bind(this),Tp:this.rm.bind(this),bp:this.uv.bind(this),gp:this.uv.bind(this),ip:this.hm.bind(this),Xf:this.hm.bind(this),lp:this.am.bind(this),zp:this.lv.bind(this)};this.$p=new MAe(this.nm.canvasElement,s,{dp:()=>!this.Ps.handleScroll.vertTouchDrag,fp:()=>!0})}m(){this.$p.m(),this.nm.unsubscribeSuggestedBitmapSizeChanged(this.Xv),VAe(this.nm.canvasElement),this.nm.dispose(),this.sm.unsubscribeSuggestedBitmapSizeChanged(this.Zv),VAe(this.sm.canvasElement),this.sm.dispose(),null!==this.Ki&&this.Ki.r_().u(this),this.Ki=null}iv(){return this.Jp}k(){return this.Co.fontSize}lm(){const e=this.hd.N();return this.jv!==e.P&&(this.qv.On(),this.jv=e.P),e}om(){if(null===this.Ki)return 0;let e=0;const t=this.lm(),n=ISe(this.sm.canvasElement.getContext("2d",{colorSpace:this.yt.Gv().N().layout.colorSpace}));n.save();const r=this.Ki.Vl();n.font=this._m(),r.length>0&&(e=Math.max(this.qv.Ii(n,r[0].Jl),this.qv.Ii(n,r[r.length-1].Jl)));const a=this.um();for(let l=a.length;l--;){const t=this.qv.Ii(n,a[l].ri());t>e&&(e=t)}const i=this.Ki.Lt();if(null!==i&&null!==this.Uv&&2!==(s=this.Ps.crosshair).mode&&s.horzLine.visible&&s.horzLine.labelVisible){const t=this.Ki.Ds(1,i),r=this.Ki.Ds(this.Uv.height-2,i);e=Math.max(e,this.qv.Ii(n,this.Ki.Ji(Math.floor(Math.min(t,r))+.11111111111111,i)),this.qv.Ii(n,this.Ki.Ji(Math.ceil(Math.max(t,r))-.11111111111111,i)))}var s;n.restore();const o=e||34;return jAe(Math.ceil(t.S+t.C+t.V+t.B+5+o))}dm(e){null!==this.Uv&&ySe(this.Uv,e)||(this.Uv=e,this.Kv=!0,this.sm.resizeCanvasElement(e),this.nm.resizeCanvasElement(e),this.Kv=!1,this.Jp.style.width=`${e.width}px`,this.Jp.style.height=`${e.height}px`)}fm(){return ISe(this.Uv).width}cs(e){this.Ki!==e&&(null!==this.Ki&&this.Ki.r_().u(this),this.Ki=e,e.r_().i(this.do.bind(this),this))}Ft(){return this.Ki}On(){const e=this.yt.cv();this.yt.Gv().Qt().Q_(e,ISe(this.Ft()))}pm(e){if(null===this.Uv)return;const t={colorSpace:this.yt.Gv().N().layout.colorSpace};if(1!==e){this.vm(),this.sm.applySuggestedBitmapSize();const e=kSe(this.sm,t);null!==e&&(e.useBitmapCoordinateSpace(e=>{this.wm(e),this.gm(e)}),this.yt.Mm(e,this.im),this.bm(e),this.yt.Mm(e,this.Qv),this.Sm(e))}this.nm.applySuggestedBitmapSize();const n=kSe(this.nm,t);null!==n&&(n.useBitmapCoordinateSpace(({context:e,bitmapSize:t})=>{e.clearRect(0,0,t.width,t.height)}),this.xm(n),this.yt.Mm(n,this.tm))}nv(){return this.sm.bitmapSize}ev(e,t,n,r){const a=this.nv();if(a.width>0&&a.height>0&&(e.drawImage(this.sm.canvasElement,t,n),r)){const r=this.nm.canvasElement;e.drawImage(r,t,n)}}kt(){this.Ki?.Vl()}ov(e){if(null===this.Ki||this.Ki.Gi()||!this.Ps.handleScale.axisPressedMouseMove.price)return;const t=this.yt.Gv().Qt(),n=this.yt.cv();this.$v=!0,t.j_(n,this.Ki,e.localY)}_v(e){if(null===this.Ki||!this.Ps.handleScale.axisPressedMouseMove.price)return;const t=this.yt.Gv().Qt(),n=this.yt.cv(),r=this.Ki;t.Y_(n,r,e.localY)}rm(){if(null===this.Ki||!this.Ps.handleScale.axisPressedMouseMove.price)return;const e=this.yt.Gv().Qt(),t=this.yt.cv(),n=this.Ki;this.$v&&(this.$v=!1,e.K_(t,n))}uv(e){if(null===this.Ki||!this.Ps.handleScale.axisPressedMouseMove.price)return;const t=this.yt.Gv().Qt(),n=this.yt.cv();this.$v=!1,t.K_(n,this.Ki)}hm(e){this.Ps.handleScale.axisDoubleClickReset.price&&this.On()}am(e){null!==this.Ki&&(!this.yt.Gv().Qt().N().handleScale.axisPressedMouseMove.price||this.Ki.He()||this.Ki.Eo()||this.Cm(1))}lv(e){this.Cm(0)}um(){const e=[],t=null===this.Ki?void 0:this.Ki;return(n=>{for(let r=0;r<n.length;++r){const a=n[r].Ks(this.yt.cv(),t);for(let t=0;t<a.length;t++)e.push(a[t])}})(this.yt.cv().Dt()),e}wm({context:e,bitmapSize:t}){const{width:n,height:r}=t,a=this.yt.cv().Qt(),i=a.$(),s=a.Kd();i===s?rNe(e,0,0,n,r,i):sNe(e,0,0,n,r,i,s)}gm({context:e,bitmapSize:t,horizontalPixelRatio:n}){if(null===this.Uv||null===this.Ki||!this.Ki.N().borderVisible)return;e.fillStyle=this.Ki.N().borderColor;const r=Math.max(1,Math.floor(this.lm().S*n));let a;a=this.Jv?t.width-r:0,e.fillRect(a,0,r,t.height)}bm(e){if(null===this.Uv||null===this.Ki)return;const t=this.Ki.Vl(),n=this.Ki.N(),r=this.lm(),a=this.Jv?this.Uv.width-r.C:0;n.borderVisible&&n.ticksVisible&&e.useBitmapCoordinateSpace(({context:e,horizontalPixelRatio:i,verticalPixelRatio:s})=>{e.fillStyle=n.borderColor;const o=Math.max(1,Math.floor(s)),l=Math.floor(.5*s),c=Math.round(r.C*i);e.beginPath();for(const n of t)e.rect(Math.floor(a*i),Math.round(n.Pl*s)-l,c,o);e.fill()}),e.useMediaCoordinateSpace(({context:e})=>{e.font=this._m(),e.fillStyle=n.textColor??this.Co.textColor,e.textAlign=this.Jv?"right":"left",e.textBaseline="middle";const i=this.Jv?Math.round(a-r.V):Math.round(a+r.C+r.V),s=t.map(t=>this.qv.Di(e,t.Jl));for(let n=t.length;n--;){const r=t[n];e.fillText(r.Jl,i,r.Pl+s[n])}})}vm(){if(null===this.Uv||null===this.Ki)return;let e=this.Uv.height/2;const t=[],n=this.Ki.Dt().slice(),r=this.yt.cv(),a=this.lm();this.Ki===r.Gn()&&this.yt.cv().Dt().forEach(e=>{r.Zn(e)&&n.push(e)});const i=this.Ki.Sl()[0],s=this.Ki;n.forEach(n=>{const a=n.Ks(r,s);a.forEach(e=>{e.$i()&&null===e.Wi()&&(e.Ui(null),t.push(e))}),i===n&&a.length>0&&(e=a[0].Ei())}),this.Ki.N().alignLabels&&this.ym(t,a,e)}ym(e,t,n){if(null===this.Uv)return;const r=e.filter(e=>e.Ei()<=n),a=e.filter(e=>e.Ei()>n);r.sort((e,t)=>t.Ei()-e.Ei()),r.length&&a.length&&a.push(r[0]),a.sort((e,t)=>e.Ei()-t.Ei());for(const i of e){const e=Math.floor(i.$t(t)/2),n=i.Ei();n>-e&&n<e&&i.Ui(e),n>this.Uv.height-e&&n<this.Uv.height+e&&i.Ui(this.Uv.height-e)}ZAe(r,1,this.Uv.height,t),ZAe(a,-1,this.Uv.height,t)}Sm(e){if(null===this.Uv)return;const t=this.um(),n=this.lm(),r=this.Jv?"right":"left";t.forEach(t=>{t.qi()&&t.Tt(ISe(this.Ki)).nt(e,n,this.qv,r)})}xm(e){if(null===this.Uv||null===this.Ki)return;const t=this.yt.Gv().Qt(),n=[],r=this.yt.cv(),a=t.gd().Ks(r,this.Ki);a.length&&n.push(a);const i=this.lm(),s=this.Jv?"right":"left";n.forEach(t=>{t.forEach(t=>{t.Tt(ISe(this.Ki)).nt(e,i,this.qv,s)})})}Cm(e){this.Jp.style.cursor=1===e?"ns-resize":"default"}do(){const e=this.om();this.Yv<e&&this.yt.Gv().Qt().Ca(),this.Yv=e}_m(){return HSe(this.Co.fontSize,this.Co.fontFamily)}}function KAe(e,t){return e.qa?.(t)??[]}function qAe(e,t){return e.Ys?.(t)??[]}function XAe(e,t){return e.ds?.(t)??[]}function YAe(e,t){return e.Ha?.(t)??[]}class QAe{constructor(e,t){this.Uv=gSe({width:0,height:0}),this.km=null,this.Pm=null,this.Tm=null,this.Rm=null,this.Dm=!1,this.Im=new PSe,this.Vm=new PSe,this.Bm=0,this.Em=!1,this.Am=null,this.Lm=!1,this.zm=null,this.Om=null,this.Kv=!1,this.Zv=()=>{this.Kv||null===this.Nm||this.ns().dr()},this.Xv=()=>{this.Kv||null===this.Nm||this.ns().dr()},this.Lv=e,this.Nm=t,this.Nm.nu().i(this.Fm.bind(this),this,!0),this.Wm=document.createElement("td"),this.Wm.style.padding="0",this.Wm.style.position="relative";const n=document.createElement("div");n.style.width="100%",n.style.height="100%",n.style.position="relative",n.style.overflow="hidden",this.Hm=document.createElement("td"),this.Hm.style.padding="0",this.Um=document.createElement("td"),this.Um.style.padding="0",this.Wm.appendChild(n),this.sm=zAe(n,gSe({width:16,height:16})),this.sm.subscribeSuggestedBitmapSizeChanged(this.Zv);const r=this.sm.canvasElement;r.style.position="absolute",r.style.zIndex="1",r.style.left="0",r.style.top="0",this.nm=zAe(n,gSe({width:16,height:16})),this.nm.subscribeSuggestedBitmapSizeChanged(this.Xv);const a=this.nm.canvasElement;a.style.position="absolute",a.style.zIndex="2",a.style.left="0",a.style.top="0",this.Xp=document.createElement("tr"),this.Xp.appendChild(this.Hm),this.Xp.appendChild(this.Wm),this.Xp.appendChild(this.Um),this.$m(),this.$p=new MAe(this.nm.canvasElement,this,{dp:()=>null===this.Am&&!this.Lv.N().handleScroll.vertTouchDrag,fp:()=>null===this.Am&&!this.Lv.N().handleScroll.horzTouchDrag})}m(){null!==this.km&&this.km.m(),null!==this.Pm&&this.Pm.m(),this.Tm=null,this.nm.unsubscribeSuggestedBitmapSizeChanged(this.Xv),VAe(this.nm.canvasElement),this.nm.dispose(),this.sm.unsubscribeSuggestedBitmapSizeChanged(this.Zv),VAe(this.sm.canvasElement),this.sm.dispose(),null!==this.Nm&&(this.Nm.nu().u(this),this.Nm.m()),this.$p.m()}cv(){return ISe(this.Nm)}qm(e){null!==this.Nm&&this.Nm.nu().u(this),this.Nm=e,null!==this.Nm&&this.Nm.nu().i(QAe.prototype.Fm.bind(this),this,!0),this.$m(),this.Lv.Zp().indexOf(this)===this.Lv.Zp().length-1?(this.Tm=this.Tm??new DAe(this.Wm,this.Lv),this.Tm.kt()):(this.Tm?.Ov(),this.Tm=null)}Gv(){return this.Lv}iv(){return this.Xp}$m(){if(null!==this.Nm&&(this.jm(),0!==this.ns().tn().length)){if(null!==this.km){const e=this.Nm.U_();this.km.cs(ISe(e))}if(null!==this.Pm){const e=this.Nm.q_();this.Pm.cs(ISe(e))}}}Ym(){null!==this.km&&this.km.kt(),null!==this.Pm&&this.Pm.kt()}E_(){return null!==this.Nm?this.Nm.E_():0}A_(e){this.Nm&&this.Nm.A_(e)}lp(e){if(!this.Nm)return;this.Km();const t=e.localX,n=e.localY;this.Zm(t,n,e)}Pp(e){this.Km(),this.Gm(),this.Zm(e.localX,e.localY,e)}op(e){if(!this.Nm)return;this.Km();const t=e.localX,n=e.localY;this.Zm(t,n,e)}Sp(e){null!==this.Nm&&(this.Km(),this.Xm(e))}ip(e){null!==this.Nm&&this.Jm(this.Vm,e)}Xf(e){this.ip(e)}mp(e){this.Km(),this.Qm(e),this.Zm(e.localX,e.localY,e)}bp(e){null!==this.Nm&&(this.Km(),this.Em=!1,this.tw(e))}Mp(e){null!==this.Nm&&this.Xm(e)}Op(e){if(this.Em=!0,null===this.Am){const t={x:e.localX,y:e.localY};this.iw(t,t,e)}}zp(e){null!==this.Nm&&(this.Km(),this.Nm.Qt().vd(null),this.sw())}nw(){return this.Im}ew(){return this.Vm}Ip(){this.Bm=1,this.ns().dn()}Vp(e,t){if(!this.Lv.N().handleScale.pinch)return;const n=5*(t-this.Bm);this.Bm=t,this.ns().Td(e._t,n)}yp(e){this.Em=!1,this.Lm=null!==this.Am,this.Gm();const t=this.ns().gd();null!==this.Am&&t.It()&&(this.zm={x:t.si(),y:t.ni()},this.Am={x:e.localX,y:e.localY})}pp(e){if(null===this.Nm)return;const t=e.localX,n=e.localY;if(null===this.Am)this.Qm(e);else{this.Lm=!1;const r=ISe(this.zm),a=r.x+(t-this.Am.x),i=r.y+(n-this.Am.y);this.Zm(a,i,e)}}gp(e){0===this.Gv().N().trackingMode.exitMode&&(this.Lm=!0),this.rw(),this.tw(e)}Qn(e,t){const n=this.Nm;return null===n?null:KEe(n,e,t)}hw(e,t){ISe("left"===t?this.km:this.Pm).dm(gSe({width:e,height:this.Uv.height}))}sv(){return this.Uv}dm(e){ySe(this.Uv,e)||(this.Uv=e,this.Kv=!0,this.sm.resizeCanvasElement(e),this.nm.resizeCanvasElement(e),this.Kv=!1,this.Wm.style.width=e.width+"px",this.Wm.style.height=e.height+"px")}aw(){const e=ISe(this.Nm);e.H_(e.U_()),e.H_(e.q_());for(const t of e.Sl())if(e.Zn(t)){const n=t.Ft();null!==n&&e.H_(n),t.Ws()}for(const t of e.ru())t.Ws()}nv(){return this.sm.bitmapSize}ev(e,t,n,r){const a=this.nv();if(a.width>0&&a.height>0&&(e.drawImage(this.sm.canvasElement,t,n),r)){const r=this.nm.canvasElement;null!==e&&e.drawImage(r,t,n)}}pm(e){if(0===e)return;if(null===this.Nm)return;e>1&&this.aw(),null!==this.km&&this.km.pm(e),null!==this.Pm&&this.Pm.pm(e);const t={colorSpace:this.Lv.N().layout.colorSpace};if(1!==e){this.sm.applySuggestedBitmapSize();const e=kSe(this.sm,t);null!==e&&(e.useBitmapCoordinateSpace(e=>{this.wm(e)}),this.Nm&&(this.lw(e,KAe),this.ow(e),this.lw(e,qAe),this.lw(e,XAe)))}this.nm.applySuggestedBitmapSize();const n=kSe(this.nm,t);null!==n&&(n.useBitmapCoordinateSpace(({context:e,bitmapSize:t})=>{e.clearRect(0,0,t.width,t.height)}),this._w(n),this.lw(n,YAe),this.lw(n,XAe))}uw(){return this.km}cw(){return this.Pm}Mm(e,t){this.lw(e,t)}Fm(){null!==this.Nm&&this.Nm.nu().u(this),this.Nm=null}Xm(e){this.Jm(this.Im,e)}Jm(e,t){const n=t.localX,r=t.localY;e.v()&&e.p(this.ns().Et().wc(n),{x:n,y:r},t)}wm({context:e,bitmapSize:t}){const{width:n,height:r}=t,a=this.ns(),i=a.$(),s=a.Kd();i===s?rNe(e,0,0,n,r,s):sNe(e,0,0,n,r,i,s)}ow(e){const t=ISe(this.Nm),n=t.eu().pr().Tt(t);null!==n&&n.nt(e,!1)}_w(e){this.dw(e,qAe,HAe,this.ns().gd())}lw(e,t){const n=ISe(this.Nm),r=n.Dt(),a=n.ru();for(const i of a)this.dw(e,t,BAe,i);for(const i of r)this.dw(e,t,BAe,i);for(const i of a)this.dw(e,t,HAe,i);for(const i of r)this.dw(e,t,HAe,i)}dw(e,t,n,r){const a=ISe(this.Nm),i=a.Qt().pd(),s=null!==i&&i.hu===r,o=null!==i&&s&&void 0!==i.au?i.au.ie:void 0;UAe(t,t=>n(t,e,s,o),r,a)}jm(){if(null===this.Nm)return;const e=this.Lv,t=this.Nm.U_().N().visible,n=this.Nm.q_().N().visible;t||null===this.km||(this.Hm.removeChild(this.km.iv()),this.km.m(),this.km=null),n||null===this.Pm||(this.Um.removeChild(this.Pm.iv()),this.Pm.m(),this.Pm=null);const r=e.Qt().Nd();t&&null===this.km&&(this.km=new GAe(this,e.N(),r,"left"),this.Hm.appendChild(this.km.iv())),n&&null===this.Pm&&(this.Pm=new GAe(this,e.N(),r,"right"),this.Um.appendChild(this.Pm.iv()))}fw(e){return e.Np&&this.Em||null!==this.Am}Zm(e,t,n){e=Math.max(0,Math.min(e,this.Uv.width-1)),t=Math.max(0,Math.min(t,this.Uv.height-1)),this.ns().Ad(e,t,n,ISe(this.Nm))}sw(){this.ns().zd()}rw(){this.Lm&&(this.Am=null,this.sw())}iw(e,t,n){this.Am=e,this.Lm=!1,this.Zm(t.x,t.y,n);const r=this.ns().gd();this.zm={x:r.si(),y:r.ni()}}ns(){return this.Lv.Qt()}tw(e){if(!this.Dm)return;const t=this.ns(),n=this.cv();if(t.X_(n,n.Rs()),this.Rm=null,this.Dm=!1,t.Vd(),null!==this.Om){const e=performance.now(),n=t.Et();this.Om.fe(n.Cc(),e),this.Om.Ec(e)||t.vn(this.Om)}}Km(){this.Am=null}Gm(){if(this.Nm){if(this.ns().dn(),document.activeElement!==document.body&&document.activeElement!==document.documentElement)ISe(document.activeElement).blur();else{const e=document.getSelection();null!==e&&e.removeAllRanges()}!this.Nm.Rs().Gi()&&this.ns().Et().Gi()}}Qm(e){if(null===this.Nm)return;const t=this.ns(),n=t.Et();if(n.Gi())return;const r=this.Lv.N(),a=r.handleScroll,i=r.kineticScroll;if((!a.pressedMouseMove||e.Np)&&(!a.horzTouchDrag&&!a.vertTouchDrag||!e.Np))return;const s=this.Nm.Rs(),o=performance.now();if(null!==this.Rm||this.fw(e)||(this.Rm={x:e.clientX,y:e.clientY,cf:o,pw:e.localX,mw:e.localY}),null!==this.Rm&&!this.Dm&&(this.Rm.x!==e.clientX||this.Rm.y!==e.clientY)){if(e.Np&&i.touch||!e.Np&&i.mouse){const e=n.ul();this.Om=new FAe(.2/e,7/e,.997,15/e),this.Om.Dv(n.Cc(),this.Rm.cf)}else this.Om=null;s.Gi()||t.Z_(this.Nm,s,e.localY),t.Dd(e.localX),this.Dm=!0}this.Dm&&(s.Gi()||t.G_(this.Nm,s,e.localY),t.Id(e.localX),null!==this.Om&&this.Om.Dv(n.Cc(),o))}}class JAe{constructor(e,t,n,r,a){this.xt=!0,this.Uv=gSe({width:0,height:0}),this.Zv=()=>this.pm(3),this.Jv="left"===e,this.hd=n.Nd,this.Ps=t,this.ww=r,this.gw=a,this.Jp=document.createElement("div"),this.Jp.style.width="25px",this.Jp.style.height="100%",this.Jp.style.overflow="hidden",this.sm=zAe(this.Jp,gSe({width:16,height:16})),this.sm.subscribeSuggestedBitmapSizeChanged(this.Zv)}m(){this.sm.unsubscribeSuggestedBitmapSizeChanged(this.Zv),VAe(this.sm.canvasElement),this.sm.dispose()}iv(){return this.Jp}sv(){return this.Uv}dm(e){ySe(this.Uv,e)||(this.Uv=e,this.sm.resizeCanvasElement(e),this.Jp.style.width=`${e.width}px`,this.Jp.style.height=`${e.height}px`,this.xt=!0)}pm(e){if(e<3&&!this.xt)return;if(0===this.Uv.width||0===this.Uv.height)return;this.xt=!1,this.sm.applySuggestedBitmapSize();const t=kSe(this.sm,{colorSpace:this.Ps.layout.colorSpace});null!==t&&t.useBitmapCoordinateSpace(e=>{this.wm(e),this.gm(e)})}nv(){return this.sm.bitmapSize}ev(e,t,n){const r=this.nv();r.width>0&&r.height>0&&e.drawImage(this.sm.canvasElement,t,n)}gm({context:e,bitmapSize:t,horizontalPixelRatio:n,verticalPixelRatio:r}){if(!this.ww())return;e.fillStyle=this.Ps.timeScale.borderColor;const a=Math.floor(this.hd.N().S*n),i=Math.floor(this.hd.N().S*r),s=this.Jv?t.width-a:0;e.fillRect(s,0,a,i)}wm({context:e,bitmapSize:t}){rNe(e,0,0,t.width,t.height,this.gw())}}function eCe(e){return t=>t.Ka?.(e)??[]}const tCe=eCe("normal"),nCe=eCe("top"),rCe=eCe("bottom");class aCe{constructor(e,t){this.Mw=null,this.bw=null,this.M=null,this.Sw=!1,this.Uv=gSe({width:0,height:0}),this.xw=new PSe,this.qv=new NNe(5),this.Kv=!1,this.Zv=()=>{this.Kv||this.Lv.Qt().dr()},this.Xv=()=>{this.Kv||this.Lv.Qt().dr()},this.Lv=e,this.cu=t,this.Ps=e.N().layout,this.Vv=document.createElement("tr"),this.Cw=document.createElement("td"),this.Cw.style.padding="0",this.yw=document.createElement("td"),this.yw.style.padding="0",this.Jp=document.createElement("td"),this.Jp.style.height="25px",this.Jp.style.padding="0",this.kw=document.createElement("div"),this.kw.style.width="100%",this.kw.style.height="100%",this.kw.style.position="relative",this.kw.style.overflow="hidden",this.Jp.appendChild(this.kw),this.sm=zAe(this.kw,gSe({width:16,height:16})),this.sm.subscribeSuggestedBitmapSizeChanged(this.Zv);const n=this.sm.canvasElement;n.style.position="absolute",n.style.zIndex="1",n.style.left="0",n.style.top="0",this.nm=zAe(this.kw,gSe({width:16,height:16})),this.nm.subscribeSuggestedBitmapSizeChanged(this.Xv);const r=this.nm.canvasElement;r.style.position="absolute",r.style.zIndex="2",r.style.left="0",r.style.top="0",this.Vv.appendChild(this.Cw),this.Vv.appendChild(this.Jp),this.Vv.appendChild(this.yw),this.Pw(),this.Lv.Qt().B_().i(this.Pw.bind(this),this),this.$p=new MAe(this.nm.canvasElement,this,{dp:()=>!0,fp:()=>!this.Lv.N().handleScroll.horzTouchDrag})}m(){this.$p.m(),null!==this.Mw&&this.Mw.m(),null!==this.bw&&this.bw.m(),this.nm.unsubscribeSuggestedBitmapSizeChanged(this.Xv),VAe(this.nm.canvasElement),this.nm.dispose(),this.sm.unsubscribeSuggestedBitmapSizeChanged(this.Zv),VAe(this.sm.canvasElement),this.sm.dispose()}iv(){return this.Vv}Tw(){return this.Mw}Rw(){return this.bw}Pp(e){if(this.Sw)return;this.Sw=!0;const t=this.Lv.Qt();!t.Et().Gi()&&this.Lv.N().handleScale.axisPressedMouseMove.time&&t.Pd(e.localX)}yp(e){this.Pp(e)}Tp(){const e=this.Lv.Qt();!e.Et().Gi()&&this.Sw&&(this.Sw=!1,this.Lv.N().handleScale.axisPressedMouseMove.time&&e.Ed())}mp(e){const t=this.Lv.Qt();!t.Et().Gi()&&this.Lv.N().handleScale.axisPressedMouseMove.time&&t.Bd(e.localX)}pp(e){this.mp(e)}bp(){this.Sw=!1;const e=this.Lv.Qt();e.Et().Gi()&&!this.Lv.N().handleScale.axisPressedMouseMove.time||e.Ed()}gp(){this.bp()}ip(){this.Lv.N().handleScale.axisDoubleClickReset.time&&this.Lv.Qt().wn()}Xf(){this.ip()}lp(){this.Lv.Qt().N().handleScale.axisPressedMouseMove.time&&this.Cm(1)}zp(){this.Cm(0)}sv(){return this.Uv}Dw(){return this.xw}Iw(e,t,n){ySe(this.Uv,e)||(this.Uv=e,this.Kv=!0,this.sm.resizeCanvasElement(e),this.nm.resizeCanvasElement(e),this.Kv=!1,this.Jp.style.width=`${e.width}px`,this.Jp.style.height=`${e.height}px`,this.xw.p(e)),null!==this.Mw&&this.Mw.dm(gSe({width:t,height:e.height})),null!==this.bw&&this.bw.dm(gSe({width:n,height:e.height}))}Vw(){const e=this.Bw();return Math.ceil(e.S+e.C+e.k+e.A+e.I+e.Ew)}kt(){this.Lv.Qt().Et().Vl()}nv(){return this.sm.bitmapSize}ev(e,t,n,r){const a=this.nv();if(a.width>0&&a.height>0&&(e.drawImage(this.sm.canvasElement,t,n),r)){const r=this.nm.canvasElement;e.drawImage(r,t,n)}}pm(e){if(0===e)return;const t={colorSpace:this.Ps.colorSpace};if(1!==e){this.sm.applySuggestedBitmapSize();const n=kSe(this.sm,t);null!==n&&(n.useBitmapCoordinateSpace(e=>{this.wm(e),this.gm(e),this.Aw(n,rCe)}),this.bm(n),this.Aw(n,tCe)),null!==this.Mw&&this.Mw.pm(e),null!==this.bw&&this.bw.pm(e)}this.nm.applySuggestedBitmapSize();const n=kSe(this.nm,t);null!==n&&(n.useBitmapCoordinateSpace(({context:e,bitmapSize:t})=>{e.clearRect(0,0,t.width,t.height)}),this.Lw([...this.Lv.Qt().tn(),this.Lv.Qt().gd()],n),this.Aw(n,nCe))}Aw(e,t){const n=this.Lv.Qt().tn();for(const r of n)UAe(t,t=>BAe(t,e,!1,void 0),r,void 0);for(const r of n)UAe(t,t=>HAe(t,e,!1,void 0),r,void 0)}wm({context:e,bitmapSize:t}){rNe(e,0,0,t.width,t.height,this.Lv.Qt().Kd())}gm({context:e,bitmapSize:t,verticalPixelRatio:n}){if(this.Lv.N().timeScale.borderVisible){e.fillStyle=this.zw();const r=Math.max(1,Math.floor(this.Bw().S*n));e.fillRect(0,0,t.width,r)}}bm(e){const t=this.Lv.Qt().Et(),n=t.Vl();if(!n||0===n.length)return;const r=this.cu.maxTickMarkWeight(n),a=this.Bw(),i=t.N();i.borderVisible&&i.ticksVisible&&e.useBitmapCoordinateSpace(({context:e,horizontalPixelRatio:t,verticalPixelRatio:r})=>{e.strokeStyle=this.zw(),e.fillStyle=this.zw();const i=Math.max(1,Math.floor(t)),s=Math.floor(.5*t);e.beginPath();const o=Math.round(a.C*r);for(let a=n.length;a--;){const r=Math.round(n[a].coord*t);e.rect(r-s,0,i,o)}e.fill()}),e.useMediaCoordinateSpace(({context:e})=>{const t=a.S+a.C+a.A+a.k/2;e.textAlign="center",e.textBaseline="middle",e.fillStyle=this.H(),e.font=this._m();for(const a of n)if(a.weight<r){const n=a.needAlignCoordinate?this.Ow(e,a.coord,a.label):a.coord;e.fillText(a.label,n,t)}this.Lv.N().timeScale.allowBoldLabels&&(e.font=this.Nw());for(const a of n)if(a.weight>=r){const n=a.needAlignCoordinate?this.Ow(e,a.coord,a.label):a.coord;e.fillText(a.label,n,t)}})}Ow(e,t,n){const r=this.qv.Ii(e,n),a=r/2,i=Math.floor(t-a)+.5;return i<0?t+=Math.abs(0-i):i+r>this.Uv.width&&(t-=Math.abs(this.Uv.width-(i+r))),t}Lw(e,t){const n=this.Bw();for(const r of e)for(const e of r.fs())e.Tt().nt(t,n)}zw(){return this.Lv.N().timeScale.borderColor}H(){return this.Ps.textColor}F(){return this.Ps.fontSize}_m(){return HSe(this.F(),this.Ps.fontFamily)}Nw(){return HSe(this.F(),this.Ps.fontFamily,"bold")}Bw(){null===this.M&&(this.M={S:1,L:NaN,A:NaN,I:NaN,ts:NaN,C:5,k:NaN,P:"",Qi:new NNe,Ew:0});const e=this.M,t=this._m();if(e.P!==t){const n=this.F();e.k=n,e.P=t,e.A=3*n/12,e.I=3*n/12,e.ts=9*n/12,e.L=0,e.Ew=4*n/12,e.Qi.On()}return this.M}Cm(e){this.Jp.style.cursor=1===e?"ew-resize":"default"}Pw(){const e=this.Lv.Qt(),t=e.N();t.leftPriceScale.visible||null===this.Mw||(this.Cw.removeChild(this.Mw.iv()),this.Mw.m(),this.Mw=null),t.rightPriceScale.visible||null===this.bw||(this.yw.removeChild(this.bw.iv()),this.bw.m(),this.bw=null);const n={Nd:this.Lv.Qt().Nd()},r=()=>t.leftPriceScale.borderVisible&&e.Et().N().borderVisible,a=()=>e.Kd();t.leftPriceScale.visible&&null===this.Mw&&(this.Mw=new JAe("left",t,n,r,a),this.Cw.appendChild(this.Mw.iv())),t.rightPriceScale.visible&&null===this.bw&&(this.bw=new JAe("right",t,n,r,a),this.yw.appendChild(this.bw.iv()))}}const iCe=!!EAe&&!!navigator.userAgentData&&navigator.userAgentData.brands.some(e=>e.brand.includes("Chromium"))&&!!EAe&&(navigator?.userAgentData?.platform?"Windows"===navigator.userAgentData.platform:navigator.userAgent.toLowerCase().indexOf("win")>=0);class sCe{constructor(e,t,n){var r;this.Fw=[],this.Ww=[],this.Hw=0,this.eo=0,this.S_=0,this.Uw=0,this.$w=0,this.qw=null,this.jw=!1,this.Im=new PSe,this.Vm=new PSe,this.nd=new PSe,this.Yw=null,this.Kw=null,this.Av=e,this.Ps=t,this.cu=n,this.Vv=document.createElement("div"),this.Vv.classList.add("tv-lightweight-charts"),this.Vv.style.overflow="hidden",this.Vv.style.direction="ltr",this.Vv.style.width="100%",this.Vv.style.height="100%",(r=this.Vv).style.userSelect="none",r.style.webkitUserSelect="none",r.style.msUserSelect="none",r.style.MozUserSelect="none",r.style.webkitTapHighlightColor="transparent",this.Zw=document.createElement("table"),this.Zw.setAttribute("cellspacing","0"),this.Vv.appendChild(this.Zw),this.Gw=this.Xw.bind(this),oCe(this.Ps)&&this.Jw(!0),this.ns=new oAe(this.rd.bind(this),this.Ps,n),this.Qt().Md().i(this.Qw.bind(this),this),this.tg=new aCe(this,this.cu),this.Zw.appendChild(this.tg.iv());const a=t.autoSize&&this.ig();let i=this.Ps.width,s=this.Ps.height;if(a||0===i||0===s){const t=e.getBoundingClientRect();i=i||t.width,s=s||t.height}this.sg(i,s),this.ng(),e.appendChild(this.Vv),this.eg(),this.ns.Et().Oc().i(this.ns.Ca.bind(this.ns),this),this.ns.B_().i(this.ns.Ca.bind(this.ns),this)}Qt(){return this.ns}N(){return this.Ps}Zp(){return this.Fw}rg(){return this.tg}m(){this.Jw(!1),0!==this.Hw&&window.cancelAnimationFrame(this.Hw),this.ns.Md().u(this),this.ns.Et().Oc().u(this),this.ns.B_().u(this),this.ns.m();for(const e of this.Fw)this.Zw.removeChild(e.iv()),e.nw().u(this),e.ew().u(this),e.m();this.Fw=[];for(const e of this.Ww)this.hg(e);this.Ww=[],ISe(this.tg).m(),null!==this.Vv.parentElement&&this.Vv.parentElement.removeChild(this.Vv),this.nd.m(),this.Im.m(),this.Vm.m(),this.ag()}sg(e,t,n=!1){if(this.eo===t&&this.S_===e)return;const r=function(e){const t=Math.floor(e.width),n=Math.floor(e.height);return gSe({width:t-t%2,height:n-n%2})}(gSe({width:e,height:t}));this.eo=r.height,this.S_=r.width;const a=this.eo+"px",i=this.S_+"px";ISe(this.Vv).style.height=a,ISe(this.Vv).style.width=i,this.Zw.style.height=a,this.Zw.style.width=i,n?this.lg(yNe.yn(),performance.now()):this.ns.Ca()}pm(e){void 0===e&&(e=yNe.yn());for(let t=0;t<this.Fw.length;t++)this.Fw[t].pm(e.un(t).an);this.Ps.timeScale.visible&&this.tg.pm(e._n())}cr(e){const t=oCe(this.Ps);this.ns.cr(e);const n=oCe(this.Ps);n!==t&&this.Jw(n),e.layout?.panes&&this.og(),this.eg(),this._g(e)}nw(){return this.Im}ew(){return this.Vm}Md(){return this.nd}ug(e=!1){null!==this.qw&&(this.lg(this.qw,performance.now()),this.qw=null);const t=this.cg(null),n=document.createElement("canvas");n.width=t.width,n.height=t.height;const r=ISe(n.getContext("2d"));return this.cg(r,e),n}dg(e){return("left"!==e||this.fg())&&("right"!==e||this.pg())?0===this.Fw.length?0:ISe("left"===e?this.Fw[0].uw():this.Fw[0].cw()).fm():0}vg(){return this.Ps.autoSize&&null!==this.Yw}hv(){return this.Vv}mg(e){this.Kw=e,this.Kw?this.hv().style.setProperty("cursor",e):this.hv().style.removeProperty("cursor")}wg(){return this.Kw}gg(e){return TSe(this.Fw[e]).sv()}og(){this.Ww.forEach(e=>{e.kt()})}_g(e){(void 0!==e.autoSize||!this.Yw||void 0===e.width&&void 0===e.height)&&(e.autoSize&&!this.Yw&&this.ig(),!1===e.autoSize&&null!==this.Yw&&this.ag(),e.autoSize||void 0===e.width&&void 0===e.height||this.sg(e.width||this.S_,e.height||this.eo))}cg(e,t){let n=0,r=0;const a=this.Fw[0],i=(n,r)=>{let a=0;for(let i=0;i<this.Fw.length;i++){const s=this.Fw[i],o=ISe("left"===n?s.uw():s.cw()),l=o.nv();if(null!==e&&o.ev(e,r,a,t),a+=l.height,i<this.Fw.length-1){const t=this.Ww[i],n=t.nv();null!==e&&t.ev(e,r,a),a+=n.height}}};this.fg()&&(i("left",0),n+=ISe(a.uw()).nv().width);for(let o=0;o<this.Fw.length;o++){const a=this.Fw[o],i=a.nv();if(null!==e&&a.ev(e,n,r,t),r+=i.height,o<this.Fw.length-1){const t=this.Ww[o],a=t.nv();null!==e&&t.ev(e,n,r),r+=a.height}}n+=a.nv().width,this.pg()&&(i("right",n),n+=ISe(a.cw()).nv().width);const s=(t,n,r)=>{ISe("left"===t?this.tg.Tw():this.tg.Rw()).ev(ISe(e),n,r)};if(this.Ps.timeScale.visible){const n=this.tg.nv();if(null!==e){let i=0;this.fg()&&(s("left",i,r),i=ISe(a.uw()).nv().width),this.tg.ev(e,i,r,t),i+=n.width,this.pg()&&s("right",i,r)}r+=n.height}return gSe({width:n,height:r})}Mg(){let e=0,t=0,n=0;for(const m of this.Fw)this.fg()&&(t=Math.max(t,ISe(m.uw()).om(),this.Ps.leftPriceScale.minimumWidth)),this.pg()&&(n=Math.max(n,ISe(m.cw()).om(),this.Ps.rightPriceScale.minimumWidth)),e+=m.E_();t=jAe(t),n=jAe(n);const r=this.S_,a=this.eo,i=Math.max(r-t-n,0),s=1*this.Ww.length,o=this.Ps.timeScale.visible;let l=o?Math.max(this.tg.Vw(),this.Ps.timeScale.minimumHeight):0;var c;l=(c=l)+c%2;const u=s+l,h=a<u?0:a-u,d=h/e;let p=0;const f=window.devicePixelRatio||1;for(let m=0;m<this.Fw.length;++m){const e=this.Fw[m];e.qm(this.ns.Xs()[m]);let r=0,a=0;a=m===this.Fw.length-1?Math.ceil((h-p)*f)/f:Math.round(e.E_()*d*f)/f,r=Math.max(a,2),p+=r,e.dm(gSe({width:i,height:r})),this.fg()&&e.hw(t,"left"),this.pg()&&e.hw(n,"right"),e.cv()&&this.ns.bd(e.cv(),r)}this.tg.Iw(gSe({width:o?i:0,height:l}),o?t:0,o?n:0),this.ns.L_(i),this.Uw!==t&&(this.Uw=t),this.$w!==n&&(this.$w=n)}Jw(e){e?this.Vv.addEventListener("wheel",this.Gw,{passive:!1}):this.Vv.removeEventListener("wheel",this.Gw)}bg(e){switch(e.deltaMode){case e.DOM_DELTA_PAGE:return 120;case e.DOM_DELTA_LINE:return 32}return iCe?1/window.devicePixelRatio:1}Xw(e){if(!(0!==e.deltaX&&this.Ps.handleScroll.mouseWheel||0!==e.deltaY&&this.Ps.handleScale.mouseWheel))return;const t=this.bg(e),n=t*e.deltaX/100,r=-t*e.deltaY/100;if(e.cancelable&&e.preventDefault(),0!==r&&this.Ps.handleScale.mouseWheel){const t=Math.sign(r)*Math.min(1,Math.abs(r)),n=e.clientX-this.Vv.getBoundingClientRect().left;this.Qt().Td(n,t)}0!==n&&this.Ps.handleScroll.mouseWheel&&this.Qt().Rd(-80*n)}lg(e,t){const n=e._n();3===n&&this.Sg(),3!==n&&2!==n||(this.xg(e),this.Cg(e,t),this.tg.kt(),this.Fw.forEach(e=>{e.Ym()}),3===this.qw?._n()&&(this.qw.Sn(e),this.Sg(),this.xg(this.qw),this.Cg(this.qw,t),e=this.qw,this.qw=null)),this.pm(e)}Cg(e,t){for(const n of e.bn())this.xn(n,t)}xg(e){const t=this.ns.Xs();for(let n=0;n<t.length;n++)e.un(n).ln&&t[n].tu()}xn(e,t){const n=this.ns.Et();switch(e.fn){case 0:n.Fc();break;case 1:n.Wc(e.Wt);break;case 2:n.gn(e.Wt);break;case 3:n.Mn(e.Wt);break;case 4:n.Pc();break;case 5:e.Wt.Ec(t)||n.Mn(e.Wt.Ac(t))}}rd(e){null!==this.qw?this.qw.Sn(e):this.qw=e,this.jw||(this.jw=!0,this.Hw=window.requestAnimationFrame(e=>{if(this.jw=!1,this.Hw=0,null!==this.qw){const t=this.qw;this.qw=null,this.lg(t,e);for(const n of t.bn())if(5===n.fn&&!n.Wt.Ec(e)){this.Qt().vn(n.Wt);break}}}))}Sg(){this.ng()}hg(e){this.Zw.removeChild(e.iv()),e.m()}ng(){const e=this.ns.Xs(),t=e.length,n=this.Fw.length;for(let r=t;r<n;r++){const e=TSe(this.Fw.pop());this.Zw.removeChild(e.iv()),e.nw().u(this),e.ew().u(this),e.m();const t=this.Ww.pop();void 0!==t&&this.hg(t)}for(let r=n;r<t;r++){const t=new QAe(this,e[r]);if(t.nw().i(this.yg.bind(this,t),this),t.ew().i(this.kg.bind(this,t),this),this.Fw.push(t),r>0){const e=new _Ae(this,r-1,r);this.Ww.push(e),this.Zw.insertBefore(e.iv(),this.tg.iv())}this.Zw.insertBefore(t.iv(),this.tg.iv())}for(let r=0;r<t;r++){const t=e[r],n=this.Fw[r];n.cv()!==t?n.qm(t):n.$m()}this.eg(),this.Mg()}Pg(e,t,n,r){const a=new Map;let i;if(null!==e&&this.ns.tn().forEach(t=>{const n=t.qs().$s(e);null!==n&&a.set(t,n)}),null!==e){const t=this.ns.Et().es(e)?.originalTime;void 0!==t&&(i=t)}const s=this.Qt().pd(),o=null!==s&&s.hu instanceof gEe?s.hu:void 0,l=null!==s&&void 0!==s.au?s.au.te:void 0,c=this.Tg(r);return{Gr:i,js:e??void 0,Rg:t??void 0,Dg:-1!==c?c:void 0,Ig:o,Vg:a,Bg:l,Eg:n??void 0}}Tg(e){let t=-1;if(e)t=this.Fw.indexOf(e);else{const e=this.Qt().gd().Gs();null!==e&&(t=this.Qt().Xs().indexOf(e))}return t}yg(e,t,n,r){this.Im.p(()=>this.Pg(t,n,r,e))}kg(e,t,n,r){this.Vm.p(()=>this.Pg(t,n,r,e))}Qw(e,t,n){this.mg(this.Qt().pd()?.ou??null),this.nd.p(()=>this.Pg(e,t,n))}eg(){const e=this.Ps.timeScale.visible?"":"none";this.tg.iv().style.display=e}fg(){return this.Fw[0].cv().U_().N().visible}pg(){return this.Fw[0].cv().q_().N().visible}ig(){return"ResizeObserver"in window&&(this.Yw=new ResizeObserver(e=>{const t=e[e.length-1];t&&this.sg(t.contentRect.width,t.contentRect.height)}),this.Yw.observe(this.Av,{box:"border-box"}),!0)}ag(){null!==this.Yw&&this.Yw.disconnect(),this.Yw=null}}function oCe(e){return Boolean(e.handleScroll.mouseWheel||e.handleScale.mouseWheel)}function lCe(e,t,n,r){const a=n.value,i={js:t,wt:e,Wt:[a,a,a,a],Gr:r};return void 0!==n.color&&(i.R=n.color),i}function cCe(e,t,n,r){const a=n.value,i={js:t,wt:e,Wt:[a,a,a,a],Gr:r};return void 0!==n.lineColor&&(i.vt=n.lineColor),void 0!==n.topColor&&(i.eh=n.topColor),void 0!==n.bottomColor&&(i.rh=n.bottomColor),i}function uCe(e,t,n,r){const a=n.value,i={js:t,wt:e,Wt:[a,a,a,a],Gr:r};return void 0!==n.topLineColor&&(i.hh=n.topLineColor),void 0!==n.bottomLineColor&&(i.ah=n.bottomLineColor),void 0!==n.topFillColor1&&(i.oh=n.topFillColor1),void 0!==n.topFillColor2&&(i._h=n.topFillColor2),void 0!==n.bottomFillColor1&&(i.uh=n.bottomFillColor1),void 0!==n.bottomFillColor2&&(i.dh=n.bottomFillColor2),i}function hCe(e,t,n,r){const a={js:t,wt:e,Wt:[n.open,n.high,n.low,n.close],Gr:r};return void 0!==n.color&&(a.R=n.color),a}function dCe(e,t,n,r){const a={js:t,wt:e,Wt:[n.open,n.high,n.low,n.close],Gr:r};return void 0!==n.color&&(a.R=n.color),void 0!==n.borderColor&&(a.Ht=n.borderColor),void 0!==n.wickColor&&(a.nh=n.wickColor),a}function pCe(e,t,n,r,a){const i=TSe(a)(n),s=Math.max(...i),o=Math.min(...i),l=i[i.length-1],c=[l,s,o,l],{time:u,color:h,...d}=n;return{js:t,wt:e,Wt:c,Gr:r,le:d,R:h}}function fCe(e){return void 0!==e.Wt}function mCe(e,t){return void 0!==t.customValues&&(e.Ag=t.customValues),e}function gCe(e){return(t,n,r,a,i,s)=>{return o=r,((l=s)?l(o):function(e){return void 0===e.open&&void 0===e.value}(o))?mCe({wt:t,js:n,Gr:a},r):mCe(e(t,n,r,a,i),r);var o,l}}function yCe(e){return{Candlestick:gCe(dCe),Bar:gCe(hCe),Area:gCe(cCe),Baseline:gCe(uCe),Histogram:gCe(lCe),Line:gCe(lCe),Custom:gCe(pCe)}[e]}function xCe(e){return{js:0,Lg:new Map,Ea:e}}function bCe(e,t){if(void 0!==e&&0!==e.length)return{zg:t.key(e[0].wt),Og:t.key(e[e.length-1].wt)}}function vCe(e){let t;return e.forEach(e=>{void 0===t&&(t=e.Gr)}),TSe(t)}class wCe{constructor(e){this.Ng=new Map,this.Fg=new Map,this.Wg=new Map,this.Hg=[],this.cu=e}m(){this.Ng.clear(),this.Fg.clear(),this.Wg.clear(),this.Hg=[]}Ug(e,t){let n=0!==this.Ng.size,r=!1;const a=this.Fg.get(e);if(void 0!==a)if(1===this.Fg.size)n=!1,r=!0,this.Ng.clear();else for(const o of this.Hg)o.pointData.Lg.delete(e)&&(r=!0);let i=[];if(0!==t.length){const n=t.map(e=>e.time),a=this.cu.createConverterToInternalObj(t),s=yCe(e.wh()),o=e.rl(),l=e.hl();i=t.map((t,i)=>{const c=a(t.time),u=this.cu.key(c);let h=this.Ng.get(u);void 0===h&&(h=xCe(c),this.Ng.set(u,h),r=!0);const d=s(c,h.js,t,n[i],o,l);return h.Lg.set(e,d),d})}n&&this.$g(),this.qg(e,i);let s=-1;if(r){const e=[];this.Ng.forEach(t=>{e.push({timeWeight:0,time:t.Ea,pointData:t,originalTime:vCe(t.Lg)})}),e.sort((e,t)=>this.cu.key(e.time)-this.cu.key(t.time)),s=this.jg(e)}return this.Yg(e,s,function(e,t,n){const r=bCe(e,n),a=bCe(t,n);if(void 0!==r&&void 0!==a)return{Kg:!1,Ta:r.Og>=a.Og&&r.zg>=a.zg}}(this.Fg.get(e),a,this.cu))}Hd(e){return this.Ug(e,[])}Zg(e,t,n){if(n&&e.La())throw new Error("Historical updates are not supported when conflation is enabled. Conflation requires data to be processed in order.");const r=t;var a;void 0===(a=r).Gr&&(a.Gr=a.time),this.cu.preprocessData(t);const i=this.cu.createConverterToInternalObj([t])(t.time),s=this.Wg.get(e);if(!n&&void 0!==s&&this.cu.key(i)<this.cu.key(s))throw new Error(`Cannot update oldest data, last time=${s}, new time=${i}`);let o=this.Ng.get(this.cu.key(i));if(n&&void 0===o)throw new Error("Cannot update non-existing data point when historicalUpdate is true");const l=void 0===o;void 0===o&&(o=xCe(i),this.Ng.set(this.cu.key(i),o));const c=yCe(e.wh()),u=e.rl(),h=e.hl(),d=c(i,o.js,t,r.Gr,u,h),p=!n&&!l&&void 0!==s&&this.cu.key(i)===this.cu.key(s);o.Lg.set(e,d),n?this.Gg(e,d,o.js):p&&e.La()&&fCe(d)?(e.kr(d),this.Xg(e,d)):this.Xg(e,d);const f={Ta:fCe(d),Kg:n};if(!l)return this.Yg(e,-1,f);const m={timeWeight:0,time:o.Ea,pointData:o,originalTime:vCe(o.Lg)},g=GNe(this.Hg,this.cu.key(m.time),(e,t)=>this.cu.key(e.time)<t);this.Hg.splice(g,0,m);for(let y=g;y<this.Hg.length;++y)kCe(this.Hg[y].pointData,y);return this.cu.fillWeightsForPoints(this.Hg,g),this.Yg(e,g,f)}Jg(e,t){const n=this.Fg.get(e);if(void 0===n||t<=0)return[[],this.Qg()];t=Math.min(t,n.length);const r=n.splice(-t).reverse();0===n.length?this.Wg.delete(e):this.Wg.set(e,n[n.length-1].wt);for(const a of r){const t=this.Ng.get(this.cu.key(a.wt));if(t&&(t.Lg.delete(e),0===t.Lg.size)){this.Ng.delete(this.cu.key(t.Ea)),this.Hg.splice(t.js,1);for(let e=t.js;e<this.Hg.length;++e)kCe(this.Hg[e].pointData,e)}}return[r,this.Yg(e,this.Hg.length-1,{Kg:!1,Ta:!1})]}Xg(e,t){let n=this.Fg.get(e);void 0===n&&(n=[],this.Fg.set(e,n));const r=0!==n.length?n[n.length-1]:null;null===r||this.cu.key(t.wt)>this.cu.key(r.wt)?fCe(t)&&n.push(t):fCe(t)?n[n.length-1]=t:n.splice(-1,1),this.Wg.set(e,t.wt)}Gg(e,t,n){const r=this.Fg.get(e);if(void 0===r)return;const a=GNe(r,n,(e,t)=>e.js<t);fCe(t)?r[a]=t:r.splice(a,1)}qg(e,t){0!==t.length?(this.Fg.set(e,t.filter(fCe)),this.Wg.set(e,t[t.length-1].wt)):(this.Fg.delete(e),this.Wg.delete(e))}$g(){for(const e of this.Hg)0===e.pointData.Lg.size&&this.Ng.delete(this.cu.key(e.time))}jg(e){let t=-1;for(let n=0;n<this.Hg.length&&n<e.length;++n){const r=this.Hg[n],a=e[n];if(this.cu.key(r.time)!==this.cu.key(a.time)){t=n;break}a.timeWeight=r.timeWeight,kCe(a.pointData,n)}if(-1===t&&this.Hg.length!==e.length&&(t=Math.min(this.Hg.length,e.length)),-1===t)return-1;for(let n=t;n<e.length;++n)kCe(e[n].pointData,n);return this.cu.fillWeightsForPoints(e,t),this.Hg=e,t}tM(){if(0===this.Fg.size)return null;let e=0;return this.Fg.forEach(t=>{0!==t.length&&(e=Math.max(e,t[t.length-1].js))}),e}Yg(e,t,n){const r=this.Qg();if(-1!==t)this.Fg.forEach((t,a)=>{r.F_.set(a,{le:t,iM:a===e?n:void 0})}),this.Fg.has(e)||r.F_.set(e,{le:[],iM:n}),r.Et.sM=this.Hg,r.Et.nM=t;else{const t=this.Fg.get(e);r.F_.set(e,{le:t||[],iM:n})}return r}Qg(){return{F_:new Map,Et:{vc:this.tM()}}}}function kCe(e,t){e.js=t,e.Lg.forEach(e=>{e.js=t})}function SCe(e,t){return e.wt<t}function NCe(e,t){return t<e.wt}function ECe(e,t,n){const r=t.Aa(),a=t.bi(),i=GNe(e,r,SCe),s=KNe(e,a,NCe);if(!n)return{from:i,to:s};let o=i,l=s;return i>0&&i<e.length&&e[i].wt>=r&&(o=i-1),s>0&&s<e.length&&e[s-1].wt<=a&&(l=s+1),{from:o,to:l}}class ACe{constructor(e,t,n){this.eM=!0,this.rM=!0,this.hM=!0,this.aM=[],this.lM=null,this.oM=-1,this.ee=e,this.re=t,this._M=n}kt(e){this.eM=!0,"data"===e&&(this.rM=!0),"options"===e&&(this.hM=!0)}Tt(){return this.ee.It()?(this.uM(),null===this.lM?null:this.cM):null}dM(){this.aM=this.aM.map(e=>({...e,...this.ee.ga().gh(e.wt)}))}fM(){this.lM=null}uM(){const e=this.re.Et(),t=e.N().enableConflation?e.Hc():0;t!==this.oM&&(this.rM=!0,this.oM=t),this.rM&&(this.pM(),this.rM=!1),this.hM&&(this.dM(),this.hM=!1),this.eM&&(this.vM(),this.eM=!1)}vM(){const e=this.ee.Ft(),t=this.re.Et();if(this.fM(),t.Gi()||e.Gi())return;const n=t.Ie();if(null===n)return;if(0===this.ee.qs().yh())return;const r=this.ee.Lt();null!==r&&(this.lM=ECe(this.aM,n,this._M),this.mM(e,t,r.Wt),this.wM())}}class CCe{constructor(e,t){this.gM=e,this.Ki=t}nt(e,t,n){this.gM.draw(e,this.Ki,t,n)}}class jCe extends ACe{constructor(e,t,n){super(e,t,!1),this.$h=n,this.cM=new CCe(this.$h.renderer(),t=>{const n=e.Lt();return null===n?null:e.Ft().Nt(t,n.Wt)})}get ma(){return this.$h.conflationReducer}Oa(e){return this.$h.priceValueBuilder(e)}al(e){return this.$h.isWhitespace(e)}pM(){const e=this.ee.ga();this.aM=this.ee.Na().Dh().map(t=>({wt:t.js,_t:NaN,...e.gh(t.js),MM:t.le}))}mM(e,t){t.mc(this.aM,VSe(this.lM))}wM(){this.$h.update({bars:this.aM.map(MCe),barSpacing:this.re.Et().ul(),visibleRange:this.lM,conflationFactor:this.re.Et().Hc()},this.ee.N())}}function MCe(e){return{x:e._t,time:e.wt,originalData:e.MM,barColor:e.th}}const TCe={color:"#2196f3"},ICe=(e,t,n)=>{const r=OSe(n);return new jCe(e,t,r)};function OCe(e){const t={value:e.Wt[3],time:e.Gr};return void 0!==e.Ag&&(t.customValues=e.Ag),t}function PCe(e){const t=OCe(e);return void 0!==e.R&&(t.color=e.R),t}function RCe(e){const t=OCe(e);return void 0!==e.vt&&(t.lineColor=e.vt),void 0!==e.eh&&(t.topColor=e.eh),void 0!==e.rh&&(t.bottomColor=e.rh),t}function _Ce(e){const t=OCe(e);return void 0!==e.hh&&(t.topLineColor=e.hh),void 0!==e.ah&&(t.bottomLineColor=e.ah),void 0!==e.oh&&(t.topFillColor1=e.oh),void 0!==e._h&&(t.topFillColor2=e._h),void 0!==e.uh&&(t.bottomFillColor1=e.uh),void 0!==e.dh&&(t.bottomFillColor2=e.dh),t}function LCe(e){const t={open:e.Wt[0],high:e.Wt[1],low:e.Wt[2],close:e.Wt[3],time:e.Gr};return void 0!==e.Ag&&(t.customValues=e.Ag),t}function $Ce(e){const t=LCe(e);return void 0!==e.R&&(t.color=e.R),t}function FCe(e){const t=LCe(e),{R:n,Ht:r,nh:a}=e;return void 0!==n&&(t.color=n),void 0!==r&&(t.borderColor=r),void 0!==a&&(t.wickColor=a),t}function DCe(e){return{Area:RCe,Line:PCe,Baseline:_Ce,Histogram:PCe,Bar:$Ce,Candlestick:FCe,Custom:zCe}[e]}function zCe(e){const t=e.Gr;return{...e.le,time:t}}const VCe={vertLine:{color:"#9598A1",width:1,style:3,visible:!0,labelVisible:!0,labelBackgroundColor:"#131722"},horzLine:{color:"#9598A1",width:1,style:3,visible:!0,labelVisible:!0,labelBackgroundColor:"#131722"},mode:1,doNotSnapToHiddenSeriesIndices:!1},BCe={vertLines:{color:"#D6DCDE",style:0,visible:!0},horzLines:{color:"#D6DCDE",style:0,visible:!0}},HCe={background:{type:"solid",color:"#FFFFFF"},textColor:"#191919",fontSize:12,fontFamily:BSe,panes:{enableResize:!0,separatorColor:"#E0E3EB",separatorHoverColor:"rgba(178, 181, 189, 0.2)"},attributionLogo:!0,colorSpace:"srgb",colorParsers:[]},UCe={autoScale:!0,mode:0,invertScale:!1,alignLabels:!0,borderVisible:!0,borderColor:"#2B2B43",entireTextOnly:!1,visible:!1,ticksVisible:!1,scaleMargins:{bottom:.1,top:.2},minimumWidth:0,ensureEdgeTickMarksVisible:!1},WCe={rightOffset:0,barSpacing:6,minBarSpacing:.5,maxBarSpacing:0,fixLeftEdge:!1,fixRightEdge:!1,lockVisibleTimeRangeOnResize:!1,rightBarStaysOnScroll:!1,borderVisible:!0,borderColor:"#2B2B43",visible:!0,timeVisible:!1,secondsVisible:!0,shiftVisibleRangeOnNewBar:!0,allowShiftVisibleRangeOnWhitespaceReplacement:!1,ticksVisible:!1,uniformDistribution:!1,minimumHeight:0,allowBoldLabels:!0,ignoreWhitespaceIndices:!1,enableConflation:!1,conflationThresholdFactor:1,precomputeConflationOnInit:!1,precomputeConflationPriority:"background"};function ZCe(){return{addDefaultPane:!0,width:0,height:0,autoSize:!1,layout:HCe,crosshair:VCe,grid:BCe,overlayPriceScales:{...UCe},leftPriceScale:{...UCe,visible:!1},rightPriceScale:{...UCe,visible:!0},timeScale:WCe,localization:{locale:EAe?navigator.language:"",dateFormat:"dd MMM 'yy"},handleScroll:{mouseWheel:!0,pressedMouseMove:!0,horzTouchDrag:!0,vertTouchDrag:!0},handleScale:{axisPressedMouseMove:{time:!0,price:!0},axisDoubleClickReset:{time:!0,price:!0},mouseWheel:!0,pinch:!0},kineticScroll:{mouse:!1,touch:!0},trackingMode:{exitMode:1}}}class GCe{constructor(e,t,n){this.Yp=e,this.bM=t,this.SM=n??0}applyOptions(e){this.Yp.Qt().md(this.bM,e,this.SM)}options(){return this.Ki().N()}width(){return gNe(this.bM)?this.Yp.dg(this.bM):0}setVisibleRange(e){this.setAutoScale(!1),this.Ki().$o(new LNe(e.from,e.to))}getVisibleRange(){let e,t,n=this.Ki().er();if(null===n)return null;if(this.Ki().io()){const r=this.Ki().m_(),a=lAe(r);n=REe(n,this.Ki().no()),e=Number((Math.round(n.Ze()/r)*r).toFixed(a)),t=Number((Math.round(n.Ge()/r)*r).toFixed(a))}else e=n.Ze(),t=n.Ge();return{from:e,to:t}}setAutoScale(e){this.applyOptions({autoScale:e})}Ki(){return ISe(this.Yp.Qt().wd(this.bM,this.SM)).Ft}}class KCe{constructor(e,t,n,r){this.Yp=e,this.yt=n,this.xM=t,this.CM=r}getHeight(){return this.yt.$t()}setHeight(e){const t=this.Yp.Qt(),n=t.Gd(this.yt);t.xd(n,e)}getStretchFactor(){return this.yt.E_()}setStretchFactor(e){this.yt.A_(e),this.Yp.Qt().Ca()}paneIndex(){return this.Yp.Qt().Gd(this.yt)}moveTo(e){const t=this.paneIndex();t!==e&&(MSe(e>=0&&e<this.Yp.Zp().length,"Invalid pane index"),this.Yp.Qt().yd(t,e))}getSeries(){return this.yt.F_().map(e=>this.xM(e))??[]}getHTMLElement(){const e=this.Yp.Zp();return e&&0!==e.length&&e[this.paneIndex()]?e[this.paneIndex()].iv():null}attachPrimitive(e){this.yt.nl(e),e.attached&&e.attached({chart:this.CM,requestUpdate:()=>this.yt.Qt().Ca()})}detachPrimitive(e){this.yt.el(e)}priceScale(e){if(null===this.yt.V_(e))throw new Error(`Cannot find price scale with id: ${e}`);return new GCe(this.Yp,e,this.paneIndex())}setPreserveEmptyPane(e){this.yt.O_(e)}preserveEmptyPane(){return this.yt.N_()}addCustomSeries(e,t={},n=0){return this.CM.addCustomSeries(e,t,n)}addSeries(e,t={}){return this.CM.addSeries(e,t,this.paneIndex())}}const qCe={color:"#FF0000",price:0,lineStyle:2,lineWidth:1,lineVisible:!0,axisLabelVisible:!0,title:"",axisLabelColor:"",axisLabelTextColor:""};class XCe{constructor(e){this.hr=e}applyOptions(e){this.hr.cr(e)}options(){return this.hr.N()}yM(){return this.hr}}class YCe{constructor(e,t,n,r,a,i){this.kM=new PSe,this.ee=e,this.PM=t,this.TM=n,this.cu=a,this.CM=r,this.RM=i}m(){this.kM.m()}priceFormatter(){return this.ee.Xa()}priceToCoordinate(e){const t=this.ee.Lt();return null===t?null:this.ee.Ft().Nt(e,t.Wt)}coordinateToPrice(e){const t=this.ee.Lt();return null===t?null:this.ee.Ft().Ds(e,t.Wt)}barsInLogicalRange(e){if(null===e)return null;const t=new JEe(new XEe(e.from,e.to)).Ru(),n=this.ee.qs();if(n.Gi())return null;const r=n.$s(t.Aa(),1),a=n.$s(t.bi(),-1),i=ISe(n.kh()),s=ISe(n.sn());if(null!==r&&null!==a&&r.js>a.js)return{barsBefore:e.from-i,barsAfter:s-e.to};const o={barsBefore:null===r||r.js===i?e.from-i:r.js-i,barsAfter:null===a||a.js===s?s-e.to:s-a.js};return null!==r&&null!==a&&(o.from=r.Gr,o.to=a.Gr),o}setData(e){this.cu,this.ee.wh(),this.PM.DM(this.ee,e),this.IM("full")}update(e,t=!1){this.ee.wh(),this.PM.VM(this.ee,e,t),this.IM("update")}pop(e=1){const t=this.PM.BM(this.ee,e);0!==t.length&&this.IM("update");const n=DCe(this.seriesType());return t.map(e=>n(e))}dataByIndex(e,t){const n=this.ee.qs().$s(e,t);return null===n?null:DCe(this.seriesType())(n)}data(){const e=DCe(this.seriesType());return this.ee.qs().Dh().map(t=>e(t))}subscribeDataChanged(e){this.kM.i(e)}unsubscribeDataChanged(e){this.kM._(e)}applyOptions(e){this.ee.cr(e)}options(){return DSe(this.ee.N())}priceScale(){return this.TM.priceScale(this.ee.Ft().ol(),this.getPane().paneIndex())}createPriceLine(e){const t=RSe(DSe(qCe),e),n=this.ee.Da(t);return new XCe(n)}removePriceLine(e){this.ee.Ia(e.yM())}priceLines(){return this.ee.Va().map(e=>new XCe(e))}seriesType(){return this.ee.wh()}lastValueData(e){const t=this.ee.Ve(e);return t.Be?{noData:!0}:{noData:!1,price:t.gt,color:t.R}}attachPrimitive(e){this.ee.nl(e),e.attached&&e.attached({chart:this.CM,series:this,requestUpdate:()=>this.ee.Qt().Ca(),horzScaleBehavior:this.cu})}detachPrimitive(e){this.ee.el(e),e.detached&&e.detached(),this.ee.Qt().Ca()}getPane(){const e=this.ee,t=ISe(this.ee.Qt().Kn(e));return this.RM(t)}moveToPane(e){this.ee.Qt().jd(this.ee,e)}seriesOrder(){const e=this.ee.Qt().Kn(this.ee);return null===e?-1:e.F_().indexOf(this.ee)}setSeriesOrder(e){const t=this.ee.Qt().Kn(this.ee);null!==t&&t.su(this.ee,e)}IM(e){this.kM.v()&&this.kM.p(e)}}class QCe{constructor(e,t,n){this.EM=new PSe,this.Nu=new PSe,this.xw=new PSe,this.ns=e,this.Jh=e.Et(),this.tg=t,this.Jh.Lc().i(this.AM.bind(this)),this.Jh.zc().i(this.LM.bind(this)),this.tg.Dw().i(this.zM.bind(this)),this.cu=n}m(){this.Jh.Lc().u(this),this.Jh.zc().u(this),this.tg.Dw().u(this),this.EM.m(),this.Nu.m(),this.xw.m()}scrollPosition(){return this.Jh.Cc()}scrollToPosition(e,t){t?this.Jh.Bc(e,1e3):this.ns.Mn(e)}scrollToRealTime(){this.Jh.Vc()}getVisibleRange(){const e=this.Jh.lc();return null===e?null:{from:e.from.originalTime,to:e.to.originalTime}}setVisibleRange(e){const t={from:this.cu.convertHorzItemToInternal(e.from),to:this.cu.convertHorzItemToInternal(e.to)},n=this.Jh.cc(t);this.ns.$d(n)}getVisibleLogicalRange(){const e=this.Jh.ac();return null===e?null:{from:e.Aa(),to:e.bi()}}setVisibleLogicalRange(e){MSe(e.from<=e.to,"The from index cannot be after the to index."),this.ns.$d(e)}resetTimeScale(){this.ns.wn()}fitContent(){this.ns.Fc()}logicalToCoordinate(e){const t=this.ns.Et();return t.Gi()?null:t.qt(e)}coordinateToLogical(e){return this.Jh.Gi()?null:this.Jh.wc(e)}timeToIndex(e,t){const n=this.cu.convertHorzItemToInternal(e);return this.Jh.ec(n,t)}timeToCoordinate(e){const t=this.timeToIndex(e,!1);return null===t?null:this.Jh.qt(t)}coordinateToTime(e){const t=this.ns.Et(),n=t.wc(e),r=t.es(n);return null===r?null:r.originalTime}width(){return this.tg.sv().width}height(){return this.tg.sv().height}subscribeVisibleTimeRangeChange(e){this.EM.i(e)}unsubscribeVisibleTimeRangeChange(e){this.EM._(e)}subscribeVisibleLogicalRangeChange(e){this.Nu.i(e)}unsubscribeVisibleLogicalRangeChange(e){this.Nu._(e)}subscribeSizeChange(e){this.xw.i(e)}unsubscribeSizeChange(e){this.xw._(e)}applyOptions(e){this.Jh.cr(e)}options(){return{...DSe(this.Jh.N()),barSpacing:this.Jh.ul()}}AM(){this.EM.v()&&this.EM.p(this.getVisibleRange())}LM(){this.Nu.v()&&this.Nu.p(this.getVisibleLogicalRange())}zM(e){this.xw.p(e.width,e.height)}}function JCe(e){return function(e){if(FSe(e.handleScale)){const t=e.handleScale;e.handleScale={axisDoubleClickReset:{time:t,price:t},axisPressedMouseMove:{time:t,price:t},mouseWheel:t,pinch:t}}else if(void 0!==e.handleScale){const{axisPressedMouseMove:t,axisDoubleClickReset:n}=e.handleScale;FSe(t)&&(e.handleScale.axisPressedMouseMove={time:t,price:t}),FSe(n)&&(e.handleScale.axisDoubleClickReset={time:n,price:n})}const t=e.handleScroll;FSe(t)&&(e.handleScroll={horzTouchDrag:t,vertTouchDrag:t,mouseWheel:t,pressedMouseMove:t})}(e),e}class eje{constructor(e,t,n){this.OM=new Map,this.NM=new Map,this.FM=new PSe,this.WM=new PSe,this.HM=new PSe,this.Xc=new WeakMap,this.UM=new wCe(t);const r=void 0===n?DSe(ZCe()):RSe(DSe(ZCe()),JCe(n));this.$M=t,this.Yp=new sCe(e,r,t),this.Yp.nw().i(e=>{this.FM.v()&&this.FM.p(this.qM(e()))},this),this.Yp.ew().i(e=>{this.WM.v()&&this.WM.p(this.qM(e()))},this),this.Yp.Md().i(e=>{this.HM.v()&&this.HM.p(this.qM(e()))},this);const a=this.Yp.Qt();this.jM=new QCe(a,this.Yp.rg(),this.$M)}remove(){this.Yp.nw().u(this),this.Yp.ew().u(this),this.Yp.Md().u(this),this.jM.m(),this.Yp.m(),this.OM.clear(),this.NM.clear(),this.FM.m(),this.WM.m(),this.HM.m(),this.UM.m()}resize(e,t,n){this.autoSizeActive()||this.Yp.sg(e,t,n)}addCustomSeries(e,t={},n=0){const r=(a=OSe(e),{type:"Custom",isBuiltIn:!1,defaultOptions:{...TCe,...a.defaultOptions()},YM:ICe,KM:a});var a;return this.ZM(r,t,n)}addSeries(e,t={},n=0){return this.ZM(e,t,n)}removeSeries(e){const t=TSe(this.OM.get(e)),n=this.UM.Hd(t);this.Yp.Qt().Hd(t),this.GM(n),this.OM.delete(e),this.NM.delete(t)}DM(e,t){this.GM(this.UM.Ug(e,t))}VM(e,t,n){this.GM(this.UM.Zg(e,t,n))}BM(e,t){const[n,r]=this.UM.Jg(e,t);return 0!==n.length&&this.GM(r),n}subscribeClick(e){this.FM.i(e)}unsubscribeClick(e){this.FM._(e)}subscribeCrosshairMove(e){this.HM.i(e)}unsubscribeCrosshairMove(e){this.HM._(e)}subscribeDblClick(e){this.WM.i(e)}unsubscribeDblClick(e){this.WM._(e)}priceScale(e,t=0){return new GCe(this.Yp,e,t)}timeScale(){return this.jM}applyOptions(e){this.Yp.cr(JCe(e))}options(){return this.Yp.N()}takeScreenshot(e=!1,t=!1){let n,r;try{t||(n=this.Yp.Qt().N().crosshair.mode,this.Yp.cr({crosshair:{mode:2}})),r=this.Yp.ug(e)}finally{t||void 0===n||this.Yp.Qt().cr({crosshair:{mode:n}})}return r}addPane(e=!1){const t=this.Yp.Qt().Xd();return t.O_(e),this.XM(t)}removePane(e){this.Yp.Qt().Sd(e)}swapPanes(e,t){this.Yp.Qt().Cd(e,t)}autoSizeActive(){return this.Yp.vg()}chartElement(){return this.Yp.hv()}panes(){return this.Yp.Qt().Xs().map(e=>this.XM(e))}paneSize(e=0){const t=this.Yp.gg(e);return{height:t.height,width:t.width}}setCrosshairPosition(e,t,n){const r=this.OM.get(n);if(void 0===r)return;const a=this.Yp.Qt().Kn(r);null!==a&&this.Yp.Qt().Ld(e,t,a)}clearCrosshairPosition(){this.Yp.Qt().zd(!0)}horzBehaviour(){return this.$M}ZM(e,t={},n=0){var r;MSe(void 0!==e.YM),function(e){if(void 0===e||"custom"===e.type)return;const t=e;void 0!==t.minMove&&void 0===t.precision&&(t.precision=lAe(t.minMove))}(t.priceFormat),"Candlestick"===e.type&&(void 0!==(r=t).borderColor&&(r.borderUpColor=r.borderColor,r.borderDownColor=r.borderColor),void 0!==r.wickColor&&(r.wickUpColor=r.wickColor,r.wickDownColor=r.wickColor));const a=RSe(DSe(SSe),DSe(e.defaultOptions),t),i=e.YM,s=new gEe(this.Yp.Qt(),e.type,a,i,e.KM);this.Yp.Qt().Fd(s,n);const o=new YCe(s,this,this,this,this.$M,e=>this.XM(e));return this.OM.set(o,s),this.NM.set(s,o),o}GM(e){const t=this.Yp.Qt();t.Od(e.Et.vc,e.Et.sM,e.Et.nM),e.F_.forEach((e,t)=>t.ht(e.le,e.iM)),t.Et().Ju(),t.Sc()}JM(e){return TSe(this.NM.get(e))}qM(e){const t=new Map;e.Vg.forEach((e,n)=>{const r=n.wh(),a=DCe(r)(e);if("Custom"!==r)MSe(function(e){return void 0!==e.open||function(e){return void 0!==e.value}(e)}(a));else{const e=n.hl();MSe(!e||!1===e(a))}t.set(this.JM(n),a)});const n=void 0!==e.Ig&&this.NM.has(e.Ig)?this.JM(e.Ig):void 0;return{time:e.Gr,logical:e.js,point:e.Rg,paneIndex:e.Dg,hoveredSeries:n,hoveredObjectId:e.Bg,seriesData:t,sourceEvent:e.Eg}}XM(e){let t=this.Xc.get(e);return t||(t=new KCe(this.Yp,e=>this.JM(e),e,this),this.Xc.set(e,t)),t}}function tje(e,t,n){const r=function(e){if($Se(e)){const t=document.getElementById(e);return MSe(null!==t,`Cannot find element in DOM with id=${e}`),t}return e}(e),a=new eje(r,t,n);return t.setOptions(a.options()),a}class nje extends ACe{constructor(e,t){super(e,t,!0)}mM(e,t,n){t.mc(this.aM,VSe(this.lM)),e.Yo(this.aM,n,VSe(this.lM))}QM(e,t){return{wt:e,gt:t,_t:NaN,ut:NaN}}pM(){const e=this.ee.ga();this.aM=this.ee.Na().Dh().map(t=>{let n;if((t.jr??1)>1){const e=t.Wt[1],r=t.Wt[2],a=t.Wt[3];n=Math.abs(e-a)>Math.abs(r-a)?e:r}else n=t.Wt[3];return this.tb(t.js,n,e)})}}const rje=6;function aje(e,t){return{_t:e._t-t._t,ut:e.ut-t.ut}}function ije(e,t){return{_t:e._t/t,ut:e.ut/t}}function sje(e,t,n){const r=Math.max(0,t-1),a=Math.min(e.length-1,n+1);var i,s;return[(i=e[t],s=ije(aje(e[n],e[r]),rje),{_t:i._t+s._t,ut:i.ut+s.ut}),aje(e[n],ije(aje(e[a],e[t]),rje))]}function oje(e,t){const n=e.context;n.strokeStyle=t,n.stroke()}class lje extends qSe{constructor(){super(...arguments),this.rt=null}ht(e){this.rt=e}et(e){if(null===this.rt)return;const{ot:t,lt:n,ib:r,sb:a,ct:i,Zt:s,nb:o}=this.rt;if(null===n)return;const l=e.context;l.lineCap="butt",l.lineWidth=i*e.verticalPixelRatio,CSe(l,s),l.lineJoin="round";const c=this.eb.bind(this);void 0!==a&&function(e,t,n,r,a,i,s){if(0===t.length||r.from>=t.length||r.to<=0)return;const{context:o,horizontalPixelRatio:l,verticalPixelRatio:c}=e,u=t[r.from];let h=i(e,u),d=u;if(r.to-r.from<2){const t=a/2;o.beginPath();const n={_t:u._t-t,ut:u.ut},r={_t:u._t+t,ut:u.ut};o.moveTo(n._t*l,n.ut*c),o.lineTo(r._t*l,r.ut*c),s(e,h,n,r)}else{const a=(t,n)=>{s(e,h,d,n),o.beginPath(),h=t,d=n};let p=d;o.beginPath(),o.moveTo(u._t*l,u.ut*c);for(let s=r.from+1;s<r.to;++s){p=t[s];const r=i(e,p);switch(n){case 0:o.lineTo(p._t*l,p.ut*c);break;case 1:o.lineTo(p._t*l,t[s-1].ut*c),r!==h&&(a(r,p),o.lineTo(p._t*l,t[s-1].ut*c)),o.lineTo(p._t*l,p.ut*c);break;case 2:{const[e,n]=sje(t,s-1,s);o.bezierCurveTo(e._t*l,e.ut*c,n._t*l,n.ut*c,p._t*l,p.ut*c);break}}1!==n&&r!==h&&(a(r,p),o.moveTo(p._t*l,p.ut*c))}(d!==p||d===p&&1===n)&&s(e,h,d,p)}}(e,t,a,n,r,c,oje),o&&function(e,t,n,r,a){if(r.to-r.from<=0)return;const{horizontalPixelRatio:i,verticalPixelRatio:s,context:o}=e;let l=null;const c=Math.max(1,Math.floor(i))%2/2,u=n*s+c;for(let h=r.to-1;h>=r.from;--h){const n=t[h];if(n){const t=a(e,n);t!==l&&(o.beginPath(),null!==l&&o.fill(),o.fillStyle=t,l=t);const r=Math.round(n._t*i)+c,h=n.ut*s;o.moveTo(r,h),o.arc(r,h,u,0,2*Math.PI)}}o.fill()}(e,t,o,n,c)}}class cje extends lje{eb(e,t){return t.vt}}class uje extends nje{constructor(){super(...arguments),this.cM=new cje}tb(e,t,n){return{...this.QM(e,t),...n.gh(e)}}wM(){const e=this.ee.N(),t={ot:this.aM,Zt:e.lineStyle,sb:e.lineVisible?e.lineType:void 0,ct:e.lineWidth,nb:e.pointMarkersVisible?e.pointMarkersRadius||e.lineWidth/2+2:void 0,lt:this.lM,ib:this.re.Et().ul()};this.cM.ht(t)}}const hje={type:"Line",isBuiltIn:!0,defaultOptions:{color:"#2196f3",lineStyle:0,lineWidth:3,lineType:0,lineVisible:!0,crosshairMarkerVisible:!0,crosshairMarkerRadius:4,crosshairMarkerBorderColor:"",crosshairMarkerBorderWidth:2,crosshairMarkerBackgroundColor:"",lastPriceAnimation:0,pointMarkersVisible:!1},YM:(e,t)=>new uje(e,t)};class dje extends ACe{constructor(e,t){super(e,t,!1)}mM(e,t,n){t.mc(this.aM,VSe(this.lM)),e.Zo(this.aM,n,VSe(this.lM))}Lb(e,t,n){return{wt:e,Hr:t.Wt[0],Ur:t.Wt[1],$r:t.Wt[2],qr:t.Wt[3],_t:NaN,Go:NaN,Xo:NaN,Jo:NaN,Qo:NaN}}pM(){const e=this.ee.ga();this.aM=this.ee.Na().Dh().map(t=>this.tb(t.js,t,e))}}class pje extends qSe{constructor(){super(...arguments),this.jt=null,this.Ib=0}ht(e){this.jt=e}et(e){if(null===this.jt||0===this.jt.qs.length||null===this.jt.lt)return;const{horizontalPixelRatio:t}=e;this.Ib=function(e,t){if(e>=2.5&&e<=4)return Math.floor(3*t);const n=1-.2*Math.atan(Math.max(4,e)-4)/(.5*Math.PI),r=Math.floor(e*n*t),a=Math.floor(e*t),i=Math.min(r,a);return Math.max(Math.floor(t),i)}(this.jt.ul,t),this.Ib>=2&&Math.floor(t)%2!=this.Ib%2&&this.Ib--;const n=this.jt.qs;this.jt.zb&&this.Ob(e,n,this.jt.lt),this.jt.Mi&&this.gm(e,n,this.jt.lt);const r=this.Nb(t);(!this.jt.Mi||this.Ib>2*r)&&this.Fb(e,n,this.jt.lt)}Ob(e,t,n){if(null===this.jt)return;const{context:r,horizontalPixelRatio:a,verticalPixelRatio:i}=e;let s="",o=Math.min(Math.floor(a),Math.floor(this.jt.ul*a));o=Math.max(Math.floor(a),Math.min(o,this.Ib));const l=Math.floor(.5*o);let c=null;for(let u=n.from;u<n.to;u++){const e=t[u];e.sh!==s&&(r.fillStyle=e.sh,s=e.sh);const n=Math.round(Math.min(e.Go,e.Qo)*i),h=Math.round(Math.max(e.Go,e.Qo)*i),d=Math.round(e.Xo*i),p=Math.round(e.Jo*i);let f=Math.round(a*e._t)-l;const m=f+o-1;null!==c&&(f=Math.max(c+1,f),f=Math.min(f,m));const g=m-f+1;r.fillRect(f,d,g,n-d),r.fillRect(f,h+1,g,p-h),c=m}}Nb(e){let t=Math.floor(1*e);this.Ib<=2*t&&(t=Math.floor(.5*(this.Ib-1)));const n=Math.max(Math.floor(e),t);return this.Ib<=2*n?Math.max(Math.floor(e),Math.floor(1*e)):n}gm(e,t,n){if(null===this.jt)return;const{context:r,horizontalPixelRatio:a,verticalPixelRatio:i}=e;let s="";const o=this.Nb(a);let l=null;for(let c=n.from;c<n.to;c++){const e=t[c];e.ih!==s&&(r.fillStyle=e.ih,s=e.ih);let n=Math.round(e._t*a)-Math.floor(.5*this.Ib);const u=n+this.Ib-1,h=Math.round(Math.min(e.Go,e.Qo)*i),d=Math.round(Math.max(e.Go,e.Qo)*i);if(null!==l&&(n=Math.max(l+1,n),n=Math.min(n,u)),this.jt.ul*a>2*o)nNe(r,n,h,u-n+1,d-h+1,o);else{const e=u-n+1;r.fillRect(n,h,e,d-h+1)}l=u}}Fb(e,t,n){if(null===this.jt)return;const{context:r,horizontalPixelRatio:a,verticalPixelRatio:i}=e;let s="";const o=this.Nb(a);for(let l=n.from;l<n.to;l++){const e=t[l];let n=Math.round(Math.min(e.Go,e.Qo)*i),c=Math.round(Math.max(e.Go,e.Qo)*i),u=Math.round(e._t*a)-Math.floor(.5*this.Ib),h=u+this.Ib-1;if(e.th!==s){const t=e.th;r.fillStyle=t,s=t}this.jt.Mi&&(u+=o,n+=o,h-=o,c-=o),n>c||r.fillRect(u,n,h-u+1,c-n+1)}}}class fje extends dje{constructor(){super(...arguments),this.cM=new pje}tb(e,t,n){return{...this.Lb(e,t,n),...n.gh(e)}}wM(){const e=this.ee.N();this.cM.ht({qs:this.aM,ul:this.re.Et().ul(),zb:e.wickVisible,Mi:e.borderVisible,lt:this.lM})}}const mje={type:"Candlestick",isBuiltIn:!0,defaultOptions:{upColor:"#26a69a",downColor:"#ef5350",wickVisible:!0,borderVisible:!0,borderColor:"#378658",borderUpColor:"#26a69a",borderDownColor:"#ef5350",wickColor:"#737375",wickUpColor:"#26a69a",wickDownColor:"#ef5350"},YM:(e,t)=>new fje(e,t)};class gje extends qSe{constructor(){super(...arguments),this.jt=null,this.Wb=[]}ht(e){this.jt=e,this.Wb=[]}et({context:e,horizontalPixelRatio:t,verticalPixelRatio:n}){if(null===this.jt||0===this.jt.ot.length||null===this.jt.lt)return;this.Wb.length||this.Hb(t);const r=Math.max(1,Math.floor(n)),a=Math.round(this.jt.Ub*n)-Math.floor(r/2),i=a+r;for(let s=this.jt.lt.from;s<this.jt.lt.to;s++){const t=this.jt.ot[s],o=this.Wb[s-this.jt.lt.from],l=Math.round(t.ut*n);let c,u;e.fillStyle=t.th,l<=a?(c=l,u=i):(c=a,u=l-Math.floor(r/2)+r),e.fillRect(o.Aa,c,o.bi-o.Aa+1,u-c)}}Hb(e){if(null===this.jt||0===this.jt.ot.length||null===this.jt.lt)return void(this.Wb=[]);const t=Math.ceil(this.jt.ul*e)<=1?0:Math.max(1,Math.floor(e)),n=Math.round(this.jt.ul*e)-t;this.Wb=new Array(this.jt.lt.to-this.jt.lt.from);for(let a=this.jt.lt.from;a<this.jt.lt.to;a++){const t=this.jt.ot[a],r=Math.round(t._t*e);let i,s;if(n%2){const e=(n-1)/2;i=r-e,s=r+e}else{const e=n/2;i=r-e,s=r+e-1}this.Wb[a-this.jt.lt.from]={Aa:i,bi:s,$b:r,oe:t._t*e,wt:t.wt}}for(let a=this.jt.lt.from+1;a<this.jt.lt.to;a++){const e=this.Wb[a-this.jt.lt.from],n=this.Wb[a-this.jt.lt.from-1];e.wt===n.wt+1&&e.Aa-n.bi!==t+1&&(n.$b>n.oe?n.bi=e.Aa-t-1:e.Aa=n.bi+t+1)}let r=Math.ceil(this.jt.ul*e);for(let a=this.jt.lt.from;a<this.jt.lt.to;a++){const e=this.Wb[a-this.jt.lt.from];e.bi<e.Aa&&(e.bi=e.Aa);const t=e.bi-e.Aa+1;r=Math.min(t,r)}if(t>0&&r<4)for(let a=this.jt.lt.from;a<this.jt.lt.to;a++){const e=this.Wb[a-this.jt.lt.from];e.bi-e.Aa+1>r&&(e.$b>e.oe?e.bi-=1:e.Aa+=1)}}}class yje extends nje{constructor(){super(...arguments),this.cM=new gje}tb(e,t,n){return{...this.QM(e,t),...n.gh(e)}}wM(){const e={ot:this.aM,ul:this.re.Et().ul(),lt:this.lM,Ub:this.ee.Ft().Nt(this.ee.N().base,ISe(this.ee.Lt()).Wt)};this.cM.ht(e)}}const xje={type:"Histogram",isBuiltIn:!0,defaultOptions:{color:"#26a69a",base:0},YM:(e,t)=>new yje(e,t)};class bje{constructor(e,t){this.ee=e,this.Zh=t,this.jb()}detach(){this.ee.detachPrimitive(this.Zh)}getSeries(){return this.ee}applyOptions(e){this.Zh&&this.Zh.cr&&this.Zh.cr(e)}jb(){this.ee.attachPrimitive(this.Zh)}}const vje={autoScale:!0,zOrder:"normal"};function wje(e,t){return kEe(Math.min(Math.max(e,12),30)*t)}function kje(e,t){switch(e){case"arrowDown":case"arrowUp":return wje(t,1);case"circle":return wje(t,.8);case"square":return wje(t,.7)}}function Sje(e){return function(e){const t=Math.ceil(e);return t%2!=0?t-1:t}(wje(e,1))}function Nje(e){return Math.max(wje(e,.1),3)}function Eje(e,t,n){return t?e:n?Math.ceil(e/2):0}function Aje(e,t,n,r){const a=(kje("arrowUp",r)-1)/2*n.pS,i=(kEe(r/2)-1)/2*n.pS;t.beginPath(),e?(t.moveTo(n._t-a,n.ut),t.lineTo(n._t,n.ut-a),t.lineTo(n._t+a,n.ut),t.lineTo(n._t+i,n.ut),t.lineTo(n._t+i,n.ut+a),t.lineTo(n._t-i,n.ut+a),t.lineTo(n._t-i,n.ut)):(t.moveTo(n._t-a,n.ut),t.lineTo(n._t,n.ut+a),t.lineTo(n._t+a,n.ut),t.lineTo(n._t+i,n.ut),t.lineTo(n._t+i,n.ut-a),t.lineTo(n._t-i,n.ut-a),t.lineTo(n._t-i,n.ut)),t.fill()}function Cje(e,t,n,r,a,i){const s=(kje("arrowUp",r)-1)/2,o=(kEe(r/2)-1)/2;return a>=t-o-2&&a<=t+o+2&&i>=(e?n:n-s)-2&&i<=(e?n+s:n)+2||(()=>{if(a<t-s-3||a>t+s+3||i<(e?n-s-3:n)||i>(e?n:n+s+3))return!1;const r=Math.abs(a-t);return Math.abs(i-n)+3>=r/2})()}class jje{constructor(){this.jt=null,this.$n=new NNe,this.F=-1,this.W="",this.jv="",this.vS="normal"}ht(e){this.jt=e}qn(e,t,n){this.F===e&&this.W===t||(this.F=e,this.W=t,this.jv=HSe(e,t),this.$n.On()),this.vS=n}Qn(e,t){if(null===this.jt||null===this.jt.lt)return null;for(let n=this.jt.lt.from;n<this.jt.lt.to;n++){const r=this.jt.ot[n];if(r&&Tje(r,e,t))return{zOrder:"normal",externalId:r.te??""}}return null}draw(e){"aboveSeries"!==this.vS&&e.useBitmapCoordinateSpace(e=>{this.et(e)})}drawBackground(e){"aboveSeries"===this.vS&&e.useBitmapCoordinateSpace(e=>{this.et(e)})}et({context:e,horizontalPixelRatio:t,verticalPixelRatio:n}){if(null!==this.jt&&null!==this.jt.lt){e.textBaseline="middle",e.font=this.jv;for(let r=this.jt.lt.from;r<this.jt.lt.to;r++){const a=this.jt.ot[r];void 0!==a.ri&&(a.ri.ss=this.$n.Ii(e,a.ri.mS),a.ri.$t=this.F,a.ri._t=a._t-a.ri.ss/2),Mje(a,e,t,n)}}}}function Mje(e,t,n,r){var a,i,s,o,l,c;t.fillStyle=e.R,void 0!==e.ri&&(a=t,i=e.ri.mS,s=e.ri._t,o=e.ri.ut,l=n,c=r,a.save(),a.scale(l,c),a.fillText(i,s,o),a.restore()),function(e,t,n){if(0!==e.yh){switch(e.wS){case"arrowDown":return void Aje(!1,t,n,e.yh);case"arrowUp":return void Aje(!0,t,n,e.yh);case"circle":return void function(e,t,n){const r=(kje("circle",n)-1)/2;e.beginPath(),e.arc(t._t,t.ut,r*t.pS,0,2*Math.PI,!1),e.fill()}(t,n,e.yh);case"square":return void function(e,t,n){const r=kje("square",n),a=(r-1)*t.pS/2,i=t._t-a,s=t.ut-a;e.fillRect(i,s,r*t.pS,r*t.pS)}(t,n,e.yh)}e.wS}}(e,t,function(e,t,n){const r=Math.max(1,Math.floor(t))%2/2;return{_t:Math.round(e._t*t)+r,ut:e.ut*n,pS:t}}(e,n,r))}function Tje(e,t,n){return!(void 0===e.ri||!function(e,t,n,r,a,i){const s=r/2;return a>=e&&a<=e+n&&i>=t-s&&i<=t+s}(e.ri._t,e.ri.ut,e.ri.ss,e.ri.$t,t,n))||function(e,t,n){if(0===e.yh)return!1;switch(e.wS){case"arrowDown":return Cje(!0,e._t,e.ut,e.yh,t,n);case"arrowUp":return Cje(!1,e._t,e.ut,e.yh,t,n);case"circle":return function(e,t,n,r,a){const i=2+kje("circle",n)/2,s=e-r,o=t-a;return Math.sqrt(s*s+o*o)<=i}(e._t,e.ut,e.yh,t,n);case"square":return function(e,t,n,r,a){const i=kje("square",n),s=(i-1)/2,o=e-s,l=t-s;return r>=o&&r<=o+i&&a>=l&&a<=l+i}(e._t,e.ut,e.yh,t,n)}}(e,t,n)}function Ije(e){return"atPriceTop"===e||"atPriceBottom"===e||"atPriceMiddle"===e}function Oje(e,t,n,r,a,i,s,o){const l=function(e,t,n){if(Ije(t.position)&&void 0!==t.price)return t.price;if("value"in(r=e)&&"number"==typeof r.value)return e.value;var r,a;if("open"in(a=e)&&"high"in a&&"low"in a&&"close"in a){if("inBar"===t.position)return e.close;if("aboveBar"===t.position)return n?e.low:e.high;if("belowBar"===t.position)return n?e.high:e.low}}(n,t,s.priceScale().options().invertScale);if(void 0===l)return;const c=Ije(t.position),u=o.timeScale(),h=_Se(t.size)?Math.max(t.size,0):1,d=Sje(u.options().barSpacing)*h,p=d/2;switch(e.yh=d,t.position){case"inBar":case"atPriceMiddle":return e.ut=ISe(s.priceToCoordinate(l)),void(void 0!==e.ri&&(e.ri.ut=e.ut+p+i+.6*a));case"aboveBar":case"atPriceTop":{const t=c?0:r.gS;return e.ut=ISe(s.priceToCoordinate(l))-p-t,void 0!==e.ri&&(e.ri.ut=e.ut-p-.6*a,r.gS+=1.2*a),void(c||(r.gS+=d+i))}case"belowBar":case"atPriceBottom":{const t=c?0:r.MS;return e.ut=ISe(s.priceToCoordinate(l))+p+t,void 0!==e.ri&&(e.ri.ut=e.ut+p+i+.6*a,r.MS+=1.2*a),void(c||(r.MS+=d+i))}}}class Pje{constructor(e,t,n){this.bS=[],this.xt=!0,this.SS=!0,this.Xt=new jje,this.ye=e,this.Lv=t,this.jt={ot:[],lt:null},this.Ps=n}renderer(){if(!this.ye.options().visible)return null;this.xt&&this.xS();const e=this.Lv.options().layout;return this.Xt.qn(e.fontSize,e.fontFamily,this.Ps.zOrder),this.Xt.ht(this.jt),this.Xt}CS(e){this.bS=e,this.kt("data")}kt(e){this.xt=!0,"data"===e&&(this.SS=!0)}yS(e){this.xt=!0,this.Ps=e}zOrder(){return"aboveSeries"===this.Ps.zOrder?"top":this.Ps.zOrder}xS(){const e=this.Lv.timeScale(),t=this.bS;this.SS&&(this.jt.ot=t.map(e=>({wt:e.time,_t:0,ut:0,yh:0,wS:e.shape,R:e.color,te:e.id,kS:e.kS,ri:void 0})),this.SS=!1);const n=this.Lv.options().layout;this.jt.lt=null;const r=e.getVisibleLogicalRange();if(null===r)return;const a=new XEe(Math.floor(r.from),Math.ceil(r.to));if(null===this.ye.data()[0])return;if(0===this.jt.ot.length)return;let i=NaN;const s=Nje(e.options().barSpacing),o={gS:s,MS:s};this.jt.lt=ECe(this.jt.ot,a,!0);for(let l=this.jt.lt.from;l<this.jt.lt.to;l++){const r=t[l];r.time!==i&&(o.gS=s,o.MS=s,i=r.time);const a=this.jt.ot[l];a._t=ISe(e.logicalToCoordinate(r.time)),void 0!==r.text&&r.text.length>0&&(a.ri={mS:r.text,_t:0,ut:0,ss:0,$t:0});const c=this.ye.dataByIndex(r.time,0);null!==c&&Oje(a,r,c,o,n.fontSize,s,this.ye,this.Lv)}this.xt=!1}}function Rje(e){return{...vje,...e}}class _je{constructor(e){this.$h=null,this.bS=[],this.PS=[],this.TS=null,this.ye=null,this.Lv=null,this.RS=!0,this.DS=null,this.IS=null,this.VS=null,this.BS=!0,this.Ps=Rje(e)}attached(e){this.ES(),this.Lv=e.chart,this.ye=e.series,this.$h=new Pje(this.ye,ISe(this.Lv),this.Ps),this.dS=e.requestUpdate,this.ye.subscribeDataChanged(e=>this.IM(e)),this.BS=!0,this.Jb()}Jb(){this.dS&&this.dS()}detached(){this.ye&&this.TS&&this.ye.unsubscribeDataChanged(this.TS),this.Lv=null,this.ye=null,this.$h=null,this.TS=null}CS(e){this.BS=!0,this.bS=e,this.ES(),this.RS=!0,this.IS=null,this.Jb()}AS(){return this.bS}paneViews(){return this.$h?[this.$h]:[]}updateAllViews(){this.LS()}hitTest(e,t){return this.$h?this.$h.renderer()?.Qn(e,t)??null:null}autoscaleInfo(e,t){if(this.Ps.autoScale&&this.$h){const e=this.zS();if(e)return{priceRange:null,margins:e}}return null}cr(e){this.Ps=Rje({...this.Ps,...e}),this.Jb&&this.Jb()}zS(){const e=ISe(this.Lv).timeScale().options().barSpacing;if(this.RS||e!==this.VS){if(this.VS=e,this.bS.length>0){const t=Nje(e),n=1.5*Sje(e)+2*t,r=this.OS();this.DS={above:Eje(n,r.aboveBar,r.inBar),below:Eje(n,r.belowBar,r.inBar)}}else this.DS=null;this.RS=!1}return this.DS}OS(){return null===this.IS&&(this.IS=this.bS.reduce((e,t)=>(e[t.position]||(e[t.position]=!0),e),{inBar:!1,aboveBar:!1,belowBar:!1,atPriceTop:!1,atPriceBottom:!1,atPriceMiddle:!1})),this.IS}ES(){if(!this.BS||!this.Lv||!this.ye)return;const e=this.Lv.timeScale(),t=this.ye?.data();if(null==e.getVisibleLogicalRange()||!this.ye||0===t.length)return void(this.PS=[]);const n=e.timeToIndex(ISe(t[0].time),!0);this.PS=this.bS.map((t,r)=>{const a=e.timeToIndex(t.time,!0),i=a<n?1:-1,s=ISe(this.ye).dataByIndex(a,i),o={time:e.timeToIndex(ISe(s).time,!1),position:t.position,shape:t.shape,color:t.color,id:t.id,kS:r,text:t.text,size:t.size,price:t.price,Gr:t.time};if("atPriceTop"===t.position||"atPriceBottom"===t.position||"atPriceMiddle"===t.position){if(void 0===t.price)throw new Error(`Price is required for position ${t.position}`);return{...o,position:t.position,price:t.price}}return{...o,position:t.position,price:t.price}}),this.BS=!1}LS(e){this.$h&&(this.ES(),this.$h.CS(this.PS),this.$h.yS(this.Ps),this.$h.kt(e))}IM(e){this.BS=!0,this.Jb()}}class Lje extends bje{constructor(e,t,n){super(e,t),n&&this.setMarkers(n)}setMarkers(e){this.Zh.CS(e)}markers(){return this.Zh.AS()}}const $je=[{symbol:"BTCUSDT",name:"Bitcoin"},{symbol:"ETHUSDT",name:"Ethereum"},{symbol:"BNBUSDT",name:"BNB"},{symbol:"SOLUSDT",name:"Solana"},{symbol:"XRPUSDT",name:"XRP"},{symbol:"DOGEUSDT",name:"Dogecoin"},{symbol:"ADAUSDT",name:"Cardano"},{symbol:"AVAXUSDT",name:"Avalanche"}],Fje=[{value:"1m",label:"1 Min",minutes:1},{value:"5m",label:"5 Min",minutes:5},{value:"15m",label:"15 Min",minutes:15},{value:"1h",label:"1 Hour",minutes:60},{value:"4h",label:"4 Hour",minutes:240},{value:"1d",label:"1 Day",minutes:1440}],Dje=[{type:"ma_crossover",name:"MA Crossover",description:"Buy when fast MA crosses above slow MA",icon:""},{type:"rsi_reversal",name:"RSI Mean Reversion",description:"Buy oversold, sell overbought",icon:""},{type:"bollinger_breakout",name:"Bollinger Bands",description:"Trade on band breakouts",icon:""},{type:"macd",name:"MACD",description:"MACD signal line crossover",icon:""},{type:"momentum",name:"Momentum",description:"Buy strong upward momentum",icon:""}];function zje(e,t){const n=[];for(let r=0;r<e.length;r++)if(r<t-1)n.push(NaN);else{const a=e.slice(r-t+1,r+1).reduce((e,t)=>e+t,0);n.push(a/t)}return n}function Vje(e,t){const n=[],r=2/(t+1);for(let a=0;a<e.length;a++)if(0===a)n.push(e[0]);else if(a<t){const t=e.slice(0,a+1).reduce((e,t)=>e+t,0);n.push(t/(a+1))}else n.push((e[a]-n[a-1])*r+n[a-1]);return n}function Bje(e,t,n,r=1e4,a=60){const i=e.map(e=>e.close),s=[],o=[];let l=r,c="flat",u=0,h=0,d=0,p=[];switch(t){case"ma_crossover":{const e=zje(i,n.maFast),t=zje(i,n.maSlow);p=i.map((r,a)=>{if(a<n.maSlow)return"HOLD";const i=e[a-1],s=t[a-1],o=e[a],l=t[a];return i<=s&&o>l?"BUY":i>=s&&o<l?"SELL":"HOLD"});break}case"rsi_reversal":{const e=function(e,t=14){const n=[],r=[],a=[];for(let i=0;i<e.length;i++){if(0===i){n.push(50);continue}const s=e[i]-e[i-1];if(r.push(s>0?s:0),a.push(s<0?-s:0),i<t){n.push(50);continue}const o=r.slice(-t).reduce((e,t)=>e+t,0)/t,l=a.slice(-t).reduce((e,t)=>e+t,0)/t;if(0===l)n.push(100);else{const e=o/l;n.push(100-100/(1+e))}}return n}(i,n.rsiPeriod);p=e.map((t,r)=>{if(r<n.rsiPeriod)return"HOLD";const a=e[r-1];return a<n.rsiOversold&&t>=n.rsiOversold?"BUY":a>n.rsiOverbought&&t<=n.rsiOverbought?"SELL":"HOLD"});break}case"bollinger_breakout":{const e=function(e,t=20,n=2){const r=zje(e,t),a=[],i=[];for(let s=0;s<e.length;s++)if(s<t-1)a.push(NaN),i.push(NaN);else{const o=e.slice(s-t+1,s+1),l=r[s],c=o.reduce((e,t)=>e+Math.pow(t-l,2),0)/t,u=Math.sqrt(c);a.push(l+n*u),i.push(l-n*u)}return{upper:a,middle:r,lower:i}}(i,n.bbPeriod,n.bbStdDev);p=i.map((t,r)=>{if(r<n.bbPeriod)return"HOLD";const a=i[r-1];return a<=e.lower[r-1]&&t>e.lower[r]?"BUY":a>=e.upper[r-1]&&t<e.upper[r]?"SELL":"HOLD"});break}case"macd":{const e=function(e,t=12,n=26,r=9){const a=Vje(e,t),i=Vje(e,n),s=[];for(let c=0;c<e.length;c++)s.push(a[c]-i[c]);const o=Vje(s,r),l=[];for(let c=0;c<e.length;c++)l.push(s[c]-o[c]);return{macd:s,signal:o,histogram:l}}(i,n.macdFast,n.macdSlow,n.macdSignal);p=i.map((t,r)=>{if(r<n.macdSlow+n.macdSignal)return"HOLD";const a=e.histogram[r-1],i=e.histogram[r];return a<=0&&i>0?"BUY":a>=0&&i<0?"SELL":"HOLD"});break}case"momentum":{const e=function(e,t){const n=[];for(let r=0;r<e.length;r++)r<t?n.push(0):n.push((e[r]-e[r-t])/e[r-t]*100);return n}(i,n.momentumPeriod);p=e.map((t,r)=>{if(r<n.momentumPeriod)return"HOLD";const a=e[r-1];return a<=n.momentumThreshold&&t>n.momentumThreshold?"BUY":a>=-n.momentumThreshold&&t<-n.momentumThreshold?"SELL":"HOLD"});break}}let f=0;for(let g=0;g<e.length;g++){const n=e[g],r=p[g];if("flat"===c&&"BUY"===r)c="long",u=n.close,h=n.time,f=l/u,d++;else if("long"===c&&"SELL"===r){const e=n.close,r=(e-u)*f,a=(e-u)/u*100;s.push({id:d,type:"BUY",entryPrice:u,exitPrice:e,entryTime:h,exitTime:n.time,quantity:f,pnl:r,pnlPercent:a,reason:`${t} signal`}),l+=r,c="flat"}o.push({time:n.time,value:"long"===c?l*(n.close/u):l})}if("long"===c){const t=e[e.length-1],n=(t.close-u)*f,r=(t.close-u)/u*100;s.push({id:d,type:"BUY",entryPrice:u,exitPrice:t.close,entryTime:h,exitTime:t.time,quantity:f,pnl:n,pnlPercent:r,reason:"End of backtest"})}const m=function(e,t,n,r=60){const a=e.filter(e=>null!==e.pnl),i=a.filter(e=>(e.pnl??0)>0),s=a.filter(e=>(e.pnl??0)<=0),o=a.reduce((e,t)=>e+(t.pnl??0),0),l=o/n*100,c=a.length>0?i.length/a.length*100:0,u=i.reduce((e,t)=>e+(t.pnl??0),0),h=Math.abs(s.reduce((e,t)=>e+(t.pnl??0),0)),d=h>0?u/h:u>0?1/0:0,p=i.length>0?u/i.length:0,f=s.length>0?h/s.length:0,m=i.length>0?Math.max(...i.map(e=>e.pnl??0)):0,g=s.length>0?Math.min(...s.map(e=>e.pnl??0)):0;let y=0,x=t[0]?.value??n;for(const C of t){C.value>x&&(x=C.value);const e=(x-C.value)/x*100;e>y&&(y=e)}const b=[];for(let C=1;C<t.length;C++)b.push((t[C].value-t[C-1].value)/t[C-1].value);const v=b.length>0?b.reduce((e,t)=>e+t,0)/b.length:0,w=b.length>0?Math.sqrt(b.reduce((e,t)=>e+Math.pow(t-v,2),0)/b.length):0,k=b.filter(e=>e<0),S=k.length>0?Math.sqrt(k.reduce((e,t)=>e+t*t,0)/k.length):0,N=525600/r,E=Math.sqrt(N),A=y>0?l/y:0;return{totalReturn:l,sharpeRatio:w>0?v/w*E:0,sortinoRatio:S>0?v/S*E:0,maxDrawdown:y,winRate:c,profitFactor:d,totalTrades:a.length,winningTrades:i.length,losingTrades:s.length,avgWin:p,avgLoss:f,largestWin:m,largestLoss:g,calmarRatio:A}}(s,o,r,a);return{trades:s,equityCurve:o,metrics:m}}function Hje(){const{t:e}=wf(),[t,n]=O.useState("BTCUSDT"),[r,a]=O.useState("1h"),[i,s]=O.useState("ma_crossover"),[o,l]=O.useState(!0),[c,h]=O.useState(!1),[d,p]=O.useState([]),[f,m]=O.useState(null),[g,y]=O.useState(!1),[x,b]=O.useState(!1),[v,w]=O.useState({maFast:10,maSlow:30,rsiPeriod:14,rsiOversold:30,rsiOverbought:70,bbPeriod:20,bbStdDev:2,macdFast:12,macdSlow:26,macdSignal:9,momentumPeriod:10,momentumThreshold:2}),k=O.useRef(null),S=O.useRef(null),N=O.useRef(null),E=O.useRef(null),A=O.useRef(null),C=O.useRef(null),j=O.useRef(!1),M=O.useRef(null);O.useEffect(()=>{(async()=>{l(!0);const e=await async function(e,t,n=500){try{const r=await fetch(`https://api.binance.com/api/v3/klines?symbol=${e}&interval=${t}&limit=${n}`);return(await r.json()).map(e=>({time:Math.floor(e[0]/1e3),open:parseFloat(e[1]),high:parseFloat(e[2]),low:parseFloat(e[3]),close:parseFloat(e[4]),volume:parseFloat(e[5])}))}catch(r){return console.error("Failed to fetch candles:",r),[]}}(t,r,500);p(e),l(!1)})()},[t,r]),O.useEffect(()=>{if(!k.current||0===d.length)return;if(j.current=!1,S.current){try{S.current.remove()}catch{}S.current=null,N.current=null,E.current=null,A.current=null,C.current=null}const e=function(e,t){return tje(e,new NAe,NAe.pf(t))}(k.current,{layout:{background:{type:iAe.Solid,color:"#131722"},textColor:"#787b86",fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif'},grid:{vertLines:{color:"#1e222d"},horzLines:{color:"#1e222d"}},crosshair:{mode:1,vertLine:{color:"#758696",width:1,style:3,labelBackgroundColor:"#2a2e39"},horzLine:{color:"#758696",width:1,style:3,labelBackgroundColor:"#2a2e39"}},rightPriceScale:{borderColor:"#2a2e39",scaleMargins:{top:.1,bottom:.2}},timeScale:{borderColor:"#2a2e39",timeVisible:!0,secondsVisible:!1},handleScroll:{vertTouchDrag:!1}});S.current=e;const t=e.addSeries(mje,{upColor:"#22c55e",downColor:"#ef4444",borderDownColor:"#ef4444",borderUpColor:"#22c55e",wickDownColor:"#ef4444",wickUpColor:"#22c55e"});N.current=t;const n=e.addSeries(xje,{color:"#6366f1",priceFormat:{type:"volume"},priceScaleId:""});n.priceScale().applyOptions({scaleMargins:{top:.85,bottom:0}}),E.current=n;const r=d.map(e=>({time:e.time,open:e.open,high:e.high,low:e.low,close:e.close}));t.setData(r);const a=d.map(e=>({time:e.time,value:e.volume,color:e.close>=e.open?"rgba(34, 197, 94, 0.3)":"rgba(239, 68, 68, 0.3)"}));if(n.setData(a),"ma_crossover"===i){const t=d.map(e=>e.close),n=zje(t,v.maFast),r=zje(t,v.maSlow),a=e.addSeries(hje,{color:"#22d3ee",lineWidth:2,title:`MA${v.maFast}`});A.current=a;const i=e.addSeries(hje,{color:"#f472b6",lineWidth:2,title:`MA${v.maSlow}`});C.current=i;const s=d.map((e,t)=>({time:e.time,value:n[t]})).filter(e=>!isNaN(e.value)),o=d.map((e,t)=>({time:e.time,value:r[t]})).filter(e=>!isNaN(e.value));a.setData(s),i.setData(o)}if(f){!function(e,t){const n=new Lje(e,new _je({}));t&&n.setMarkers(t)}(t,[...f.trades.map(e=>({time:e.entryTime,position:"belowBar",color:"#22c55e",shape:"arrowUp",text:"BUY"})),...f.trades.filter(e=>e.exitTime).map(e=>({time:e.exitTime,position:"aboveBar",color:"#ef4444",shape:"arrowDown",text:"SELL"}))].sort((e,t)=>e.time-t.time))}e.timeScale().fitContent();const s=()=>{if(!j.current&&k.current&&S.current)try{S.current.applyOptions({width:k.current.clientWidth,height:k.current.clientHeight})}catch{}};return window.addEventListener("resize",s),s(),()=>{window.removeEventListener("resize",s),j.current=!0;try{e.remove()}catch{}S.current=null,N.current=null,E.current=null,A.current=null,C.current=null}},[d,i,v.maFast,v.maSlow,f]),O.useEffect(()=>{if(!g)return void(M.current&&(M.current.close(),M.current=null));const e=new WebSocket(`wss://stream.binance.com:9443/ws/${t.toLowerCase()}@kline_${r}`);return M.current=e,e.onmessage=e=>{if(j.current)return;const t=JSON.parse(e.data);if(t.k){const e=t.k,n={time:Math.floor(e.t/1e3),open:parseFloat(e.o),high:parseFloat(e.h),low:parseFloat(e.l),close:parseFloat(e.c),volume:parseFloat(e.v)};try{N.current&&N.current.update({time:n.time,open:n.open,high:n.high,low:n.low,close:n.close}),E.current&&E.current.update({time:n.time,value:n.volume,color:n.close>=n.open?"rgba(34, 197, 94, 0.3)":"rgba(239, 68, 68, 0.3)"})}catch{}}},()=>{e.close()}},[g,t,r]);const T=O.useCallback(()=>{if(0===d.length)return;h(!0);const e=Fje.find(e=>e.value===r),t=e?.minutes??60;setTimeout(()=>{const e=Bje(d,i,v,1e4,t);m(e),h(!1)},100)},[d,i,v,r]);return u.jsxs(nf.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"bg-gradient-to-b from-[#0f1419] to-[#0a0d12] rounded-xl border border-gray-700/50 overflow-hidden",children:[u.jsx("div",{className:"bg-gradient-to-r from-slate-800/50 via-slate-800/30 to-slate-800/50 border-b border-gray-700/50 px-4 sm:px-6 py-4",children:u.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-10 h-10 sm:w-11 sm:h-11 rounded-lg bg-gradient-to-br from-blue-600 to-indigo-700 flex items-center justify-center",children:u.jsx("svg",{className:"w-5 h-5 sm:w-6 sm:h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})}),u.jsxs("div",{children:[u.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-white",children:e("Strategy Backtester")}),u.jsx("p",{className:"text-xs text-gray-400",children:e("Quantitative strategy validation with historical market data")})]})]}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsxs("div",{className:"hidden sm:flex items-center gap-2 text-xs text-gray-500",children:[u.jsx("span",{children:"Data:"}),u.jsx("span",{className:"text-white font-medium",children:"Binance API"}),u.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-green-500 animate-pulse"})]}),u.jsxs("button",{onClick:()=>y(!g),className:"px-3 py-1.5 rounded-md text-xs font-medium transition-all flex items-center gap-2 "+(g?"bg-emerald-500/15 text-emerald-400 border border-emerald-500/30":"bg-gray-800/60 text-gray-400 border border-gray-700/50 hover:border-gray-600"),children:[u.jsx("span",{className:"w-1.5 h-1.5 rounded-full "+(g?"bg-emerald-500 animate-pulse":"bg-gray-500")}),e(g?"Live Feed":"Historical")]})]})]})}),u.jsxs("div",{className:"bg-slate-900/40 border-b border-gray-800/30 px-4 sm:px-6 py-2.5 flex flex-wrap items-center gap-x-6 gap-y-2 text-xs",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs("span",{className:"text-gray-500",children:[e("Symbol"),":"]}),u.jsx("span",{className:"text-white font-mono font-medium",children:t})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs("span",{className:"text-gray-500",children:[e("Interval"),":"]}),u.jsx("span",{className:"text-white font-medium",children:Fje.find(e=>e.value===r)?.label})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs("span",{className:"text-gray-500",children:[e("Sample Size"),":"]}),u.jsxs("span",{className:"text-blue-400 font-mono",children:[d.length," candles"]})]}),d.length>0&&u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs("span",{className:"text-gray-500",children:[e("Period"),":"]}),u.jsxs("span",{className:"text-white font-medium",children:[new Date(1e3*d[0].time).toLocaleDateString()," - ",new Date(1e3*d[d.length-1].time).toLocaleDateString()]})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs("span",{className:"text-gray-500",children:[e("Last Price"),":"]}),u.jsxs("span",{className:"text-emerald-400 font-mono font-medium",children:["$",d[d.length-1]?.close.toLocaleString()]})]})]})]}),u.jsxs("div",{className:"p-4 sm:p-6",children:[u.jsxs("div",{className:"flex flex-wrap items-center gap-3 mb-4",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs("span",{className:"text-xs text-gray-500 hidden sm:inline",children:[e("Asset"),":"]}),u.jsx("select",{value:t,onChange:e=>n(e.target.value),className:"bg-gray-800/80 border border-gray-700 rounded-lg px-3 py-2 text-sm text-white focus:border-indigo-500 focus:outline-none cursor-pointer hover:bg-gray-700/80 transition-colors",children:$je.map(e=>u.jsxs("option",{value:e.symbol,children:[e.name," (",e.symbol,")"]},e.symbol))})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs("span",{className:"text-xs text-gray-500 hidden sm:inline",children:[e("Interval"),":"]}),u.jsx("div",{className:"flex rounded-lg overflow-hidden border border-gray-700 bg-gray-800/50",children:Fje.map(e=>u.jsx("button",{onClick:()=>a(e.value),className:"px-3 py-2 text-xs font-medium transition-all "+(r===e.value?"bg-indigo-600 text-white shadow-lg shadow-indigo-500/20":"bg-transparent text-gray-400 hover:bg-gray-700/50 hover:text-white"),children:e.label},e.value))})]})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 mb-4",children:[u.jsxs("div",{className:"lg:col-span-2 relative rounded-lg overflow-hidden border border-gray-700/40 bg-[#131722]",children:[u.jsxs("div",{className:"absolute top-0 left-0 right-0 z-10 px-3 py-2 flex items-center justify-between pointer-events-none",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("span",{className:"text-sm font-semibold text-gray-200",children:t}),u.jsx("span",{className:"text-xs text-gray-500",children:""}),u.jsx("span",{className:"text-xs text-gray-400",children:Fje.find(e=>e.value===r)?.label}),g&&u.jsxs("span",{className:"flex items-center gap-1 text-xs text-emerald-400",children:[u.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-emerald-500 animate-pulse"}),"Live"]})]}),f&&u.jsxs("div",{className:"text-xs font-mono font-medium px-2 py-1 rounded "+(f.metrics.totalReturn>=0?"bg-emerald-500/15 text-emerald-400":"bg-red-500/15 text-red-400"),children:[f.metrics.totalReturn>=0?"+":"",f.metrics.totalReturn.toFixed(2),"%"]})]}),u.jsx("div",{ref:k,className:"w-full h-[300px] sm:h-[400px] lg:h-[450px]"}),o&&u.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-[#131722]/95",children:u.jsxs("div",{className:"flex flex-col items-center gap-3",children:[u.jsx("div",{className:"w-8 h-8 border-2 border-blue-500 border-t-transparent rounded-full animate-spin"}),u.jsx("span",{className:"text-gray-400 text-sm",children:e("Fetching market data...")})]})})]}),u.jsxs("div",{className:"bg-slate-800/40 rounded-lg border border-gray-700/40 p-4",children:[u.jsxs("h3",{className:"text-sm font-medium text-gray-200 mb-3 flex items-center gap-2",children:[u.jsxs("svg",{className:"w-4 h-4 text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),e("Select Strategy")]}),u.jsx("div",{className:"space-y-1.5 mb-4",children:Dje.map(e=>u.jsxs("button",{onClick:()=>s(e.type),className:"w-full text-left px-3 py-2 rounded-md text-sm transition-all "+(i===e.type?"bg-blue-600/20 border border-blue-500/40 text-white":"bg-slate-700/30 border border-transparent text-gray-300 hover:bg-slate-700/50"),children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"text-base",children:e.icon}),u.jsx("span",{className:"font-medium",children:e.name})]}),u.jsx("p",{className:"text-[11px] text-gray-500 mt-0.5 ml-6",children:e.description})]},e.type))}),u.jsxs("div",{className:"border-t border-gray-700 pt-4 mb-4",children:[u.jsx("h4",{className:"text-xs font-bold text-gray-400 uppercase mb-3",children:e("Parameters")}),(()=>{switch(i){case"ma_crossover":return u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{children:[u.jsxs("label",{className:"block text-xs text-gray-400 mb-1",children:["Fast MA Period: ",v.maFast]}),u.jsx("input",{type:"range",min:"5",max:"50",value:v.maFast,onChange:e=>w(t=>({...t,maFast:parseInt(e.target.value)})),className:"w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer accent-cyan-500"})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"block text-xs text-gray-400 mb-1",children:["Slow MA Period: ",v.maSlow]}),u.jsx("input",{type:"range",min:"20",max:"200",value:v.maSlow,onChange:e=>w(t=>({...t,maSlow:parseInt(e.target.value)})),className:"w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer accent-pink-500"})]})]});case"rsi_reversal":return u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{children:[u.jsxs("label",{className:"block text-xs text-gray-400 mb-1",children:["RSI Period: ",v.rsiPeriod]}),u.jsx("input",{type:"range",min:"7",max:"21",value:v.rsiPeriod,onChange:e=>w(t=>({...t,rsiPeriod:parseInt(e.target.value)})),className:"w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer accent-purple-500"})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"block text-xs text-gray-400 mb-1",children:["Oversold Level: ",v.rsiOversold]}),u.jsx("input",{type:"range",min:"20",max:"40",value:v.rsiOversold,onChange:e=>w(t=>({...t,rsiOversold:parseInt(e.target.value)})),className:"w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer accent-green-500"})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"block text-xs text-gray-400 mb-1",children:["Overbought Level: ",v.rsiOverbought]}),u.jsx("input",{type:"range",min:"60",max:"80",value:v.rsiOverbought,onChange:e=>w(t=>({...t,rsiOverbought:parseInt(e.target.value)})),className:"w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer accent-red-500"})]})]});case"bollinger_breakout":return u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{children:[u.jsxs("label",{className:"block text-xs text-gray-400 mb-1",children:["BB Period: ",v.bbPeriod]}),u.jsx("input",{type:"range",min:"10",max:"50",value:v.bbPeriod,onChange:e=>w(t=>({...t,bbPeriod:parseInt(e.target.value)})),className:"w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer accent-yellow-500"})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"block text-xs text-gray-400 mb-1",children:["Std Deviation: ",v.bbStdDev]}),u.jsx("input",{type:"range",min:"1",max:"3",step:"0.5",value:v.bbStdDev,onChange:e=>w(t=>({...t,bbStdDev:parseFloat(e.target.value)})),className:"w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer accent-orange-500"})]})]});case"macd":return u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{children:[u.jsxs("label",{className:"block text-xs text-gray-400 mb-1",children:["Fast EMA: ",v.macdFast]}),u.jsx("input",{type:"range",min:"8",max:"15",value:v.macdFast,onChange:e=>w(t=>({...t,macdFast:parseInt(e.target.value)})),className:"w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer accent-blue-500"})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"block text-xs text-gray-400 mb-1",children:["Slow EMA: ",v.macdSlow]}),u.jsx("input",{type:"range",min:"20",max:"35",value:v.macdSlow,onChange:e=>w(t=>({...t,macdSlow:parseInt(e.target.value)})),className:"w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer accent-indigo-500"})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"block text-xs text-gray-400 mb-1",children:["Signal Line: ",v.macdSignal]}),u.jsx("input",{type:"range",min:"5",max:"15",value:v.macdSignal,onChange:e=>w(t=>({...t,macdSignal:parseInt(e.target.value)})),className:"w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer accent-violet-500"})]})]});case"momentum":return u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{children:[u.jsxs("label",{className:"block text-xs text-gray-400 mb-1",children:["Lookback Period: ",v.momentumPeriod]}),u.jsx("input",{type:"range",min:"5",max:"30",value:v.momentumPeriod,onChange:e=>w(t=>({...t,momentumPeriod:parseInt(e.target.value)})),className:"w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer accent-teal-500"})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"block text-xs text-gray-400 mb-1",children:["Threshold (%): ",v.momentumThreshold]}),u.jsx("input",{type:"range",min:"1",max:"10",step:"0.5",value:v.momentumThreshold,onChange:e=>w(t=>({...t,momentumThreshold:parseFloat(e.target.value)})),className:"w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer accent-emerald-500"})]})]})}})()]}),u.jsx("button",{onClick:T,disabled:c||o,className:"w-full py-3 rounded-lg bg-gradient-to-r from-indigo-600 to-purple-600 text-white font-bold text-sm\n                         hover:from-indigo-500 hover:to-purple-500 transition-all\n                         disabled:opacity-50 disabled:cursor-not-allowed\n                         flex items-center justify-center gap-2",children:c?u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),e("Running...")]}):u.jsxs(u.Fragment,{children:[u.jsx("span",{children:""}),e("Run Backtest")]})})]})]}),u.jsx(su,{children:f&&u.jsxs(nf.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},className:"space-y-4",children:[u.jsx("div",{className:"bg-slate-800/30 rounded-lg border border-gray-700/40 p-4",children:u.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[u.jsx("h3",{className:"text-white font-medium",children:Dje.find(e=>e.type===i)?.name}),u.jsx("span",{className:"text-gray-500",children:""}),u.jsx("span",{className:"text-gray-400 text-sm",children:t}),u.jsx("span",{className:"text-gray-500",children:""}),u.jsx("span",{className:"text-gray-400 text-sm",children:Fje.find(e=>e.value===r)?.label})]}),u.jsxs("p",{className:"text-gray-500 text-xs",children:[f.metrics.totalTrades," trades  Win Rate: ",f.metrics.winRate.toFixed(1),"% ",f.metrics.winningTrades,"W / ",f.metrics.losingTrades,"L"]})]}),u.jsxs("div",{className:"flex items-center gap-6",children:[u.jsxs("div",{className:"text-right",children:[u.jsxs("div",{className:"text-2xl font-mono font-semibold "+(f.metrics.totalReturn>=0?"text-emerald-400":"text-red-400"),children:[f.metrics.totalReturn>=0?"+":"",f.metrics.totalReturn.toFixed(2),"%"]}),u.jsx("div",{className:"text-[11px] text-gray-500 uppercase tracking-wider",children:e("Total Return")})]}),u.jsxs("div",{className:"hidden sm:block text-right",children:[u.jsx("div",{className:"text-xl font-mono font-semibold "+(f.metrics.sharpeRatio>=1?"text-emerald-400":f.metrics.sharpeRatio>=0?"text-yellow-400":"text-red-400"),children:f.metrics.sharpeRatio.toFixed(2)}),u.jsx("div",{className:"text-[11px] text-gray-500 uppercase tracking-wider",children:e("Sharpe Ratio")})]})]})]})}),u.jsxs("div",{className:"bg-gray-900/50 rounded-xl border border-gray-800/80 p-4",children:[u.jsxs("div",{className:"flex items-center justify-between mb-3",children:[u.jsx("h3",{className:"text-sm font-medium text-gray-200",children:e("Risk & Performance Metrics")}),u.jsx("span",{className:"text-[10px] text-gray-500",children:e("Hover for details")})]}),u.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 lg:grid-cols-7 gap-2",children:[u.jsx(Uje,{label:e("Return"),value:`${f.metrics.totalReturn>=0?"+":""}${f.metrics.totalReturn.toFixed(2)}%`,color:f.metrics.totalReturn>=0?"green":"red",tooltip:e("Net profit/loss as percentage of initial capital ($10,000)")}),u.jsx(Uje,{label:e("Sharpe"),value:f.metrics.sharpeRatio.toFixed(2),color:f.metrics.sharpeRatio>=1?"green":f.metrics.sharpeRatio>=0?"yellow":"red",tooltip:e("Risk-adjusted return (annualized). >1 good, >2 excellent")}),u.jsx(Uje,{label:e("Sortino"),value:f.metrics.sortinoRatio.toFixed(2),color:f.metrics.sortinoRatio>=1.5?"green":f.metrics.sortinoRatio>=0?"yellow":"red",tooltip:e("Sharpe variant using downside deviation only")}),u.jsx(Uje,{label:e("Max DD"),value:`${f.metrics.maxDrawdown.toFixed(1)}%`,color:f.metrics.maxDrawdown<=10?"green":f.metrics.maxDrawdown<=20?"yellow":"red",tooltip:e("Maximum peak-to-trough equity decline")}),u.jsx(Uje,{label:e("Win Rate"),value:`${f.metrics.winRate.toFixed(0)}%`,color:f.metrics.winRate>=50?"green":"yellow",tooltip:e("Percentage of trades that were profitable")}),u.jsx(Uje,{label:e("Profit Factor"),value:f.metrics.profitFactor===1/0?"":f.metrics.profitFactor.toFixed(2),color:f.metrics.profitFactor>=1.5?"green":f.metrics.profitFactor>=1?"yellow":"red",tooltip:e("Gross profits / gross losses. >1.5 indicates edge")}),u.jsx(Uje,{label:e("Trades"),value:f.metrics.totalTrades.toString(),color:"blue",tooltip:e("Total number of completed round-trip trades")})]}),u.jsxs("div",{className:"mt-4 pt-3 border-t border-gray-700/50 grid grid-cols-2 sm:grid-cols-4 gap-x-6 gap-y-2 text-xs",children:[u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-gray-500",children:e("Avg Win")}),u.jsxs("span",{className:"text-emerald-400 font-mono",children:["$",f.metrics.avgWin.toFixed(2)]})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-gray-500",children:e("Avg Loss")}),u.jsxs("span",{className:"text-red-400 font-mono",children:["-$",f.metrics.avgLoss.toFixed(2)]})]}),u.jsxs("div",{children:[u.jsxs("span",{className:"text-gray-500",children:[e("Largest Win"),":"]}),u.jsxs("span",{className:"ml-2 text-green-400 font-medium",children:["$",f.metrics.largestWin.toFixed(2)]})]}),u.jsxs("div",{children:[u.jsxs("span",{className:"text-gray-500",children:[e("Largest Loss"),":"]}),u.jsxs("span",{className:"ml-2 text-red-400 font-medium",children:["$",Math.abs(f.metrics.largestLoss).toFixed(2)]})]})]})]}),u.jsxs("button",{onClick:()=>b(!x),className:"w-full py-3 px-4 rounded-xl bg-gray-900/50 border border-gray-800/80 text-sm text-gray-300 \n                           hover:bg-gray-800/50 hover:border-gray-700 transition-all flex items-center justify-between group",children:[u.jsxs("span",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"text-purple-400",children:""}),e("Trade Log"),u.jsxs("span",{className:"px-2 py-0.5 rounded-full bg-gray-800 text-xs text-gray-400",children:[f.trades.length," ",e("trades")]})]}),u.jsx("span",{className:"transform transition-transform group-hover:text-white",style:{transform:x?"rotate(180deg)":"rotate(0deg)"},children:""})]}),u.jsx(su,{children:x&&u.jsx(nf.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"bg-gray-900/50 rounded-xl border border-gray-800/80 overflow-hidden",children:u.jsx("div",{className:"overflow-x-auto max-h-[300px] overflow-y-auto scrollbar-thin scrollbar-thumb-gray-700",children:u.jsxs("table",{className:"w-full text-xs",children:[u.jsx("thead",{className:"bg-gray-800/80 sticky top-0",children:u.jsxs("tr",{children:[u.jsx("th",{className:"px-3 py-2.5 text-left text-gray-400 font-medium",children:"#"}),u.jsx("th",{className:"px-3 py-2.5 text-left text-gray-400 font-medium",children:e("Entry Date")}),u.jsx("th",{className:"px-3 py-2.5 text-left text-gray-400 font-medium",children:e("Exit Date")}),u.jsx("th",{className:"px-3 py-2.5 text-right text-gray-400 font-medium",children:e("Entry")}),u.jsx("th",{className:"px-3 py-2.5 text-right text-gray-400 font-medium",children:e("Exit")}),u.jsx("th",{className:"px-3 py-2.5 text-right text-gray-400 font-medium",children:e("P&L ($)")}),u.jsx("th",{className:"px-3 py-2.5 text-right text-gray-400 font-medium",children:e("Return")})]})}),u.jsx("tbody",{children:f.trades.map((e,t)=>u.jsxs("tr",{className:"border-t border-gray-800/50 hover:bg-gray-800/30 transition-colors "+((e.pnl??0)>=0?"hover:bg-green-500/5":"hover:bg-red-500/5"),children:[u.jsx("td",{className:"px-3 py-2.5 text-gray-400",children:t+1}),u.jsx("td",{className:"px-3 py-2.5 text-gray-300",children:new Date(1e3*e.entryTime).toLocaleDateString()}),u.jsx("td",{className:"px-3 py-2.5 text-gray-300",children:e.exitTime?new Date(1e3*e.exitTime).toLocaleDateString():"-"}),u.jsxs("td",{className:"px-3 py-2.5 text-right text-cyan-400 font-mono",children:["$",e.entryPrice.toLocaleString()]}),u.jsx("td",{className:"px-3 py-2.5 text-right text-cyan-400 font-mono",children:e.exitPrice?`$${e.exitPrice.toLocaleString()}`:"-"}),u.jsx("td",{className:"px-3 py-2.5 text-right font-bold font-mono "+((e.pnl??0)>=0?"text-green-400":"text-red-400"),children:null!==e.pnl?`${e.pnl>=0?"+":""}$${e.pnl.toFixed(2)}`:"-"}),u.jsx("td",{className:"px-3 py-2.5 text-right font-bold "+((e.pnlPercent??0)>=0?"text-green-400":"text-red-400"),children:u.jsx("span",{className:"px-1.5 py-0.5 rounded "+((e.pnlPercent??0)>=0?"bg-green-500/20":"bg-red-500/20"),children:null!==e.pnlPercent?`${e.pnlPercent>=0?"+":""}${e.pnlPercent.toFixed(2)}%`:"-"})})]},e.id))})]})})})})]})})]})]})}function Uje({label:e,value:t,color:n,tooltip:r}){return u.jsxs("div",{className:`rounded-lg border p-3 transition-all cursor-help group relative ${{green:"text-green-400 bg-green-500/10 border-green-500/30 hover:bg-green-500/20",red:"text-red-400 bg-red-500/10 border-red-500/30 hover:bg-red-500/20",yellow:"text-yellow-400 bg-yellow-500/10 border-yellow-500/30 hover:bg-yellow-500/20",blue:"text-blue-400 bg-blue-500/10 border-blue-500/30 hover:bg-blue-500/20"}[n]}`,title:r,children:[u.jsx("div",{className:"text-[10px] uppercase tracking-wider opacity-70 mb-1",children:e}),u.jsx("div",{className:"text-lg font-bold",children:t}),r&&u.jsxs("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-2 py-1 bg-gray-900 border border-gray-700 rounded text-xs text-gray-300 opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap z-50 pointer-events-none shadow-lg",children:[r,u.jsx("div",{className:"absolute top-full left-1/2 transform -translate-x-1/2 border-4 border-transparent border-t-gray-900"})]})]})}function Wje(e){const t=[];for(let n=1;n<e.length;n++)e[n-1]>0&&e[n]>0&&t.push(Math.log(e[n]/e[n-1]));return t}function Zje(e){return 0===e.length?0:e.reduce((e,t)=>e+t,0)/e.length}function Gje(e){if(e.length<2)return 0;const t=Zje(e),n=e.map(e=>Math.pow(e-t,2));return Math.sqrt(n.reduce((e,t)=>e+t,0)/(e.length-1))}function Kje(e,t){const n=Math.min(e.length,t.length);if(n<2)return 0;const r=e.slice(0,n),a=t.slice(0,n),i=Zje(r),s=Zje(a);let o=0,l=0,c=0;for(let h=0;h<n;h++){const e=r[h]-i,t=a[h]-s;o+=e*t,l+=e*e,c+=t*t}const u=Math.sqrt(l*c);return 0===u?0:o/u}function qje(e){return Gje(e)*Math.sqrt(252)}function Xje({candleData:e}){const{t:t}=wf(),[n,r]=O.useState(["SPY","QQQ","AAPL","GOOGL","MSFT","NVDA"]),a=O.useMemo(()=>{const t={};for(const s of n){const n=e.get(s);n&&n.closes.length>1&&(t[s]=Wje(n.closes))}const r=n.filter(e=>t[e]&&t[e].length>5),a=r.length;if(0===a)return null;const i=Array(a).fill(null).map(()=>Array(a).fill(0));for(let e=0;e<a;e++)for(let n=0;n<a;n++)i[e][n]=e===n?1:Kje(t[r[e]],t[r[n]]);return{symbols:r,matrix:i}},[n,e]),i=e=>{if(e>=0){const t=Math.min(255,Math.round(255*e));return`rgb(${t}, ${Math.round(.3*t)}, ${Math.round(.3*t)})`}{const t=Math.min(255,Math.round(255*Math.abs(e)));return`rgb(${Math.round(.3*t)}, ${Math.round(.3*t)}, ${t})`}};return u.jsxs(nf.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-gray-900/80 backdrop-blur-xl rounded-2xl p-4 sm:p-6 border border-cyan-500/30",children:[u.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 mb-3 sm:mb-4",children:[u.jsx("div",{className:"p-1.5 sm:p-2 bg-cyan-500/20 rounded-lg",children:u.jsx(_K,{className:"w-5 h-5 sm:w-6 sm:h-6 text-cyan-400"})}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-base sm:text-xl font-bold text-white",children:t("Live Correlation Matrix")}),u.jsx("p",{className:"text-[10px] sm:text-xs text-gray-400",children:t("Calculated from 30-day returns via Finnhub API")})]})]}),u.jsxs("div",{className:"mb-4",children:[u.jsxs("p",{className:"text-xs text-gray-500 mb-2",children:[t("Select assets (2-8)"),":"]}),u.jsx("div",{className:"flex flex-wrap gap-1",children:["SPY","QQQ","AAPL","GOOGL","MSFT","NVDA","TSLA","AMZN","META","JPM","AMD","NFLX"].map(e=>u.jsx("button",{onClick:()=>(e=>{n.includes(e)?n.length>2&&r(n.filter(t=>t!==e)):n.length<8&&r([...n,e])})(e),className:"px-2 py-1 text-xs rounded transition-all "+(n.includes(e)?"bg-cyan-500/30 text-cyan-300 border border-cyan-500/50":"bg-gray-800/50 text-gray-500 border border-gray-700/50 hover:border-gray-600"),children:e},e))})]}),a?u.jsxs("div",{className:"overflow-x-auto",children:[u.jsxs("table",{className:"w-full text-xs",children:[u.jsx("thead",{children:u.jsxs("tr",{children:[u.jsx("th",{className:"p-1"}),a.symbols.map(e=>u.jsx("th",{className:"p-1 text-cyan-300 font-medium",children:e},e))]})}),u.jsx("tbody",{children:a.symbols.map((e,t)=>u.jsxs("tr",{children:[u.jsx("td",{className:"p-1 text-cyan-300 font-medium",children:e}),a.matrix[t].map((t,n)=>u.jsx("td",{className:"p-1 text-center text-white font-mono",style:{backgroundColor:i(t),minWidth:"45px"},title:`${e} vs ${a.symbols[n]}: ${t.toFixed(3)}`,children:t.toFixed(2)},n))]},e))})]}),u.jsxs("div",{className:"mt-4 flex items-center justify-center gap-4 text-xs",children:[u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx("div",{className:"w-4 h-4 rounded",style:{backgroundColor:"rgb(0, 0, 255)"}}),u.jsx("span",{className:"text-gray-400",children:"-1.0"})]}),u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx("div",{className:"w-4 h-4 rounded bg-gray-600"}),u.jsx("span",{className:"text-gray-400",children:"0.0"})]}),u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx("div",{className:"w-4 h-4 rounded",style:{backgroundColor:"rgb(255, 76, 76)"}}),u.jsx("span",{className:"text-gray-400",children:"+1.0"})]})]})]}):u.jsx("div",{className:"text-gray-400 text-center py-8",children:t("No data available")})]})}function Yje({candleData:e,quotes:t}){const{t:n}=wf(),[r,a]=O.useState("vol"),i=O.useMemo(()=>{const n=["SPY","QQQ","AAPL","GOOGL","MSFT","NVDA","TSLA","AMZN","META","JPM","AMD","NFLX"],r=[];for(const a of n){const n=e.get(a),i=t.find(e=>e.symbol===a);if(n&&n.closes.length>1&&i){const e=qje(Wje(n.closes));r.push({symbol:a,annualizedVol:e,price:i.price,change:i.change})}}return r},[e,t]),s=O.useMemo(()=>{const e=[...i];switch(r){case"vol":e.sort((e,t)=>t.annualizedVol-e.annualizedVol);break;case"symbol":e.sort((e,t)=>e.symbol.localeCompare(t.symbol));break;case"change":e.sort((e,t)=>t.change-e.change)}return e},[i,r]),o=Math.max(...i.map(e=>e.annualizedVol),.01);return u.jsxs(nf.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-gray-900/80 backdrop-blur-xl rounded-2xl p-4 sm:p-6 border border-purple-500/30",children:[u.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between mb-3 sm:mb-4 gap-2 sm:gap-0",children:[u.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[u.jsx("div",{className:"p-1.5 sm:p-2 bg-purple-500/20 rounded-lg",children:u.jsx(CK,{className:"w-5 h-5 sm:w-6 sm:h-6 text-purple-400"})}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-base sm:text-xl font-bold text-white",children:n("Live Volatility Surface")}),u.jsx("p",{className:"text-[10px] sm:text-xs text-gray-400",children:n("30-day realized volatility (annualized)")})]})]}),u.jsx("div",{className:"flex gap-1",children:["vol","symbol","change"].map(e=>u.jsx("button",{onClick:()=>a(e),className:"px-2 py-1 text-xs rounded "+(r===e?"bg-purple-500/30 text-purple-300":"bg-gray-800/50 text-gray-500 hover:text-gray-300"),children:"vol"===e?"":"symbol"===e?"A-Z":"%"},e))})]}),0===s.length?u.jsx("div",{className:"text-gray-400 text-center py-8",children:n("No volatility data available")}):u.jsx("div",{className:"space-y-2",children:s.map((e,t)=>u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("span",{className:"w-12 text-sm font-mono text-purple-300",children:e.symbol}),u.jsxs("div",{className:"flex-1 h-6 bg-gray-800/50 rounded overflow-hidden relative",children:[u.jsx(nf.div,{initial:{width:0},animate:{width:e.annualizedVol/o*100+"%"},transition:{delay:.05*t,duration:.5},className:"h-full rounded",style:{background:`linear-gradient(90deg, \n                      ${e.annualizedVol<.3?"#22c55e":e.annualizedVol<.5?"#eab308":"#ef4444"}88,\n                      ${e.annualizedVol<.3?"#22c55e":e.annualizedVol<.5?"#eab308":"#ef4444"}\n                    )`}}),u.jsxs("span",{className:"absolute inset-0 flex items-center justify-end pr-2 text-xs text-white font-mono",children:[(100*e.annualizedVol).toFixed(1),"%"]})]}),u.jsxs("span",{className:"w-16 text-right text-xs font-mono "+(e.change>=0?"text-green-400":"text-red-400"),children:[e.change>=0?"+":"",e.change.toFixed(2),"%"]})]},e.symbol))}),u.jsxs("div",{className:"mt-4 flex items-center justify-center gap-4 text-xs text-gray-500",children:[u.jsxs("span",{className:"flex items-center gap-1",children:[u.jsx("div",{className:"w-3 h-3 rounded bg-green-500"})," Low (<30%)"]}),u.jsxs("span",{className:"flex items-center gap-1",children:[u.jsx("div",{className:"w-3 h-3 rounded bg-yellow-500"})," Medium (30-50%)"]}),u.jsxs("span",{className:"flex items-center gap-1",children:[u.jsx("div",{className:"w-3 h-3 rounded bg-red-500"})," High (>50%)"]})]})]})}function Qje({candleData:e,quotes:t}){const{t:n}=wf(),[r,a]=O.useState("AAPL"),[i,s]=O.useState(100),[o,l]=O.useState(30),[c,h]=O.useState(null),[d,p]=O.useState(!1),f=O.useMemo(()=>["AAPL","GOOGL","MSFT","NVDA","TSLA","AMZN","META","SPY","QQQ"].filter(n=>e.has(n)&&t.some(e=>e.symbol===n)),[e,t]),m=O.useCallback(()=>{const n=e.get(r),a=t.find(e=>e.symbol===r);!n||!a||n.closes.length<5?console.warn("No data for",r):(p(!0),requestAnimationFrame(()=>{const e=Wje(n.closes),t=Gje(e),r=Zje(e),s=a.price,l=[],c=[];for(let n=0;n<i;n++){const e=[s];let n=s;for(let a=1;a<=o;a++){const a=Math.random(),i=Math.random(),s=Math.sqrt(-2*Math.log(a))*Math.cos(2*Math.PI*i),o=1*(r-.5*t*t),l=t*Math.sqrt(1)*s;n*=Math.exp(o+l),e.push(n)}l.push(e),c.push(e[e.length-1])}const u=c.map(e=>(e-s)/s).sort((e,t)=>e-t),d=Math.max(0,Math.ceil(.05*i)-1),f=Math.max(0,Math.ceil(.01*i)-1),m=-u[d]*s,g=-u[f]*s,y=Zje(c),x=(y-s)/s;h({paths:l,spotPrice:s,volatility:t*Math.sqrt(252),expectedReturn:x,var95:m,var99:g,expectedPrice:y}),p(!1)}))},[r,i,o,e,t]),g=O.useMemo(()=>{if(!c)return null;const{paths:e,spotPrice:t}=c,n=e.flat(),r=.98*Math.min(...n),a=1.02*Math.max(...n),i=e=>100-(e-r)/(a-r)*100,s=e.slice(0,Math.min(50,e.length));return u.jsxs("svg",{viewBox:"0 0 100 100",className:"w-full h-48",preserveAspectRatio:"none",children:[u.jsx("line",{x1:0,y1:i(t),x2:100,y2:i(t),stroke:"#6b7280",strokeDasharray:"2,2",strokeWidth:.5}),s.map((e,n)=>{const r=e.map((e,t)=>`${0===t?"M":"L"} ${(e=>e/o*100)(t).toFixed(2)} ${i(e).toFixed(2)}`).join(" "),a=e[e.length-1]>=t?"#22c55e":"#ef4444";return u.jsx("path",{d:r,fill:"none",stroke:a,strokeWidth:.3,opacity:.4},n)})]})},[c,o]);return u.jsxs(nf.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-gray-900/80 backdrop-blur-xl rounded-2xl p-4 sm:p-6 border border-amber-500/30",children:[u.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 mb-3 sm:mb-4",children:[u.jsx("div",{className:"p-1.5 sm:p-2 bg-amber-500/20 rounded-lg",children:u.jsx(qK,{className:"w-5 h-5 sm:w-6 sm:h-6 text-amber-400"})}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-base sm:text-xl font-bold text-white",children:n("Monte Carlo Simulator")}),u.jsx("p",{className:"text-[10px] sm:text-xs text-gray-400",children:n("GBM with live realized volatility")})]})]}),u.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-2 sm:gap-3 mb-3 sm:mb-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"text-[10px] sm:text-xs text-gray-500 block mb-1",children:n("Asset")}),u.jsx("select",{value:r,onChange:e=>a(e.target.value),className:"w-full px-2 py-1.5 bg-gray-800/50 border border-gray-700 rounded text-white text-sm focus:border-amber-500/50 focus:outline-none",children:f.map(e=>u.jsx("option",{value:e,children:e},e))})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-xs text-gray-500 block mb-1",children:n("Paths")}),u.jsxs("select",{value:i,onChange:e=>s(Number(e.target.value)),className:"w-full px-2 py-1.5 bg-gray-800/50 border border-gray-700 rounded text-white text-sm focus:border-amber-500/50 focus:outline-none",children:[u.jsx("option",{value:50,children:"50"}),u.jsx("option",{value:100,children:"100"}),u.jsx("option",{value:500,children:"500"}),u.jsx("option",{value:1e3,children:"1000"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-xs text-gray-500 block mb-1",children:"Horizon (days)"}),u.jsxs("select",{value:o,onChange:e=>l(Number(e.target.value)),className:"w-full px-2 py-1.5 bg-gray-800/50 border border-gray-700 rounded text-white text-sm focus:border-amber-500/50 focus:outline-none",children:[u.jsx("option",{value:10,children:"10"}),u.jsx("option",{value:20,children:"20"}),u.jsx("option",{value:30,children:"30"}),u.jsx("option",{value:60,children:"60"})]})]})]}),u.jsx("button",{onClick:m,disabled:d||0===f.length,className:"w-full py-2 mb-4 bg-gradient-to-r from-amber-500 to-orange-500 text-white font-medium rounded-lg flex items-center justify-center gap-2 hover:from-amber-600 hover:to-orange-600 transition-all disabled:opacity-50",children:d?u.jsx(SK,{className:"w-5 h-5 animate-spin"}):u.jsxs(u.Fragment,{children:[u.jsx(iq,{className:"w-5 h-5"}),"Run Simulation"]})}),c&&u.jsxs(u.Fragment,{children:[g,u.jsxs("div",{className:"grid grid-cols-2 gap-3 mt-4",children:[u.jsxs("div",{className:"bg-gray-800/50 rounded-lg p-3",children:[u.jsx("p",{className:"text-xs text-gray-500",children:"Spot Price"}),u.jsxs("p",{className:"text-lg font-mono text-white",children:["$",c.spotPrice.toFixed(2)]})]}),u.jsxs("div",{className:"bg-gray-800/50 rounded-lg p-3",children:[u.jsx("p",{className:"text-xs text-gray-500",children:"Expected Price"}),u.jsxs("p",{className:"text-lg font-mono text-white",children:["$",c.expectedPrice.toFixed(2)]})]}),u.jsxs("div",{className:"bg-gray-800/50 rounded-lg p-3",children:[u.jsx("p",{className:"text-xs text-gray-500",children:"Realized Vol (Ann.)"}),u.jsxs("p",{className:"text-lg font-mono text-purple-400",children:[(100*c.volatility).toFixed(1),"%"]})]}),u.jsxs("div",{className:"bg-gray-800/50 rounded-lg p-3",children:[u.jsx("p",{className:"text-xs text-gray-500",children:"Expected Return"}),u.jsxs("p",{className:"text-lg font-mono "+(c.expectedReturn>=0?"text-green-400":"text-red-400"),children:[(100*c.expectedReturn).toFixed(2),"%"]})]}),u.jsxs("div",{className:"bg-red-900/30 rounded-lg p-3 border border-red-500/30",children:[u.jsx("p",{className:"text-xs text-red-400",children:"VaR 95%"}),u.jsxs("p",{className:"text-lg font-mono text-red-400",children:["-$",c.var95.toFixed(2)]})]}),u.jsxs("div",{className:"bg-red-900/30 rounded-lg p-3 border border-red-500/30",children:[u.jsx("p",{className:"text-xs text-red-400",children:"VaR 99%"}),u.jsxs("p",{className:"text-lg font-mono text-red-400",children:["-$",c.var99.toFixed(2)]})]})]}),u.jsxs("p",{className:"text-xs text-gray-500 mt-3 text-center",children:["Based on ",o,"-day ",i," simulations using GBM: dS = Sdt + SdW"]})]})]})}function Jje({quotes:e}){const{t:t}=wf(),[n,r]=O.useState([{symbol:"AAPL",shares:50,costBasis:180},{symbol:"GOOGL",shares:20,costBasis:140},{symbol:"MSFT",shares:30,costBasis:380},{symbol:"NVDA",shares:25,costBasis:120},{symbol:"SPY",shares:40,costBasis:450}]),[a,i]=O.useState(!1),s=O.useMemo(()=>{const t=[];let r=0;for(const a of n){const n=e.find(e=>e.symbol===a.symbol);if(n){const e=a.shares*n.price;r+=e,t.push({symbol:a.symbol,shares:a.shares,costBasis:a.costBasis,currentPrice:n.price,value:e,pnl:(n.price-a.costBasis)*a.shares,pnlPercent:(n.price-a.costBasis)/a.costBasis*100,weight:0})}}for(const e of t)e.weight=r>0?e.value/r*100:0;return t.sort((e,t)=>t.weight-e.weight)},[n,e]),o=s.reduce((e,t)=>e+t.value,0),l=s.reduce((e,t)=>e+t.costBasis*t.shares,0),c=o-l,h=l>0?c/l*100:0,d=(e,t,a)=>{const i=[...n];i[e]={...i[e],[t]:a},r(i)};return u.jsxs(nf.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-gray-900/80 backdrop-blur-xl rounded-2xl p-4 sm:p-6 border border-green-500/30",children:[u.jsxs("div",{className:"flex items-center justify-between mb-3 sm:mb-4",children:[u.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[u.jsx("div",{className:"p-1.5 sm:p-2 bg-green-500/20 rounded-lg",children:u.jsx(_K,{className:"w-5 h-5 sm:w-6 sm:h-6 text-green-400"})}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-base sm:text-xl font-bold text-white",children:t("Live Portfolio Tracker")}),u.jsx("p",{className:"text-[10px] sm:text-xs text-gray-400",children:t("Real-time P&L with Finnhub prices")})]})]}),u.jsx("button",{onClick:()=>i(!a),className:"px-2 sm:px-3 py-1 text-[10px] sm:text-xs rounded "+(a?"bg-green-500/30 text-green-300":"bg-gray-700/50 text-gray-400"),children:a?"Done":"Edit"})]}),u.jsxs("div",{className:"grid grid-cols-3 gap-2 sm:gap-3 mb-3 sm:mb-4",children:[u.jsxs("div",{className:"bg-gray-800/50 rounded-lg p-2 sm:p-3 text-center",children:[u.jsx("p",{className:"text-[9px] sm:text-xs text-gray-500",children:"Total Value"}),u.jsxs("p",{className:"text-sm sm:text-xl font-mono text-white",children:["$",o.toLocaleString(void 0,{minimumFractionDigits:0,maximumFractionDigits:0})]})]}),u.jsxs("div",{className:"bg-gray-800/50 rounded-lg p-2 sm:p-3 text-center",children:[u.jsx("p",{className:"text-[9px] sm:text-xs text-gray-500",children:"Total P&L"}),u.jsxs("p",{className:"text-sm sm:text-xl font-mono "+(c>=0?"text-green-400":"text-red-400"),children:[c>=0?"+":"",c.toLocaleString(void 0,{minimumFractionDigits:0,maximumFractionDigits:0})]})]}),u.jsxs("div",{className:"bg-gray-800/50 rounded-lg p-2 sm:p-3 text-center",children:[u.jsx("p",{className:"text-[9px] sm:text-xs text-gray-500",children:"Return"}),u.jsxs("p",{className:"text-xl font-mono "+(h>=0?"text-green-400":"text-red-400"),children:[h>=0?"+":"",h.toFixed(2),"%"]})]})]}),u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full text-sm",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"text-gray-500 text-xs border-b border-gray-800",children:[u.jsx("th",{className:"text-left py-2",children:"Symbol"}),u.jsx("th",{className:"text-right py-2",children:"Shares"}),u.jsx("th",{className:"text-right py-2",children:"Cost"}),u.jsx("th",{className:"text-right py-2",children:"Price"}),u.jsx("th",{className:"text-right py-2",children:"Value"}),u.jsx("th",{className:"text-right py-2",children:"P&L"}),u.jsx("th",{className:"text-right py-2",children:"Weight"})]})}),u.jsx("tbody",{children:s.map((e,t)=>u.jsxs("tr",{className:"border-b border-gray-800/50 hover:bg-gray-800/30",children:[u.jsx("td",{className:"py-2 font-mono text-green-300",children:e.symbol}),u.jsx("td",{className:"py-2 text-right",children:a?u.jsx("input",{type:"number",value:n[t]?.shares||0,onChange:e=>d(t,"shares",Number(e.target.value)),className:"w-16 px-1 py-0.5 bg-gray-700 rounded text-right text-white text-xs"}):u.jsx("span",{className:"text-white",children:e.shares})}),u.jsx("td",{className:"py-2 text-right",children:a?u.jsx("input",{type:"number",value:n[t]?.costBasis||0,onChange:e=>d(t,"costBasis",Number(e.target.value)),className:"w-16 px-1 py-0.5 bg-gray-700 rounded text-right text-white text-xs"}):u.jsxs("span",{className:"text-gray-400",children:["$",e.costBasis.toFixed(2)]})}),u.jsxs("td",{className:"py-2 text-right text-white",children:["$",e.currentPrice.toFixed(2)]}),u.jsxs("td",{className:"py-2 text-right text-white",children:["$",e.value.toLocaleString()]}),u.jsxs("td",{className:"py-2 text-right font-mono "+(e.pnl>=0?"text-green-400":"text-red-400"),children:[e.pnl>=0?"+":"",e.pnlPercent.toFixed(1),"%"]}),u.jsx("td",{className:"py-2 text-right",children:u.jsxs("div",{className:"flex items-center justify-end gap-2",children:[u.jsx("div",{className:"w-12 h-2 bg-gray-700 rounded overflow-hidden",children:u.jsx("div",{className:"h-full bg-green-500/70 rounded",style:{width:`${e.weight}%`}})}),u.jsxs("span",{className:"text-gray-400 text-xs w-10",children:[e.weight.toFixed(1),"%"]})]})})]},e.symbol))})]})})]})}function eMe({candleData:e,quotes:t}){const{t:n}=wf(),[r,a]=O.useState(1e5),[i,s]=O.useState(95),[o,l]=O.useState(1),c=O.useMemo(()=>{const t=["SPY","QQQ","AAPL","MSFT","NVDA"],n=[.3,.25,.2,.15,.1],a=[],s=[];for(const r of t){const t=e.get(r);if(t&&t.closes.length>1){const e=Wje(t.closes);s.push(e),a.push(Gje(e))}}if(a.length<t.length)return null;const l=t.length,c=Array(l).fill(null).map(()=>Array(l).fill(0));for(let e=0;e<l;e++)for(let t=0;t<l;t++)c[e][t]=e===t?1:Kje(s[e],s[t]);let u=0;for(let e=0;e<l;e++)for(let t=0;t<l;t++)u+=n[e]*n[t]*a[e]*a[t]*c[e][t];const h=Math.sqrt(u),d=h*Math.sqrt(252),p=95===i?1.645:2.326,f=r*p*h,m=r*p*h*Math.sqrt(o),g=t.map((e,t)=>{let i=0;for(let r=0;r<l;r++)i+=n[r]*a[t]*a[r]*c[t][r];const s=i/h;return{symbol:e,weight:100*n[t],volatility:a[t]*Math.sqrt(252)*100,componentVaR:n[t]*s*r*p*Math.sqrt(o)}});return{dailyVol:100*h,annualizedVol:100*d,var1Day:f,varHorizon:m,componentVaR:g,corrMatrix:c,symbols:t}},[e,r,i,o]);return u.jsxs(nf.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-gray-900/80 backdrop-blur-xl rounded-2xl p-4 sm:p-6 border border-red-500/30",children:[u.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 mb-3 sm:mb-4",children:[u.jsx("div",{className:"p-1.5 sm:p-2 bg-red-500/20 rounded-lg",children:u.jsx(CK,{className:"w-5 h-5 sm:w-6 sm:h-6 text-red-400"})}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-base sm:text-xl font-bold text-white",children:n("Live VaR Dashboard")}),u.jsx("p",{className:"text-[10px] sm:text-xs text-gray-400",children:n("Portfolio Value-at-Risk with correlation")})]})]}),u.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-2 sm:gap-3 mb-3 sm:mb-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"text-[10px] sm:text-xs text-gray-500 block mb-1",children:n("Portfolio Value")}),u.jsx("input",{type:"number",value:r,onChange:e=>a(Number(e.target.value)),className:"w-full px-2 py-1 sm:py-1.5 bg-gray-800/50 border border-gray-700 rounded text-white text-xs sm:text-sm"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-[10px] sm:text-xs text-gray-500 block mb-1",children:"Confidence"}),u.jsxs("select",{value:i,onChange:e=>s(Number(e.target.value)),className:"w-full px-2 py-1 sm:py-1.5 bg-gray-800/50 border border-gray-700 rounded text-white text-xs sm:text-sm",children:[u.jsx("option",{value:95,children:"95%"}),u.jsx("option",{value:99,children:"99%"})]})]}),u.jsxs("div",{className:"col-span-2 sm:col-span-1",children:[u.jsx("label",{className:"text-[10px] sm:text-xs text-gray-500 block mb-1",children:"Horizon (days)"}),u.jsxs("select",{value:o,onChange:e=>l(Number(e.target.value)),className:"w-full px-2 py-1 sm:py-1.5 bg-gray-800/50 border border-gray-700 rounded text-white text-xs sm:text-sm",children:[u.jsx("option",{value:1,children:"1 day"}),u.jsx("option",{value:5,children:"5 days"}),u.jsx("option",{value:10,children:"10 days"}),u.jsx("option",{value:21,children:"21 days"})]})]})]}),c?u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-4",children:[u.jsxs("div",{className:"bg-red-900/30 rounded-lg p-4 border border-red-500/30",children:[u.jsxs("p",{className:"text-xs text-red-400 mb-1",children:["VaR (",i,"%, ",o,"-day)"]}),u.jsxs("p",{className:"text-2xl font-mono text-red-400",children:["-$",c.varHorizon.toLocaleString(void 0,{maximumFractionDigits:0})]}),u.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[(c.varHorizon/r*100).toFixed(2),"% of portfolio"]})]}),u.jsxs("div",{className:"bg-gray-800/50 rounded-lg p-4",children:[u.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Portfolio Volatility"}),u.jsxs("p",{className:"text-2xl font-mono text-purple-400",children:[c.annualizedVol.toFixed(1),"%"]}),u.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"annualized"})]})]}),u.jsxs("div",{className:"mb-4",children:[u.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Component VaR Breakdown"}),u.jsx("div",{className:"space-y-2",children:c.componentVaR.map(e=>u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"w-12 text-sm font-mono text-gray-300",children:e.symbol}),u.jsx("div",{className:"flex-1 h-4 bg-gray-800/50 rounded overflow-hidden",children:u.jsx("div",{className:"h-full bg-gradient-to-r from-red-500/50 to-red-500",style:{width:e.componentVaR/c.varHorizon*100+"%"}})}),u.jsxs("span",{className:"text-xs text-red-400 w-20 text-right",children:["-$",e.componentVaR.toFixed(0)]})]},e.symbol))})]}),u.jsx("p",{className:"text-xs text-gray-500 text-center",children:"Parametric VaR using variance-covariance method: VaR = Z  _p  t  V"})]}):u.jsx("div",{className:"text-gray-400 text-center py-8",children:"Calculating VaR..."})]})}"undefined"!=typeof window&&(Uke(),console.log(" Binance preload started on module import"));const tMe=[{name:"Long Call",description:"Bullish bet with unlimited upside, limited downside",sentiment:"bullish",legs:e=>[{type:"call",position:"long",strike:Math.round(e),premium:.03*e,quantity:1}]},{name:"Long Put",description:"Bearish bet with large downside profit potential",sentiment:"bearish",legs:e=>[{type:"put",position:"long",strike:Math.round(e),premium:.03*e,quantity:1}]},{name:"Covered Call",description:"Own stock + sell call for income (simulated)",sentiment:"neutral",legs:e=>[{type:"call",position:"short",strike:Math.round(1.05*e),premium:.02*e,quantity:1}]},{name:"Bull Call Spread",description:"Buy lower strike call, sell higher strike call",sentiment:"bullish",legs:e=>[{type:"call",position:"long",strike:Math.round(.95*e),premium:.05*e,quantity:1},{type:"call",position:"short",strike:Math.round(1.05*e),premium:.02*e,quantity:1}]},{name:"Bear Put Spread",description:"Buy higher strike put, sell lower strike put",sentiment:"bearish",legs:e=>[{type:"put",position:"long",strike:Math.round(1.05*e),premium:.05*e,quantity:1},{type:"put",position:"short",strike:Math.round(.95*e),premium:.02*e,quantity:1}]},{name:"Long Straddle",description:"Buy call + put at same strike - profit from big moves",sentiment:"volatile",legs:e=>[{type:"call",position:"long",strike:Math.round(e),premium:.03*e,quantity:1},{type:"put",position:"long",strike:Math.round(e),premium:.03*e,quantity:1}]},{name:"Long Strangle",description:"Buy OTM call + OTM put - cheaper volatility bet",sentiment:"volatile",legs:e=>[{type:"call",position:"long",strike:Math.round(1.05*e),premium:.02*e,quantity:1},{type:"put",position:"long",strike:Math.round(.95*e),premium:.02*e,quantity:1}]},{name:"Iron Condor",description:"Sell strangle + buy wings - profit from low volatility",sentiment:"neutral",legs:e=>[{type:"put",position:"long",strike:Math.round(.9*e),premium:.01*e,quantity:1},{type:"put",position:"short",strike:Math.round(.95*e),premium:.02*e,quantity:1},{type:"call",position:"short",strike:Math.round(1.05*e),premium:.02*e,quantity:1},{type:"call",position:"long",strike:Math.round(1.1*e),premium:.01*e,quantity:1}]},{name:"Iron Butterfly",description:"Sell straddle + buy wings - max profit if price unchanged",sentiment:"neutral",legs:e=>[{type:"put",position:"long",strike:Math.round(.95*e),premium:.015*e,quantity:1},{type:"put",position:"short",strike:Math.round(e),premium:.03*e,quantity:1},{type:"call",position:"short",strike:Math.round(e),premium:.03*e,quantity:1},{type:"call",position:"long",strike:Math.round(1.05*e),premium:.015*e,quantity:1}]},{name:"Call Butterfly",description:"Buy 1 ITM call, sell 2 ATM calls, buy 1 OTM call",sentiment:"neutral",legs:e=>[{type:"call",position:"long",strike:Math.round(.95*e),premium:.06*e,quantity:1},{type:"call",position:"short",strike:Math.round(e),premium:.03*e,quantity:2},{type:"call",position:"long",strike:Math.round(1.05*e),premium:.015*e,quantity:1}]},{name:"Protective Put",description:"Long stock + long put for downside protection (simulated)",sentiment:"bullish",legs:e=>[{type:"put",position:"long",strike:Math.round(.95*e),premium:.02*e,quantity:1}]},{name:"Collar",description:"Long stock + protective put + covered call (simulated)",sentiment:"neutral",legs:e=>[{type:"put",position:"long",strike:Math.round(.95*e),premium:.02*e,quantity:1},{type:"call",position:"short",strike:Math.round(1.05*e),premium:.02*e,quantity:1}]}];function nMe({quotes:e}){const{t:t}=wf(),[n,r]=O.useState("AAPL"),[a,i]=O.useState("Long Call"),[s,o]=O.useState([{id:1,type:"call",position:"long",strike:180,premium:5,quantity:1}]),l=e.find(e=>e.symbol===n)?.price||180,c=O.useCallback(e=>{const t=tMe.find(t=>t.name===e);if(t){const n=t.legs(l).map((e,t)=>({...e,id:t+1,premium:Math.round(100*e.premium)/100}));o(n),i(e)}},[l]);O.useEffect(()=>{c(a)},[l]);const h=(e,t,n)=>{o(s.map(r=>r.id===e?{...r,[t]:n}:r)),i("Custom")},d=tMe.find(e=>e.name===a),p=O.useCallback(e=>{let t=0;for(const n of s){const r="long"===n.position?1:-1;let a=0;a="call"===n.type?Math.max(0,e-n.strike):Math.max(0,n.strike-e);t+=r*(a-n.premium)*n.quantity*100}return t},[s]),f=O.useMemo(()=>{const e=.7*l,t=1.3*l,n=(t-e)/100,r=[];for(let a=e;a<=t;a+=n)r.push({price:a,payoff:p(a)});return r},[l,p]),m=Math.max(...f.map(e=>e.payoff)),g=Math.min(...f.map(e=>e.payoff)),y=[];for(let u=1;u<f.length;u++){const e=f[u-1],t=f[u];if(e.payoff<0&&t.payoff>=0||e.payoff>0&&t.payoff<=0||e.payoff>0&&t.payoff<0||e.payoff<0&&t.payoff>0){const n=Math.abs(e.payoff)/(Math.abs(e.payoff)+Math.abs(t.payoff)),r=e.price+n*(t.price-e.price);y.push(r)}}const x=s.reduce((e,t)=>e+("long"===t.position?-1:1)*t.premium*t.quantity*100,0),b=100,v=Math.min(...f.map(e=>e.payoff)),w=Math.max(...f.map(e=>e.payoff))-v||1,k=e=>(e-f[0].price)/(f[f.length-1].price-f[0].price)*b,S=e=>60-(e-v)/w*60,N=S(0),E=f.map((e,t)=>`${0===t?"M":"L"} ${k(e.price).toFixed(2)} ${S(e.payoff).toFixed(2)}`).join(" ");return u.jsxs(nf.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"bg-gray-900/80 backdrop-blur-xl rounded-2xl p-4 sm:p-6 border border-blue-500/30",children:[u.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between mb-3 sm:mb-4 gap-2 sm:gap-0",children:[u.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[u.jsx("div",{className:"p-1.5 sm:p-2 bg-blue-500/20 rounded-lg",children:u.jsx(qK,{className:"w-5 h-5 sm:w-6 sm:h-6 text-blue-400"})}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-base sm:text-xl font-bold text-white",children:t("Options Payoff Builder")}),u.jsx("p",{className:"text-[10px] sm:text-xs text-gray-400",children:t("Build and visualize options strategies")})]})]}),u.jsx("select",{value:n,onChange:e=>r(e.target.value),className:"px-2 py-1 bg-gray-800/50 border border-gray-700 rounded text-white text-sm",children:["AAPL","GOOGL","MSFT","NVDA","TSLA","SPY"].map(e=>u.jsx("option",{value:e,children:e},e))})]}),u.jsxs("div",{className:"mb-3 sm:mb-4",children:[u.jsx("p",{className:"text-[10px] sm:text-xs text-gray-500 mb-2",children:"Select Strategy:"}),u.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-1.5",children:tMe.map(e=>{const t=a===e.name;return u.jsx("button",{onClick:()=>c(e.name),className:"px-2 py-1.5 rounded border text-xs transition-all "+(t?`${{bullish:"border-green-500/50 bg-green-500/10 hover:bg-green-500/20",bearish:"border-red-500/50 bg-red-500/10 hover:bg-red-500/20",neutral:"border-yellow-500/50 bg-yellow-500/10 hover:bg-yellow-500/20",volatile:"border-purple-500/50 bg-purple-500/10 hover:bg-purple-500/20"}[e.sentiment]} ${{bullish:"text-green-400",bearish:"text-red-400",neutral:"text-yellow-400",volatile:"text-purple-400"}[e.sentiment]} ring-1 ring-offset-1 ring-offset-gray-900`:"border-gray-700 bg-gray-800/30 text-gray-400 hover:border-gray-600"),title:e.description,children:e.name},e.name)})}),d&&u.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[u.jsx("span",{className:"px-2 py-0.5 rounded text-xs "+("bullish"===d.sentiment?"bg-green-500/20 text-green-400":"bearish"===d.sentiment?"bg-red-500/20 text-red-400":"neutral"===d.sentiment?"bg-yellow-500/20 text-yellow-400":"bg-purple-500/20 text-purple-400"),children:d.sentiment.charAt(0).toUpperCase()+d.sentiment.slice(1)}),u.jsx("span",{className:"text-xs text-gray-500",children:d.description})]}),"Custom"===a&&u.jsx("div",{className:"mt-2",children:u.jsx("span",{className:"px-2 py-0.5 rounded text-xs bg-gray-500/20 text-gray-400",children:"Custom Strategy"})})]}),u.jsxs("div",{className:"mb-4 px-3 py-2 bg-blue-900/20 rounded-lg border border-blue-500/30",children:[u.jsxs("span",{className:"text-xs text-blue-300",children:["Current ",n," Price:"]}),u.jsxs("span",{className:"text-lg font-mono text-white ml-2",children:["$",l.toFixed(2)]})]}),u.jsxs("div",{className:"space-y-2 mb-4",children:[u.jsxs("div",{className:"flex items-center justify-between mb-1",children:[u.jsx("span",{className:"text-xs text-gray-500 uppercase tracking-wide",children:"Option Legs"}),"Custom"!==a&&u.jsx("span",{className:"text-xs text-blue-400 italic",children:'Editing marks as "Custom"'})]}),s.map((e,t)=>u.jsxs("div",{className:"flex items-center gap-2 p-2 bg-gray-800/30 rounded-lg",children:[u.jsxs("select",{value:e.position,onChange:t=>h(e.id,"position",t.target.value),className:"px-2 py-1 bg-gray-700 rounded text-white text-xs",children:[u.jsx("option",{value:"long",children:"Long"}),u.jsx("option",{value:"short",children:"Short"})]}),u.jsxs("select",{value:e.type,onChange:t=>h(e.id,"type",t.target.value),className:"px-2 py-1 bg-gray-700 rounded text-white text-xs",children:[u.jsx("option",{value:"call",children:"Call"}),u.jsx("option",{value:"put",children:"Put"})]}),u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx("span",{className:"text-xs text-gray-500",children:"K:"}),u.jsx("input",{type:"number",value:e.strike,onChange:t=>h(e.id,"strike",Number(t.target.value)),className:"w-16 px-1 py-1 bg-gray-700 rounded text-white text-xs"})]}),u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx("span",{className:"text-xs text-gray-500",children:"$:"}),u.jsx("input",{type:"number",value:e.premium,step:.5,onChange:t=>h(e.id,"premium",Number(t.target.value)),className:"w-14 px-1 py-1 bg-gray-700 rounded text-white text-xs"})]}),u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx("span",{className:"text-xs text-gray-500",children:"Qty:"}),u.jsx("input",{type:"number",value:e.quantity,min:1,onChange:t=>h(e.id,"quantity",Number(t.target.value)),className:"w-12 px-1 py-1 bg-gray-700 rounded text-white text-xs"})]}),u.jsx("button",{onClick:()=>{return t=e.id,void(s.length>1&&(o(s.filter(e=>e.id!==t)),i("Custom")));var t},className:"px-2 py-1 text-red-400 hover:bg-red-500/20 rounded text-xs",disabled:1===s.length,children:""})]},e.id)),u.jsx("button",{onClick:()=>{const e=Math.max(...s.map(e=>e.id),0)+1;o([...s,{id:e,type:"call",position:"long",strike:Math.round(l),premium:Math.round(.03*l*100)/100,quantity:1}]),i("Custom")},className:"w-full py-2 border border-dashed border-gray-600 rounded-lg text-gray-400 text-sm hover:border-blue-500 hover:text-blue-400 transition-colors",children:"+ Add Leg"})]}),u.jsx("div",{className:"bg-gray-800/30 rounded-lg p-4 mb-4",children:u.jsxs("svg",{viewBox:"0 0 100 60",className:"w-full h-40",preserveAspectRatio:"none",children:[u.jsx("line",{x1:0,y1:N,x2:b,y2:N,stroke:"#4b5563",strokeWidth:.3,strokeDasharray:"2,2"}),u.jsx("line",{x1:k(l),y1:0,x2:k(l),y2:60,stroke:"#3b82f6",strokeWidth:.5,strokeDasharray:"2,2"}),u.jsx("path",{d:E,fill:"none",stroke:"url(#payoffGradient)",strokeWidth:1}),u.jsx("defs",{children:u.jsxs("linearGradient",{id:"payoffGradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[u.jsx("stop",{offset:"0%",stopColor:"#ef4444"}),u.jsx("stop",{offset:"50%",stopColor:"#f59e0b"}),u.jsx("stop",{offset:"100%",stopColor:"#22c55e"})]})}),u.jsx("path",{d:`${E} L 100 ${N} L 0 ${N} Z`,fill:"url(#payoffFill)",opacity:.2}),u.jsx("defs",{children:u.jsxs("linearGradient",{id:"payoffFill",x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[u.jsx("stop",{offset:"0%",stopColor:"#22c55e"}),u.jsx("stop",{offset:"50%",stopColor:"transparent"}),u.jsx("stop",{offset:"100%",stopColor:"#ef4444"})]})})]})}),u.jsxs("div",{className:"grid grid-cols-4 gap-2 text-center",children:[u.jsxs("div",{className:"bg-gray-800/50 rounded p-2",children:[u.jsx("p",{className:"text-xs text-gray-500",children:"Max Profit"}),u.jsx("p",{className:"text-sm font-mono "+(m===1/0||m>0?"text-green-400":"text-gray-400"),children:m===1/0||m>1e4?"":`$${m.toFixed(0)}`})]}),u.jsxs("div",{className:"bg-gray-800/50 rounded p-2",children:[u.jsx("p",{className:"text-xs text-gray-500",children:"Max Loss"}),u.jsx("p",{className:"text-sm font-mono text-red-400",children:g<-1e4?"-":`$${g.toFixed(0)}`})]}),u.jsxs("div",{className:"bg-gray-800/50 rounded p-2",children:[u.jsxs("p",{className:"text-xs text-gray-500",children:["Breakeven",y.length>1?"s":""]}),u.jsx("p",{className:"text-sm font-mono text-blue-400",children:y.length>0?y.map(e=>`$${e.toFixed(0)}`).join(", "):"N/A"})]}),u.jsxs("div",{className:"bg-gray-800/50 rounded p-2",children:[u.jsx("p",{className:"text-xs text-gray-500",children:"Net Premium"}),u.jsxs("p",{className:"text-sm font-mono "+(x>=0?"text-green-400":"text-red-400"),children:[x>=0?"+":"",x.toFixed(0)]})]})]})]})}function rMe({candleData:e,quotes:t}){const{t:n}=wf(),[r,a]=O.useState(.15),[i]=O.useState(.05),s=O.useMemo(()=>{const t=["SPY","QQQ","AAPL","GOOGL","MSFT","NVDA"],n={},a=[],s=[];for(const r of t){const t=e.get(r);if(t&&t.closes.length>5){const e=Wje(t.closes);n[r]=e;const i=252*Zje(e);a.push(i);const o=Gje(e)*Math.sqrt(252);s.push(o)}}if(a.length<t.length)return null;const o=t.length,l=Array(o).fill(null).map(()=>Array(o).fill(0));for(let e=0;e<o;e++)for(let r=0;r<o;r++)if(e===r){const a=Gje(n[t[e]]);l[e][r]=a*a*252}else{const a=Gje(n[t[e]]),i=Gje(n[t[r]]),s=Kje(n[t[e]],n[t[r]]);l[e][r]=a*i*s*252}const c=[],u=[];for(let e=0;e<2e3;e++){const e=t.map(()=>Math.random()),n=e.reduce((e,t)=>e+t,0),r=e.map(e=>e/n);let s=0;for(let t=0;t<o;t++)s+=r[t]*a[t];let c=0;for(let t=0;t<o;t++)for(let e=0;e<o;e++)c+=r[t]*r[e]*l[t][e];const h=Math.sqrt(c),d=h>0?(s-i)/h:0;u.push({return:s,volatility:h,sharpe:d,weights:r})}u.sort((e,t)=>e.return-t.return);let h=1/0;for(const e of u)e.volatility<=1.02*h&&(c.push(e),h=Math.min(h,e.volatility));const d=u.reduce((e,t)=>t.sharpe>e.sharpe?t:e,u[0]),p=u.reduce((e,t)=>t.volatility<e.volatility?t:e,u[0]),f=u.reduce((e,t)=>Math.abs(t.return-r)<Math.abs(e.return-r)?t:e,u[0]);return{symbols:t,annualReturns:a,annualVols:s,frontierPoints:c.filter((e,t)=>t%5==0),maxSharpePortfolio:d,minVarPortfolio:p,targetPortfolio:f,allPortfolios:u.filter((e,t)=>t%10==0)}},[e,r,i]);if(!s)return u.jsx(nf.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-gray-900/80 backdrop-blur-xl rounded-2xl p-6 border border-emerald-500/30",children:u.jsx("div",{className:"text-gray-400 text-center py-8",children:"Loading portfolio data..."})});const{symbols:o,annualReturns:l,annualVols:c,frontierPoints:h,maxSharpePortfolio:d,minVarPortfolio:p,targetPortfolio:f,allPortfolios:m}=s,g=40,y=m.map(e=>e.volatility),x=m.map(e=>e.return),b=.9*Math.min(...y),v=1.1*Math.max(...y),w=.9*Math.min(...x),k=1.1*Math.max(...x),S=e=>g+(e-b)/(v-b)*220,N=e=>160-(e-w)/(k-w)*120;return u.jsxs(nf.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"bg-gray-900/80 backdrop-blur-xl rounded-2xl p-4 sm:p-6 border border-emerald-500/30",children:[u.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 mb-3 sm:mb-4",children:[u.jsx("div",{className:"p-1.5 sm:p-2 bg-emerald-500/20 rounded-lg",children:u.jsx(CK,{className:"w-5 h-5 sm:w-6 sm:h-6 text-emerald-400"})}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-xl font-bold text-white",children:n("Efficient Frontier Optimizer")}),u.jsx("p",{className:"text-xs text-gray-400",children:n("Markowitz Mean-Variance Optimization")})]})]}),u.jsxs("div",{className:"mb-4",children:[u.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mb-1",children:[u.jsx("span",{children:n("Target Return")}),u.jsxs("span",{className:"text-emerald-400",children:[(100*r).toFixed(1),"%"]})]}),u.jsx("input",{type:"range",min:0,max:.5,step:.01,value:r,onChange:e=>a(Number(e.target.value)),className:"w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer accent-emerald-500"})]}),u.jsxs("div",{className:"bg-gray-800/30 rounded-lg p-2 mb-4",children:[u.jsxs("svg",{viewBox:"0 0 300 200",className:"w-full h-48",children:[[.1,.2,.3,.4].map(e=>u.jsx("line",{x1:S(e),y1:g,x2:S(e),y2:160,stroke:"#374151",strokeWidth:.5,strokeDasharray:"2,2"},`v-${e}`)),[-.1,0,.1,.2,.3,.4].map(e=>u.jsx("line",{x1:g,y1:N(e),x2:260,y2:N(e),stroke:"#374151",strokeWidth:.5,strokeDasharray:"2,2"},`r-${e}`)),m.map((e,t)=>u.jsx("circle",{cx:S(e.volatility),cy:N(e.return),r:1.5,fill:"#6b7280",opacity:.3},t)),h.length>1&&u.jsx("path",{d:h.sort((e,t)=>e.volatility-t.volatility).map((e,t)=>`${0===t?"M":"L"} ${S(e.volatility)} ${N(e.return)}`).join(" "),fill:"none",stroke:"#10b981",strokeWidth:2}),u.jsx("line",{x1:S(0),y1:N(i),x2:S(1.5*d.volatility),y2:N(i+d.sharpe*d.volatility*1.5),stroke:"#fbbf24",strokeWidth:1,strokeDasharray:"4,2"}),u.jsx("circle",{cx:S(p.volatility),cy:N(p.return),r:5,fill:"#3b82f6",stroke:"white",strokeWidth:1}),u.jsx("circle",{cx:S(d.volatility),cy:N(d.return),r:6,fill:"#fbbf24",stroke:"white",strokeWidth:1}),u.jsx("circle",{cx:S(f.volatility),cy:N(f.return),r:5,fill:"#10b981",stroke:"white",strokeWidth:1}),u.jsx("text",{x:150,y:195,textAnchor:"middle",fill:"#9ca3af",fontSize:"10",children:"Volatility ()"}),u.jsx("text",{x:10,y:100,textAnchor:"middle",fill:"#9ca3af",fontSize:"10",transform:"rotate(-90, 10, 100)",children:"Return ()"})]}),u.jsxs("div",{className:"flex justify-center gap-4 text-xs mt-2",children:[u.jsxs("span",{className:"flex items-center gap-1",children:[u.jsx("div",{className:"w-3 h-3 rounded-full bg-blue-500"})," Min Variance"]}),u.jsxs("span",{className:"flex items-center gap-1",children:[u.jsx("div",{className:"w-3 h-3 rounded-full bg-yellow-500"})," Max Sharpe"]}),u.jsxs("span",{className:"flex items-center gap-1",children:[u.jsx("div",{className:"w-3 h-3 rounded-full bg-emerald-500"})," Target"]})]})]}),u.jsxs("div",{className:"grid grid-cols-3 gap-2 mb-4",children:[u.jsxs("div",{className:"bg-yellow-900/20 rounded p-2 border border-yellow-500/30",children:[u.jsx("p",{className:"text-xs text-yellow-400",children:"Max Sharpe"}),u.jsx("p",{className:"text-lg font-mono text-white",children:d.sharpe.toFixed(2)}),u.jsxs("p",{className:"text-xs text-gray-500",children:[(100*d.return).toFixed(1),"% ret"]})]}),u.jsxs("div",{className:"bg-emerald-900/20 rounded p-2 border border-emerald-500/30",children:[u.jsx("p",{className:"text-xs text-emerald-400",children:"Target Portfolio"}),u.jsxs("p",{className:"text-lg font-mono text-white",children:[(100*f.return).toFixed(1),"%"]}),u.jsxs("p",{className:"text-xs text-gray-500",children:[(100*f.volatility).toFixed(1),"% vol"]})]}),u.jsxs("div",{className:"bg-blue-900/20 rounded p-2 border border-blue-500/30",children:[u.jsx("p",{className:"text-xs text-blue-400",children:"Min Variance"}),u.jsxs("p",{className:"text-lg font-mono text-white",children:[(100*p.volatility).toFixed(1),"%"]}),u.jsxs("p",{className:"text-xs text-gray-500",children:[(100*p.return).toFixed(1),"% ret"]})]})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Max Sharpe Portfolio Weights:"}),u.jsx("div",{className:"grid grid-cols-6 gap-1",children:o.map((e,t)=>u.jsxs("div",{className:"text-center",children:[u.jsx("p",{className:"text-xs text-gray-400",children:e}),u.jsxs("p",{className:"text-sm font-mono text-emerald-400",children:[(100*d.weights[t]).toFixed(0),"%"]})]},e))})]}),u.jsxs("p",{className:"text-xs text-gray-500 mt-3 text-center",children:[" = w'w | Sharpe = ( - r) /  | r = ",100*i,"%"]})]})}function aMe({candleData:e,quotes:t}){const{t:n}=wf(),[r,a]=O.useState(null),i=O.useMemo(()=>{const t=["SPY","QQQ","AAPL","GOOGL","MSFT","NVDA","TSLA","AMZN","META","JPM","AMD","NFLX"],n=[],r={};for(const i of t){const t=e.get(i);t&&t.closes.length>10&&(r[i]=t.closes)}const a=t.filter(e=>r[e]);for(let e=0;e<a.length;e++)for(let t=e+1;t<a.length;t++){const i=a[e],s=a[t],o=r[i],l=r[s],c=Math.min(o.length,l.length);if(c<10)continue;const u=Kje(Wje(o.slice(0,c)),Wje(l.slice(0,c))),h=[];for(let e=0;e<c;e++){const t=Math.log(o[e]/l[e]);h.push(t)}const d=Zje(h),p=Gje(h),f=h[h.length-1],m=p>0?(f-d)/p:0;let g=0,y=0;for(let e=1;e<h.length;e++){const t=h[e]-h[e-1],n=h[e-1]-d;g+=t*n,y+=n*n}const x=y>0?-g/y:0,b=x>0?Math.log(2)/x:999;let v="NEUTRAL";m<-2?v="LONG_SPREAD":m>2&&(v="SHORT_SPREAD"),Math.abs(u)>.3&&b<30&&b>0&&n.push({symbol1:i,symbol2:s,correlation:u,spreadZScore:m,halfLife:b,signal:v,spreadHistory:h.slice(-30)})}return n.sort((e,t)=>Math.abs(t.spreadZScore)-Math.abs(e.spreadZScore)),n.slice(0,10)},[e]);O.useEffect(()=>{i.length>0&&!r&&a(i[0])},[i,r]);const s=e=>{switch(e){case"LONG_SPREAD":return"text-green-400 bg-green-500/20";case"SHORT_SPREAD":return"text-red-400 bg-red-500/20";default:return"text-gray-400 bg-gray-500/20"}},o=e=>{const t=Math.abs(e);return t>2?"text-red-400":t>1?"text-yellow-400":"text-gray-400"},l=O.useMemo(()=>{if(!r)return null;const{spreadHistory:e}=r,t=Zje(e),n=Gje(e),a=10,i=Math.min(...e),s=Math.max(...e)-i||1,o=t=>a+t/(e.length-1)*260,l=e=>70-(e-i)/s*60,c=e.map((e,t)=>`${0===t?"M":"L"} ${o(t).toFixed(1)} ${l(e).toFixed(1)}`).join(" ");return u.jsxs("svg",{viewBox:"0 0 280 80",className:"w-full h-20",children:[u.jsx("line",{x1:a,y1:l(t),x2:270,y2:l(t),stroke:"#6b7280",strokeWidth:1,strokeDasharray:"4,2"}),u.jsx("rect",{x:a,y:l(t+n),width:260,height:l(t-n)-l(t+n),fill:"#22c55e",opacity:.1}),u.jsx("line",{x1:a,y1:l(t+2*n),x2:270,y2:l(t+2*n),stroke:"#ef4444",strokeWidth:.5,strokeDasharray:"2,2"}),u.jsx("line",{x1:a,y1:l(t-2*n),x2:270,y2:l(t-2*n),stroke:"#ef4444",strokeWidth:.5,strokeDasharray:"2,2"}),u.jsx("path",{d:c,fill:"none",stroke:"#8b5cf6",strokeWidth:1.5}),u.jsx("circle",{cx:o(e.length-1),cy:l(e[e.length-1]),r:4,fill:"#8b5cf6",stroke:"white",strokeWidth:1})]})},[r]);return u.jsxs(nf.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:"bg-gray-900/80 backdrop-blur-xl rounded-2xl p-4 sm:p-6 border border-violet-500/30",children:[u.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 mb-3 sm:mb-4",children:[u.jsx("div",{className:"p-1.5 sm:p-2 bg-violet-500/20 rounded-lg",children:u.jsx(SK,{className:"w-5 h-5 sm:w-6 sm:h-6 text-violet-400"})}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-base sm:text-xl font-bold text-white",children:n("Pairs Trading Scanner")}),u.jsx("p",{className:"text-[10px] sm:text-xs text-gray-400",children:n("Mean reversion & cointegration analysis")})]})]}),0===i.length?u.jsx("div",{className:"text-gray-400 text-center py-8 text-sm",children:n("Analyzing pairs...")}):u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"mb-3 sm:mb-4 max-h-32 sm:max-h-40 overflow-y-auto",children:u.jsxs("table",{className:"w-full text-[10px] sm:text-xs",children:[u.jsx("thead",{className:"sticky top-0 bg-gray-900",children:u.jsxs("tr",{className:"text-gray-500",children:[u.jsx("th",{className:"text-left py-1",children:n("Pair")}),u.jsx("th",{className:"text-right py-1",children:""}),u.jsx("th",{className:"text-right py-1",children:"Z-Score"}),u.jsx("th",{className:"text-right py-1",children:"Half-Life"}),u.jsx("th",{className:"text-right py-1",children:"Signal"})]})}),u.jsx("tbody",{children:i.map((e,t)=>u.jsxs("tr",{onClick:()=>a(e),className:"cursor-pointer hover:bg-gray-800/50 "+(r?.symbol1===e.symbol1&&r?.symbol2===e.symbol2?"bg-violet-500/20":""),children:[u.jsxs("td",{className:"py-1 font-mono text-violet-300",children:[e.symbol1,"/",e.symbol2]}),u.jsx("td",{className:"py-1 text-right text-gray-400",children:e.correlation.toFixed(2)}),u.jsxs("td",{className:`py-1 text-right font-mono ${o(e.spreadZScore)}`,children:[e.spreadZScore>=0?"+":"",e.spreadZScore.toFixed(2)]}),u.jsxs("td",{className:"py-1 text-right text-gray-400",children:[e.halfLife.toFixed(1),"d"]}),u.jsx("td",{className:"py-1 text-right",children:u.jsx("span",{className:`px-1.5 py-0.5 rounded text-xs ${s(e.signal)}`,children:"LONG_SPREAD"===e.signal?"LONG":"SHORT_SPREAD"===e.signal?"SHORT":""})})]},`${e.symbol1}-${e.symbol2}`))})]})}),r&&u.jsxs("div",{className:"bg-gray-800/30 rounded-lg p-3",children:[u.jsxs("div",{className:"flex justify-between items-center mb-2",children:[u.jsxs("span",{className:"font-mono text-violet-300 text-lg",children:[r.symbol1," / ",r.symbol2]}),u.jsx("span",{className:`px-2 py-1 rounded text-sm ${s(r.signal)}`,children:"LONG_SPREAD"===r.signal?`Buy ${r.symbol1}, Sell ${r.symbol2}`:"SHORT_SPREAD"===r.signal?`Sell ${r.symbol1}, Buy ${r.symbol2}`:"No Signal"})]}),u.jsxs("div",{className:"mb-2",children:[u.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Spread (log ratio) - Last 30 days"}),l]}),u.jsxs("div",{className:"grid grid-cols-3 gap-2 text-center",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-xs text-gray-500",children:"Correlation"}),u.jsx("p",{className:"font-mono text-white",children:r.correlation.toFixed(3)})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-xs text-gray-500",children:"Z-Score"}),u.jsxs("p",{className:`font-mono ${o(r.spreadZScore)}`,children:[r.spreadZScore>=0?"+":"",r.spreadZScore.toFixed(2),""]})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-xs text-gray-500",children:"Half-Life"}),u.jsxs("p",{className:"font-mono text-white",children:[r.halfLife.toFixed(1)," days"]})]})]})]}),u.jsx("p",{className:"text-xs text-gray-500 mt-3 text-center",children:"Z = (S - ) /  | Half-Life = ln(2) /  (OU process) | Signal @ |Z| > 2"})]})]})}function iMe(){const{t:e}=wf(),[t,n]=O.useState(!0),[r,a]=O.useState([]),[i,s]=O.useState(new Map),[o,l]=O.useState(null);return O.useEffect(()=>{let e=!0;return async function(){n(!0),l(null);try{console.log(" Trading Lab: Loading all market data..."),await Bf();const t=Rf();console.log(` Got ${t.length} quotes from cache`),await async function(){if($f&&Ff)return Ff;const e=Date.now();if(!(Lf.size>0&&e-Df<36e5))return 0===Af.size&&(console.log(" Waiting for quote data before generating candles..."),await If()),$f=!0,console.log(" Generating historical candle data from quotes..."),Ff=(async()=>{try{const e=["SPY","QQQ","AAPL","GOOGL","MSFT","NVDA","TSLA","AMZN","META","JPM","AMD","NFLX"];for(const t of e){const e=await zf(t);e&&Lf.set(t,e)}Df=Date.now(),console.log(` Generated candles for ${Lf.size} symbols`)}catch(o){console.warn("Candle generation failed:",o)}finally{$f=!1,Ff=null}})(),Ff;console.log(" Using cached candle data")}();const n=["SPY","QQQ","AAPL","GOOGL","MSFT","NVDA","TSLA","AMZN","META","JPM","AMD","NFLX"],r=new Map;for(const e of n){const t=Vf(e);t&&r.set(e,t)}console.log(` Got ${r.size} candle series from cache`),e&&(a(t),s(r),console.log(` Trading Lab: Loaded ${t.length} quotes, ${r.size} candle series`),0===t.length&&0===r.size&&l("No market data available. Please check your connection."))}catch(CTe){console.error("Failed to load Trading Lab data:",CTe),e&&l("Failed to load market data. Please try again.")}finally{e&&n(!1)}}(),()=>{e=!1}},[]),u.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-950 via-gray-900 to-gray-950",children:[u.jsx(bke,{}),u.jsx(vke,{}),u.jsx(fke,{}),u.jsx(Mke,{}),u.jsx("div",{className:"sticky top-0 z-50 bg-gray-950/80 backdrop-blur-xl border-b border-gray-800",children:u.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 py-3 sm:py-4 flex items-center justify-between",children:[u.jsxs(wt,{to:"/",className:"flex items-center gap-1.5 sm:gap-2 text-gray-400 hover:text-white transition-colors",children:[u.jsx(bK,{className:"w-4 h-4 sm:w-5 sm:h-5"}),u.jsx("span",{className:"text-sm sm:text-base",children:e("Back to Portfolio")})]}),u.jsxs("div",{className:"flex items-center gap-2 sm:gap-4",children:[u.jsxs("div",{className:"hidden md:flex items-center gap-2 px-3 py-1.5 bg-black/30 backdrop-blur-sm border border-gray-700/50 rounded-lg",children:[u.jsxs("div",{className:"flex items-center gap-1.5 text-gray-500 hover:text-cyan-400 transition-colors cursor-default",children:[u.jsx("span",{className:"text-[11px] font-mono",children:"terminal"}),u.jsx("kbd",{className:"px-1.5 py-0.5 bg-cyan-500/10 border border-cyan-500/30 rounded text-[10px] font-mono text-cyan-400",children:"`"})]}),u.jsx("div",{className:"w-px h-3 bg-gray-700"}),u.jsxs("div",{className:"flex items-center gap-1.5 text-gray-500 hover:text-purple-400 transition-colors cursor-default",children:[u.jsx("span",{className:"text-[11px] font-mono",children:"shortcuts"}),u.jsx("kbd",{className:"px-1.5 py-0.5 bg-purple-500/10 border border-purple-500/30 rounded text-[10px] font-mono text-purple-400",children:"?"})]})]}),u.jsx(nf.div,{whileHover:{scale:1.05},whileTap:{scale:.98},children:u.jsx(wt,{to:"/alpha-engine",children:u.jsxs("button",{className:"relative overflow-hidden px-3 py-1.5 sm:px-4 sm:py-2 rounded-lg bg-gradient-to-r from-cyan-600 via-purple-600 to-pink-600 text-white text-xs sm:text-sm font-medium border-0 shadow-[0_0_15px_rgba(139,92,246,0.3)] hover:shadow-[0_0_25px_rgba(139,92,246,0.5)] transition-all duration-300",children:[u.jsx(nf.span,{className:"absolute inset-0 bg-gradient-to-r from-cyan-400/30 via-purple-400/30 to-pink-400/30",animate:{x:["-100%","100%"]},transition:{duration:2,repeat:1/0,ease:"linear"}}),u.jsxs("span",{className:"relative z-10 flex items-center gap-1.5",children:[u.jsx(qK,{className:"w-3 h-3 sm:w-4 sm:h-4"}),u.jsx("span",{className:"hidden sm:inline",children:"Alpha Engine"}),u.jsx("span",{className:"sm:hidden",children:"Alpha"})]})]})})}),u.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[u.jsx("div",{className:`h-2 w-2 rounded-full ${t?"bg-yellow-500":o?"bg-red-500":"bg-green-500"} animate-pulse`}),u.jsx("span",{className:"text-xs sm:text-sm text-gray-400 hidden sm:inline",children:t?"Loading data...":o?"Error":`Live Data: ${r.length} quotes, ${i.size} series`}),u.jsx("span",{className:"text-xs text-gray-400 sm:hidden",children:t?"Loading...":o?"Error":"Live"})]})]})]})}),u.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 py-6 sm:py-12",children:[u.jsxs(nf.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-6 sm:mb-8",children:[u.jsx("h1",{className:"text-2xl sm:text-4xl md:text-5xl font-bold bg-gradient-to-r from-cyan-400 via-purple-400 to-amber-400 bg-clip-text text-transparent mb-2 sm:mb-4",children:e("Quant Sandbox")}),u.jsx("p",{className:"text-sm sm:text-base text-gray-400 max-w-2xl mx-auto px-4",children:e("Interactive quantitative finance tools powered by live market data. Explore correlations, volatility, and risk metrics in real-time.")})]}),u.jsx("div",{className:"mb-4 sm:mb-8 -mx-4 sm:-mx-6",children:u.jsx(Jke,{})}),t&&u.jsxs("div",{className:"flex flex-col items-center justify-center py-12 sm:py-20",children:[u.jsx(SK,{className:"w-8 h-8 sm:w-12 sm:h-12 text-cyan-400 animate-spin mb-4"}),u.jsx("p",{className:"text-sm sm:text-base text-gray-400",children:e("Loading market data from Finnhub...")}),u.jsx("p",{className:"text-xs text-gray-500 mt-2",children:e("Fetching quotes and 30-day candles for all symbols")})]}),o&&!t&&u.jsxs("div",{className:"text-center py-12 sm:py-20",children:[u.jsx("p",{className:"text-red-400 mb-4 text-sm sm:text-base",children:o}),u.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-cyan-500/20 text-cyan-300 rounded-lg hover:bg-cyan-500/30 transition-colors text-sm",children:e("Retry")})]}),!t&&!o&&u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"mb-4 sm:mb-6",children:u.jsx(Xke,{})}),u.jsx("div",{className:"mb-4 sm:mb-6",children:u.jsx(aSe,{})}),u.jsx("div",{className:"mb-4 sm:mb-6",children:u.jsx(fSe,{})}),u.jsx("div",{className:"mb-4 sm:mb-6",children:u.jsx(Hje,{})}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6 mb-4 sm:mb-6",children:[u.jsx(Xje,{candleData:i}),u.jsx(Yje,{candleData:i,quotes:r})]}),u.jsx("div",{className:"mb-4 sm:mb-6",children:u.jsx(Qje,{candleData:i,quotes:r})}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6 mb-4 sm:mb-6",children:[u.jsx(Jje,{quotes:r}),u.jsx(eMe,{candleData:i,quotes:r})]}),u.jsx("div",{className:"mb-4 sm:mb-6",children:u.jsx(nMe,{quotes:r})}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6 mb-4 sm:mb-6",children:[u.jsx(rMe,{candleData:i,quotes:r}),u.jsx(aMe,{candleData:i,quotes:r})]})]}),u.jsx(nf.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},className:"mt-8 sm:mt-12 text-center",children:u.jsxs("p",{className:"text-gray-500 text-xs sm:text-sm px-4",children:[e("All calculations use live market data from Finnhub API & Binance WebSocket"),"  ",e("Built by Shadaab Ahmed")]})})]}),u.jsx(mSe,{})]})}function sMe(){const[e,t]=O.useState(!1),[n,r]=O.useState(null),[a,i]=O.useState(!1),[s,o]=O.useState(null),[l,c]=O.useState(!0);if(O.useEffect(()=>{(async()=>{const e=Ywe.getManifest();if(e)return r(e),i(tke()),o(nke()),void c(!1);try{const e="/alpha-mirage/",t=await fetch(`${e}models/manifest.json`);if(t.ok){const e=await t.json();r(e),i(!0),o({isReal:!0,status:"healthy",modelsLoaded:4,lastUpdate:e.timestamp||(new Date).toISOString()})}}catch(t){console.warn("Failed to fetch manifest directly:",t)}c(!1)})()},[]),l)return u.jsx("div",{className:"mb-6",children:u.jsx("div",{className:"rounded-xl border bg-gray-900/50 border-gray-700/50 px-4 py-3",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(GK,{className:"w-5 h-5 text-gray-400 animate-pulse"}),u.jsx("span",{className:"text-sm text-gray-400",children:"Loading model status..."})]})})});if(!n)return u.jsx("div",{className:"mb-6",children:u.jsx("div",{className:"rounded-xl border bg-gradient-to-r from-emerald-500/10 via-cyan-500/10 to-purple-500/10 border-emerald-500/30 px-4 py-3",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx($K,{className:"w-5 h-5 text-emerald-400"}),u.jsx("span",{className:"text-sm text-white font-semibold",children:" Real ML Models"}),u.jsx("span",{className:"text-xs text-gray-400",children:" LightGBM, XGBoost, CatBoost, RandomForest"})]})})});const h=n.models,d=n.trainingInfo,p=s?.modelsLoaded||4,f=["lightgbm","xgboost","catboost","randomforest"],m=f.reduce((e,t)=>{const n=h[t];return n?.metrics&&(e.accuracy+=n.metrics.accuracy||0,e.sharpe+=n.metrics.sharpe_ratio||0,e.winRate+=n.metrics.win_rate||0,e.count+=1),e},{accuracy:0,sharpe:0,winRate:0,count:0});return m.count>0&&(m.accuracy/=m.count,m.sharpe/=m.count,m.winRate/=m.count),u.jsx("div",{className:"mb-6",children:u.jsxs(nf.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"rounded-xl border overflow-hidden "+(a?"bg-gradient-to-r from-emerald-500/10 via-cyan-500/10 to-purple-500/10 border-emerald-500/30":"bg-gradient-to-r from-yellow-500/10 to-orange-500/10 border-yellow-500/30"),children:[u.jsx("div",{className:"px-4 py-3 cursor-pointer",onClick:()=>t(!e),children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsxs("div",{className:"relative",children:[a?u.jsx($K,{className:"w-6 h-6 text-emerald-400"}):u.jsx(JK,{className:"w-6 h-6 text-yellow-400"}),u.jsx(nf.div,{className:"absolute inset-0 rounded-full",animate:{boxShadow:a?["0 0 0px rgba(52, 211, 153, 0)","0 0 15px rgba(52, 211, 153, 0.5)","0 0 0px rgba(52, 211, 153, 0)"]:["0 0 0px rgba(251, 191, 36, 0)","0 0 15px rgba(251, 191, 36, 0.5)","0 0 0px rgba(251, 191, 36, 0)"]},transition:{duration:2,repeat:1/0}})]}),u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"text-sm font-semibold text-white",children:a?" Real ML Models Active":" Simulated Mode"}),u.jsxs("span",{className:"px-2 py-0.5 text-[10px] font-mono rounded bg-gray-800 text-gray-400",children:["v",n.version]})]}),u.jsx("p",{className:"text-xs text-gray-400",children:a?`${p}/4 TensorFlow.js models loaded  Client-side inference`:"Models loading or unavailable  Using fallback predictions"})]})]}),u.jsxs("div",{className:"hidden md:flex items-center gap-6",children:[u.jsxs("div",{className:"text-center",children:[u.jsx("p",{className:"text-xs text-gray-500",children:"Avg Accuracy"}),u.jsxs("p",{className:"text-lg font-bold text-cyan-400",children:[(100*m.accuracy).toFixed(1),"%"]})]}),u.jsxs("div",{className:"text-center",children:[u.jsx("p",{className:"text-xs text-gray-500",children:"Avg Sharpe"}),u.jsx("p",{className:"text-lg font-bold text-emerald-400",children:m.sharpe.toFixed(2)})]}),u.jsxs("div",{className:"text-center",children:[u.jsx("p",{className:"text-xs text-gray-500",children:"Win Rate"}),u.jsxs("p",{className:"text-lg font-bold text-purple-400",children:[(100*m.winRate).toFixed(1),"%"]})]}),u.jsx("button",{className:"p-2 rounded-lg bg-gray-800/50 hover:bg-gray-700/50 transition-colors",children:e?u.jsx(VK,{className:"w-4 h-4 text-gray-400"}):u.jsx(DK,{className:"w-4 h-4 text-gray-400"})})]})]})}),u.jsx(su,{children:e&&u.jsxs(nf.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.2},className:"border-t border-gray-800/50",children:[u.jsxs("div",{className:"p-4 grid grid-cols-1 md:grid-cols-3 gap-4",children:[u.jsxs("div",{className:"bg-gray-900/50 rounded-lg p-4",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[u.jsx(hq,{className:"w-4 h-4 text-cyan-400"}),u.jsx("h4",{className:"text-sm font-semibold text-white",children:"Training Info"})]}),u.jsxs("div",{className:"space-y-2 text-xs",children:[u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-gray-500",children:"Data Range"}),u.jsx("span",{className:"text-white font-mono",children:d?.dataRange||"20 years"})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-gray-500",children:"Training Samples"}),u.jsx("span",{className:"text-white font-mono",children:d?.samples?.toLocaleString()||"~200K"})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-gray-500",children:"Test Samples"}),u.jsx("span",{className:"text-white font-mono",children:d?.testSamples?.toLocaleString()||"~40K"})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-gray-500",children:"Features"}),u.jsxs("span",{className:"text-white font-mono",children:[d?.features||55," indicators"]})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-gray-500",children:"Last Trained"}),u.jsx("span",{className:"text-white font-mono",children:new Date(n.timestamp).toLocaleDateString()})]}),u.jsxs("div",{className:"pt-2 mt-2 border-t border-gray-800/50",children:[u.jsx("p",{className:"text-[10px] text-gray-500 mb-1.5",children:"Training Schedule:"}),u.jsxs("div",{className:"space-y-1",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-cyan-500"}),u.jsxs("span",{className:"text-[10px] text-gray-400",children:[u.jsx("span",{className:"text-cyan-400",children:"Initial:"})," 20 years (198K samples)"]})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-purple-500"}),u.jsxs("span",{className:"text-[10px] text-gray-400",children:[u.jsx("span",{className:"text-purple-400",children:"Nightly:"})," 5 years (incremental retrain)"]})]})]})]})]})]}),u.jsxs("div",{className:"bg-gray-900/50 rounded-lg p-4",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[u.jsx(pq,{className:"w-4 h-4 text-purple-400"}),u.jsx("h4",{className:"text-sm font-semibold text-white",children:"Model Performance"})]}),u.jsx("div",{className:"space-y-2",children:f.map(e=>{const t=h[e];if(!t)return null;const n=a&&"healthy"===s?.status;return u.jsxs("div",{className:"flex items-center justify-between text-xs",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"w-2 h-2 rounded-full "+(n?"bg-emerald-500":"bg-gray-600")}),u.jsx("span",{className:"text-gray-300",children:t.name})]}),u.jsxs("div",{className:"flex items-center gap-3 text-gray-400 font-mono",children:[u.jsxs("span",{children:[(100*(t.metrics?.accuracy||0)).toFixed(1),"%"]}),u.jsx("span",{className:"text-emerald-400",children:(t.metrics?.sharpe_ratio||0).toFixed(2)})]})]},e)})})]}),u.jsxs("div",{className:"bg-gray-900/50 rounded-lg p-4",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[u.jsx(WK,{className:"w-4 h-4 text-blue-400"}),u.jsx("h4",{className:"text-sm font-semibold text-white",children:"How It Works"})]}),u.jsxs("ul",{className:"space-y-1.5 text-xs text-gray-400",children:[u.jsxs("li",{className:"flex items-start gap-2",children:[u.jsx("span",{className:"text-cyan-400",children:"1."}),u.jsx("span",{children:"Models trained on 20 years of market data (stocks, ETFs, crypto)"})]}),u.jsxs("li",{className:"flex items-start gap-2",children:[u.jsx("span",{className:"text-cyan-400",children:"2."}),u.jsx("span",{children:"LightGBM, XGBoost, CatBoost, RandomForest distilled to TensorFlow.js"})]}),u.jsxs("li",{className:"flex items-start gap-2",children:[u.jsx("span",{className:"text-cyan-400",children:"3."}),u.jsx("span",{children:"Models run 100% client-side in your browser (no server calls)"})]}),u.jsxs("li",{className:"flex items-start gap-2",children:[u.jsx("span",{className:"text-cyan-400",children:"4."}),u.jsx("span",{children:"Nightly retraining via GitHub Actions keeps models fresh"})]}),u.jsxs("li",{className:"flex items-start gap-2",children:[u.jsx("span",{className:"text-cyan-400",children:"5."}),u.jsx("span",{children:"Ensemble combines 4 models with weighted voting"})]})]})]})]}),u.jsx("div",{className:"px-4 pb-4",children:u.jsxs("div",{className:"flex items-start gap-2 p-3 bg-yellow-500/5 border border-yellow-500/20 rounded-lg",children:[u.jsx(tq,{className:"w-4 h-4 text-yellow-400 flex-shrink-0 mt-0.5"}),u.jsxs("p",{className:"text-xs text-yellow-200/70",children:[u.jsx("strong",{children:"Disclaimer:"})," This is a demonstration of ML-powered trading signals. Past performance does not guarantee future results. Do not use for actual trading decisions. Models are retrained nightly on 5 years of recent data."]})]})})]})})]})})}function oMe({signal:e,size:t="md"}){const n=e.replace("_"," ");return u.jsxs("span",{className:`inline-flex items-center font-semibold rounded border ${{STRONG_BUY:"bg-emerald-500/20 text-emerald-400 border-emerald-500/40",BUY:"bg-green-500/20 text-green-400 border-green-500/40",HOLD:"bg-yellow-500/20 text-yellow-400 border-yellow-500/40",SELL:"bg-orange-500/20 text-orange-400 border-orange-500/40",STRONG_SELL:"bg-red-500/20 text-red-400 border-red-500/40"}[e]} ${{sm:"px-1.5 py-0.5 text-[10px]",md:"px-2 py-1 text-xs",lg:"px-3 py-1.5 text-sm"}[t]}`,children:[e.includes("BUY")&&u.jsx(CK,{className:"w-3 h-3 mr-1"}),e.includes("SELL")&&u.jsx(EK,{className:"w-3 h-3 mr-1"}),n]})}function lMe({value:e}){const t=Math.round(100*e),n=e>=.7?"bg-emerald-500":e>=.5?"bg-yellow-500":"bg-red-500";return u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"flex-1 h-2 bg-gray-800 rounded-full overflow-hidden",children:u.jsx(nf.div,{initial:{width:0},animate:{width:`${t}%`},transition:{duration:.5},className:`h-full ${n} rounded-full`})}),u.jsxs("span",{className:"text-xs text-gray-400 w-10 text-right",children:[t,"%"]})]})}function cMe({model:e,isActive:t,isSelected:n,onSelect:r}){const{t:a}=wf(),i={lightgbm:"from-blue-500/20 to-cyan-500/20 border-blue-500/40",xgboost:"from-purple-500/20 to-pink-500/20 border-purple-500/40",catboost:"from-green-500/20 to-emerald-500/20 border-green-500/40",randomforest:"from-orange-500/20 to-yellow-500/20 border-orange-500/40",ensemble:"from-gray-500/20 to-gray-600/20 border-gray-500/40"};return u.jsxs(nf.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},whileHover:{scale:1.02},whileTap:{scale:.98},onClick:r,className:`relative p-4 rounded-xl border bg-gradient-to-br cursor-pointer transition-all ${i[e.type]||i.ensemble} ${n?"ring-2 ring-cyan-500 shadow-lg shadow-cyan-500/20":""} ${t?"ring-2 ring-cyan-500/50":""}`,children:[t&&u.jsx("div",{className:"absolute -top-2 -right-2 px-2 py-0.5 bg-cyan-500 text-black text-[10px] font-bold rounded-full",children:"ACTIVE"}),n&&!t&&u.jsx("div",{className:"absolute -top-2 -right-2 px-2 py-0.5 bg-emerald-500 text-black text-[10px] font-bold rounded-full",children:"VIEWING"}),u.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[u.jsx("span",{className:"text-2xl",children:{lightgbm:"",xgboost:"",catboost:"",randomforest:"",ensemble:""}[e.type]||""}),u.jsxs("div",{children:[u.jsx("h4",{className:"text-sm font-semibold text-white",children:e.type.toUpperCase()}),u.jsxs("p",{className:"text-[10px] text-gray-400",children:["v",e.version]})]})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[u.jsxs("div",{children:[u.jsx("span",{className:"text-gray-500",children:a("Accuracy")}),u.jsxs("p",{className:"text-white font-mono",children:[(100*e.metrics.accuracy).toFixed(1),"%"]})]}),u.jsxs("div",{children:[u.jsx("span",{className:"text-gray-500",children:a("Sharpe")}),u.jsx("p",{className:"text-emerald-400 font-mono",children:e.metrics.sharpeRatio.toFixed(2)})]}),u.jsxs("div",{children:[u.jsx("span",{className:"text-gray-500",children:a("Win Rate")}),u.jsxs("p",{className:"text-white font-mono",children:[(100*e.metrics.winRate).toFixed(1),"%"]})]}),u.jsxs("div",{children:[u.jsx("span",{className:"text-gray-500",children:a("Max DD")}),u.jsxs("p",{className:"text-red-400 font-mono",children:[(100*e.metrics.maxDrawdown).toFixed(1),"%"]})]})]})]})}function uMe({prediction:e,index:t}){const[n,r]=O.useState(!1);return u.jsxs(nf.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.05*t},className:"bg-gray-900/50 rounded-lg border overflow-hidden "+(e.isRealModel?"border-emerald-500/30":"border-yellow-500/30"),children:[u.jsx("div",{className:"p-3 cursor-pointer hover:bg-gray-800/30 transition-colors",onClick:()=>r(!n),children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-3",title:e.isRealModel?"Real TFJS Model":"Simulated Fallback",children:u.jsx("span",{className:"block w-2 h-2 rounded-full "+(e.isRealModel?"bg-emerald-500":"bg-yellow-500")})}),u.jsxs("div",{className:"w-12",children:[u.jsx("span",{className:"text-white font-semibold text-sm",children:e.symbol}),u.jsx("span",{className:"block text-[10px] text-gray-500 uppercase",children:e.assetClass})]}),u.jsxs("div",{className:"w-20",children:[u.jsx("span",{className:"text-xs text-gray-400",children:"Price"}),u.jsxs("p",{className:"text-white font-mono text-sm",children:["$",e.currentPrice<1?e.currentPrice.toFixed(4):e.currentPrice.toFixed(2)]})]}),u.jsxs("div",{className:"w-16",children:[u.jsx("span",{className:"text-xs text-gray-400",children:"24h"}),u.jsxs("p",{className:"font-mono text-sm "+(e.priceChange24h>=0?"text-green-400":"text-red-400"),children:[e.priceChange24h>=0?"+":"",e.priceChange24h.toFixed(2),"%"]})]})]}),u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsxs("div",{className:"w-24",children:[u.jsx("span",{className:"text-xs text-gray-400",children:"Confidence"}),u.jsx(lMe,{value:e.confidence})]}),u.jsx(oMe,{signal:e.signal}),u.jsx("div",{className:"text-gray-500",children:n?"":""})]})]})}),u.jsx(su,{children:n&&u.jsxs(nf.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"border-t border-gray-800/50",children:[u.jsxs("div",{className:"p-4 grid grid-cols-2 md:grid-cols-4 gap-4",children:[u.jsx("div",{className:"col-span-2 md:col-span-4 mb-2",children:u.jsxs("div",{className:"inline-flex items-center gap-2 px-2 py-1 rounded text-[10px] "+(e.isRealModel?"bg-emerald-500/20 text-emerald-400 border border-emerald-500/30":"bg-yellow-500/20 text-yellow-400 border border-yellow-500/30"),children:[u.jsx("span",{className:"w-1.5 h-1.5 rounded-full "+(e.isRealModel?"bg-emerald-500":"bg-yellow-500")}),e.isRealModel?"Real TensorFlow.js Model Prediction":"Simulated Fallback Prediction"]})}),u.jsxs("div",{className:"col-span-2",children:[u.jsx("h5",{className:"text-xs text-gray-400 mb-2",children:"Model Predictions"}),u.jsx("div",{className:"space-y-1",children:e.modelPredictions.map(e=>u.jsxs("div",{className:"flex items-center justify-between text-xs",children:[u.jsx("span",{className:"text-gray-300",children:e.modelType.toUpperCase()}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"w-20 h-1.5 bg-gray-800 rounded-full overflow-hidden",children:u.jsx("div",{className:"h-full "+(e.prediction>.55?"bg-green-500":e.prediction<.45?"bg-red-500":"bg-yellow-500"),style:{width:100*e.prediction+"%"}})}),u.jsxs("span",{className:"text-gray-400 font-mono w-12",children:[(100*e.prediction).toFixed(1),"%"]}),u.jsxs("span",{className:"text-gray-600 font-mono w-8",children:["(",(100*e.weight).toFixed(0),"%)"]})]})]},e.modelId))})]}),u.jsxs("div",{children:[u.jsx("h5",{className:"text-xs text-gray-400 mb-2",children:"Risk Metrics"}),u.jsxs("div",{className:"space-y-1 text-xs",children:[u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-gray-500",children:"Expected Return"}),u.jsxs("span",{className:"font-mono "+(e.expectedReturn>=0?"text-green-400":"text-red-400"),children:[e.expectedReturn>=0?"+":"",e.expectedReturn.toFixed(2),"%"]})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-gray-500",children:"Stop Loss"}),u.jsxs("span",{className:"text-red-400 font-mono",children:["$",e.stopLoss.toFixed(2)]})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-gray-500",children:"Take Profit"}),u.jsxs("span",{className:"text-green-400 font-mono",children:["$",e.takeProfit.toFixed(2)]})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-gray-500",children:"Position Size"}),u.jsxs("span",{className:"text-cyan-400 font-mono",children:[e.positionSize.toFixed(1),"%"]})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-gray-500",children:"Risk/Reward"}),u.jsxs("span",{className:"text-white font-mono",children:["1:",e.riskRewardRatio.toFixed(1)]})]})]})]}),u.jsxs("div",{children:[u.jsx("h5",{className:"text-xs text-gray-400 mb-2",children:"Key Signals"}),u.jsxs("div",{className:"space-y-1",children:[e.topFeatures.slice(0,4).map((e,t)=>u.jsxs("div",{className:"flex items-center gap-1 text-xs",children:[u.jsx("span",{className:"w-2 h-2 rounded-full "+("positive"===e.impact?"bg-green-500":"bg-red-500")}),u.jsx("span",{className:"text-gray-300 truncate",children:e.name})]},t)),0===e.topFeatures.length&&u.jsx("span",{className:"text-gray-500 text-xs",children:"No significant signals"})]})]})]}),u.jsxs("div",{className:"px-4 pb-3 text-[10px] text-gray-600",children:["Latency: ",e.latencyMs.toFixed(1),"ms  Updated: ",new Date(e.timestamp).toLocaleTimeString()]})]})})]})}function hMe(){const{t:e}=wf(),[t,n]=O.useState(!0),[r,a]=O.useState([]),[i,s]=O.useState([]),[o,l]=O.useState("all"),[c,h]=O.useState(90),[d,p]=O.useState(null),[f,m]=O.useState(null),[g,y]=O.useState(null),[x,b]=O.useState("lightgbm"),[v,w]=O.useState(!1);O.useEffect(()=>{let e=null,t=null;return async function(){n(!0),m(null);try{console.log(" ML Dashboard: Initializing..."),console.log(" Loading TensorFlow.js models...");const t=await eke();y(nke()),t?console.log(" Real TensorFlow.js models loaded!"):console.warn(" Using simulated models (TFJS not available)"),e=function(e=9e4){return Cq(),jq||(jq=setInterval(Cq,e)),()=>{jq&&(clearInterval(jq),jq=null)}}(9e4),await Cq(),await cke(),s(zq.models),a(uke()),p(new Date),h(90),console.log(" ML Dashboard: Ready")}catch(CTe){console.error("ML Dashboard initialization error:",CTe),m("Failed to initialize ML system. Please refresh.")}finally{n(!1)}}(),t=setInterval(()=>{h(e=>e<=1?(Cq().then(()=>cke()).then(()=>{a(uke()),p(new Date),y(nke())}),90):e-1)},1e3),()=>{e&&e(),t&&clearInterval(t)}},[]);const k=O.useMemo(()=>{if("all"===o)return r;const e={stocks:"stock",etfs:"etf",crypto:"crypto"};return r.filter(t=>t.assetClass===e[o])},[r,o]),S=O.useMemo(()=>function(){const e=uke();if(0===e.length)return{totalPredictions:0,avgConfidence:0,signalDistribution:{},avgLatencyMs:0};const t={STRONG_BUY:0,BUY:0,HOLD:0,SELL:0,STRONG_SELL:0};let n=0,r=0;for(const a of e)t[a.signal]++,n+=a.confidence,r+=a.latencyMs;return{totalPredictions:e.length,avgConfidence:n/e.length,signalDistribution:t,avgLatencyMs:r/e.length}}(),[r]),N=O.useMemo(()=>r.filter(e=>"STRONG_BUY"===e.signal||"BUY"===e.signal).sort((e,t)=>t.confidence-e.confidence).slice(0,5),[r]),E=O.useMemo(()=>r.filter(e=>"STRONG_SELL"===e.signal||"SELL"===e.signal).sort((e,t)=>t.confidence-e.confidence).slice(0,5),[r]),A=O.useCallback(async()=>{n(!0);try{await Cq(),await cke(),a(uke()),p(new Date),h(90)}catch(CTe){console.error("Manual refresh error:",CTe)}finally{n(!1)}},[]),C=Bq();return u.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-950 via-gray-900 to-gray-950 text-foreground",children:[u.jsx(bke,{}),u.jsx(vke,{}),u.jsx(fke,{}),u.jsx(Mke,{}),u.jsx("header",{className:"sticky top-0 z-50 bg-gray-950/80 backdrop-blur-xl border-b border-gray-800",children:u.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 py-3 sm:py-4",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsxs(wt,{to:"/",className:"flex items-center gap-2 text-gray-400 hover:text-white transition-colors",children:[u.jsx(bK,{className:"w-4 h-4 sm:w-5 sm:h-5"}),u.jsx("span",{className:"hidden sm:inline text-sm",children:e("Back to Portfolio")})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs("div",{className:"relative",children:[u.jsx(GK,{className:"w-6 h-6 sm:w-7 sm:h-7 text-cyan-400"}),u.jsx(nf.div,{className:"absolute inset-0 rounded-full",animate:{boxShadow:["0 0 10px rgba(6, 182, 212, 0)","0 0 20px rgba(6, 182, 212, 0.4)","0 0 10px rgba(6, 182, 212, 0)"]},transition:{duration:2,repeat:1/0}})]}),u.jsxs("div",{children:[u.jsx("h1",{className:"text-lg sm:text-2xl font-bold bg-gradient-to-r from-cyan-400 via-purple-400 to-pink-400 bg-clip-text text-transparent",children:"Alpha Engine"}),u.jsx("p",{className:"text-[10px] text-gray-500 hidden sm:block",children:"ML-Powered Prediction System  Real-Time Inference"})]})]})]}),u.jsxs("div",{className:"flex items-center gap-2 sm:gap-4",children:[u.jsxs("div",{className:"hidden md:flex items-center gap-2 px-3 py-1.5 bg-black/30 backdrop-blur-sm border border-gray-700/50 rounded-lg",children:[u.jsxs("div",{className:"flex items-center gap-1.5 text-gray-500 hover:text-cyan-400 transition-colors cursor-default",children:[u.jsx("span",{className:"text-[11px] font-mono",children:"terminal"}),u.jsx("kbd",{className:"px-1.5 py-0.5 bg-cyan-500/10 border border-cyan-500/30 rounded text-[10px] font-mono text-cyan-400",children:"`"})]}),u.jsx("div",{className:"w-px h-3 bg-gray-700"}),u.jsxs("div",{className:"flex items-center gap-1.5 text-gray-500 hover:text-purple-400 transition-colors cursor-default",children:[u.jsx("span",{className:"text-[11px] font-mono",children:"shortcuts"}),u.jsx("kbd",{className:"px-1.5 py-0.5 bg-purple-500/10 border border-purple-500/30 rounded text-[10px] font-mono text-purple-400",children:"?"})]})]}),u.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[u.jsx("div",{className:"w-2 h-2 rounded-full "+(t?"bg-yellow-500 animate-pulse":"bg-green-500")}),u.jsx("span",{className:"text-gray-400 hidden sm:inline",children:t?"Updating...":`Next: ${c}s`})]}),u.jsx("button",{onClick:A,disabled:t,className:"p-2 rounded-lg bg-gray-800/50 hover:bg-gray-700/50 transition-colors disabled:opacity-50",children:u.jsx(SK,{className:"w-4 h-4 text-gray-400 "+(t?"animate-spin":"")})}),u.jsx(nf.div,{whileHover:{scale:1.05},whileTap:{scale:.98},children:u.jsx(wt,{to:"/lab",children:u.jsxs("button",{className:"relative overflow-hidden px-3 py-1.5 sm:px-4 sm:py-2 rounded-lg bg-gradient-to-r from-purple-600 via-pink-600 to-orange-600 text-white text-xs sm:text-sm font-medium border-0 shadow-[0_0_15px_rgba(168,85,247,0.3)] hover:shadow-[0_0_25px_rgba(168,85,247,0.5)] transition-all duration-300",children:[u.jsx(nf.span,{className:"absolute inset-0 bg-gradient-to-r from-purple-400/30 via-pink-400/30 to-orange-400/30",animate:{x:["-100%","100%"]},transition:{duration:2,repeat:1/0,ease:"linear"}}),u.jsxs("span",{className:"relative z-10 flex items-center gap-1.5",children:[u.jsx(Na,{className:"w-3 h-3 sm:w-4 sm:h-4",weight:"bold"}),u.jsx("span",{className:"hidden sm:inline",children:"Quant Sandbox"}),u.jsx("span",{className:"sm:hidden",children:"Sandbox"})]})]})})})]})]})})}),u.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 py-6",children:[f&&u.jsxs("div",{className:"mb-6 p-4 bg-red-500/10 border border-red-500/30 rounded-lg flex items-center gap-3",children:[u.jsx(JK,{className:"w-5 h-5 text-red-400"}),u.jsx("span",{className:"text-red-300",children:f})]}),t&&0===r.length&&u.jsxs("div",{className:"flex flex-col items-center justify-center py-20",children:[u.jsxs("div",{className:"relative",children:[u.jsx(GK,{className:"w-16 h-16 text-cyan-400 animate-pulse"}),u.jsx("div",{className:"absolute inset-0 w-16 h-16 border-4 border-cyan-500/30 rounded-full animate-spin border-t-cyan-500"})]}),u.jsx("p",{className:"mt-4 text-gray-400",children:"Initializing Alpha Engine..."}),u.jsx("p",{className:"text-xs text-gray-600 mt-2",children:"Loading ML models & fetching market data"})]}),r.length>0&&u.jsxs(u.Fragment,{children:[u.jsx(sMe,{}),u.jsxs("div",{className:"mb-6 grid grid-cols-2 md:grid-cols-5 gap-3",children:[u.jsxs("div",{className:"bg-gray-900/50 rounded-lg p-3 border border-gray-800/50",children:[u.jsxs("div",{className:"flex items-center gap-2 text-gray-400 text-xs mb-1",children:[u.jsx(mq,{className:"w-4 h-4"}),u.jsx("span",{children:"Predictions"})]}),u.jsx("p",{className:"text-2xl font-bold text-white",children:S.totalPredictions})]}),u.jsxs("div",{className:"bg-gray-900/50 rounded-lg p-3 border border-gray-800/50",children:[u.jsxs("div",{className:"flex items-center gap-2 text-gray-400 text-xs mb-1",children:[u.jsx($K,{className:"w-4 h-4"}),u.jsx("span",{children:"Avg Confidence"})]}),u.jsxs("p",{className:"text-2xl font-bold text-cyan-400",children:[(100*S.avgConfidence).toFixed(1),"%"]})]}),u.jsxs("div",{className:"bg-gray-900/50 rounded-lg p-3 border border-gray-800/50",children:[u.jsxs("div",{className:"flex items-center gap-2 text-gray-400 text-xs mb-1",children:[u.jsx(IK,{className:"w-4 h-4"}),u.jsx("span",{children:"Avg Latency"})]}),u.jsxs("p",{className:"text-2xl font-bold text-green-400",children:[S.avgLatencyMs.toFixed(1),"ms"]})]}),u.jsxs("div",{className:"bg-gray-900/50 rounded-lg p-3 border border-gray-800/50",children:[u.jsxs("div",{className:"flex items-center gap-2 text-gray-400 text-xs mb-1",children:[u.jsx(CK,{className:"w-4 h-4 text-green-400"}),u.jsx("span",{children:"Buy Signals"})]}),u.jsx("p",{className:"text-2xl font-bold text-green-400",children:(S.signalDistribution.STRONG_BUY||0)+(S.signalDistribution.BUY||0)})]}),u.jsxs("div",{className:"bg-gray-900/50 rounded-lg p-3 border border-gray-800/50",children:[u.jsxs("div",{className:"flex items-center gap-2 text-gray-400 text-xs mb-1",children:[u.jsx(EK,{className:"w-4 h-4 text-red-400"}),u.jsx("span",{children:"Sell Signals"})]}),u.jsx("p",{className:"text-2xl font-bold text-red-400",children:(S.signalDistribution.STRONG_SELL||0)+(S.signalDistribution.SELL||0)})]})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[u.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{className:"bg-gray-900/50 rounded-xl p-4 border border-green-500/20",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[u.jsx(CK,{className:"w-5 h-5 text-green-400"}),u.jsx("h3",{className:"text-sm font-semibold text-white",children:e("Top Buy Signals")})]}),u.jsx("div",{className:"space-y-2",children:0===N.length?u.jsx("p",{className:"text-gray-500 text-sm",children:"No strong buy signals"}):N.map(e=>u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"text-white font-semibold text-sm",children:e.symbol}),u.jsx(oMe,{signal:e.signal,size:"sm"})]}),u.jsxs("span",{className:"text-green-400 text-xs font-mono",children:["+",e.expectedReturn.toFixed(2),"%"]})]},e.symbol))})]}),u.jsxs("div",{className:"bg-gray-900/50 rounded-xl p-4 border border-red-500/20",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[u.jsx(EK,{className:"w-5 h-5 text-red-400"}),u.jsx("h3",{className:"text-sm font-semibold text-white",children:e("Top Sell Signals")})]}),u.jsx("div",{className:"space-y-2",children:0===E.length?u.jsx("p",{className:"text-gray-500 text-sm",children:"No strong sell signals"}):E.map(e=>u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"text-white font-semibold text-sm",children:e.symbol}),u.jsx(oMe,{signal:e.signal,size:"sm"})]}),u.jsxs("span",{className:"text-red-400 text-xs font-mono",children:[e.expectedReturn.toFixed(2),"%"]})]},e.symbol))})]})]}),u.jsxs("div",{className:"bg-gray-900/30 rounded-xl p-4 border border-gray-800/50",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(_K,{className:"w-5 h-5 text-cyan-400"}),u.jsx("h3",{className:"text-lg font-semibold text-white",children:e("All Predictions")})]}),u.jsx("div",{className:"flex gap-1 bg-gray-800/50 rounded-lg p-1",children:["all","stocks","etfs","crypto"].map(e=>u.jsx("button",{onClick:()=>l(e),className:"px-3 py-1 text-xs rounded-md transition-colors "+(o===e?"bg-cyan-500/20 text-cyan-300":"text-gray-500 hover:text-gray-300"),children:e.charAt(0).toUpperCase()+e.slice(1)},e))})]}),u.jsx("div",{className:"space-y-2 max-h-[600px] overflow-y-auto pr-2",children:k.map((e,t)=>u.jsx(uMe,{prediction:e,index:t},e.symbol))})]})]}),u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"bg-gray-900/50 rounded-xl p-4 border border-purple-500/20",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[u.jsx(pq,{className:"w-5 h-5 text-purple-400"}),u.jsx("h3",{className:"text-sm font-semibold text-white",children:e("Ensemble Weights")})]}),u.jsx("div",{className:"space-y-3",children:Object.entries(C).map(([e,t])=>u.jsxs("div",{children:[u.jsxs("div",{className:"flex justify-between text-xs mb-1",children:[u.jsx("span",{className:"text-gray-400",children:e.toUpperCase()}),u.jsxs("span",{className:"text-white font-mono",children:[(100*t).toFixed(0),"%"]})]}),u.jsx("div",{className:"h-2 bg-gray-800 rounded-full overflow-hidden",children:u.jsx(nf.div,{initial:{width:0},animate:{width:100*t+"%"},transition:{duration:.5},className:"h-full bg-gradient-to-r from-purple-500 to-cyan-500 rounded-full"})})]},e))})]}),u.jsxs("div",{className:"bg-gray-900/30 rounded-xl p-4 border border-gray-800/50",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(MK,{className:"w-5 h-5 text-cyan-400"}),u.jsx("h3",{className:"text-sm font-semibold text-white",children:e("Active Models")})]}),u.jsx("span",{className:"text-[10px] text-gray-500 bg-gray-800/50 px-2 py-1 rounded",children:"Click to inspect"})]}),u.jsx("div",{className:"space-y-3",children:Vq(4).map(e=>u.jsx(cMe,{model:e,isActive:1===e.rank,isSelected:x===e.type,onSelect:()=>{b(e.type),w(!0)}},e.id))}),u.jsx(su,{children:v&&u.jsxs(nf.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:10},className:"mt-4 p-3 bg-gray-800/80 rounded-lg border border-cyan-500/30",children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsxs("span",{className:"text-xs font-semibold text-cyan-400",children:[x.toUpperCase()," Model Details"]}),u.jsx("button",{onClick:()=>w(!1),className:"text-gray-500 hover:text-white text-xs",children:""})]}),u.jsxs("div",{className:"text-[10px] text-gray-400 space-y-1",children:[u.jsxs("p",{children:[" ",u.jsx("span",{className:"text-white",children:"All predictions use this model"})," in the ensemble"]}),u.jsxs("p",{children:[" ",u.jsx("span",{className:"text-emerald-400",children:"Real TensorFlow.js model"})," running in your browser"]}),u.jsx("p",{children:" Trained on 55 technical indicators"}),u.jsxs("p",{children:[" Contributes ","lightgbm"===x?"30%":"xgboost"===x||"catboost"===x?"25%":"20%"," to final prediction"]})]})]})})]}),u.jsxs("div",{className:"bg-gray-900/50 rounded-xl p-4 border border-gray-800/50",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[u.jsx(tq,{className:"w-5 h-5 text-gray-400"}),u.jsx("h3",{className:"text-sm font-semibold text-white",children:e("System Info")})]}),u.jsxs("div",{className:"space-y-2 text-xs",children:[u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-gray-500",children:"Last Updated"}),u.jsx("span",{className:"text-gray-300",children:d?d.toLocaleTimeString():"N/A"})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-gray-500",children:"Refresh Interval"}),u.jsx("span",{className:"text-gray-300",children:"90 seconds"})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-gray-500",children:"Models Loaded"}),u.jsx("span",{className:"text-emerald-400",children:"4 Real TFJS"})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-gray-500",children:"Features"}),u.jsx("span",{className:"text-gray-300",children:"55 indicators"})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-gray-500",children:"Inference"}),u.jsx("span",{className:"text-emerald-400",children:"Client-side (WebGL)"})]})]}),u.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-800/50",children:[u.jsx("p",{className:"text-[10px] text-gray-500 mb-2",children:"Training Schedule"}),u.jsxs("div",{className:"space-y-1.5",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"w-2 h-2 rounded-full bg-cyan-500"}),u.jsxs("span",{className:"text-[10px] text-gray-400",children:[u.jsx("span",{className:"text-white font-medium",children:"Initial:"})," 20 years (198K samples)"]})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"w-2 h-2 rounded-full bg-purple-500 animate-pulse"}),u.jsxs("span",{className:"text-[10px] text-gray-400",children:[u.jsx("span",{className:"text-white font-medium",children:"Nightly:"})," 5 years (incremental)"]})]})]}),u.jsx("p",{className:"text-[9px] text-gray-600 mt-2",children:"Models retrain automatically via GitHub Actions every night at midnight UTC"})]})]}),u.jsxs("div",{className:"bg-gradient-to-br from-cyan-500/10 to-purple-500/10 rounded-xl p-4 border border-cyan-500/20",children:[u.jsxs("h4",{className:"text-sm font-semibold text-white mb-2",children:[" ",e("Architecture")]}),u.jsxs("ul",{className:"text-xs text-gray-400 space-y-1",children:[u.jsxs("li",{children:[" ",u.jsx("span",{className:"text-cyan-400",children:"Real-time data:"})," Finnhub + Binance APIs"]}),u.jsxs("li",{children:[" ",u.jsx("span",{className:"text-cyan-400",children:"Features:"})," 55 technical indicators (RSI, MACD, Bollinger, etc.)"]}),u.jsxs("li",{children:[" ",u.jsx("span",{className:"text-cyan-400",children:"Ensemble:"})," LightGBM, XGBoost, CatBoost, RandomForest"]}),u.jsxs("li",{children:[" ",u.jsx("span",{className:"text-cyan-400",children:"Inference:"})," 100% client-side via TensorFlow.js (WebGL)"]}),u.jsxs("li",{children:[" ",u.jsx("span",{className:"text-cyan-400",children:"Distillation:"})," Tree models  Neural Networks"]}),u.jsxs("li",{children:[" ",u.jsx("span",{className:"text-cyan-400",children:"Refresh:"})," 90 second auto-refresh cycle"]}),u.jsxs("li",{children:[" ",u.jsx("span",{className:"text-cyan-400",children:"CI/CD:"})," Nightly retraining via GitHub Actions"]})]})]})]})]})]})]}),u.jsx("footer",{className:"py-6 px-6 border-t border-gray-800 bg-gray-950/50 mt-12",children:u.jsx("div",{className:"max-w-7xl mx-auto text-center",children:u.jsx("p",{className:"text-xs text-gray-500",children:"Alpha Engine  ML-Powered Predictions  Models trained on 20 years of historical data  For demonstration only"})})}),u.jsx(mSe,{})]})}const dMe="geoLocationCache",pMe="geoLocationSession";function fMe(){try{const e=sessionStorage.getItem(pMe);if(e){const t=JSON.parse(e);return console.log(" Using session cached geo data (instant):",t),t}const t=localStorage.getItem(dMe);if(!t)return null;const{data:n,timestamp:r}=JSON.parse(t);return Date.now()-r>6048e5?(localStorage.removeItem(dMe),null):(console.log(" Using localStorage cached geo data:",n),sessionStorage.setItem(pMe,JSON.stringify(n)),n)}catch{return null}}function mMe(){const e=fMe();return e&&e.country_code?(console.log(" TURBO MODE: Initializing with cached geo data - NO API call needed!"),{country:e.country_name||"",countryCode:e.country_code||"",city:e.city||"",isIndia:"IN"===e.country_code,isLoading:!1,error:null,isCached:!0}):{country:"",countryCode:"",city:"",isIndia:!1,isLoading:!0,error:null,isCached:!1}}function gMe(){const[e,t]=O.useState(mMe),[n,r]=O.useState(0),a=O.useCallback(()=>{localStorage.removeItem(dMe),sessionStorage.removeItem(pMe),t(e=>({...e,isLoading:!0,error:null,isCached:!1})),r(e=>e+1)},[]);return O.useEffect(()=>{if(e.isCached&&!e.isLoading&&e.countryCode)return void console.log(" Skipping geo API call - using cached data");(async()=>{const e=fMe();if(e&&e.country_code){const n="IN"===e.country_code;return void t({country:e.country_name||"",countryCode:e.country_code||"",city:e.city||"",isIndia:n,isLoading:!1,error:null,isCached:!0})}console.log(" Fetching geo location from API...");try{let e=null;try{const t=await fetch("https://ipapi.co/json/",{signal:AbortSignal.timeout(5e3)});if(t.ok){const n=await t.json();n.country_code&&(console.log(" ipapi.co response:",n),e={country_code:n.country_code,country_name:n.country_name,city:n.city})}}catch{console.log(" ipapi.co failed, trying backup...")}if(!e)try{const t=await fetch("https://ipinfo.io/json",{signal:AbortSignal.timeout(5e3)});if(t.ok){const n=await t.json();console.log(" ipinfo.io response:",n),e={country_code:n.country,country_name:n.country,city:n.city}}}catch{console.log(" ipinfo.io also failed")}if(!e)try{const t=await fetch("https://ipwho.is/",{signal:AbortSignal.timeout(5e3)});if(t.ok){const n=await t.json();console.log(" ipwho.is response:",n),e={country_code:n.country_code,country_name:n.country,city:n.city}}}catch{console.log(" ipwho.is also failed")}if(!e||!e.country_code)throw new Error("All geo APIs failed");{const n="IN"===e.country_code;console.log(" Final detection - Country:",e.country_name,"Code:",e.country_code,"isIndia:",n),function(e){try{localStorage.setItem(dMe,JSON.stringify({data:e,timestamp:Date.now()})),sessionStorage.setItem(pMe,JSON.stringify(e))}catch{}}(e),t({country:e.country_name||"",countryCode:e.country_code||"",city:e.city||"",isIndia:n,isLoading:!1,error:null,isCached:!1})}}catch(CTe){console.error(" Geo detection failed:",CTe),t({country:"Unknown",countryCode:"IN",city:"",isIndia:!0,isLoading:!1,error:CTe instanceof Error?CTe.message:"Failed to detect location",isCached:!1})}})()},[n]),{...e,refetch:a}}const yMe={"Asia/Kolkata":{code:"IN",name:"India"},"Asia/Calcutta":{code:"IN",name:"India"},"America/New_York":{code:"US",name:"United States"},"America/Chicago":{code:"US",name:"United States"},"America/Denver":{code:"US",name:"United States"},"America/Los_Angeles":{code:"US",name:"United States"},"America/Phoenix":{code:"US",name:"United States"},"America/Anchorage":{code:"US",name:"United States"},"Pacific/Honolulu":{code:"US",name:"United States"},"Europe/London":{code:"GB",name:"United Kingdom"},"America/Toronto":{code:"CA",name:"Canada"},"America/Vancouver":{code:"CA",name:"Canada"},"America/Edmonton":{code:"CA",name:"Canada"},"America/Halifax":{code:"CA",name:"Canada"},"Australia/Sydney":{code:"AU",name:"Australia"},"Australia/Melbourne":{code:"AU",name:"Australia"},"Australia/Brisbane":{code:"AU",name:"Australia"},"Australia/Perth":{code:"AU",name:"Australia"},"Europe/Paris":{code:"FR",name:"France"},"Europe/Berlin":{code:"DE",name:"Germany"},"Europe/Amsterdam":{code:"NL",name:"Netherlands"},"Europe/Rome":{code:"IT",name:"Italy"},"Europe/Madrid":{code:"ES",name:"Spain"},"Europe/Zurich":{code:"CH",name:"Switzerland"},"Europe/Stockholm":{code:"SE",name:"Sweden"},"Europe/Oslo":{code:"NO",name:"Norway"},"Europe/Copenhagen":{code:"DK",name:"Denmark"},"Europe/Helsinki":{code:"FI",name:"Finland"},"Europe/Dublin":{code:"IE",name:"Ireland"},"Europe/Brussels":{code:"BE",name:"Belgium"},"Europe/Vienna":{code:"AT",name:"Austria"},"Europe/Warsaw":{code:"PL",name:"Poland"},"Europe/Prague":{code:"CZ",name:"Czech Republic"},"Europe/Moscow":{code:"RU",name:"Russia"},"Asia/Tokyo":{code:"JP",name:"Japan"},"Asia/Shanghai":{code:"CN",name:"China"},"Asia/Hong_Kong":{code:"HK",name:"Hong Kong"},"Asia/Singapore":{code:"SG",name:"Singapore"},"Asia/Seoul":{code:"KR",name:"South Korea"},"Asia/Bangkok":{code:"TH",name:"Thailand"},"Asia/Jakarta":{code:"ID",name:"Indonesia"},"Asia/Manila":{code:"PH",name:"Philippines"},"Asia/Kuala_Lumpur":{code:"MY",name:"Malaysia"},"Asia/Dubai":{code:"AE",name:"United Arab Emirates"},"Asia/Riyadh":{code:"SA",name:"Saudi Arabia"},"Asia/Tel_Aviv":{code:"IL",name:"Israel"},"Asia/Jerusalem":{code:"IL",name:"Israel"},"Pacific/Auckland":{code:"NZ",name:"New Zealand"},"America/Sao_Paulo":{code:"BR",name:"Brazil"},"America/Mexico_City":{code:"MX",name:"Mexico"},"Africa/Johannesburg":{code:"ZA",name:"South Africa"},"Africa/Cairo":{code:"EG",name:"Egypt"},"Africa/Lagos":{code:"NG",name:"Nigeria"}};function xMe(){const[e,t]=O.useState({isLoading:!0,error:null,realLocation:null,apparentLocation:null,isVPNDetected:!1,vpnConfidence:0,realLocationIsIndia:!1,apparentLocationIsIndia:!1,shouldBlock:!1,shouldShowPasscode:!1,canPassDirectly:!1,detectionMethod:"",browserTimezone:""}),[n,r]=O.useState(0),a=O.useCallback(()=>{t(e=>({...e,isLoading:!0,error:null})),r(e=>e+1)},[]);return O.useEffect(()=>{let e=!1;return async function(){console.log(""),console.log(" LOCATION VERIFICATION STARTING"),console.log("");try{const n=function(){try{return Intl.DateTimeFormat().resolvedOptions().timeZone}catch{return""}}(),r=yMe[n]||null,a=function(e){return"Asia/Kolkata"===e||"Asia/Calcutta"===e}(n);console.log(" REAL LOCATION (from timezone):"),console.log("   Timezone:",n),console.log("   Country:",r?.name||"Unknown"),console.log("   Is India:",a);const i=r?{country:r.name,countryCode:r.code,city:"N/A (timezone-based)",timezone:n,source:"timezone"}:null,s=await async function(){try{const e=await fetch("https://ipapi.co/json/",{signal:AbortSignal.timeout(5e3)});if(e.ok){const t=await e.json();if(t.country_code)return{ip:t.ip||"",country:t.country_name||"",countryCode:t.country_code||"",city:t.city||"",timezone:t.timezone||"",org:t.org||""}}}catch(ATe){console.log("ipapi.co failed:",ATe)}try{const e=await fetch("https://ipwho.is/",{signal:AbortSignal.timeout(5e3)});if(e.ok){const t=await e.json();if(!1!==t.success)return{ip:t.ip||"",country:t.country||"",countryCode:t.country_code||"",city:t.city||"",timezone:t.timezone?.id||"",org:t.connection?.org||t.connection?.isp||""}}}catch(ATe){console.log("ipwho.is failed:",ATe)}return null}();console.log(" APPARENT LOCATION (from IP):"),console.log("   IP:",s?.ip),console.log("   Country:",s?.country),console.log("   City:",s?.city),console.log("   Org:",s?.org);const o=s?{country:s.country,countryCode:s.countryCode,city:s.city,timezone:s.timezone,ip:s.ip,source:"ip"}:null,l="IN"===s?.countryCode;let c=!1,u=0,h="No VPN detected";if(r&&s&&r.code!==s.countryCode&&(c=!0,u=95,h=`Timezone (${r.code})  IP (${s.countryCode})`,console.log(" VPN DETECTED!"),console.log("   Method:",h),console.log("   Confidence:",u+"%")),!c&&s?.timezone&&n&&s.timezone!==n){const e=s.timezone.split("/")[0],t=n.split("/")[0];e!==t&&(c=!0,u=85,h=`Timezone region mismatch: Browser(${t})  IP(${e})`,console.log(" VPN DETECTED (timezone region mismatch)!"))}let d=!1,p=!1,f=!1;a?c?(d=!0,p=!0,console.log(" BLOCKED: India user detected using VPN")):(d=!1,p=!1,console.log(" NORMAL: India user, no VPN")):(f=!0,d=!1,p=!1,c?console.log(" PASS: Foreign user with VPN (allowed)"):console.log(" PASS: Foreign user, no VPN")),console.log(""),console.log(" VERIFICATION RESULT:"),console.log("   Real Location:",i?.country||"Unknown"),console.log("   Apparent Location:",o?.country||"Unknown"),console.log("   VPN Detected:",c),console.log("   Should Block:",d),console.log("   Show Passcode:",p),console.log("   Can Pass Directly:",f),console.log(""),e||t({isLoading:!1,error:null,realLocation:i,apparentLocation:o,isVPNDetected:c,vpnConfidence:u,realLocationIsIndia:a,apparentLocationIsIndia:l,shouldBlock:d,shouldShowPasscode:p,canPassDirectly:f,detectionMethod:h,browserTimezone:n})}catch(CTe){console.error(" Location verification error:",CTe),e||t(e=>({...e,isLoading:!1,error:CTe instanceof Error?CTe.message:"Verification failed"}))}}(),()=>{e=!0}},[n]),{...e,refetch:a}}const bMe=[{name:"Singapore",flag:"",color:"from-red-500 to-white"},{name:"Hong Kong",flag:"",color:"from-red-600 to-pink-500"},{name:"London",flag:"",color:"from-blue-600 to-red-500"},{name:"New York",flag:"",color:"from-blue-500 to-red-500"},{name:"Dubai",flag:"",color:"from-green-500 to-red-500"},{name:"Tokyo",flag:"",color:"from-white to-red-500"}],vMe=[{icon:Aa,value:"6+",label:"Trading Systems Built",color:"text-green-400"},{icon:fa,value:"$1M+",label:"Trading Volume Handled",color:"text-cyan-400"},{icon:ni,value:"MFE",label:"Financial Engineering",color:"text-purple-400"},{icon:Zi,value:"5+",label:"Research Projects",color:"text-amber-400"}];function wMe(){return u.jsx("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[...Array(30)].map((e,t)=>u.jsx(nf.div,{className:"absolute w-1 h-1 bg-cyan-400/30 rounded-full",initial:{x:Math.random()*("undefined"!=typeof window?window.innerWidth:1e3),y:Math.random()*("undefined"!=typeof window?window.innerHeight:800)},animate:{x:Math.random()*("undefined"!=typeof window?window.innerWidth:1e3),y:Math.random()*("undefined"!=typeof window?window.innerHeight:800),opacity:[.2,.8,.2]},transition:{duration:10+20*Math.random(),repeat:1/0,ease:"linear"}},t))})}function kMe(){return u.jsxs("svg",{className:"absolute inset-0 w-full h-full pointer-events-none opacity-20",children:[u.jsx("defs",{children:u.jsxs("linearGradient",{id:"lineGradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[u.jsx("stop",{offset:"0%",stopColor:"#06b6d4",stopOpacity:"0"}),u.jsx("stop",{offset:"50%",stopColor:"#06b6d4",stopOpacity:"1"}),u.jsx("stop",{offset:"100%",stopColor:"#8b5cf6",stopOpacity:"0"})]})}),[...Array(5)].map((e,t)=>u.jsx(nf.line,{x1:"10%",y1:20+15*t+"%",x2:"90%",y2:30+10*t+"%",stroke:"url(#lineGradient)",strokeWidth:"1",initial:{pathLength:0,opacity:0},animate:{pathLength:1,opacity:[0,.5,0]},transition:{duration:3,delay:.5*t,repeat:1/0,ease:"easeInOut"}},t))]})}function SMe({country:e,onExplore:t}){const[n,r]=O.useState(0),[a,i]=O.useState(!1);return O.useEffect(()=>{const e=setInterval(()=>{r(e=>(e+1)%bMe.length)},2500);return()=>clearInterval(e)},[]),O.useEffect(()=>{const e=setTimeout(()=>i(!0),1500);return()=>clearTimeout(e)},[]),u.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-950 via-gray-900 to-black text-white overflow-hidden relative",children:[u.jsx(wMe,{}),u.jsx(kMe,{}),u.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(ellipse_at_center,_var(--tw-gradient-stops))] from-cyan-900/20 via-transparent to-transparent"}),u.jsxs("div",{className:"relative z-10 min-h-screen flex flex-col items-center justify-center px-6 py-12",children:[u.jsxs(nf.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{type:"spring",duration:1.5,bounce:.4},className:"relative mb-8",children:[u.jsx(nf.div,{className:"absolute inset-0 border-2 border-cyan-500/30 rounded-full",style:{width:"180px",height:"180px",left:"-30px",top:"-30px"},animate:{rotate:360},transition:{duration:20,repeat:1/0,ease:"linear"}}),u.jsx(nf.div,{animate:{rotate:[0,10,-10,0]},transition:{duration:6,repeat:1/0,ease:"easeInOut"},children:u.jsx(ei,{size:120,weight:"duotone",className:"text-cyan-400 drop-shadow-[0_0_30px_rgba(6,182,212,0.5)]"})}),u.jsx(nf.div,{className:"absolute",animate:{rotate:360},transition:{duration:8,repeat:1/0,ease:"linear"},style:{width:"160px",height:"160px",left:"-20px",top:"-20px"},children:u.jsx(nf.div,{className:"absolute -top-2 left-1/2 -translate-x-1/2",children:u.jsx(aa,{size:28,className:"text-amber-400 -rotate-45",weight:"fill"})})})]}),u.jsxs(nf.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.5,duration:.8},className:"text-center mb-8",children:[u.jsxs(nf.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:.3},className:"inline-flex items-center gap-2 px-4 py-2 mb-6 rounded-full bg-amber-500/10 border border-amber-500/30",children:[u.jsx(xi,{size:16,className:"text-amber-400",weight:"fill"}),u.jsx("span",{className:"text-sm text-amber-300",children:"Portfolio Reserved for Global Recruiters"})]}),u.jsx("h1",{className:"text-4xl md:text-6xl font-bold mb-4",children:u.jsx("span",{className:"bg-gradient-to-r from-cyan-400 via-purple-400 to-pink-400 bg-clip-text text-transparent",children:"Hey there, fellow Indian! "})}),u.jsxs(nf.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.8},className:"text-xl text-gray-300 max-w-2xl mx-auto mb-6",children:["You've discovered something special  but this interactive portfolio is ",u.jsx("span",{className:"text-cyan-400 font-semibold",children:"exclusively designed"})," for global recruiters and hiring managers."]}),u.jsxs(nf.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:1},className:"flex items-center justify-center gap-2 text-gray-400",children:[u.jsx(vi,{size:18,className:"text-cyan-400"}),u.jsxs("span",{children:["You're in ",e||"India"]}),u.jsx(la,{size:18,className:"text-purple-400"}),u.jsx("span",{className:"text-gray-500",children:"Targeting:"}),u.jsxs(nf.span,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"font-semibold text-white",children:[bMe[n].flag," ",bMe[n].name]},n)]})]}),u.jsx(su,{children:a&&u.jsxs(nf.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"max-w-2xl text-center mb-10",children:[u.jsxs(nf.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.2},className:"mb-8 p-6 rounded-2xl bg-gradient-to-br from-cyan-500/10 to-purple-500/10 border border-cyan-500/20",children:[u.jsxs("p",{className:"text-lg text-gray-300 leading-relaxed",children:[u.jsx(si,{size:20,className:"inline text-red-400 mr-2",weight:"fill"}),"I'm a ",u.jsx("span",{className:"text-cyan-400 font-semibold",children:"Quantitative Developer"})," &",u.jsx("span",{className:"text-purple-400 font-semibold",children:" Financial Engineer"})," on a mission to bring ",u.jsx("strong",{className:"text-white",children:"Indian talent to the world's leading financial hubs"}),"."]}),u.jsxs("p",{className:"text-sm text-gray-400 mt-3",children:["This portfolio showcases my work to ",u.jsx("span",{className:"text-cyan-300",children:"international recruiters"}),"  it's how I'm opening doors that are often closed to us."]})]}),u.jsxs(nf.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.4},className:"mb-8",children:[u.jsx("h3",{className:"text-sm font-semibold text-gray-500 uppercase tracking-wider mb-4",children:"What I've Built So Far"}),u.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:vMe.map((e,t)=>u.jsxs(nf.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:.5+.1*t},className:"p-4 rounded-xl bg-white/5 border border-white/10",children:[u.jsx(e.icon,{size:24,className:`${e.color} mx-auto mb-2`,weight:"duotone"}),u.jsx("div",{className:"text-2xl font-bold text-white",children:e.value}),u.jsx("div",{className:"text-xs text-gray-400",children:e.label})]},e.label))})]}),u.jsx("div",{className:"flex flex-wrap justify-center gap-4 mb-8",children:[{icon:Aa,label:"Quant Trading",color:"text-green-400"},{icon:Ta,label:"Algo Development",color:"text-cyan-400"},{icon:ga,label:"Risk Analytics",color:"text-purple-400"}].map((e,t)=>u.jsxs(nf.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:.3+.1*t},className:"flex items-center gap-2 px-4 py-2 rounded-full bg-white/5 border border-white/10",children:[u.jsx(e.icon,{size:20,className:e.color,weight:"duotone"}),u.jsx("span",{className:"text-sm text-gray-300",children:e.label})]},e.label))})]})}),u.jsx(nf.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:1.2},className:"grid grid-cols-3 md:grid-cols-6 gap-4 mb-10",children:bMe.map((e,t)=>u.jsxs(nf.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:1.4+.1*t},whileHover:{scale:1.1,y:-5},className:`\n                flex flex-col items-center gap-2 p-4 rounded-xl\n                bg-gradient-to-br ${n===t?"from-cyan-500/20 to-purple-500/20 border-cyan-500/50":"from-white/5 to-white/0 border-white/10"}\n                border transition-all duration-300 cursor-pointer\n              `,onClick:()=>r(t),children:[u.jsx("span",{className:"text-2xl",children:e.flag}),u.jsx("span",{className:"text-xs text-gray-400",children:e.name})]},e.name))}),u.jsxs(nf.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:2},className:"flex flex-col sm:flex-row gap-4",children:[u.jsxs(nf.a,{href:"https://www.linkedin.com/in/shadaabah",target:"_blank",rel:"noopener noreferrer",className:"group flex items-center gap-3 px-8 py-4 bg-gradient-to-r from-cyan-600 to-purple-600 hover:from-cyan-500 hover:to-purple-500 rounded-xl font-semibold transition-all duration-300 shadow-lg hover:shadow-cyan-500/25",whileHover:{scale:1.02},whileTap:{scale:.98},children:[u.jsx(fi,{size:24,weight:"fill"}),"Connect Globally",u.jsx(nf.span,{animate:{x:[0,5,0]},transition:{duration:1.5,repeat:1/0},children:u.jsx(la,{size:20})})]}),u.jsxs(nf.a,{href:"mailto:shadaab.ah17@gmail.com",className:"group flex items-center gap-3 px-8 py-4 bg-white/10 hover:bg-white/20 border border-white/20 rounded-xl font-semibold transition-all duration-300",whileHover:{scale:1.02},whileTap:{scale:.98},children:[u.jsx(Ba,{size:24}),"Get in Touch"]})]}),false,u.jsxs(nf.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:3},className:"absolute bottom-8 text-center text-gray-600 text-sm max-w-md",children:[u.jsx(si,{size:16,className:"inline mr-2 text-red-400",weight:"fill"}),"Made with love from India  aiming for the world "]})]})]})}function NMe(){return u.jsx("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[...Array(15)].map((e,t)=>u.jsx(nf.div,{className:"absolute w-1 h-1 rounded-full bg-cyan-400/30",style:{left:10+80*Math.random()+"%",top:10+80*Math.random()+"%"},animate:{y:[0,-30,0],opacity:[.2,.6,.2],scale:[1,1.5,1]},transition:{duration:4+2*Math.random(),delay:2*Math.random(),repeat:1/0,ease:"easeInOut"}},t))})}function EMe({color:e="cyan"}){const t="cyan"===e?"border-cyan-500/40":"purple"===e?"border-purple-500/40":"green"===e?"border-green-500/40":"border-cyan-500/40";return u.jsx(u.Fragment,{children:[0,1,2].map(e=>u.jsx(nf.div,{className:`absolute rounded-full border-2 ${t}`,style:{width:"150px",height:"150px",left:"50%",top:"50%",transform:"translate(-50%, -50%)"},initial:{scale:.8,opacity:0},animate:{scale:[1,1.5+.3*e,2+.3*e],opacity:[.6,.3,0]},transition:{duration:2.5,delay:.4*e,repeat:1/0,ease:"easeOut"}},e))})}const AMe=[{name:"Singapore",flag:"",angle:0},{name:"Hong Kong",flag:"",angle:60},{name:"London",flag:"",angle:120},{name:"New York",flag:"",angle:180},{name:"Dubai",flag:"",angle:240},{name:"Tokyo",flag:"",angle:300}];function CMe({show:e}){return e?u.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:AMe.map((e,t)=>{const n=180*Math.cos((e.angle-90)*Math.PI/180),r=180*Math.sin((e.angle-90)*Math.PI/180);return u.jsxs(nf.div,{className:"absolute flex flex-col items-center",style:{left:`calc(50% + ${n}px)`,top:`calc(50% + ${r}px)`,transform:"translate(-50%, -50%)"},initial:{opacity:0,scale:0},animate:{opacity:1,scale:1},transition:{delay:.5+.15*t,duration:.5,type:"spring"},children:[u.jsx(nf.div,{className:"absolute w-[2px] bg-gradient-to-b from-cyan-400/60 to-transparent",style:{height:"130px",transformOrigin:"bottom center",rotate:`${e.angle+180}deg`,bottom:"50%"},initial:{scaleY:0},animate:{scaleY:1},transition:{delay:.3+.1*t,duration:.4}}),u.jsxs(nf.div,{className:"flex flex-col items-center gap-1 px-3 py-2 rounded-lg bg-gray-900/90 border border-cyan-500/30 backdrop-blur-sm",whileHover:{scale:1.1},children:[u.jsx("span",{className:"text-xl",children:e.flag}),u.jsx("span",{className:"text-[10px] text-cyan-300 font-medium",children:e.name})]})]},e.name)})}):null}function jMe(){return u.jsxs("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:[[...Array(12)].map((e,t)=>{const n=t/12*360;return u.jsx(nf.div,{className:"absolute",initial:{scale:0,x:0,y:0,opacity:1},animate:{scale:[0,1,.5],x:120*Math.cos(n*Math.PI/180),y:120*Math.sin(n*Math.PI/180),opacity:[1,1,0]},transition:{duration:1,ease:"easeOut"},children:u.jsx(Fi,{size:24,weight:"fill",className:"text-amber-400 drop-shadow-[0_0_10px_rgba(251,191,36,0.8)]"})},t)}),[...Array(24)].map((e,t)=>{const n=t/24*360,r=["#06b6d4","#8b5cf6","#ec4899","#10b981","#f59e0b"];return u.jsx(nf.div,{className:"absolute w-3 h-3 rounded-full",style:{backgroundColor:r[t%r.length],boxShadow:`0 0 15px ${r[t%r.length]}`},initial:{scale:0,x:0,y:0,opacity:1},animate:{scale:[0,1.5,0],x:200*Math.cos(n*Math.PI/180),y:200*Math.sin(n*Math.PI/180),opacity:[1,.8,0]},transition:{duration:1.2,ease:"easeOut",delay:.1}},`outer-${t}`)})]})}function MMe({text:e,className:t=""}){const[n,r]=O.useState(""),[a,i]=O.useState(!0);return O.useEffect(()=>{let t=0;const n=setInterval(()=>{t<=e.length?(r(e.slice(0,t)),t++):(clearInterval(n),setTimeout(()=>i(!1),500))},60);return()=>clearInterval(n)},[e]),u.jsxs("span",{className:t,children:[n,a&&u.jsx(nf.span,{animate:{opacity:[1,0]},transition:{duration:.5,repeat:1/0},className:"inline-block w-[3px] h-[1.1em] bg-current ml-1 align-middle"})]})}function TMe({currentPhase:e,totalPhases:t}){return u.jsx("div",{className:"absolute top-8 left-1/2 -translate-x-1/2 flex gap-2",children:[...Array(t)].map((t,n)=>u.jsx(nf.div,{className:"w-2 h-2 rounded-full "+(n<=e?"bg-cyan-400":"bg-gray-700"),animate:n===e?{scale:[1,1.3,1]}:{},transition:{duration:1,repeat:1/0}},n))})}function IMe({country:e,city:t,onComplete:n}){const[r,a]=O.useState(0),[i,s]=O.useState(!1);return O.useEffect(()=>{const e=[setTimeout(()=>a(1),800),setTimeout(()=>a(2),4e3),setTimeout(()=>a(3),7500),setTimeout(()=>a(4),11e3),setTimeout(()=>s(!0),11200),setTimeout(()=>a(5),12500),setTimeout(()=>n(),15e3)];return()=>e.forEach(clearTimeout)},[n]),u.jsxs(nf.div,{initial:{opacity:1},exit:{opacity:0},transition:{duration:.8},className:"fixed inset-0 z-50 bg-gradient-to-br from-[#0a0a12] via-[#0d0d18] to-[#0a0a12] flex items-center justify-center overflow-hidden",children:[u.jsxs("div",{className:"absolute inset-0",children:[u.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(ellipse_at_center,_rgba(6,182,212,0.08)_0%,_transparent_60%)]"}),u.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(ellipse_at_bottom_right,_rgba(139,92,246,0.06)_0%,_transparent_50%)]"})]}),u.jsx(NMe,{}),u.jsx(TMe,{currentPhase:r,totalPhases:6}),u.jsxs("div",{className:"relative z-10 flex flex-col items-center",children:[u.jsxs("div",{className:"relative w-[450px] h-[450px] flex items-center justify-center",children:[u.jsx(CMe,{show:3===r}),i&&r>=4&&u.jsx(jMe,{}),u.jsxs("div",{className:"relative",children:[r>=1&&r<4&&u.jsx(EMe,{color:1===r?"cyan":2===r?"purple":"cyan"}),u.jsxs(su,{mode:"wait",children:[r<=1&&u.jsxs(nf.div,{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.8,opacity:0},transition:{duration:.5},className:"relative",children:[u.jsx(nf.div,{className:"absolute -inset-4 rounded-full",style:{background:"conic-gradient(from 0deg, transparent 0deg, rgba(6,182,212,0.3) 30deg, transparent 60deg)"},animate:{rotate:360},transition:{duration:2,repeat:1/0,ease:"linear"}}),u.jsx("div",{className:"relative p-8 rounded-full bg-gradient-to-br from-gray-900 to-gray-800 border-2 border-cyan-500/50 shadow-[0_0_40px_rgba(6,182,212,0.3)]",children:u.jsx(nf.div,{animate:{scale:[1,1.05,1]},transition:{duration:2,repeat:1/0},children:u.jsx(Za,{size:80,weight:"duotone",className:"text-cyan-400"})})})]},"scanning"),2===r&&u.jsxs(nf.div,{initial:{scale:.5,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.8,opacity:0},transition:{duration:.5},className:"relative",children:[u.jsx("div",{className:"relative p-8 rounded-full bg-gradient-to-br from-gray-900 to-gray-800 border-2 border-purple-500/50 shadow-[0_0_40px_rgba(139,92,246,0.3)]",children:u.jsx(nf.div,{animate:{rotate:360},transition:{duration:3,repeat:1/0,ease:"linear"},children:u.jsx(Ra,{size:80,weight:"duotone",className:"text-purple-400"})})}),u.jsx(nf.div,{className:"absolute -top-2 -right-2 p-2 rounded-full bg-purple-500 shadow-[0_0_20px_rgba(139,92,246,0.6)]",animate:{scale:[1,1.2,1]},transition:{duration:1,repeat:1/0},children:u.jsx(vi,{size:20,weight:"fill",className:"text-white"})})]},"locating"),3===r&&u.jsxs(nf.div,{initial:{scale:.5,opacity:0},animate:{scale:1,opacity:1},exit:{scale:1.2,opacity:0},transition:{duration:.5},className:"relative",children:[u.jsx(nf.div,{className:"absolute -inset-6 rounded-full border-2 border-cyan-400/30",animate:{scale:[1,1.1,1],opacity:[.5,1,.5]},transition:{duration:2,repeat:1/0}}),u.jsx("div",{className:"relative p-8 rounded-full bg-gradient-to-br from-gray-900 to-gray-800 border-2 border-cyan-500/50 shadow-[0_0_50px_rgba(6,182,212,0.4)]",children:u.jsx(nf.div,{animate:{rotateY:[0,360]},transition:{duration:4,repeat:1/0,ease:"linear"},children:u.jsx(Qa,{size:80,weight:"duotone",className:"text-cyan-400"})})})]},"connecting"),r>=4&&u.jsxs(nf.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{type:"spring",stiffness:150,damping:15},className:"relative",children:[u.jsx("div",{className:"relative p-8 rounded-full bg-gradient-to-br from-green-900/50 to-cyan-900/50 border-2 border-green-500/50 shadow-[0_0_60px_rgba(34,197,94,0.4)]",children:u.jsx(Oi,{size:80,weight:"fill",className:"text-green-400"})}),u.jsx(nf.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.3,type:"spring"},className:"absolute -bottom-2 -right-2 p-2 rounded-full bg-green-500 shadow-[0_0_20px_rgba(34,197,94,0.6)]",children:u.jsx(Ri,{size:20,weight:"fill",className:"text-white"})})]},"verified")]})]})]}),u.jsx("div",{className:"h-40 flex flex-col items-center justify-start mt-4",children:u.jsxs(su,{mode:"wait",children:[1===r&&u.jsxs(nf.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.4},className:"text-center",children:[u.jsxs("div",{className:"flex items-center gap-3 text-cyan-400 text-2xl font-light tracking-wide",children:[u.jsx(di,{size:28,weight:"fill",className:"animate-pulse"}),u.jsx(MMe,{text:"Initializing Security Scan..."})]}),u.jsx(nf.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:1},className:"mt-4 text-gray-500 text-sm",children:"Verifying network credentials..."})]},"scanText"),2===r&&u.jsxs(nf.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.4},className:"text-center",children:[u.jsxs("div",{className:"flex items-center gap-3 text-purple-400 text-2xl font-light tracking-wide",children:[u.jsx(Ni,{size:28,weight:"duotone"}),u.jsx(MMe,{text:"Locating Your Position..."})]}),u.jsxs(nf.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.8},className:"mt-6 flex items-center justify-center gap-3 px-6 py-3 rounded-full bg-purple-500/10 border border-purple-500/30",children:[u.jsx(vi,{size:22,weight:"fill",className:"text-purple-400"}),u.jsxs("span",{className:"text-white text-lg font-medium",children:[t?`${t}, `:"",e]})]})]},"locateText"),3===r&&u.jsxs(nf.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.4},className:"text-center",children:[u.jsxs("div",{className:"flex items-center gap-3 text-cyan-400 text-2xl font-light tracking-wide",children:[u.jsx(ei,{size:28,weight:"duotone"}),u.jsx(MMe,{text:"Connecting to Global Network..."})]}),u.jsx(nf.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},className:"mt-6 flex gap-3 justify-center flex-wrap",children:[{icon:Aa,label:"Quant Access",delay:.6},{icon:Ta,label:"Full Portfolio",delay:.8},{icon:Ti,label:"Premium Features",delay:1}].map(e=>u.jsxs(nf.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:e.delay},className:"flex items-center gap-2 px-4 py-2 rounded-full bg-cyan-500/10 border border-cyan-500/30",children:[u.jsx(e.icon,{size:18,weight:"duotone",className:"text-cyan-400"}),u.jsx("span",{className:"text-sm text-gray-300",children:e.label})]},e.label))})]},"connectText"),4===r&&u.jsxs(nf.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:1.1},transition:{duration:.4},className:"text-center",children:[u.jsx(nf.div,{className:"text-3xl font-bold text-green-400 tracking-wide",animate:{textShadow:["0 0 20px rgba(34,197,94,0.5)","0 0 40px rgba(34,197,94,0.8)","0 0 20px rgba(34,197,94,0.5)"]},transition:{duration:1.5,repeat:1/0},children:" ACCESS GRANTED"}),u.jsxs(nf.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},className:"mt-4 text-gray-400 text-lg",children:["Global visitor verified from ",u.jsx("span",{className:"text-cyan-400 font-medium",children:e})]})]},"verifiedText"),5===r&&u.jsxs(nf.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.5},className:"text-center",children:[u.jsx(nf.h1,{className:"text-4xl md:text-5xl font-bold mb-4",style:{background:"linear-gradient(135deg, #06b6d4 0%, #8b5cf6 50%, #ec4899 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"},animate:{filter:["brightness(1)","brightness(1.3)","brightness(1)"]},transition:{duration:2,repeat:1/0},children:"Welcome to My Portfolio"}),u.jsx(nf.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},className:"text-gray-400 text-lg mb-6",children:"Thank you for visiting  your access is unlocked"}),u.jsx(nf.div,{className:"w-72 h-2 bg-gray-800 rounded-full overflow-hidden mx-auto",children:u.jsx(nf.div,{className:"h-full rounded-full",style:{background:"linear-gradient(90deg, #06b6d4, #8b5cf6, #ec4899)"},initial:{width:0},animate:{width:"100%"},transition:{duration:1.3,ease:"easeOut"}})}),u.jsxs(nf.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},className:"mt-4 text-gray-600 text-sm flex items-center justify-center gap-2",children:[u.jsx(Ti,{size:16,className:"text-amber-400",weight:"fill"}),"Launching portfolio experience..."]})]},"welcomeText")]})}),u.jsxs(nf.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:2},className:"absolute bottom-6 flex items-center gap-3 text-gray-700 text-sm tracking-widest",children:[u.jsx("div",{className:"w-8 h-[1px] bg-gradient-to-r from-transparent to-gray-700"}),u.jsx("span",{children:"SHADAAB AHMED"}),u.jsx("span",{className:"text-cyan-500",children:""}),u.jsx("span",{children:"QUANT DEVELOPER"}),u.jsx("div",{className:"w-8 h-[1px] bg-gradient-to-l from-transparent to-gray-700"})]})]})]})}function OMe({onRetry:e}){return u.jsxs("div",{className:"fixed inset-0 bg-gradient-to-br from-gray-950 via-gray-900 to-black flex items-center justify-center overflow-hidden",children:[u.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[u.jsx(nf.div,{className:"absolute w-96 h-96 rounded-full opacity-10",style:{background:"radial-gradient(circle, rgba(6, 182, 212, 0.5) 0%, transparent 70%)",top:"10%",left:"20%"},animate:{scale:[1,1.2,1],opacity:[.08,.15,.08]},transition:{duration:8,repeat:1/0,ease:"easeInOut"}}),u.jsx(nf.div,{className:"absolute w-96 h-96 rounded-full opacity-10",style:{background:"radial-gradient(circle, rgba(168, 85, 247, 0.5) 0%, transparent 70%)",bottom:"10%",right:"20%"},animate:{scale:[1.2,1,1.2],opacity:[.08,.15,.08]},transition:{duration:8,repeat:1/0,ease:"easeInOut",delay:4}})]}),u.jsxs("div",{className:"relative z-10 flex flex-col items-center px-6 text-center max-w-2xl",children:[u.jsxs(nf.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{duration:.8,type:"spring",stiffness:100},className:"relative mb-8",children:[u.jsx(nf.div,{className:"p-6 rounded-full bg-gradient-to-br from-orange-500/20 to-amber-500/20 border border-orange-500/30",animate:{boxShadow:["0 0 20px rgba(249, 115, 22, 0.2)","0 0 40px rgba(249, 115, 22, 0.3)","0 0 20px rgba(249, 115, 22, 0.2)"]},transition:{duration:3,repeat:1/0},children:u.jsx(ki,{size:56,className:"text-orange-400",weight:"duotone"})}),u.jsx(nf.div,{className:"absolute inset-0 rounded-full border-2 border-orange-500/30",animate:{scale:[1,1.8],opacity:[.5,0]},transition:{duration:2,repeat:1/0}}),u.jsx(nf.div,{className:"absolute inset-0 rounded-full border-2 border-orange-500/20",animate:{scale:[1,2.2],opacity:[.3,0]},transition:{duration:2,repeat:1/0,delay:.5}})]}),u.jsx(nf.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"text-3xl md:text-4xl font-bold mb-4",children:u.jsx("span",{className:"bg-gradient-to-r from-orange-400 via-amber-300 to-orange-400 bg-clip-text text-transparent",children:"Location Access Needed"})}),u.jsxs(nf.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"text-lg text-gray-300 mb-6 leading-relaxed",children:["I couldn't detect your location, which means I can't show you the"," ",u.jsx("span",{className:"text-cyan-400 font-semibold",children:"personalized portfolio experience"})," ","I've built for global recruiters and professionals."]}),u.jsxs(nf.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.7},className:"w-full max-w-md mb-8 p-6 rounded-2xl bg-gradient-to-br from-white/5 to-white/0 border border-white/10",children:[u.jsxs("h3",{className:"text-sm font-semibold text-gray-400 uppercase tracking-wider mb-4 flex items-center justify-center gap-2",children:[u.jsx(Oi,{size:16,className:"text-green-400"}),"Why Location?"]}),u.jsxs("ul",{className:"space-y-3 text-left text-gray-300",children:[u.jsxs("li",{className:"flex items-start gap-3",children:[u.jsx(Qa,{size:20,className:"text-cyan-400 mt-0.5 shrink-0"}),u.jsxs("span",{children:["To provide a ",u.jsx("strong",{className:"text-white",children:"tailored experience"})," based on your region"]})]}),u.jsxs("li",{className:"flex items-start gap-3",children:[u.jsx(Ri,{size:20,className:"text-purple-400 mt-0.5 shrink-0"}),u.jsxs("span",{children:["To show you relevant ",u.jsx("strong",{className:"text-white",children:"local market insights"})," & projects"]})]}),u.jsxs("li",{className:"flex items-start gap-3",children:[u.jsx(ei,{size:20,className:"text-amber-400 mt-0.5 shrink-0"}),u.jsxs("span",{children:["I use ",u.jsx("strong",{className:"text-white",children:"IP-based detection"})," (no precise tracking)"]})]})]})]}),u.jsx(nf.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.9},className:"flex flex-col sm:flex-row gap-4 mb-8",children:u.jsxs(nf.button,{onClick:e,className:"group flex items-center gap-3 px-8 py-4 bg-gradient-to-r from-orange-600 to-amber-600 hover:from-orange-500 hover:to-amber-500 rounded-xl font-semibold transition-all duration-300 shadow-lg hover:shadow-orange-500/25",whileHover:{scale:1.02},whileTap:{scale:.98},children:[u.jsx(sa,{size:24,weight:"bold",className:"group-hover:animate-spin"}),"Retry Location Detection"]})}),u.jsxs(nf.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:1.1},className:"flex flex-col items-center gap-4",children:[u.jsx("p",{className:"text-sm text-gray-500",children:"Or reach out directly:"}),u.jsxs("div",{className:"flex gap-4",children:[u.jsxs(nf.a,{href:"https://www.linkedin.com/in/shadaabah",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 px-6 py-3 bg-white/10 hover:bg-white/20 border border-white/20 rounded-xl text-gray-300 hover:text-white transition-all duration-300",whileHover:{scale:1.02},whileTap:{scale:.98},children:[u.jsx(fi,{size:20,weight:"fill"}),"LinkedIn"]}),u.jsxs(nf.a,{href:"mailto:shadaab.ah17@gmail.com",className:"flex items-center gap-2 px-6 py-3 bg-white/10 hover:bg-white/20 border border-white/20 rounded-xl text-gray-300 hover:text-white transition-all duration-300",whileHover:{scale:1.02},whileTap:{scale:.98},children:[u.jsx(Ba,{size:20}),"Email"]})]})]}),u.jsx(nf.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:1.5},className:"mt-10 p-4 rounded-xl bg-orange-500/10 border border-orange-500/20 max-w-md",children:u.jsxs("p",{className:"text-sm text-orange-300/80",children:[u.jsx("strong",{className:"text-orange-300",children:" Tip:"})," If you're using a VPN or ad blocker, try disabling it temporarily. Also ensure your browser allows IP-based location detection."]})})]})]})}const PMe=e=>{const t=(e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,n)=>n?n.toUpperCase():t.toLowerCase()))(e);return t.charAt(0).toUpperCase()+t.slice(1)},RMe=(...e)=>e.filter((e,t,n)=>Boolean(e)&&""!==e.trim()&&n.indexOf(e)===t).join(" ").trim();var _Me={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const LMe=O.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:a="",children:i,iconNode:s,...o},l)=>O.createElement("svg",{ref:l,..._Me,width:t,height:t,stroke:e,strokeWidth:r?24*Number(n)/Number(t):n,className:RMe("lucide",a),...o},[...s.map(([e,t])=>O.createElement(e,t)),...Array.isArray(i)?i:[i]])),$Me=(e,t)=>{const n=O.forwardRef(({className:n,...r},a)=>{return O.createElement(LMe,{ref:a,iconNode:t,className:RMe(`lucide-${i=PMe(e),i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,`lucide-${e}`,n),...r});var i});return n.displayName=PMe(e),n},FMe=$Me("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),DMe=$Me("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),zMe=$Me("eye-off",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]),VMe=$Me("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),BMe=$Me("globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]),HMe=$Me("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),UMe=$Me("map-pin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),WMe=$Me("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),ZMe=$Me("shield-alert",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]),GMe=$Me("shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]),KMe=$Me("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),qMe=$Me("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function XMe({realLocation:e,apparentLocation:t,confidence:n,detectionMethod:r,onBypass:a}){const[i,s]=O.useState(""),[o,l]=O.useState(!1),[c,h]=O.useState(""),[d,p]=O.useState(!1),[f,m]=O.useState(!1),g=()=>u.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[u.jsx("div",{className:"absolute inset-0 opacity-10",style:{backgroundImage:"\n            linear-gradient(rgba(239, 68, 68, 0.3) 1px, transparent 1px),\n            linear-gradient(90deg, rgba(239, 68, 68, 0.3) 1px, transparent 1px)\n          ",backgroundSize:"50px 50px"}}),u.jsx(nf.div,{className:"absolute left-0 right-0 h-0.5 bg-gradient-to-r from-transparent via-red-500 to-transparent",animate:{top:["0%","100%"]},transition:{duration:3,repeat:1/0,ease:"linear"}})]});return u.jsxs(nf.div,{initial:{opacity:0},animate:{opacity:1},className:"fixed inset-0 z-[9999] bg-gradient-to-br from-gray-950 via-red-950/20 to-gray-950 flex items-center justify-center p-4",children:[u.jsx(g,{}),u.jsxs(nf.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.2,type:"spring",stiffness:200},className:"relative max-w-lg w-full",children:[u.jsx("div",{className:"absolute -inset-0.5 bg-gradient-to-r from-red-500 via-orange-500 to-red-500 rounded-2xl blur opacity-30 animate-pulse"}),u.jsxs("div",{className:"relative bg-gray-900/95 backdrop-blur-xl rounded-2xl border border-red-500/30 overflow-hidden",children:[u.jsx("div",{className:"bg-gradient-to-r from-red-600/20 to-orange-600/20 px-6 py-4 border-b border-red-500/20",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(nf.div,{animate:{rotate:[0,10,-10,0]},transition:{duration:.5,repeat:1/0,repeatDelay:2},children:u.jsx(ZMe,{className:"w-8 h-8 text-red-500"})}),u.jsxs("div",{children:[u.jsx("h2",{className:"text-xl font-bold text-red-400",children:"VPN Detected"}),u.jsx("p",{className:"text-sm text-gray-400",children:"Security verification required"})]}),u.jsx("div",{className:"ml-auto",children:u.jsxs("span",{className:"px-2 py-1 rounded-full bg-red-500/20 text-red-400 text-xs font-mono",children:[n,"% confidence"]})})]})}),u.jsxs("div",{className:"p-6 space-y-4",children:[u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs(nf.div,{initial:{x:-20,opacity:0},animate:{x:0,opacity:1},transition:{delay:.3},className:"bg-green-500/10 border border-green-500/30 rounded-xl p-4",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[u.jsx(UMe,{className:"w-4 h-4 text-green-400"}),u.jsx("span",{className:"text-xs text-green-400 font-medium",children:"REAL LOCATION"})]}),u.jsx("p",{className:"text-lg font-bold text-white",children:e.country}),u.jsx("p",{className:"text-sm text-gray-400",children:e.city}),u.jsx("p",{className:"text-xs text-gray-500 font-mono mt-1",children:"Hidden"!==e.ip?e.ip:""})]}),u.jsxs(nf.div,{initial:{x:20,opacity:0},animate:{x:0,opacity:1},transition:{delay:.4},className:"bg-red-500/10 border border-red-500/30 rounded-xl p-4",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[u.jsx(BMe,{className:"w-4 h-4 text-red-400"}),u.jsx("span",{className:"text-xs text-red-400 font-medium",children:"VPN LOCATION"})]}),u.jsx("p",{className:"text-lg font-bold text-white",children:t.country}),u.jsx("p",{className:"text-sm text-gray-400",children:t.city}),u.jsx("p",{className:"text-xs text-gray-500 font-mono mt-1",children:t.ip||""})]})]}),u.jsx(nf.div,{initial:{y:10,opacity:0},animate:{y:0,opacity:1},transition:{delay:.5},className:"flex flex-wrap gap-2",children:u.jsx("span",{className:"px-2 py-1 rounded-full bg-yellow-500/10 text-yellow-400 text-xs border border-yellow-500/20",children:r})}),u.jsx(nf.div,{initial:{y:10,opacity:0},animate:{y:0,opacity:1},transition:{delay:.6},className:"bg-gray-800/50 rounded-lg p-4 border border-gray-700",children:u.jsxs("p",{className:"text-gray-300 text-sm",children:[u.jsx("span",{className:"text-red-400 font-semibold",children:"Access Restricted:"})," Your real location (",e.country,") requires verification when using a VPN. Please enter the access passcode to continue."]})}),u.jsx(su,{mode:"wait",children:f?u.jsxs(nf.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},className:"flex flex-col items-center justify-center py-6 space-y-3",children:[u.jsx(nf.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:300},children:u.jsx(FMe,{className:"w-16 h-16 text-green-500"})}),u.jsx("p",{className:"text-green-400 font-semibold",children:"Access Granted!"}),u.jsx("p",{className:"text-gray-400 text-sm",children:"Redirecting..."})]},"success"):u.jsxs(nf.form,{initial:{y:10,opacity:0},animate:{y:0,opacity:1},exit:{y:-10,opacity:0},transition:{delay:.7},onSubmit:async e=>{e.preventDefault(),h(""),p(!0),await new Promise(e=>setTimeout(e,1e3)),"archItect1ngAlph5a"===i?(m(!0),sessionStorage.setItem("vpnBypassGranted","true"),setTimeout(()=>{a()},1500)):(h("Invalid passcode. Please try again."),p(!1))},className:"space-y-4",children:[u.jsxs("div",{className:"relative",children:[u.jsx(HMe,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-500"}),u.jsx("input",{type:o?"text":"password",value:i,onChange:e=>s(e.target.value),placeholder:"Enter passcode",className:"w-full bg-gray-800 border border-gray-600 rounded-lg pl-11 pr-11 py-3 text-white placeholder-gray-500 focus:outline-none focus:border-blue-500 focus:ring-1 focus:ring-blue-500 font-mono tracking-widest",disabled:d}),u.jsx("button",{type:"button",onClick:()=>l(!o),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-300",children:o?u.jsx(zMe,{className:"w-5 h-5"}):u.jsx(VMe,{className:"w-5 h-5"})})]}),c&&u.jsxs(nf.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"flex items-center gap-2 text-red-400 text-sm",children:[u.jsx(DMe,{className:"w-4 h-4"}),c]}),u.jsx("button",{type:"submit",disabled:!i||d,className:"w-full bg-gradient-to-r from-blue-600 to-blue-500 hover:from-blue-500 hover:to-blue-400 disabled:from-gray-600 disabled:to-gray-600 text-white font-semibold py-3 rounded-lg transition-all duration-200 flex items-center justify-center gap-2",children:d?u.jsxs(u.Fragment,{children:[u.jsx(nf.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full"}),"Verifying..."]}):u.jsxs(u.Fragment,{children:[u.jsx(GMe,{className:"w-5 h-5"}),"Verify & Continue"]})})]},"form")})]}),u.jsx("div",{className:"px-6 py-3 bg-gray-800/50 border-t border-gray-700",children:u.jsx("p",{className:"text-xs text-gray-500 text-center",children:" This security measure protects premium content access"})})]})]})]})}function YMe({children:e}){const{isIndia:t,isLoading:n,country:r,countryCode:a,city:i,error:s,refetch:o,isCached:l}=gMe(),c=xMe(),[h,d]=O.useState(!1),[p,f]=O.useState(!1),[m,g]=O.useState(!1),[y,x]=O.useState(!1);console.log(" GeoRouter State:",{isIndia:t,isLoading:n,country:r,countryCode:a,city:i,error:s,bypassGateway:p,animationComplete:h,isCached:l}),console.log(" Location Verification State:",{isVPNDetected:c.isVPNDetected,isLoading:c.isLoading,realLocation:c.realLocation,apparentLocation:c.apparentLocation,confidence:c.vpnConfidence,shouldBlock:c.shouldBlock,detectionMethod:c.detectionMethod}),O.useEffect(()=>{const e=sessionStorage.getItem("globalGatewayBypassed"),t=sessionStorage.getItem("vpnBypassGranted");console.log(" SessionStorage bypassed:",e,"isCached:",l,"vpnBypassGranted:",t),"true"===e&&(f(!0),d(!0)),"true"===t&&g(!0),l&&(console.log(" TURBO MODE: Skipping welcome animation for returning user"),d(!0)),x(!0)},[l]);const b=O.useCallback(()=>{console.log(" User clicked Retry Location Detection"),sessionStorage.removeItem("geoLocation"),o?o():window.location.reload()},[o]),v=()=>{console.log(" User clicked Explore"),sessionStorage.setItem("globalGatewayBypassed","true"),f(!0),d(!0)},w=()=>{console.log(" VPN Bypass granted"),g(!0)},k=()=>{console.log(" Welcome animation complete"),d(!0)};if(!y)return null;if(n||c.isLoading)return u.jsx("div",{className:"fixed inset-0 bg-gradient-to-br from-gray-950 via-gray-900 to-black flex items-center justify-center",children:u.jsxs("div",{className:"flex flex-col items-center gap-4",children:[u.jsx(nf.div,{animate:{rotate:360},transition:{duration:2,repeat:1/0,ease:"linear"},children:u.jsx(ei,{size:60,className:"text-cyan-400/50",weight:"duotone"})}),u.jsx(nf.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},className:"text-gray-400 text-sm",children:c.isLoading?"Verifying connection...":"Detecting location..."})]})});if(c.shouldBlock&&!m)return console.log(" VPN Block: India user detected using VPN to appear from:",c.apparentLocation?.country),u.jsx(XMe,{realLocation:c.realLocation,apparentLocation:c.apparentLocation,confidence:c.vpnConfidence,detectionMethod:c.detectionMethod,onBypass:w});if(c.canPassDirectly&&c.isVPNDetected){const t=c.apparentLocation?.countryCode||a;return console.log(" VPN Pass: Foreign user with VPN - using language for:",t),u.jsx(vf,{countryCode:t,children:u.jsx(nf.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:e})})}if(s&&!p)return console.log(" Location detection failed, showing LocationRequired"),u.jsx(OMe,{onRetry:b});if(t&&!p&&!m)return console.log(" Showing GlobalGateway for India"),u.jsx(SMe,{country:r,onExplore:v});if(!t&&!h&&!p){const e=c.apparentLocation?.country||r,t=c.apparentLocation?.city||i,n=c.apparentLocation?.countryCode||a;return console.log(" Showing WelcomeAnimation for international:",e,"lang:",n),u.jsx(vf,{countryCode:n,children:u.jsx(IMe,{country:e,city:t,onComplete:k})})}const S=c.apparentLocation?.countryCode||a;return console.log(""),console.log(" SHOWING PORTFOLIO - TRANSLATION DEBUG"),console.log(""),console.log("    VPN Bypassed:",m),console.log("    effectiveCountryCode:",S),console.log("    apparentLocation:",JSON.stringify(c.apparentLocation)),console.log("    realLocation:",JSON.stringify(c.realLocation)),console.log("    countryCode (from useGeoLocation):",a),console.log("    VPN Detected:",c.isVPNDetected),console.log(""),u.jsx(vf,{countryCode:S,children:u.jsx(nf.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:e})})}const QMe={en:"English",zh:"",ja:"",ko:"",ar:"",hi:"",de:"Deutsch",fr:"Franais",es:"Espaol",pt:"Portugus",ru:"",id:"Bahasa",ms:"Melayu",th:"",vi:"Ting Vit"},JMe=[{emoji:"",title:"Turbo Mode Active!",subtitle:"Loaded from your local cache"},{emoji:"",title:"Blazing Fast!",subtitle:"Your cached translations are ready"},{emoji:"",title:"Speed Boost!",subtitle:"Powered by your saved preferences"},{emoji:"",title:"Cache Magic!",subtitle:"Instant load from memory"},{emoji:"",title:"Lightning Fast!",subtitle:"Using your cached data"}],eTe=()=>{const{detectedLanguage:e,detectedLanguageMeta:t,isCacheAccelerated:n,cacheHitRate:r}=wf(),[a,i]=O.useState(!1),[s]=O.useState(()=>JMe[Math.floor(Math.random()*JMe.length)]);O.useEffect(()=>{const e=setTimeout(()=>{i(!0)},n?500:2e3),t=setTimeout(()=>{i(!1)},n?6e3:1e4);return()=>{clearTimeout(e),clearTimeout(t)}},[n]);const o=QMe[e]||e.toUpperCase();return u.jsx(su,{children:a&&u.jsx(nf.div,{initial:{opacity:0,y:30,scale:.9},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:20,scale:.95},transition:{type:"spring",stiffness:300,damping:25},className:"fixed bottom-8 left-1/2 -translate-x-1/2 z-[70] max-w-md w-[90%]",children:u.jsxs("div",{className:"relative bg-white/10 backdrop-blur-2xl border border-white/20 rounded-2xl shadow-2xl overflow-hidden",children:[u.jsx("div",{className:"absolute inset-0 rounded-2xl bg-gradient-to-r from-cyan-500/20 via-violet-500/20 to-purple-500/20 opacity-50"}),u.jsxs("div",{className:"relative p-5 pr-12",children:[u.jsxs("div",{className:"flex items-start gap-4",children:[u.jsx(nf.div,{className:"text-3xl",animate:{rotate:[0,10,-10,0]},transition:{duration:2,repeat:1/0,repeatDelay:3},children:t.flag}),u.jsxs("div",{className:"flex-1",children:[u.jsxs("p",{className:"text-white/90 text-sm leading-relaxed",children:[u.jsx("span",{className:"font-medium text-cyan-300",children:" Hey there!"})," We noticed you're browsing from"," ",u.jsx("span",{className:"font-semibold text-white",children:o})," territory."]}),u.jsxs("p",{className:"text-white/60 text-xs mt-2",children:["Look for the ",u.jsxs("span",{className:"inline-flex items-center gap-1 text-cyan-400 font-medium",children:[u.jsx(BMe,{className:"w-3 h-3"})," globe"]})," on the ",u.jsx("span",{className:"text-white/80",children:"top-left"})," to switch languages anytime."]})]})]}),u.jsx(nf.div,{initial:{scaleX:1},animate:{scaleX:0},transition:{duration:8,ease:"linear"},className:"absolute bottom-0 left-0 right-0 h-1 bg-gradient-to-r from-cyan-500/50 via-violet-500/50 to-purple-500/50 origin-left"})]}),u.jsx("button",{onClick:()=>{i(!1)},className:"absolute top-3 right-3 p-2 rounded-full text-white/40 hover:text-white hover:bg-white/10 transition-all","aria-label":"Dismiss",children:u.jsx(qMe,{className:"h-4 w-4"})})]})})})};function tTe(e){const t=document.getElementById(e);t&&t.scrollIntoView({behavior:"smooth",block:"start"})}function nTe({isOpen:e,onClose:t,shortcuts:n}){return u.jsx(su,{children:e&&u.jsx(nf.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[90] flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm",onClick:t,children:u.jsxs(nf.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},transition:{duration:.2},className:"bg-black/95 border border-purple-500/40 rounded-lg shadow-2xl shadow-purple-500/20 max-w-md w-full overflow-hidden",onClick:e=>e.stopPropagation(),children:[u.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-gradient-to-r from-purple-500/20 to-cyan-500/20 border-b border-purple-500/30",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Oa,{size:18,className:"text-purple-400",weight:"duotone"}),u.jsx("span",{className:"text-purple-400 font-mono text-sm font-bold",children:"KEYBOARD SHORTCUTS"})]}),u.jsx("button",{onClick:t,className:"text-foreground/50 hover:text-foreground transition-colors",children:u.jsx(Qi,{size:18})})]}),u.jsxs("div",{className:"p-4",children:[u.jsx("div",{className:"text-[10px] text-foreground/50 uppercase tracking-widest mb-3",children:"Navigation  Bloomberg Terminal Style"}),u.jsx("div",{className:"space-y-2",children:n.map(e=>u.jsxs("div",{className:"flex items-center justify-between py-2 px-3 rounded-md bg-white/5 hover:bg-white/10 transition-colors cursor-pointer",onClick:()=>{e.action(),"?"!==e.key&&t()},children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(e.icon,{size:16,className:"text-purple-400"}),u.jsx("span",{className:"text-foreground text-sm",children:e.description})]}),u.jsx("kbd",{className:"px-2 py-1 bg-black/50 border border-foreground/20 rounded text-xs font-mono text-cyan-400",children:e.key.toUpperCase()})]},e.key))}),u.jsxs("div",{className:"mt-4 pt-4 border-t border-white/10",children:[u.jsx("div",{className:"text-[10px] text-foreground/50 uppercase tracking-widest mb-3",children:"Special Keys"}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex items-center justify-between py-2 px-3 rounded-md bg-white/5",children:[u.jsx("span",{className:"text-foreground/80 text-sm",children:"Open Terminal"}),u.jsx("kbd",{className:"px-2 py-1 bg-black/50 border border-foreground/20 rounded text-xs font-mono text-cyan-400",children:"`"})]}),u.jsxs("div",{className:"flex items-center justify-between py-2 px-3 rounded-md bg-white/5",children:[u.jsx("span",{className:"text-foreground/80 text-sm",children:"Close Modal"}),u.jsx("kbd",{className:"px-2 py-1 bg-black/50 border border-foreground/20 rounded text-xs font-mono text-cyan-400",children:"ESC"})]})]})]})]}),u.jsx("div",{className:"px-4 py-2 border-t border-purple-500/20 bg-purple-500/5",children:u.jsx("p",{className:"text-[10px] text-foreground/40 text-center font-mono",children:"Inspired by Bloomberg Terminal navigation  Press ? anytime"})})]})})})}function rTe({isVisible:e,keyPressed:t}){return u.jsx(su,{children:e&&t&&u.jsx(nf.div,{initial:{opacity:0,y:20,scale:.9},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-20,scale:.9},className:"fixed bottom-20 left-1/2 -translate-x-1/2 z-[80]",children:u.jsxs("div",{className:"bg-black/90 backdrop-blur-xl border border-cyan-500/40 rounded-lg px-4 py-2 shadow-lg shadow-cyan-500/20 flex items-center gap-2",children:[u.jsx("kbd",{className:"px-2 py-0.5 bg-cyan-500/20 border border-cyan-500/40 rounded text-sm font-mono text-cyan-400",children:t}),u.jsx("span",{className:"text-foreground/80 text-sm",children:"pressed"})]})})})}function aTe({children:e}){const{showHelp:t,setShowHelp:n,shortcuts:r,showToast:a,lastKey:i}=function(){const[e,t]=O.useState(!1),[n,r]=O.useState(null),[a,i]=O.useState(!1);window.location.hash.includes("/lab");const s=[{key:"g",description:"Go to Home/Top",icon:li,action:()=>{window.scrollTo({top:0,behavior:"smooth"})}},{key:"b",description:"Back to Portfolio",icon:li,action:()=>{window.location.hash.includes("/lab")&&(window.location.hash="/")}},{key:"p",description:"Projects",icon:Ta,action:()=>tTe("projects")},{key:"s",description:"Skills",icon:ni,action:()=>tTe("skills")},{key:"e",description:"Experience",icon:fa,action:()=>tTe("experience")},{key:"q",description:"Quant Sandbox",icon:Ka,action:()=>{window.location.hash.includes("/lab")?window.scrollTo({top:0,behavior:"smooth"}):window.location.hash="/lab"}},{key:"a",description:"Alpha Engine",icon:Ka,action:()=>{window.location.hash.includes("/alpha-engine")?window.scrollTo({top:0,behavior:"smooth"}):window.location.hash="/alpha-engine"}},{key:"c",description:"Contact",icon:za,action:()=>tTe("contact")},{key:"?",description:"Show Help",icon:ui,action:()=>t(!0)}],o=O.useCallback(e=>{if("INPUT"===document.activeElement?.tagName||"TEXTAREA"===document.activeElement?.tagName||"true"===document.activeElement?.getAttribute("contenteditable"))return;if(e.ctrlKey||e.metaKey||e.altKey)return;const n=e.key.toLowerCase(),a=s.find(e=>e.key===n||"/"===n&&"?"===e.key);a&&(e.preventDefault(),a.action(),yke("shortcuts"),"?"!==n&&(r(n.toUpperCase()),i(!0),setTimeout(()=>i(!1),1500))),"Escape"===e.key&&t(!1)},[s]);return O.useEffect(()=>(window.addEventListener("keydown",o),()=>window.removeEventListener("keydown",o)),[o]),{showHelp:e,setShowHelp:t,shortcuts:s,showToast:a,lastKey:n}}();return u.jsxs(u.Fragment,{children:[e,u.jsx(nTe,{isOpen:t,onClose:()=>n(!1),shortcuts:r}),u.jsx(rTe,{isVisible:a,keyPressed:i})]})}function iTe(e,t=14){if(e.length<t+1)return 50;let n=0,r=0;for(let i=e.length-t;i<e.length;i++){const t=e[i]-e[i-1];t>0?n+=t:r-=t}const a=r/t;if(0===a)return 100;return 100-100/(1+n/t/a)}function sTe(e,t){if(e.length<t)return 0;const n=e[e.length-1],r=e[e.length-t];return r>0?(n-r)/r*100:0}function oTe(e,t){if(e.length<t)return e[e.length-1]||0;return e.slice(-t).reduce((e,t)=>e+t,0)/t}function lTe(){const{t:e}=wf();return u.jsxs("section",{id:"mobile-widgets",className:"block sm:hidden relative z-50 py-8 px-4 border-t border-b border-cyan-500/30",style:{backgroundColor:"#030305",isolation:"isolate"},children:[u.jsx("div",{className:"absolute inset-0 bg-black"}),u.jsx("div",{className:"absolute inset-0",style:{backgroundColor:"#030305"}}),u.jsxs("div",{className:"max-w-lg mx-auto relative z-10",children:[u.jsxs("h2",{className:"text-xl font-bold text-center mb-6 text-cyan-400 flex items-center justify-center gap-2",children:[u.jsx("span",{className:"text-2xl",children:""}),u.jsx("span",{children:e("Live Trading Widgets")}),u.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500 animate-pulse"})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsx(cTe,{}),u.jsx(hTe,{}),u.jsx(dTe,{}),u.jsx(pTe,{}),u.jsx(fTe,{})]})]})]})}function cTe(){const{t:e}=wf(),[t,n]=O.useState(0),[r,a]=O.useState({delta:0,gamma:0,theta:0,vega:0,rho:0,callPrice:0}),[i,s]=O.useState(!1),o=[{symbol:"SPX",name:"S&P 500",spot:4750,strike:4750,iv:.14,expiry:21,rate:.0525},{symbol:"NDX",name:"NASDAQ",spot:16800,strike:16800,iv:.18,expiry:21,rate:.0525},{symbol:"DJI",name:"Dow Jones",spot:37500,strike:37500,iv:.12,expiry:21,rate:.0525}];O.useEffect(()=>{const e=o[t],n=e.expiry/365;a(((e,t,n,r,a)=>{a<=0&&(a=.001);const i=(Math.log(e/t)+(n+r*r/2)*a)/(r*Math.sqrt(a)),s=i-r*Math.sqrt(a),o=e=>Math.exp(-e*e/2)/Math.sqrt(2*Math.PI),l=e=>{const t=e<0?-1:1,n=Math.abs(e)/Math.sqrt(2),r=1/(1+.3275911*n);return.5*(1+t*(1-((((1.061405429*r-1.453152027)*r+1.421413741)*r-.284496736)*r+.254829592)*r*Math.exp(-n*n)))},c=l(i),u=l(s),h=e*c-t*Math.exp(-n*a)*u;return{delta:c,gamma:o(i)/(e*r*Math.sqrt(a)),theta:(-e*o(i)*r/(2*Math.sqrt(a))-n*t*Math.exp(-n*a)*u)/365,vega:e*o(i)*Math.sqrt(a)/100,rho:t*a*Math.exp(-n*a)*u/100,callPrice:h}})(e.spot,e.strike,e.rate,e.iv,n)),_f()&&s(!0)},[t]);const l=o[t];return u.jsxs("div",{className:"bg-[#0a0a0f] border border-purple-500/40 rounded-lg p-3 font-mono",children:[u.jsxs("div",{className:"flex items-center justify-between mb-2 border-b border-purple-500/20 pb-2",children:[u.jsx("span",{className:"text-purple-400 font-bold text-sm",children:e("BLACK-SCHOLES GREEKS")}),u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx("div",{className:"w-2 h-2 rounded-full "+(i?"bg-green-500":"bg-yellow-500")}),u.jsx("span",{className:"text-[10px] text-foreground/50",children:e(i?"LIVE":"DEMO")})]})]}),u.jsx("div",{className:"flex gap-1 mb-3",children:o.map((e,r)=>u.jsx("button",{onClick:()=>n(r),className:"px-2 py-1 rounded text-xs transition-colors "+(t===r?"bg-purple-500/40 text-purple-300 border border-purple-500/50":"bg-foreground/5 text-foreground/50"),children:e.symbol},e.symbol))}),u.jsxs("div",{className:"grid grid-cols-4 gap-2 mb-3 text-xs",children:[u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-foreground/50",children:e("SPOT")}),u.jsx("div",{className:"text-cyan-400",children:l.spot.toLocaleString()})]}),u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-foreground/50",children:e("STRIKE")}),u.jsx("div",{className:"text-foreground",children:l.strike.toLocaleString()})]}),u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-foreground/50",children:e("IV")}),u.jsxs("div",{className:"text-yellow-400",children:[(100*l.iv).toFixed(1),"%"]})]}),u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-foreground/50",children:e("DTE")}),u.jsxs("div",{className:"text-foreground/70",children:[l.expiry,"d"]})]})]}),u.jsxs("div",{className:"bg-green-500/10 border border-green-500/30 rounded px-2 py-1.5 mb-3 flex justify-between",children:[u.jsx("span",{className:"text-green-400",children:e("CALL VALUE")}),u.jsxs("span",{className:"text-green-400 font-bold",children:["$",r.callPrice.toFixed(2)]})]}),u.jsxs("div",{className:"space-y-1 text-xs",children:[u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-foreground/60",children:" Delta"}),u.jsx("span",{className:"text-green-400",children:r.delta.toFixed(4)})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-foreground/60",children:" Gamma"}),u.jsx("span",{className:"text-cyan-400",children:r.gamma.toFixed(6)})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-foreground/60",children:" Theta"}),u.jsx("span",{className:"text-red-400",children:r.theta.toFixed(4)})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-foreground/60",children:" Vega"}),u.jsx("span",{className:"text-purple-400",children:r.vega.toFixed(4)})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-foreground/60",children:" Rho"}),u.jsx("span",{className:"text-yellow-400",children:r.rho.toFixed(4)})]})]})]})}const uTe=[{symbol:"9988.HK",name:"Alibaba HK"},{symbol:"D05.SI",name:"DBS Bank"}];function hTe(){const{t:e}=wf(),[t,n]=O.useState([]),[r,a]=O.useState(!0);O.useEffect(()=>{const e=async()=>{const e=[];for(const t of uTe){const n=Of(t.symbol);if(!n)continue;const r=await Vf(t.symbol);let a=50,i=0,s=0;if(r&&r.closes.length>0){const e=r.closes;a=iTe(e,14),i=sTe(e,5);const t=oTe(e,20);s=t>0?(n.price-t)/t*100:0}const o=Math.max(-1,Math.min(1,i/5)),l=(50-a)/50,c=Math.max(-1,Math.min(1,s/5)),u=Math.max(-1,Math.min(1,n.change/2)),h=Math.max(-1,Math.min(1,.3*o+.25*l+.25*c+.2*u)),d=h>.15?"LONG":h<-.15?"SHORT":"HOLD";e.push({symbol:t.symbol,name:t.name,price:n.price,change:n.change,signal:d,alphaScore:h,rsi14:a})}e.length>0&&(n(e),a(!1))};_f()&&e();const t=setTimeout(()=>{_f()&&e()},2e3);return()=>clearTimeout(t)},[]);return r?u.jsxs("div",{className:"bg-[#0a0a0f] border border-purple-500/40 rounded-lg p-3 font-mono",children:[u.jsx("div",{className:"flex items-center gap-2 mb-2",children:u.jsxs("span",{className:"text-purple-400 font-bold text-sm",children:[" ",e("Alpha Signals")]})}),u.jsxs("div",{className:"text-center py-4 text-foreground/50",children:[u.jsx("div",{className:"animate-spin w-5 h-5 border-2 border-purple-400 border-t-transparent rounded-full mx-auto mb-2"}),u.jsx("div",{className:"text-xs",children:e("Loading signals...")})]})]}):u.jsxs("div",{className:"bg-[#0a0a0f] border border-purple-500/40 rounded-lg p-3 font-mono",children:[u.jsxs("div",{className:"flex items-center justify-between mb-2 border-b border-purple-500/20 pb-2",children:[u.jsxs("span",{className:"text-purple-400 font-bold text-sm",children:[" ",e("Alpha Signals")]}),u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500 animate-pulse"}),u.jsx("span",{className:"text-[10px] text-foreground/50",children:e("LIVE")})]})]}),u.jsx("div",{className:"space-y-2",children:t.map(e=>{return u.jsxs("div",{className:"bg-[#0f1218] rounded-lg p-2 border border-purple-500/20",children:[u.jsxs("div",{className:"flex items-center justify-between mb-1",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"font-bold text-foreground text-sm",children:e.symbol}),u.jsx("span",{className:"text-xs px-1.5 py-0.5 rounded border font-bold "+(t=e.signal,"LONG"===t?"text-green-400 bg-green-500/20 border-green-500/30":"SHORT"===t?"text-red-400 bg-red-500/20 border-red-500/30":"text-gray-400 bg-gray-500/20 border-gray-500/30"),children:e.signal})]}),u.jsxs("span",{className:"text-sm "+(e.change>=0?"text-green-400":"text-red-400"),children:[e.change>=0?"":""," ",Math.abs(e.change).toFixed(2),"%"]})]}),u.jsxs("div",{className:"flex justify-between text-xs",children:[u.jsxs("span",{className:"text-foreground",children:["$",e.price.toFixed(2)]}),u.jsxs("span",{className:""+(e.alphaScore>=0?"text-green-400":"text-red-400"),children:[": ",e.alphaScore>=0?"+":"",e.alphaScore.toFixed(3)]})]})]},e.symbol);var t})})]})}function dTe(){const{t:e}=wf(),[t,n]=O.useState({bids:[{price:189.45,size:2500},{price:189.44,size:1800},{price:189.43,size:3200}],asks:[{price:189.46,size:2100},{price:189.47,size:1600},{price:189.48,size:2800}]});O.useEffect(()=>{const e=setInterval(()=>{n(e=>({bids:e.bids.map(e=>({...e,size:Math.max(500,e.size+Math.floor(800*(Math.random()-.5)))})),asks:e.asks.map(e=>({...e,size:Math.max(500,e.size+Math.floor(800*(Math.random()-.5)))}))}))},2e3);return()=>clearInterval(e)},[]);const r=Math.max(...t.bids.map(e=>e.size),...t.asks.map(e=>e.size));return u.jsxs("div",{className:"bg-[#0a0a0f] border border-cyan-500/20 rounded-lg p-3 font-mono",children:[u.jsx("div",{className:"text-cyan-400 font-bold mb-2 text-sm",children:e("ORDER BOOK")}),u.jsx("div",{className:"space-y-0.5 mb-1 text-xs",children:[...t.asks].reverse().map((e,t)=>u.jsxs("div",{className:"relative flex justify-between",children:[u.jsx("div",{className:"absolute right-0 top-0 bottom-0 bg-red-500/20",style:{width:e.size/r*100+"%"}}),u.jsx("span",{className:"relative text-red-400",children:e.price.toFixed(2)}),u.jsx("span",{className:"relative text-foreground/50",children:e.size.toLocaleString()})]},`ask-${t}`))}),u.jsxs("div",{className:"border-t border-b border-cyan-500/30 py-1 my-1 text-center text-xs",children:[u.jsxs("span",{className:"text-cyan-400",children:[e("Spread"),": "]}),u.jsx("span",{className:"text-foreground/70",children:"$0.01"})]}),u.jsx("div",{className:"space-y-0.5 text-xs",children:t.bids.map((e,t)=>u.jsxs("div",{className:"relative flex justify-between",children:[u.jsx("div",{className:"absolute left-0 top-0 bottom-0 bg-green-500/20",style:{width:e.size/r*100+"%"}}),u.jsx("span",{className:"relative text-green-400",children:e.price.toFixed(2)}),u.jsx("span",{className:"relative text-foreground/50",children:e.size.toLocaleString()})]},`bid-${t}`))})]})}function pTe(){const{t:e}=wf(),[t,n]=O.useState("momentum"),[r]=O.useState({cagr:18.5,sharpe:1.42,sortino:1.95,maxDrawdown:12.3,winRate:54.2,profitFactor:1.65,totalTrades:156});return u.jsxs("div",{className:"bg-[#0a0a0f] border border-purple-500/40 rounded-lg p-3 font-mono",children:[u.jsxs("div",{className:"flex items-center justify-between mb-2 border-b border-purple-500/20 pb-2",children:[u.jsx("span",{className:"text-purple-400 font-bold text-sm",children:e("BACKTEST ENGINE")}),u.jsx("span",{className:"text-foreground/40 text-xs",children:"12M"})]}),u.jsxs("select",{value:t,onChange:e=>n(e.target.value),className:"w-full bg-[#0f1218] border border-purple-500/30 rounded px-2 py-1.5 text-xs text-foreground mb-3",children:[u.jsx("option",{value:"momentum",children:" Cross-Sectional Momentum"}),u.jsx("option",{value:"meanrev",children:" Mean Reversion (RSI)"}),u.jsx("option",{value:"pairs",children:" Statistical Arbitrage"})]}),u.jsxs("div",{className:"grid grid-cols-3 gap-2 mb-2 text-center bg-[#0f1218] rounded-lg p-2",children:[u.jsxs("div",{children:[u.jsx("div",{className:"text-foreground/50 text-[10px]",children:e("SHARPE")}),u.jsx("div",{className:"font-bold text-sm text-green-400",children:r.sharpe.toFixed(2)})]}),u.jsxs("div",{children:[u.jsx("div",{className:"text-foreground/50 text-[10px]",children:e("SORTINO")}),u.jsx("div",{className:"font-bold text-sm text-green-400",children:r.sortino.toFixed(2)})]}),u.jsxs("div",{children:[u.jsx("div",{className:"text-foreground/50 text-[10px]",children:e("MAX DD")}),u.jsxs("div",{className:"font-bold text-sm text-red-400",children:["-",r.maxDrawdown.toFixed(1),"%"]})]})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-x-4 gap-y-1 text-xs",children:[u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-foreground/50",children:e("Win Rate")}),u.jsxs("span",{className:"text-green-400",children:[r.winRate.toFixed(1),"%"]})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-foreground/50",children:e("Profit Factor")}),u.jsx("span",{className:"text-green-400",children:r.profitFactor.toFixed(2)})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-foreground/50",children:e("Total Trades")}),u.jsx("span",{className:"text-foreground",children:r.totalTrades})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-foreground/50",children:"CAGR"}),u.jsxs("span",{className:"text-green-400",children:["+",r.cagr.toFixed(1),"%"]})]})]})]})}function fTe(){const{t:e}=wf(),[t,n]=O.useState({portfolioValue:0,dailyPnL:0,dailyPnLPercent:0,sharpeRatio:0,volatility:0,beta:1.25,alpha:0}),[r,a]=O.useState([]),[i,s]=O.useState(!1);O.useEffect(()=>{const e=()=>{const e=Pf(["AAPL","GOOGL","MSFT","NVDA","AMZN","META"]);if(0===e.length)return;let t=0,r=0,i=0;const o=[];e.forEach(e=>{const n=100*e.price,a=e.prevClose||e.price,s=100*(e.price-a);t+=n,r+=s,i+=1/6*e.change,o.push({symbol:e.symbol,change:e.change})}),o.length>0&&(a(o),n({portfolioValue:t,dailyPnL:r,dailyPnLPercent:i,sharpeRatio:i>0?1.5:-.5,volatility:22.5,beta:1.25,alpha:252*i-10}),s(!0))};_f()&&e();const t=setTimeout(()=>{_f()&&e()},2e3);return()=>clearTimeout(t)},[]);const o=e=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e);return u.jsxs("div",{className:"bg-[#0a0a0f] border border-green-500/40 rounded-lg p-3 font-mono",children:[u.jsxs("div",{className:"flex items-center justify-between mb-2 border-b border-green-500/20 pb-2",children:[u.jsx("span",{className:"text-green-400 font-bold text-sm",children:e("PORTFOLIO ANALYTICS")}),u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx("div",{className:"w-2 h-2 rounded-full "+(i?"bg-green-500 animate-pulse":"bg-yellow-500")}),u.jsx("span",{className:"text-[10px] text-foreground/50",children:e(i?"LIVE":"LOADING")})]})]}),u.jsxs("div",{className:"mb-2",children:[u.jsxs("div",{className:"flex justify-between items-baseline",children:[u.jsx("span",{className:"text-foreground/60 text-xs",children:e("PORTFOLIO VALUE")}),u.jsx("span",{className:"text-foreground font-bold text-sm",children:o(t.portfolioValue)})]}),u.jsxs("div",{className:"flex justify-between items-baseline mt-0.5",children:[u.jsx("span",{className:"text-foreground/60 text-xs",children:e("TODAY'S P&L")}),u.jsxs("span",{className:"font-bold text-sm "+(t.dailyPnL>=0?"text-green-400":"text-red-400"),children:[t.dailyPnL>=0?"+":"",o(t.dailyPnL)]})]})]}),u.jsxs("div",{className:"mb-2",children:[u.jsxs("div",{className:"text-foreground/50 text-[10px] mb-1",children:[e("HOLDINGS")," (",r.length,")"]}),u.jsx("div",{className:"grid grid-cols-3 gap-1 text-xs",children:r.slice(0,6).map(e=>u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-foreground/70",children:e.symbol}),u.jsxs("span",{className:e.change>=0?"text-green-400":"text-red-400",children:[e.change>=0?"+":"",e.change.toFixed(1),"%"]})]},e.symbol))})]}),u.jsxs("div",{className:"border-t border-green-500/20 pt-2",children:[u.jsx("div",{className:"text-foreground/50 text-[10px] mb-1",children:e("RISK METRICS")}),u.jsxs("div",{className:"grid grid-cols-2 gap-x-4 gap-y-0.5 text-xs",children:[u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-foreground/50",children:e("Sharpe")}),u.jsx("span",{className:t.sharpeRatio>0?"text-green-400":"text-red-400",children:t.sharpeRatio.toFixed(2)})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-foreground/50",children:e("Beta")}),u.jsx("span",{className:"text-cyan-400",children:t.beta.toFixed(2)})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-foreground/50",children:e("Volatility")}),u.jsxs("span",{className:"text-orange-400",children:[t.volatility.toFixed(1),"%"]})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-foreground/50",children:e("Alpha")}),u.jsxs("span",{className:t.alpha>0?"text-green-400":"text-red-400",children:[t.alpha>0?"+":"",t.alpha.toFixed(2),"%"]})]})]})]})]})}function mTe(){return u.jsxs("div",{className:"min-h-screen cursor-none",children:[u.jsx(em,{}),u.jsx(eTe,{}),u.jsx(bke,{}),u.jsx(vke,{}),u.jsx(fke,{}),u.jsx(Mke,{}),u.jsxs("div",{className:"relative",children:[u.jsx(Nf,{}),u.jsx(mm,{}),u.jsx(lTe,{}),u.jsx(bm,{}),u.jsx(wm,{}),u.jsx(HG,{}),u.jsx(GG,{}),u.jsx(WG,{}),u.jsx(KG,{}),u.jsx("footer",{className:"py-8 px-6 border-t border-border/30 bg-secondary/20",children:u.jsxs("div",{className:"max-w-6xl mx-auto text-center",children:[u.jsxs("p",{className:"text-sm text-muted-foreground mb-2",children:[" ",(new Date).getFullYear()," Shadaab Ahmed. Quantitative Developer & Financial Engineer."]}),u.jsx("p",{className:"text-xs text-muted-foreground/60",children:"Built with React, TypeScript & Tailwind CSS"})]})})]}),u.jsx(mSe,{}),u.jsx(yK,{})]})}function gTe(){return u.jsx(aTe,{children:u.jsx(YMe,{children:u.jsx(bt,{children:u.jsxs(Ye,{children:[u.jsx(qe,{path:"/",element:u.jsx(mTe,{})}),u.jsx(qe,{path:"/lab",element:u.jsx(iMe,{})}),u.jsx(qe,{path:"/alpha-engine",element:u.jsx(hMe,{})})]})})})})}const yTe=Dt("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-card text-card-foreground",destructive:"text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90"}},defaultVariants:{variant:"default"}});function xTe({className:e,variant:t,...n}){return u.jsx("div",{"data-slot":"alert",role:"alert",className:er(yTe({variant:t}),e),...n})}function bTe({className:e,...t}){return u.jsx("div",{"data-slot":"alert-title",className:er("col-start-2 line-clamp-1 min-h-4 font-medium tracking-tight",e),...t})}function vTe({className:e,...t}){return u.jsx("div",{"data-slot":"alert-description",className:er("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",e),...t})}const wTe="_hardRefreshPending",kTe="_sessionId";function STe(){const e=sessionStorage.getItem(kTe);if(!e){const e=`${Date.now()}-${Math.random().toString(36).substr(2,9)}`;return sessionStorage.setItem(kTe,e),console.log(" New browser session detected - ID:",e),!0}return console.log(" Existing browser session - ID:",e),!1}function NTe(){console.log(" Clearing ALL caches for fresh start..."),sessionStorage.removeItem("vpnBypassGranted"),sessionStorage.removeItem("globalGatewayBypassed"),localStorage.removeItem("geoLocationCache"),sessionStorage.removeItem("geoLocationSession"),localStorage.removeItem("portfolioLanguage"),localStorage.removeItem("portfolioLanguageUserSelected"),localStorage.removeItem("portfolioLastCountry"),localStorage.removeItem("userPreferredLanguage"),sessionStorage.removeItem("languageNotificationShown"),console.log(" All caches cleared - starting fresh!")}let ETe=!1;document.addEventListener("keydown",e=>{"Shift"===e.key&&(ETe=!0),(e.metaKey||e.ctrlKey)&&e.shiftKey&&"r"===e.key.toLowerCase()&&(console.log(" Hard refresh shortcut detected - setting flag"),localStorage.setItem(wTe,"true"))}),document.addEventListener("keyup",e=>{"Shift"===e.key&&(ETe=!1)}),window.addEventListener("beforeunload",()=>{ETe&&localStorage.setItem(wTe,"true")}),"true"===localStorage.getItem(wTe)?(console.log(" Hard refresh detected"),localStorage.removeItem(wTe),NTe()):STe()?(console.log(" New browser session - clearing caches"),NTe()):console.log(" Normal refresh - keeping caches for fast experience"),I.createRoot(document.getElementById("root")).render(u.jsx(O.StrictMode,{children:u.jsx($,{FallbackComponent:({error:e,resetErrorBoundary:t})=>u.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:u.jsxs("div",{className:"w-full max-w-md",children:[u.jsxs(xTe,{variant:"destructive",className:"mb-6",children:[u.jsx(KMe,{}),u.jsx(bTe,{children:"Something went wrong"}),u.jsx(vTe,{children:"An unexpected error occurred. Please try refreshing the page."})]}),u.jsxs("div",{className:"bg-card border rounded-lg p-4 mb-6",children:[u.jsx("h3",{className:"font-semibold text-sm text-muted-foreground mb-2",children:"Error Details:"}),u.jsx("pre",{className:"text-xs text-destructive bg-muted/50 p-3 rounded border overflow-auto max-h-32",children:e.message})]}),u.jsxs(nr,{onClick:t,className:"w-full",variant:"outline",children:[u.jsx(WMe,{}),"Try Again"]})]})}),children:u.jsx(gTe,{})})}));
